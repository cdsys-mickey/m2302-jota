var m4e=Object.defineProperty;var nne=e=>{throw TypeError(e)};var f4e=(e,t,n)=>t in e?m4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var fr=(e,t,n)=>f4e(e,typeof t!="symbol"?t+"":t,n),h4e=(e,t,n)=>t.has(e)||nne("Cannot "+n);var rne=(e,t,n)=>(h4e(e,t,"read from private field"),n?n.call(e):t.get(e)),one=(e,t,n)=>t.has(e)?nne("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n);function g4e(e,t){for(var n=0;n<t.length;n++){const o=t[n];if(typeof o!="string"&&!Array.isArray(o)){for(const s in o)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(o,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>o[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var BE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ei(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function o(){return this instanceof o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var s=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(n,o,s.get?s:{enumerable:!0,get:function(){return e[o]}})}),n}var qM={exports:{}},m0={},VM={exports:{}},So={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sne;function b4e(){if(sne)return So;sne=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),f=Symbol.iterator;function h(se){return se===null||typeof se!="object"?null:(se=f&&se[f]||se["@@iterator"],typeof se=="function"?se:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,y={};function D(se,he,pe){this.props=se,this.context=he,this.refs=y,this.updater=pe||g}D.prototype.isReactComponent={},D.prototype.setState=function(se,he){if(typeof se!="object"&&typeof se!="function"&&se!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,se,he,"setState")},D.prototype.forceUpdate=function(se){this.updater.enqueueForceUpdate(this,se,"forceUpdate")};function v(){}v.prototype=D.prototype;function T(se,he,pe){this.props=se,this.context=he,this.refs=y,this.updater=pe||g}var I=T.prototype=new v;I.constructor=T,x(I,D.prototype),I.isPureReactComponent=!0;var P=Array.isArray,E=Object.prototype.hasOwnProperty,k={current:null},w={key:!0,ref:!0,__self:!0,__source:!0};function A(se,he,pe){var ue,ge={},Ce=null,Te=null;if(he!=null)for(ue in he.ref!==void 0&&(Te=he.ref),he.key!==void 0&&(Ce=""+he.key),he)E.call(he,ue)&&!w.hasOwnProperty(ue)&&(ge[ue]=he[ue]);var Ne=arguments.length-2;if(Ne===1)ge.children=pe;else if(1<Ne){for(var xe=Array(Ne),me=0;me<Ne;me++)xe[me]=arguments[me+2];ge.children=xe}if(se&&se.defaultProps)for(ue in Ne=se.defaultProps,Ne)ge[ue]===void 0&&(ge[ue]=Ne[ue]);return{$$typeof:e,type:se,key:Ce,ref:Te,props:ge,_owner:k.current}}function F(se,he){return{$$typeof:e,type:se.type,key:he,ref:se.ref,props:se.props,_owner:se._owner}}function _(se){return typeof se=="object"&&se!==null&&se.$$typeof===e}function L(se){var he={"=":"=0",":":"=2"};return"$"+se.replace(/[=:]/g,function(pe){return he[pe]})}var K=/\/+/g;function z(se,he){return typeof se=="object"&&se!==null&&se.key!=null?L(""+se.key):he.toString(36)}function J(se,he,pe,ue,ge){var Ce=typeof se;(Ce==="undefined"||Ce==="boolean")&&(se=null);var Te=!1;if(se===null)Te=!0;else switch(Ce){case"string":case"number":Te=!0;break;case"object":switch(se.$$typeof){case e:case t:Te=!0}}if(Te)return Te=se,ge=ge(Te),se=ue===""?"."+z(Te,0):ue,P(ge)?(pe="",se!=null&&(pe=se.replace(K,"$&/")+"/"),J(ge,he,pe,"",function(me){return me})):ge!=null&&(_(ge)&&(ge=F(ge,pe+(!ge.key||Te&&Te.key===ge.key?"":(""+ge.key).replace(K,"$&/")+"/")+se)),he.push(ge)),1;if(Te=0,ue=ue===""?".":ue+":",P(se))for(var Ne=0;Ne<se.length;Ne++){Ce=se[Ne];var xe=ue+z(Ce,Ne);Te+=J(Ce,he,pe,xe,ge)}else if(xe=h(se),typeof xe=="function")for(se=xe.call(se),Ne=0;!(Ce=se.next()).done;)Ce=Ce.value,xe=ue+z(Ce,Ne++),Te+=J(Ce,he,pe,xe,ge);else if(Ce==="object")throw he=String(se),Error("Objects are not valid as a React child (found: "+(he==="[object Object]"?"object with keys {"+Object.keys(se).join(", ")+"}":he)+"). If you meant to render a collection of children, use an array instead.");return Te}function Q(se,he,pe){if(se==null)return se;var ue=[],ge=0;return J(se,ue,"","",function(Ce){return he.call(pe,Ce,ge++)}),ue}function V(se){if(se._status===-1){var he=se._result;he=he(),he.then(function(pe){(se._status===0||se._status===-1)&&(se._status=1,se._result=pe)},function(pe){(se._status===0||se._status===-1)&&(se._status=2,se._result=pe)}),se._status===-1&&(se._status=0,se._result=he)}if(se._status===1)return se._result.default;throw se._result}var W={current:null},U={transition:null},X={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:U,ReactCurrentOwner:k};function te(){throw Error("act(...) is not supported in production builds of React.")}return So.Children={map:Q,forEach:function(se,he,pe){Q(se,function(){he.apply(this,arguments)},pe)},count:function(se){var he=0;return Q(se,function(){he++}),he},toArray:function(se){return Q(se,function(he){return he})||[]},only:function(se){if(!_(se))throw Error("React.Children.only expected to receive a single React element child.");return se}},So.Component=D,So.Fragment=n,So.Profiler=s,So.PureComponent=T,So.StrictMode=o,So.Suspense=d,So.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,So.act=te,So.cloneElement=function(se,he,pe){if(se==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+se+".");var ue=x({},se.props),ge=se.key,Ce=se.ref,Te=se._owner;if(he!=null){if(he.ref!==void 0&&(Ce=he.ref,Te=k.current),he.key!==void 0&&(ge=""+he.key),se.type&&se.type.defaultProps)var Ne=se.type.defaultProps;for(xe in he)E.call(he,xe)&&!w.hasOwnProperty(xe)&&(ue[xe]=he[xe]===void 0&&Ne!==void 0?Ne[xe]:he[xe])}var xe=arguments.length-2;if(xe===1)ue.children=pe;else if(1<xe){Ne=Array(xe);for(var me=0;me<xe;me++)Ne[me]=arguments[me+2];ue.children=Ne}return{$$typeof:e,type:se.type,key:ge,ref:Ce,props:ue,_owner:Te}},So.createContext=function(se){return se={$$typeof:c,_currentValue:se,_currentValue2:se,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},se.Provider={$$typeof:i,_context:se},se.Consumer=se},So.createElement=A,So.createFactory=function(se){var he=A.bind(null,se);return he.type=se,he},So.createRef=function(){return{current:null}},So.forwardRef=function(se){return{$$typeof:u,render:se}},So.isValidElement=_,So.lazy=function(se){return{$$typeof:m,_payload:{_status:-1,_result:se},_init:V}},So.memo=function(se,he){return{$$typeof:p,type:se,compare:he===void 0?null:he}},So.startTransition=function(se){var he=U.transition;U.transition={};try{se()}finally{U.transition=he}},So.unstable_act=te,So.useCallback=function(se,he){return W.current.useCallback(se,he)},So.useContext=function(se){return W.current.useContext(se)},So.useDebugValue=function(){},So.useDeferredValue=function(se){return W.current.useDeferredValue(se)},So.useEffect=function(se,he){return W.current.useEffect(se,he)},So.useId=function(){return W.current.useId()},So.useImperativeHandle=function(se,he,pe){return W.current.useImperativeHandle(se,he,pe)},So.useInsertionEffect=function(se,he){return W.current.useInsertionEffect(se,he)},So.useLayoutEffect=function(se,he){return W.current.useLayoutEffect(se,he)},So.useMemo=function(se,he){return W.current.useMemo(se,he)},So.useReducer=function(se,he,pe){return W.current.useReducer(se,he,pe)},So.useRef=function(se){return W.current.useRef(se)},So.useState=function(se){return W.current.useState(se)},So.useSyncExternalStore=function(se,he,pe){return W.current.useSyncExternalStore(se,he,pe)},So.useTransition=function(){return W.current.useTransition()},So.version="18.3.1",So}var ane;function is(){return ane||(ane=1,VM.exports=b4e()),VM.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ine;function x4e(){if(ine)return m0;ine=1;var e=is(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(u,d,p){var m,f={},h=null,g=null;p!==void 0&&(h=""+p),d.key!==void 0&&(h=""+d.key),d.ref!==void 0&&(g=d.ref);for(m in d)o.call(d,m)&&!i.hasOwnProperty(m)&&(f[m]=d[m]);if(u&&u.defaultProps)for(m in d=u.defaultProps,d)f[m]===void 0&&(f[m]=d[m]);return{$$typeof:t,type:u,key:h,ref:g,props:f,_owner:s.current}}return m0.Fragment=n,m0.jsx=c,m0.jsxs=c,m0}var lne;function rr(){return lne||(lne=1,qM.exports=x4e()),qM.exports}var r=rr(),WE={},zM={exports:{}},Kl={},HM={exports:{}},GM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cne;function y4e(){return cne||(cne=1,(function(e){function t(U,X){var te=U.length;U.push(X);e:for(;0<te;){var se=te-1>>>1,he=U[se];if(0<s(he,X))U[se]=X,U[te]=he,te=se;else break e}}function n(U){return U.length===0?null:U[0]}function o(U){if(U.length===0)return null;var X=U[0],te=U.pop();if(te!==X){U[0]=te;e:for(var se=0,he=U.length,pe=he>>>1;se<pe;){var ue=2*(se+1)-1,ge=U[ue],Ce=ue+1,Te=U[Ce];if(0>s(ge,te))Ce<he&&0>s(Te,ge)?(U[se]=Te,U[Ce]=te,se=Ce):(U[se]=ge,U[ue]=te,se=ue);else if(Ce<he&&0>s(Te,te))U[se]=Te,U[Ce]=te,se=Ce;else break e}}return X}function s(U,X){var te=U.sortIndex-X.sortIndex;return te!==0?te:U.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var d=[],p=[],m=1,f=null,h=3,g=!1,x=!1,y=!1,D=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(U){for(var X=n(p);X!==null;){if(X.callback===null)o(p);else if(X.startTime<=U)o(p),X.sortIndex=X.expirationTime,t(d,X);else break;X=n(p)}}function P(U){if(y=!1,I(U),!x)if(n(d)!==null)x=!0,V(E);else{var X=n(p);X!==null&&W(P,X.startTime-U)}}function E(U,X){x=!1,y&&(y=!1,v(A),A=-1),g=!0;var te=h;try{for(I(X),f=n(d);f!==null&&(!(f.expirationTime>X)||U&&!L());){var se=f.callback;if(typeof se=="function"){f.callback=null,h=f.priorityLevel;var he=se(f.expirationTime<=X);X=e.unstable_now(),typeof he=="function"?f.callback=he:f===n(d)&&o(d),I(X)}else o(d);f=n(d)}if(f!==null)var pe=!0;else{var ue=n(p);ue!==null&&W(P,ue.startTime-X),pe=!1}return pe}finally{f=null,h=te,g=!1}}var k=!1,w=null,A=-1,F=5,_=-1;function L(){return!(e.unstable_now()-_<F)}function K(){if(w!==null){var U=e.unstable_now();_=U;var X=!0;try{X=w(!0,U)}finally{X?z():(k=!1,w=null)}}else k=!1}var z;if(typeof T=="function")z=function(){T(K)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,Q=J.port2;J.port1.onmessage=K,z=function(){Q.postMessage(null)}}else z=function(){D(K,0)};function V(U){w=U,k||(k=!0,z())}function W(U,X){A=D(function(){U(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){x||g||(x=!0,V(E))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(U){switch(h){case 1:case 2:case 3:var X=3;break;default:X=h}var te=h;h=X;try{return U()}finally{h=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,X){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var te=h;h=U;try{return X()}finally{h=te}},e.unstable_scheduleCallback=function(U,X,te){var se=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?se+te:se):te=se,U){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=te+he,U={id:m++,callback:X,priorityLevel:U,startTime:te,expirationTime:he,sortIndex:-1},te>se?(U.sortIndex=te,t(p,U),n(d)===null&&U===n(p)&&(y?(v(A),A=-1):y=!0,W(P,te-se))):(U.sortIndex=he,t(d,U),x||g||(x=!0,V(E))),U},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(U){var X=h;return function(){var te=h;h=X;try{return U.apply(this,arguments)}finally{h=te}}}})(GM)),GM}var une;function C4e(){return une||(une=1,HM.exports=y4e()),HM.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dne;function D4e(){if(dne)return Kl;dne=1;var e=is(),t=C4e();function n(b){for(var C="https://reactjs.org/docs/error-decoder.html?invariant="+b,R=1;R<arguments.length;R++)C+="&args[]="+encodeURIComponent(arguments[R]);return"Minified React error #"+b+"; visit "+C+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function i(b,C){c(b,C),c(b+"Capture",C)}function c(b,C){for(s[b]=C,b=0;b<C.length;b++)o.add(C[b])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},f={};function h(b){return d.call(f,b)?!0:d.call(m,b)?!1:p.test(b)?f[b]=!0:(m[b]=!0,!1)}function g(b,C,R,N){if(R!==null&&R.type===0)return!1;switch(typeof C){case"function":case"symbol":return!0;case"boolean":return N?!1:R!==null?!R.acceptsBooleans:(b=b.toLowerCase().slice(0,5),b!=="data-"&&b!=="aria-");default:return!1}}function x(b,C,R,N){if(C===null||typeof C>"u"||g(b,C,R,N))return!0;if(N)return!1;if(R!==null)switch(R.type){case 3:return!C;case 4:return C===!1;case 5:return isNaN(C);case 6:return isNaN(C)||1>C}return!1}function y(b,C,R,N,G,ne,Oe){this.acceptsBooleans=C===2||C===3||C===4,this.attributeName=N,this.attributeNamespace=G,this.mustUseProperty=R,this.propertyName=b,this.type=C,this.sanitizeURL=ne,this.removeEmptyString=Oe}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(b){D[b]=new y(b,0,!1,b,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(b){var C=b[0];D[C]=new y(C,1,!1,b[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(b){D[b]=new y(b,2,!1,b.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(b){D[b]=new y(b,2,!1,b,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(b){D[b]=new y(b,3,!1,b.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(b){D[b]=new y(b,3,!0,b,null,!1,!1)}),["capture","download"].forEach(function(b){D[b]=new y(b,4,!1,b,null,!1,!1)}),["cols","rows","size","span"].forEach(function(b){D[b]=new y(b,6,!1,b,null,!1,!1)}),["rowSpan","start"].forEach(function(b){D[b]=new y(b,5,!1,b.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function T(b){return b[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(b){var C=b.replace(v,T);D[C]=new y(C,1,!1,b,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(b){var C=b.replace(v,T);D[C]=new y(C,1,!1,b,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(b){var C=b.replace(v,T);D[C]=new y(C,1,!1,b,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(b){D[b]=new y(b,1,!1,b.toLowerCase(),null,!1,!1)}),D.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(b){D[b]=new y(b,1,!1,b.toLowerCase(),null,!0,!0)});function I(b,C,R,N){var G=D.hasOwnProperty(C)?D[C]:null;(G!==null?G.type!==0:N||!(2<C.length)||C[0]!=="o"&&C[0]!=="O"||C[1]!=="n"&&C[1]!=="N")&&(x(C,R,G,N)&&(R=null),N||G===null?h(C)&&(R===null?b.removeAttribute(C):b.setAttribute(C,""+R)):G.mustUseProperty?b[G.propertyName]=R===null?G.type===3?!1:"":R:(C=G.attributeName,N=G.attributeNamespace,R===null?b.removeAttribute(C):(G=G.type,R=G===3||G===4&&R===!0?"":""+R,N?b.setAttributeNS(N,C,R):b.setAttribute(C,R))))}var P=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),k=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),L=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),U=Symbol.iterator;function X(b){return b===null||typeof b!="object"?null:(b=U&&b[U]||b["@@iterator"],typeof b=="function"?b:null)}var te=Object.assign,se;function he(b){if(se===void 0)try{throw Error()}catch(R){var C=R.stack.trim().match(/\n( *(at )?)/);se=C&&C[1]||""}return`
`+se+b}var pe=!1;function ue(b,C){if(!b||pe)return"";pe=!0;var R=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(C)if(C=function(){throw Error()},Object.defineProperty(C.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(C,[])}catch(Ht){var N=Ht}Reflect.construct(b,[],C)}else{try{C.call()}catch(Ht){N=Ht}b.call(C.prototype)}else{try{throw Error()}catch(Ht){N=Ht}b()}}catch(Ht){if(Ht&&N&&typeof Ht.stack=="string"){for(var G=Ht.stack.split(`
`),ne=N.stack.split(`
`),Oe=G.length-1,nt=ne.length-1;1<=Oe&&0<=nt&&G[Oe]!==ne[nt];)nt--;for(;1<=Oe&&0<=nt;Oe--,nt--)if(G[Oe]!==ne[nt]){if(Oe!==1||nt!==1)do if(Oe--,nt--,0>nt||G[Oe]!==ne[nt]){var ut=`
`+G[Oe].replace(" at new "," at ");return b.displayName&&ut.includes("<anonymous>")&&(ut=ut.replace("<anonymous>",b.displayName)),ut}while(1<=Oe&&0<=nt);break}}}finally{pe=!1,Error.prepareStackTrace=R}return(b=b?b.displayName||b.name:"")?he(b):""}function ge(b){switch(b.tag){case 5:return he(b.type);case 16:return he("Lazy");case 13:return he("Suspense");case 19:return he("SuspenseList");case 0:case 2:case 15:return b=ue(b.type,!1),b;case 11:return b=ue(b.type.render,!1),b;case 1:return b=ue(b.type,!0),b;default:return""}}function Ce(b){if(b==null)return null;if(typeof b=="function")return b.displayName||b.name||null;if(typeof b=="string")return b;switch(b){case w:return"Fragment";case k:return"Portal";case F:return"Profiler";case A:return"StrictMode";case z:return"Suspense";case J:return"SuspenseList"}if(typeof b=="object")switch(b.$$typeof){case L:return(b.displayName||"Context")+".Consumer";case _:return(b._context.displayName||"Context")+".Provider";case K:var C=b.render;return b=b.displayName,b||(b=C.displayName||C.name||"",b=b!==""?"ForwardRef("+b+")":"ForwardRef"),b;case Q:return C=b.displayName||null,C!==null?C:Ce(b.type)||"Memo";case V:C=b._payload,b=b._init;try{return Ce(b(C))}catch{}}return null}function Te(b){var C=b.type;switch(b.tag){case 24:return"Cache";case 9:return(C.displayName||"Context")+".Consumer";case 10:return(C._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return b=C.render,b=b.displayName||b.name||"",C.displayName||(b!==""?"ForwardRef("+b+")":"ForwardRef");case 7:return"Fragment";case 5:return C;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(C);case 8:return C===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof C=="function")return C.displayName||C.name||null;if(typeof C=="string")return C}return null}function Ne(b){switch(typeof b){case"boolean":case"number":case"string":case"undefined":return b;case"object":return b;default:return""}}function xe(b){var C=b.type;return(b=b.nodeName)&&b.toLowerCase()==="input"&&(C==="checkbox"||C==="radio")}function me(b){var C=xe(b)?"checked":"value",R=Object.getOwnPropertyDescriptor(b.constructor.prototype,C),N=""+b[C];if(!b.hasOwnProperty(C)&&typeof R<"u"&&typeof R.get=="function"&&typeof R.set=="function"){var G=R.get,ne=R.set;return Object.defineProperty(b,C,{configurable:!0,get:function(){return G.call(this)},set:function(Oe){N=""+Oe,ne.call(this,Oe)}}),Object.defineProperty(b,C,{enumerable:R.enumerable}),{getValue:function(){return N},setValue:function(Oe){N=""+Oe},stopTracking:function(){b._valueTracker=null,delete b[C]}}}}function de(b){b._valueTracker||(b._valueTracker=me(b))}function ce(b){if(!b)return!1;var C=b._valueTracker;if(!C)return!0;var R=C.getValue(),N="";return b&&(N=xe(b)?b.checked?"true":"false":b.value),b=N,b!==R?(C.setValue(b),!0):!1}function ee(b){if(b=b||(typeof document<"u"?document:void 0),typeof b>"u")return null;try{return b.activeElement||b.body}catch{return b.body}}function De(b,C){var R=C.checked;return te({},C,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:R??b._wrapperState.initialChecked})}function ke(b,C){var R=C.defaultValue==null?"":C.defaultValue,N=C.checked!=null?C.checked:C.defaultChecked;R=Ne(C.value!=null?C.value:R),b._wrapperState={initialChecked:N,initialValue:R,controlled:C.type==="checkbox"||C.type==="radio"?C.checked!=null:C.value!=null}}function He(b,C){C=C.checked,C!=null&&I(b,"checked",C,!1)}function qe(b,C){He(b,C);var R=Ne(C.value),N=C.type;if(R!=null)N==="number"?(R===0&&b.value===""||b.value!=R)&&(b.value=""+R):b.value!==""+R&&(b.value=""+R);else if(N==="submit"||N==="reset"){b.removeAttribute("value");return}C.hasOwnProperty("value")?_e(b,C.type,R):C.hasOwnProperty("defaultValue")&&_e(b,C.type,Ne(C.defaultValue)),C.checked==null&&C.defaultChecked!=null&&(b.defaultChecked=!!C.defaultChecked)}function Le(b,C,R){if(C.hasOwnProperty("value")||C.hasOwnProperty("defaultValue")){var N=C.type;if(!(N!=="submit"&&N!=="reset"||C.value!==void 0&&C.value!==null))return;C=""+b._wrapperState.initialValue,R||C===b.value||(b.value=C),b.defaultValue=C}R=b.name,R!==""&&(b.name=""),b.defaultChecked=!!b._wrapperState.initialChecked,R!==""&&(b.name=R)}function _e(b,C,R){(C!=="number"||ee(b.ownerDocument)!==b)&&(R==null?b.defaultValue=""+b._wrapperState.initialValue:b.defaultValue!==""+R&&(b.defaultValue=""+R))}var H=Array.isArray;function re(b,C,R,N){if(b=b.options,C){C={};for(var G=0;G<R.length;G++)C["$"+R[G]]=!0;for(R=0;R<b.length;R++)G=C.hasOwnProperty("$"+b[R].value),b[R].selected!==G&&(b[R].selected=G),G&&N&&(b[R].defaultSelected=!0)}else{for(R=""+Ne(R),C=null,G=0;G<b.length;G++){if(b[G].value===R){b[G].selected=!0,N&&(b[G].defaultSelected=!0);return}C!==null||b[G].disabled||(C=b[G])}C!==null&&(C.selected=!0)}}function q(b,C){if(C.dangerouslySetInnerHTML!=null)throw Error(n(91));return te({},C,{value:void 0,defaultValue:void 0,children:""+b._wrapperState.initialValue})}function Y(b,C){var R=C.value;if(R==null){if(R=C.children,C=C.defaultValue,R!=null){if(C!=null)throw Error(n(92));if(H(R)){if(1<R.length)throw Error(n(93));R=R[0]}C=R}C==null&&(C=""),R=C}b._wrapperState={initialValue:Ne(R)}}function ie(b,C){var R=Ne(C.value),N=Ne(C.defaultValue);R!=null&&(R=""+R,R!==b.value&&(b.value=R),C.defaultValue==null&&b.defaultValue!==R&&(b.defaultValue=R)),N!=null&&(b.defaultValue=""+N)}function B(b){var C=b.textContent;C===b._wrapperState.initialValue&&C!==""&&C!==null&&(b.value=C)}function Z(b){switch(b){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ye(b,C){return b==null||b==="http://www.w3.org/1999/xhtml"?Z(C):b==="http://www.w3.org/2000/svg"&&C==="foreignObject"?"http://www.w3.org/1999/xhtml":b}var Ie,le=(function(b){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(C,R,N,G){MSApp.execUnsafeLocalFunction(function(){return b(C,R,N,G)})}:b})(function(b,C){if(b.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in b)b.innerHTML=C;else{for(Ie=Ie||document.createElement("div"),Ie.innerHTML="<svg>"+C.valueOf().toString()+"</svg>",C=Ie.firstChild;b.firstChild;)b.removeChild(b.firstChild);for(;C.firstChild;)b.appendChild(C.firstChild)}});function fe(b,C){if(C){var R=b.firstChild;if(R&&R===b.lastChild&&R.nodeType===3){R.nodeValue=C;return}}b.textContent=C}var Ae={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Se=["Webkit","ms","Moz","O"];Object.keys(Ae).forEach(function(b){Se.forEach(function(C){C=C+b.charAt(0).toUpperCase()+b.substring(1),Ae[C]=Ae[b]})});function be(b,C,R){return C==null||typeof C=="boolean"||C===""?"":R||typeof C!="number"||C===0||Ae.hasOwnProperty(b)&&Ae[b]?(""+C).trim():C+"px"}function Me(b,C){b=b.style;for(var R in C)if(C.hasOwnProperty(R)){var N=R.indexOf("--")===0,G=be(R,C[R],N);R==="float"&&(R="cssFloat"),N?b.setProperty(R,G):b[R]=G}}var we=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ge(b,C){if(C){if(we[b]&&(C.children!=null||C.dangerouslySetInnerHTML!=null))throw Error(n(137,b));if(C.dangerouslySetInnerHTML!=null){if(C.children!=null)throw Error(n(60));if(typeof C.dangerouslySetInnerHTML!="object"||!("__html"in C.dangerouslySetInnerHTML))throw Error(n(61))}if(C.style!=null&&typeof C.style!="object")throw Error(n(62))}}function We(b,C){if(b.indexOf("-")===-1)return typeof C.is=="string";switch(b){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ee=null;function Xe(b){return b=b.target||b.srcElement||window,b.correspondingUseElement&&(b=b.correspondingUseElement),b.nodeType===3?b.parentNode:b}var ot=null,ze=null,tt=null;function ft(b){if(b=fi(b)){if(typeof ot!="function")throw Error(n(280));var C=b.stateNode;C&&(C=jx(C),ot(b.stateNode,b.type,C))}}function ht(b){ze?tt?tt.push(b):tt=[b]:ze=b}function en(){if(ze){var b=ze,C=tt;if(tt=ze=null,ft(b),C)for(b=0;b<C.length;b++)ft(C[b])}}function un(b,C){return b(C)}function Je(){}var qt=!1;function Tt(b,C,R){if(qt)return b(C,R);qt=!0;try{return un(b,C,R)}finally{qt=!1,(ze!==null||tt!==null)&&(Je(),en())}}function Jt(b,C){var R=b.stateNode;if(R===null)return null;var N=jx(R);if(N===null)return null;R=N[C];e:switch(C){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(N=!N.disabled)||(b=b.type,N=!(b==="button"||b==="input"||b==="select"||b==="textarea")),b=!N;break e;default:b=!1}if(b)return null;if(R&&typeof R!="function")throw Error(n(231,C,typeof R));return R}var st=!1;if(u)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){st=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch{st=!1}function Gt(b,C,R,N,G,ne,Oe,nt,ut){var Ht=Array.prototype.slice.call(arguments,3);try{C.apply(R,Ht)}catch(On){this.onError(On)}}var An=!1,_n=null,pt=!1,Rt=null,Ze={onError:function(b){An=!0,_n=b}};function dn(b,C,R,N,G,ne,Oe,nt,ut){An=!1,_n=null,Gt.apply(Ze,arguments)}function Yt(b,C,R,N,G,ne,Oe,nt,ut){if(dn.apply(this,arguments),An){if(An){var Ht=_n;An=!1,_n=null}else throw Error(n(198));pt||(pt=!0,Rt=Ht)}}function lt(b){var C=b,R=b;if(b.alternate)for(;C.return;)C=C.return;else{b=C;do C=b,(C.flags&4098)!==0&&(R=C.return),b=C.return;while(b)}return C.tag===3?R:null}function Qe(b){if(b.tag===13){var C=b.memoizedState;if(C===null&&(b=b.alternate,b!==null&&(C=b.memoizedState)),C!==null)return C.dehydrated}return null}function rn(b){if(lt(b)!==b)throw Error(n(188))}function Cn(b){var C=b.alternate;if(!C){if(C=lt(b),C===null)throw Error(n(188));return C!==b?null:b}for(var R=b,N=C;;){var G=R.return;if(G===null)break;var ne=G.alternate;if(ne===null){if(N=G.return,N!==null){R=N;continue}break}if(G.child===ne.child){for(ne=G.child;ne;){if(ne===R)return rn(G),b;if(ne===N)return rn(G),C;ne=ne.sibling}throw Error(n(188))}if(R.return!==N.return)R=G,N=ne;else{for(var Oe=!1,nt=G.child;nt;){if(nt===R){Oe=!0,R=G,N=ne;break}if(nt===N){Oe=!0,N=G,R=ne;break}nt=nt.sibling}if(!Oe){for(nt=ne.child;nt;){if(nt===R){Oe=!0,R=ne,N=G;break}if(nt===N){Oe=!0,N=ne,R=G;break}nt=nt.sibling}if(!Oe)throw Error(n(189))}}if(R.alternate!==N)throw Error(n(190))}if(R.tag!==3)throw Error(n(188));return R.stateNode.current===R?b:C}function gr(b){return b=Cn(b),b!==null?sn(b):null}function sn(b){if(b.tag===5||b.tag===6)return b;for(b=b.child;b!==null;){var C=sn(b);if(C!==null)return C;b=b.sibling}return null}var Sr=t.unstable_scheduleCallback,ts=t.unstable_cancelCallback,ds=t.unstable_shouldYield,ra=t.unstable_requestPaint,ro=t.unstable_now,hc=t.unstable_getCurrentPriorityLevel,ci=t.unstable_ImmediatePriority,Pf=t.unstable_UserBlockingPriority,wi=t.unstable_NormalPriority,Du=t.unstable_LowPriority,wl=t.unstable_IdlePriority,ul=null,ui=null;function Su(b){if(ui&&typeof ui.onCommitFiberRoot=="function")try{ui.onCommitFiberRoot(ul,b,void 0,(b.current.flags&128)===128)}catch{}}var di=Math.clz32?Math.clz32:dm,Rf=Math.log,wf=Math.LN2;function dm(b){return b>>>=0,b===0?32:31-(Rf(b)/wf|0)|0}var gc=64,dd=4194304;function kl(b){switch(b&-b){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return b&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return b}}function bc(b,C){var R=b.pendingLanes;if(R===0)return 0;var N=0,G=b.suspendedLanes,ne=b.pingedLanes,Oe=R&268435455;if(Oe!==0){var nt=Oe&~G;nt!==0?N=kl(nt):(ne&=Oe,ne!==0&&(N=kl(ne)))}else Oe=R&~G,Oe!==0?N=kl(Oe):ne!==0&&(N=kl(ne));if(N===0)return 0;if(C!==0&&C!==N&&(C&G)===0&&(G=N&-N,ne=C&-C,G>=ne||G===16&&(ne&4194240)!==0))return C;if((N&4)!==0&&(N|=R&16),C=b.entangledLanes,C!==0)for(b=b.entanglements,C&=N;0<C;)R=31-di(C),G=1<<R,N|=b[R],C&=~G;return N}function Hi(b,C){switch(b){case 1:case 2:case 4:return C+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return C+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xt(b,C){for(var R=b.suspendedLanes,N=b.pingedLanes,G=b.expirationTimes,ne=b.pendingLanes;0<ne;){var Oe=31-di(ne),nt=1<<Oe,ut=G[Oe];ut===-1?((nt&R)===0||(nt&N)!==0)&&(G[Oe]=Hi(nt,C)):ut<=C&&(b.expiredLanes|=nt),ne&=~nt}}function Fn(b){return b=b.pendingLanes&-1073741825,b!==0?b:b&1073741824?1073741824:0}function Wn(){var b=gc;return gc<<=1,(gc&4194240)===0&&(gc=64),b}function vn(b){for(var C=[],R=0;31>R;R++)C.push(b);return C}function kr(b,C,R){b.pendingLanes|=C,C!==536870912&&(b.suspendedLanes=0,b.pingedLanes=0),b=b.eventTimes,C=31-di(C),b[C]=R}function Zt(b,C){var R=b.pendingLanes&~C;b.pendingLanes=C,b.suspendedLanes=0,b.pingedLanes=0,b.expiredLanes&=C,b.mutableReadLanes&=C,b.entangledLanes&=C,C=b.entanglements;var N=b.eventTimes;for(b=b.expirationTimes;0<R;){var G=31-di(R),ne=1<<G;C[G]=0,N[G]=-1,b[G]=-1,R&=~ne}}function on(b,C){var R=b.entangledLanes|=C;for(b=b.entanglements;R;){var N=31-di(R),G=1<<N;G&C|b[N]&C&&(b[N]|=C),R&=~G}}var an=0;function vr(b){return b&=-b,1<b?4<b?(b&268435455)!==0?16:536870912:4:1}var mr,Jr,Ro,Ka,Fa,Ma=!1,oa=[],zs=null,Hs=null,vu=null,kf=new Map,rg=new Map,ap=[],GF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function IO(b,C){switch(b){case"focusin":case"focusout":zs=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":vu=null;break;case"pointerover":case"pointerout":kf.delete(C.pointerId);break;case"gotpointercapture":case"lostpointercapture":rg.delete(C.pointerId)}}function pm(b,C,R,N,G,ne){return b===null||b.nativeEvent!==ne?(b={blockedOn:C,domEventName:R,eventSystemFlags:N,nativeEvent:ne,targetContainers:[G]},C!==null&&(C=fi(C),C!==null&&Jr(C)),b):(b.eventSystemFlags|=N,C=b.targetContainers,G!==null&&C.indexOf(G)===-1&&C.push(G),b)}function KF(b,C,R,N,G){switch(C){case"focusin":return zs=pm(zs,b,C,R,N,G),!0;case"dragenter":return Hs=pm(Hs,b,C,R,N,G),!0;case"mouseover":return vu=pm(vu,b,C,R,N,G),!0;case"pointerover":var ne=G.pointerId;return kf.set(ne,pm(kf.get(ne)||null,b,C,R,N,G)),!0;case"gotpointercapture":return ne=G.pointerId,rg.set(ne,pm(rg.get(ne)||null,b,C,R,N,G)),!0}return!1}function TO(b){var C=Ou(b.target);if(C!==null){var R=lt(C);if(R!==null){if(C=R.tag,C===13){if(C=Qe(R),C!==null){b.blockedOn=C,Fa(b.priority,function(){Ro(R)});return}}else if(C===3&&R.stateNode.current.memoizedState.isDehydrated){b.blockedOn=R.tag===3?R.stateNode.containerInfo:null;return}}}b.blockedOn=null}function nx(b){if(b.blockedOn!==null)return!1;for(var C=b.targetContainers;0<C.length;){var R=sx(b.domEventName,b.eventSystemFlags,C[0],b.nativeEvent);if(R===null){R=b.nativeEvent;var N=new R.constructor(R.type,R);Ee=N,R.target.dispatchEvent(N),Ee=null}else return C=fi(R),C!==null&&Jr(C),b.blockedOn=R,!1;C.shift()}return!0}function OO(b,C,R){nx(b)&&R.delete(C)}function QF(){Ma=!1,zs!==null&&nx(zs)&&(zs=null),Hs!==null&&nx(Hs)&&(Hs=null),vu!==null&&nx(vu)&&(vu=null),kf.forEach(OO),rg.forEach(OO)}function Qo(b,C){b.blockedOn===C&&(b.blockedOn=null,Ma||(Ma=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,QF)))}function zo(b){function C(G){return Qo(G,b)}if(0<oa.length){Qo(oa[0],b);for(var R=1;R<oa.length;R++){var N=oa[R];N.blockedOn===b&&(N.blockedOn=null)}}for(zs!==null&&Qo(zs,b),Hs!==null&&Qo(Hs,b),vu!==null&&Qo(vu,b),kf.forEach(C),rg.forEach(C),R=0;R<ap.length;R++)N=ap[R],N.blockedOn===b&&(N.blockedOn=null);for(;0<ap.length&&(R=ap[0],R.blockedOn===null);)TO(R),R.blockedOn===null&&ap.shift()}var Af=P.ReactCurrentBatchConfig,rx=!0;function YF(b,C,R,N){var G=an,ne=Af.transition;Af.transition=null;try{an=1,ZD(b,C,R,N)}finally{an=G,Af.transition=ne}}function JF(b,C,R,N){var G=an,ne=Af.transition;Af.transition=null;try{an=4,ZD(b,C,R,N)}finally{an=G,Af.transition=ne}}function ZD(b,C,R,N){if(rx){var G=sx(b,C,R,N);if(G===null)gS(b,C,N,ox,R),IO(b,N);else if(KF(G,b,C,R,N))N.stopPropagation();else if(IO(b,N),C&4&&-1<GF.indexOf(b)){for(;G!==null;){var ne=fi(G);if(ne!==null&&mr(ne),ne=sx(b,C,R,N),ne===null&&gS(b,C,N,ox,R),ne===G)break;G=ne}G!==null&&N.stopPropagation()}else gS(b,C,N,null,R)}}var ox=null;function sx(b,C,R,N){if(ox=null,b=Xe(N),b=Ou(b),b!==null)if(C=lt(b),C===null)b=null;else if(R=C.tag,R===13){if(b=Qe(C),b!==null)return b;b=null}else if(R===3){if(C.stateNode.current.memoizedState.isDehydrated)return C.tag===3?C.stateNode.containerInfo:null;b=null}else C!==b&&(b=null);return ox=b,null}function EO(b){switch(b){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hc()){case ci:return 1;case Pf:return 4;case wi:case Du:return 16;case wl:return 536870912;default:return 16}default:return 16}}var Os=null,og=null,ju=null;function eS(){if(ju)return ju;var b,C=og,R=C.length,N,G="value"in Os?Os.value:Os.textContent,ne=G.length;for(b=0;b<R&&C[b]===G[b];b++);var Oe=R-b;for(N=1;N<=Oe&&C[R-N]===G[ne-N];N++);return ju=G.slice(b,1<N?1-N:void 0)}function Nf(b){var C=b.keyCode;return"charCode"in b?(b=b.charCode,b===0&&C===13&&(b=13)):b=C,b===10&&(b=13),32<=b||b===13?b:0}function ki(){return!0}function tS(){return!1}function Gi(b){function C(R,N,G,ne,Oe){this._reactName=R,this._targetInst=G,this.type=N,this.nativeEvent=ne,this.target=Oe,this.currentTarget=null;for(var nt in b)b.hasOwnProperty(nt)&&(R=b[nt],this[nt]=R?R(ne):ne[nt]);return this.isDefaultPrevented=(ne.defaultPrevented!=null?ne.defaultPrevented:ne.returnValue===!1)?ki:tS,this.isPropagationStopped=tS,this}return te(C.prototype,{preventDefault:function(){this.defaultPrevented=!0;var R=this.nativeEvent;R&&(R.preventDefault?R.preventDefault():typeof R.returnValue!="unknown"&&(R.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var R=this.nativeEvent;R&&(R.stopPropagation?R.stopPropagation():typeof R.cancelBubble!="unknown"&&(R.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),C}var mm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(b){return b.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ax=Gi(mm),Ff=te({},mm,{view:0,detail:0}),PO=Gi(Ff),Ai,nS,pi,ix=te({},Ff,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iS,button:0,buttons:0,relatedTarget:function(b){return b.relatedTarget===void 0?b.fromElement===b.srcElement?b.toElement:b.fromElement:b.relatedTarget},movementX:function(b){return"movementX"in b?b.movementX:(b!==pi&&(pi&&b.type==="mousemove"?(Ai=b.screenX-pi.screenX,nS=b.screenY-pi.screenY):nS=Ai=0,pi=b),Ai)},movementY:function(b){return"movementY"in b?b.movementY:nS}}),rS=Gi(ix),ip=te({},ix,{dataTransfer:0}),lx=Gi(ip),oS=te({},Ff,{relatedTarget:0}),ps=Gi(oS),lp=te({},mm,{animationName:0,elapsedTime:0,pseudoElement:0}),sS=Gi(lp),XF=te({},mm,{clipboardData:function(b){return"clipboardData"in b?b.clipboardData:window.clipboardData}}),aS=Gi(XF),ZF=te({},mm,{data:0}),RO=Gi(ZF),eM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mf(b){var C=this.nativeEvent;return C.getModifierState?C.getModifierState(b):(b=cx[b])?!!C[b]:!1}function iS(){return Mf}var kO=te({},Ff,{key:function(b){if(b.key){var C=eM[b.key]||b.key;if(C!=="Unidentified")return C}return b.type==="keypress"?(b=Nf(b),b===13?"Enter":String.fromCharCode(b)):b.type==="keydown"||b.type==="keyup"?wO[b.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iS,charCode:function(b){return b.type==="keypress"?Nf(b):0},keyCode:function(b){return b.type==="keydown"||b.type==="keyup"?b.keyCode:0},which:function(b){return b.type==="keypress"?Nf(b):b.type==="keydown"||b.type==="keyup"?b.keyCode:0}}),AO=Gi(kO),lS=te({},ix,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ux=Gi(lS),NO=te({},Ff,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iS}),tM=Gi(NO),cS=te({},mm,{propertyName:0,elapsedTime:0,pseudoElement:0}),uS=Gi(cS),nM=te({},ix,{deltaX:function(b){return"deltaX"in b?b.deltaX:"wheelDeltaX"in b?-b.wheelDeltaX:0},deltaY:function(b){return"deltaY"in b?b.deltaY:"wheelDeltaY"in b?-b.wheelDeltaY:"wheelDelta"in b?-b.wheelDelta:0},deltaZ:0,deltaMode:0}),FO=Gi(nM),dl=[9,13,27,32],sg=u&&"CompositionEvent"in window,pd=null;u&&"documentMode"in document&&(pd=document.documentMode);var MO=u&&"TextEvent"in window&&!pd,dS=u&&(!sg||pd&&8<pd&&11>=pd),_O=" ",LO=!1;function $O(b,C){switch(b){case"keyup":return dl.indexOf(C.keyCode)!==-1;case"keydown":return C.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function BO(b){return b=b.detail,typeof b=="object"&&"data"in b?b.data:null}var _f=!1;function Lf(b,C){switch(b){case"compositionend":return BO(C);case"keypress":return C.which!==32?null:(LO=!0,_O);case"textInput":return b=C.data,b===_O&&LO?null:b;default:return null}}function rM(b,C){if(_f)return b==="compositionend"||!sg&&$O(b,C)?(b=eS(),ju=og=Os=null,_f=!1,b):null;switch(b){case"paste":return null;case"keypress":if(!(C.ctrlKey||C.altKey||C.metaKey)||C.ctrlKey&&C.altKey){if(C.char&&1<C.char.length)return C.char;if(C.which)return String.fromCharCode(C.which)}return null;case"compositionend":return dS&&C.locale!=="ko"?null:C.data;default:return null}}var oM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dx(b){var C=b&&b.nodeName&&b.nodeName.toLowerCase();return C==="input"?!!oM[b.type]:C==="textarea"}function pS(b,C,R,N){ht(N),C=Cx(C,"onChange"),0<C.length&&(R=new ax("onChange","change",null,R,N),b.push({event:R,listeners:C}))}var Al=null,cp=null;function sM(b){GO(b,0)}function px(b){var C=Xr(b);if(ce(C))return b}function aM(b,C){if(b==="change")return C}var fm=!1;if(u){var pl;if(u){var mx="oninput"in document;if(!mx){var WO=document.createElement("div");WO.setAttribute("oninput","return;"),mx=typeof WO.oninput=="function"}pl=mx}else pl=!1;fm=pl&&(!document.documentMode||9<document.documentMode)}function UO(){Al&&(Al.detachEvent("onpropertychange",qO),cp=Al=null)}function qO(b){if(b.propertyName==="value"&&px(cp)){var C=[];pS(C,cp,b,Xe(b)),Tt(sM,C)}}function iM(b,C,R){b==="focusin"?(UO(),Al=C,cp=R,Al.attachEvent("onpropertychange",qO)):b==="focusout"&&UO()}function lM(b){if(b==="selectionchange"||b==="keyup"||b==="keydown")return px(cp)}function $f(b,C){if(b==="click")return px(C)}function St(b,C){if(b==="input"||b==="change")return px(C)}function tn(b,C){return b===C&&(b!==0||1/b===1/C)||b!==b&&C!==C}var Ut=typeof Object.is=="function"?Object.is:tn;function ar(b,C){if(Ut(b,C))return!0;if(typeof b!="object"||b===null||typeof C!="object"||C===null)return!1;var R=Object.keys(b),N=Object.keys(C);if(R.length!==N.length)return!1;for(N=0;N<R.length;N++){var G=R[N];if(!d.call(C,G)||!Ut(b[G],C[G]))return!1}return!0}function Kr(b){for(;b&&b.firstChild;)b=b.firstChild;return b}function Lo(b,C){var R=Kr(b);b=0;for(var N;R;){if(R.nodeType===3){if(N=b+R.textContent.length,b<=C&&N>=C)return{node:R,offset:C-b};b=N}e:{for(;R;){if(R.nextSibling){R=R.nextSibling;break e}R=R.parentNode}R=void 0}R=Kr(R)}}function sa(b,C){return b&&C?b===C?!0:b&&b.nodeType===3?!1:C&&C.nodeType===3?sa(b,C.parentNode):"contains"in b?b.contains(C):b.compareDocumentPosition?!!(b.compareDocumentPosition(C)&16):!1:!1}function ns(){for(var b=window,C=ee();C instanceof b.HTMLIFrameElement;){try{var R=typeof C.contentWindow.location.href=="string"}catch{R=!1}if(R)b=C.contentWindow;else break;C=ee(b.document)}return C}function ag(b){var C=b&&b.nodeName&&b.nodeName.toLowerCase();return C&&(C==="input"&&(b.type==="text"||b.type==="search"||b.type==="tel"||b.type==="url"||b.type==="password")||C==="textarea"||b.contentEditable==="true")}function cM(b){var C=ns(),R=b.focusedElem,N=b.selectionRange;if(C!==R&&R&&R.ownerDocument&&sa(R.ownerDocument.documentElement,R)){if(N!==null&&ag(R)){if(C=N.start,b=N.end,b===void 0&&(b=C),"selectionStart"in R)R.selectionStart=C,R.selectionEnd=Math.min(b,R.value.length);else if(b=(C=R.ownerDocument||document)&&C.defaultView||window,b.getSelection){b=b.getSelection();var G=R.textContent.length,ne=Math.min(N.start,G);N=N.end===void 0?ne:Math.min(N.end,G),!b.extend&&ne>N&&(G=N,N=ne,ne=G),G=Lo(R,ne);var Oe=Lo(R,N);G&&Oe&&(b.rangeCount!==1||b.anchorNode!==G.node||b.anchorOffset!==G.offset||b.focusNode!==Oe.node||b.focusOffset!==Oe.offset)&&(C=C.createRange(),C.setStart(G.node,G.offset),b.removeAllRanges(),ne>N?(b.addRange(C),b.extend(Oe.node,Oe.offset)):(C.setEnd(Oe.node,Oe.offset),b.addRange(C)))}}for(C=[],b=R;b=b.parentNode;)b.nodeType===1&&C.push({element:b,left:b.scrollLeft,top:b.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<C.length;R++)b=C[R],b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}var Nl=u&&"documentMode"in document&&11>=document.documentMode,md=null,mS=null,Iu=null,Bf=!1;function ig(b,C,R){var N=R.window===R?R.document:R.nodeType===9?R:R.ownerDocument;Bf||md==null||md!==ee(N)||(N=md,"selectionStart"in N&&ag(N)?N={start:N.selectionStart,end:N.selectionEnd}:(N=(N.ownerDocument&&N.ownerDocument.defaultView||window).getSelection(),N={anchorNode:N.anchorNode,anchorOffset:N.anchorOffset,focusNode:N.focusNode,focusOffset:N.focusOffset}),Iu&&ar(Iu,N)||(Iu=N,N=Cx(mS,"onSelect"),0<N.length&&(C=new ax("onSelect","select",null,C,R),b.push({event:C,listeners:N}),C.target=md)))}function $o(b,C){var R={};return R[b.toLowerCase()]=C.toLowerCase(),R["Webkit"+b]="webkit"+C,R["Moz"+b]="moz"+C,R}var Wf={animationend:$o("Animation","AnimationEnd"),animationiteration:$o("Animation","AnimationIteration"),animationstart:$o("Animation","AnimationStart"),transitionend:$o("Transition","TransitionEnd")},fx={},lg={};u&&(lg=document.createElement("div").style,"AnimationEvent"in window||(delete Wf.animationend.animation,delete Wf.animationiteration.animation,delete Wf.animationstart.animation),"TransitionEvent"in window||delete Wf.transitionend.transition);function hx(b){if(fx[b])return fx[b];if(!Wf[b])return b;var C=Wf[b],R;for(R in C)if(C.hasOwnProperty(R)&&R in lg)return fx[b]=C[R];return b}var VO=hx("animationend"),zO=hx("animationiteration"),cg=hx("animationstart"),fd=hx("transitionend"),ug=new Map,fS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xc(b,C){ug.set(b,C),i(C,[b])}for(var gx=0;gx<fS.length;gx++){var bx=fS[gx],xx=bx.toLowerCase(),HO=bx[0].toUpperCase()+bx.slice(1);xc(xx,"on"+HO)}xc(VO,"onAnimationEnd"),xc(zO,"onAnimationIteration"),xc(cg,"onAnimationStart"),xc("dblclick","onDoubleClick"),xc("focusin","onFocus"),xc("focusout","onBlur"),xc(fd,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hm=new Set("cancel close invalid load scroll toggle".split(" ").concat(hd));function dg(b,C,R){var N=b.type||"unknown-event";b.currentTarget=R,Yt(N,C,void 0,b),b.currentTarget=null}function GO(b,C){C=(C&4)!==0;for(var R=0;R<b.length;R++){var N=b[R],G=N.event;N=N.listeners;e:{var ne=void 0;if(C)for(var Oe=N.length-1;0<=Oe;Oe--){var nt=N[Oe],ut=nt.instance,Ht=nt.currentTarget;if(nt=nt.listener,ut!==ne&&G.isPropagationStopped())break e;dg(G,nt,Ht),ne=ut}else for(Oe=0;Oe<N.length;Oe++){if(nt=N[Oe],ut=nt.instance,Ht=nt.currentTarget,nt=nt.listener,ut!==ne&&G.isPropagationStopped())break e;dg(G,nt,Ht),ne=ut}}}if(pt)throw b=Rt,pt=!1,Rt=null,b}function Cs(b,C){var R=C[vx];R===void 0&&(R=C[vx]=new Set);var N=b+"__bubble";R.has(N)||(yx(C,b,2,!1),R.add(N))}function hS(b,C,R){var N=0;C&&(N|=4),yx(R,b,N,C)}var gm="_reactListening"+Math.random().toString(36).slice(2);function up(b){if(!b[gm]){b[gm]=!0,o.forEach(function(R){R!=="selectionchange"&&(hm.has(R)||hS(R,!1,b),hS(R,!0,b))});var C=b.nodeType===9?b:b.ownerDocument;C===null||C[gm]||(C[gm]=!0,hS("selectionchange",!1,C))}}function yx(b,C,R,N){switch(EO(C)){case 1:var G=YF;break;case 4:G=JF;break;default:G=ZD}R=G.bind(null,C,R,b),G=void 0,!st||C!=="touchstart"&&C!=="touchmove"&&C!=="wheel"||(G=!0),N?G!==void 0?b.addEventListener(C,R,{capture:!0,passive:G}):b.addEventListener(C,R,!0):G!==void 0?b.addEventListener(C,R,{passive:G}):b.addEventListener(C,R,!1)}function gS(b,C,R,N,G){var ne=N;if((C&1)===0&&(C&2)===0&&N!==null)e:for(;;){if(N===null)return;var Oe=N.tag;if(Oe===3||Oe===4){var nt=N.stateNode.containerInfo;if(nt===G||nt.nodeType===8&&nt.parentNode===G)break;if(Oe===4)for(Oe=N.return;Oe!==null;){var ut=Oe.tag;if((ut===3||ut===4)&&(ut=Oe.stateNode.containerInfo,ut===G||ut.nodeType===8&&ut.parentNode===G))return;Oe=Oe.return}for(;nt!==null;){if(Oe=Ou(nt),Oe===null)return;if(ut=Oe.tag,ut===5||ut===6){N=ne=Oe;continue e}nt=nt.parentNode}}N=N.return}Tt(function(){var Ht=ne,On=Xe(R),wn=[];e:{var In=ug.get(b);if(In!==void 0){var ir=ax,Dr=b;switch(b){case"keypress":if(Nf(R)===0)break e;case"keydown":case"keyup":ir=AO;break;case"focusin":Dr="focus",ir=ps;break;case"focusout":Dr="blur",ir=ps;break;case"beforeblur":case"afterblur":ir=ps;break;case"click":if(R.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ir=rS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ir=lx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ir=tM;break;case VO:case zO:case cg:ir=sS;break;case fd:ir=uS;break;case"scroll":ir=PO;break;case"wheel":ir=FO;break;case"copy":case"cut":case"paste":ir=aS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ir=ux}var Tr=(C&4)!==0,Ks=!Tr&&b==="scroll",At=Tr?In!==null?In+"Capture":null:In;Tr=[];for(var gt=Ht,Lt;gt!==null;){Lt=gt;var Mn=Lt.stateNode;if(Lt.tag===5&&Mn!==null&&(Lt=Mn,At!==null&&(Mn=Jt(gt,At),Mn!=null&&Tr.push(Uf(gt,Mn,Lt)))),Ks)break;gt=gt.return}0<Tr.length&&(In=new ir(In,Dr,null,R,On),wn.push({event:In,listeners:Tr}))}}if((C&7)===0){e:{if(In=b==="mouseover"||b==="pointerover",ir=b==="mouseout"||b==="pointerout",In&&R!==Ee&&(Dr=R.relatedTarget||R.fromElement)&&(Ou(Dr)||Dr[ml]))break e;if((ir||In)&&(In=On.window===On?On:(In=On.ownerDocument)?In.defaultView||In.parentWindow:window,ir?(Dr=R.relatedTarget||R.toElement,ir=Ht,Dr=Dr?Ou(Dr):null,Dr!==null&&(Ks=lt(Dr),Dr!==Ks||Dr.tag!==5&&Dr.tag!==6)&&(Dr=null)):(ir=null,Dr=Ht),ir!==Dr)){if(Tr=rS,Mn="onMouseLeave",At="onMouseEnter",gt="mouse",(b==="pointerout"||b==="pointerover")&&(Tr=ux,Mn="onPointerLeave",At="onPointerEnter",gt="pointer"),Ks=ir==null?In:Xr(ir),Lt=Dr==null?In:Xr(Dr),In=new Tr(Mn,gt+"leave",ir,R,On),In.target=Ks,In.relatedTarget=Lt,Mn=null,Ou(On)===Ht&&(Tr=new Tr(At,gt+"enter",Dr,R,On),Tr.target=Lt,Tr.relatedTarget=Ks,Mn=Tr),Ks=Mn,ir&&Dr)t:{for(Tr=ir,At=Dr,gt=0,Lt=Tr;Lt;Lt=qf(Lt))gt++;for(Lt=0,Mn=At;Mn;Mn=qf(Mn))Lt++;for(;0<gt-Lt;)Tr=qf(Tr),gt--;for(;0<Lt-gt;)At=qf(At),Lt--;for(;gt--;){if(Tr===At||At!==null&&Tr===At.alternate)break t;Tr=qf(Tr),At=qf(At)}Tr=null}else Tr=null;ir!==null&&aa(wn,In,ir,Tr,!1),Dr!==null&&Ks!==null&&aa(wn,Ks,Dr,Tr,!0)}}e:{if(In=Ht?Xr(Ht):window,ir=In.nodeName&&In.nodeName.toLowerCase(),ir==="select"||ir==="input"&&In.type==="file")var Pr=aM;else if(dx(In))if(fm)Pr=St;else{Pr=lM;var _r=iM}else(ir=In.nodeName)&&ir.toLowerCase()==="input"&&(In.type==="checkbox"||In.type==="radio")&&(Pr=$f);if(Pr&&(Pr=Pr(b,Ht))){pS(wn,Pr,R,On);break e}_r&&_r(b,In,Ht),b==="focusout"&&(_r=In._wrapperState)&&_r.controlled&&In.type==="number"&&_e(In,"number",In.value)}switch(_r=Ht?Xr(Ht):window,b){case"focusin":(dx(_r)||_r.contentEditable==="true")&&(md=_r,mS=Ht,Iu=null);break;case"focusout":Iu=mS=md=null;break;case"mousedown":Bf=!0;break;case"contextmenu":case"mouseup":case"dragend":Bf=!1,ig(wn,R,On);break;case"selectionchange":if(Nl)break;case"keydown":case"keyup":ig(wn,R,On)}var Nr;if(sg)e:{switch(b){case"compositionstart":var Ur="onCompositionStart";break e;case"compositionend":Ur="onCompositionEnd";break e;case"compositionupdate":Ur="onCompositionUpdate";break e}Ur=void 0}else _f?$O(b,R)&&(Ur="onCompositionEnd"):b==="keydown"&&R.keyCode===229&&(Ur="onCompositionStart");Ur&&(dS&&R.locale!=="ko"&&(_f||Ur!=="onCompositionStart"?Ur==="onCompositionEnd"&&_f&&(Nr=eS()):(Os=On,og="value"in Os?Os.value:Os.textContent,_f=!0)),_r=Cx(Ht,Ur),0<_r.length&&(Ur=new RO(Ur,b,null,R,On),wn.push({event:Ur,listeners:_r}),Nr?Ur.data=Nr:(Nr=BO(R),Nr!==null&&(Ur.data=Nr)))),(Nr=MO?Lf(b,R):rM(b,R))&&(Ht=Cx(Ht,"onBeforeInput"),0<Ht.length&&(On=new RO("onBeforeInput","beforeinput",null,R,On),wn.push({event:On,listeners:Ht}),On.data=Nr))}GO(wn,C)})}function Uf(b,C,R){return{instance:b,listener:C,currentTarget:R}}function Cx(b,C){for(var R=C+"Capture",N=[];b!==null;){var G=b,ne=G.stateNode;G.tag===5&&ne!==null&&(G=ne,ne=Jt(b,R),ne!=null&&N.unshift(Uf(b,ne,G)),ne=Jt(b,C),ne!=null&&N.push(Uf(b,ne,G))),b=b.return}return N}function qf(b){if(b===null)return null;do b=b.return;while(b&&b.tag!==5);return b||null}function aa(b,C,R,N,G){for(var ne=C._reactName,Oe=[];R!==null&&R!==N;){var nt=R,ut=nt.alternate,Ht=nt.stateNode;if(ut!==null&&ut===N)break;nt.tag===5&&Ht!==null&&(nt=Ht,G?(ut=Jt(R,ne),ut!=null&&Oe.unshift(Uf(R,ut,nt))):G||(ut=Jt(R,ne),ut!=null&&Oe.push(Uf(R,ut,nt)))),R=R.return}Oe.length!==0&&b.push({event:C,listeners:Oe})}var mi=/\r\n?/g,uM=/\u0000|\uFFFD/g;function KO(b){return(typeof b=="string"?b:""+b).replace(mi,`
`).replace(uM,"")}function pg(b,C,R){if(C=KO(C),KO(b)!==C&&R)throw Error(n(425))}function Dx(){}var mg=null,bm=null;function fg(b,C){return b==="textarea"||b==="noscript"||typeof C.children=="string"||typeof C.children=="number"||typeof C.dangerouslySetInnerHTML=="object"&&C.dangerouslySetInnerHTML!==null&&C.dangerouslySetInnerHTML.__html!=null}var dp=typeof setTimeout=="function"?setTimeout:void 0,hg=typeof clearTimeout=="function"?clearTimeout:void 0,Vf=typeof Promise=="function"?Promise:void 0,Sx=typeof queueMicrotask=="function"?queueMicrotask:typeof Vf<"u"?function(b){return Vf.resolve(null).then(b).catch(zf)}:dp;function zf(b){setTimeout(function(){throw b})}function bS(b,C){var R=C,N=0;do{var G=R.nextSibling;if(b.removeChild(R),G&&G.nodeType===8)if(R=G.data,R==="/$"){if(N===0){b.removeChild(G),zo(C);return}N--}else R!=="$"&&R!=="$?"&&R!=="$!"||N++;R=G}while(R);zo(C)}function pp(b){for(;b!=null;b=b.nextSibling){var C=b.nodeType;if(C===1||C===3)break;if(C===8){if(C=b.data,C==="$"||C==="$!"||C==="$?")break;if(C==="/$")return null}}return b}function QO(b){b=b.previousSibling;for(var C=0;b;){if(b.nodeType===8){var R=b.data;if(R==="$"||R==="$!"||R==="$?"){if(C===0)return b;C--}else R==="/$"&&C++}b=b.previousSibling}return null}var Hf=Math.random().toString(36).slice(2),Tu="__reactFiber$"+Hf,mp="__reactProps$"+Hf,ml="__reactContainer$"+Hf,vx="__reactEvents$"+Hf,Fe="__reactListeners$"+Hf,Gf="__reactHandles$"+Hf;function Ou(b){var C=b[Tu];if(C)return C;for(var R=b.parentNode;R;){if(C=R[ml]||R[Tu]){if(R=C.alternate,C.child!==null||R!==null&&R.child!==null)for(b=QO(b);b!==null;){if(R=b[Tu])return R;b=QO(b)}return C}b=R,R=b.parentNode}return null}function fi(b){return b=b[Tu]||b[ml],!b||b.tag!==5&&b.tag!==6&&b.tag!==13&&b.tag!==3?null:b}function Xr(b){if(b.tag===5||b.tag===6)return b.stateNode;throw Error(n(33))}function jx(b){return b[mp]||null}var xS=[],Kf=-1;function Ki(b){return{current:b}}function Ds(b){0>Kf||(b.current=xS[Kf],xS[Kf]=null,Kf--)}function ms(b,C){Kf++,xS[Kf]=b.current,b.current=C}var fp={},hi=Ki(fp),Qi=Ki(!1),Ni=fp;function Qf(b,C){var R=b.type.contextTypes;if(!R)return fp;var N=b.stateNode;if(N&&N.__reactInternalMemoizedUnmaskedChildContext===C)return N.__reactInternalMemoizedMaskedChildContext;var G={},ne;for(ne in R)G[ne]=C[ne];return N&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=C,b.__reactInternalMemoizedMaskedChildContext=G),G}function Yi(b){return b=b.childContextTypes,b!=null}function Ix(){Ds(Qi),Ds(hi)}function YO(b,C,R){if(hi.current!==fp)throw Error(n(168));ms(hi,C),ms(Qi,R)}function JO(b,C,R){var N=b.stateNode;if(C=C.childContextTypes,typeof N.getChildContext!="function")return R;N=N.getChildContext();for(var G in N)if(!(G in C))throw Error(n(108,Te(b)||"Unknown",G));return te({},R,N)}function Fl(b){return b=(b=b.stateNode)&&b.__reactInternalMemoizedMergedChildContext||fp,Ni=hi.current,ms(hi,b),ms(Qi,Qi.current),!0}function XO(b,C,R){var N=b.stateNode;if(!N)throw Error(n(169));R?(b=JO(b,C,Ni),N.__reactInternalMemoizedMergedChildContext=b,Ds(Qi),Ds(hi),ms(hi,b)):Ds(Qi),ms(Qi,R)}var gd=null,Tx=!1,yS=!1;function ZO(b){gd===null?gd=[b]:gd.push(b)}function xm(b){Tx=!0,ZO(b)}function hp(){if(!yS&&gd!==null){yS=!0;var b=0,C=an;try{var R=gd;for(an=1;b<R.length;b++){var N=R[b];do N=N(!0);while(N!==null)}gd=null,Tx=!1}catch(G){throw gd!==null&&(gd=gd.slice(b+1)),Sr(ci,hp),G}finally{an=C,yS=!1}}return null}var Yf=[],gi=0,Ox=null,Ex=0,Ml=[],_l=0,ym=null,Eu=1,Pu="";function Cm(b,C){Yf[gi++]=Ex,Yf[gi++]=Ox,Ox=b,Ex=C}function eE(b,C,R){Ml[_l++]=Eu,Ml[_l++]=Pu,Ml[_l++]=ym,ym=b;var N=Eu;b=Pu;var G=32-di(N)-1;N&=~(1<<G),R+=1;var ne=32-di(C)+G;if(30<ne){var Oe=G-G%5;ne=(N&(1<<Oe)-1).toString(32),N>>=Oe,G-=Oe,Eu=1<<32-di(C)+G|R<<G|N,Pu=ne+b}else Eu=1<<ne|R<<G|N,Pu=b}function gg(b){b.return!==null&&(Cm(b,1),eE(b,1,0))}function Dm(b){for(;b===Ox;)Ox=Yf[--gi],Yf[gi]=null,Ex=Yf[--gi],Yf[gi]=null;for(;b===ym;)ym=Ml[--_l],Ml[_l]=null,Pu=Ml[--_l],Ml[_l]=null,Eu=Ml[--_l],Ml[_l]=null}var bi=null,fl=null,Ss=!1,yc=null;function Ru(b,C){var R=Vl(5,null,null,0);R.elementType="DELETED",R.stateNode=C,R.return=b,C=b.deletions,C===null?(b.deletions=[R],b.flags|=16):C.push(R)}function Px(b,C){switch(b.tag){case 5:var R=b.type;return C=C.nodeType!==1||R.toLowerCase()!==C.nodeName.toLowerCase()?null:C,C!==null?(b.stateNode=C,bi=b,fl=pp(C.firstChild),!0):!1;case 6:return C=b.pendingProps===""||C.nodeType!==3?null:C,C!==null?(b.stateNode=C,bi=b,fl=null,!0):!1;case 13:return C=C.nodeType!==8?null:C,C!==null?(R=ym!==null?{id:Eu,overflow:Pu}:null,b.memoizedState={dehydrated:C,treeContext:R,retryLane:1073741824},R=Vl(18,null,null,0),R.stateNode=C,R.return=b,b.child=R,bi=b,fl=null,!0):!1;default:return!1}}function bd(b){return(b.mode&1)!==0&&(b.flags&128)===0}function Ji(b){if(Ss){var C=fl;if(C){var R=C;if(!Px(b,C)){if(bd(b))throw Error(n(418));C=pp(R.nextSibling);var N=bi;C&&Px(b,C)?Ru(N,R):(b.flags=b.flags&-4097|2,Ss=!1,bi=b)}}else{if(bd(b))throw Error(n(418));b.flags=b.flags&-4097|2,Ss=!1,bi=b}}}function tE(b){for(b=b.return;b!==null&&b.tag!==5&&b.tag!==3&&b.tag!==13;)b=b.return;bi=b}function bg(b){if(b!==bi)return!1;if(!Ss)return tE(b),Ss=!0,!1;var C;if((C=b.tag!==3)&&!(C=b.tag!==5)&&(C=b.type,C=C!=="head"&&C!=="body"&&!fg(b.type,b.memoizedProps)),C&&(C=fl)){if(bd(b))throw CS(),Error(n(418));for(;C;)Ru(b,C),C=pp(C.nextSibling)}if(tE(b),b.tag===13){if(b=b.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));e:{for(b=b.nextSibling,C=0;b;){if(b.nodeType===8){var R=b.data;if(R==="/$"){if(C===0){fl=pp(b.nextSibling);break e}C--}else R!=="$"&&R!=="$!"&&R!=="$?"||C++}b=b.nextSibling}fl=null}}else fl=bi?pp(b.stateNode.nextSibling):null;return!0}function CS(){for(var b=fl;b;)b=pp(b.nextSibling)}function wu(){fl=bi=null,Ss=!1}function ku(b){yc===null?yc=[b]:yc.push(b)}var nE=P.ReactCurrentBatchConfig;function xg(b,C,R){if(b=R.ref,b!==null&&typeof b!="function"&&typeof b!="object"){if(R._owner){if(R=R._owner,R){if(R.tag!==1)throw Error(n(309));var N=R.stateNode}if(!N)throw Error(n(147,b));var G=N,ne=""+b;return C!==null&&C.ref!==null&&typeof C.ref=="function"&&C.ref._stringRef===ne?C.ref:(C=function(Oe){var nt=G.refs;Oe===null?delete nt[ne]:nt[ne]=Oe},C._stringRef=ne,C)}if(typeof b!="string")throw Error(n(284));if(!R._owner)throw Error(n(290,b))}return b}function Sm(b,C){throw b=Object.prototype.toString.call(C),Error(n(31,b==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":b))}function rE(b){var C=b._init;return C(b._payload)}function DS(b){function C(At,gt){if(b){var Lt=At.deletions;Lt===null?(At.deletions=[gt],At.flags|=16):Lt.push(gt)}}function R(At,gt){if(!b)return null;for(;gt!==null;)C(At,gt),gt=gt.sibling;return null}function N(At,gt){for(At=new Map;gt!==null;)gt.key!==null?At.set(gt.key,gt):At.set(gt.index,gt),gt=gt.sibling;return At}function G(At,gt){return At=Tc(At,gt),At.index=0,At.sibling=null,At}function ne(At,gt,Lt){return At.index=Lt,b?(Lt=At.alternate,Lt!==null?(Lt=Lt.index,Lt<gt?(At.flags|=2,gt):Lt):(At.flags|=2,gt)):(At.flags|=1048576,gt)}function Oe(At){return b&&At.alternate===null&&(At.flags|=2),At}function nt(At,gt,Lt,Mn){return gt===null||gt.tag!==6?(gt=i0(Lt,At.mode,Mn),gt.return=At,gt):(gt=G(gt,Lt),gt.return=At,gt)}function ut(At,gt,Lt,Mn){var Pr=Lt.type;return Pr===w?On(At,gt,Lt.props.children,Mn,Lt.key):gt!==null&&(gt.elementType===Pr||typeof Pr=="object"&&Pr!==null&&Pr.$$typeof===V&&rE(Pr)===gt.type)?(Mn=G(gt,Lt.props),Mn.ref=xg(At,gt,Lt),Mn.return=At,Mn):(Mn=uy(Lt.type,Lt.key,Lt.props,null,At.mode,Mn),Mn.ref=xg(At,gt,Lt),Mn.return=At,Mn)}function Ht(At,gt,Lt,Mn){return gt===null||gt.tag!==4||gt.stateNode.containerInfo!==Lt.containerInfo||gt.stateNode.implementation!==Lt.implementation?(gt=l0(Lt,At.mode,Mn),gt.return=At,gt):(gt=G(gt,Lt.children||[]),gt.return=At,gt)}function On(At,gt,Lt,Mn,Pr){return gt===null||gt.tag!==7?(gt=Am(Lt,At.mode,Mn,Pr),gt.return=At,gt):(gt=G(gt,Lt),gt.return=At,gt)}function wn(At,gt,Lt){if(typeof gt=="string"&&gt!==""||typeof gt=="number")return gt=i0(""+gt,At.mode,Lt),gt.return=At,gt;if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case E:return Lt=uy(gt.type,gt.key,gt.props,null,At.mode,Lt),Lt.ref=xg(At,null,gt),Lt.return=At,Lt;case k:return gt=l0(gt,At.mode,Lt),gt.return=At,gt;case V:var Mn=gt._init;return wn(At,Mn(gt._payload),Lt)}if(H(gt)||X(gt))return gt=Am(gt,At.mode,Lt,null),gt.return=At,gt;Sm(At,gt)}return null}function In(At,gt,Lt,Mn){var Pr=gt!==null?gt.key:null;if(typeof Lt=="string"&&Lt!==""||typeof Lt=="number")return Pr!==null?null:nt(At,gt,""+Lt,Mn);if(typeof Lt=="object"&&Lt!==null){switch(Lt.$$typeof){case E:return Lt.key===Pr?ut(At,gt,Lt,Mn):null;case k:return Lt.key===Pr?Ht(At,gt,Lt,Mn):null;case V:return Pr=Lt._init,In(At,gt,Pr(Lt._payload),Mn)}if(H(Lt)||X(Lt))return Pr!==null?null:On(At,gt,Lt,Mn,null);Sm(At,Lt)}return null}function ir(At,gt,Lt,Mn,Pr){if(typeof Mn=="string"&&Mn!==""||typeof Mn=="number")return At=At.get(Lt)||null,nt(gt,At,""+Mn,Pr);if(typeof Mn=="object"&&Mn!==null){switch(Mn.$$typeof){case E:return At=At.get(Mn.key===null?Lt:Mn.key)||null,ut(gt,At,Mn,Pr);case k:return At=At.get(Mn.key===null?Lt:Mn.key)||null,Ht(gt,At,Mn,Pr);case V:var _r=Mn._init;return ir(At,gt,Lt,_r(Mn._payload),Pr)}if(H(Mn)||X(Mn))return At=At.get(Lt)||null,On(gt,At,Mn,Pr,null);Sm(gt,Mn)}return null}function Dr(At,gt,Lt,Mn){for(var Pr=null,_r=null,Nr=gt,Ur=gt=0,$a=null;Nr!==null&&Ur<Lt.length;Ur++){Nr.index>Ur?($a=Nr,Nr=null):$a=Nr.sibling;var Bo=In(At,Nr,Lt[Ur],Mn);if(Bo===null){Nr===null&&(Nr=$a);break}b&&Nr&&Bo.alternate===null&&C(At,Nr),gt=ne(Bo,gt,Ur),_r===null?Pr=Bo:_r.sibling=Bo,_r=Bo,Nr=$a}if(Ur===Lt.length)return R(At,Nr),Ss&&Cm(At,Ur),Pr;if(Nr===null){for(;Ur<Lt.length;Ur++)Nr=wn(At,Lt[Ur],Mn),Nr!==null&&(gt=ne(Nr,gt,Ur),_r===null?Pr=Nr:_r.sibling=Nr,_r=Nr);return Ss&&Cm(At,Ur),Pr}for(Nr=N(At,Nr);Ur<Lt.length;Ur++)$a=ir(Nr,At,Ur,Lt[Ur],Mn),$a!==null&&(b&&$a.alternate!==null&&Nr.delete($a.key===null?Ur:$a.key),gt=ne($a,gt,Ur),_r===null?Pr=$a:_r.sibling=$a,_r=$a);return b&&Nr.forEach(function(Op){return C(At,Op)}),Ss&&Cm(At,Ur),Pr}function Tr(At,gt,Lt,Mn){var Pr=X(Lt);if(typeof Pr!="function")throw Error(n(150));if(Lt=Pr.call(Lt),Lt==null)throw Error(n(151));for(var _r=Pr=null,Nr=gt,Ur=gt=0,$a=null,Bo=Lt.next();Nr!==null&&!Bo.done;Ur++,Bo=Lt.next()){Nr.index>Ur?($a=Nr,Nr=null):$a=Nr.sibling;var Op=In(At,Nr,Bo.value,Mn);if(Op===null){Nr===null&&(Nr=$a);break}b&&Nr&&Op.alternate===null&&C(At,Nr),gt=ne(Op,gt,Ur),_r===null?Pr=Op:_r.sibling=Op,_r=Op,Nr=$a}if(Bo.done)return R(At,Nr),Ss&&Cm(At,Ur),Pr;if(Nr===null){for(;!Bo.done;Ur++,Bo=Lt.next())Bo=wn(At,Bo.value,Mn),Bo!==null&&(gt=ne(Bo,gt,Ur),_r===null?Pr=Bo:_r.sibling=Bo,_r=Bo);return Ss&&Cm(At,Ur),Pr}for(Nr=N(At,Nr);!Bo.done;Ur++,Bo=Lt.next())Bo=ir(Nr,At,Ur,Bo.value,Mn),Bo!==null&&(b&&Bo.alternate!==null&&Nr.delete(Bo.key===null?Ur:Bo.key),gt=ne(Bo,gt,Ur),_r===null?Pr=Bo:_r.sibling=Bo,_r=Bo);return b&&Nr.forEach(function(wM){return C(At,wM)}),Ss&&Cm(At,Ur),Pr}function Ks(At,gt,Lt,Mn){if(typeof Lt=="object"&&Lt!==null&&Lt.type===w&&Lt.key===null&&(Lt=Lt.props.children),typeof Lt=="object"&&Lt!==null){switch(Lt.$$typeof){case E:e:{for(var Pr=Lt.key,_r=gt;_r!==null;){if(_r.key===Pr){if(Pr=Lt.type,Pr===w){if(_r.tag===7){R(At,_r.sibling),gt=G(_r,Lt.props.children),gt.return=At,At=gt;break e}}else if(_r.elementType===Pr||typeof Pr=="object"&&Pr!==null&&Pr.$$typeof===V&&rE(Pr)===_r.type){R(At,_r.sibling),gt=G(_r,Lt.props),gt.ref=xg(At,_r,Lt),gt.return=At,At=gt;break e}R(At,_r);break}else C(At,_r);_r=_r.sibling}Lt.type===w?(gt=Am(Lt.props.children,At.mode,Mn,Lt.key),gt.return=At,At=gt):(Mn=uy(Lt.type,Lt.key,Lt.props,null,At.mode,Mn),Mn.ref=xg(At,gt,Lt),Mn.return=At,At=Mn)}return Oe(At);case k:e:{for(_r=Lt.key;gt!==null;){if(gt.key===_r)if(gt.tag===4&&gt.stateNode.containerInfo===Lt.containerInfo&&gt.stateNode.implementation===Lt.implementation){R(At,gt.sibling),gt=G(gt,Lt.children||[]),gt.return=At,At=gt;break e}else{R(At,gt);break}else C(At,gt);gt=gt.sibling}gt=l0(Lt,At.mode,Mn),gt.return=At,At=gt}return Oe(At);case V:return _r=Lt._init,Ks(At,gt,_r(Lt._payload),Mn)}if(H(Lt))return Dr(At,gt,Lt,Mn);if(X(Lt))return Tr(At,gt,Lt,Mn);Sm(At,Lt)}return typeof Lt=="string"&&Lt!==""||typeof Lt=="number"?(Lt=""+Lt,gt!==null&&gt.tag===6?(R(At,gt.sibling),gt=G(gt,Lt),gt.return=At,At=gt):(R(At,gt),gt=i0(Lt,At.mode,Mn),gt.return=At,At=gt),Oe(At)):R(At,gt)}return Ks}var Ls=DS(!0),Rx=DS(!1),yg=Ki(null),hl=null,gp=null,Jf=null;function xd(){Jf=gp=hl=null}function wx(b){var C=yg.current;Ds(yg),b._currentValue=C}function Qa(b,C,R){for(;b!==null;){var N=b.alternate;if((b.childLanes&C)!==C?(b.childLanes|=C,N!==null&&(N.childLanes|=C)):N!==null&&(N.childLanes&C)!==C&&(N.childLanes|=C),b===R)break;b=b.return}}function bp(b,C){hl=b,Jf=gp=null,b=b.dependencies,b!==null&&b.firstContext!==null&&((b.lanes&C)!==0&&(Mi=!0),b.firstContext=null)}function Ll(b){var C=b._currentValue;if(Jf!==b)if(b={context:b,memoizedValue:C,next:null},gp===null){if(hl===null)throw Error(n(308));gp=b,hl.dependencies={lanes:0,firstContext:b}}else gp=gp.next=b;return C}var vm=null;function SS(b){vm===null?vm=[b]:vm.push(b)}function kx(b,C,R,N){var G=C.interleaved;return G===null?(R.next=R,SS(C)):(R.next=G.next,G.next=R),C.interleaved=R,yd(b,N)}function yd(b,C){b.lanes|=C;var R=b.alternate;for(R!==null&&(R.lanes|=C),R=b,b=b.return;b!==null;)b.childLanes|=C,R=b.alternate,R!==null&&(R.childLanes|=C),R=b,b=b.return;return R.tag===3?R.stateNode:null}var $l=!1;function Ax(b){b.updateQueue={baseState:b.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oE(b,C){b=b.updateQueue,C.updateQueue===b&&(C.updateQueue={baseState:b.baseState,firstBaseUpdate:b.firstBaseUpdate,lastBaseUpdate:b.lastBaseUpdate,shared:b.shared,effects:b.effects})}function Cd(b,C){return{eventTime:b,lane:C,tag:0,payload:null,callback:null,next:null}}function Bl(b,C,R){var N=b.updateQueue;if(N===null)return null;if(N=N.shared,(Fo&2)!==0){var G=N.pending;return G===null?C.next=C:(C.next=G.next,G.next=C),N.pending=C,yd(b,R)}return G=N.interleaved,G===null?(C.next=C,SS(N)):(C.next=G.next,G.next=C),N.interleaved=C,yd(b,R)}function Nx(b,C,R){if(C=C.updateQueue,C!==null&&(C=C.shared,(R&4194240)!==0)){var N=C.lanes;N&=b.pendingLanes,R|=N,C.lanes=R,on(b,R)}}function sE(b,C){var R=b.updateQueue,N=b.alternate;if(N!==null&&(N=N.updateQueue,R===N)){var G=null,ne=null;if(R=R.firstBaseUpdate,R!==null){do{var Oe={eventTime:R.eventTime,lane:R.lane,tag:R.tag,payload:R.payload,callback:R.callback,next:null};ne===null?G=ne=Oe:ne=ne.next=Oe,R=R.next}while(R!==null);ne===null?G=ne=C:ne=ne.next=C}else G=ne=C;R={baseState:N.baseState,firstBaseUpdate:G,lastBaseUpdate:ne,shared:N.shared,effects:N.effects},b.updateQueue=R;return}b=R.lastBaseUpdate,b===null?R.firstBaseUpdate=C:b.next=C,R.lastBaseUpdate=C}function Xf(b,C,R,N){var G=b.updateQueue;$l=!1;var ne=G.firstBaseUpdate,Oe=G.lastBaseUpdate,nt=G.shared.pending;if(nt!==null){G.shared.pending=null;var ut=nt,Ht=ut.next;ut.next=null,Oe===null?ne=Ht:Oe.next=Ht,Oe=ut;var On=b.alternate;On!==null&&(On=On.updateQueue,nt=On.lastBaseUpdate,nt!==Oe&&(nt===null?On.firstBaseUpdate=Ht:nt.next=Ht,On.lastBaseUpdate=ut))}if(ne!==null){var wn=G.baseState;Oe=0,On=Ht=ut=null,nt=ne;do{var In=nt.lane,ir=nt.eventTime;if((N&In)===In){On!==null&&(On=On.next={eventTime:ir,lane:0,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null});e:{var Dr=b,Tr=nt;switch(In=C,ir=R,Tr.tag){case 1:if(Dr=Tr.payload,typeof Dr=="function"){wn=Dr.call(ir,wn,In);break e}wn=Dr;break e;case 3:Dr.flags=Dr.flags&-65537|128;case 0:if(Dr=Tr.payload,In=typeof Dr=="function"?Dr.call(ir,wn,In):Dr,In==null)break e;wn=te({},wn,In);break e;case 2:$l=!0}}nt.callback!==null&&nt.lane!==0&&(b.flags|=64,In=G.effects,In===null?G.effects=[nt]:In.push(nt))}else ir={eventTime:ir,lane:In,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null},On===null?(Ht=On=ir,ut=wn):On=On.next=ir,Oe|=In;if(nt=nt.next,nt===null){if(nt=G.shared.pending,nt===null)break;In=nt,nt=In.next,In.next=null,G.lastBaseUpdate=In,G.shared.pending=null}}while(!0);if(On===null&&(ut=wn),G.baseState=ut,G.firstBaseUpdate=Ht,G.lastBaseUpdate=On,C=G.shared.interleaved,C!==null){G=C;do Oe|=G.lane,G=G.next;while(G!==C)}else ne===null&&(G.shared.lanes=0);Sp|=Oe,b.lanes=Oe,b.memoizedState=wn}}function vS(b,C,R){if(b=C.effects,C.effects=null,b!==null)for(C=0;C<b.length;C++){var N=b[C],G=N.callback;if(G!==null){if(N.callback=null,N=R,typeof G!="function")throw Error(n(191,G));G.call(N)}}}var Cg={},Au=Ki(Cg),Dg=Ki(Cg),Zf=Ki(Cg);function Dd(b){if(b===Cg)throw Error(n(174));return b}function jS(b,C){switch(ms(Zf,C),ms(Dg,b),ms(Au,Cg),b=C.nodeType,b){case 9:case 11:C=(C=C.documentElement)?C.namespaceURI:ye(null,"");break;default:b=b===8?C.parentNode:C,C=b.namespaceURI||null,b=b.tagName,C=ye(C,b)}Ds(Au),ms(Au,C)}function xp(){Ds(Au),Ds(Dg),Ds(Zf)}function IS(b){Dd(Zf.current);var C=Dd(Au.current),R=ye(C,b.type);C!==R&&(ms(Dg,b),ms(Au,R))}function Fx(b){Dg.current===b&&(Ds(Au),Ds(Dg))}var Es=Ki(0);function jm(b){for(var C=b;C!==null;){if(C.tag===13){var R=C.memoizedState;if(R!==null&&(R=R.dehydrated,R===null||R.data==="$?"||R.data==="$!"))return C}else if(C.tag===19&&C.memoizedProps.revealOrder!==void 0){if((C.flags&128)!==0)return C}else if(C.child!==null){C.child.return=C,C=C.child;continue}if(C===b)break;for(;C.sibling===null;){if(C.return===null||C.return===b)return null;C=C.return}C.sibling.return=C.return,C=C.sibling}return null}var TS=[];function Mx(){for(var b=0;b<TS.length;b++)TS[b]._workInProgressVersionPrimary=null;TS.length=0}var Sg=P.ReactCurrentDispatcher,OS=P.ReactCurrentBatchConfig,yp=0,ks=null,Gs=null,ya=null,eh=!1,vg=!1,Im=0,co=0;function xi(){throw Error(n(321))}function ES(b,C){if(C===null)return!1;for(var R=0;R<C.length&&R<b.length;R++)if(!Ut(b[R],C[R]))return!1;return!0}function Tm(b,C,R,N,G,ne){if(yp=ne,ks=C,C.memoizedState=null,C.updateQueue=null,C.lanes=0,Sg.current=b===null||b.memoizedState===null?pM:qx,b=R(N,G),vg){ne=0;do{if(vg=!1,Im=0,25<=ne)throw Error(n(301));ne+=1,ya=Gs=null,C.updateQueue=null,Sg.current=oh,b=R(N,G)}while(vg)}if(Sg.current=Ux,C=Gs!==null&&Gs.next!==null,yp=0,ya=Gs=ks=null,eh=!1,C)throw Error(n(300));return b}function _x(){var b=Im!==0;return Im=0,b}function Nu(){var b={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ya===null?ks.memoizedState=ya=b:ya=ya.next=b,ya}function Wl(){if(Gs===null){var b=ks.alternate;b=b!==null?b.memoizedState:null}else b=Gs.next;var C=ya===null?ks.memoizedState:ya.next;if(C!==null)ya=C,Gs=b;else{if(b===null)throw Error(n(310));Gs=b,b={memoizedState:Gs.memoizedState,baseState:Gs.baseState,baseQueue:Gs.baseQueue,queue:Gs.queue,next:null},ya===null?ks.memoizedState=ya=b:ya=ya.next=b}return ya}function yi(b,C){return typeof C=="function"?C(b):C}function PS(b){var C=Wl(),R=C.queue;if(R===null)throw Error(n(311));R.lastRenderedReducer=b;var N=Gs,G=N.baseQueue,ne=R.pending;if(ne!==null){if(G!==null){var Oe=G.next;G.next=ne.next,ne.next=Oe}N.baseQueue=G=ne,R.pending=null}if(G!==null){ne=G.next,N=N.baseState;var nt=Oe=null,ut=null,Ht=ne;do{var On=Ht.lane;if((yp&On)===On)ut!==null&&(ut=ut.next={lane:0,action:Ht.action,hasEagerState:Ht.hasEagerState,eagerState:Ht.eagerState,next:null}),N=Ht.hasEagerState?Ht.eagerState:b(N,Ht.action);else{var wn={lane:On,action:Ht.action,hasEagerState:Ht.hasEagerState,eagerState:Ht.eagerState,next:null};ut===null?(nt=ut=wn,Oe=N):ut=ut.next=wn,ks.lanes|=On,Sp|=On}Ht=Ht.next}while(Ht!==null&&Ht!==ne);ut===null?Oe=N:ut.next=nt,Ut(N,C.memoizedState)||(Mi=!0),C.memoizedState=N,C.baseState=Oe,C.baseQueue=ut,R.lastRenderedState=N}if(b=R.interleaved,b!==null){G=b;do ne=G.lane,ks.lanes|=ne,Sp|=ne,G=G.next;while(G!==b)}else G===null&&(R.lanes=0);return[C.memoizedState,R.dispatch]}function th(b){var C=Wl(),R=C.queue;if(R===null)throw Error(n(311));R.lastRenderedReducer=b;var N=R.dispatch,G=R.pending,ne=C.memoizedState;if(G!==null){R.pending=null;var Oe=G=G.next;do ne=b(ne,Oe.action),Oe=Oe.next;while(Oe!==G);Ut(ne,C.memoizedState)||(Mi=!0),C.memoizedState=ne,C.baseQueue===null&&(C.baseState=ne),R.lastRenderedState=ne}return[ne,N]}function Lx(){}function RS(b,C){var R=ks,N=Wl(),G=C(),ne=!Ut(N.memoizedState,G);if(ne&&(N.memoizedState=G,Mi=!0),N=N.queue,Fu(Sd.bind(null,R,N,b),[b]),N.getSnapshot!==C||ne||ya!==null&&ya.memoizedState.tag&1){if(R.flags|=2048,nh(9,Xi.bind(null,R,N,G,C),void 0,null),La===null)throw Error(n(349));(yp&30)!==0||wS(R,C,G)}return G}function wS(b,C,R){b.flags|=16384,b={getSnapshot:C,value:R},C=ks.updateQueue,C===null?(C={lastEffect:null,stores:null},ks.updateQueue=C,C.stores=[b]):(R=C.stores,R===null?C.stores=[b]:R.push(b))}function Xi(b,C,R,N){C.value=R,C.getSnapshot=N,$x(C)&&kS(b)}function Sd(b,C,R){return R(function(){$x(C)&&kS(b)})}function $x(b){var C=b.getSnapshot;b=b.value;try{var R=C();return!Ut(b,R)}catch{return!0}}function kS(b){var C=yd(b,1);C!==null&&Ic(C,b,1,-1)}function jg(b){var C=Nu();return typeof b=="function"&&(b=b()),C.memoizedState=C.baseState=b,b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:b},C.queue=b,b=b.dispatch=dE.bind(null,ks,b),[C.memoizedState,b]}function nh(b,C,R,N){return b={tag:b,create:C,destroy:R,deps:N,next:null},C=ks.updateQueue,C===null?(C={lastEffect:null,stores:null},ks.updateQueue=C,C.lastEffect=b.next=b):(R=C.lastEffect,R===null?C.lastEffect=b.next=b:(N=R.next,R.next=b,b.next=N,C.lastEffect=b)),b}function Bx(){return Wl().memoizedState}function Ig(b,C,R,N){var G=Nu();ks.flags|=b,G.memoizedState=nh(1|C,R,void 0,N===void 0?null:N)}function rh(b,C,R,N){var G=Wl();N=N===void 0?null:N;var ne=void 0;if(Gs!==null){var Oe=Gs.memoizedState;if(ne=Oe.destroy,N!==null&&ES(N,Oe.deps)){G.memoizedState=nh(C,R,ne,N);return}}ks.flags|=b,G.memoizedState=nh(1|C,R,ne,N)}function Wx(b,C){return Ig(8390656,8,b,C)}function Fu(b,C){return rh(2048,8,b,C)}function aE(b,C){return rh(4,2,b,C)}function vd(b,C){return rh(4,4,b,C)}function AS(b,C){if(typeof C=="function")return b=b(),C(b),function(){C(null)};if(C!=null)return b=b(),C.current=b,function(){C.current=null}}function NS(b,C,R){return R=R!=null?R.concat([b]):null,rh(4,4,AS.bind(null,C,b),R)}function Tg(){}function iE(b,C){var R=Wl();C=C===void 0?null:C;var N=R.memoizedState;return N!==null&&C!==null&&ES(C,N[1])?N[0]:(R.memoizedState=[b,C],b)}function lE(b,C){var R=Wl();C=C===void 0?null:C;var N=R.memoizedState;return N!==null&&C!==null&&ES(C,N[1])?N[0]:(b=b(),R.memoizedState=[b,C],b)}function cE(b,C,R){return(yp&21)===0?(b.baseState&&(b.baseState=!1,Mi=!0),b.memoizedState=R):(Ut(R,C)||(R=Wn(),ks.lanes|=R,Sp|=R,b.baseState=!0),C)}function uE(b,C){var R=an;an=R!==0&&4>R?R:4,b(!0);var N=OS.transition;OS.transition={};try{b(!1),C()}finally{an=R,OS.transition=N}}function FS(){return Wl().memoizedState}function dM(b,C,R){var N=Ip(b);if(R={lane:N,action:R,hasEagerState:!1,eagerState:null,next:null},MS(b))Fi(C,R);else if(R=kx(b,C,R,N),R!==null){var G=$i();Ic(R,b,N,G),Cc(R,C,N)}}function dE(b,C,R){var N=Ip(b),G={lane:N,action:R,hasEagerState:!1,eagerState:null,next:null};if(MS(b))Fi(C,G);else{var ne=b.alternate;if(b.lanes===0&&(ne===null||ne.lanes===0)&&(ne=C.lastRenderedReducer,ne!==null))try{var Oe=C.lastRenderedState,nt=ne(Oe,R);if(G.hasEagerState=!0,G.eagerState=nt,Ut(nt,Oe)){var ut=C.interleaved;ut===null?(G.next=G,SS(C)):(G.next=ut.next,ut.next=G),C.interleaved=G;return}}catch{}finally{}R=kx(b,C,G,N),R!==null&&(G=$i(),Ic(R,b,N,G),Cc(R,C,N))}}function MS(b){var C=b.alternate;return b===ks||C!==null&&C===ks}function Fi(b,C){vg=eh=!0;var R=b.pending;R===null?C.next=C:(C.next=R.next,R.next=C),b.pending=C}function Cc(b,C,R){if((R&4194240)!==0){var N=C.lanes;N&=b.pendingLanes,R|=N,C.lanes=R,on(b,R)}}var Ux={readContext:Ll,useCallback:xi,useContext:xi,useEffect:xi,useImperativeHandle:xi,useInsertionEffect:xi,useLayoutEffect:xi,useMemo:xi,useReducer:xi,useRef:xi,useState:xi,useDebugValue:xi,useDeferredValue:xi,useTransition:xi,useMutableSource:xi,useSyncExternalStore:xi,useId:xi,unstable_isNewReconciler:!1},pM={readContext:Ll,useCallback:function(b,C){return Nu().memoizedState=[b,C===void 0?null:C],b},useContext:Ll,useEffect:Wx,useImperativeHandle:function(b,C,R){return R=R!=null?R.concat([b]):null,Ig(4194308,4,AS.bind(null,C,b),R)},useLayoutEffect:function(b,C){return Ig(4194308,4,b,C)},useInsertionEffect:function(b,C){return Ig(4,2,b,C)},useMemo:function(b,C){var R=Nu();return C=C===void 0?null:C,b=b(),R.memoizedState=[b,C],b},useReducer:function(b,C,R){var N=Nu();return C=R!==void 0?R(C):C,N.memoizedState=N.baseState=C,b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:b,lastRenderedState:C},N.queue=b,b=b.dispatch=dM.bind(null,ks,b),[N.memoizedState,b]},useRef:function(b){var C=Nu();return b={current:b},C.memoizedState=b},useState:jg,useDebugValue:Tg,useDeferredValue:function(b){return Nu().memoizedState=b},useTransition:function(){var b=jg(!1),C=b[0];return b=uE.bind(null,b[1]),Nu().memoizedState=b,[C,b]},useMutableSource:function(){},useSyncExternalStore:function(b,C,R){var N=ks,G=Nu();if(Ss){if(R===void 0)throw Error(n(407));R=R()}else{if(R=C(),La===null)throw Error(n(349));(yp&30)!==0||wS(N,C,R)}G.memoizedState=R;var ne={value:R,getSnapshot:C};return G.queue=ne,Wx(Sd.bind(null,N,ne,b),[b]),N.flags|=2048,nh(9,Xi.bind(null,N,ne,R,C),void 0,null),R},useId:function(){var b=Nu(),C=La.identifierPrefix;if(Ss){var R=Pu,N=Eu;R=(N&~(1<<32-di(N)-1)).toString(32)+R,C=":"+C+"R"+R,R=Im++,0<R&&(C+="H"+R.toString(32)),C+=":"}else R=co++,C=":"+C+"r"+R.toString(32)+":";return b.memoizedState=C},unstable_isNewReconciler:!1},qx={readContext:Ll,useCallback:iE,useContext:Ll,useEffect:Fu,useImperativeHandle:NS,useInsertionEffect:aE,useLayoutEffect:vd,useMemo:lE,useReducer:PS,useRef:Bx,useState:function(){return PS(yi)},useDebugValue:Tg,useDeferredValue:function(b){var C=Wl();return cE(C,Gs.memoizedState,b)},useTransition:function(){var b=PS(yi)[0],C=Wl().memoizedState;return[b,C]},useMutableSource:Lx,useSyncExternalStore:RS,useId:FS,unstable_isNewReconciler:!1},oh={readContext:Ll,useCallback:iE,useContext:Ll,useEffect:Fu,useImperativeHandle:NS,useInsertionEffect:aE,useLayoutEffect:vd,useMemo:lE,useReducer:th,useRef:Bx,useState:function(){return th(yi)},useDebugValue:Tg,useDeferredValue:function(b){var C=Wl();return Gs===null?C.memoizedState=b:cE(C,Gs.memoizedState,b)},useTransition:function(){var b=th(yi)[0],C=Wl().memoizedState;return[b,C]},useMutableSource:Lx,useSyncExternalStore:RS,useId:FS,unstable_isNewReconciler:!1};function Ul(b,C){if(b&&b.defaultProps){C=te({},C),b=b.defaultProps;for(var R in b)C[R]===void 0&&(C[R]=b[R]);return C}return C}function Vx(b,C,R,N){C=b.memoizedState,R=R(N,C),R=R==null?C:te({},C,R),b.memoizedState=R,b.lanes===0&&(b.updateQueue.baseState=R)}var zx={isMounted:function(b){return(b=b._reactInternals)?lt(b)===b:!1},enqueueSetState:function(b,C,R){b=b._reactInternals;var N=$i(),G=Ip(b),ne=Cd(N,G);ne.payload=C,R!=null&&(ne.callback=R),C=Bl(b,ne,G),C!==null&&(Ic(C,b,G,N),Nx(C,b,G))},enqueueReplaceState:function(b,C,R){b=b._reactInternals;var N=$i(),G=Ip(b),ne=Cd(N,G);ne.tag=1,ne.payload=C,R!=null&&(ne.callback=R),C=Bl(b,ne,G),C!==null&&(Ic(C,b,G,N),Nx(C,b,G))},enqueueForceUpdate:function(b,C){b=b._reactInternals;var R=$i(),N=Ip(b),G=Cd(R,N);G.tag=2,C!=null&&(G.callback=C),C=Bl(b,G,N),C!==null&&(Ic(C,b,N,R),Nx(C,b,N))}};function _S(b,C,R,N,G,ne,Oe){return b=b.stateNode,typeof b.shouldComponentUpdate=="function"?b.shouldComponentUpdate(N,ne,Oe):C.prototype&&C.prototype.isPureReactComponent?!ar(R,N)||!ar(G,ne):!0}function Om(b,C,R){var N=!1,G=fp,ne=C.contextType;return typeof ne=="object"&&ne!==null?ne=Ll(ne):(G=Yi(C)?Ni:hi.current,N=C.contextTypes,ne=(N=N!=null)?Qf(b,G):fp),C=new C(R,ne),b.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=zx,b.stateNode=C,C._reactInternals=b,N&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=G,b.__reactInternalMemoizedMaskedChildContext=ne),C}function sh(b,C,R,N){b=C.state,typeof C.componentWillReceiveProps=="function"&&C.componentWillReceiveProps(R,N),typeof C.UNSAFE_componentWillReceiveProps=="function"&&C.UNSAFE_componentWillReceiveProps(R,N),C.state!==b&&zx.enqueueReplaceState(C,C.state,null)}function LS(b,C,R,N){var G=b.stateNode;G.props=R,G.state=b.memoizedState,G.refs={},Ax(b);var ne=C.contextType;typeof ne=="object"&&ne!==null?G.context=Ll(ne):(ne=Yi(C)?Ni:hi.current,G.context=Qf(b,ne)),G.state=b.memoizedState,ne=C.getDerivedStateFromProps,typeof ne=="function"&&(Vx(b,C,ne,R),G.state=b.memoizedState),typeof C.getDerivedStateFromProps=="function"||typeof G.getSnapshotBeforeUpdate=="function"||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(C=G.state,typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount(),C!==G.state&&zx.enqueueReplaceState(G,G.state,null),Xf(b,R,G,N),G.state=b.memoizedState),typeof G.componentDidMount=="function"&&(b.flags|=4194308)}function Em(b,C){try{var R="",N=C;do R+=ge(N),N=N.return;while(N);var G=R}catch(ne){G=`
Error generating stack: `+ne.message+`
`+ne.stack}return{value:b,source:C,stack:G,digest:null}}function Hx(b,C,R){return{value:b,source:null,stack:R??null,digest:C??null}}function ah(b,C){try{console.error(C.value)}catch(R){setTimeout(function(){throw R})}}var pE=typeof WeakMap=="function"?WeakMap:Map;function Og(b,C,R){R=Cd(-1,R),R.tag=3,R.payload={element:null};var N=C.value;return R.callback=function(){ry||(ry=!0,e0=N),ah(b,C)},R}function Gx(b,C,R){R=Cd(-1,R),R.tag=3;var N=b.type.getDerivedStateFromError;if(typeof N=="function"){var G=C.value;R.payload=function(){return N(G)},R.callback=function(){ah(b,C)}}var ne=b.stateNode;return ne!==null&&typeof ne.componentDidCatch=="function"&&(R.callback=function(){ah(b,C),typeof N!="function"&&(vp===null?vp=new Set([this]):vp.add(this));var Oe=C.stack;this.componentDidCatch(C.value,{componentStack:Oe!==null?Oe:""})}),R}function Eg(b,C,R){var N=b.pingCache;if(N===null){N=b.pingCache=new pE;var G=new Set;N.set(C,G)}else G=N.get(C),G===void 0&&(G=new Set,N.set(C,G));G.has(R)||(G.add(R),b=CM.bind(null,b,C,R),C.then(b,b))}function mE(b){do{var C;if((C=b.tag===13)&&(C=b.memoizedState,C=C!==null?C.dehydrated!==null:!0),C)return b;b=b.return}while(b!==null);return null}function $S(b,C,R,N,G){return(b.mode&1)===0?(b===C?b.flags|=65536:(b.flags|=128,R.flags|=131072,R.flags&=-52805,R.tag===1&&(R.alternate===null?R.tag=17:(C=Cd(-1,1),C.tag=2,Bl(R,C,1))),R.lanes|=1),b):(b.flags|=65536,b.lanes=G,b)}var Kx=P.ReactCurrentOwner,Mi=!1;function Ya(b,C,R,N){C.child=b===null?Rx(C,null,R,N):Ls(C,b.child,R,N)}function fE(b,C,R,N,G){R=R.render;var ne=C.ref;return bp(C,G),N=Tm(b,C,R,N,ne,G),R=_x(),b!==null&&!Mi?(C.updateQueue=b.updateQueue,C.flags&=-2053,b.lanes&=~G,Dc(b,C,G)):(Ss&&R&&gg(C),C.flags|=1,Ya(b,C,N,G),C.child)}function BS(b,C,R,N,G){if(b===null){var ne=R.type;return typeof ne=="function"&&!cy(ne)&&ne.defaultProps===void 0&&R.compare===null&&R.defaultProps===void 0?(C.tag=15,C.type=ne,Mu(b,C,ne,N,G)):(b=uy(R.type,null,N,C,C.mode,G),b.ref=C.ref,b.return=C,C.child=b)}if(ne=b.child,(b.lanes&G)===0){var Oe=ne.memoizedProps;if(R=R.compare,R=R!==null?R:ar,R(Oe,N)&&b.ref===C.ref)return Dc(b,C,G)}return C.flags|=1,b=Tc(ne,N),b.ref=C.ref,b.return=C,C.child=b}function Mu(b,C,R,N,G){if(b!==null){var ne=b.memoizedProps;if(ar(ne,N)&&b.ref===C.ref)if(Mi=!1,C.pendingProps=N=ne,(b.lanes&G)!==0)(b.flags&131072)!==0&&(Mi=!0);else return C.lanes=b.lanes,Dc(b,C,G)}return qS(b,C,R,N,G)}function WS(b,C,R){var N=C.pendingProps,G=N.children,ne=b!==null?b.memoizedState:null;if(N.mode==="hidden")if((C.mode&1)===0)C.memoizedState={baseLanes:0,cachePool:null,transitions:null},ms(uh,bl),bl|=R;else{if((R&1073741824)===0)return b=ne!==null?ne.baseLanes|R:R,C.lanes=C.childLanes=1073741824,C.memoizedState={baseLanes:b,cachePool:null,transitions:null},C.updateQueue=null,ms(uh,bl),bl|=b,null;C.memoizedState={baseLanes:0,cachePool:null,transitions:null},N=ne!==null?ne.baseLanes:R,ms(uh,bl),bl|=N}else ne!==null?(N=ne.baseLanes|R,C.memoizedState=null):N=R,ms(uh,bl),bl|=N;return Ya(b,C,G,R),C.child}function US(b,C){var R=C.ref;(b===null&&R!==null||b!==null&&b.ref!==R)&&(C.flags|=512,C.flags|=2097152)}function qS(b,C,R,N,G){var ne=Yi(R)?Ni:hi.current;return ne=Qf(C,ne),bp(C,G),R=Tm(b,C,R,N,ne,G),N=_x(),b!==null&&!Mi?(C.updateQueue=b.updateQueue,C.flags&=-2053,b.lanes&=~G,Dc(b,C,G)):(Ss&&N&&gg(C),C.flags|=1,Ya(b,C,R,G),C.child)}function VS(b,C,R,N,G){if(Yi(R)){var ne=!0;Fl(C)}else ne=!1;if(bp(C,G),C.stateNode===null)Yx(b,C),Om(C,R,N),LS(C,R,N,G),N=!0;else if(b===null){var Oe=C.stateNode,nt=C.memoizedProps;Oe.props=nt;var ut=Oe.context,Ht=R.contextType;typeof Ht=="object"&&Ht!==null?Ht=Ll(Ht):(Ht=Yi(R)?Ni:hi.current,Ht=Qf(C,Ht));var On=R.getDerivedStateFromProps,wn=typeof On=="function"||typeof Oe.getSnapshotBeforeUpdate=="function";wn||typeof Oe.UNSAFE_componentWillReceiveProps!="function"&&typeof Oe.componentWillReceiveProps!="function"||(nt!==N||ut!==Ht)&&sh(C,Oe,N,Ht),$l=!1;var In=C.memoizedState;Oe.state=In,Xf(C,N,Oe,G),ut=C.memoizedState,nt!==N||In!==ut||Qi.current||$l?(typeof On=="function"&&(Vx(C,R,On,N),ut=C.memoizedState),(nt=$l||_S(C,R,nt,N,In,ut,Ht))?(wn||typeof Oe.UNSAFE_componentWillMount!="function"&&typeof Oe.componentWillMount!="function"||(typeof Oe.componentWillMount=="function"&&Oe.componentWillMount(),typeof Oe.UNSAFE_componentWillMount=="function"&&Oe.UNSAFE_componentWillMount()),typeof Oe.componentDidMount=="function"&&(C.flags|=4194308)):(typeof Oe.componentDidMount=="function"&&(C.flags|=4194308),C.memoizedProps=N,C.memoizedState=ut),Oe.props=N,Oe.state=ut,Oe.context=Ht,N=nt):(typeof Oe.componentDidMount=="function"&&(C.flags|=4194308),N=!1)}else{Oe=C.stateNode,oE(b,C),nt=C.memoizedProps,Ht=C.type===C.elementType?nt:Ul(C.type,nt),Oe.props=Ht,wn=C.pendingProps,In=Oe.context,ut=R.contextType,typeof ut=="object"&&ut!==null?ut=Ll(ut):(ut=Yi(R)?Ni:hi.current,ut=Qf(C,ut));var ir=R.getDerivedStateFromProps;(On=typeof ir=="function"||typeof Oe.getSnapshotBeforeUpdate=="function")||typeof Oe.UNSAFE_componentWillReceiveProps!="function"&&typeof Oe.componentWillReceiveProps!="function"||(nt!==wn||In!==ut)&&sh(C,Oe,N,ut),$l=!1,In=C.memoizedState,Oe.state=In,Xf(C,N,Oe,G);var Dr=C.memoizedState;nt!==wn||In!==Dr||Qi.current||$l?(typeof ir=="function"&&(Vx(C,R,ir,N),Dr=C.memoizedState),(Ht=$l||_S(C,R,Ht,N,In,Dr,ut)||!1)?(On||typeof Oe.UNSAFE_componentWillUpdate!="function"&&typeof Oe.componentWillUpdate!="function"||(typeof Oe.componentWillUpdate=="function"&&Oe.componentWillUpdate(N,Dr,ut),typeof Oe.UNSAFE_componentWillUpdate=="function"&&Oe.UNSAFE_componentWillUpdate(N,Dr,ut)),typeof Oe.componentDidUpdate=="function"&&(C.flags|=4),typeof Oe.getSnapshotBeforeUpdate=="function"&&(C.flags|=1024)):(typeof Oe.componentDidUpdate!="function"||nt===b.memoizedProps&&In===b.memoizedState||(C.flags|=4),typeof Oe.getSnapshotBeforeUpdate!="function"||nt===b.memoizedProps&&In===b.memoizedState||(C.flags|=1024),C.memoizedProps=N,C.memoizedState=Dr),Oe.props=N,Oe.state=Dr,Oe.context=ut,N=Ht):(typeof Oe.componentDidUpdate!="function"||nt===b.memoizedProps&&In===b.memoizedState||(C.flags|=4),typeof Oe.getSnapshotBeforeUpdate!="function"||nt===b.memoizedProps&&In===b.memoizedState||(C.flags|=1024),N=!1)}return zS(b,C,R,N,ne,G)}function zS(b,C,R,N,G,ne){US(b,C);var Oe=(C.flags&128)!==0;if(!N&&!Oe)return G&&XO(C,R,!1),Dc(b,C,ne);N=C.stateNode,Kx.current=C;var nt=Oe&&typeof R.getDerivedStateFromError!="function"?null:N.render();return C.flags|=1,b!==null&&Oe?(C.child=Ls(C,b.child,null,ne),C.child=Ls(C,null,nt,ne)):Ya(b,C,nt,ne),C.memoizedState=N.state,G&&XO(C,R,!0),C.child}function hE(b){var C=b.stateNode;C.pendingContext?YO(b,C.pendingContext,C.pendingContext!==C.context):C.context&&YO(b,C.context,!1),jS(b,C.containerInfo)}function _u(b,C,R,N,G){return wu(),ku(G),C.flags|=256,Ya(b,C,R,N),C.child}var Pg={dehydrated:null,treeContext:null,retryLane:0};function Rg(b){return{baseLanes:b,cachePool:null,transitions:null}}function Qx(b,C,R){var N=C.pendingProps,G=Es.current,ne=!1,Oe=(C.flags&128)!==0,nt;if((nt=Oe)||(nt=b!==null&&b.memoizedState===null?!1:(G&2)!==0),nt?(ne=!0,C.flags&=-129):(b===null||b.memoizedState!==null)&&(G|=1),ms(Es,G&1),b===null)return Ji(C),b=C.memoizedState,b!==null&&(b=b.dehydrated,b!==null)?((C.mode&1)===0?C.lanes=1:b.data==="$!"?C.lanes=8:C.lanes=1073741824,null):(Oe=N.children,b=N.fallback,ne?(N=C.mode,ne=C.child,Oe={mode:"hidden",children:Oe},(N&1)===0&&ne!==null?(ne.childLanes=0,ne.pendingProps=Oe):ne=dy(Oe,N,0,null),b=Am(b,N,R,null),ne.return=C,b.return=C,ne.sibling=b,C.child=ne,C.child.memoizedState=Rg(R),C.memoizedState=Pg,b):ih(C,Oe));if(G=b.memoizedState,G!==null&&(nt=G.dehydrated,nt!==null))return $r(b,C,Oe,N,nt,G,R);if(ne){ne=N.fallback,Oe=C.mode,G=b.child,nt=G.sibling;var ut={mode:"hidden",children:N.children};return(Oe&1)===0&&C.child!==G?(N=C.child,N.childLanes=0,N.pendingProps=ut,C.deletions=null):(N=Tc(G,ut),N.subtreeFlags=G.subtreeFlags&14680064),nt!==null?ne=Tc(nt,ne):(ne=Am(ne,Oe,R,null),ne.flags|=2),ne.return=C,N.return=C,N.sibling=ne,C.child=N,N=ne,ne=C.child,Oe=b.child.memoizedState,Oe=Oe===null?Rg(R):{baseLanes:Oe.baseLanes|R,cachePool:null,transitions:Oe.transitions},ne.memoizedState=Oe,ne.childLanes=b.childLanes&~R,C.memoizedState=Pg,N}return ne=b.child,b=ne.sibling,N=Tc(ne,{mode:"visible",children:N.children}),(C.mode&1)===0&&(N.lanes=R),N.return=C,N.sibling=null,b!==null&&(R=C.deletions,R===null?(C.deletions=[b],C.flags|=16):R.push(b)),C.child=N,C.memoizedState=null,N}function ih(b,C){return C=dy({mode:"visible",children:C},b.mode,0,null),C.return=b,b.child=C}function jd(b,C,R,N){return N!==null&&ku(N),Ls(C,b.child,null,R),b=ih(C,C.pendingProps.children),b.flags|=2,C.memoizedState=null,b}function $r(b,C,R,N,G,ne,Oe){if(R)return C.flags&256?(C.flags&=-257,N=Hx(Error(n(422))),jd(b,C,Oe,N)):C.memoizedState!==null?(C.child=b.child,C.flags|=128,null):(ne=N.fallback,G=C.mode,N=dy({mode:"visible",children:N.children},G,0,null),ne=Am(ne,G,Oe,null),ne.flags|=2,N.return=C,ne.return=C,N.sibling=ne,C.child=N,(C.mode&1)!==0&&Ls(C,b.child,null,Oe),C.child.memoizedState=Rg(Oe),C.memoizedState=Pg,ne);if((C.mode&1)===0)return jd(b,C,Oe,null);if(G.data==="$!"){if(N=G.nextSibling&&G.nextSibling.dataset,N)var nt=N.dgst;return N=nt,ne=Error(n(419)),N=Hx(ne,N,void 0),jd(b,C,Oe,N)}if(nt=(Oe&b.childLanes)!==0,Mi||nt){if(N=La,N!==null){switch(Oe&-Oe){case 4:G=2;break;case 16:G=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:G=32;break;case 536870912:G=268435456;break;default:G=0}G=(G&(N.suspendedLanes|Oe))!==0?0:G,G!==0&&G!==ne.retryLane&&(ne.retryLane=G,yd(b,G),Ic(N,b,G,-1))}return a0(),N=Hx(Error(n(421))),jd(b,C,Oe,N)}return G.data==="$?"?(C.flags|=128,C.child=b.child,C=DM.bind(null,b),G._reactRetry=C,null):(b=ne.treeContext,fl=pp(G.nextSibling),bi=C,Ss=!0,yc=null,b!==null&&(Ml[_l++]=Eu,Ml[_l++]=Pu,Ml[_l++]=ym,Eu=b.id,Pu=b.overflow,ym=C),C=ih(C,N.children),C.flags|=4096,C)}function wg(b,C,R){b.lanes|=C;var N=b.alternate;N!==null&&(N.lanes|=C),Qa(b.return,C,R)}function kg(b,C,R,N,G){var ne=b.memoizedState;ne===null?b.memoizedState={isBackwards:C,rendering:null,renderingStartTime:0,last:N,tail:R,tailMode:G}:(ne.isBackwards=C,ne.rendering=null,ne.renderingStartTime=0,ne.last=N,ne.tail=R,ne.tailMode=G)}function Cp(b,C,R){var N=C.pendingProps,G=N.revealOrder,ne=N.tail;if(Ya(b,C,N.children,R),N=Es.current,(N&2)!==0)N=N&1|2,C.flags|=128;else{if(b!==null&&(b.flags&128)!==0)e:for(b=C.child;b!==null;){if(b.tag===13)b.memoizedState!==null&&wg(b,R,C);else if(b.tag===19)wg(b,R,C);else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===C)break e;for(;b.sibling===null;){if(b.return===null||b.return===C)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}N&=1}if(ms(Es,N),(C.mode&1)===0)C.memoizedState=null;else switch(G){case"forwards":for(R=C.child,G=null;R!==null;)b=R.alternate,b!==null&&jm(b)===null&&(G=R),R=R.sibling;R=G,R===null?(G=C.child,C.child=null):(G=R.sibling,R.sibling=null),kg(C,!1,G,R,ne);break;case"backwards":for(R=null,G=C.child,C.child=null;G!==null;){if(b=G.alternate,b!==null&&jm(b)===null){C.child=G;break}b=G.sibling,G.sibling=R,R=G,G=b}kg(C,!0,R,null,ne);break;case"together":kg(C,!1,null,null,void 0);break;default:C.memoizedState=null}return C.child}function Yx(b,C){(C.mode&1)===0&&b!==null&&(b.alternate=null,C.alternate=null,C.flags|=2)}function Dc(b,C,R){if(b!==null&&(C.dependencies=b.dependencies),Sp|=C.lanes,(R&C.childLanes)===0)return null;if(b!==null&&C.child!==b.child)throw Error(n(153));if(C.child!==null){for(b=C.child,R=Tc(b,b.pendingProps),C.child=R,R.return=C;b.sibling!==null;)b=b.sibling,R=R.sibling=Tc(b,b.pendingProps),R.return=C;R.sibling=null}return C.child}function gE(b,C,R){switch(C.tag){case 3:hE(C),wu();break;case 5:IS(C);break;case 1:Yi(C.type)&&Fl(C);break;case 4:jS(C,C.stateNode.containerInfo);break;case 10:var N=C.type._context,G=C.memoizedProps.value;ms(yg,N._currentValue),N._currentValue=G;break;case 13:if(N=C.memoizedState,N!==null)return N.dehydrated!==null?(ms(Es,Es.current&1),C.flags|=128,null):(R&C.child.childLanes)!==0?Qx(b,C,R):(ms(Es,Es.current&1),b=Dc(b,C,R),b!==null?b.sibling:null);ms(Es,Es.current&1);break;case 19:if(N=(R&C.childLanes)!==0,(b.flags&128)!==0){if(N)return Cp(b,C,R);C.flags|=128}if(G=C.memoizedState,G!==null&&(G.rendering=null,G.tail=null,G.lastEffect=null),ms(Es,Es.current),N)break;return null;case 22:case 23:return C.lanes=0,WS(b,C,R)}return Dc(b,C,R)}var Ja,HS,bE,GS;Ja=function(b,C){for(var R=C.child;R!==null;){if(R.tag===5||R.tag===6)b.appendChild(R.stateNode);else if(R.tag!==4&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===C)break;for(;R.sibling===null;){if(R.return===null||R.return===C)return;R=R.return}R.sibling.return=R.return,R=R.sibling}},HS=function(){},bE=function(b,C,R,N){var G=b.memoizedProps;if(G!==N){b=C.stateNode,Dd(Au.current);var ne=null;switch(R){case"input":G=De(b,G),N=De(b,N),ne=[];break;case"select":G=te({},G,{value:void 0}),N=te({},N,{value:void 0}),ne=[];break;case"textarea":G=q(b,G),N=q(b,N),ne=[];break;default:typeof G.onClick!="function"&&typeof N.onClick=="function"&&(b.onclick=Dx)}Ge(R,N);var Oe;R=null;for(Ht in G)if(!N.hasOwnProperty(Ht)&&G.hasOwnProperty(Ht)&&G[Ht]!=null)if(Ht==="style"){var nt=G[Ht];for(Oe in nt)nt.hasOwnProperty(Oe)&&(R||(R={}),R[Oe]="")}else Ht!=="dangerouslySetInnerHTML"&&Ht!=="children"&&Ht!=="suppressContentEditableWarning"&&Ht!=="suppressHydrationWarning"&&Ht!=="autoFocus"&&(s.hasOwnProperty(Ht)?ne||(ne=[]):(ne=ne||[]).push(Ht,null));for(Ht in N){var ut=N[Ht];if(nt=G!=null?G[Ht]:void 0,N.hasOwnProperty(Ht)&&ut!==nt&&(ut!=null||nt!=null))if(Ht==="style")if(nt){for(Oe in nt)!nt.hasOwnProperty(Oe)||ut&&ut.hasOwnProperty(Oe)||(R||(R={}),R[Oe]="");for(Oe in ut)ut.hasOwnProperty(Oe)&&nt[Oe]!==ut[Oe]&&(R||(R={}),R[Oe]=ut[Oe])}else R||(ne||(ne=[]),ne.push(Ht,R)),R=ut;else Ht==="dangerouslySetInnerHTML"?(ut=ut?ut.__html:void 0,nt=nt?nt.__html:void 0,ut!=null&&nt!==ut&&(ne=ne||[]).push(Ht,ut)):Ht==="children"?typeof ut!="string"&&typeof ut!="number"||(ne=ne||[]).push(Ht,""+ut):Ht!=="suppressContentEditableWarning"&&Ht!=="suppressHydrationWarning"&&(s.hasOwnProperty(Ht)?(ut!=null&&Ht==="onScroll"&&Cs("scroll",b),ne||nt===ut||(ne=[])):(ne=ne||[]).push(Ht,ut))}R&&(ne=ne||[]).push("style",R);var Ht=ne;(C.updateQueue=Ht)&&(C.flags|=4)}},GS=function(b,C,R,N){R!==N&&(C.flags|=4)};function Ag(b,C){if(!Ss)switch(b.tailMode){case"hidden":C=b.tail;for(var R=null;C!==null;)C.alternate!==null&&(R=C),C=C.sibling;R===null?b.tail=null:R.sibling=null;break;case"collapsed":R=b.tail;for(var N=null;R!==null;)R.alternate!==null&&(N=R),R=R.sibling;N===null?C||b.tail===null?b.tail=null:b.tail.sibling=null:N.sibling=null}}function Xa(b){var C=b.alternate!==null&&b.alternate.child===b.child,R=0,N=0;if(C)for(var G=b.child;G!==null;)R|=G.lanes|G.childLanes,N|=G.subtreeFlags&14680064,N|=G.flags&14680064,G.return=b,G=G.sibling;else for(G=b.child;G!==null;)R|=G.lanes|G.childLanes,N|=G.subtreeFlags,N|=G.flags,G.return=b,G=G.sibling;return b.subtreeFlags|=N,b.childLanes=R,C}function mM(b,C,R){var N=C.pendingProps;switch(Dm(C),C.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xa(C),null;case 1:return Yi(C.type)&&Ix(),Xa(C),null;case 3:return N=C.stateNode,xp(),Ds(Qi),Ds(hi),Mx(),N.pendingContext&&(N.context=N.pendingContext,N.pendingContext=null),(b===null||b.child===null)&&(bg(C)?C.flags|=4:b===null||b.memoizedState.isDehydrated&&(C.flags&256)===0||(C.flags|=1024,yc!==null&&(r0(yc),yc=null))),HS(b,C),Xa(C),null;case 5:Fx(C);var G=Dd(Zf.current);if(R=C.type,b!==null&&C.stateNode!=null)bE(b,C,R,N,G),b.ref!==C.ref&&(C.flags|=512,C.flags|=2097152);else{if(!N){if(C.stateNode===null)throw Error(n(166));return Xa(C),null}if(b=Dd(Au.current),bg(C)){N=C.stateNode,R=C.type;var ne=C.memoizedProps;switch(N[Tu]=C,N[mp]=ne,b=(C.mode&1)!==0,R){case"dialog":Cs("cancel",N),Cs("close",N);break;case"iframe":case"object":case"embed":Cs("load",N);break;case"video":case"audio":for(G=0;G<hd.length;G++)Cs(hd[G],N);break;case"source":Cs("error",N);break;case"img":case"image":case"link":Cs("error",N),Cs("load",N);break;case"details":Cs("toggle",N);break;case"input":ke(N,ne),Cs("invalid",N);break;case"select":N._wrapperState={wasMultiple:!!ne.multiple},Cs("invalid",N);break;case"textarea":Y(N,ne),Cs("invalid",N)}Ge(R,ne),G=null;for(var Oe in ne)if(ne.hasOwnProperty(Oe)){var nt=ne[Oe];Oe==="children"?typeof nt=="string"?N.textContent!==nt&&(ne.suppressHydrationWarning!==!0&&pg(N.textContent,nt,b),G=["children",nt]):typeof nt=="number"&&N.textContent!==""+nt&&(ne.suppressHydrationWarning!==!0&&pg(N.textContent,nt,b),G=["children",""+nt]):s.hasOwnProperty(Oe)&&nt!=null&&Oe==="onScroll"&&Cs("scroll",N)}switch(R){case"input":de(N),Le(N,ne,!0);break;case"textarea":de(N),B(N);break;case"select":case"option":break;default:typeof ne.onClick=="function"&&(N.onclick=Dx)}N=G,C.updateQueue=N,N!==null&&(C.flags|=4)}else{Oe=G.nodeType===9?G:G.ownerDocument,b==="http://www.w3.org/1999/xhtml"&&(b=Z(R)),b==="http://www.w3.org/1999/xhtml"?R==="script"?(b=Oe.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild)):typeof N.is=="string"?b=Oe.createElement(R,{is:N.is}):(b=Oe.createElement(R),R==="select"&&(Oe=b,N.multiple?Oe.multiple=!0:N.size&&(Oe.size=N.size))):b=Oe.createElementNS(b,R),b[Tu]=C,b[mp]=N,Ja(b,C,!1,!1),C.stateNode=b;e:{switch(Oe=We(R,N),R){case"dialog":Cs("cancel",b),Cs("close",b),G=N;break;case"iframe":case"object":case"embed":Cs("load",b),G=N;break;case"video":case"audio":for(G=0;G<hd.length;G++)Cs(hd[G],b);G=N;break;case"source":Cs("error",b),G=N;break;case"img":case"image":case"link":Cs("error",b),Cs("load",b),G=N;break;case"details":Cs("toggle",b),G=N;break;case"input":ke(b,N),G=De(b,N),Cs("invalid",b);break;case"option":G=N;break;case"select":b._wrapperState={wasMultiple:!!N.multiple},G=te({},N,{value:void 0}),Cs("invalid",b);break;case"textarea":Y(b,N),G=q(b,N),Cs("invalid",b);break;default:G=N}Ge(R,G),nt=G;for(ne in nt)if(nt.hasOwnProperty(ne)){var ut=nt[ne];ne==="style"?Me(b,ut):ne==="dangerouslySetInnerHTML"?(ut=ut?ut.__html:void 0,ut!=null&&le(b,ut)):ne==="children"?typeof ut=="string"?(R!=="textarea"||ut!=="")&&fe(b,ut):typeof ut=="number"&&fe(b,""+ut):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(s.hasOwnProperty(ne)?ut!=null&&ne==="onScroll"&&Cs("scroll",b):ut!=null&&I(b,ne,ut,Oe))}switch(R){case"input":de(b),Le(b,N,!1);break;case"textarea":de(b),B(b);break;case"option":N.value!=null&&b.setAttribute("value",""+Ne(N.value));break;case"select":b.multiple=!!N.multiple,ne=N.value,ne!=null?re(b,!!N.multiple,ne,!1):N.defaultValue!=null&&re(b,!!N.multiple,N.defaultValue,!0);break;default:typeof G.onClick=="function"&&(b.onclick=Dx)}switch(R){case"button":case"input":case"select":case"textarea":N=!!N.autoFocus;break e;case"img":N=!0;break e;default:N=!1}}N&&(C.flags|=4)}C.ref!==null&&(C.flags|=512,C.flags|=2097152)}return Xa(C),null;case 6:if(b&&C.stateNode!=null)GS(b,C,b.memoizedProps,N);else{if(typeof N!="string"&&C.stateNode===null)throw Error(n(166));if(R=Dd(Zf.current),Dd(Au.current),bg(C)){if(N=C.stateNode,R=C.memoizedProps,N[Tu]=C,(ne=N.nodeValue!==R)&&(b=bi,b!==null))switch(b.tag){case 3:pg(N.nodeValue,R,(b.mode&1)!==0);break;case 5:b.memoizedProps.suppressHydrationWarning!==!0&&pg(N.nodeValue,R,(b.mode&1)!==0)}ne&&(C.flags|=4)}else N=(R.nodeType===9?R:R.ownerDocument).createTextNode(N),N[Tu]=C,C.stateNode=N}return Xa(C),null;case 13:if(Ds(Es),N=C.memoizedState,b===null||b.memoizedState!==null&&b.memoizedState.dehydrated!==null){if(Ss&&fl!==null&&(C.mode&1)!==0&&(C.flags&128)===0)CS(),wu(),C.flags|=98560,ne=!1;else if(ne=bg(C),N!==null&&N.dehydrated!==null){if(b===null){if(!ne)throw Error(n(318));if(ne=C.memoizedState,ne=ne!==null?ne.dehydrated:null,!ne)throw Error(n(317));ne[Tu]=C}else wu(),(C.flags&128)===0&&(C.memoizedState=null),C.flags|=4;Xa(C),ne=!1}else yc!==null&&(r0(yc),yc=null),ne=!0;if(!ne)return C.flags&65536?C:null}return(C.flags&128)!==0?(C.lanes=R,C):(N=N!==null,N!==(b!==null&&b.memoizedState!==null)&&N&&(C.child.flags|=8192,(C.mode&1)!==0&&(b===null||(Es.current&1)!==0?Ca===0&&(Ca=3):a0())),C.updateQueue!==null&&(C.flags|=4),Xa(C),null);case 4:return xp(),HS(b,C),b===null&&up(C.stateNode.containerInfo),Xa(C),null;case 10:return wx(C.type._context),Xa(C),null;case 17:return Yi(C.type)&&Ix(),Xa(C),null;case 19:if(Ds(Es),ne=C.memoizedState,ne===null)return Xa(C),null;if(N=(C.flags&128)!==0,Oe=ne.rendering,Oe===null)if(N)Ag(ne,!1);else{if(Ca!==0||b!==null&&(b.flags&128)!==0)for(b=C.child;b!==null;){if(Oe=jm(b),Oe!==null){for(C.flags|=128,Ag(ne,!1),N=Oe.updateQueue,N!==null&&(C.updateQueue=N,C.flags|=4),C.subtreeFlags=0,N=R,R=C.child;R!==null;)ne=R,b=N,ne.flags&=14680066,Oe=ne.alternate,Oe===null?(ne.childLanes=0,ne.lanes=b,ne.child=null,ne.subtreeFlags=0,ne.memoizedProps=null,ne.memoizedState=null,ne.updateQueue=null,ne.dependencies=null,ne.stateNode=null):(ne.childLanes=Oe.childLanes,ne.lanes=Oe.lanes,ne.child=Oe.child,ne.subtreeFlags=0,ne.deletions=null,ne.memoizedProps=Oe.memoizedProps,ne.memoizedState=Oe.memoizedState,ne.updateQueue=Oe.updateQueue,ne.type=Oe.type,b=Oe.dependencies,ne.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),R=R.sibling;return ms(Es,Es.current&1|2),C.child}b=b.sibling}ne.tail!==null&&ro()>Pm&&(C.flags|=128,N=!0,Ag(ne,!1),C.lanes=4194304)}else{if(!N)if(b=jm(Oe),b!==null){if(C.flags|=128,N=!0,R=b.updateQueue,R!==null&&(C.updateQueue=R,C.flags|=4),Ag(ne,!0),ne.tail===null&&ne.tailMode==="hidden"&&!Oe.alternate&&!Ss)return Xa(C),null}else 2*ro()-ne.renderingStartTime>Pm&&R!==1073741824&&(C.flags|=128,N=!0,Ag(ne,!1),C.lanes=4194304);ne.isBackwards?(Oe.sibling=C.child,C.child=Oe):(R=ne.last,R!==null?R.sibling=Oe:C.child=Oe,ne.last=Oe)}return ne.tail!==null?(C=ne.tail,ne.rendering=C,ne.tail=C.sibling,ne.renderingStartTime=ro(),C.sibling=null,R=Es.current,ms(Es,N?R&1|2:R&1),C):(Xa(C),null);case 22:case 23:return s0(),N=C.memoizedState!==null,b!==null&&b.memoizedState!==null!==N&&(C.flags|=8192),N&&(C.mode&1)!==0?(bl&1073741824)!==0&&(Xa(C),C.subtreeFlags&6&&(C.flags|=8192)):Xa(C),null;case 24:return null;case 25:return null}throw Error(n(156,C.tag))}function fM(b,C){switch(Dm(C),C.tag){case 1:return Yi(C.type)&&Ix(),b=C.flags,b&65536?(C.flags=b&-65537|128,C):null;case 3:return xp(),Ds(Qi),Ds(hi),Mx(),b=C.flags,(b&65536)!==0&&(b&128)===0?(C.flags=b&-65537|128,C):null;case 5:return Fx(C),null;case 13:if(Ds(Es),b=C.memoizedState,b!==null&&b.dehydrated!==null){if(C.alternate===null)throw Error(n(340));wu()}return b=C.flags,b&65536?(C.flags=b&-65537|128,C):null;case 19:return Ds(Es),null;case 4:return xp(),null;case 10:return wx(C.type._context),null;case 22:case 23:return s0(),null;case 24:return null;default:return null}}var Jx=!1,Ps=!1,_i=typeof WeakSet=="function"?WeakSet:Set,pr=null;function lh(b,C){var R=b.ref;if(R!==null)if(typeof R=="function")try{R(null)}catch(N){As(b,C,N)}else R.current=null}function Ng(b,C,R){try{R()}catch(N){As(b,C,N)}}var xE=!1;function hM(b,C){if(mg=rx,b=ns(),ag(b)){if("selectionStart"in b)var R={start:b.selectionStart,end:b.selectionEnd};else e:{R=(R=b.ownerDocument)&&R.defaultView||window;var N=R.getSelection&&R.getSelection();if(N&&N.rangeCount!==0){R=N.anchorNode;var G=N.anchorOffset,ne=N.focusNode;N=N.focusOffset;try{R.nodeType,ne.nodeType}catch{R=null;break e}var Oe=0,nt=-1,ut=-1,Ht=0,On=0,wn=b,In=null;t:for(;;){for(var ir;wn!==R||G!==0&&wn.nodeType!==3||(nt=Oe+G),wn!==ne||N!==0&&wn.nodeType!==3||(ut=Oe+N),wn.nodeType===3&&(Oe+=wn.nodeValue.length),(ir=wn.firstChild)!==null;)In=wn,wn=ir;for(;;){if(wn===b)break t;if(In===R&&++Ht===G&&(nt=Oe),In===ne&&++On===N&&(ut=Oe),(ir=wn.nextSibling)!==null)break;wn=In,In=wn.parentNode}wn=ir}R=nt===-1||ut===-1?null:{start:nt,end:ut}}else R=null}R=R||{start:0,end:0}}else R=null;for(bm={focusedElem:b,selectionRange:R},rx=!1,pr=C;pr!==null;)if(C=pr,b=C.child,(C.subtreeFlags&1028)!==0&&b!==null)b.return=C,pr=b;else for(;pr!==null;){C=pr;try{var Dr=C.alternate;if((C.flags&1024)!==0)switch(C.tag){case 0:case 11:case 15:break;case 1:if(Dr!==null){var Tr=Dr.memoizedProps,Ks=Dr.memoizedState,At=C.stateNode,gt=At.getSnapshotBeforeUpdate(C.elementType===C.type?Tr:Ul(C.type,Tr),Ks);At.__reactInternalSnapshotBeforeUpdate=gt}break;case 3:var Lt=C.stateNode.containerInfo;Lt.nodeType===1?Lt.textContent="":Lt.nodeType===9&&Lt.documentElement&&Lt.removeChild(Lt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Mn){As(C,C.return,Mn)}if(b=C.sibling,b!==null){b.return=C.return,pr=b;break}pr=C.return}return Dr=xE,xE=!1,Dr}function Id(b,C,R){var N=C.updateQueue;if(N=N!==null?N.lastEffect:null,N!==null){var G=N=N.next;do{if((G.tag&b)===b){var ne=G.destroy;G.destroy=void 0,ne!==void 0&&Ng(C,R,ne)}G=G.next}while(G!==N)}}function Fg(b,C){if(C=C.updateQueue,C=C!==null?C.lastEffect:null,C!==null){var R=C=C.next;do{if((R.tag&b)===b){var N=R.create;R.destroy=N()}R=R.next}while(R!==C)}}function Xx(b){var C=b.ref;if(C!==null){var R=b.stateNode;switch(b.tag){case 5:b=R;break;default:b=R}typeof C=="function"?C(b):C.current=b}}function yE(b){var C=b.alternate;C!==null&&(b.alternate=null,yE(C)),b.child=null,b.deletions=null,b.sibling=null,b.tag===5&&(C=b.stateNode,C!==null&&(delete C[Tu],delete C[mp],delete C[vx],delete C[Fe],delete C[Gf])),b.stateNode=null,b.return=null,b.dependencies=null,b.memoizedProps=null,b.memoizedState=null,b.pendingProps=null,b.stateNode=null,b.updateQueue=null}function CE(b){return b.tag===5||b.tag===3||b.tag===4}function DE(b){e:for(;;){for(;b.sibling===null;){if(b.return===null||CE(b.return))return null;b=b.return}for(b.sibling.return=b.return,b=b.sibling;b.tag!==5&&b.tag!==6&&b.tag!==18;){if(b.flags&2||b.child===null||b.tag===4)continue e;b.child.return=b,b=b.child}if(!(b.flags&2))return b.stateNode}}function KS(b,C,R){var N=b.tag;if(N===5||N===6)b=b.stateNode,C?R.nodeType===8?R.parentNode.insertBefore(b,C):R.insertBefore(b,C):(R.nodeType===8?(C=R.parentNode,C.insertBefore(b,R)):(C=R,C.appendChild(b)),R=R._reactRootContainer,R!=null||C.onclick!==null||(C.onclick=Dx));else if(N!==4&&(b=b.child,b!==null))for(KS(b,C,R),b=b.sibling;b!==null;)KS(b,C,R),b=b.sibling}function Zx(b,C,R){var N=b.tag;if(N===5||N===6)b=b.stateNode,C?R.insertBefore(b,C):R.appendChild(b);else if(N!==4&&(b=b.child,b!==null))for(Zx(b,C,R),b=b.sibling;b!==null;)Zx(b,C,R),b=b.sibling}var _a=null,Sc=!1;function Lu(b,C,R){for(R=R.child;R!==null;)QS(b,C,R),R=R.sibling}function QS(b,C,R){if(ui&&typeof ui.onCommitFiberUnmount=="function")try{ui.onCommitFiberUnmount(ul,R)}catch{}switch(R.tag){case 5:Ps||lh(R,C);case 6:var N=_a,G=Sc;_a=null,Lu(b,C,R),_a=N,Sc=G,_a!==null&&(Sc?(b=_a,R=R.stateNode,b.nodeType===8?b.parentNode.removeChild(R):b.removeChild(R)):_a.removeChild(R.stateNode));break;case 18:_a!==null&&(Sc?(b=_a,R=R.stateNode,b.nodeType===8?bS(b.parentNode,R):b.nodeType===1&&bS(b,R),zo(b)):bS(_a,R.stateNode));break;case 4:N=_a,G=Sc,_a=R.stateNode.containerInfo,Sc=!0,Lu(b,C,R),_a=N,Sc=G;break;case 0:case 11:case 14:case 15:if(!Ps&&(N=R.updateQueue,N!==null&&(N=N.lastEffect,N!==null))){G=N=N.next;do{var ne=G,Oe=ne.destroy;ne=ne.tag,Oe!==void 0&&((ne&2)!==0||(ne&4)!==0)&&Ng(R,C,Oe),G=G.next}while(G!==N)}Lu(b,C,R);break;case 1:if(!Ps&&(lh(R,C),N=R.stateNode,typeof N.componentWillUnmount=="function"))try{N.props=R.memoizedProps,N.state=R.memoizedState,N.componentWillUnmount()}catch(nt){As(R,C,nt)}Lu(b,C,R);break;case 21:Lu(b,C,R);break;case 22:R.mode&1?(Ps=(N=Ps)||R.memoizedState!==null,Lu(b,C,R),Ps=N):Lu(b,C,R);break;default:Lu(b,C,R)}}function ch(b){var C=b.updateQueue;if(C!==null){b.updateQueue=null;var R=b.stateNode;R===null&&(R=b.stateNode=new _i),C.forEach(function(N){var G=SM.bind(null,b,N);R.has(N)||(R.add(N),N.then(G,G))})}}function gl(b,C){var R=C.deletions;if(R!==null)for(var N=0;N<R.length;N++){var G=R[N];try{var ne=b,Oe=C,nt=Oe;e:for(;nt!==null;){switch(nt.tag){case 5:_a=nt.stateNode,Sc=!1;break e;case 3:_a=nt.stateNode.containerInfo,Sc=!0;break e;case 4:_a=nt.stateNode.containerInfo,Sc=!0;break e}nt=nt.return}if(_a===null)throw Error(n(160));QS(ne,Oe,G),_a=null,Sc=!1;var ut=G.alternate;ut!==null&&(ut.return=null),G.return=null}catch(Ht){As(G,C,Ht)}}if(C.subtreeFlags&12854)for(C=C.child;C!==null;)YS(C,b),C=C.sibling}function YS(b,C){var R=b.alternate,N=b.flags;switch(b.tag){case 0:case 11:case 14:case 15:if(gl(C,b),vc(b),N&4){try{Id(3,b,b.return),Fg(3,b)}catch(Tr){As(b,b.return,Tr)}try{Id(5,b,b.return)}catch(Tr){As(b,b.return,Tr)}}break;case 1:gl(C,b),vc(b),N&512&&R!==null&&lh(R,R.return);break;case 5:if(gl(C,b),vc(b),N&512&&R!==null&&lh(R,R.return),b.flags&32){var G=b.stateNode;try{fe(G,"")}catch(Tr){As(b,b.return,Tr)}}if(N&4&&(G=b.stateNode,G!=null)){var ne=b.memoizedProps,Oe=R!==null?R.memoizedProps:ne,nt=b.type,ut=b.updateQueue;if(b.updateQueue=null,ut!==null)try{nt==="input"&&ne.type==="radio"&&ne.name!=null&&He(G,ne),We(nt,Oe);var Ht=We(nt,ne);for(Oe=0;Oe<ut.length;Oe+=2){var On=ut[Oe],wn=ut[Oe+1];On==="style"?Me(G,wn):On==="dangerouslySetInnerHTML"?le(G,wn):On==="children"?fe(G,wn):I(G,On,wn,Ht)}switch(nt){case"input":qe(G,ne);break;case"textarea":ie(G,ne);break;case"select":var In=G._wrapperState.wasMultiple;G._wrapperState.wasMultiple=!!ne.multiple;var ir=ne.value;ir!=null?re(G,!!ne.multiple,ir,!1):In!==!!ne.multiple&&(ne.defaultValue!=null?re(G,!!ne.multiple,ne.defaultValue,!0):re(G,!!ne.multiple,ne.multiple?[]:"",!1))}G[mp]=ne}catch(Tr){As(b,b.return,Tr)}}break;case 6:if(gl(C,b),vc(b),N&4){if(b.stateNode===null)throw Error(n(162));G=b.stateNode,ne=b.memoizedProps;try{G.nodeValue=ne}catch(Tr){As(b,b.return,Tr)}}break;case 3:if(gl(C,b),vc(b),N&4&&R!==null&&R.memoizedState.isDehydrated)try{zo(C.containerInfo)}catch(Tr){As(b,b.return,Tr)}break;case 4:gl(C,b),vc(b);break;case 13:gl(C,b),vc(b),G=b.child,G.flags&8192&&(ne=G.memoizedState!==null,G.stateNode.isHidden=ne,!ne||G.alternate!==null&&G.alternate.memoizedState!==null||(ZS=ro())),N&4&&ch(b);break;case 22:if(On=R!==null&&R.memoizedState!==null,b.mode&1?(Ps=(Ht=Ps)||On,gl(C,b),Ps=Ht):gl(C,b),vc(b),N&8192){if(Ht=b.memoizedState!==null,(b.stateNode.isHidden=Ht)&&!On&&(b.mode&1)!==0)for(pr=b,On=b.child;On!==null;){for(wn=pr=On;pr!==null;){switch(In=pr,ir=In.child,In.tag){case 0:case 11:case 14:case 15:Id(4,In,In.return);break;case 1:lh(In,In.return);var Dr=In.stateNode;if(typeof Dr.componentWillUnmount=="function"){N=In,R=In.return;try{C=N,Dr.props=C.memoizedProps,Dr.state=C.memoizedState,Dr.componentWillUnmount()}catch(Tr){As(N,R,Tr)}}break;case 5:lh(In,In.return);break;case 22:if(In.memoizedState!==null){Dp(wn);continue}}ir!==null?(ir.return=In,pr=ir):Dp(wn)}On=On.sibling}e:for(On=null,wn=b;;){if(wn.tag===5){if(On===null){On=wn;try{G=wn.stateNode,Ht?(ne=G.style,typeof ne.setProperty=="function"?ne.setProperty("display","none","important"):ne.display="none"):(nt=wn.stateNode,ut=wn.memoizedProps.style,Oe=ut!=null&&ut.hasOwnProperty("display")?ut.display:null,nt.style.display=be("display",Oe))}catch(Tr){As(b,b.return,Tr)}}}else if(wn.tag===6){if(On===null)try{wn.stateNode.nodeValue=Ht?"":wn.memoizedProps}catch(Tr){As(b,b.return,Tr)}}else if((wn.tag!==22&&wn.tag!==23||wn.memoizedState===null||wn===b)&&wn.child!==null){wn.child.return=wn,wn=wn.child;continue}if(wn===b)break e;for(;wn.sibling===null;){if(wn.return===null||wn.return===b)break e;On===wn&&(On=null),wn=wn.return}On===wn&&(On=null),wn.sibling.return=wn.return,wn=wn.sibling}}break;case 19:gl(C,b),vc(b),N&4&&ch(b);break;case 21:break;default:gl(C,b),vc(b)}}function vc(b){var C=b.flags;if(C&2){try{e:{for(var R=b.return;R!==null;){if(CE(R)){var N=R;break e}R=R.return}throw Error(n(160))}switch(N.tag){case 5:var G=N.stateNode;N.flags&32&&(fe(G,""),N.flags&=-33);var ne=DE(b);Zx(b,ne,G);break;case 3:case 4:var Oe=N.stateNode.containerInfo,nt=DE(b);KS(b,nt,Oe);break;default:throw Error(n(161))}}catch(ut){As(b,b.return,ut)}b.flags&=-3}C&4096&&(b.flags&=-4097)}function ey(b,C,R){pr=b,JS(b)}function JS(b,C,R){for(var N=(b.mode&1)!==0;pr!==null;){var G=pr,ne=G.child;if(G.tag===22&&N){var Oe=G.memoizedState!==null||Jx;if(!Oe){var nt=G.alternate,ut=nt!==null&&nt.memoizedState!==null||Ps;nt=Jx;var Ht=Ps;if(Jx=Oe,(Ps=ut)&&!Ht)for(pr=G;pr!==null;)Oe=pr,ut=Oe.child,Oe.tag===22&&Oe.memoizedState!==null?SE(G):ut!==null?(ut.return=Oe,pr=ut):SE(G);for(;ne!==null;)pr=ne,JS(ne),ne=ne.sibling;pr=G,Jx=nt,Ps=Ht}jc(b)}else(G.subtreeFlags&8772)!==0&&ne!==null?(ne.return=G,pr=ne):jc(b)}}function jc(b){for(;pr!==null;){var C=pr;if((C.flags&8772)!==0){var R=C.alternate;try{if((C.flags&8772)!==0)switch(C.tag){case 0:case 11:case 15:Ps||Fg(5,C);break;case 1:var N=C.stateNode;if(C.flags&4&&!Ps)if(R===null)N.componentDidMount();else{var G=C.elementType===C.type?R.memoizedProps:Ul(C.type,R.memoizedProps);N.componentDidUpdate(G,R.memoizedState,N.__reactInternalSnapshotBeforeUpdate)}var ne=C.updateQueue;ne!==null&&vS(C,ne,N);break;case 3:var Oe=C.updateQueue;if(Oe!==null){if(R=null,C.child!==null)switch(C.child.tag){case 5:R=C.child.stateNode;break;case 1:R=C.child.stateNode}vS(C,Oe,R)}break;case 5:var nt=C.stateNode;if(R===null&&C.flags&4){R=nt;var ut=C.memoizedProps;switch(C.type){case"button":case"input":case"select":case"textarea":ut.autoFocus&&R.focus();break;case"img":ut.src&&(R.src=ut.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(C.memoizedState===null){var Ht=C.alternate;if(Ht!==null){var On=Ht.memoizedState;if(On!==null){var wn=On.dehydrated;wn!==null&&zo(wn)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ps||C.flags&512&&Xx(C)}catch(In){As(C,C.return,In)}}if(C===b){pr=null;break}if(R=C.sibling,R!==null){R.return=C.return,pr=R;break}pr=C.return}}function Dp(b){for(;pr!==null;){var C=pr;if(C===b){pr=null;break}var R=C.sibling;if(R!==null){R.return=C.return,pr=R;break}pr=C.return}}function SE(b){for(;pr!==null;){var C=pr;try{switch(C.tag){case 0:case 11:case 15:var R=C.return;try{Fg(4,C)}catch(ut){As(C,R,ut)}break;case 1:var N=C.stateNode;if(typeof N.componentDidMount=="function"){var G=C.return;try{N.componentDidMount()}catch(ut){As(C,G,ut)}}var ne=C.return;try{Xx(C)}catch(ut){As(C,ne,ut)}break;case 5:var Oe=C.return;try{Xx(C)}catch(ut){As(C,Oe,ut)}}}catch(ut){As(C,C.return,ut)}if(C===b){pr=null;break}var nt=C.sibling;if(nt!==null){nt.return=C.return,pr=nt;break}pr=C.return}}var vE=Math.ceil,ty=P.ReactCurrentDispatcher,XS=P.ReactCurrentOwner,ql=P.ReactCurrentBatchConfig,Fo=0,La=null,ia=null,Za=0,bl=0,uh=Ki(0),Ca=0,Mg=null,Sp=0,_g=0,ny=0,Lg=null,Zi=null,ZS=0,Pm=1/0,Td=null,ry=!1,e0=null,vp=null,oy=!1,jp=null,Li=0,$g=0,t0=null,sy=-1,Bg=0;function $i(){return(Fo&6)!==0?ro():sy!==-1?sy:sy=ro()}function Ip(b){return(b.mode&1)===0?1:(Fo&2)!==0&&Za!==0?Za&-Za:nE.transition!==null?(Bg===0&&(Bg=Wn()),Bg):(b=an,b!==0||(b=window.event,b=b===void 0?16:EO(b.type)),b)}function Ic(b,C,R,N){if(50<$g)throw $g=0,t0=null,Error(n(185));kr(b,R,N),((Fo&2)===0||b!==La)&&(b===La&&((Fo&2)===0&&(_g|=R),Ca===4&&Tp(b,Za)),el(b,N),R===1&&Fo===0&&(C.mode&1)===0&&(Pm=ro()+500,Tx&&hp()))}function el(b,C){var R=b.callbackNode;xt(b,C);var N=bc(b,b===La?Za:0);if(N===0)R!==null&&ts(R),b.callbackNode=null,b.callbackPriority=0;else if(C=N&-N,b.callbackPriority!==C){if(R!=null&&ts(R),C===1)b.tag===0?xm(jE.bind(null,b)):ZO(jE.bind(null,b)),Sx(function(){(Fo&6)===0&&hp()}),R=null;else{switch(vr(N)){case 1:R=ci;break;case 4:R=Pf;break;case 16:R=wi;break;case 536870912:R=wl;break;default:R=wi}R=wE(R,ay.bind(null,b))}b.callbackPriority=C,b.callbackNode=R}}function ay(b,C){if(sy=-1,Bg=0,(Fo&6)!==0)throw Error(n(327));var R=b.callbackNode;if(dh()&&b.callbackNode!==R)return null;var N=bc(b,b===La?Za:0);if(N===0)return null;if((N&30)!==0||(N&b.expiredLanes)!==0||C)C=iy(b,N);else{C=N;var G=Fo;Fo|=2;var ne=TE();(La!==b||Za!==C)&&(Td=null,Pm=ro()+500,wm(b,C));do try{xM();break}catch(nt){IE(b,nt)}while(!0);xd(),ty.current=ne,Fo=G,ia!==null?C=0:(La=null,Za=0,C=Ca)}if(C!==0){if(C===2&&(G=Fn(b),G!==0&&(N=G,C=n0(b,G))),C===1)throw R=Mg,wm(b,0),Tp(b,N),el(b,ro()),R;if(C===6)Tp(b,N);else{if(G=b.current.alternate,(N&30)===0&&!gM(G)&&(C=iy(b,N),C===2&&(ne=Fn(b),ne!==0&&(N=ne,C=n0(b,ne))),C===1))throw R=Mg,wm(b,0),Tp(b,N),el(b,ro()),R;switch(b.finishedWork=G,b.finishedLanes=N,C){case 0:case 1:throw Error(n(345));case 2:km(b,Zi,Td);break;case 3:if(Tp(b,N),(N&130023424)===N&&(C=ZS+500-ro(),10<C)){if(bc(b,0)!==0)break;if(G=b.suspendedLanes,(G&N)!==N){$i(),b.pingedLanes|=b.suspendedLanes&G;break}b.timeoutHandle=dp(km.bind(null,b,Zi,Td),C);break}km(b,Zi,Td);break;case 4:if(Tp(b,N),(N&4194240)===N)break;for(C=b.eventTimes,G=-1;0<N;){var Oe=31-di(N);ne=1<<Oe,Oe=C[Oe],Oe>G&&(G=Oe),N&=~ne}if(N=G,N=ro()-N,N=(120>N?120:480>N?480:1080>N?1080:1920>N?1920:3e3>N?3e3:4320>N?4320:1960*vE(N/1960))-N,10<N){b.timeoutHandle=dp(km.bind(null,b,Zi,Td),N);break}km(b,Zi,Td);break;case 5:km(b,Zi,Td);break;default:throw Error(n(329))}}}return el(b,ro()),b.callbackNode===R?ay.bind(null,b):null}function n0(b,C){var R=Lg;return b.current.memoizedState.isDehydrated&&(wm(b,C).flags|=256),b=iy(b,C),b!==2&&(C=Zi,Zi=R,C!==null&&r0(C)),b}function r0(b){Zi===null?Zi=b:Zi.push.apply(Zi,b)}function gM(b){for(var C=b;;){if(C.flags&16384){var R=C.updateQueue;if(R!==null&&(R=R.stores,R!==null))for(var N=0;N<R.length;N++){var G=R[N],ne=G.getSnapshot;G=G.value;try{if(!Ut(ne(),G))return!1}catch{return!1}}}if(R=C.child,C.subtreeFlags&16384&&R!==null)R.return=C,C=R;else{if(C===b)break;for(;C.sibling===null;){if(C.return===null||C.return===b)return!0;C=C.return}C.sibling.return=C.return,C=C.sibling}}return!0}function Tp(b,C){for(C&=~ny,C&=~_g,b.suspendedLanes|=C,b.pingedLanes&=~C,b=b.expirationTimes;0<C;){var R=31-di(C),N=1<<R;b[R]=-1,C&=~N}}function jE(b){if((Fo&6)!==0)throw Error(n(327));dh();var C=bc(b,0);if((C&1)===0)return el(b,ro()),null;var R=iy(b,C);if(b.tag!==0&&R===2){var N=Fn(b);N!==0&&(C=N,R=n0(b,N))}if(R===1)throw R=Mg,wm(b,0),Tp(b,C),el(b,ro()),R;if(R===6)throw Error(n(345));return b.finishedWork=b.current.alternate,b.finishedLanes=C,km(b,Zi,Td),el(b,ro()),null}function o0(b,C){var R=Fo;Fo|=1;try{return b(C)}finally{Fo=R,Fo===0&&(Pm=ro()+500,Tx&&hp())}}function Rm(b){jp!==null&&jp.tag===0&&(Fo&6)===0&&dh();var C=Fo;Fo|=1;var R=ql.transition,N=an;try{if(ql.transition=null,an=1,b)return b()}finally{an=N,ql.transition=R,Fo=C,(Fo&6)===0&&hp()}}function s0(){bl=uh.current,Ds(uh)}function wm(b,C){b.finishedWork=null,b.finishedLanes=0;var R=b.timeoutHandle;if(R!==-1&&(b.timeoutHandle=-1,hg(R)),ia!==null)for(R=ia.return;R!==null;){var N=R;switch(Dm(N),N.tag){case 1:N=N.type.childContextTypes,N!=null&&Ix();break;case 3:xp(),Ds(Qi),Ds(hi),Mx();break;case 5:Fx(N);break;case 4:xp();break;case 13:Ds(Es);break;case 19:Ds(Es);break;case 10:wx(N.type._context);break;case 22:case 23:s0()}R=R.return}if(La=b,ia=b=Tc(b.current,null),Za=bl=C,Ca=0,Mg=null,ny=_g=Sp=0,Zi=Lg=null,vm!==null){for(C=0;C<vm.length;C++)if(R=vm[C],N=R.interleaved,N!==null){R.interleaved=null;var G=N.next,ne=R.pending;if(ne!==null){var Oe=ne.next;ne.next=G,N.next=Oe}R.pending=N}vm=null}return b}function IE(b,C){do{var R=ia;try{if(xd(),Sg.current=Ux,eh){for(var N=ks.memoizedState;N!==null;){var G=N.queue;G!==null&&(G.pending=null),N=N.next}eh=!1}if(yp=0,ya=Gs=ks=null,vg=!1,Im=0,XS.current=null,R===null||R.return===null){Ca=1,Mg=C,ia=null;break}e:{var ne=b,Oe=R.return,nt=R,ut=C;if(C=Za,nt.flags|=32768,ut!==null&&typeof ut=="object"&&typeof ut.then=="function"){var Ht=ut,On=nt,wn=On.tag;if((On.mode&1)===0&&(wn===0||wn===11||wn===15)){var In=On.alternate;In?(On.updateQueue=In.updateQueue,On.memoizedState=In.memoizedState,On.lanes=In.lanes):(On.updateQueue=null,On.memoizedState=null)}var ir=mE(Oe);if(ir!==null){ir.flags&=-257,$S(ir,Oe,nt,ne,C),ir.mode&1&&Eg(ne,Ht,C),C=ir,ut=Ht;var Dr=C.updateQueue;if(Dr===null){var Tr=new Set;Tr.add(ut),C.updateQueue=Tr}else Dr.add(ut);break e}else{if((C&1)===0){Eg(ne,Ht,C),a0();break e}ut=Error(n(426))}}else if(Ss&&nt.mode&1){var Ks=mE(Oe);if(Ks!==null){(Ks.flags&65536)===0&&(Ks.flags|=256),$S(Ks,Oe,nt,ne,C),ku(Em(ut,nt));break e}}ne=ut=Em(ut,nt),Ca!==4&&(Ca=2),Lg===null?Lg=[ne]:Lg.push(ne),ne=Oe;do{switch(ne.tag){case 3:ne.flags|=65536,C&=-C,ne.lanes|=C;var At=Og(ne,ut,C);sE(ne,At);break e;case 1:nt=ut;var gt=ne.type,Lt=ne.stateNode;if((ne.flags&128)===0&&(typeof gt.getDerivedStateFromError=="function"||Lt!==null&&typeof Lt.componentDidCatch=="function"&&(vp===null||!vp.has(Lt)))){ne.flags|=65536,C&=-C,ne.lanes|=C;var Mn=Gx(ne,nt,C);sE(ne,Mn);break e}}ne=ne.return}while(ne!==null)}EE(R)}catch(Pr){C=Pr,ia===R&&R!==null&&(ia=R=R.return);continue}break}while(!0)}function TE(){var b=ty.current;return ty.current=Ux,b===null?Ux:b}function a0(){(Ca===0||Ca===3||Ca===2)&&(Ca=4),La===null||(Sp&268435455)===0&&(_g&268435455)===0||Tp(La,Za)}function iy(b,C){var R=Fo;Fo|=2;var N=TE();(La!==b||Za!==C)&&(Td=null,wm(b,C));do try{bM();break}catch(G){IE(b,G)}while(!0);if(xd(),Fo=R,ty.current=N,ia!==null)throw Error(n(261));return La=null,Za=0,Ca}function bM(){for(;ia!==null;)OE(ia)}function xM(){for(;ia!==null&&!ds();)OE(ia)}function OE(b){var C=RE(b.alternate,b,bl);b.memoizedProps=b.pendingProps,C===null?EE(b):ia=C,XS.current=null}function EE(b){var C=b;do{var R=C.alternate;if(b=C.return,(C.flags&32768)===0){if(R=mM(R,C,bl),R!==null){ia=R;return}}else{if(R=fM(R,C),R!==null){R.flags&=32767,ia=R;return}if(b!==null)b.flags|=32768,b.subtreeFlags=0,b.deletions=null;else{Ca=6,ia=null;return}}if(C=C.sibling,C!==null){ia=C;return}ia=C=b}while(C!==null);Ca===0&&(Ca=5)}function km(b,C,R){var N=an,G=ql.transition;try{ql.transition=null,an=1,yM(b,C,R,N)}finally{ql.transition=G,an=N}return null}function yM(b,C,R,N){do dh();while(jp!==null);if((Fo&6)!==0)throw Error(n(327));R=b.finishedWork;var G=b.finishedLanes;if(R===null)return null;if(b.finishedWork=null,b.finishedLanes=0,R===b.current)throw Error(n(177));b.callbackNode=null,b.callbackPriority=0;var ne=R.lanes|R.childLanes;if(Zt(b,ne),b===La&&(ia=La=null,Za=0),(R.subtreeFlags&2064)===0&&(R.flags&2064)===0||oy||(oy=!0,wE(wi,function(){return dh(),null})),ne=(R.flags&15990)!==0,(R.subtreeFlags&15990)!==0||ne){ne=ql.transition,ql.transition=null;var Oe=an;an=1;var nt=Fo;Fo|=4,XS.current=null,hM(b,R),YS(R,b),cM(bm),rx=!!mg,bm=mg=null,b.current=R,ey(R),ra(),Fo=nt,an=Oe,ql.transition=ne}else b.current=R;if(oy&&(oy=!1,jp=b,Li=G),ne=b.pendingLanes,ne===0&&(vp=null),Su(R.stateNode),el(b,ro()),C!==null)for(N=b.onRecoverableError,R=0;R<C.length;R++)G=C[R],N(G.value,{componentStack:G.stack,digest:G.digest});if(ry)throw ry=!1,b=e0,e0=null,b;return(Li&1)!==0&&b.tag!==0&&dh(),ne=b.pendingLanes,(ne&1)!==0?b===t0?$g++:($g=0,t0=b):$g=0,hp(),null}function dh(){if(jp!==null){var b=vr(Li),C=ql.transition,R=an;try{if(ql.transition=null,an=16>b?16:b,jp===null)var N=!1;else{if(b=jp,jp=null,Li=0,(Fo&6)!==0)throw Error(n(331));var G=Fo;for(Fo|=4,pr=b.current;pr!==null;){var ne=pr,Oe=ne.child;if((pr.flags&16)!==0){var nt=ne.deletions;if(nt!==null){for(var ut=0;ut<nt.length;ut++){var Ht=nt[ut];for(pr=Ht;pr!==null;){var On=pr;switch(On.tag){case 0:case 11:case 15:Id(8,On,ne)}var wn=On.child;if(wn!==null)wn.return=On,pr=wn;else for(;pr!==null;){On=pr;var In=On.sibling,ir=On.return;if(yE(On),On===Ht){pr=null;break}if(In!==null){In.return=ir,pr=In;break}pr=ir}}}var Dr=ne.alternate;if(Dr!==null){var Tr=Dr.child;if(Tr!==null){Dr.child=null;do{var Ks=Tr.sibling;Tr.sibling=null,Tr=Ks}while(Tr!==null)}}pr=ne}}if((ne.subtreeFlags&2064)!==0&&Oe!==null)Oe.return=ne,pr=Oe;else e:for(;pr!==null;){if(ne=pr,(ne.flags&2048)!==0)switch(ne.tag){case 0:case 11:case 15:Id(9,ne,ne.return)}var At=ne.sibling;if(At!==null){At.return=ne.return,pr=At;break e}pr=ne.return}}var gt=b.current;for(pr=gt;pr!==null;){Oe=pr;var Lt=Oe.child;if((Oe.subtreeFlags&2064)!==0&&Lt!==null)Lt.return=Oe,pr=Lt;else e:for(Oe=gt;pr!==null;){if(nt=pr,(nt.flags&2048)!==0)try{switch(nt.tag){case 0:case 11:case 15:Fg(9,nt)}}catch(Pr){As(nt,nt.return,Pr)}if(nt===Oe){pr=null;break e}var Mn=nt.sibling;if(Mn!==null){Mn.return=nt.return,pr=Mn;break e}pr=nt.return}}if(Fo=G,hp(),ui&&typeof ui.onPostCommitFiberRoot=="function")try{ui.onPostCommitFiberRoot(ul,b)}catch{}N=!0}return N}finally{an=R,ql.transition=C}}return!1}function ly(b,C,R){C=Em(R,C),C=Og(b,C,1),b=Bl(b,C,1),C=$i(),b!==null&&(kr(b,1,C),el(b,C))}function As(b,C,R){if(b.tag===3)ly(b,b,R);else for(;C!==null;){if(C.tag===3){ly(C,b,R);break}else if(C.tag===1){var N=C.stateNode;if(typeof C.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(vp===null||!vp.has(N))){b=Em(R,b),b=Gx(C,b,1),C=Bl(C,b,1),b=$i(),C!==null&&(kr(C,1,b),el(C,b));break}}C=C.return}}function CM(b,C,R){var N=b.pingCache;N!==null&&N.delete(C),C=$i(),b.pingedLanes|=b.suspendedLanes&R,La===b&&(Za&R)===R&&(Ca===4||Ca===3&&(Za&130023424)===Za&&500>ro()-ZS?wm(b,0):ny|=R),el(b,C)}function PE(b,C){C===0&&((b.mode&1)===0?C=1:(C=dd,dd<<=1,(dd&130023424)===0&&(dd=4194304)));var R=$i();b=yd(b,C),b!==null&&(kr(b,C,R),el(b,R))}function DM(b){var C=b.memoizedState,R=0;C!==null&&(R=C.retryLane),PE(b,R)}function SM(b,C){var R=0;switch(b.tag){case 13:var N=b.stateNode,G=b.memoizedState;G!==null&&(R=G.retryLane);break;case 19:N=b.stateNode;break;default:throw Error(n(314))}N!==null&&N.delete(C),PE(b,R)}var RE;RE=function(b,C,R){if(b!==null)if(b.memoizedProps!==C.pendingProps||Qi.current)Mi=!0;else{if((b.lanes&R)===0&&(C.flags&128)===0)return Mi=!1,gE(b,C,R);Mi=(b.flags&131072)!==0}else Mi=!1,Ss&&(C.flags&1048576)!==0&&eE(C,Ex,C.index);switch(C.lanes=0,C.tag){case 2:var N=C.type;Yx(b,C),b=C.pendingProps;var G=Qf(C,hi.current);bp(C,R),G=Tm(null,C,N,b,G,R);var ne=_x();return C.flags|=1,typeof G=="object"&&G!==null&&typeof G.render=="function"&&G.$$typeof===void 0?(C.tag=1,C.memoizedState=null,C.updateQueue=null,Yi(N)?(ne=!0,Fl(C)):ne=!1,C.memoizedState=G.state!==null&&G.state!==void 0?G.state:null,Ax(C),G.updater=zx,C.stateNode=G,G._reactInternals=C,LS(C,N,b,R),C=zS(null,C,N,!0,ne,R)):(C.tag=0,Ss&&ne&&gg(C),Ya(null,C,G,R),C=C.child),C;case 16:N=C.elementType;e:{switch(Yx(b,C),b=C.pendingProps,G=N._init,N=G(N._payload),C.type=N,G=C.tag=jM(N),b=Ul(N,b),G){case 0:C=qS(null,C,N,b,R);break e;case 1:C=VS(null,C,N,b,R);break e;case 11:C=fE(null,C,N,b,R);break e;case 14:C=BS(null,C,N,Ul(N.type,b),R);break e}throw Error(n(306,N,""))}return C;case 0:return N=C.type,G=C.pendingProps,G=C.elementType===N?G:Ul(N,G),qS(b,C,N,G,R);case 1:return N=C.type,G=C.pendingProps,G=C.elementType===N?G:Ul(N,G),VS(b,C,N,G,R);case 3:e:{if(hE(C),b===null)throw Error(n(387));N=C.pendingProps,ne=C.memoizedState,G=ne.element,oE(b,C),Xf(C,N,null,R);var Oe=C.memoizedState;if(N=Oe.element,ne.isDehydrated)if(ne={element:N,isDehydrated:!1,cache:Oe.cache,pendingSuspenseBoundaries:Oe.pendingSuspenseBoundaries,transitions:Oe.transitions},C.updateQueue.baseState=ne,C.memoizedState=ne,C.flags&256){G=Em(Error(n(423)),C),C=_u(b,C,N,R,G);break e}else if(N!==G){G=Em(Error(n(424)),C),C=_u(b,C,N,R,G);break e}else for(fl=pp(C.stateNode.containerInfo.firstChild),bi=C,Ss=!0,yc=null,R=Rx(C,null,N,R),C.child=R;R;)R.flags=R.flags&-3|4096,R=R.sibling;else{if(wu(),N===G){C=Dc(b,C,R);break e}Ya(b,C,N,R)}C=C.child}return C;case 5:return IS(C),b===null&&Ji(C),N=C.type,G=C.pendingProps,ne=b!==null?b.memoizedProps:null,Oe=G.children,fg(N,G)?Oe=null:ne!==null&&fg(N,ne)&&(C.flags|=32),US(b,C),Ya(b,C,Oe,R),C.child;case 6:return b===null&&Ji(C),null;case 13:return Qx(b,C,R);case 4:return jS(C,C.stateNode.containerInfo),N=C.pendingProps,b===null?C.child=Ls(C,null,N,R):Ya(b,C,N,R),C.child;case 11:return N=C.type,G=C.pendingProps,G=C.elementType===N?G:Ul(N,G),fE(b,C,N,G,R);case 7:return Ya(b,C,C.pendingProps,R),C.child;case 8:return Ya(b,C,C.pendingProps.children,R),C.child;case 12:return Ya(b,C,C.pendingProps.children,R),C.child;case 10:e:{if(N=C.type._context,G=C.pendingProps,ne=C.memoizedProps,Oe=G.value,ms(yg,N._currentValue),N._currentValue=Oe,ne!==null)if(Ut(ne.value,Oe)){if(ne.children===G.children&&!Qi.current){C=Dc(b,C,R);break e}}else for(ne=C.child,ne!==null&&(ne.return=C);ne!==null;){var nt=ne.dependencies;if(nt!==null){Oe=ne.child;for(var ut=nt.firstContext;ut!==null;){if(ut.context===N){if(ne.tag===1){ut=Cd(-1,R&-R),ut.tag=2;var Ht=ne.updateQueue;if(Ht!==null){Ht=Ht.shared;var On=Ht.pending;On===null?ut.next=ut:(ut.next=On.next,On.next=ut),Ht.pending=ut}}ne.lanes|=R,ut=ne.alternate,ut!==null&&(ut.lanes|=R),Qa(ne.return,R,C),nt.lanes|=R;break}ut=ut.next}}else if(ne.tag===10)Oe=ne.type===C.type?null:ne.child;else if(ne.tag===18){if(Oe=ne.return,Oe===null)throw Error(n(341));Oe.lanes|=R,nt=Oe.alternate,nt!==null&&(nt.lanes|=R),Qa(Oe,R,C),Oe=ne.sibling}else Oe=ne.child;if(Oe!==null)Oe.return=ne;else for(Oe=ne;Oe!==null;){if(Oe===C){Oe=null;break}if(ne=Oe.sibling,ne!==null){ne.return=Oe.return,Oe=ne;break}Oe=Oe.return}ne=Oe}Ya(b,C,G.children,R),C=C.child}return C;case 9:return G=C.type,N=C.pendingProps.children,bp(C,R),G=Ll(G),N=N(G),C.flags|=1,Ya(b,C,N,R),C.child;case 14:return N=C.type,G=Ul(N,C.pendingProps),G=Ul(N.type,G),BS(b,C,N,G,R);case 15:return Mu(b,C,C.type,C.pendingProps,R);case 17:return N=C.type,G=C.pendingProps,G=C.elementType===N?G:Ul(N,G),Yx(b,C),C.tag=1,Yi(N)?(b=!0,Fl(C)):b=!1,bp(C,R),Om(C,N,G),LS(C,N,G,R),zS(null,C,N,!0,b,R);case 19:return Cp(b,C,R);case 22:return WS(b,C,R)}throw Error(n(156,C.tag))};function wE(b,C){return Sr(b,C)}function vM(b,C,R,N){this.tag=b,this.key=R,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=C,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vl(b,C,R,N){return new vM(b,C,R,N)}function cy(b){return b=b.prototype,!(!b||!b.isReactComponent)}function jM(b){if(typeof b=="function")return cy(b)?1:0;if(b!=null){if(b=b.$$typeof,b===K)return 11;if(b===Q)return 14}return 2}function Tc(b,C){var R=b.alternate;return R===null?(R=Vl(b.tag,C,b.key,b.mode),R.elementType=b.elementType,R.type=b.type,R.stateNode=b.stateNode,R.alternate=b,b.alternate=R):(R.pendingProps=C,R.type=b.type,R.flags=0,R.subtreeFlags=0,R.deletions=null),R.flags=b.flags&14680064,R.childLanes=b.childLanes,R.lanes=b.lanes,R.child=b.child,R.memoizedProps=b.memoizedProps,R.memoizedState=b.memoizedState,R.updateQueue=b.updateQueue,C=b.dependencies,R.dependencies=C===null?null:{lanes:C.lanes,firstContext:C.firstContext},R.sibling=b.sibling,R.index=b.index,R.ref=b.ref,R}function uy(b,C,R,N,G,ne){var Oe=2;if(N=b,typeof b=="function")cy(b)&&(Oe=1);else if(typeof b=="string")Oe=5;else e:switch(b){case w:return Am(R.children,G,ne,C);case A:Oe=8,G|=8;break;case F:return b=Vl(12,R,C,G|2),b.elementType=F,b.lanes=ne,b;case z:return b=Vl(13,R,C,G),b.elementType=z,b.lanes=ne,b;case J:return b=Vl(19,R,C,G),b.elementType=J,b.lanes=ne,b;case W:return dy(R,G,ne,C);default:if(typeof b=="object"&&b!==null)switch(b.$$typeof){case _:Oe=10;break e;case L:Oe=9;break e;case K:Oe=11;break e;case Q:Oe=14;break e;case V:Oe=16,N=null;break e}throw Error(n(130,b==null?b:typeof b,""))}return C=Vl(Oe,R,C,G),C.elementType=b,C.type=N,C.lanes=ne,C}function Am(b,C,R,N){return b=Vl(7,b,N,C),b.lanes=R,b}function dy(b,C,R,N){return b=Vl(22,b,N,C),b.elementType=W,b.lanes=R,b.stateNode={isHidden:!1},b}function i0(b,C,R){return b=Vl(6,b,null,C),b.lanes=R,b}function l0(b,C,R){return C=Vl(4,b.children!==null?b.children:[],b.key,C),C.lanes=R,C.stateNode={containerInfo:b.containerInfo,pendingChildren:null,implementation:b.implementation},C}function IM(b,C,R,N,G){this.tag=C,this.containerInfo=b,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vn(0),this.expirationTimes=vn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vn(0),this.identifierPrefix=N,this.onRecoverableError=G,this.mutableSourceEagerHydrationData=null}function c0(b,C,R,N,G,ne,Oe,nt,ut){return b=new IM(b,C,R,nt,ut),C===1?(C=1,ne===!0&&(C|=8)):C=0,ne=Vl(3,null,null,C),b.current=ne,ne.stateNode=b,ne.memoizedState={element:N,isDehydrated:R,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ax(ne),b}function TM(b,C,R){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:N==null?null:""+N,children:b,containerInfo:C,implementation:R}}function kE(b){if(!b)return fp;b=b._reactInternals;e:{if(lt(b)!==b||b.tag!==1)throw Error(n(170));var C=b;do{switch(C.tag){case 3:C=C.stateNode.context;break e;case 1:if(Yi(C.type)){C=C.stateNode.__reactInternalMemoizedMergedChildContext;break e}}C=C.return}while(C!==null);throw Error(n(171))}if(b.tag===1){var R=b.type;if(Yi(R))return JO(b,R,C)}return C}function AE(b,C,R,N,G,ne,Oe,nt,ut){return b=c0(R,N,!0,b,G,ne,Oe,nt,ut),b.context=kE(null),R=b.current,N=$i(),G=Ip(R),ne=Cd(N,G),ne.callback=C??null,Bl(R,ne,G),b.current.lanes=G,kr(b,G,N),el(b,N),b}function py(b,C,R,N){var G=C.current,ne=$i(),Oe=Ip(G);return R=kE(R),C.context===null?C.context=R:C.pendingContext=R,C=Cd(ne,Oe),C.payload={element:b},N=N===void 0?null:N,N!==null&&(C.callback=N),b=Bl(G,C,Oe),b!==null&&(Ic(b,G,Oe,ne),Nx(b,G,Oe)),Oe}function my(b){if(b=b.current,!b.child)return null;switch(b.child.tag){case 5:return b.child.stateNode;default:return b.child.stateNode}}function NE(b,C){if(b=b.memoizedState,b!==null&&b.dehydrated!==null){var R=b.retryLane;b.retryLane=R!==0&&R<C?R:C}}function u0(b,C){NE(b,C),(b=b.alternate)&&NE(b,C)}function OM(){return null}var FE=typeof reportError=="function"?reportError:function(b){console.error(b)};function fy(b){this._internalRoot=b}Wg.prototype.render=fy.prototype.render=function(b){var C=this._internalRoot;if(C===null)throw Error(n(409));py(b,C,null,null)},Wg.prototype.unmount=fy.prototype.unmount=function(){var b=this._internalRoot;if(b!==null){this._internalRoot=null;var C=b.containerInfo;Rm(function(){py(null,b,null,null)}),C[ml]=null}};function Wg(b){this._internalRoot=b}Wg.prototype.unstable_scheduleHydration=function(b){if(b){var C=Ka();b={blockedOn:null,target:b,priority:C};for(var R=0;R<ap.length&&C!==0&&C<ap[R].priority;R++);ap.splice(R,0,b),R===0&&TO(b)}};function d0(b){return!(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)}function hy(b){return!(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11&&(b.nodeType!==8||b.nodeValue!==" react-mount-point-unstable "))}function ME(){}function EM(b,C,R,N,G){if(G){if(typeof N=="function"){var ne=N;N=function(){var Ht=my(Oe);ne.call(Ht)}}var Oe=AE(C,N,b,0,null,!1,!1,"",ME);return b._reactRootContainer=Oe,b[ml]=Oe.current,up(b.nodeType===8?b.parentNode:b),Rm(),Oe}for(;G=b.lastChild;)b.removeChild(G);if(typeof N=="function"){var nt=N;N=function(){var Ht=my(ut);nt.call(Ht)}}var ut=c0(b,0,!1,null,null,!1,!1,"",ME);return b._reactRootContainer=ut,b[ml]=ut.current,up(b.nodeType===8?b.parentNode:b),Rm(function(){py(C,ut,R,N)}),ut}function Nm(b,C,R,N,G){var ne=R._reactRootContainer;if(ne){var Oe=ne;if(typeof G=="function"){var nt=G;G=function(){var ut=my(Oe);nt.call(ut)}}py(C,Oe,b,G)}else Oe=EM(R,C,b,G,N);return my(Oe)}mr=function(b){switch(b.tag){case 3:var C=b.stateNode;if(C.current.memoizedState.isDehydrated){var R=kl(C.pendingLanes);R!==0&&(on(C,R|1),el(C,ro()),(Fo&6)===0&&(Pm=ro()+500,hp()))}break;case 13:Rm(function(){var N=yd(b,1);if(N!==null){var G=$i();Ic(N,b,1,G)}}),u0(b,1)}},Jr=function(b){if(b.tag===13){var C=yd(b,134217728);if(C!==null){var R=$i();Ic(C,b,134217728,R)}u0(b,134217728)}},Ro=function(b){if(b.tag===13){var C=Ip(b),R=yd(b,C);if(R!==null){var N=$i();Ic(R,b,C,N)}u0(b,C)}},Ka=function(){return an},Fa=function(b,C){var R=an;try{return an=b,C()}finally{an=R}},ot=function(b,C,R){switch(C){case"input":if(qe(b,R),C=R.name,R.type==="radio"&&C!=null){for(R=b;R.parentNode;)R=R.parentNode;for(R=R.querySelectorAll("input[name="+JSON.stringify(""+C)+'][type="radio"]'),C=0;C<R.length;C++){var N=R[C];if(N!==b&&N.form===b.form){var G=jx(N);if(!G)throw Error(n(90));ce(N),qe(N,G)}}}break;case"textarea":ie(b,R);break;case"select":C=R.value,C!=null&&re(b,!!R.multiple,C,!1)}},un=o0,Je=Rm;var PM={usingClientEntryPoint:!1,Events:[fi,Xr,jx,ht,en,o0]},Ug={findFiberByHostInstance:Ou,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RM={bundleType:Ug.bundleType,version:Ug.version,rendererPackageName:Ug.rendererPackageName,rendererConfig:Ug.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(b){return b=gr(b),b===null?null:b.stateNode},findFiberByHostInstance:Ug.findFiberByHostInstance||OM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gy.isDisabled&&gy.supportsFiber)try{ul=gy.inject(RM),ui=gy}catch{}}return Kl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PM,Kl.createPortal=function(b,C){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d0(C))throw Error(n(200));return TM(b,C,null,R)},Kl.createRoot=function(b,C){if(!d0(b))throw Error(n(299));var R=!1,N="",G=FE;return C!=null&&(C.unstable_strictMode===!0&&(R=!0),C.identifierPrefix!==void 0&&(N=C.identifierPrefix),C.onRecoverableError!==void 0&&(G=C.onRecoverableError)),C=c0(b,1,!1,null,null,R,!1,N,G),b[ml]=C.current,up(b.nodeType===8?b.parentNode:b),new fy(C)},Kl.findDOMNode=function(b){if(b==null)return null;if(b.nodeType===1)return b;var C=b._reactInternals;if(C===void 0)throw typeof b.render=="function"?Error(n(188)):(b=Object.keys(b).join(","),Error(n(268,b)));return b=gr(C),b=b===null?null:b.stateNode,b},Kl.flushSync=function(b){return Rm(b)},Kl.hydrate=function(b,C,R){if(!hy(C))throw Error(n(200));return Nm(null,b,C,!0,R)},Kl.hydrateRoot=function(b,C,R){if(!d0(b))throw Error(n(405));var N=R!=null&&R.hydratedSources||null,G=!1,ne="",Oe=FE;if(R!=null&&(R.unstable_strictMode===!0&&(G=!0),R.identifierPrefix!==void 0&&(ne=R.identifierPrefix),R.onRecoverableError!==void 0&&(Oe=R.onRecoverableError)),C=AE(C,null,b,1,R??null,G,!1,ne,Oe),b[ml]=C.current,up(b),N)for(b=0;b<N.length;b++)R=N[b],G=R._getVersion,G=G(R._source),C.mutableSourceEagerHydrationData==null?C.mutableSourceEagerHydrationData=[R,G]:C.mutableSourceEagerHydrationData.push(R,G);return new Wg(C)},Kl.render=function(b,C,R){if(!hy(C))throw Error(n(200));return Nm(null,b,C,!1,R)},Kl.unmountComponentAtNode=function(b){if(!hy(b))throw Error(n(40));return b._reactRootContainer?(Rm(function(){Nm(null,null,b,!1,function(){b._reactRootContainer=null,b[ml]=null})}),!0):!1},Kl.unstable_batchedUpdates=o0,Kl.unstable_renderSubtreeIntoContainer=function(b,C,R,N){if(!hy(R))throw Error(n(200));if(b==null||b._reactInternals===void 0)throw Error(n(38));return Nm(b,C,R,!1,N)},Kl.version="18.3.1-next-f1338f8080-20240426",Kl}var pne;function FB(){if(pne)return zM.exports;pne=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),zM.exports=D4e(),zM.exports}var mne;function S4e(){if(mne)return WE;mne=1;var e=FB();return WE.createRoot=e.createRoot,WE.hydrateRoot=e.hydrateRoot,WE}var v4e=S4e();const j4e=qn(v4e);var a=is();const Dn=qn(a),BI=g4e({__proto__:null,default:Dn},[a]),I4e=a.createContext(null),KM={didCatch:!1,error:null};let T4e=class extends a.Component{constructor(t){super(t),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=KM}static getDerivedStateFromError(t){return{didCatch:!0,error:t}}resetErrorBoundary(){const{error:t}=this.state;if(t!==null){for(var n,o,s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];(n=(o=this.props).onReset)===null||n===void 0||n.call(o,{args:i,reason:"imperative-api"}),this.setState(KM)}}componentDidCatch(t,n){var o,s;(o=(s=this.props).onError)===null||o===void 0||o.call(s,t,n)}componentDidUpdate(t,n){const{didCatch:o}=this.state,{resetKeys:s}=this.props;if(o&&n.error!==null&&O4e(t.resetKeys,s)){var i,c;(i=(c=this.props).onReset)===null||i===void 0||i.call(c,{next:s,prev:t.resetKeys,reason:"keys"}),this.setState(KM)}}render(){const{children:t,fallbackRender:n,FallbackComponent:o,fallback:s}=this.props,{didCatch:i,error:c}=this.state;let u=t;if(i){const d={error:c,resetErrorBoundary:this.resetErrorBoundary};if(typeof n=="function")u=n(d);else if(o)u=a.createElement(o,d);else if(s!==void 0)u=s;else throw c}return a.createElement(I4e.Provider,{value:{didCatch:i,error:c,resetErrorBoundary:this.resetErrorBoundary}},u)}};function O4e(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return e.length!==t.length||e.some((n,o)=>!Object.is(n,t[o]))}var kb=FB();const yj=qn(kb);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function WI(){return WI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},WI.apply(this,arguments)}var jh;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(jh||(jh={}));const fne="popstate";function E4e(e){e===void 0&&(e={});function t(o,s){let{pathname:i,search:c,hash:u}=o.location;return BL("",{pathname:i,search:c,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(o,s){return typeof s=="string"?s:pde(s)}return R4e(t,n,null,e)}function Oa(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function dde(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function P4e(){return Math.random().toString(36).substr(2,8)}function hne(e,t){return{usr:e.state,key:e.key,idx:t}}function BL(e,t,n,o){return n===void 0&&(n=null),WI({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?dD(t):t,{state:n,key:t&&t.key||o||P4e()})}function pde(e){let{pathname:t="/",search:n="",hash:o=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),o&&o!=="#"&&(t+=o.charAt(0)==="#"?o:"#"+o),t}function dD(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let o=e.indexOf("?");o>=0&&(t.search=e.substr(o),e=e.substr(0,o)),e&&(t.pathname=e)}return t}function R4e(e,t,n,o){o===void 0&&(o={});let{window:s=document.defaultView,v5Compat:i=!1}=o,c=s.history,u=jh.Pop,d=null,p=m();p==null&&(p=0,c.replaceState(WI({},c.state,{idx:p}),""));function m(){return(c.state||{idx:null}).idx}function f(){u=jh.Pop;let D=m(),v=D==null?null:D-p;p=D,d&&d({action:u,location:y.location,delta:v})}function h(D,v){u=jh.Push;let T=BL(y.location,D,v);p=m()+1;let I=hne(T,p),P=y.createHref(T);try{c.pushState(I,"",P)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(P)}i&&d&&d({action:u,location:y.location,delta:1})}function g(D,v){u=jh.Replace;let T=BL(y.location,D,v);p=m();let I=hne(T,p),P=y.createHref(T);c.replaceState(I,"",P),i&&d&&d({action:u,location:y.location,delta:0})}function x(D){let v=s.location.origin!=="null"?s.location.origin:s.location.href,T=typeof D=="string"?D:pde(D);return T=T.replace(/ $/,"%20"),Oa(v,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,v)}let y={get action(){return u},get location(){return e(s,c)},listen(D){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(fne,f),d=D,()=>{s.removeEventListener(fne,f),d=null}},createHref(D){return t(s,D)},createURL:x,encodeLocation(D){let v=x(D);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:g,go(D){return c.go(D)}};return y}var gne;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(gne||(gne={}));function w4e(e,t,n){return n===void 0&&(n="/"),k4e(e,t,n)}function k4e(e,t,n,o){let s=typeof t=="string"?dD(t):t,i=bde(s.pathname||"/",n);if(i==null)return null;let c=mde(e);A4e(c);let u=null;for(let d=0;u==null&&d<c.length;++d){let p=gde(i);u=U4e(c[d],p)}return u}function mde(e,t,n,o){t===void 0&&(t=[]),n===void 0&&(n=[]),o===void 0&&(o="");let s=(i,c,u)=>{let d={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:c,route:i};d.relativePath.startsWith("/")&&(Oa(d.relativePath.startsWith(o),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(o.length));let p=Cb([o,d.relativePath]),m=n.concat(d);i.children&&i.children.length>0&&(Oa(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),mde(i.children,t,m,p)),!(i.path==null&&!i.index)&&t.push({path:p,score:B4e(p,i.index),routesMeta:m})};return e.forEach((i,c)=>{var u;if(i.path===""||!((u=i.path)!=null&&u.includes("?")))s(i,c);else for(let d of fde(i.path))s(i,c,d)}),t}function fde(e){let t=e.split("/");if(t.length===0)return[];let[n,...o]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(o.length===0)return s?[i,""]:[i];let c=fde(o.join("/")),u=[];return u.push(...c.map(d=>d===""?i:[i,d].join("/"))),s&&u.push(...c),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function A4e(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:W4e(t.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}const N4e=/^:[\w-]+$/,F4e=3,M4e=2,_4e=1,L4e=10,$4e=-2,bne=e=>e==="*";function B4e(e,t){let n=e.split("/"),o=n.length;return n.some(bne)&&(o+=$4e),t&&(o+=M4e),n.filter(s=>!bne(s)).reduce((s,i)=>s+(N4e.test(i)?F4e:i===""?_4e:L4e),o)}function W4e(e,t){return e.length===t.length&&e.slice(0,-1).every((o,s)=>o===t[s])?e[e.length-1]-t[t.length-1]:0}function U4e(e,t,n){let{routesMeta:o}=e,s={},i="/",c=[];for(let u=0;u<o.length;++u){let d=o[u],p=u===o.length-1,m=i==="/"?t:t.slice(i.length)||"/",f=hde({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},m),h=d.route;if(!f)return null;Object.assign(s,f.params),c.push({params:s,pathname:Cb([i,f.pathname]),pathnameBase:G4e(Cb([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Cb([i,f.pathnameBase]))}return c}function hde(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,o]=q4e(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],c=i.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:o.reduce((p,m,f)=>{let{paramName:h,isOptional:g}=m;if(h==="*"){let y=u[f]||"";c=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const x=u[f];return g&&!x?p[h]=void 0:p[h]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:i,pathnameBase:c,pattern:e}}function q4e(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),dde(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let o=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,d)=>(o.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(o.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),o]}function gde(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return dde(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function bde(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,o=e.charAt(n);return o&&o!=="/"?null:e.slice(n)||"/"}function V4e(e,t){t===void 0&&(t="/");let{pathname:n,search:o="",hash:s=""}=typeof e=="string"?dD(e):e;return{pathname:n?n.startsWith("/")?n:z4e(n,t):t,search:K4e(o),hash:Q4e(s)}}function z4e(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function QM(e,t,n,o){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function H4e(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function xde(e,t){let n=H4e(e);return t?n.map((o,s)=>s===n.length-1?o.pathname:o.pathnameBase):n.map(o=>o.pathnameBase)}function yde(e,t,n,o){o===void 0&&(o=!1);let s;typeof e=="string"?s=dD(e):(s=WI({},e),Oa(!s.pathname||!s.pathname.includes("?"),QM("?","pathname","search",s)),Oa(!s.pathname||!s.pathname.includes("#"),QM("#","pathname","hash",s)),Oa(!s.search||!s.search.includes("#"),QM("#","search","hash",s)));let i=e===""||s.pathname==="",c=i?"/":s.pathname,u;if(c==null)u=n;else{let f=t.length-1;if(!o&&c.startsWith("..")){let h=c.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}u=f>=0?t[f]:"/"}let d=V4e(s,u),p=c&&c!=="/"&&c.endsWith("/"),m=(i||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||m)&&(d.pathname+="/"),d}const Cb=e=>e.join("/").replace(/\/\/+/g,"/"),G4e=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),K4e=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Q4e=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Y4e(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Cde=["post","put","patch","delete"];new Set(Cde);const J4e=["get",...Cde];new Set(J4e);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function UI(){return UI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},UI.apply(this,arguments)}const MB=a.createContext(null),X4e=a.createContext(null),CT=a.createContext(null),UR=a.createContext(null),Vh=a.createContext({outlet:null,matches:[],isDataRoute:!1}),Dde=a.createContext(null);function pD(){return a.useContext(UR)!=null}function Hd(){return pD()||Oa(!1),a.useContext(UR).location}function Z4e(e){pD()||Oa(!1);let{pathname:t}=Hd();return a.useMemo(()=>hde(e,gde(t)),[t,e])}function Sde(e){a.useContext(CT).static||a.useLayoutEffect(e)}function mD(){let{isDataRoute:e}=a.useContext(Vh);return e?fWe():eWe()}function eWe(){pD()||Oa(!1);let e=a.useContext(MB),{basename:t,future:n,navigator:o}=a.useContext(CT),{matches:s}=a.useContext(Vh),{pathname:i}=Hd(),c=JSON.stringify(xde(s,n.v7_relativeSplatPath)),u=a.useRef(!1);return Sde(()=>{u.current=!0}),a.useCallback(function(p,m){if(m===void 0&&(m={}),!u.current)return;if(typeof p=="number"){o.go(p);return}let f=yde(p,JSON.parse(c),i,m.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Cb([t,f.pathname])),(m.replace?o.replace:o.push)(f,m.state,m)},[t,o,c,i,e])}const tWe=a.createContext(null);function nWe(e){let t=a.useContext(Vh).outlet;return t&&a.createElement(tWe.Provider,{value:e},t)}function rWe(e,t){return oWe(e,t)}function oWe(e,t,n,o){pD()||Oa(!1);let{navigator:s}=a.useContext(CT),{matches:i}=a.useContext(Vh),c=i[i.length-1],u=c?c.params:{};c&&c.pathname;let d=c?c.pathnameBase:"/";c&&c.route;let p=Hd(),m;if(t){var f;let D=typeof t=="string"?dD(t):t;d==="/"||(f=D.pathname)!=null&&f.startsWith(d)||Oa(!1),m=D}else m=p;let h=m.pathname||"/",g=h;if(d!=="/"){let D=d.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(D.length).join("/")}let x=w4e(e,{pathname:g}),y=cWe(x&&x.map(D=>Object.assign({},D,{params:Object.assign({},u,D.params),pathname:Cb([d,s.encodeLocation?s.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?d:Cb([d,s.encodeLocation?s.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),i,n,o);return t&&y?a.createElement(UR.Provider,{value:{location:UI({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:jh.Pop}},y):y}function sWe(){let e=mWe(),t=Y4e(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),n?a.createElement("pre",{style:s},n):null,null)}const aWe=a.createElement(sWe,null);class iWe extends a.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?a.createElement(Vh.Provider,{value:this.props.routeContext},a.createElement(Dde.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lWe(e){let{routeContext:t,match:n,children:o}=e,s=a.useContext(MB);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),a.createElement(Vh.Provider,{value:t},o)}function cWe(e,t,n,o){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),o===void 0&&(o=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=o)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let c=e,u=(s=n)==null?void 0:s.errors;if(u!=null){let m=c.findIndex(f=>f.route.id&&(u==null?void 0:u[f.route.id])!==void 0);m>=0||Oa(!1),c=c.slice(0,Math.min(c.length,m+1))}let d=!1,p=-1;if(n&&o&&o.v7_partialHydration)for(let m=0;m<c.length;m++){let f=c[m];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(p=m),f.route.id){let{loaderData:h,errors:g}=n,x=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||x){d=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((m,f,h)=>{let g,x=!1,y=null,D=null;n&&(g=u&&f.route.id?u[f.route.id]:void 0,y=f.route.errorElement||aWe,d&&(p<0&&h===0?(hWe("route-fallback"),x=!0,D=null):p===h&&(x=!0,D=f.route.hydrateFallbackElement||null)));let v=t.concat(c.slice(0,h+1)),T=()=>{let I;return g?I=y:x?I=D:f.route.Component?I=a.createElement(f.route.Component,null):f.route.element?I=f.route.element:I=m,a.createElement(lWe,{match:f,routeContext:{outlet:m,matches:v,isDataRoute:n!=null},children:I})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?a.createElement(iWe,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:T(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):T()},null)}var vde=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(vde||{}),jde=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(jde||{});function uWe(e){let t=a.useContext(MB);return t||Oa(!1),t}function dWe(e){let t=a.useContext(X4e);return t||Oa(!1),t}function pWe(e){let t=a.useContext(Vh);return t||Oa(!1),t}function Ide(e){let t=pWe(),n=t.matches[t.matches.length-1];return n.route.id||Oa(!1),n.route.id}function mWe(){var e;let t=a.useContext(Dde),n=dWe(),o=Ide();return t!==void 0?t:(e=n.errors)==null?void 0:e[o]}function fWe(){let{router:e}=uWe(vde.UseNavigateStable),t=Ide(jde.UseNavigateStable),n=a.useRef(!1);return Sde(()=>{n.current=!0}),a.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,UI({fromRouteId:t},i)))},[e,t])}const xne={};function hWe(e,t,n){xne[e]||(xne[e]=!0)}function gWe(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function YM(e){let{to:t,replace:n,state:o,relative:s}=e;pD()||Oa(!1);let{future:i,static:c}=a.useContext(CT),{matches:u}=a.useContext(Vh),{pathname:d}=Hd(),p=mD(),m=yde(t,xde(u,i.v7_relativeSplatPath),d,s==="path"),f=JSON.stringify(m);return a.useEffect(()=>p(JSON.parse(f),{replace:n,state:o,relative:s}),[p,f,s,n,o]),null}function Tde(e){return nWe(e.context)}function yt(e){Oa(!1)}function bWe(e){let{basename:t="/",children:n=null,location:o,navigationType:s=jh.Pop,navigator:i,static:c=!1,future:u}=e;pD()&&Oa(!1);let d=t.replace(/^\/*/,"/"),p=a.useMemo(()=>({basename:d,navigator:i,static:c,future:UI({v7_relativeSplatPath:!1},u)}),[d,u,i,c]);typeof o=="string"&&(o=dD(o));let{pathname:m="/",search:f="",hash:h="",state:g=null,key:x="default"}=o,y=a.useMemo(()=>{let D=bde(m,d);return D==null?null:{location:{pathname:D,search:f,hash:h,state:g,key:x},navigationType:s}},[d,m,f,h,g,x,s]);return y==null?null:a.createElement(CT.Provider,{value:p},a.createElement(UR.Provider,{children:n,value:y}))}function xWe(e){let{children:t,location:n}=e;return rWe(WL(t),n)}new Promise(()=>{});function WL(e,t){t===void 0&&(t=[]);let n=[];return a.Children.forEach(e,(o,s)=>{if(!a.isValidElement(o))return;let i=[...t,s];if(o.type===a.Fragment){n.push.apply(n,WL(o.props.children,i));return}o.type!==yt&&Oa(!1),!o.props.index||!o.props.children||Oa(!1);let c={id:o.props.id||i.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(c.children=WL(o.props.children,i)),n.push(c)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function UL(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let o=e[n];return t.concat(Array.isArray(o)?o.map(s=>[n,s]):[[n,o]])},[]))}function yWe(e,t){let n=UL(e);return t&&t.forEach((o,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const CWe="6";try{window.__reactRouterVersion=CWe}catch{}const DWe="startTransition",yne=BI[DWe];function SWe(e){let{basename:t,children:n,future:o,window:s}=e,i=a.useRef();i.current==null&&(i.current=E4e({window:s,v5Compat:!0}));let c=i.current,[u,d]=a.useState({action:c.action,location:c.location}),{v7_startTransition:p}=o||{},m=a.useCallback(f=>{p&&yne?yne(()=>d(f)):d(f)},[d,p]);return a.useLayoutEffect(()=>c.listen(m),[c,m]),a.useEffect(()=>gWe(o),[o]),a.createElement(bWe,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:c,future:o})}var Cne;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Cne||(Cne={}));var Dne;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Dne||(Dne={}));function Ode(e){let t=a.useRef(UL(e)),n=a.useRef(!1),o=Hd(),s=a.useMemo(()=>yWe(o.search,n.current?null:t.current),[o.search]),i=mD(),c=a.useCallback((u,d)=>{const p=UL(typeof u=="function"?u(s):u);n.current=!0,i("?"+p,d)},[i,s]);return[s,c]}const qI={black:"#000",white:"#fff"},Qm={100:"#ffcdd2",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828"},VI={50:"#fce4ec",200:"#f48fb1",300:"#f06292",500:"#e91e63"},Xg={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Zg={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",500:"#2196f3",700:"#1976d2",800:"#1565c0"},eb={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",900:"#01579b"},YP={200:"#80deea",700:"#0097a7"},Ym={50:"#e8f5e9",300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A700:"#00c853"},vWe={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00"},Zm={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},$c={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},jWe={50:"#eceff1"};function cf(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const IWe=Object.freeze(Object.defineProperty({__proto__:null,default:cf},Symbol.toStringTag,{value:"Module"})),Ab="$$material";function $(){return $=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},$.apply(null,arguments)}function It(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;n[o]=e[o]}return n}function TWe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function OWe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var EWe=(function(){function e(n){var o=this;this._insertTag=function(s){var i;o.tags.length===0?o.insertionPoint?i=o.insertionPoint.nextSibling:o.prepend?i=o.container.firstChild:i=o.before:i=o.tags[o.tags.length-1].nextSibling,o.container.insertBefore(s,i),o.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(o){o.forEach(this._insertTag)},t.insert=function(o){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(OWe(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=TWe(s);try{i.insertRule(o,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(o));this.ctr++},t.flush=function(){this.tags.forEach(function(o){var s;return(s=o.parentNode)==null?void 0:s.removeChild(o)}),this.tags=[],this.ctr=0},e})(),nl="-ms-",JP="-moz-",Yo="-webkit-",Ede="comm",_B="rule",LB="decl",PWe="@import",Pde="@keyframes",RWe="@layer",wWe=Math.abs,qR=String.fromCharCode,kWe=Object.assign;function AWe(e,t){return Ui(e,0)^45?(((t<<2^Ui(e,0))<<2^Ui(e,1))<<2^Ui(e,2))<<2^Ui(e,3):0}function Rde(e){return e.trim()}function NWe(e,t){return(e=t.exec(e))?e[0]:e}function Jo(e,t,n){return e.replace(t,n)}function qL(e,t){return e.indexOf(t)}function Ui(e,t){return e.charCodeAt(t)|0}function zI(e,t,n){return e.slice(t,n)}function Ap(e){return e.length}function $B(e){return e.length}function UE(e,t){return t.push(e),e}function FWe(e,t){return e.map(t).join("")}var VR=1,fC=1,wde=0,rc=0,qa=0,fD="";function zR(e,t,n,o,s,i,c){return{value:e,root:t,parent:n,type:o,props:s,children:i,line:VR,column:fC,length:c,return:""}}function f0(e,t){return kWe(zR("",null,null,"",null,null,0),e,{length:-e.length},t)}function MWe(){return qa}function _We(){return qa=rc>0?Ui(fD,--rc):0,fC--,qa===10&&(fC=1,VR--),qa}function Hc(){return qa=rc<wde?Ui(fD,rc++):0,fC++,qa===10&&(fC=1,VR++),qa}function Vp(){return Ui(fD,rc)}function PP(){return rc}function DT(e,t){return zI(fD,e,t)}function HI(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function kde(e){return VR=fC=1,wde=Ap(fD=e),rc=0,[]}function Ade(e){return fD="",e}function RP(e){return Rde(DT(rc-1,VL(e===91?e+2:e===40?e+1:e)))}function LWe(e){for(;(qa=Vp())&&qa<33;)Hc();return HI(e)>2||HI(qa)>3?"":" "}function $We(e,t){for(;--t&&Hc()&&!(qa<48||qa>102||qa>57&&qa<65||qa>70&&qa<97););return DT(e,PP()+(t<6&&Vp()==32&&Hc()==32))}function VL(e){for(;Hc();)switch(qa){case e:return rc;case 34:case 39:e!==34&&e!==39&&VL(qa);break;case 40:e===41&&VL(e);break;case 92:Hc();break}return rc}function BWe(e,t){for(;Hc()&&e+qa!==57;)if(e+qa===84&&Vp()===47)break;return"/*"+DT(t,rc-1)+"*"+qR(e===47?e:Hc())}function WWe(e){for(;!HI(Vp());)Hc();return DT(e,rc)}function UWe(e){return Ade(wP("",null,null,null,[""],e=kde(e),0,[0],e))}function wP(e,t,n,o,s,i,c,u,d){for(var p=0,m=0,f=c,h=0,g=0,x=0,y=1,D=1,v=1,T=0,I="",P=s,E=i,k=o,w=I;D;)switch(x=T,T=Hc()){case 40:if(x!=108&&Ui(w,f-1)==58){qL(w+=Jo(RP(T),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:w+=RP(T);break;case 9:case 10:case 13:case 32:w+=LWe(x);break;case 92:w+=$We(PP()-1,7);continue;case 47:switch(Vp()){case 42:case 47:UE(qWe(BWe(Hc(),PP()),t,n),d);break;default:w+="/"}break;case 123*y:u[p++]=Ap(w)*v;case 125*y:case 59:case 0:switch(T){case 0:case 125:D=0;case 59+m:v==-1&&(w=Jo(w,/\f/g,"")),g>0&&Ap(w)-f&&UE(g>32?vne(w+";",o,n,f-1):vne(Jo(w," ","")+";",o,n,f-2),d);break;case 59:w+=";";default:if(UE(k=Sne(w,t,n,p,m,s,u,I,P=[],E=[],f),i),T===123)if(m===0)wP(w,t,k,k,P,i,f,u,E);else switch(h===99&&Ui(w,3)===110?100:h){case 100:case 108:case 109:case 115:wP(e,k,k,o&&UE(Sne(e,k,k,0,0,s,u,I,s,P=[],f),E),s,E,f,u,o?P:E);break;default:wP(w,k,k,k,[""],E,0,u,E)}}p=m=g=0,y=v=1,I=w="",f=c;break;case 58:f=1+Ap(w),g=x;default:if(y<1){if(T==123)--y;else if(T==125&&y++==0&&_We()==125)continue}switch(w+=qR(T),T*y){case 38:v=m>0?1:(w+="\f",-1);break;case 44:u[p++]=(Ap(w)-1)*v,v=1;break;case 64:Vp()===45&&(w+=RP(Hc())),h=Vp(),m=f=Ap(I=w+=WWe(PP())),T++;break;case 45:x===45&&Ap(w)==2&&(y=0)}}return i}function Sne(e,t,n,o,s,i,c,u,d,p,m){for(var f=s-1,h=s===0?i:[""],g=$B(h),x=0,y=0,D=0;x<o;++x)for(var v=0,T=zI(e,f+1,f=wWe(y=c[x])),I=e;v<g;++v)(I=Rde(y>0?h[v]+" "+T:Jo(T,/&\f/g,h[v])))&&(d[D++]=I);return zR(e,t,n,s===0?_B:u,d,p,m)}function qWe(e,t,n){return zR(e,t,n,Ede,qR(MWe()),zI(e,2,-2),0)}function vne(e,t,n,o){return zR(e,t,n,LB,zI(e,0,o),zI(e,o+1,-1),o)}function nC(e,t){for(var n="",o=$B(e),s=0;s<o;s++)n+=t(e[s],s,e,t)||"";return n}function VWe(e,t,n,o){switch(e.type){case RWe:if(e.children.length)break;case PWe:case LB:return e.return=e.return||e.value;case Ede:return"";case Pde:return e.return=e.value+"{"+nC(e.children,o)+"}";case _B:e.value=e.props.join(",")}return Ap(n=nC(e.children,o))?e.return=e.value+"{"+n+"}":""}function zWe(e){var t=$B(e);return function(n,o,s,i){for(var c="",u=0;u<t;u++)c+=e[u](n,o,s,i)||"";return c}}function HWe(e){return function(t){t.root||(t=t.return)&&e(t)}}function Nde(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var GWe=function(t,n,o){for(var s=0,i=0;s=i,i=Vp(),s===38&&i===12&&(n[o]=1),!HI(i);)Hc();return DT(t,rc)},KWe=function(t,n){var o=-1,s=44;do switch(HI(s)){case 0:s===38&&Vp()===12&&(n[o]=1),t[o]+=GWe(rc-1,n,o);break;case 2:t[o]+=RP(s);break;case 4:if(s===44){t[++o]=Vp()===58?"&\f":"",n[o]=t[o].length;break}default:t[o]+=qR(s)}while(s=Hc());return t},QWe=function(t,n){return Ade(KWe(kde(t),n))},jne=new WeakMap,YWe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,o=t.parent,s=t.column===o.column&&t.line===o.line;o.type!=="rule";)if(o=o.parent,!o)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!jne.get(o))&&!s){jne.set(t,!0);for(var i=[],c=QWe(n,i),u=o.props,d=0,p=0;d<c.length;d++)for(var m=0;m<u.length;m++,p++)t.props[p]=i[d]?c[d].replace(/&\f/g,u[m]):u[m]+" "+c[d]}}},JWe=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function Fde(e,t){switch(AWe(e,t)){case 5103:return Yo+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Yo+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Yo+e+JP+e+nl+e+e;case 6828:case 4268:return Yo+e+nl+e+e;case 6165:return Yo+e+nl+"flex-"+e+e;case 5187:return Yo+e+Jo(e,/(\w+).+(:[^]+)/,Yo+"box-$1$2"+nl+"flex-$1$2")+e;case 5443:return Yo+e+nl+"flex-item-"+Jo(e,/flex-|-self/,"")+e;case 4675:return Yo+e+nl+"flex-line-pack"+Jo(e,/align-content|flex-|-self/,"")+e;case 5548:return Yo+e+nl+Jo(e,"shrink","negative")+e;case 5292:return Yo+e+nl+Jo(e,"basis","preferred-size")+e;case 6060:return Yo+"box-"+Jo(e,"-grow","")+Yo+e+nl+Jo(e,"grow","positive")+e;case 4554:return Yo+Jo(e,/([^-])(transform)/g,"$1"+Yo+"$2")+e;case 6187:return Jo(Jo(Jo(e,/(zoom-|grab)/,Yo+"$1"),/(image-set)/,Yo+"$1"),e,"")+e;case 5495:case 3959:return Jo(e,/(image-set\([^]*)/,Yo+"$1$`$1");case 4968:return Jo(Jo(e,/(.+:)(flex-)?(.*)/,Yo+"box-pack:$3"+nl+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Yo+e+e;case 4095:case 3583:case 4068:case 2532:return Jo(e,/(.+)-inline(.+)/,Yo+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ap(e)-1-t>6)switch(Ui(e,t+1)){case 109:if(Ui(e,t+4)!==45)break;case 102:return Jo(e,/(.+:)(.+)-([^]+)/,"$1"+Yo+"$2-$3$1"+JP+(Ui(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~qL(e,"stretch")?Fde(Jo(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Ui(e,t+1)!==115)break;case 6444:switch(Ui(e,Ap(e)-3-(~qL(e,"!important")&&10))){case 107:return Jo(e,":",":"+Yo)+e;case 101:return Jo(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Yo+(Ui(e,14)===45?"inline-":"")+"box$3$1"+Yo+"$2$3$1"+nl+"$2box$3")+e}break;case 5936:switch(Ui(e,t+11)){case 114:return Yo+e+nl+Jo(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Yo+e+nl+Jo(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Yo+e+nl+Jo(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Yo+e+nl+e+e}return e}var XWe=function(t,n,o,s){if(t.length>-1&&!t.return)switch(t.type){case LB:t.return=Fde(t.value,t.length);break;case Pde:return nC([f0(t,{value:Jo(t.value,"@","@"+Yo)})],s);case _B:if(t.length)return FWe(t.props,function(i){switch(NWe(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return nC([f0(t,{props:[Jo(i,/:(read-\w+)/,":"+JP+"$1")]})],s);case"::placeholder":return nC([f0(t,{props:[Jo(i,/:(plac\w+)/,":"+Yo+"input-$1")]}),f0(t,{props:[Jo(i,/:(plac\w+)/,":"+JP+"$1")]}),f0(t,{props:[Jo(i,/:(plac\w+)/,nl+"input-$1")]})],s)}return""})}},ZWe=[XWe],HR=function(t){var n=t.key;if(n==="css"){var o=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(o,function(y){var D=y.getAttribute("data-emotion");D.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var s=t.stylisPlugins||ZWe,i={},c,u=[];c=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var D=y.getAttribute("data-emotion").split(" "),v=1;v<D.length;v++)i[D[v]]=!0;u.push(y)});var d,p=[YWe,JWe];{var m,f=[VWe,HWe(function(y){m.insert(y)})],h=zWe(p.concat(s,f)),g=function(D){return nC(UWe(D),h)};d=function(D,v,T,I){m=T,g(D?D+"{"+v.styles+"}":v.styles),I&&(x.inserted[v.name]=!0)}}var x={key:n,sheet:new EWe({key:n,container:c,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:d};return x.sheet.hydrate(u),x},JM={exports:{}},os={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ine;function e5e(){if(Ine)return os;Ine=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,o=e?Symbol.for("react.fragment"):60107,s=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,c=e?Symbol.for("react.provider"):60109,u=e?Symbol.for("react.context"):60110,d=e?Symbol.for("react.async_mode"):60111,p=e?Symbol.for("react.concurrent_mode"):60111,m=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,h=e?Symbol.for("react.suspense_list"):60120,g=e?Symbol.for("react.memo"):60115,x=e?Symbol.for("react.lazy"):60116,y=e?Symbol.for("react.block"):60121,D=e?Symbol.for("react.fundamental"):60117,v=e?Symbol.for("react.responder"):60118,T=e?Symbol.for("react.scope"):60119;function I(E){if(typeof E=="object"&&E!==null){var k=E.$$typeof;switch(k){case t:switch(E=E.type,E){case d:case p:case o:case i:case s:case f:return E;default:switch(E=E&&E.$$typeof,E){case u:case m:case x:case g:case c:return E;default:return k}}case n:return k}}}function P(E){return I(E)===p}return os.AsyncMode=d,os.ConcurrentMode=p,os.ContextConsumer=u,os.ContextProvider=c,os.Element=t,os.ForwardRef=m,os.Fragment=o,os.Lazy=x,os.Memo=g,os.Portal=n,os.Profiler=i,os.StrictMode=s,os.Suspense=f,os.isAsyncMode=function(E){return P(E)||I(E)===d},os.isConcurrentMode=P,os.isContextConsumer=function(E){return I(E)===u},os.isContextProvider=function(E){return I(E)===c},os.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},os.isForwardRef=function(E){return I(E)===m},os.isFragment=function(E){return I(E)===o},os.isLazy=function(E){return I(E)===x},os.isMemo=function(E){return I(E)===g},os.isPortal=function(E){return I(E)===n},os.isProfiler=function(E){return I(E)===i},os.isStrictMode=function(E){return I(E)===s},os.isSuspense=function(E){return I(E)===f},os.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===o||E===p||E===i||E===s||E===f||E===h||typeof E=="object"&&E!==null&&(E.$$typeof===x||E.$$typeof===g||E.$$typeof===c||E.$$typeof===u||E.$$typeof===m||E.$$typeof===D||E.$$typeof===v||E.$$typeof===T||E.$$typeof===y)},os.typeOf=I,os}var Tne;function t5e(){return Tne||(Tne=1,JM.exports=e5e()),JM.exports}var XM,One;function n5e(){if(One)return XM;One=1;var e=t5e(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[e.ForwardRef]=o,i[e.Memo]=s;function c(x){return e.isMemo(x)?s:i[x.$$typeof]||t}var u=Object.defineProperty,d=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;function g(x,y,D){if(typeof y!="string"){if(h){var v=f(y);v&&v!==h&&g(x,v,D)}var T=d(y);p&&(T=T.concat(p(y)));for(var I=c(x),P=c(y),E=0;E<T.length;++E){var k=T[E];if(!n[k]&&!(D&&D[k])&&!(P&&P[k])&&!(I&&I[k])){var w=m(y,k);try{u(x,k,w)}catch{}}}}return x}return XM=g,XM}var r5e=n5e();const Ene=qn(r5e);var o5e=!0;function GR(e,t,n){var o="";return n.split(" ").forEach(function(s){e[s]!==void 0?t.push(e[s]+";"):s&&(o+=s+" ")}),o}var ST=function(t,n,o){var s=t.key+"-"+n.name;(o===!1||o5e===!1)&&t.registered[s]===void 0&&(t.registered[s]=n.styles)},hD=function(t,n,o){ST(t,n,o);var s=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var i=n;do t.insert(n===i?"."+s:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function s5e(e){for(var t=0,n,o=0,s=e.length;s>=4;++o,s-=4)n=e.charCodeAt(o)&255|(e.charCodeAt(++o)&255)<<8|(e.charCodeAt(++o)&255)<<16|(e.charCodeAt(++o)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(e.charCodeAt(o+2)&255)<<16;case 2:t^=(e.charCodeAt(o+1)&255)<<8;case 1:t^=e.charCodeAt(o)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var a5e={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},i5e=/[A-Z]|^ms/g,l5e=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Mde=function(t){return t.charCodeAt(1)===45},Pne=function(t){return t!=null&&typeof t!="boolean"},ZM=Nde(function(e){return Mde(e)?e:e.replace(i5e,"-$&").toLowerCase()}),Rne=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(l5e,function(o,s,i){return Np={name:s,styles:i,next:Np},s})}return a5e[t]!==1&&!Mde(t)&&typeof n=="number"&&n!==0?n+"px":n};function GI(e,t,n){if(n==null)return"";var o=n;if(o.__emotion_styles!==void 0)return o;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return Np={name:s.name,styles:s.styles,next:Np},s.name;var i=n;if(i.styles!==void 0){var c=i.next;if(c!==void 0)for(;c!==void 0;)Np={name:c.name,styles:c.styles,next:Np},c=c.next;var u=i.styles+";";return u}return c5e(e,t,n)}case"function":{if(e!==void 0){var d=Np,p=n(e);return Np=d,GI(e,t,p)}break}}var m=n;if(t==null)return m;var f=t[m];return f!==void 0?f:m}function c5e(e,t,n){var o="";if(Array.isArray(n))for(var s=0;s<n.length;s++)o+=GI(e,t,n[s])+";";else for(var i in n){var c=n[i];if(typeof c!="object"){var u=c;t!=null&&t[u]!==void 0?o+=i+"{"+t[u]+"}":Pne(u)&&(o+=ZM(i)+":"+Rne(i,u)+";")}else if(Array.isArray(c)&&typeof c[0]=="string"&&(t==null||t[c[0]]===void 0))for(var d=0;d<c.length;d++)Pne(c[d])&&(o+=ZM(i)+":"+Rne(i,c[d])+";");else{var p=GI(e,t,c);switch(i){case"animation":case"animationName":{o+=ZM(i)+":"+p+";";break}default:o+=i+"{"+p+"}"}}}return o}var wne=/label:\s*([^\s;{]+)\s*(;|$)/g,Np;function Jp(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var o=!0,s="";Np=void 0;var i=e[0];if(i==null||i.raw===void 0)o=!1,s+=GI(n,t,i);else{var c=i;s+=c[0]}for(var u=1;u<e.length;u++)if(s+=GI(n,t,e[u]),o){var d=i;s+=d[u]}wne.lastIndex=0;for(var p="",m;(m=wne.exec(s))!==null;)p+="-"+m[1];var f=s5e(s)+p;return{name:f,styles:s,next:Np}}var u5e=function(t){return t()},_de=BI.useInsertionEffect?BI.useInsertionEffect:!1,KR=_de||u5e,XP=_de||a.useLayoutEffect,Lde=a.createContext(typeof HTMLElement<"u"?HR({key:"css"}):null),d5e=Lde.Provider,BB=function(t){return a.forwardRef(function(n,o){var s=a.useContext(Lde);return t(n,s,o)})},gD=a.createContext({}),WB={}.hasOwnProperty,zL="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",p5e=function(t,n){var o={};for(var s in n)WB.call(n,s)&&(o[s]=n[s]);return o[zL]=t,o},m5e=function(t){var n=t.cache,o=t.serialized,s=t.isStringTag;return ST(n,o,s),KR(function(){return hD(n,o,s)}),null},f5e=BB(function(e,t,n){var o=e.css;typeof o=="string"&&t.registered[o]!==void 0&&(o=t.registered[o]);var s=e[zL],i=[o],c="";typeof e.className=="string"?c=GR(t.registered,i,e.className):e.className!=null&&(c=e.className+" ");var u=Jp(i,void 0,a.useContext(gD));c+=t.key+"-"+u.name;var d={};for(var p in e)WB.call(e,p)&&p!=="css"&&p!==zL&&(d[p]=e[p]);return d.className=c,n&&(d.ref=n),a.createElement(a.Fragment,null,a.createElement(m5e,{cache:t,serialized:u,isStringTag:typeof s=="string"}),a.createElement(s,d))}),h5e=f5e,kne=function(t,n){var o=arguments;if(n==null||!WB.call(n,"css"))return a.createElement.apply(void 0,o);var s=o.length,i=new Array(s);i[0]=h5e,i[1]=p5e(t,n);for(var c=2;c<s;c++)i[c]=o[c];return a.createElement.apply(null,i)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(kne||(kne={}));var g5e=BB(function(e,t){var n=e.styles,o=Jp([n],void 0,a.useContext(gD)),s=a.useRef();return XP(function(){var i=t.key+"-global",c=new t.sheet.constructor({key:i,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),u=!1,d=document.querySelector('style[data-emotion="'+i+" "+o.name+'"]');return t.sheet.tags.length&&(c.before=t.sheet.tags[0]),d!==null&&(u=!0,d.setAttribute("data-emotion",i),c.hydrate([d])),s.current=[c,u],function(){c.flush()}},[t]),XP(function(){var i=s.current,c=i[0],u=i[1];if(u){i[1]=!1;return}if(o.next!==void 0&&hD(t,o.next,!0),c.tags.length){var d=c.tags[c.tags.length-1].nextElementSibling;c.before=d,c.flush()}t.insert("",o,c,!1)},[t,o.name]),null});function hC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Jp(t)}function zh(){var e=hC.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var b5e=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,$de=Nde(function(e){return b5e.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),x5e=$de,y5e=function(t){return t!=="theme"},Ane=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?x5e:y5e},Nne=function(t,n,o){var s;if(n){var i=n.shouldForwardProp;s=t.__emotion_forwardProp&&i?function(c){return t.__emotion_forwardProp(c)&&i(c)}:i}return typeof s!="function"&&o&&(s=t.__emotion_forwardProp),s},C5e=function(t){var n=t.cache,o=t.serialized,s=t.isStringTag;return ST(n,o,s),KR(function(){return hD(n,o,s)}),null},D5e=function e(t,n){var o=t.__emotion_real===t,s=o&&t.__emotion_base||t,i,c;n!==void 0&&(i=n.label,c=n.target);var u=Nne(t,n,o),d=u||Ane(s),p=!d("as");return function(){var m=arguments,f=o&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(i!==void 0&&f.push("label:"+i+";"),m[0]==null||m[0].raw===void 0)f.push.apply(f,m);else{var h=m[0];f.push(h[0]);for(var g=m.length,x=1;x<g;x++)f.push(m[x],h[x])}var y=BB(function(D,v,T){var I=p&&D.as||s,P="",E=[],k=D;if(D.theme==null){k={};for(var w in D)k[w]=D[w];k.theme=a.useContext(gD)}typeof D.className=="string"?P=GR(v.registered,E,D.className):D.className!=null&&(P=D.className+" ");var A=Jp(f.concat(E),v.registered,k);P+=v.key+"-"+A.name,c!==void 0&&(P+=" "+c);var F=p&&u===void 0?Ane(I):d,_={};for(var L in D)p&&L==="as"||F(L)&&(_[L]=D[L]);return _.className=P,T&&(_.ref=T),a.createElement(a.Fragment,null,a.createElement(C5e,{cache:v,serialized:A,isStringTag:typeof I=="string"}),a.createElement(I,_))});return y.displayName=i!==void 0?i:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",y.defaultProps=t.defaultProps,y.__emotion_real=y,y.__emotion_base=s,y.__emotion_styles=f,y.__emotion_forwardProp=u,Object.defineProperty(y,"toString",{value:function(){return"."+c}}),y.withComponent=function(D,v){var T=e(D,$({},n,v,{shouldForwardProp:Nne(y,v,!0)}));return T.apply(void 0,f)},y}},S5e=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],HL=D5e.bind(null);S5e.forEach(function(e){HL[e]=HL(e)});var e_={exports:{}},t_,Fne;function v5e(){if(Fne)return t_;Fne=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return t_=e,t_}var n_,Mne;function j5e(){if(Mne)return n_;Mne=1;var e=v5e();function t(){}function n(){}return n.resetWarningCache=t,n_=function(){function o(c,u,d,p,m,f){if(f!==e){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}o.isRequired=o;function s(){return o}var i={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:s,element:o,elementType:o,instanceOf:s,node:o,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i},n_}var _ne;function I5e(){return _ne||(_ne=1,e_.exports=j5e()()),e_.exports}var T5e=I5e();const l=qn(T5e);function O5e(e,t){const n=HR({key:"css",prepend:e});if(t){const o=n.insert;n.insert=(...s)=>(s[1].styles.match(/^@layer\s+[^{]*$/)||(s[1].styles=`@layer mui {${s[1].styles}}`),o(...s))}return n}const r_=new Map;function Bde(e){const{injectFirst:t,enableCssLayer:n,children:o}=e,s=a.useMemo(()=>{const i=`${t}-${n}`;if(typeof document=="object"&&r_.has(i))return r_.get(i);const c=O5e(t,n);return r_.set(i,c),c},[t,n]);return t||n?r.jsx(d5e,{value:s,children:o}):o}function E5e(e){return e==null||Object.keys(e).length===0}function Wde(e){const{styles:t,defaultTheme:n={}}=e,o=typeof t=="function"?s=>t(E5e(s)?n:s):t;return r.jsx(g5e,{styles:o})}function UB(e,t){return HL(e,t)}const Ude=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},Lne=[];function P5e(e){return Lne[0]=e,Jp(Lne)}const R5e=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:Wde,StyledEngineProvider:Bde,ThemeContext:gD,css:hC,default:UB,internal_processStyles:Ude,internal_serializeStyles:P5e,keyframes:zh},Symbol.toStringTag,{value:"Module"}));function ef(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function qde(e){if(a.isValidElement(e)||!ef(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=qde(e[n])}),t}function jl(e,t,n={clone:!0}){const o=n.clone?$({},e):e;return ef(e)&&ef(t)&&Object.keys(t).forEach(s=>{a.isValidElement(t[s])?o[s]=t[s]:ef(t[s])&&Object.prototype.hasOwnProperty.call(e,s)&&ef(e[s])?o[s]=jl(e[s],t[s],n):n.clone?o[s]=ef(t[s])?qde(t[s]):t[s]:o[s]=t[s]}),o}const w5e=Object.freeze(Object.defineProperty({__proto__:null,default:jl,isPlainObject:ef},Symbol.toStringTag,{value:"Module"})),k5e=["values","unit","step"],A5e=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,o)=>n.val-o.val),t.reduce((n,o)=>$({},n,{[o.key]:o.val}),{})};function Vde(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:o=5}=e,s=It(e,k5e),i=A5e(t),c=Object.keys(i);function u(h){return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n})`}function d(h){return`@media (max-width:${(typeof t[h]=="number"?t[h]:h)-o/100}${n})`}function p(h,g){const x=c.indexOf(g);return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n}) and (max-width:${(x!==-1&&typeof t[c[x]]=="number"?t[c[x]]:g)-o/100}${n})`}function m(h){return c.indexOf(h)+1<c.length?p(h,c[c.indexOf(h)+1]):u(h)}function f(h){const g=c.indexOf(h);return g===0?u(c[1]):g===c.length-1?d(c[g]):p(h,c[c.indexOf(h)+1]).replace("@media","@media not all and")}return $({keys:c,values:i,up:u,down:d,between:p,only:m,not:f,unit:n},s)}const N5e={borderRadius:4};function hI(e,t){return t?jl(e,t,{clone:!1}):e}const qB={xs:0,sm:600,md:900,lg:1200,xl:1536},$ne={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${qB[e]}px)`};function oc(e,t,n){const o=e.theme||{};if(Array.isArray(t)){const i=o.breakpoints||$ne;return t.reduce((c,u,d)=>(c[i.up(i.keys[d])]=n(t[d]),c),{})}if(typeof t=="object"){const i=o.breakpoints||$ne;return Object.keys(t).reduce((c,u)=>{if(Object.keys(i.values||qB).indexOf(u)!==-1){const d=i.up(u);c[d]=n(t[u],u)}else{const d=u;c[d]=t[d]}return c},{})}return n(t)}function zde(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((o,s)=>{const i=e.up(s);return o[i]={},o},{}))||{}}function Hde(e,t){return e.reduce((n,o)=>{const s=n[o];return(!s||Object.keys(s).length===0)&&delete n[o],n},t)}function F5e(e,...t){const n=zde(e),o=[n,...t].reduce((s,i)=>jl(s,i),{});return Hde(Object.keys(n),o)}function M5e(e,t){if(typeof e!="object")return{};const n={},o=Object.keys(t);return Array.isArray(e)?o.forEach((s,i)=>{i<e.length&&(n[s]=!0)}):o.forEach(s=>{e[s]!=null&&(n[s]=!0)}),n}function Db({values:e,breakpoints:t,base:n}){const o=n||M5e(e,t),s=Object.keys(o);if(s.length===0)return e;let i;return s.reduce((c,u,d)=>(Array.isArray(e)?(c[u]=e[d]!=null?e[d]:e[i],i=d):typeof e=="object"?(c[u]=e[u]!=null?e[u]:e[i],i=u):c[u]=e,c),{})}function zt(e){if(typeof e!="string")throw new Error(cf(7));return e.charAt(0).toUpperCase()+e.slice(1)}const _5e=Object.freeze(Object.defineProperty({__proto__:null,default:zt},Symbol.toStringTag,{value:"Module"}));function gC(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const o=`vars.${t}`.split(".").reduce((s,i)=>s&&s[i]?s[i]:null,e);if(o!=null)return o}return t.split(".").reduce((o,s)=>o&&o[s]!=null?o[s]:null,e)}function ZP(e,t,n,o=n){let s;return typeof e=="function"?s=e(n):Array.isArray(e)?s=e[n]||o:s=gC(e,n)||o,t&&(s=t(s,o,e)),s}function ka(e){const{prop:t,cssProperty:n=e.prop,themeKey:o,transform:s}=e,i=c=>{if(c[t]==null)return null;const u=c[t],d=c.theme,p=gC(d,o)||{};return oc(c,u,f=>{let h=ZP(p,s,f);return f===h&&typeof f=="string"&&(h=ZP(p,s,`${t}${f==="default"?"":zt(f)}`,f)),n===!1?h:{[n]:h}})};return i.propTypes={},i.filterProps=[t],i}function L5e(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const $5e={m:"margin",p:"padding"},B5e={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Bne={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},W5e=L5e(e=>{if(e.length>2)if(Bne[e])e=Bne[e];else return[e];const[t,n]=e.split(""),o=$5e[t],s=B5e[n]||"";return Array.isArray(s)?s.map(i=>o+i):[o+s]}),VB=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],zB=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...VB,...zB];function vT(e,t,n,o){var s;const i=(s=gC(e,t,!1))!=null?s:n;return typeof i=="number"?c=>typeof c=="string"?c:i*c:Array.isArray(i)?c=>typeof c=="string"?c:i[c]:typeof i=="function"?i:()=>{}}function HB(e){return vT(e,"spacing",8)}function Nb(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),o=e(n);return t>=0?o:typeof o=="number"?-o:`-${o}`}function U5e(e,t){return n=>e.reduce((o,s)=>(o[s]=Nb(t,n),o),{})}function q5e(e,t,n,o){if(t.indexOf(n)===-1)return null;const s=W5e(n),i=U5e(s,o),c=e[n];return oc(e,c,i)}function Gde(e,t){const n=HB(e.theme);return Object.keys(e).map(o=>q5e(e,t,o,n)).reduce(hI,{})}function ca(e){return Gde(e,VB)}ca.propTypes={};ca.filterProps=VB;function ua(e){return Gde(e,zB)}ua.propTypes={};ua.filterProps=zB;function V5e(e=8){if(e.mui)return e;const t=HB({spacing:e}),n=(...o)=>(o.length===0?[1]:o).map(i=>{const c=t(i);return typeof c=="number"?`${c}px`:c}).join(" ");return n.mui=!0,n}function QR(...e){const t=e.reduce((o,s)=>(s.filterProps.forEach(i=>{o[i]=s}),o),{}),n=o=>Object.keys(o).reduce((s,i)=>t[i]?hI(s,t[i](o)):s,{});return n.propTypes={},n.filterProps=e.reduce((o,s)=>o.concat(s.filterProps),[]),n}function Vu(e){return typeof e!="number"?e:`${e}px solid`}function nd(e,t){return ka({prop:e,themeKey:"borders",transform:t})}const z5e=nd("border",Vu),H5e=nd("borderTop",Vu),G5e=nd("borderRight",Vu),K5e=nd("borderBottom",Vu),Q5e=nd("borderLeft",Vu),Y5e=nd("borderColor"),J5e=nd("borderTopColor"),X5e=nd("borderRightColor"),Z5e=nd("borderBottomColor"),e6e=nd("borderLeftColor"),t6e=nd("outline",Vu),n6e=nd("outlineColor"),YR=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=vT(e.theme,"shape.borderRadius",4),n=o=>({borderRadius:Nb(t,o)});return oc(e,e.borderRadius,n)}return null};YR.propTypes={};YR.filterProps=["borderRadius"];QR(z5e,H5e,G5e,K5e,Q5e,Y5e,J5e,X5e,Z5e,e6e,YR,t6e,n6e);const JR=e=>{if(e.gap!==void 0&&e.gap!==null){const t=vT(e.theme,"spacing",8),n=o=>({gap:Nb(t,o)});return oc(e,e.gap,n)}return null};JR.propTypes={};JR.filterProps=["gap"];const XR=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=vT(e.theme,"spacing",8),n=o=>({columnGap:Nb(t,o)});return oc(e,e.columnGap,n)}return null};XR.propTypes={};XR.filterProps=["columnGap"];const ZR=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=vT(e.theme,"spacing",8),n=o=>({rowGap:Nb(t,o)});return oc(e,e.rowGap,n)}return null};ZR.propTypes={};ZR.filterProps=["rowGap"];const r6e=ka({prop:"gridColumn"}),o6e=ka({prop:"gridRow"}),s6e=ka({prop:"gridAutoFlow"}),a6e=ka({prop:"gridAutoColumns"}),i6e=ka({prop:"gridAutoRows"}),l6e=ka({prop:"gridTemplateColumns"}),c6e=ka({prop:"gridTemplateRows"}),u6e=ka({prop:"gridTemplateAreas"}),d6e=ka({prop:"gridArea"});QR(JR,XR,ZR,r6e,o6e,s6e,a6e,i6e,l6e,c6e,u6e,d6e);function rC(e,t){return t==="grey"?t:e}const p6e=ka({prop:"color",themeKey:"palette",transform:rC}),m6e=ka({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:rC}),f6e=ka({prop:"backgroundColor",themeKey:"palette",transform:rC});QR(p6e,m6e,f6e);function Bc(e){return e<=1&&e!==0?`${e*100}%`:e}const h6e=ka({prop:"width",transform:Bc}),GB=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var o,s;const i=((o=e.theme)==null||(o=o.breakpoints)==null||(o=o.values)==null?void 0:o[n])||qB[n];return i?((s=e.theme)==null||(s=s.breakpoints)==null?void 0:s.unit)!=="px"?{maxWidth:`${i}${e.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:Bc(n)}};return oc(e,e.maxWidth,t)}return null};GB.filterProps=["maxWidth"];const g6e=ka({prop:"minWidth",transform:Bc}),b6e=ka({prop:"height",transform:Bc}),x6e=ka({prop:"maxHeight",transform:Bc}),y6e=ka({prop:"minHeight",transform:Bc});ka({prop:"size",cssProperty:"width",transform:Bc});ka({prop:"size",cssProperty:"height",transform:Bc});const C6e=ka({prop:"boxSizing"});QR(h6e,GB,g6e,b6e,x6e,y6e,C6e);const jT={border:{themeKey:"borders",transform:Vu},borderTop:{themeKey:"borders",transform:Vu},borderRight:{themeKey:"borders",transform:Vu},borderBottom:{themeKey:"borders",transform:Vu},borderLeft:{themeKey:"borders",transform:Vu},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Vu},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:YR},color:{themeKey:"palette",transform:rC},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:rC},backgroundColor:{themeKey:"palette",transform:rC},p:{style:ua},pt:{style:ua},pr:{style:ua},pb:{style:ua},pl:{style:ua},px:{style:ua},py:{style:ua},padding:{style:ua},paddingTop:{style:ua},paddingRight:{style:ua},paddingBottom:{style:ua},paddingLeft:{style:ua},paddingX:{style:ua},paddingY:{style:ua},paddingInline:{style:ua},paddingInlineStart:{style:ua},paddingInlineEnd:{style:ua},paddingBlock:{style:ua},paddingBlockStart:{style:ua},paddingBlockEnd:{style:ua},m:{style:ca},mt:{style:ca},mr:{style:ca},mb:{style:ca},ml:{style:ca},mx:{style:ca},my:{style:ca},margin:{style:ca},marginTop:{style:ca},marginRight:{style:ca},marginBottom:{style:ca},marginLeft:{style:ca},marginX:{style:ca},marginY:{style:ca},marginInline:{style:ca},marginInlineStart:{style:ca},marginInlineEnd:{style:ca},marginBlock:{style:ca},marginBlockStart:{style:ca},marginBlockEnd:{style:ca},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:JR},rowGap:{style:ZR},columnGap:{style:XR},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Bc},maxWidth:{style:GB},minWidth:{transform:Bc},height:{transform:Bc},maxHeight:{transform:Bc},minHeight:{transform:Bc},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function D6e(...e){const t=e.reduce((o,s)=>o.concat(Object.keys(s)),[]),n=new Set(t);return e.every(o=>n.size===Object.keys(o).length)}function S6e(e,t){return typeof e=="function"?e(t):e}function Kde(){function e(n,o,s,i){const c={[n]:o,theme:s},u=i[n];if(!u)return{[n]:o};const{cssProperty:d=n,themeKey:p,transform:m,style:f}=u;if(o==null)return null;if(p==="typography"&&o==="inherit")return{[n]:o};const h=gC(s,p)||{};return f?f(c):oc(c,o,x=>{let y=ZP(h,m,x);return x===y&&typeof x=="string"&&(y=ZP(h,m,`${n}${x==="default"?"":zt(x)}`,x)),d===!1?y:{[d]:y}})}function t(n){var o;const{sx:s,theme:i={}}=n||{};if(!s)return null;const c=(o=i.unstable_sxConfig)!=null?o:jT;function u(d){let p=d;if(typeof d=="function")p=d(i);else if(typeof d!="object")return d;if(!p)return null;const m=zde(i.breakpoints),f=Object.keys(m);let h=m;return Object.keys(p).forEach(g=>{const x=S6e(p[g],i);if(x!=null)if(typeof x=="object")if(c[g])h=hI(h,e(g,x,i,c));else{const y=oc({theme:i},x,D=>({[g]:D}));D6e(y,x)?h[g]=t({sx:x,theme:i}):h=hI(h,y)}else h=hI(h,e(g,x,i,c))}),Hde(f,h)}return Array.isArray(s)?s.map(u):u(s)}return t}const bD=Kde();bD.filterProps=["sx"];function Qde(e,t){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:n.palette.mode===e?t:{}}const v6e=["breakpoints","palette","spacing","shape"];function xD(e={},...t){const{breakpoints:n={},palette:o={},spacing:s,shape:i={}}=e,c=It(e,v6e),u=Vde(n),d=V5e(s);let p=jl({breakpoints:u,direction:"ltr",components:{},palette:$({mode:"light"},o),spacing:d,shape:$({},N5e,i)},c);return p.applyStyles=Qde,p=t.reduce((m,f)=>jl(m,f),p),p.unstable_sxConfig=$({},jT,c==null?void 0:c.unstable_sxConfig),p.unstable_sx=function(f){return bD({sx:f,theme:this})},p}const j6e=Object.freeze(Object.defineProperty({__proto__:null,default:xD,private_createBreakpoints:Vde,unstable_applyStyles:Qde},Symbol.toStringTag,{value:"Module"}));function I6e(e){return Object.keys(e).length===0}function KB(e=null){const t=a.useContext(gD);return!t||I6e(t)?e:t}const T6e=xD();function hf(e=T6e){return KB(e)}function O6e({styles:e,themeId:t,defaultTheme:n={}}){const o=hf(n),s=typeof e=="function"?e(t&&o[t]||o):e;return r.jsx(Wde,{styles:s})}const E6e=["sx"],P6e=e=>{var t,n;const o={systemProps:{},otherProps:{}},s=(t=e==null||(n=e.theme)==null?void 0:n.unstable_sxConfig)!=null?t:jT;return Object.keys(e).forEach(i=>{s[i]?o.systemProps[i]=e[i]:o.otherProps[i]=e[i]}),o};function IT(e){const{sx:t}=e,n=It(e,E6e),{systemProps:o,otherProps:s}=P6e(n);let i;return Array.isArray(t)?i=[o,...t]:typeof t=="function"?i=(...c)=>{const u=t(...c);return ef(u)?$({},o,u):o}:i=$({},o,t),$({},s,{sx:i})}const R6e=Object.freeze(Object.defineProperty({__proto__:null,default:bD,extendSxProp:IT,unstable_createStyleFunctionSx:Kde,unstable_defaultSxConfig:jT},Symbol.toStringTag,{value:"Module"})),Wne=e=>e,w6e=()=>{let e=Wne;return{configure(t){e=t},generate(t){return e(t)},reset(){e=Wne}}},ew=w6e();function Yde(e){var t,n,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Yde(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}function Nt(){for(var e,t,n=0,o="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Yde(e))&&(o&&(o+=" "),o+=t);return o}const k6e=["className","component"];function Jde(e={}){const{themeId:t,defaultTheme:n,defaultClassName:o="MuiBox-root",generateClassName:s}=e,i=UB("div",{shouldForwardProp:u=>u!=="theme"&&u!=="sx"&&u!=="as"})(bD);return a.forwardRef(function(d,p){const m=hf(n),f=IT(d),{className:h,component:g="div"}=f,x=It(f,k6e);return r.jsx(i,$({as:g,ref:p,className:Nt(h,s?s(o):o),theme:t&&m[t]||m},x))})}const A6e={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function $n(e,t,n="Mui"){const o=A6e[t];return o?`${n}-${o}`:`${ew.generate(e)}-${t}`}function Bn(e,t,n="Mui"){const o={};return t.forEach(s=>{o[s]=$n(e,s,n)}),o}const N6e=Bn("MuiBox",["root"]),Ns=Jde({defaultClassName:N6e.root,generateClassName:ew.generate});var o_={exports:{}},fs={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Une;function F6e(){if(Une)return fs;Une=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.for("react.view_transition"),g=Symbol.for("react.client.reference");function x(y){if(typeof y=="object"&&y!==null){var D=y.$$typeof;switch(D){case e:switch(y=y.type,y){case n:case s:case o:case d:case p:case h:return y;default:switch(y=y&&y.$$typeof,y){case c:case u:case f:case m:return y;case i:return y;default:return D}}case t:return D}}}return fs.ContextConsumer=i,fs.ContextProvider=c,fs.Element=e,fs.ForwardRef=u,fs.Fragment=n,fs.Lazy=f,fs.Memo=m,fs.Portal=t,fs.Profiler=s,fs.StrictMode=o,fs.Suspense=d,fs.SuspenseList=p,fs.isContextConsumer=function(y){return x(y)===i},fs.isContextProvider=function(y){return x(y)===c},fs.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},fs.isForwardRef=function(y){return x(y)===u},fs.isFragment=function(y){return x(y)===n},fs.isLazy=function(y){return x(y)===f},fs.isMemo=function(y){return x(y)===m},fs.isPortal=function(y){return x(y)===t},fs.isProfiler=function(y){return x(y)===s},fs.isStrictMode=function(y){return x(y)===o},fs.isSuspense=function(y){return x(y)===d},fs.isSuspenseList=function(y){return x(y)===p},fs.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===n||y===s||y===o||y===d||y===p||typeof y=="object"&&y!==null&&(y.$$typeof===f||y.$$typeof===m||y.$$typeof===c||y.$$typeof===i||y.$$typeof===u||y.$$typeof===g||y.getModuleId!==void 0)},fs.typeOf=x,fs}var qne;function M6e(){return qne||(qne=1,o_.exports=F6e()),o_.exports}var eR=M6e();const _6e=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function Xde(e){const t=`${e}`.match(_6e);return t&&t[1]||""}function Zde(e,t=""){return e.displayName||e.name||Xde(e)||t}function Vne(e,t,n){const o=Zde(t);return e.displayName||(o!==""?`${n}(${o})`:n)}function L6e(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return Zde(e,"Component");if(typeof e=="object")switch(e.$$typeof){case eR.ForwardRef:return Vne(e,e.render,"ForwardRef");case eR.Memo:return Vne(e,e.type,"memo");default:return}}}const $6e=Object.freeze(Object.defineProperty({__proto__:null,default:L6e,getFunctionName:Xde},Symbol.toStringTag,{value:"Module"})),B6e=["ownerState"],W6e=["variants"],U6e=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function q6e(e){return Object.keys(e).length===0}function V6e(e){return typeof e=="string"&&e.charCodeAt(0)>96}function s_(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const z6e=xD(),H6e=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function qE({defaultTheme:e,theme:t,themeId:n}){return q6e(t)?e:t[n]||t}function G6e(e){return e?(t,n)=>n[e]:null}function kP(e,t){let{ownerState:n}=t,o=It(t,B6e);const s=typeof e=="function"?e($({ownerState:n},o)):e;if(Array.isArray(s))return s.flatMap(i=>kP(i,$({ownerState:n},o)));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:i=[]}=s;let u=It(s,W6e);return i.forEach(d=>{let p=!0;typeof d.props=="function"?p=d.props($({ownerState:n},o,n)):Object.keys(d.props).forEach(m=>{(n==null?void 0:n[m])!==d.props[m]&&o[m]!==d.props[m]&&(p=!1)}),p&&(Array.isArray(u)||(u=[u]),u.push(typeof d.style=="function"?d.style($({ownerState:n},o,n)):d.style))}),u}return s}function K6e(e={}){const{themeId:t,defaultTheme:n=z6e,rootShouldForwardProp:o=s_,slotShouldForwardProp:s=s_}=e,i=c=>bD($({},c,{theme:qE($({},c,{defaultTheme:n,themeId:t}))}));return i.__mui_systemSx=!0,(c,u={})=>{Ude(c,E=>E.filter(k=>!(k!=null&&k.__mui_systemSx)));const{name:d,slot:p,skipVariantsResolver:m,skipSx:f,overridesResolver:h=G6e(H6e(p))}=u,g=It(u,U6e),x=m!==void 0?m:p&&p!=="Root"&&p!=="root"||!1,y=f||!1;let D,v=s_;p==="Root"||p==="root"?v=o:p?v=s:V6e(c)&&(v=void 0);const T=UB(c,$({shouldForwardProp:v,label:D},g)),I=E=>typeof E=="function"&&E.__emotion_real!==E||ef(E)?k=>kP(E,$({},k,{theme:qE({theme:k.theme,defaultTheme:n,themeId:t})})):E,P=(E,...k)=>{let w=I(E);const A=k?k.map(I):[];d&&h&&A.push(L=>{const K=qE($({},L,{defaultTheme:n,themeId:t}));if(!K.components||!K.components[d]||!K.components[d].styleOverrides)return null;const z=K.components[d].styleOverrides,J={};return Object.entries(z).forEach(([Q,V])=>{J[Q]=kP(V,$({},L,{theme:K}))}),h(L,J)}),d&&!x&&A.push(L=>{var K;const z=qE($({},L,{defaultTheme:n,themeId:t})),J=z==null||(K=z.components)==null||(K=K[d])==null?void 0:K.variants;return kP({variants:J},$({},L,{theme:z}))}),y||A.push(i);const F=A.length-k.length;if(Array.isArray(E)&&F>0){const L=new Array(F).fill("");w=[...E,...L],w.raw=[...E.raw,...L]}const _=T(w,...A);return c.muiName&&(_.muiName=c.muiName),_};return T.withConfig&&(P.withConfig=T.withConfig),P}}const Gd=K6e();function bC(e,t){const n=$({},t);return Object.keys(e).forEach(o=>{if(o.toString().match(/^(components|slots)$/))n[o]=$({},e[o],n[o]);else if(o.toString().match(/^(componentsProps|slotProps)$/)){const s=e[o]||{},i=t[o];n[o]={},!i||!Object.keys(i)?n[o]=s:!s||!Object.keys(s)?n[o]=i:(n[o]=$({},i),Object.keys(s).forEach(c=>{n[o][c]=bC(s[c],i[c])}))}else n[o]===void 0&&(n[o]=e[o])}),n}function epe(e){const{theme:t,name:n,props:o}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?o:bC(t.components[n].defaultProps,o)}function QB({props:e,name:t,defaultTheme:n,themeId:o}){let s=hf(n);return o&&(s=s[o]||s),epe({theme:s,name:t,props:e})}const Us=typeof window<"u"?a.useLayoutEffect:a.useEffect;function Q6e(e,t,n,o,s){const[i,c]=a.useState(()=>s&&n?n(e).matches:o?o(e).matches:t);return Us(()=>{let u=!0;if(!n)return;const d=n(e),p=()=>{u&&c(d.matches)};return p(),d.addListener(p),()=>{u=!1,d.removeListener(p)}},[e,n]),i}const tpe=a.useSyncExternalStore;function Y6e(e,t,n,o,s){const i=a.useCallback(()=>t,[t]),c=a.useMemo(()=>{if(s&&n)return()=>n(e).matches;if(o!==null){const{matches:m}=o(e);return()=>m}return i},[i,e,o,s,n]),[u,d]=a.useMemo(()=>{if(n===null)return[i,()=>()=>{}];const m=n(e);return[()=>m.matches,f=>(m.addListener(f),()=>{m.removeListener(f)})]},[i,n,e]);return tpe(d,u,c)}function Xl(e,t={}){const n=KB(),o=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:s=!1,matchMedia:i=o?window.matchMedia:null,ssrMatchMedia:c=null,noSsr:u=!1}=epe({name:"MuiUseMediaQuery",props:t,theme:n});let d=typeof e=="function"?e(n):e;return d=d.replace(/^@media( ?)/m,""),(tpe!==void 0?Y6e:Q6e)(d,s,i,c,u)}function npe(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}const J6e=Object.freeze(Object.defineProperty({__proto__:null,default:npe},Symbol.toStringTag,{value:"Module"}));function X6e(e,t=0,n=1){return npe(e,t,n)}function Z6e(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(o=>o+o)),n?`rgb${n.length===4?"a":""}(${n.map((o,s)=>s<3?parseInt(o,16):Math.round(parseInt(o,16)/255*1e3)/1e3).join(", ")})`:""}function rpe(e){if(e.type)return e;if(e.charAt(0)==="#")return rpe(Z6e(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(cf(9,e));let o=e.substring(t+1,e.length-1),s;if(n==="color"){if(o=o.split(" "),s=o.shift(),o.length===4&&o[3].charAt(0)==="/"&&(o[3]=o[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s)===-1)throw new Error(cf(10,s))}else o=o.split(",");return o=o.map(i=>parseFloat(i)),{type:n,values:o,colorSpace:s}}function eUe(e){const{type:t,colorSpace:n}=e;let{values:o}=e;return t.indexOf("rgb")!==-1?o=o.map((s,i)=>i<3?parseInt(s,10):s):t.indexOf("hsl")!==-1&&(o[1]=`${o[1]}%`,o[2]=`${o[2]}%`),t.indexOf("color")!==-1?o=`${n} ${o.join(" ")}`:o=`${o.join(", ")}`,`${t}(${o})`}function Ti(e,t){return e=rpe(e),t=X6e(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,eUe(e)}const tw=l.oneOfType([l.func,l.object]);function tR(...e){return e.reduce((t,n)=>n==null?t:function(...s){t.apply(this,s),n.apply(this,s)},()=>{})}function yD(e,t=166){let n;function o(...s){const i=()=>{e.apply(this,s)};clearTimeout(n),n=setTimeout(i,t)}return o.clear=()=>{clearTimeout(n)},o}function tUe(e,t){return()=>null}function gI(e,t){var n,o;return a.isValidElement(e)&&t.indexOf((n=e.type.muiName)!=null?n:(o=e.type)==null||(o=o._payload)==null||(o=o.value)==null?void 0:o.muiName)!==-1}function js(e){return e&&e.ownerDocument||document}function ll(e){return js(e).defaultView||window}function nUe(e,t){return()=>null}function KI(e,t){typeof e=="function"?e(t):e&&(e.current=t)}let zne=0;function rUe(e){const[t,n]=a.useState(e),o=e||t;return a.useEffect(()=>{t==null&&(zne+=1,n(`mui-${zne}`))},[t]),o}const Hne=BI.useId;function rd(e){if(Hne!==void 0){const t=Hne();return e??t}return rUe(e)}function oUe(e,t,n,o,s){return null}function Vi({controlled:e,default:t,name:n,state:o="value"}){const{current:s}=a.useRef(e!==void 0),[i,c]=a.useState(t),u=s?e:i,d=a.useCallback(p=>{s||c(p)},[]);return[u,d]}function tr(e){const t=a.useRef(e);return Us(()=>{t.current=e}),a.useRef((...n)=>(0,t.current)(...n)).current}function xo(...e){return a.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{KI(n,t)})},e)}const Gne={};function sUe(e,t){const n=a.useRef(Gne);return n.current===Gne&&(n.current=e(t)),n}const aUe=[];function iUe(e){a.useEffect(e,aUe)}let YB=class ope{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new ope}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}};function db(){const e=sUe(YB.create).current;return iUe(e.disposeEffect),e}let nw=!0,GL=!1;const lUe=new YB,cUe={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function uUe(e){const{type:t,tagName:n}=e;return!!(n==="INPUT"&&cUe[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function dUe(e){e.metaKey||e.altKey||e.ctrlKey||(nw=!0)}function a_(){nw=!1}function pUe(){this.visibilityState==="hidden"&&GL&&(nw=!0)}function mUe(e){e.addEventListener("keydown",dUe,!0),e.addEventListener("mousedown",a_,!0),e.addEventListener("pointerdown",a_,!0),e.addEventListener("touchstart",a_,!0),e.addEventListener("visibilitychange",pUe,!0)}function fUe(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return nw||uUe(t)}function rw(){const e=a.useCallback(s=>{s!=null&&mUe(s.ownerDocument)},[]),t=a.useRef(!1);function n(){return t.current?(GL=!0,lUe.start(100,()=>{GL=!1}),t.current=!1,!0):!1}function o(s){return fUe(s)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:o,onBlur:n,ref:e}}function spe(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}let yy;function ape(){if(yy)return yy;const e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),yy="reverse",e.scrollLeft>0?yy="default":(e.scrollLeft=1,e.scrollLeft===0&&(yy="negative")),document.body.removeChild(e),yy}function hUe(e,t){const n=e.scrollLeft;if(t!=="rtl")return n;switch(ape()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}const JB=e=>{const t=a.useRef({});return a.useEffect(()=>{t.current=e}),t.current};function gUe(e){return a.Children.toArray(e).filter(t=>a.isValidElement(t))}function Ln(e,t,n=void 0){const o={};return Object.keys(e).forEach(s=>{o[s]=e[s].reduce((i,c)=>{if(c){const u=t(c);u!==""&&i.push(u),n&&n[c]&&i.push(n[c])}return i},[]).join(" ")}),o}function xC(e){return typeof e=="string"}function zy(e,t,n){return e===void 0||xC(e)?t:$({},t,{ownerState:$({},t.ownerState,n)})}function ipe(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(o=>o.match(/^on[A-Z]/)&&typeof e[o]=="function"&&!t.includes(o)).forEach(o=>{n[o]=e[o]}),n}function Kne(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function lpe(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:o,externalForwardedProps:s,className:i}=e;if(!t){const g=Nt(n==null?void 0:n.className,i,s==null?void 0:s.className,o==null?void 0:o.className),x=$({},n==null?void 0:n.style,s==null?void 0:s.style,o==null?void 0:o.style),y=$({},n,s,o);return g.length>0&&(y.className=g),Object.keys(x).length>0&&(y.style=x),{props:y,internalRef:void 0}}const c=ipe($({},s,o)),u=Kne(o),d=Kne(s),p=t(c),m=Nt(p==null?void 0:p.className,n==null?void 0:n.className,i,s==null?void 0:s.className,o==null?void 0:o.className),f=$({},p==null?void 0:p.style,n==null?void 0:n.style,s==null?void 0:s.style,o==null?void 0:o.style),h=$({},p,n,d,u);return m.length>0&&(h.className=m),Object.keys(f).length>0&&(h.style=f),{props:h,internalRef:p.ref}}function cpe(e,t,n){return typeof e=="function"?e(t,n):e}const bUe=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Yc(e){var t;const{elementType:n,externalSlotProps:o,ownerState:s,skipResolvingSlotProps:i=!1}=e,c=It(e,bUe),u=i?{}:cpe(o,s),{props:d,internalRef:p}=lpe($({},c,{externalSlotProps:u})),m=xo(p,u==null?void 0:u.ref,(t=e.additionalProps)==null?void 0:t.ref);return zy(n,$({},d,{ref:m}),s)}const upe=a.createContext(null);function dpe(){return a.useContext(upe)}const xUe=typeof Symbol=="function"&&Symbol.for,yUe=xUe?Symbol.for("mui.nested"):"__THEME_NESTED__";function CUe(e,t){return typeof t=="function"?t(e):$({},e,t)}function DUe(e){const{children:t,theme:n}=e,o=dpe(),s=a.useMemo(()=>{const i=o===null?n:CUe(o,n);return i!=null&&(i[yUe]=o!==null),i},[n,o]);return r.jsx(upe.Provider,{value:s,children:t})}const SUe=["value"],ppe=a.createContext();function vUe(e){let{value:t}=e,n=It(e,SUe);return r.jsx(ppe.Provider,$({value:t??!0},n))}const TT=()=>{const e=a.useContext(ppe);return e??!1},mpe=a.createContext(void 0);function jUe({value:e,children:t}){return r.jsx(mpe.Provider,{value:e,children:t})}function IUe(e){const{theme:t,name:n,props:o}=e;if(!t||!t.components||!t.components[n])return o;const s=t.components[n];return s.defaultProps?bC(s.defaultProps,o):!s.styleOverrides&&!s.variants?bC(s,o):o}function TUe({props:e,name:t}){const n=a.useContext(mpe);return IUe({props:e,name:t,theme:{components:n}})}const Qne={};function Yne(e,t,n,o=!1){return a.useMemo(()=>{const s=e&&t[e]||t;if(typeof n=="function"){const i=n(s),c=e?$({},t,{[e]:i}):i;return o?()=>c:c}return e?$({},t,{[e]:n}):$({},t,n)},[e,t,n,o])}function OUe(e){const{children:t,theme:n,themeId:o}=e,s=KB(Qne),i=dpe()||Qne,c=Yne(o,s,n),u=Yne(o,i,n,!0),d=c.direction==="rtl";return r.jsx(DUe,{theme:u,children:r.jsx(gD.Provider,{value:c,children:r.jsx(vUe,{value:d,children:r.jsx(jUe,{value:c==null?void 0:c.components,children:t})})})})}function QI(e){"@babel/helpers - typeof";return QI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},QI(e)}function EUe(e,t){if(QI(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(QI(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PUe(e){var t=EUe(e,"string");return QI(t)=="symbol"?t:t+""}const RUe=["className","component","disableGutters","fixed","maxWidth","classes"],wUe=xD(),kUe=Gd("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${zt(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),AUe=e=>QB({props:e,name:"MuiContainer",defaultTheme:wUe}),NUe=(e,t)=>{const n=d=>$n(t,d),{classes:o,fixed:s,disableGutters:i,maxWidth:c}=e,u={root:["root",c&&`maxWidth${zt(String(c))}`,s&&"fixed",i&&"disableGutters"]};return Ln(u,n,o)};function FUe(e={}){const{createStyledComponent:t=kUe,useThemeProps:n=AUe,componentName:o="MuiContainer"}=e,s=t(({theme:c,ownerState:u})=>$({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!u.disableGutters&&{paddingLeft:c.spacing(2),paddingRight:c.spacing(2),[c.breakpoints.up("sm")]:{paddingLeft:c.spacing(3),paddingRight:c.spacing(3)}}),({theme:c,ownerState:u})=>u.fixed&&Object.keys(c.breakpoints.values).reduce((d,p)=>{const m=p,f=c.breakpoints.values[m];return f!==0&&(d[c.breakpoints.up(m)]={maxWidth:`${f}${c.breakpoints.unit}`}),d},{}),({theme:c,ownerState:u})=>$({},u.maxWidth==="xs"&&{[c.breakpoints.up("xs")]:{maxWidth:Math.max(c.breakpoints.values.xs,444)}},u.maxWidth&&u.maxWidth!=="xs"&&{[c.breakpoints.up(u.maxWidth)]:{maxWidth:`${c.breakpoints.values[u.maxWidth]}${c.breakpoints.unit}`}}));return a.forwardRef(function(u,d){const p=n(u),{className:m,component:f="div",disableGutters:h=!1,fixed:g=!1,maxWidth:x="lg"}=p,y=It(p,RUe),D=$({},p,{component:f,disableGutters:h,fixed:g,maxWidth:x}),v=NUe(D,o);return r.jsx(s,$({as:f,ownerState:D,className:Nt(v.root,m),ref:d},y))})}const MUe=["component","direction","spacing","divider","children","className","useFlexGap"],_Ue=xD(),LUe=Gd("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function $Ue(e){return QB({props:e,name:"MuiStack",defaultTheme:_Ue})}function BUe(e,t){const n=a.Children.toArray(e).filter(Boolean);return n.reduce((o,s,i)=>(o.push(s),i<n.length-1&&o.push(a.cloneElement(t,{key:`separator-${i}`})),o),[])}const WUe=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],UUe=({ownerState:e,theme:t})=>{let n=$({display:"flex",flexDirection:"column"},oc({theme:t},Db({values:e.direction,breakpoints:t.breakpoints.values}),o=>({flexDirection:o})));if(e.spacing){const o=HB(t),s=Object.keys(t.breakpoints.values).reduce((d,p)=>((typeof e.spacing=="object"&&e.spacing[p]!=null||typeof e.direction=="object"&&e.direction[p]!=null)&&(d[p]=!0),d),{}),i=Db({values:e.direction,base:s}),c=Db({values:e.spacing,base:s});typeof i=="object"&&Object.keys(i).forEach((d,p,m)=>{if(!i[d]){const h=p>0?i[m[p-1]]:"column";i[d]=h}}),n=jl(n,oc({theme:t},c,(d,p)=>e.useFlexGap?{gap:Nb(o,d)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${WUe(p?i[p]:e.direction)}`]:Nb(o,d)}}))}return n=F5e(t.breakpoints,n),n};function qUe(e={}){const{createStyledComponent:t=LUe,useThemeProps:n=$Ue,componentName:o="MuiStack"}=e,s=()=>Ln({root:["root"]},d=>$n(o,d),{}),i=t(UUe);return a.forwardRef(function(d,p){const m=n(d),f=IT(m),{component:h="div",direction:g="column",spacing:x=0,divider:y,children:D,className:v,useFlexGap:T=!1}=f,I=It(f,MUe),P={direction:g,spacing:x,useFlexGap:T},E=s();return r.jsx(i,$({as:h,ownerState:P,ref:p,className:Nt(E.root,v)},I,{children:y?BUe(D,y):D}))})}function VUe(e,t){return $({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var Ys={},i_={exports:{}},Jne;function Qn(){return Jne||(Jne=1,(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(i_)),i_.exports}const zUe=Ei(IWe),HUe=Ei(J6e);var Xne;function GUe(){if(Xne)return Ys;Xne=1;var e=Qn();Object.defineProperty(Ys,"__esModule",{value:!0}),Ys.alpha=x,Ys.blend=k,Ys.colorChannel=void 0,Ys.darken=D,Ys.decomposeColor=c,Ys.emphasize=P,Ys.getContrastRatio=g,Ys.getLuminance=h,Ys.hexToRgb=s,Ys.hslToRgb=f,Ys.lighten=T,Ys.private_safeAlpha=y,Ys.private_safeColorChannel=void 0,Ys.private_safeDarken=v,Ys.private_safeEmphasize=E,Ys.private_safeLighten=I,Ys.recomposeColor=p,Ys.rgbToHex=m;var t=e(zUe),n=e(HUe);function o(w,A=0,F=1){return(0,n.default)(w,A,F)}function s(w){w=w.slice(1);const A=new RegExp(`.{1,${w.length>=6?2:1}}`,"g");let F=w.match(A);return F&&F[0].length===1&&(F=F.map(_=>_+_)),F?`rgb${F.length===4?"a":""}(${F.map((_,L)=>L<3?parseInt(_,16):Math.round(parseInt(_,16)/255*1e3)/1e3).join(", ")})`:""}function i(w){const A=w.toString(16);return A.length===1?`0${A}`:A}function c(w){if(w.type)return w;if(w.charAt(0)==="#")return c(s(w));const A=w.indexOf("("),F=w.substring(0,A);if(["rgb","rgba","hsl","hsla","color"].indexOf(F)===-1)throw new Error((0,t.default)(9,w));let _=w.substring(A+1,w.length-1),L;if(F==="color"){if(_=_.split(" "),L=_.shift(),_.length===4&&_[3].charAt(0)==="/"&&(_[3]=_[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(L)===-1)throw new Error((0,t.default)(10,L))}else _=_.split(",");return _=_.map(K=>parseFloat(K)),{type:F,values:_,colorSpace:L}}const u=w=>{const A=c(w);return A.values.slice(0,3).map((F,_)=>A.type.indexOf("hsl")!==-1&&_!==0?`${F}%`:F).join(" ")};Ys.colorChannel=u;const d=(w,A)=>{try{return u(w)}catch{return w}};Ys.private_safeColorChannel=d;function p(w){const{type:A,colorSpace:F}=w;let{values:_}=w;return A.indexOf("rgb")!==-1?_=_.map((L,K)=>K<3?parseInt(L,10):L):A.indexOf("hsl")!==-1&&(_[1]=`${_[1]}%`,_[2]=`${_[2]}%`),A.indexOf("color")!==-1?_=`${F} ${_.join(" ")}`:_=`${_.join(", ")}`,`${A}(${_})`}function m(w){if(w.indexOf("#")===0)return w;const{values:A}=c(w);return`#${A.map((F,_)=>i(_===3?Math.round(255*F):F)).join("")}`}function f(w){w=c(w);const{values:A}=w,F=A[0],_=A[1]/100,L=A[2]/100,K=_*Math.min(L,1-L),z=(V,W=(V+F/30)%12)=>L-K*Math.max(Math.min(W-3,9-W,1),-1);let J="rgb";const Q=[Math.round(z(0)*255),Math.round(z(8)*255),Math.round(z(4)*255)];return w.type==="hsla"&&(J+="a",Q.push(A[3])),p({type:J,values:Q})}function h(w){w=c(w);let A=w.type==="hsl"||w.type==="hsla"?c(f(w)).values:w.values;return A=A.map(F=>(w.type!=="color"&&(F/=255),F<=.03928?F/12.92:((F+.055)/1.055)**2.4)),Number((.2126*A[0]+.7152*A[1]+.0722*A[2]).toFixed(3))}function g(w,A){const F=h(w),_=h(A);return(Math.max(F,_)+.05)/(Math.min(F,_)+.05)}function x(w,A){return w=c(w),A=o(A),(w.type==="rgb"||w.type==="hsl")&&(w.type+="a"),w.type==="color"?w.values[3]=`/${A}`:w.values[3]=A,p(w)}function y(w,A,F){try{return x(w,A)}catch{return w}}function D(w,A){if(w=c(w),A=o(A),w.type.indexOf("hsl")!==-1)w.values[2]*=1-A;else if(w.type.indexOf("rgb")!==-1||w.type.indexOf("color")!==-1)for(let F=0;F<3;F+=1)w.values[F]*=1-A;return p(w)}function v(w,A,F){try{return D(w,A)}catch{return w}}function T(w,A){if(w=c(w),A=o(A),w.type.indexOf("hsl")!==-1)w.values[2]+=(100-w.values[2])*A;else if(w.type.indexOf("rgb")!==-1)for(let F=0;F<3;F+=1)w.values[F]+=(255-w.values[F])*A;else if(w.type.indexOf("color")!==-1)for(let F=0;F<3;F+=1)w.values[F]+=(1-w.values[F])*A;return p(w)}function I(w,A,F){try{return T(w,A)}catch{return w}}function P(w,A=.15){return h(w)>.5?D(w,A):T(w,A)}function E(w,A,F){try{return P(w,A)}catch{return w}}function k(w,A,F,_=1){const L=(Q,V)=>Math.round((Q**(1/_)*(1-F)+V**(1/_)*F)**_),K=c(w),z=c(A),J=[L(K.values[0],z.values[0]),L(K.values[1],z.values[1]),L(K.values[2],z.values[2])];return p({type:"rgb",values:J})}return Ys}var Wr=GUe();const KUe=["mode","contrastThreshold","tonalOffset"],Zne={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:qI.white,default:qI.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},l_={text:{primary:qI.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:qI.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function ere(e,t,n,o){const s=o.light||o,i=o.dark||o*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=Wr.lighten(e.main,s):t==="dark"&&(e.dark=Wr.darken(e.main,i)))}function QUe(e="light"){return e==="dark"?{main:Zg[200],light:Zg[50],dark:Zg[400]}:{main:Zg[700],light:Zg[400],dark:Zg[800]}}function YUe(e="light"){return e==="dark"?{main:Xg[200],light:Xg[50],dark:Xg[400]}:{main:Xg[500],light:Xg[300],dark:Xg[700]}}function JUe(e="light"){return e==="dark"?{main:Qm[500],light:Qm[300],dark:Qm[700]}:{main:Qm[700],light:Qm[400],dark:Qm[800]}}function XUe(e="light"){return e==="dark"?{main:eb[400],light:eb[300],dark:eb[700]}:{main:eb[700],light:eb[500],dark:eb[900]}}function ZUe(e="light"){return e==="dark"?{main:Ym[400],light:Ym[300],dark:Ym[700]}:{main:Ym[800],light:Ym[500],dark:Ym[900]}}function eqe(e="light"){return e==="dark"?{main:Zm[400],light:Zm[300],dark:Zm[700]}:{main:"#ed6c02",light:Zm[500],dark:Zm[900]}}function tqe(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:o=.2}=e,s=It(e,KUe),i=e.primary||QUe(t),c=e.secondary||YUe(t),u=e.error||JUe(t),d=e.info||XUe(t),p=e.success||ZUe(t),m=e.warning||eqe(t);function f(y){return Wr.getContrastRatio(y,l_.text.primary)>=n?l_.text.primary:Zne.text.primary}const h=({color:y,name:D,mainShade:v=500,lightShade:T=300,darkShade:I=700})=>{if(y=$({},y),!y.main&&y[v]&&(y.main=y[v]),!y.hasOwnProperty("main"))throw new Error(cf(11,D?` (${D})`:"",v));if(typeof y.main!="string")throw new Error(cf(12,D?` (${D})`:"",JSON.stringify(y.main)));return ere(y,"light",T,o),ere(y,"dark",I,o),y.contrastText||(y.contrastText=f(y.main)),y},g={dark:l_,light:Zne};return jl($({common:$({},qI),mode:t,primary:h({color:i,name:"primary"}),secondary:h({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:u,name:"error"}),warning:h({color:m,name:"warning"}),info:h({color:d,name:"info"}),success:h({color:p,name:"success"}),grey:$c,contrastThreshold:n,getContrastText:f,augmentColor:h,tonalOffset:o},g[t]),s)}const nqe=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function rqe(e){return Math.round(e*1e5)/1e5}const tre={textTransform:"uppercase"},nre='"Roboto", "Helvetica", "Arial", sans-serif';function oqe(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:o=nre,fontSize:s=14,fontWeightLight:i=300,fontWeightRegular:c=400,fontWeightMedium:u=500,fontWeightBold:d=700,htmlFontSize:p=16,allVariants:m,pxToRem:f}=n,h=It(n,nqe),g=s/14,x=f||(v=>`${v/p*g}rem`),y=(v,T,I,P,E)=>$({fontFamily:o,fontWeight:v,fontSize:x(T),lineHeight:I},o===nre?{letterSpacing:`${rqe(P/T)}em`}:{},E,m),D={h1:y(i,96,1.167,-1.5),h2:y(i,60,1.2,-.5),h3:y(c,48,1.167,0),h4:y(c,34,1.235,.25),h5:y(c,24,1.334,0),h6:y(u,20,1.6,.15),subtitle1:y(c,16,1.75,.15),subtitle2:y(u,14,1.57,.1),body1:y(c,16,1.5,.15),body2:y(c,14,1.43,.15),button:y(u,14,1.75,.4,tre),caption:y(c,12,1.66,.4),overline:y(c,12,2.66,1,tre),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return jl($({htmlFontSize:p,pxToRem:x,fontFamily:o,fontSize:s,fontWeightLight:i,fontWeightRegular:c,fontWeightMedium:u,fontWeightBold:d},D),h,{clone:!1})}const sqe=.2,aqe=.14,iqe=.12;function $s(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${sqe})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${aqe})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${iqe})`].join(",")}const lqe=["none",$s(0,2,1,-1,0,1,1,0,0,1,3,0),$s(0,3,1,-2,0,2,2,0,0,1,5,0),$s(0,3,3,-2,0,3,4,0,0,1,8,0),$s(0,2,4,-1,0,4,5,0,0,1,10,0),$s(0,3,5,-1,0,5,8,0,0,1,14,0),$s(0,3,5,-1,0,6,10,0,0,1,18,0),$s(0,4,5,-2,0,7,10,1,0,2,16,1),$s(0,5,5,-3,0,8,10,1,0,3,14,2),$s(0,5,6,-3,0,9,12,1,0,3,16,2),$s(0,6,6,-3,0,10,14,1,0,4,18,3),$s(0,6,7,-4,0,11,15,1,0,4,20,3),$s(0,7,8,-4,0,12,17,2,0,5,22,4),$s(0,7,8,-4,0,13,19,2,0,5,24,4),$s(0,7,9,-4,0,14,21,2,0,5,26,4),$s(0,8,9,-5,0,15,22,2,0,6,28,5),$s(0,8,10,-5,0,16,24,2,0,6,30,5),$s(0,8,11,-5,0,17,26,2,0,6,32,5),$s(0,9,11,-5,0,18,28,2,0,7,34,6),$s(0,9,12,-6,0,19,29,2,0,7,36,6),$s(0,10,13,-6,0,20,31,3,0,8,38,7),$s(0,10,13,-6,0,21,33,3,0,8,40,7),$s(0,10,14,-6,0,22,35,3,0,8,42,7),$s(0,11,14,-7,0,23,36,3,0,9,44,8),$s(0,11,15,-7,0,24,38,3,0,9,46,8)],cqe=["duration","easing","delay"],uqe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},fpe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function rre(e){return`${Math.round(e)}ms`}function dqe(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function pqe(e){const t=$({},uqe,e.easing),n=$({},fpe,e.duration);return $({getAutoHeightDuration:dqe,create:(s=["all"],i={})=>{const{duration:c=n.standard,easing:u=t.easeInOut,delay:d=0}=i;return It(i,cqe),(Array.isArray(s)?s:[s]).map(p=>`${p} ${typeof c=="string"?c:rre(c)} ${u} ${typeof d=="string"?d:rre(d)}`).join(",")}},e,{easing:t,duration:n})}const mqe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},fqe=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function ow(e={},...t){const{mixins:n={},palette:o={},transitions:s={},typography:i={}}=e,c=It(e,fqe);if(e.vars)throw new Error(cf(18));const u=tqe(o),d=xD(e);let p=jl(d,{mixins:VUe(d.breakpoints,n),palette:u,shadows:lqe.slice(),typography:oqe(u,i),transitions:pqe(s),zIndex:$({},mqe)});return p=jl(p,c),p=t.reduce((m,f)=>jl(m,f),p),p.unstable_sxConfig=$({},jT,c==null?void 0:c.unstable_sxConfig),p.unstable_sx=function(f){return bD({sx:f,theme:this})},p}function hqe(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function gqe(e){return parseFloat(e)}const sw=ow();function qs(){const e=hf(sw);return e[Ab]||e}function qo({props:e,name:t}){return QB({props:e,name:t,defaultTheme:sw,themeId:Ab})}var Vg={},c_={exports:{}},ore;function hpe(){return ore||(ore=1,(function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(n){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var i in s)({}).hasOwnProperty.call(s,i)&&(n[i]=s[i])}return n},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(c_)),c_.exports}var u_={exports:{}},sre;function gpe(){return sre||(sre=1,(function(e){function t(n,o){if(n==null)return{};var s={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(o.indexOf(i)!==-1)continue;s[i]=n[i]}return s}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(u_)),u_.exports}const bpe=Ei(R5e),bqe=Ei(w5e),xqe=Ei(_5e),yqe=Ei($6e),Cqe=Ei(j6e),Dqe=Ei(R6e);var are;function Sqe(){if(are)return Vg;are=1;var e=Qn();Object.defineProperty(Vg,"__esModule",{value:!0}),Vg.default=P,Vg.shouldForwardProp=x,Vg.systemDefaultTheme=void 0;var t=e(hpe()),n=e(gpe()),o=f(bpe),s=bqe;e(xqe),e(yqe);var i=e(Cqe),c=e(Dqe);const u=["ownerState"],d=["variants"],p=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function m(E){if(typeof WeakMap!="function")return null;var k=new WeakMap,w=new WeakMap;return(m=function(A){return A?w:k})(E)}function f(E,k){if(E&&E.__esModule)return E;if(E===null||typeof E!="object"&&typeof E!="function")return{default:E};var w=m(k);if(w&&w.has(E))return w.get(E);var A={__proto__:null},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in E)if(_!=="default"&&Object.prototype.hasOwnProperty.call(E,_)){var L=F?Object.getOwnPropertyDescriptor(E,_):null;L&&(L.get||L.set)?Object.defineProperty(A,_,L):A[_]=E[_]}return A.default=E,w&&w.set(E,A),A}function h(E){return Object.keys(E).length===0}function g(E){return typeof E=="string"&&E.charCodeAt(0)>96}function x(E){return E!=="ownerState"&&E!=="theme"&&E!=="sx"&&E!=="as"}const y=Vg.systemDefaultTheme=(0,i.default)(),D=E=>E&&E.charAt(0).toLowerCase()+E.slice(1);function v({defaultTheme:E,theme:k,themeId:w}){return h(k)?E:k[w]||k}function T(E){return E?(k,w)=>w[E]:null}function I(E,k){let{ownerState:w}=k,A=(0,n.default)(k,u);const F=typeof E=="function"?E((0,t.default)({ownerState:w},A)):E;if(Array.isArray(F))return F.flatMap(_=>I(_,(0,t.default)({ownerState:w},A)));if(F&&typeof F=="object"&&Array.isArray(F.variants)){const{variants:_=[]}=F;let K=(0,n.default)(F,d);return _.forEach(z=>{let J=!0;typeof z.props=="function"?J=z.props((0,t.default)({ownerState:w},A,w)):Object.keys(z.props).forEach(Q=>{(w==null?void 0:w[Q])!==z.props[Q]&&A[Q]!==z.props[Q]&&(J=!1)}),J&&(Array.isArray(K)||(K=[K]),K.push(typeof z.style=="function"?z.style((0,t.default)({ownerState:w},A,w)):z.style))}),K}return F}function P(E={}){const{themeId:k,defaultTheme:w=y,rootShouldForwardProp:A=x,slotShouldForwardProp:F=x}=E,_=L=>(0,c.default)((0,t.default)({},L,{theme:v((0,t.default)({},L,{defaultTheme:w,themeId:k}))}));return _.__mui_systemSx=!0,(L,K={})=>{(0,o.internal_processStyles)(L,Ce=>Ce.filter(Te=>!(Te!=null&&Te.__mui_systemSx)));const{name:z,slot:J,skipVariantsResolver:Q,skipSx:V,overridesResolver:W=T(D(J))}=K,U=(0,n.default)(K,p),X=Q!==void 0?Q:J&&J!=="Root"&&J!=="root"||!1,te=V||!1;let se,he=x;J==="Root"||J==="root"?he=A:J?he=F:g(L)&&(he=void 0);const pe=(0,o.default)(L,(0,t.default)({shouldForwardProp:he,label:se},U)),ue=Ce=>typeof Ce=="function"&&Ce.__emotion_real!==Ce||(0,s.isPlainObject)(Ce)?Te=>I(Ce,(0,t.default)({},Te,{theme:v({theme:Te.theme,defaultTheme:w,themeId:k})})):Ce,ge=(Ce,...Te)=>{let Ne=ue(Ce);const xe=Te?Te.map(ue):[];z&&W&&xe.push(ce=>{const ee=v((0,t.default)({},ce,{defaultTheme:w,themeId:k}));if(!ee.components||!ee.components[z]||!ee.components[z].styleOverrides)return null;const De=ee.components[z].styleOverrides,ke={};return Object.entries(De).forEach(([He,qe])=>{ke[He]=I(qe,(0,t.default)({},ce,{theme:ee}))}),W(ce,ke)}),z&&!X&&xe.push(ce=>{var ee;const De=v((0,t.default)({},ce,{defaultTheme:w,themeId:k})),ke=De==null||(ee=De.components)==null||(ee=ee[z])==null?void 0:ee.variants;return I({variants:ke},(0,t.default)({},ce,{theme:De}))}),te||xe.push(_);const me=xe.length-Te.length;if(Array.isArray(Ce)&&me>0){const ce=new Array(me).fill("");Ne=[...Ce,...ce],Ne.raw=[...Ce.raw,...ce]}const de=pe(Ne,...xe);return L.muiName&&(de.muiName=L.muiName),de};return pe.withConfig&&(ge.withConfig=pe.withConfig),ge}}return Vg}var vqe=Sqe();const jqe=qn(vqe);function xpe(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Ha=e=>xpe(e)&&e!=="classes",it=jqe({themeId:Ab,defaultTheme:sw,rootShouldForwardProp:Ha}),Iqe=["theme"];function Tqe(e){let{theme:t}=e,n=It(e,Iqe);const o=t[Ab];return r.jsx(OUe,$({},n,{themeId:o?Ab:void 0,theme:o||t}))}const ire=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function Ir(e){return TUe(e)}function Oqe(e){return $n("MuiSvgIcon",e)}Bn("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Eqe=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Pqe=e=>{const{color:t,fontSize:n,classes:o}=e,s={root:["root",t!=="inherit"&&`color${zt(t)}`,`fontSize${zt(n)}`]};return Ln(s,Oqe,o)},Rqe=it("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${zt(n.color)}`],t[`fontSize${zt(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,o,s,i,c,u,d,p,m,f,h,g,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=e.transitions)==null||(o=n.create)==null?void 0:o.call(n,"fill",{duration:(s=e.transitions)==null||(s=s.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((i=e.typography)==null||(c=i.pxToRem)==null?void 0:c.call(i,20))||"1.25rem",medium:((u=e.typography)==null||(d=u.pxToRem)==null?void 0:d.call(u,24))||"1.5rem",large:((p=e.typography)==null||(m=p.pxToRem)==null?void 0:m.call(p,35))||"2.1875rem"}[t.fontSize],color:(f=(h=(e.vars||e).palette)==null||(h=h[t.color])==null?void 0:h.main)!=null?f:{action:(g=(e.vars||e).palette)==null||(g=g.action)==null?void 0:g.active,disabled:(x=(e.vars||e).palette)==null||(x=x.action)==null?void 0:x.disabled,inherit:void 0}[t.color]}}),KL=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiSvgIcon"}),{children:s,className:i,color:c="inherit",component:u="svg",fontSize:d="medium",htmlColor:p,inheritViewBox:m=!1,titleAccess:f,viewBox:h="0 0 24 24"}=o,g=It(o,Eqe),x=a.isValidElement(s)&&s.type==="svg",y=$({},o,{color:c,component:u,fontSize:d,instanceFontSize:t.fontSize,inheritViewBox:m,viewBox:h,hasSvgAsChild:x}),D={};m||(D.viewBox=h);const v=Pqe(y);return r.jsxs(Rqe,$({as:u,className:Nt(v.root,i),focusable:"false",color:p,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:n},D,g,x&&s.props,{ownerState:y,children:[x?s.props.children:s,f?r.jsx("title",{children:f}):null]}))});KL.muiName="SvgIcon";function xs(e,t){function n(o,s){return r.jsx(KL,$({"data-testid":`${t}Icon`,ref:s},o,{children:e}))}return n.muiName=KL.muiName,a.memo(a.forwardRef(n))}const wqe={configure:e=>{ew.configure(e)}},kqe=Object.freeze(Object.defineProperty({__proto__:null,capitalize:zt,createChainedFunction:tR,createSvgIcon:xs,debounce:yD,deprecatedPropType:tUe,isMuiElement:gI,ownerDocument:js,ownerWindow:ll,requirePropFactory:nUe,setRef:KI,unstable_ClassNameGenerator:wqe,unstable_useEnhancedEffect:Us,unstable_useId:rd,unsupportedProp:oUe,useControlled:Vi,useEventCallback:tr,useForkRef:xo,useIsFocusVisible:rw},Symbol.toStringTag,{value:"Module"}));var d_={exports:{}},ss={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lre;function Aqe(){if(lre)return ss;lre=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function y(D){if(typeof D=="object"&&D!==null){var v=D.$$typeof;switch(v){case e:switch(D=D.type,D){case n:case s:case o:case p:case m:return D;default:switch(D=D&&D.$$typeof,D){case u:case c:case d:case h:case f:case i:return D;default:return v}}case t:return v}}}return ss.ContextConsumer=c,ss.ContextProvider=i,ss.Element=e,ss.ForwardRef=d,ss.Fragment=n,ss.Lazy=h,ss.Memo=f,ss.Portal=t,ss.Profiler=s,ss.StrictMode=o,ss.Suspense=p,ss.SuspenseList=m,ss.isAsyncMode=function(){return!1},ss.isConcurrentMode=function(){return!1},ss.isContextConsumer=function(D){return y(D)===c},ss.isContextProvider=function(D){return y(D)===i},ss.isElement=function(D){return typeof D=="object"&&D!==null&&D.$$typeof===e},ss.isForwardRef=function(D){return y(D)===d},ss.isFragment=function(D){return y(D)===n},ss.isLazy=function(D){return y(D)===h},ss.isMemo=function(D){return y(D)===f},ss.isPortal=function(D){return y(D)===t},ss.isProfiler=function(D){return y(D)===s},ss.isStrictMode=function(D){return y(D)===o},ss.isSuspense=function(D){return y(D)===p},ss.isSuspenseList=function(D){return y(D)===m},ss.isValidElementType=function(D){return typeof D=="string"||typeof D=="function"||D===n||D===s||D===o||D===p||D===m||D===g||typeof D=="object"&&D!==null&&(D.$$typeof===h||D.$$typeof===f||D.$$typeof===i||D.$$typeof===c||D.$$typeof===d||D.$$typeof===x||D.getModuleId!==void 0)},ss.typeOf=y,ss}var cre;function Nqe(){return cre||(cre=1,d_.exports=Aqe()),d_.exports}Nqe();function QL(e,t){return QL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},QL(e,t)}function CD(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,QL(e,t)}function Fqe(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function Mqe(e,t){e.classList?e.classList.add(t):Fqe(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function ure(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function _qe(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=ure(e.className,t):e.setAttribute("class",ure(e.className&&e.className.baseVal||"",t))}const dre={disabled:!1},nR=Dn.createContext(null);var ype=function(t){return t.scrollTop},Cj="unmounted",tb="exited",nb="entering",My="entered",YL="exiting",ic=(function(e){CD(t,e);function t(o,s){var i;i=e.call(this,o,s)||this;var c=s,u=c&&!c.isMounting?o.enter:o.appear,d;return i.appearStatus=null,o.in?u?(d=tb,i.appearStatus=nb):d=My:o.unmountOnExit||o.mountOnEnter?d=Cj:d=tb,i.state={status:d},i.nextCallback=null,i}t.getDerivedStateFromProps=function(s,i){var c=s.in;return c&&i.status===Cj?{status:tb}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var i=null;if(s!==this.props){var c=this.state.status;this.props.in?c!==nb&&c!==My&&(i=nb):(c===nb||c===My)&&(i=YL)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,i,c,u;return i=c=u=s,s!=null&&typeof s!="number"&&(i=s.exit,c=s.enter,u=s.appear!==void 0?s.appear:c),{exit:i,enter:c,appear:u}},n.updateStatus=function(s,i){if(s===void 0&&(s=!1),i!==null)if(this.cancelNextCallback(),i===nb){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:yj.findDOMNode(this);c&&ype(c)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===tb&&this.setState({status:Cj})},n.performEnter=function(s){var i=this,c=this.props.enter,u=this.context?this.context.isMounting:s,d=this.props.nodeRef?[u]:[yj.findDOMNode(this),u],p=d[0],m=d[1],f=this.getTimeouts(),h=u?f.appear:f.enter;if(!s&&!c||dre.disabled){this.safeSetState({status:My},function(){i.props.onEntered(p)});return}this.props.onEnter(p,m),this.safeSetState({status:nb},function(){i.props.onEntering(p,m),i.onTransitionEnd(h,function(){i.safeSetState({status:My},function(){i.props.onEntered(p,m)})})})},n.performExit=function(){var s=this,i=this.props.exit,c=this.getTimeouts(),u=this.props.nodeRef?void 0:yj.findDOMNode(this);if(!i||dre.disabled){this.safeSetState({status:tb},function(){s.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:YL},function(){s.props.onExiting(u),s.onTransitionEnd(c.exit,function(){s.safeSetState({status:tb},function(){s.props.onExited(u)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,i){i=this.setNextCallback(i),this.setState(s,i)},n.setNextCallback=function(s){var i=this,c=!0;return this.nextCallback=function(u){c&&(c=!1,i.nextCallback=null,s(u))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},n.onTransitionEnd=function(s,i){this.setNextCallback(i);var c=this.props.nodeRef?this.props.nodeRef.current:yj.findDOMNode(this),u=s==null&&!this.props.addEndListener;if(!c||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],p=d[0],m=d[1];this.props.addEndListener(p,m)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===Cj)return null;var i=this.props,c=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var u=It(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Dn.createElement(nR.Provider,{value:null},typeof c=="function"?c(s,u):Dn.cloneElement(Dn.Children.only(c),u))},t})(Dn.Component);ic.contextType=nR;ic.propTypes={};function Cy(){}ic.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Cy,onEntering:Cy,onEntered:Cy,onExit:Cy,onExiting:Cy,onExited:Cy};ic.UNMOUNTED=Cj;ic.EXITED=tb;ic.ENTERING=nb;ic.ENTERED=My;ic.EXITING=YL;var Lqe=function(t,n){return t&&n&&n.split(" ").forEach(function(o){return Mqe(t,o)})},p_=function(t,n){return t&&n&&n.split(" ").forEach(function(o){return _qe(t,o)})},XB=(function(e){CD(t,e);function t(){for(var o,s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return o=e.call.apply(e,[this].concat(i))||this,o.appliedClasses={appear:{},enter:{},exit:{}},o.onEnter=function(u,d){var p=o.resolveArguments(u,d),m=p[0],f=p[1];o.removeClasses(m,"exit"),o.addClass(m,f?"appear":"enter","base"),o.props.onEnter&&o.props.onEnter(u,d)},o.onEntering=function(u,d){var p=o.resolveArguments(u,d),m=p[0],f=p[1],h=f?"appear":"enter";o.addClass(m,h,"active"),o.props.onEntering&&o.props.onEntering(u,d)},o.onEntered=function(u,d){var p=o.resolveArguments(u,d),m=p[0],f=p[1],h=f?"appear":"enter";o.removeClasses(m,h),o.addClass(m,h,"done"),o.props.onEntered&&o.props.onEntered(u,d)},o.onExit=function(u){var d=o.resolveArguments(u),p=d[0];o.removeClasses(p,"appear"),o.removeClasses(p,"enter"),o.addClass(p,"exit","base"),o.props.onExit&&o.props.onExit(u)},o.onExiting=function(u){var d=o.resolveArguments(u),p=d[0];o.addClass(p,"exit","active"),o.props.onExiting&&o.props.onExiting(u)},o.onExited=function(u){var d=o.resolveArguments(u),p=d[0];o.removeClasses(p,"exit"),o.addClass(p,"exit","done"),o.props.onExited&&o.props.onExited(u)},o.resolveArguments=function(u,d){return o.props.nodeRef?[o.props.nodeRef.current,u]:[u,d]},o.getClassNames=function(u){var d=o.props.classNames,p=typeof d=="string",m=p&&d?d+"-":"",f=p?""+m+u:d[u],h=p?f+"-active":d[u+"Active"],g=p?f+"-done":d[u+"Done"];return{baseClassName:f,activeClassName:h,doneClassName:g}},o}var n=t.prototype;return n.addClass=function(s,i,c){var u=this.getClassNames(i)[c+"ClassName"],d=this.getClassNames("enter"),p=d.doneClassName;i==="appear"&&c==="done"&&p&&(u+=" "+p),c==="active"&&s&&ype(s),u&&(this.appliedClasses[i][c]=u,Lqe(s,u))},n.removeClasses=function(s,i){var c=this.appliedClasses[i],u=c.base,d=c.active,p=c.done;this.appliedClasses[i]={},u&&p_(s,u),d&&p_(s,d),p&&p_(s,p)},n.render=function(){var s=this.props;s.classNames;var i=It(s,["classNames"]);return Dn.createElement(ic,$({},i,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t})(Dn.Component);XB.defaultProps={classNames:""};XB.propTypes={};function JL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZB(e,t){var n=function(i){return t&&a.isValidElement(i)?t(i):i},o=Object.create(null);return e&&a.Children.map(e,function(s){return s}).forEach(function(s){o[s.key]=n(s)}),o}function $qe(e,t){e=e||{},t=t||{};function n(m){return m in t?t[m]:e[m]}var o=Object.create(null),s=[];for(var i in e)i in t?s.length&&(o[i]=s,s=[]):s.push(i);var c,u={};for(var d in t){if(o[d])for(c=0;c<o[d].length;c++){var p=o[d][c];u[o[d][c]]=n(p)}u[d]=n(d)}for(c=0;c<s.length;c++)u[s[c]]=n(s[c]);return u}function pb(e,t,n){return n[t]!=null?n[t]:e.props[t]}function Bqe(e,t){return ZB(e.children,function(n){return a.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:pb(n,"appear",e),enter:pb(n,"enter",e),exit:pb(n,"exit",e)})})}function Wqe(e,t,n){var o=ZB(e.children),s=$qe(t,o);return Object.keys(s).forEach(function(i){var c=s[i];if(a.isValidElement(c)){var u=i in t,d=i in o,p=t[i],m=a.isValidElement(p)&&!p.props.in;d&&(!u||m)?s[i]=a.cloneElement(c,{onExited:n.bind(null,c),in:!0,exit:pb(c,"exit",e),enter:pb(c,"enter",e)}):!d&&u&&!m?s[i]=a.cloneElement(c,{in:!1}):d&&u&&a.isValidElement(p)&&(s[i]=a.cloneElement(c,{onExited:n.bind(null,c),in:p.props.in,exit:pb(c,"exit",e),enter:pb(c,"enter",e)}))}}),s}var Uqe=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},qqe={component:"div",childFactory:function(t){return t}},DD=(function(e){CD(t,e);function t(o,s){var i;i=e.call(this,o,s)||this;var c=i.handleExited.bind(JL(i));return i.state={contextValue:{isMounting:!0},handleExited:c,firstRender:!0},i}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(s,i){var c=i.children,u=i.handleExited,d=i.firstRender;return{children:d?Bqe(s,u):Wqe(s,c,u),firstRender:!1}},n.handleExited=function(s,i){var c=ZB(this.props.children);s.key in c||(s.props.onExited&&s.props.onExited(i),this.mounted&&this.setState(function(u){var d=$({},u.children);return delete d[s.key],{children:d}}))},n.render=function(){var s=this.props,i=s.component,c=s.childFactory,u=It(s,["component","childFactory"]),d=this.state.contextValue,p=Uqe(this.state.children).map(c);return delete u.appear,delete u.enter,delete u.exit,i===null?Dn.createElement(nR.Provider,{value:d},p):Dn.createElement(nR.Provider,{value:d},Dn.createElement(i,u,p))},t})(Dn.Component);DD.propTypes={};DD.defaultProps=qqe;const e3=e=>e.scrollTop;function uf(e,t){var n,o;const{timeout:s,easing:i,style:c={}}=e;return{duration:(n=c.transitionDuration)!=null?n:typeof s=="number"?s:s[t.mode]||0,easing:(o=c.transitionTimingFunction)!=null?o:typeof i=="object"?i[t.mode]:i,delay:c.transitionDelay}}function Vqe(e){return $n("MuiCollapse",e)}Bn("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const zqe=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],Hqe=e=>{const{orientation:t,classes:n}=e,o={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return Ln(o,Vqe,n)},Gqe=it("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.state==="entered"&&t.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&t.hidden]}})(({theme:e,ownerState:t})=>$({height:0,overflow:"hidden",transition:e.transitions.create("height")},t.orientation==="horizontal"&&{height:"auto",width:0,transition:e.transitions.create("width")},t.state==="entered"&&$({height:"auto",overflow:"visible"},t.orientation==="horizontal"&&{width:"auto"}),t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&{visibility:"hidden"})),Kqe=it("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})(({ownerState:e})=>$({display:"flex",width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),Qqe=it("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})(({ownerState:e})=>$({width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),aw=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiCollapse"}),{addEndListener:s,children:i,className:c,collapsedSize:u="0px",component:d,easing:p,in:m,onEnter:f,onEntered:h,onEntering:g,onExit:x,onExited:y,onExiting:D,orientation:v="vertical",style:T,timeout:I=fpe.standard,TransitionComponent:P=ic}=o,E=It(o,zqe),k=$({},o,{orientation:v,collapsedSize:u}),w=Hqe(k),A=qs(),F=db(),_=a.useRef(null),L=a.useRef(),K=typeof u=="number"?`${u}px`:u,z=v==="horizontal",J=z?"width":"height",Q=a.useRef(null),V=xo(n,Q),W=Ce=>Te=>{if(Ce){const Ne=Q.current;Te===void 0?Ce(Ne):Ce(Ne,Te)}},U=()=>_.current?_.current[z?"clientWidth":"clientHeight"]:0,X=W((Ce,Te)=>{_.current&&z&&(_.current.style.position="absolute"),Ce.style[J]=K,f&&f(Ce,Te)}),te=W((Ce,Te)=>{const Ne=U();_.current&&z&&(_.current.style.position="");const{duration:xe,easing:me}=uf({style:T,timeout:I,easing:p},{mode:"enter"});if(I==="auto"){const de=A.transitions.getAutoHeightDuration(Ne);Ce.style.transitionDuration=`${de}ms`,L.current=de}else Ce.style.transitionDuration=typeof xe=="string"?xe:`${xe}ms`;Ce.style[J]=`${Ne}px`,Ce.style.transitionTimingFunction=me,g&&g(Ce,Te)}),se=W((Ce,Te)=>{Ce.style[J]="auto",h&&h(Ce,Te)}),he=W(Ce=>{Ce.style[J]=`${U()}px`,x&&x(Ce)}),pe=W(y),ue=W(Ce=>{const Te=U(),{duration:Ne,easing:xe}=uf({style:T,timeout:I,easing:p},{mode:"exit"});if(I==="auto"){const me=A.transitions.getAutoHeightDuration(Te);Ce.style.transitionDuration=`${me}ms`,L.current=me}else Ce.style.transitionDuration=typeof Ne=="string"?Ne:`${Ne}ms`;Ce.style[J]=K,Ce.style.transitionTimingFunction=xe,D&&D(Ce)}),ge=Ce=>{I==="auto"&&F.start(L.current||0,Ce),s&&s(Q.current,Ce)};return r.jsx(P,$({in:m,onEnter:X,onEntered:se,onEntering:te,onExit:he,onExited:pe,onExiting:ue,addEndListener:ge,nodeRef:Q,timeout:I==="auto"?null:I},E,{children:(Ce,Te)=>r.jsx(Gqe,$({as:d,className:Nt(w.root,c,{entered:w.entered,exited:!m&&K==="0px"&&w.hidden}[Ce]),style:$({[z?"minWidth":"minHeight"]:K},T),ref:V},Te,{ownerState:$({},k,{state:Ce}),children:r.jsx(Kqe,{ownerState:$({},k,{state:Ce}),className:w.wrapper,ref:_,children:r.jsx(Qqe,{ownerState:$({},k,{state:Ce}),className:w.wrapperInner,children:i})})}))}))});aw.muiSupportAuto=!0;function Yqe(e){return $n("MuiPaper",e)}Bn("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Jqe=["className","component","elevation","square","variant"],Xqe=e=>{const{square:t,elevation:n,variant:o,classes:s}=e,i={root:["root",o,!t&&"rounded",o==="elevation"&&`elevation${n}`]};return Ln(i,Yqe,s)},Zqe=it("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(({theme:e,ownerState:t})=>{var n;return $({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&$({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Wr.alpha("#fff",ire(t.elevation))}, ${Wr.alpha("#fff",ire(t.elevation))})`},e.vars&&{backgroundImage:(n=e.vars.overlays)==null?void 0:n[t.elevation]}))}),_s=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiPaper"}),{className:s,component:i="div",elevation:c=1,square:u=!1,variant:d="elevation"}=o,p=It(o,Jqe),m=$({},o,{component:i,elevation:c,square:u,variant:d}),f=Xqe(m);return r.jsx(Zqe,$({as:i,ownerState:m,className:Nt(f.root,s),ref:n},p))}),eVe=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],tVe=["component","slots","slotProps"],nVe=["component"];function XL(e,t){const{className:n,elementType:o,ownerState:s,externalForwardedProps:i,getSlotOwnerState:c,internalForwardedProps:u}=t,d=It(t,eVe),{component:p,slots:m={[e]:void 0},slotProps:f={[e]:void 0}}=i,h=It(i,tVe),g=m[e]||o,x=cpe(f[e],s),y=lpe($({className:n},d,{externalForwardedProps:e==="root"?h:void 0,externalSlotProps:x})),{props:{component:D},internalRef:v}=y,T=It(y.props,nVe),I=xo(v,x==null?void 0:x.ref,t.ref),P=c?c(T):{},E=$({},s,P),k=e==="root"?D||p:D,w=zy(g,$({},e==="root"&&!p&&!m[e]&&u,e!=="root"&&!m[e]&&u,T,k&&{as:k},{ref:I}),E);return Object.keys(P).forEach(A=>{delete w[A]}),[g,w]}function rVe(e){const{className:t,classes:n,pulsate:o=!1,rippleX:s,rippleY:i,rippleSize:c,in:u,onExited:d,timeout:p}=e,[m,f]=a.useState(!1),h=Nt(t,n.ripple,n.rippleVisible,o&&n.ripplePulsate),g={width:c,height:c,top:-(c/2)+i,left:-(c/2)+s},x=Nt(n.child,m&&n.childLeaving,o&&n.childPulsate);return!u&&!m&&f(!0),a.useEffect(()=>{if(!u&&d!=null){const y=setTimeout(d,p);return()=>{clearTimeout(y)}}},[d,u,p]),r.jsx("span",{className:h,style:g,children:r.jsx("span",{className:x})})}const Uu=Bn("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),oVe=["center","classes","className"];let iw=e=>e,pre,mre,fre,hre;const ZL=550,sVe=80,aVe=zh(pre||(pre=iw`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),iVe=zh(mre||(mre=iw`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),lVe=zh(fre||(fre=iw`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),cVe=it("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),uVe=it(rVe,{name:"MuiTouchRipple",slot:"Ripple"})(hre||(hre=iw`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Uu.rippleVisible,aVe,ZL,({theme:e})=>e.transitions.easing.easeInOut,Uu.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,Uu.child,Uu.childLeaving,iVe,ZL,({theme:e})=>e.transitions.easing.easeInOut,Uu.childPulsate,lVe,({theme:e})=>e.transitions.easing.easeInOut),dVe=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiTouchRipple"}),{center:s=!1,classes:i={},className:c}=o,u=It(o,oVe),[d,p]=a.useState([]),m=a.useRef(0),f=a.useRef(null);a.useEffect(()=>{f.current&&(f.current(),f.current=null)},[d]);const h=a.useRef(!1),g=db(),x=a.useRef(null),y=a.useRef(null),D=a.useCallback(P=>{const{pulsate:E,rippleX:k,rippleY:w,rippleSize:A,cb:F}=P;p(_=>[..._,r.jsx(uVe,{classes:{ripple:Nt(i.ripple,Uu.ripple),rippleVisible:Nt(i.rippleVisible,Uu.rippleVisible),ripplePulsate:Nt(i.ripplePulsate,Uu.ripplePulsate),child:Nt(i.child,Uu.child),childLeaving:Nt(i.childLeaving,Uu.childLeaving),childPulsate:Nt(i.childPulsate,Uu.childPulsate)},timeout:ZL,pulsate:E,rippleX:k,rippleY:w,rippleSize:A},m.current)]),m.current+=1,f.current=F},[i]),v=a.useCallback((P={},E={},k=()=>{})=>{const{pulsate:w=!1,center:A=s||E.pulsate,fakeElement:F=!1}=E;if((P==null?void 0:P.type)==="mousedown"&&h.current){h.current=!1;return}(P==null?void 0:P.type)==="touchstart"&&(h.current=!0);const _=F?null:y.current,L=_?_.getBoundingClientRect():{width:0,height:0,left:0,top:0};let K,z,J;if(A||P===void 0||P.clientX===0&&P.clientY===0||!P.clientX&&!P.touches)K=Math.round(L.width/2),z=Math.round(L.height/2);else{const{clientX:Q,clientY:V}=P.touches&&P.touches.length>0?P.touches[0]:P;K=Math.round(Q-L.left),z=Math.round(V-L.top)}if(A)J=Math.sqrt((2*L.width**2+L.height**2)/3),J%2===0&&(J+=1);else{const Q=Math.max(Math.abs((_?_.clientWidth:0)-K),K)*2+2,V=Math.max(Math.abs((_?_.clientHeight:0)-z),z)*2+2;J=Math.sqrt(Q**2+V**2)}P!=null&&P.touches?x.current===null&&(x.current=()=>{D({pulsate:w,rippleX:K,rippleY:z,rippleSize:J,cb:k})},g.start(sVe,()=>{x.current&&(x.current(),x.current=null)})):D({pulsate:w,rippleX:K,rippleY:z,rippleSize:J,cb:k})},[s,D,g]),T=a.useCallback(()=>{v({},{pulsate:!0})},[v]),I=a.useCallback((P,E)=>{if(g.clear(),(P==null?void 0:P.type)==="touchend"&&x.current){x.current(),x.current=null,g.start(0,()=>{I(P,E)});return}x.current=null,p(k=>k.length>0?k.slice(1):k),f.current=E},[g]);return a.useImperativeHandle(n,()=>({pulsate:T,start:v,stop:I}),[T,v,I]),r.jsx(cVe,$({className:Nt(Uu.root,i.root,c),ref:y},u,{children:r.jsx(DD,{component:null,exit:!0,children:d})}))});function pVe(e){return $n("MuiButtonBase",e)}const mVe=Bn("MuiButtonBase",["root","disabled","focusVisible"]),fVe=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],hVe=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:o,classes:s}=e,c=Ln({root:["root",t&&"disabled",n&&"focusVisible"]},pVe,s);return n&&o&&(c.root+=` ${o}`),c},gVe=it("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${mVe.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),qd=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiButtonBase"}),{action:s,centerRipple:i=!1,children:c,className:u,component:d="button",disabled:p=!1,disableRipple:m=!1,disableTouchRipple:f=!1,focusRipple:h=!1,LinkComponent:g="a",onBlur:x,onClick:y,onContextMenu:D,onDragLeave:v,onFocus:T,onFocusVisible:I,onKeyDown:P,onKeyUp:E,onMouseDown:k,onMouseLeave:w,onMouseUp:A,onTouchEnd:F,onTouchMove:_,onTouchStart:L,tabIndex:K=0,TouchRippleProps:z,touchRippleRef:J,type:Q}=o,V=It(o,fVe),W=a.useRef(null),U=a.useRef(null),X=xo(U,J),{isFocusVisibleRef:te,onFocus:se,onBlur:he,ref:pe}=rw(),[ue,ge]=a.useState(!1);p&&ue&&ge(!1),a.useImperativeHandle(s,()=>({focusVisible:()=>{ge(!0),W.current.focus()}}),[]);const[Ce,Te]=a.useState(!1);a.useEffect(()=>{Te(!0)},[]);const Ne=Ce&&!m&&!p;a.useEffect(()=>{ue&&h&&!m&&Ce&&U.current.pulsate()},[m,h,ue,Ce]);function xe(le,fe,Ae=f){return tr(Se=>(fe&&fe(Se),!Ae&&U.current&&U.current[le](Se),!0))}const me=xe("start",k),de=xe("stop",D),ce=xe("stop",v),ee=xe("stop",A),De=xe("stop",le=>{ue&&le.preventDefault(),w&&w(le)}),ke=xe("start",L),He=xe("stop",F),qe=xe("stop",_),Le=xe("stop",le=>{he(le),te.current===!1&&ge(!1),x&&x(le)},!1),_e=tr(le=>{W.current||(W.current=le.currentTarget),se(le),te.current===!0&&(ge(!0),I&&I(le)),T&&T(le)}),H=()=>{const le=W.current;return d&&d!=="button"&&!(le.tagName==="A"&&le.href)},re=a.useRef(!1),q=tr(le=>{h&&!re.current&&ue&&U.current&&le.key===" "&&(re.current=!0,U.current.stop(le,()=>{U.current.start(le)})),le.target===le.currentTarget&&H()&&le.key===" "&&le.preventDefault(),P&&P(le),le.target===le.currentTarget&&H()&&le.key==="Enter"&&!p&&(le.preventDefault(),y&&y(le))}),Y=tr(le=>{h&&le.key===" "&&U.current&&ue&&!le.defaultPrevented&&(re.current=!1,U.current.stop(le,()=>{U.current.pulsate(le)})),E&&E(le),y&&le.target===le.currentTarget&&H()&&le.key===" "&&!le.defaultPrevented&&y(le)});let ie=d;ie==="button"&&(V.href||V.to)&&(ie=g);const B={};ie==="button"?(B.type=Q===void 0?"button":Q,B.disabled=p):(!V.href&&!V.to&&(B.role="button"),p&&(B["aria-disabled"]=p));const Z=xo(n,pe,W),ye=$({},o,{centerRipple:i,component:d,disabled:p,disableRipple:m,disableTouchRipple:f,focusRipple:h,tabIndex:K,focusVisible:ue}),Ie=hVe(ye);return r.jsxs(gVe,$({as:ie,className:Nt(Ie.root,u),ownerState:ye,onBlur:Le,onClick:y,onContextMenu:de,onFocus:_e,onKeyDown:q,onKeyUp:Y,onMouseDown:me,onMouseLeave:De,onMouseUp:ee,onDragLeave:ce,onTouchEnd:He,onTouchMove:qe,onTouchStart:ke,ref:Z,tabIndex:p?-1:K,type:Q},B,V,{children:[c,Ne?r.jsx(dVe,$({ref:X,center:i},z)):null]}))});function bVe(e){return $n("MuiAlert",e)}const gre=Bn("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function xVe(e){return $n("MuiIconButton",e)}const yVe=Bn("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),CVe=["edge","children","className","color","disabled","disableFocusRipple","size"],DVe=e=>{const{classes:t,disabled:n,color:o,edge:s,size:i}=e,c={root:["root",n&&"disabled",o!=="default"&&`color${zt(o)}`,s&&`edge${zt(s)}`,`size${zt(i)}`]};return Ln(c,xVe,t)},SVe=it(qd,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${zt(n.color)}`],n.edge&&t[`edge${zt(n.edge)}`],t[`size${zt(n.size)}`]]}})(({theme:e,ownerState:t})=>$({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Wr.alpha(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var n;const o=(n=(e.vars||e).palette)==null?void 0:n[t.color];return $({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&$({color:o==null?void 0:o.main},!t.disableRipple&&{"&:hover":$({},o&&{backgroundColor:e.vars?`rgba(${o.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Wr.alpha(o.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${yVe.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),br=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiIconButton"}),{edge:s=!1,children:i,className:c,color:u="default",disabled:d=!1,disableFocusRipple:p=!1,size:m="medium"}=o,f=It(o,CVe),h=$({},o,{edge:s,color:u,disabled:d,disableFocusRipple:p,size:m}),g=DVe(h);return r.jsx(SVe,$({className:Nt(g.root,c),centerRipple:!0,focusRipple:!p,disabled:d,ref:n},f,{ownerState:h,children:i}))}),vVe=xs(r.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),jVe=xs(r.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),IVe=xs(r.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),TVe=xs(r.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),Cpe=xs(r.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),OVe=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],EVe=e=>{const{variant:t,color:n,severity:o,classes:s}=e,i={root:["root",`color${zt(n||o)}`,`${t}${zt(n||o)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return Ln(i,bVe,s)},PVe=it(_s,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${zt(n.color||n.severity)}`]]}})(({theme:e})=>{const t=e.palette.mode==="light"?Wr.darken:Wr.lighten,n=e.palette.mode==="light"?Wr.lighten:Wr.darken;return $({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter(([,o])=>o.main&&o.light).map(([o])=>({props:{colorSeverity:o,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${o}Color`]:t(e.palette[o].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${o}StandardBg`]:n(e.palette[o].light,.9),[`& .${gre.icon}`]:e.vars?{color:e.vars.palette.Alert[`${o}IconColor`]}:{color:e.palette[o].main}}})),...Object.entries(e.palette).filter(([,o])=>o.main&&o.light).map(([o])=>({props:{colorSeverity:o,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${o}Color`]:t(e.palette[o].light,.6),border:`1px solid ${(e.vars||e).palette[o].light}`,[`& .${gre.icon}`]:e.vars?{color:e.vars.palette.Alert[`${o}IconColor`]}:{color:e.palette[o].main}}})),...Object.entries(e.palette).filter(([,o])=>o.main&&o.dark).map(([o])=>({props:{colorSeverity:o,variant:"filled"},style:$({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${o}FilledColor`],backgroundColor:e.vars.palette.Alert[`${o}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[o].dark:e.palette[o].main,color:e.palette.getContrastText(e.palette[o].main)})}))]})}),RVe=it("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),wVe=it("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),bre=it("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),xre={success:r.jsx(vVe,{fontSize:"inherit"}),warning:r.jsx(jVe,{fontSize:"inherit"}),error:r.jsx(IVe,{fontSize:"inherit"}),info:r.jsx(TVe,{fontSize:"inherit"})},kVe=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiAlert"}),{action:s,children:i,className:c,closeText:u="Close",color:d,components:p={},componentsProps:m={},icon:f,iconMapping:h=xre,onClose:g,role:x="alert",severity:y="success",slotProps:D={},slots:v={},variant:T="standard"}=o,I=It(o,OVe),P=$({},o,{color:d,severity:y,variant:T,colorSeverity:d||y}),E=EVe(P),k={slots:$({closeButton:p.CloseButton,closeIcon:p.CloseIcon},v),slotProps:$({},m,D)},[w,A]=XL("closeButton",{elementType:br,externalForwardedProps:k,ownerState:P}),[F,_]=XL("closeIcon",{elementType:Cpe,externalForwardedProps:k,ownerState:P});return r.jsxs(PVe,$({role:x,elevation:0,ownerState:P,className:Nt(E.root,c),ref:n},I,{children:[f!==!1?r.jsx(RVe,{ownerState:P,className:E.icon,children:f||h[y]||xre[y]}):null,r.jsx(wVe,{ownerState:P,className:E.message,children:i}),s!=null?r.jsx(bre,{ownerState:P,className:E.action,children:s}):null,s==null&&g?r.jsx(bre,{ownerState:P,className:E.action,children:r.jsx(w,$({size:"small","aria-label":u,title:u,color:"inherit",onClick:g},A,{children:r.jsx(F,$({fontSize:"small"},_))}))}):null]}))});function AVe(e){return $n("MuiTypography",e)}Bn("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const NVe=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],FVe=e=>{const{align:t,gutterBottom:n,noWrap:o,paragraph:s,variant:i,classes:c}=e,u={root:["root",i,e.align!=="inherit"&&`align${zt(t)}`,n&&"gutterBottom",o&&"noWrap",s&&"paragraph"]};return Ln(u,AVe,c)},MVe=it("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${zt(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>$({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),yre={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},_Ve={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},LVe=e=>_Ve[e]||e,nn=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiTypography"}),s=LVe(o.color),i=IT($({},o,{color:s})),{align:c="inherit",className:u,component:d,gutterBottom:p=!1,noWrap:m=!1,paragraph:f=!1,variant:h="body1",variantMapping:g=yre}=i,x=It(i,NVe),y=$({},i,{align:c,color:s,className:u,component:d,gutterBottom:p,noWrap:m,paragraph:f,variant:h,variantMapping:g}),D=d||(f?"p":g[h]||yre[h])||"span",v=FVe(y);return r.jsx(MVe,$({as:D,ref:n,ownerState:y,className:Nt(v.root,u)},x))});function $Ve(e){return $n("MuiAlertTitle",e)}Bn("MuiAlertTitle",["root"]);const BVe=["className"],WVe=e=>{const{classes:t}=e;return Ln({root:["root"]},$Ve,t)},UVe=it(nn,{name:"MuiAlertTitle",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({fontWeight:e.typography.fontWeightMedium,marginTop:-2})),lw=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiAlertTitle"}),{className:s}=o,i=It(o,BVe),c=o,u=WVe(c);return r.jsx(UVe,$({gutterBottom:!0,component:"div",ownerState:c,ref:n,className:Nt(u.root,s)},i))});function qVe(e){return $n("MuiAppBar",e)}Bn("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const VVe=["className","color","enableColorOnDark","position"],zVe=e=>{const{color:t,position:n,classes:o}=e,s={root:["root",`color${zt(t)}`,`position${zt(n)}`]};return Ln(s,qVe,o)},VE=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,HVe=it(_s,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${zt(n.position)}`],t[`color${zt(n.color)}`]]}})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[900];return $({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},t.position==="fixed"&&{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},t.position==="absolute"&&{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="sticky"&&{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="static"&&{position:"static"},t.position==="relative"&&{position:"relative"},!e.vars&&$({},t.color==="default"&&{backgroundColor:n,color:e.palette.getContrastText(n)},t.color&&t.color!=="default"&&t.color!=="inherit"&&t.color!=="transparent"&&{backgroundColor:e.palette[t.color].main,color:e.palette[t.color].contrastText},t.color==="inherit"&&{color:"inherit"},e.palette.mode==="dark"&&!t.enableColorOnDark&&{backgroundColor:null,color:null},t.color==="transparent"&&$({backgroundColor:"transparent",color:"inherit"},e.palette.mode==="dark"&&{backgroundImage:"none"})),e.vars&&$({},t.color==="default"&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette.AppBar.defaultBg:VE(e.vars.palette.AppBar.darkBg,e.vars.palette.AppBar.defaultBg),"--AppBar-color":t.enableColorOnDark?e.vars.palette.text.primary:VE(e.vars.palette.AppBar.darkColor,e.vars.palette.text.primary)},t.color&&!t.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette[t.color].main:VE(e.vars.palette.AppBar.darkBg,e.vars.palette[t.color].main),"--AppBar-color":t.enableColorOnDark?e.vars.palette[t.color].contrastText:VE(e.vars.palette.AppBar.darkColor,e.vars.palette[t.color].contrastText)},!["inherit","transparent"].includes(t.color)&&{backgroundColor:"var(--AppBar-background)"},{color:t.color==="inherit"?"inherit":"var(--AppBar-color)"},t.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),GVe=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiAppBar"}),{className:s,color:i="primary",enableColorOnDark:c=!1,position:u="fixed"}=o,d=It(o,VVe),p=$({},o,{color:i,position:u,enableColorOnDark:c}),m=zVe(p);return r.jsx(HVe,$({square:!0,component:"header",ownerState:p,elevation:4,className:Nt(m.root,s,u==="fixed"&&"mui-fixed"),ref:n},d))});function Cre(e){return typeof e.normalize<"u"?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e}function Ub(e={}){const{ignoreAccents:t=!0,ignoreCase:n=!0,limit:o,matchFrom:s="any",stringify:i,trim:c=!1}=e;return(u,{inputValue:d,getOptionLabel:p})=>{let m=c?d.trim():d;n&&(m=m.toLowerCase()),t&&(m=Cre(m));const f=m?u.filter(h=>{let g=(i||p)(h);return n&&(g=g.toLowerCase()),t&&(g=Cre(g)),s==="start"?g.indexOf(m)===0:g.indexOf(m)>-1}):u;return typeof o=="number"?f.slice(0,o):f}}function zE(e,t){for(let n=0;n<e.length;n+=1)if(t(e[n]))return n;return-1}const KVe=Ub(),Dre=5,QVe=e=>{var t;return e.current!==null&&((t=e.current.parentElement)==null?void 0:t.contains(document.activeElement))};function YVe(e){const{unstable_isActiveElementInListbox:t=QVe,unstable_classNamePrefix:n="Mui",autoComplete:o=!1,autoHighlight:s=!1,autoSelect:i=!1,blurOnSelect:c=!1,clearOnBlur:u=!e.freeSolo,clearOnEscape:d=!1,componentName:p="useAutocomplete",defaultValue:m=e.multiple?[]:null,disableClearable:f=!1,disableCloseOnSelect:h=!1,disabled:g,disabledItemsFocusable:x=!1,disableListWrap:y=!1,filterOptions:D=KVe,filterSelectedOptions:v=!1,freeSolo:T=!1,getOptionDisabled:I,getOptionKey:P,getOptionLabel:E=lt=>{var Qe;return(Qe=lt.label)!=null?Qe:lt},groupBy:k,handleHomeEndKeys:w=!e.freeSolo,id:A,includeInputInList:F=!1,inputValue:_,isOptionEqualToValue:L=(lt,Qe)=>lt===Qe,multiple:K=!1,onChange:z,onClose:J,onHighlightChange:Q,onInputChange:V,onOpen:W,open:U,openOnFocus:X=!1,options:te,readOnly:se=!1,selectOnFocus:he=!e.freeSolo,value:pe}=e,ue=rd(A);let ge=E;ge=lt=>{const Qe=E(lt);return typeof Qe!="string"?String(Qe):Qe};const Ce=a.useRef(!1),Te=a.useRef(!0),Ne=a.useRef(null),xe=a.useRef(null),[me,de]=a.useState(null),[ce,ee]=a.useState(-1),De=s?0:-1,ke=a.useRef(De),[He,qe]=Vi({controlled:pe,default:m,name:p}),[Le,_e]=Vi({controlled:_,default:"",name:p,state:"inputValue"}),[H,re]=a.useState(!1),q=a.useCallback((lt,Qe)=>{if(!(K?He.length<Qe.length:Qe!==null)&&!u)return;let Cn;if(K)Cn="";else if(Qe==null)Cn="";else{const gr=ge(Qe);Cn=typeof gr=="string"?gr:""}Le!==Cn&&(_e(Cn),V&&V(lt,Cn,"reset"))},[ge,Le,K,V,_e,u,He]),[Y,ie]=Vi({controlled:U,default:!1,name:p,state:"open"}),[B,Z]=a.useState(!0),ye=!K&&He!=null&&Le===ge(He),Ie=Y&&!se,le=Ie?D(te.filter(lt=>!(v&&(K?He:[He]).some(Qe=>Qe!==null&&L(lt,Qe)))),{inputValue:ye&&B?"":Le,getOptionLabel:ge}):[],fe=JB({filteredOptions:le,value:He,inputValue:Le});a.useEffect(()=>{const lt=He!==fe.value;H&&!lt||T&&!lt||q(null,He)},[He,q,H,fe.value,T]);const Ae=Y&&le.length>0&&!se,Se=tr(lt=>{lt===-1?Ne.current.focus():me.querySelector(`[data-tag-index="${lt}"]`).focus()});a.useEffect(()=>{K&&ce>He.length-1&&(ee(-1),Se(-1))},[He,K,ce,Se]);function be(lt,Qe){if(!xe.current||lt<0||lt>=le.length)return-1;let rn=lt;for(;;){const Cn=xe.current.querySelector(`[data-option-index="${rn}"]`),gr=x?!1:!Cn||Cn.disabled||Cn.getAttribute("aria-disabled")==="true";if(Cn&&Cn.hasAttribute("tabindex")&&!gr)return rn;if(Qe==="next"?rn=(rn+1)%le.length:rn=(rn-1+le.length)%le.length,rn===lt)return-1}}const Me=tr(({event:lt,index:Qe,reason:rn="auto"})=>{if(ke.current=Qe,Qe===-1?Ne.current.removeAttribute("aria-activedescendant"):Ne.current.setAttribute("aria-activedescendant",`${ue}-option-${Qe}`),Q&&Q(lt,Qe===-1?null:le[Qe],rn),!xe.current)return;const Cn=xe.current.querySelector(`[role="option"].${n}-focused`);Cn&&(Cn.classList.remove(`${n}-focused`),Cn.classList.remove(`${n}-focusVisible`));let gr=xe.current;if(xe.current.getAttribute("role")!=="listbox"&&(gr=xe.current.parentElement.querySelector('[role="listbox"]')),!gr)return;if(Qe===-1){gr.scrollTop=0;return}const sn=xe.current.querySelector(`[data-option-index="${Qe}"]`);if(sn&&(sn.classList.add(`${n}-focused`),rn==="keyboard"&&sn.classList.add(`${n}-focusVisible`),gr.scrollHeight>gr.clientHeight&&rn!=="mouse"&&rn!=="touch")){const Sr=sn,ts=gr.clientHeight+gr.scrollTop,ds=Sr.offsetTop+Sr.offsetHeight;ds>ts?gr.scrollTop=ds-gr.clientHeight:Sr.offsetTop-Sr.offsetHeight*(k?1.3:0)<gr.scrollTop&&(gr.scrollTop=Sr.offsetTop-Sr.offsetHeight*(k?1.3:0))}}),we=tr(({event:lt,diff:Qe,direction:rn="next",reason:Cn="auto"})=>{if(!Ie)return;const sn=be((()=>{const Sr=le.length-1;if(Qe==="reset")return De;if(Qe==="start")return 0;if(Qe==="end")return Sr;const ts=ke.current+Qe;return ts<0?ts===-1&&F?-1:y&&ke.current!==-1||Math.abs(Qe)>1?0:Sr:ts>Sr?ts===Sr+1&&F?-1:y||Math.abs(Qe)>1?Sr:0:ts})(),rn);if(Me({index:sn,reason:Cn,event:lt}),o&&Qe!=="reset")if(sn===-1)Ne.current.value=Le;else{const Sr=ge(le[sn]);Ne.current.value=Sr,Sr.toLowerCase().indexOf(Le.toLowerCase())===0&&Le.length>0&&Ne.current.setSelectionRange(Le.length,Sr.length)}}),Ge=()=>{const lt=(Qe,rn)=>{const Cn=Qe?ge(Qe):"",gr=rn?ge(rn):"";return Cn===gr};if(ke.current!==-1&&fe.filteredOptions&&fe.filteredOptions.length!==le.length&&fe.inputValue===Le&&(K?He.length===fe.value.length&&fe.value.every((Qe,rn)=>ge(He[rn])===ge(Qe)):lt(fe.value,He))){const Qe=fe.filteredOptions[ke.current];if(Qe)return zE(le,rn=>ge(rn)===ge(Qe))}return-1},We=a.useCallback(()=>{if(!Ie)return;const lt=Ge();if(lt!==-1){ke.current=lt;return}const Qe=K?He[0]:He;if(le.length===0||Qe==null){we({diff:"reset"});return}if(xe.current){if(Qe!=null){const rn=le[ke.current];if(K&&rn&&zE(He,gr=>L(rn,gr))!==-1)return;const Cn=zE(le,gr=>L(gr,Qe));Cn===-1?we({diff:"reset"}):Me({index:Cn});return}if(ke.current>=le.length-1){Me({index:le.length-1});return}Me({index:ke.current})}},[le.length,K?!1:He,v,we,Me,Ie,Le,K]),Ee=tr(lt=>{KI(xe,lt),lt&&We()});a.useEffect(()=>{We()},[We]);const Xe=lt=>{Y||(ie(!0),Z(!0),W&&W(lt))},ot=(lt,Qe)=>{Y&&(ie(!1),J&&J(lt,Qe))},ze=(lt,Qe,rn,Cn)=>{if(K){if(He.length===Qe.length&&He.every((gr,sn)=>gr===Qe[sn]))return}else if(He===Qe)return;z&&z(lt,Qe,rn,Cn),qe(Qe)},tt=a.useRef(!1),ft=(lt,Qe,rn="selectOption",Cn="options")=>{let gr=rn,sn=Qe;if(K){sn=Array.isArray(He)?He.slice():[];const Sr=zE(sn,ts=>L(Qe,ts));Sr===-1?sn.push(Qe):Cn!=="freeSolo"&&(sn.splice(Sr,1),gr="removeOption")}q(lt,sn),ze(lt,sn,gr,{option:Qe}),!h&&(!lt||!lt.ctrlKey&&!lt.metaKey)&&ot(lt,gr),(c===!0||c==="touch"&&tt.current||c==="mouse"&&!tt.current)&&Ne.current.blur()};function ht(lt,Qe){if(lt===-1)return-1;let rn=lt;for(;;){if(Qe==="next"&&rn===He.length||Qe==="previous"&&rn===-1)return-1;const Cn=me.querySelector(`[data-tag-index="${rn}"]`);if(!Cn||!Cn.hasAttribute("tabindex")||Cn.disabled||Cn.getAttribute("aria-disabled")==="true")rn+=Qe==="next"?1:-1;else return rn}}const en=(lt,Qe)=>{if(!K)return;Le===""&&ot(lt,"toggleInput");let rn=ce;ce===-1?Le===""&&Qe==="previous"&&(rn=He.length-1):(rn+=Qe==="next"?1:-1,rn<0&&(rn=0),rn===He.length&&(rn=-1)),rn=ht(rn,Qe),ee(rn),Se(rn)},un=lt=>{Ce.current=!0,_e(""),V&&V(lt,"","clear"),ze(lt,K?[]:null,"clear")},Je=lt=>Qe=>{if(lt.onKeyDown&&lt.onKeyDown(Qe),!Qe.defaultMuiPrevented&&(ce!==-1&&["ArrowLeft","ArrowRight"].indexOf(Qe.key)===-1&&(ee(-1),Se(-1)),Qe.which!==229))switch(Qe.key){case"Home":Ie&&w&&(Qe.preventDefault(),we({diff:"start",direction:"next",reason:"keyboard",event:Qe}));break;case"End":Ie&&w&&(Qe.preventDefault(),we({diff:"end",direction:"previous",reason:"keyboard",event:Qe}));break;case"PageUp":Qe.preventDefault(),we({diff:-Dre,direction:"previous",reason:"keyboard",event:Qe}),Xe(Qe);break;case"PageDown":Qe.preventDefault(),we({diff:Dre,direction:"next",reason:"keyboard",event:Qe}),Xe(Qe);break;case"ArrowDown":Qe.preventDefault(),we({diff:1,direction:"next",reason:"keyboard",event:Qe}),Xe(Qe);break;case"ArrowUp":Qe.preventDefault(),we({diff:-1,direction:"previous",reason:"keyboard",event:Qe}),Xe(Qe);break;case"ArrowLeft":en(Qe,"previous");break;case"ArrowRight":en(Qe,"next");break;case"Enter":if(ke.current!==-1&&Ie){const rn=le[ke.current],Cn=I?I(rn):!1;if(Qe.preventDefault(),Cn)return;ft(Qe,rn,"selectOption"),o&&Ne.current.setSelectionRange(Ne.current.value.length,Ne.current.value.length)}else T&&Le!==""&&ye===!1&&(K&&Qe.preventDefault(),ft(Qe,Le,"createOption","freeSolo"));break;case"Escape":Ie?(Qe.preventDefault(),Qe.stopPropagation(),ot(Qe,"escape")):d&&(Le!==""||K&&He.length>0)&&(Qe.preventDefault(),Qe.stopPropagation(),un(Qe));break;case"Backspace":if(K&&!se&&Le===""&&He.length>0){const rn=ce===-1?He.length-1:ce,Cn=He.slice();Cn.splice(rn,1),ze(Qe,Cn,"removeOption",{option:He[rn]})}break;case"Delete":if(K&&!se&&Le===""&&He.length>0&&ce!==-1){const rn=ce,Cn=He.slice();Cn.splice(rn,1),ze(Qe,Cn,"removeOption",{option:He[rn]})}break}},qt=lt=>{re(!0),X&&!Ce.current&&Xe(lt)},Tt=lt=>{if(t(xe)){Ne.current.focus();return}re(!1),Te.current=!0,Ce.current=!1,i&&ke.current!==-1&&Ie?ft(lt,le[ke.current],"blur"):i&&T&&Le!==""?ft(lt,Le,"blur","freeSolo"):u&&q(lt,He),ot(lt,"blur")},Jt=lt=>{const Qe=lt.target.value;Le!==Qe&&(_e(Qe),Z(!1),V&&V(lt,Qe,"input")),Qe===""?!f&&!K&&ze(lt,null,"clear"):Xe(lt)},st=lt=>{const Qe=Number(lt.currentTarget.getAttribute("data-option-index"));ke.current!==Qe&&Me({event:lt,index:Qe,reason:"mouse"})},Dt=lt=>{Me({event:lt,index:Number(lt.currentTarget.getAttribute("data-option-index")),reason:"touch"}),tt.current=!0},Gt=lt=>{const Qe=Number(lt.currentTarget.getAttribute("data-option-index"));ft(lt,le[Qe],"selectOption"),tt.current=!1},An=lt=>Qe=>{const rn=He.slice();rn.splice(lt,1),ze(Qe,rn,"removeOption",{option:He[lt]})},_n=lt=>{Y?ot(lt,"toggleInput"):Xe(lt)},pt=lt=>{lt.currentTarget.contains(lt.target)&&lt.target.getAttribute("id")!==ue&&lt.preventDefault()},Rt=lt=>{lt.currentTarget.contains(lt.target)&&(Ne.current.focus(),he&&Te.current&&Ne.current.selectionEnd-Ne.current.selectionStart===0&&Ne.current.select(),Te.current=!1)},Ze=lt=>{!g&&(Le===""||!Y)&&_n(lt)};let dn=T&&Le.length>0;dn=dn||(K?He.length>0:He!==null);let Yt=le;return k&&(Yt=le.reduce((lt,Qe,rn)=>{const Cn=k(Qe);return lt.length>0&&lt[lt.length-1].group===Cn?lt[lt.length-1].options.push(Qe):lt.push({key:rn,index:rn,group:Cn,options:[Qe]}),lt},[])),g&&H&&Tt(),{getRootProps:(lt={})=>$({"aria-owns":Ae?`${ue}-listbox`:null},lt,{onKeyDown:Je(lt),onMouseDown:pt,onClick:Rt}),getInputLabelProps:()=>({id:`${ue}-label`,htmlFor:ue}),getInputProps:()=>({id:ue,value:Le,onBlur:Tt,onFocus:qt,onChange:Jt,onMouseDown:Ze,"aria-activedescendant":Ie?"":null,"aria-autocomplete":o?"both":"list","aria-controls":Ae?`${ue}-listbox`:void 0,"aria-expanded":Ae,autoComplete:"off",ref:Ne,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:g}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:un}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:_n}),getTagProps:({index:lt})=>$({key:lt,"data-tag-index":lt,tabIndex:-1},!se&&{onDelete:An(lt)}),getListboxProps:()=>({role:"listbox",id:`${ue}-listbox`,"aria-labelledby":`${ue}-label`,ref:Ee,onMouseDown:lt=>{lt.preventDefault()}}),getOptionProps:({index:lt,option:Qe})=>{var rn;const Cn=(K?He:[He]).some(sn=>sn!=null&&L(Qe,sn)),gr=I?I(Qe):!1;return{key:(rn=P==null?void 0:P(Qe))!=null?rn:ge(Qe),tabIndex:-1,role:"option",id:`${ue}-option-${lt}`,onMouseMove:st,onClick:Gt,onTouchStart:Dt,"data-option-index":lt,"aria-disabled":gr,"aria-selected":Cn}},id:ue,inputValue:Le,value:He,dirty:dn,expanded:Ie&&me,popupOpen:Ie,focused:H||ce!==-1,anchorEl:me,setAnchorEl:de,focusedTag:ce,groupedOptions:Yt}}var h0={},Sre;function JVe(){if(Sre)return h0;Sre=1,Object.defineProperty(h0,"__esModule",{value:!0}),h0.default=void 0;var e=o(is()),t=bpe;function n(c){if(typeof WeakMap!="function")return null;var u=new WeakMap,d=new WeakMap;return(n=function(p){return p?d:u})(c)}function o(c,u){if(c&&c.__esModule)return c;if(c===null||typeof c!="object"&&typeof c!="function")return{default:c};var d=n(u);if(d&&d.has(c))return d.get(c);var p={__proto__:null},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in c)if(f!=="default"&&Object.prototype.hasOwnProperty.call(c,f)){var h=m?Object.getOwnPropertyDescriptor(c,f):null;h&&(h.get||h.set)?Object.defineProperty(p,f,h):p[f]=c[f]}return p.default=c,d&&d.set(c,p),p}function s(c){return Object.keys(c).length===0}function i(c=null){const u=e.useContext(t.ThemeContext);return!u||s(u)?c:u}return h0.default=i,h0}var XVe=JVe();const ZVe=qn(XVe);var Zl="top",Zu="bottom",ed="right",ec="left",t3="auto",OT=[Zl,Zu,ed,ec],yC="start",YI="end",eze="clippingParents",Dpe="viewport",g0="popper",tze="reference",vre=OT.reduce(function(e,t){return e.concat([t+"-"+yC,t+"-"+YI])},[]),Spe=[].concat(OT,[t3]).reduce(function(e,t){return e.concat([t,t+"-"+yC,t+"-"+YI])},[]),nze="beforeRead",rze="read",oze="afterRead",sze="beforeMain",aze="main",ize="afterMain",lze="beforeWrite",cze="write",uze="afterWrite",dze=[nze,rze,oze,sze,aze,ize,lze,cze,uze];function Kp(e){return e?(e.nodeName||"").toLowerCase():null}function Jc(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Fb(e){var t=Jc(e).Element;return e instanceof t||e instanceof Element}function Qu(e){var t=Jc(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function n3(e){if(typeof ShadowRoot>"u")return!1;var t=Jc(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function pze(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var o=t.styles[n]||{},s=t.attributes[n]||{},i=t.elements[n];!Qu(i)||!Kp(i)||(Object.assign(i.style,o),Object.keys(s).forEach(function(c){var u=s[c];u===!1?i.removeAttribute(c):i.setAttribute(c,u===!0?"":u)}))})}function mze(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(o){var s=t.elements[o],i=t.attributes[o]||{},c=Object.keys(t.styles.hasOwnProperty(o)?t.styles[o]:n[o]),u=c.reduce(function(d,p){return d[p]="",d},{});!Qu(s)||!Kp(s)||(Object.assign(s.style,u),Object.keys(i).forEach(function(d){s.removeAttribute(d)}))})}}const fze={name:"applyStyles",enabled:!0,phase:"write",fn:pze,effect:mze,requires:["computeStyles"]};function zp(e){return e.split("-")[0]}var Sb=Math.max,rR=Math.min,CC=Math.round;function e$(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function vpe(){return!/^((?!chrome|android).)*safari/i.test(e$())}function DC(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var o=e.getBoundingClientRect(),s=1,i=1;t&&Qu(e)&&(s=e.offsetWidth>0&&CC(o.width)/e.offsetWidth||1,i=e.offsetHeight>0&&CC(o.height)/e.offsetHeight||1);var c=Fb(e)?Jc(e):window,u=c.visualViewport,d=!vpe()&&n,p=(o.left+(d&&u?u.offsetLeft:0))/s,m=(o.top+(d&&u?u.offsetTop:0))/i,f=o.width/s,h=o.height/i;return{width:f,height:h,top:m,right:p+f,bottom:m+h,left:p,x:p,y:m}}function r3(e){var t=DC(e),n=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:o}}function jpe(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&n3(n)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function df(e){return Jc(e).getComputedStyle(e)}function hze(e){return["table","td","th"].indexOf(Kp(e))>=0}function Hh(e){return((Fb(e)?e.ownerDocument:e.document)||window.document).documentElement}function cw(e){return Kp(e)==="html"?e:e.assignedSlot||e.parentNode||(n3(e)?e.host:null)||Hh(e)}function jre(e){return!Qu(e)||df(e).position==="fixed"?null:e.offsetParent}function gze(e){var t=/firefox/i.test(e$()),n=/Trident/i.test(e$());if(n&&Qu(e)){var o=df(e);if(o.position==="fixed")return null}var s=cw(e);for(n3(s)&&(s=s.host);Qu(s)&&["html","body"].indexOf(Kp(s))<0;){var i=df(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function ET(e){for(var t=Jc(e),n=jre(e);n&&hze(n)&&df(n).position==="static";)n=jre(n);return n&&(Kp(n)==="html"||Kp(n)==="body"&&df(n).position==="static")?t:n||gze(e)||t}function o3(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function bI(e,t,n){return Sb(e,rR(t,n))}function bze(e,t,n){var o=bI(e,t,n);return o>n?n:o}function Ipe(){return{top:0,right:0,bottom:0,left:0}}function Tpe(e){return Object.assign({},Ipe(),e)}function Ope(e,t){return t.reduce(function(n,o){return n[o]=e,n},{})}var xze=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Tpe(typeof t!="number"?t:Ope(t,OT))};function yze(e){var t,n=e.state,o=e.name,s=e.options,i=n.elements.arrow,c=n.modifiersData.popperOffsets,u=zp(n.placement),d=o3(u),p=[ec,ed].indexOf(u)>=0,m=p?"height":"width";if(!(!i||!c)){var f=xze(s.padding,n),h=r3(i),g=d==="y"?Zl:ec,x=d==="y"?Zu:ed,y=n.rects.reference[m]+n.rects.reference[d]-c[d]-n.rects.popper[m],D=c[d]-n.rects.reference[d],v=ET(i),T=v?d==="y"?v.clientHeight||0:v.clientWidth||0:0,I=y/2-D/2,P=f[g],E=T-h[m]-f[x],k=T/2-h[m]/2+I,w=bI(P,k,E),A=d;n.modifiersData[o]=(t={},t[A]=w,t.centerOffset=w-k,t)}}function Cze(e){var t=e.state,n=e.options,o=n.element,s=o===void 0?"[data-popper-arrow]":o;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||jpe(t.elements.popper,s)&&(t.elements.arrow=s))}const Dze={name:"arrow",enabled:!0,phase:"main",fn:yze,effect:Cze,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function SC(e){return e.split("-")[1]}var Sze={top:"auto",right:"auto",bottom:"auto",left:"auto"};function vze(e,t){var n=e.x,o=e.y,s=t.devicePixelRatio||1;return{x:CC(n*s)/s||0,y:CC(o*s)/s||0}}function Ire(e){var t,n=e.popper,o=e.popperRect,s=e.placement,i=e.variation,c=e.offsets,u=e.position,d=e.gpuAcceleration,p=e.adaptive,m=e.roundOffsets,f=e.isFixed,h=c.x,g=h===void 0?0:h,x=c.y,y=x===void 0?0:x,D=typeof m=="function"?m({x:g,y}):{x:g,y};g=D.x,y=D.y;var v=c.hasOwnProperty("x"),T=c.hasOwnProperty("y"),I=ec,P=Zl,E=window;if(p){var k=ET(n),w="clientHeight",A="clientWidth";if(k===Jc(n)&&(k=Hh(n),df(k).position!=="static"&&u==="absolute"&&(w="scrollHeight",A="scrollWidth")),k=k,s===Zl||(s===ec||s===ed)&&i===YI){P=Zu;var F=f&&k===E&&E.visualViewport?E.visualViewport.height:k[w];y-=F-o.height,y*=d?1:-1}if(s===ec||(s===Zl||s===Zu)&&i===YI){I=ed;var _=f&&k===E&&E.visualViewport?E.visualViewport.width:k[A];g-=_-o.width,g*=d?1:-1}}var L=Object.assign({position:u},p&&Sze),K=m===!0?vze({x:g,y},Jc(n)):{x:g,y};if(g=K.x,y=K.y,d){var z;return Object.assign({},L,(z={},z[P]=T?"0":"",z[I]=v?"0":"",z.transform=(E.devicePixelRatio||1)<=1?"translate("+g+"px, "+y+"px)":"translate3d("+g+"px, "+y+"px, 0)",z))}return Object.assign({},L,(t={},t[P]=T?y+"px":"",t[I]=v?g+"px":"",t.transform="",t))}function jze(e){var t=e.state,n=e.options,o=n.gpuAcceleration,s=o===void 0?!0:o,i=n.adaptive,c=i===void 0?!0:i,u=n.roundOffsets,d=u===void 0?!0:u,p={placement:zp(t.placement),variation:SC(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Ire(Object.assign({},p,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:c,roundOffsets:d})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Ire(Object.assign({},p,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Ize={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:jze,data:{}};var HE={passive:!0};function Tze(e){var t=e.state,n=e.instance,o=e.options,s=o.scroll,i=s===void 0?!0:s,c=o.resize,u=c===void 0?!0:c,d=Jc(t.elements.popper),p=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&p.forEach(function(m){m.addEventListener("scroll",n.update,HE)}),u&&d.addEventListener("resize",n.update,HE),function(){i&&p.forEach(function(m){m.removeEventListener("scroll",n.update,HE)}),u&&d.removeEventListener("resize",n.update,HE)}}const Oze={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Tze,data:{}};var Eze={left:"right",right:"left",bottom:"top",top:"bottom"};function AP(e){return e.replace(/left|right|bottom|top/g,function(t){return Eze[t]})}var Pze={start:"end",end:"start"};function Tre(e){return e.replace(/start|end/g,function(t){return Pze[t]})}function s3(e){var t=Jc(e),n=t.pageXOffset,o=t.pageYOffset;return{scrollLeft:n,scrollTop:o}}function a3(e){return DC(Hh(e)).left+s3(e).scrollLeft}function Rze(e,t){var n=Jc(e),o=Hh(e),s=n.visualViewport,i=o.clientWidth,c=o.clientHeight,u=0,d=0;if(s){i=s.width,c=s.height;var p=vpe();(p||!p&&t==="fixed")&&(u=s.offsetLeft,d=s.offsetTop)}return{width:i,height:c,x:u+a3(e),y:d}}function wze(e){var t,n=Hh(e),o=s3(e),s=(t=e.ownerDocument)==null?void 0:t.body,i=Sb(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),c=Sb(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),u=-o.scrollLeft+a3(e),d=-o.scrollTop;return df(s||n).direction==="rtl"&&(u+=Sb(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:c,x:u,y:d}}function i3(e){var t=df(e),n=t.overflow,o=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+o)}function Epe(e){return["html","body","#document"].indexOf(Kp(e))>=0?e.ownerDocument.body:Qu(e)&&i3(e)?e:Epe(cw(e))}function xI(e,t){var n;t===void 0&&(t=[]);var o=Epe(e),s=o===((n=e.ownerDocument)==null?void 0:n.body),i=Jc(o),c=s?[i].concat(i.visualViewport||[],i3(o)?o:[]):o,u=t.concat(c);return s?u:u.concat(xI(cw(c)))}function t$(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function kze(e,t){var n=DC(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function Ore(e,t,n){return t===Dpe?t$(Rze(e,n)):Fb(t)?kze(t,n):t$(wze(Hh(e)))}function Aze(e){var t=xI(cw(e)),n=["absolute","fixed"].indexOf(df(e).position)>=0,o=n&&Qu(e)?ET(e):e;return Fb(o)?t.filter(function(s){return Fb(s)&&jpe(s,o)&&Kp(s)!=="body"}):[]}function Nze(e,t,n,o){var s=t==="clippingParents"?Aze(e):[].concat(t),i=[].concat(s,[n]),c=i[0],u=i.reduce(function(d,p){var m=Ore(e,p,o);return d.top=Sb(m.top,d.top),d.right=rR(m.right,d.right),d.bottom=rR(m.bottom,d.bottom),d.left=Sb(m.left,d.left),d},Ore(e,c,o));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function Ppe(e){var t=e.reference,n=e.element,o=e.placement,s=o?zp(o):null,i=o?SC(o):null,c=t.x+t.width/2-n.width/2,u=t.y+t.height/2-n.height/2,d;switch(s){case Zl:d={x:c,y:t.y-n.height};break;case Zu:d={x:c,y:t.y+t.height};break;case ed:d={x:t.x+t.width,y:u};break;case ec:d={x:t.x-n.width,y:u};break;default:d={x:t.x,y:t.y}}var p=s?o3(s):null;if(p!=null){var m=p==="y"?"height":"width";switch(i){case yC:d[p]=d[p]-(t[m]/2-n[m]/2);break;case YI:d[p]=d[p]+(t[m]/2-n[m]/2);break}}return d}function JI(e,t){t===void 0&&(t={});var n=t,o=n.placement,s=o===void 0?e.placement:o,i=n.strategy,c=i===void 0?e.strategy:i,u=n.boundary,d=u===void 0?eze:u,p=n.rootBoundary,m=p===void 0?Dpe:p,f=n.elementContext,h=f===void 0?g0:f,g=n.altBoundary,x=g===void 0?!1:g,y=n.padding,D=y===void 0?0:y,v=Tpe(typeof D!="number"?D:Ope(D,OT)),T=h===g0?tze:g0,I=e.rects.popper,P=e.elements[x?T:h],E=Nze(Fb(P)?P:P.contextElement||Hh(e.elements.popper),d,m,c),k=DC(e.elements.reference),w=Ppe({reference:k,element:I,placement:s}),A=t$(Object.assign({},I,w)),F=h===g0?A:k,_={top:E.top-F.top+v.top,bottom:F.bottom-E.bottom+v.bottom,left:E.left-F.left+v.left,right:F.right-E.right+v.right},L=e.modifiersData.offset;if(h===g0&&L){var K=L[s];Object.keys(_).forEach(function(z){var J=[ed,Zu].indexOf(z)>=0?1:-1,Q=[Zl,Zu].indexOf(z)>=0?"y":"x";_[z]+=K[Q]*J})}return _}function Fze(e,t){t===void 0&&(t={});var n=t,o=n.placement,s=n.boundary,i=n.rootBoundary,c=n.padding,u=n.flipVariations,d=n.allowedAutoPlacements,p=d===void 0?Spe:d,m=SC(o),f=m?u?vre:vre.filter(function(x){return SC(x)===m}):OT,h=f.filter(function(x){return p.indexOf(x)>=0});h.length===0&&(h=f);var g=h.reduce(function(x,y){return x[y]=JI(e,{placement:y,boundary:s,rootBoundary:i,padding:c})[zp(y)],x},{});return Object.keys(g).sort(function(x,y){return g[x]-g[y]})}function Mze(e){if(zp(e)===t3)return[];var t=AP(e);return[Tre(e),t,Tre(t)]}function _ze(e){var t=e.state,n=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var s=n.mainAxis,i=s===void 0?!0:s,c=n.altAxis,u=c===void 0?!0:c,d=n.fallbackPlacements,p=n.padding,m=n.boundary,f=n.rootBoundary,h=n.altBoundary,g=n.flipVariations,x=g===void 0?!0:g,y=n.allowedAutoPlacements,D=t.options.placement,v=zp(D),T=v===D,I=d||(T||!x?[AP(D)]:Mze(D)),P=[D].concat(I).reduce(function(ue,ge){return ue.concat(zp(ge)===t3?Fze(t,{placement:ge,boundary:m,rootBoundary:f,padding:p,flipVariations:x,allowedAutoPlacements:y}):ge)},[]),E=t.rects.reference,k=t.rects.popper,w=new Map,A=!0,F=P[0],_=0;_<P.length;_++){var L=P[_],K=zp(L),z=SC(L)===yC,J=[Zl,Zu].indexOf(K)>=0,Q=J?"width":"height",V=JI(t,{placement:L,boundary:m,rootBoundary:f,altBoundary:h,padding:p}),W=J?z?ed:ec:z?Zu:Zl;E[Q]>k[Q]&&(W=AP(W));var U=AP(W),X=[];if(i&&X.push(V[K]<=0),u&&X.push(V[W]<=0,V[U]<=0),X.every(function(ue){return ue})){F=L,A=!1;break}w.set(L,X)}if(A)for(var te=x?3:1,se=function(ge){var Ce=P.find(function(Te){var Ne=w.get(Te);if(Ne)return Ne.slice(0,ge).every(function(xe){return xe})});if(Ce)return F=Ce,"break"},he=te;he>0;he--){var pe=se(he);if(pe==="break")break}t.placement!==F&&(t.modifiersData[o]._skip=!0,t.placement=F,t.reset=!0)}}const Lze={name:"flip",enabled:!0,phase:"main",fn:_ze,requiresIfExists:["offset"],data:{_skip:!1}};function Ere(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Pre(e){return[Zl,ed,Zu,ec].some(function(t){return e[t]>=0})}function $ze(e){var t=e.state,n=e.name,o=t.rects.reference,s=t.rects.popper,i=t.modifiersData.preventOverflow,c=JI(t,{elementContext:"reference"}),u=JI(t,{altBoundary:!0}),d=Ere(c,o),p=Ere(u,s,i),m=Pre(d),f=Pre(p);t.modifiersData[n]={referenceClippingOffsets:d,popperEscapeOffsets:p,isReferenceHidden:m,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":f})}const Bze={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:$ze};function Wze(e,t,n){var o=zp(e),s=[ec,Zl].indexOf(o)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,c=i[0],u=i[1];return c=c||0,u=(u||0)*s,[ec,ed].indexOf(o)>=0?{x:u,y:c}:{x:c,y:u}}function Uze(e){var t=e.state,n=e.options,o=e.name,s=n.offset,i=s===void 0?[0,0]:s,c=Spe.reduce(function(m,f){return m[f]=Wze(f,t.rects,i),m},{}),u=c[t.placement],d=u.x,p=u.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=d,t.modifiersData.popperOffsets.y+=p),t.modifiersData[o]=c}const qze={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Uze};function Vze(e){var t=e.state,n=e.name;t.modifiersData[n]=Ppe({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const zze={name:"popperOffsets",enabled:!0,phase:"read",fn:Vze,data:{}};function Hze(e){return e==="x"?"y":"x"}function Gze(e){var t=e.state,n=e.options,o=e.name,s=n.mainAxis,i=s===void 0?!0:s,c=n.altAxis,u=c===void 0?!1:c,d=n.boundary,p=n.rootBoundary,m=n.altBoundary,f=n.padding,h=n.tether,g=h===void 0?!0:h,x=n.tetherOffset,y=x===void 0?0:x,D=JI(t,{boundary:d,rootBoundary:p,padding:f,altBoundary:m}),v=zp(t.placement),T=SC(t.placement),I=!T,P=o3(v),E=Hze(P),k=t.modifiersData.popperOffsets,w=t.rects.reference,A=t.rects.popper,F=typeof y=="function"?y(Object.assign({},t.rects,{placement:t.placement})):y,_=typeof F=="number"?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),L=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,K={x:0,y:0};if(k){if(i){var z,J=P==="y"?Zl:ec,Q=P==="y"?Zu:ed,V=P==="y"?"height":"width",W=k[P],U=W+D[J],X=W-D[Q],te=g?-A[V]/2:0,se=T===yC?w[V]:A[V],he=T===yC?-A[V]:-w[V],pe=t.elements.arrow,ue=g&&pe?r3(pe):{width:0,height:0},ge=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Ipe(),Ce=ge[J],Te=ge[Q],Ne=bI(0,w[V],ue[V]),xe=I?w[V]/2-te-Ne-Ce-_.mainAxis:se-Ne-Ce-_.mainAxis,me=I?-w[V]/2+te+Ne+Te+_.mainAxis:he+Ne+Te+_.mainAxis,de=t.elements.arrow&&ET(t.elements.arrow),ce=de?P==="y"?de.clientTop||0:de.clientLeft||0:0,ee=(z=L==null?void 0:L[P])!=null?z:0,De=W+xe-ee-ce,ke=W+me-ee,He=bI(g?rR(U,De):U,W,g?Sb(X,ke):X);k[P]=He,K[P]=He-W}if(u){var qe,Le=P==="x"?Zl:ec,_e=P==="x"?Zu:ed,H=k[E],re=E==="y"?"height":"width",q=H+D[Le],Y=H-D[_e],ie=[Zl,ec].indexOf(v)!==-1,B=(qe=L==null?void 0:L[E])!=null?qe:0,Z=ie?q:H-w[re]-A[re]-B+_.altAxis,ye=ie?H+w[re]+A[re]-B-_.altAxis:Y,Ie=g&&ie?bze(Z,H,ye):bI(g?Z:q,H,g?ye:Y);k[E]=Ie,K[E]=Ie-H}t.modifiersData[o]=K}}const Kze={name:"preventOverflow",enabled:!0,phase:"main",fn:Gze,requiresIfExists:["offset"]};function Qze(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Yze(e){return e===Jc(e)||!Qu(e)?s3(e):Qze(e)}function Jze(e){var t=e.getBoundingClientRect(),n=CC(t.width)/e.offsetWidth||1,o=CC(t.height)/e.offsetHeight||1;return n!==1||o!==1}function Xze(e,t,n){n===void 0&&(n=!1);var o=Qu(t),s=Qu(t)&&Jze(t),i=Hh(t),c=DC(e,s,n),u={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(o||!o&&!n)&&((Kp(t)!=="body"||i3(i))&&(u=Yze(t)),Qu(t)?(d=DC(t,!0),d.x+=t.clientLeft,d.y+=t.clientTop):i&&(d.x=a3(i))),{x:c.left+u.scrollLeft-d.x,y:c.top+u.scrollTop-d.y,width:c.width,height:c.height}}function Zze(e){var t=new Map,n=new Set,o=[];e.forEach(function(i){t.set(i.name,i)});function s(i){n.add(i.name);var c=[].concat(i.requires||[],i.requiresIfExists||[]);c.forEach(function(u){if(!n.has(u)){var d=t.get(u);d&&s(d)}}),o.push(i)}return e.forEach(function(i){n.has(i.name)||s(i)}),o}function eHe(e){var t=Zze(e);return dze.reduce(function(n,o){return n.concat(t.filter(function(s){return s.phase===o}))},[])}function tHe(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function nHe(e){var t=e.reduce(function(n,o){var s=n[o.name];return n[o.name]=s?Object.assign({},s,o,{options:Object.assign({},s.options,o.options),data:Object.assign({},s.data,o.data)}):o,n},{});return Object.keys(t).map(function(n){return t[n]})}var Rre={placement:"bottom",modifiers:[],strategy:"absolute"};function wre(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function rHe(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,o=n===void 0?[]:n,s=t.defaultOptions,i=s===void 0?Rre:s;return function(u,d,p){p===void 0&&(p=i);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},Rre,i),modifiersData:{},elements:{reference:u,popper:d},attributes:{},styles:{}},f=[],h=!1,g={state:m,setOptions:function(v){var T=typeof v=="function"?v(m.options):v;y(),m.options=Object.assign({},i,m.options,T),m.scrollParents={reference:Fb(u)?xI(u):u.contextElement?xI(u.contextElement):[],popper:xI(d)};var I=eHe(nHe([].concat(o,m.options.modifiers)));return m.orderedModifiers=I.filter(function(P){return P.enabled}),x(),g.update()},forceUpdate:function(){if(!h){var v=m.elements,T=v.reference,I=v.popper;if(wre(T,I)){m.rects={reference:Xze(T,ET(I),m.options.strategy==="fixed"),popper:r3(I)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(_){return m.modifiersData[_.name]=Object.assign({},_.data)});for(var P=0;P<m.orderedModifiers.length;P++){if(m.reset===!0){m.reset=!1,P=-1;continue}var E=m.orderedModifiers[P],k=E.fn,w=E.options,A=w===void 0?{}:w,F=E.name;typeof k=="function"&&(m=k({state:m,options:A,name:F,instance:g})||m)}}}},update:tHe(function(){return new Promise(function(D){g.forceUpdate(),D(m)})}),destroy:function(){y(),h=!0}};if(!wre(u,d))return g;g.setOptions(p).then(function(D){!h&&p.onFirstUpdate&&p.onFirstUpdate(D)});function x(){m.orderedModifiers.forEach(function(D){var v=D.name,T=D.options,I=T===void 0?{}:T,P=D.effect;if(typeof P=="function"){var E=P({state:m,name:v,instance:g,options:I}),k=function(){};f.push(E||k)}})}function y(){f.forEach(function(D){return D()}),f=[]}return g}}var oHe=[Oze,zze,Ize,fze,qze,Lze,Kze,Dze,Bze],Rpe=rHe({defaultModifiers:oHe});function sHe(e){return typeof e=="function"?e():e}const wpe=a.forwardRef(function(t,n){const{children:o,container:s,disablePortal:i=!1}=t,[c,u]=a.useState(null),d=xo(a.isValidElement(o)?o.ref:null,n);if(Us(()=>{i||u(sHe(s)||document.body)},[s,i]),Us(()=>{if(c&&!i)return KI(n,c),()=>{KI(n,null)}},[n,c,i]),i){if(a.isValidElement(o)){const p={ref:d};return a.cloneElement(o,p)}return r.jsx(a.Fragment,{children:o})}return r.jsx(a.Fragment,{children:c&&kb.createPortal(o,c)})});function aHe(e){return $n("MuiPopper",e)}Bn("MuiPopper",["root"]);const iHe=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],lHe=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function cHe(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function n$(e){return typeof e=="function"?e():e}function uHe(e){return e.nodeType!==void 0}const dHe=e=>{const{classes:t}=e;return Ln({root:["root"]},aHe,t)},pHe={},mHe=a.forwardRef(function(t,n){var o;const{anchorEl:s,children:i,direction:c,disablePortal:u,modifiers:d,open:p,placement:m,popperOptions:f,popperRef:h,slotProps:g={},slots:x={},TransitionProps:y}=t,D=It(t,iHe),v=a.useRef(null),T=xo(v,n),I=a.useRef(null),P=xo(I,h),E=a.useRef(P);Us(()=>{E.current=P},[P]),a.useImperativeHandle(h,()=>I.current,[]);const k=cHe(m,c),[w,A]=a.useState(k),[F,_]=a.useState(n$(s));a.useEffect(()=>{I.current&&I.current.forceUpdate()}),a.useEffect(()=>{s&&_(n$(s))},[s]),Us(()=>{if(!F||!p)return;const Q=U=>{A(U.placement)};let V=[{name:"preventOverflow",options:{altBoundary:u}},{name:"flip",options:{altBoundary:u}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:U})=>{Q(U)}}];d!=null&&(V=V.concat(d)),f&&f.modifiers!=null&&(V=V.concat(f.modifiers));const W=Rpe(F,v.current,$({placement:k},f,{modifiers:V}));return E.current(W),()=>{W.destroy(),E.current(null)}},[F,u,d,p,f,k]);const L={placement:w};y!==null&&(L.TransitionProps=y);const K=dHe(t),z=(o=x.root)!=null?o:"div",J=Yc({elementType:z,externalSlotProps:g.root,externalForwardedProps:D,additionalProps:{role:"tooltip",ref:T},ownerState:t,className:K.root});return r.jsx(z,$({},J,{children:typeof i=="function"?i(L):i}))}),fHe=a.forwardRef(function(t,n){const{anchorEl:o,children:s,container:i,direction:c="ltr",disablePortal:u=!1,keepMounted:d=!1,modifiers:p,open:m,placement:f="bottom",popperOptions:h=pHe,popperRef:g,style:x,transition:y=!1,slotProps:D={},slots:v={}}=t,T=It(t,lHe),[I,P]=a.useState(!0),E=()=>{P(!1)},k=()=>{P(!0)};if(!d&&!m&&(!y||I))return null;let w;if(i)w=i;else if(o){const _=n$(o);w=_&&uHe(_)?js(_).body:js(null).body}const A=!m&&d&&(!y||I)?"none":void 0,F=y?{in:m,onEnter:E,onExited:k}:void 0;return r.jsx(wpe,{disablePortal:u,container:w,children:r.jsx(mHe,$({anchorEl:o,direction:c,disablePortal:u,modifiers:p,ref:n,open:y?!I:m,placement:f,popperOptions:h,popperRef:g,slotProps:D,slots:v},T,{style:$({position:"fixed",top:0,left:0,display:A},x),TransitionProps:F,children:s}))})}),hHe=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],gHe=it(fHe,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Xp=a.forwardRef(function(t,n){var o;const s=ZVe(),i=Ir({props:t,name:"MuiPopper"}),{anchorEl:c,component:u,components:d,componentsProps:p,container:m,disablePortal:f,keepMounted:h,modifiers:g,open:x,placement:y,popperOptions:D,popperRef:v,transition:T,slots:I,slotProps:P}=i,E=It(i,hHe),k=(o=I==null?void 0:I.root)!=null?o:d==null?void 0:d.Root,w=$({anchorEl:c,container:m,disablePortal:f,keepMounted:h,modifiers:g,open:x,placement:y,popperOptions:D,popperRef:v,transition:T},E);return r.jsx(gHe,$({as:u,direction:s==null?void 0:s.direction,slots:{root:k},slotProps:P??p},w,{ref:n}))});function bHe(e){return $n("MuiListSubheader",e)}Bn("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const xHe=["className","color","component","disableGutters","disableSticky","inset"],yHe=e=>{const{classes:t,color:n,disableGutters:o,inset:s,disableSticky:i}=e,c={root:["root",n!=="default"&&`color${zt(n)}`,!o&&"gutters",s&&"inset",!i&&"sticky"]};return Ln(c,bHe,t)},CHe=it("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${zt(n.color)}`],!n.disableGutters&&t.gutters,n.inset&&t.inset,!n.disableSticky&&t.sticky]}})(({theme:e,ownerState:t})=>$({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},t.color==="primary"&&{color:(e.vars||e).palette.primary.main},t.color==="inherit"&&{color:"inherit"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.inset&&{paddingLeft:72},!t.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper})),uw=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiListSubheader"}),{className:s,color:i="default",component:c="li",disableGutters:u=!1,disableSticky:d=!1,inset:p=!1}=o,m=It(o,xHe),f=$({},o,{color:i,component:c,disableGutters:u,disableSticky:d,inset:p}),h=yHe(f);return r.jsx(CHe,$({as:c,className:Nt(h.root,s),ref:n,ownerState:f},m))});uw.muiSkipListHighlight=!0;const DHe=xs(r.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function SHe(e){return $n("MuiChip",e)}const Ho=Bn("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),vHe=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],jHe=e=>{const{classes:t,disabled:n,size:o,color:s,iconColor:i,onDelete:c,clickable:u,variant:d}=e,p={root:["root",d,n&&"disabled",`size${zt(o)}`,`color${zt(s)}`,u&&"clickable",u&&`clickableColor${zt(s)}`,c&&"deletable",c&&`deletableColor${zt(s)}`,`${d}${zt(s)}`],label:["label",`label${zt(o)}`],avatar:["avatar",`avatar${zt(o)}`,`avatarColor${zt(s)}`],icon:["icon",`icon${zt(o)}`,`iconColor${zt(i)}`],deleteIcon:["deleteIcon",`deleteIcon${zt(o)}`,`deleteIconColor${zt(s)}`,`deleteIcon${zt(d)}Color${zt(s)}`]};return Ln(p,SHe,t)},IHe=it("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:o,iconColor:s,clickable:i,onDelete:c,size:u,variant:d}=n;return[{[`& .${Ho.avatar}`]:t.avatar},{[`& .${Ho.avatar}`]:t[`avatar${zt(u)}`]},{[`& .${Ho.avatar}`]:t[`avatarColor${zt(o)}`]},{[`& .${Ho.icon}`]:t.icon},{[`& .${Ho.icon}`]:t[`icon${zt(u)}`]},{[`& .${Ho.icon}`]:t[`iconColor${zt(s)}`]},{[`& .${Ho.deleteIcon}`]:t.deleteIcon},{[`& .${Ho.deleteIcon}`]:t[`deleteIcon${zt(u)}`]},{[`& .${Ho.deleteIcon}`]:t[`deleteIconColor${zt(o)}`]},{[`& .${Ho.deleteIcon}`]:t[`deleteIcon${zt(d)}Color${zt(o)}`]},t.root,t[`size${zt(u)}`],t[`color${zt(o)}`],i&&t.clickable,i&&o!=="default"&&t[`clickableColor${zt(o)})`],c&&t.deletable,c&&o!=="default"&&t[`deletableColor${zt(o)}`],t[d],t[`${d}${zt(o)}`]]}})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return $({maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Ho.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Ho.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:n,fontSize:e.typography.pxToRem(12)},[`& .${Ho.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${Ho.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${Ho.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${Ho.icon}`]:$({marginLeft:5,marginRight:-6},t.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},t.iconColor===t.color&&$({color:e.vars?e.vars.palette.Chip.defaultIconColor:n},t.color!=="default"&&{color:"inherit"})),[`& .${Ho.deleteIcon}`]:$({WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:Wr.alpha(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:Wr.alpha(e.palette.text.primary,.4)}},t.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},t.color!=="default"&&{color:e.vars?`rgba(${e.vars.palette[t.color].contrastTextChannel} / 0.7)`:Wr.alpha(e.palette[t.color].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].contrastText}})},t.size==="small"&&{height:24},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.onDelete&&{[`&.${Ho.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Wr.alpha(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},t.onDelete&&t.color!=="default"&&{[`&.${Ho.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}})},({theme:e,ownerState:t})=>$({},t.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Wr.alpha(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${Ho.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Wr.alpha(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}},t.clickable&&t.color!=="default"&&{[`&:hover, &.${Ho.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}}),({theme:e,ownerState:t})=>$({},t.variant==="outlined"&&{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${Ho.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${Ho.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${Ho.avatar}`]:{marginLeft:4},[`& .${Ho.avatarSmall}`]:{marginLeft:2},[`& .${Ho.icon}`]:{marginLeft:4},[`& .${Ho.iconSmall}`]:{marginLeft:2},[`& .${Ho.deleteIcon}`]:{marginRight:5},[`& .${Ho.deleteIconSmall}`]:{marginRight:3}},t.variant==="outlined"&&t.color!=="default"&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:Wr.alpha(e.palette[t.color].main,.7)}`,[`&.${Ho.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Wr.alpha(e.palette[t.color].main,e.palette.action.hoverOpacity)},[`&.${Ho.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.focusOpacity})`:Wr.alpha(e.palette[t.color].main,e.palette.action.focusOpacity)},[`& .${Ho.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:Wr.alpha(e.palette[t.color].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].main}}})),THe=it("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:o}=n;return[t.label,t[`label${zt(o)}`]]}})(({ownerState:e})=>$({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},e.variant==="outlined"&&{paddingLeft:11,paddingRight:11},e.size==="small"&&{paddingLeft:8,paddingRight:8},e.size==="small"&&e.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function kre(e){return e.key==="Backspace"||e.key==="Delete"}const XI=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiChip"}),{avatar:s,className:i,clickable:c,color:u="default",component:d,deleteIcon:p,disabled:m=!1,icon:f,label:h,onClick:g,onDelete:x,onKeyDown:y,onKeyUp:D,size:v="medium",variant:T="filled",tabIndex:I,skipFocusWhenDisabled:P=!1}=o,E=It(o,vHe),k=a.useRef(null),w=xo(k,n),A=X=>{X.stopPropagation(),x&&x(X)},F=X=>{X.currentTarget===X.target&&kre(X)&&X.preventDefault(),y&&y(X)},_=X=>{X.currentTarget===X.target&&(x&&kre(X)?x(X):X.key==="Escape"&&k.current&&k.current.blur()),D&&D(X)},L=c!==!1&&g?!0:c,K=L||x?qd:d||"div",z=$({},o,{component:K,disabled:m,size:v,color:u,iconColor:a.isValidElement(f)&&f.props.color||u,onDelete:!!x,clickable:L,variant:T}),J=jHe(z),Q=K===qd?$({component:d||"div",focusVisibleClassName:J.focusVisible},x&&{disableRipple:!0}):{};let V=null;x&&(V=p&&a.isValidElement(p)?a.cloneElement(p,{className:Nt(p.props.className,J.deleteIcon),onClick:A}):r.jsx(DHe,{className:Nt(J.deleteIcon),onClick:A}));let W=null;s&&a.isValidElement(s)&&(W=a.cloneElement(s,{className:Nt(J.avatar,s.props.className)}));let U=null;return f&&a.isValidElement(f)&&(U=a.cloneElement(f,{className:Nt(J.icon,f.props.className)})),r.jsxs(IHe,$({as:K,className:Nt(J.root,i),disabled:L&&m?!0:void 0,onClick:g,onKeyDown:F,onKeyUp:_,ref:w,tabIndex:P&&m?-1:I,ownerState:z},Q,E,{children:[W||U,r.jsx(THe,{className:Nt(J.label),ownerState:z,children:h}),V]}))}),OHe=["onChange","maxRows","minRows","style","value"];function GE(e){return parseInt(e,10)||0}const EHe={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function PHe(e){return e==null||Object.keys(e).length===0||e.outerHeightStyle===0&&!e.overflowing}const RHe=a.forwardRef(function(t,n){const{onChange:o,maxRows:s,minRows:i=1,style:c,value:u}=t,d=It(t,OHe),{current:p}=a.useRef(u!=null),m=a.useRef(null),f=xo(n,m),h=a.useRef(null),g=a.useRef(null),x=a.useCallback(()=>{const v=m.current,I=ll(v).getComputedStyle(v);if(I.width==="0px")return{outerHeightStyle:0,overflowing:!1};const P=g.current;P.style.width=I.width,P.value=v.value||t.placeholder||"x",P.value.slice(-1)===`
`&&(P.value+=" ");const E=I.boxSizing,k=GE(I.paddingBottom)+GE(I.paddingTop),w=GE(I.borderBottomWidth)+GE(I.borderTopWidth),A=P.scrollHeight;P.value="x";const F=P.scrollHeight;let _=A;i&&(_=Math.max(Number(i)*F,_)),s&&(_=Math.min(Number(s)*F,_)),_=Math.max(_,F);const L=_+(E==="border-box"?k+w:0),K=Math.abs(_-A)<=1;return{outerHeightStyle:L,overflowing:K}},[s,i,t.placeholder]),y=a.useCallback(()=>{const v=x();if(PHe(v))return;const T=v.outerHeightStyle,I=m.current;h.current!==T&&(h.current=T,I.style.height=`${T}px`),I.style.overflow=v.overflowing?"hidden":""},[x]);Us(()=>{const v=()=>{y()};let T;const I=yD(v),P=m.current,E=ll(P);E.addEventListener("resize",I);let k;return typeof ResizeObserver<"u"&&(k=new ResizeObserver(v),k.observe(P)),()=>{I.clear(),cancelAnimationFrame(T),E.removeEventListener("resize",I),k&&k.disconnect()}},[x,y]),Us(()=>{y()});const D=v=>{p||y(),o&&o(v)};return r.jsxs(a.Fragment,{children:[r.jsx("textarea",$({value:u,onChange:D,ref:f,rows:i,style:c},d)),r.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:g,tabIndex:-1,style:$({},EHe.shadow,c,{paddingTop:0,paddingBottom:0})})]})});function Gh({props:e,states:t,muiFormControl:n}){return t.reduce((o,s)=>(o[s]=e[s],n&&typeof e[s]>"u"&&(o[s]=n[s]),o),{})}const dw=a.createContext(void 0);function Zp(){return a.useContext(dw)}function kpe(e){return r.jsx(O6e,$({},e,{defaultTheme:sw,themeId:Ab}))}function Are(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function oR(e,t=!1){return e&&(Are(e.value)&&e.value!==""||t&&Are(e.defaultValue)&&e.defaultValue!=="")}function wHe(e){return e.startAdornment}function kHe(e){return $n("MuiInputBase",e)}const Mc=Bn("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),AHe=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],pw=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${zt(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},mw=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},NHe=e=>{const{classes:t,color:n,disabled:o,error:s,endAdornment:i,focused:c,formControl:u,fullWidth:d,hiddenLabel:p,multiline:m,readOnly:f,size:h,startAdornment:g,type:x}=e,y={root:["root",`color${zt(n)}`,o&&"disabled",s&&"error",d&&"fullWidth",c&&"focused",u&&"formControl",h&&h!=="medium"&&`size${zt(h)}`,m&&"multiline",g&&"adornedStart",i&&"adornedEnd",p&&"hiddenLabel",f&&"readOnly"],input:["input",o&&"disabled",x==="search"&&"inputTypeSearch",m&&"inputMultiline",h==="small"&&"inputSizeSmall",p&&"inputHiddenLabel",g&&"inputAdornedStart",i&&"inputAdornedEnd",f&&"readOnly"]};return Ln(y,kHe,t)},fw=it("div",{name:"MuiInputBase",slot:"Root",overridesResolver:pw})(({theme:e,ownerState:t})=>$({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Mc.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&$({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),hw=it("input",{name:"MuiInputBase",slot:"Input",overridesResolver:mw})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light",o=$({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),s={opacity:"0 !important"},i=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return $({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Mc.formControl} &`]:{"&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&:-ms-input-placeholder":s,"&::-ms-input-placeholder":s,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${Mc.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),FHe=r.jsx(kpe,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),PT=a.forwardRef(function(t,n){var o;const s=Ir({props:t,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:c,autoFocus:u,className:d,components:p={},componentsProps:m={},defaultValue:f,disabled:h,disableInjectingGlobalStyles:g,endAdornment:x,fullWidth:y=!1,id:D,inputComponent:v="input",inputProps:T={},inputRef:I,maxRows:P,minRows:E,multiline:k=!1,name:w,onBlur:A,onChange:F,onClick:_,onFocus:L,onKeyDown:K,onKeyUp:z,placeholder:J,readOnly:Q,renderSuffix:V,rows:W,slotProps:U={},slots:X={},startAdornment:te,type:se="text",value:he}=s,pe=It(s,AHe),ue=T.value!=null?T.value:he,{current:ge}=a.useRef(ue!=null),Ce=a.useRef(),Te=a.useCallback(Ie=>{},[]),Ne=xo(Ce,I,T.ref,Te),[xe,me]=a.useState(!1),de=Zp(),ce=Gh({props:s,muiFormControl:de,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ce.focused=de?de.focused:xe,a.useEffect(()=>{!de&&h&&xe&&(me(!1),A&&A())},[de,h,xe,A]);const ee=de&&de.onFilled,De=de&&de.onEmpty,ke=a.useCallback(Ie=>{oR(Ie)?ee&&ee():De&&De()},[ee,De]);Us(()=>{ge&&ke({value:ue})},[ue,ke,ge]);const He=Ie=>{if(ce.disabled){Ie.stopPropagation();return}L&&L(Ie),T.onFocus&&T.onFocus(Ie),de&&de.onFocus?de.onFocus(Ie):me(!0)},qe=Ie=>{A&&A(Ie),T.onBlur&&T.onBlur(Ie),de&&de.onBlur?de.onBlur(Ie):me(!1)},Le=(Ie,...le)=>{if(!ge){const fe=Ie.target||Ce.current;if(fe==null)throw new Error(cf(1));ke({value:fe.value})}T.onChange&&T.onChange(Ie,...le),F&&F(Ie,...le)};a.useEffect(()=>{ke(Ce.current)},[]);const _e=Ie=>{Ce.current&&Ie.currentTarget===Ie.target&&Ce.current.focus(),_&&_(Ie)};let H=v,re=T;k&&H==="input"&&(W?re=$({type:void 0,minRows:W,maxRows:W},re):re=$({type:void 0,maxRows:P,minRows:E},re),H=RHe);const q=Ie=>{ke(Ie.animationName==="mui-auto-fill-cancel"?Ce.current:{value:"x"})};a.useEffect(()=>{de&&de.setAdornedStart(!!te)},[de,te]);const Y=$({},s,{color:ce.color||"primary",disabled:ce.disabled,endAdornment:x,error:ce.error,focused:ce.focused,formControl:de,fullWidth:y,hiddenLabel:ce.hiddenLabel,multiline:k,size:ce.size,startAdornment:te,type:se}),ie=NHe(Y),B=X.root||p.Root||fw,Z=U.root||m.root||{},ye=X.input||p.Input||hw;return re=$({},re,(o=U.input)!=null?o:m.input),r.jsxs(a.Fragment,{children:[!g&&FHe,r.jsxs(B,$({},Z,!xC(B)&&{ownerState:$({},Y,Z.ownerState)},{ref:n,onClick:_e},pe,{className:Nt(ie.root,Z.className,d,Q&&"MuiInputBase-readOnly"),children:[te,r.jsx(dw.Provider,{value:null,children:r.jsx(ye,$({ownerState:Y,"aria-invalid":ce.error,"aria-describedby":i,autoComplete:c,autoFocus:u,defaultValue:f,disabled:ce.disabled,id:D,onAnimationStart:q,name:w,placeholder:J,readOnly:Q,required:ce.required,rows:W,value:ue,onKeyDown:K,onKeyUp:z,type:se},re,!xC(ye)&&{as:H,ownerState:$({},Y,re.ownerState)},{ref:Ne,className:Nt(ie.input,re.className,Q&&"MuiInputBase-readOnly"),onBlur:qe,onChange:Le,onFocus:He}))}),x,V?V($({},ce,{startAdornment:te})):null]}))]})});function MHe(e){return $n("MuiInput",e)}const Dh=$({},Mc,Bn("MuiInput",["root","underline","input"]));function _He(e){return $n("MuiOutlinedInput",e)}const wp=$({},Mc,Bn("MuiOutlinedInput",["root","notchedOutline","input"]));function LHe(e){return $n("MuiFilledInput",e)}const _c=$({},Mc,Bn("MuiFilledInput",["root","underline","input"])),Ape=xs(r.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function $He(e){return $n("MuiAutocomplete",e)}const po=Bn("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var Nre,Fre;const BHe=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionKey","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],WHe=["ref"],UHe=["key"],qHe=["key"],VHe=e=>{const{classes:t,disablePortal:n,expanded:o,focused:s,fullWidth:i,hasClearIcon:c,hasPopupIcon:u,inputFocused:d,popupOpen:p,size:m}=e,f={root:["root",o&&"expanded",s&&"focused",i&&"fullWidth",c&&"hasClearIcon",u&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",d&&"inputFocused"],tag:["tag",`tagSize${zt(m)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",p&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return Ln(f,$He,t)},zHe=it("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{fullWidth:o,hasClearIcon:s,hasPopupIcon:i,inputFocused:c,size:u}=n;return[{[`& .${po.tag}`]:t.tag},{[`& .${po.tag}`]:t[`tagSize${zt(u)}`]},{[`& .${po.inputRoot}`]:t.inputRoot},{[`& .${po.input}`]:t.input},{[`& .${po.input}`]:c&&t.inputFocused},t.root,o&&t.fullWidth,i&&t.hasPopupIcon,s&&t.hasClearIcon]}})({[`&.${po.focused} .${po.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${po.clearIndicator}`]:{visibility:"visible"}},[`& .${po.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${po.inputRoot}`]:{[`.${po.hasPopupIcon}&, .${po.hasClearIcon}&`]:{paddingRight:30},[`.${po.hasPopupIcon}.${po.hasClearIcon}&`]:{paddingRight:56},[`& .${po.input}`]:{width:0,minWidth:30}},[`& .${Dh.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Dh.root}.${Mc.sizeSmall}`]:{[`& .${Dh.input}`]:{padding:"2px 4px 3px 0"}},[`& .${wp.root}`]:{padding:9,[`.${po.hasPopupIcon}&, .${po.hasClearIcon}&`]:{paddingRight:39},[`.${po.hasPopupIcon}.${po.hasClearIcon}&`]:{paddingRight:65},[`& .${po.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${po.endAdornment}`]:{right:9}},[`& .${wp.root}.${Mc.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${po.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${_c.root}`]:{paddingTop:19,paddingLeft:8,[`.${po.hasPopupIcon}&, .${po.hasClearIcon}&`]:{paddingRight:39},[`.${po.hasPopupIcon}.${po.hasClearIcon}&`]:{paddingRight:65},[`& .${_c.input}`]:{padding:"7px 4px"},[`& .${po.endAdornment}`]:{right:9}},[`& .${_c.root}.${Mc.sizeSmall}`]:{paddingBottom:1,[`& .${_c.input}`]:{padding:"2.5px 4px"}},[`& .${Mc.hiddenLabel}`]:{paddingTop:8},[`& .${_c.root}.${Mc.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${po.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${_c.root}.${Mc.hiddenLabel}.${Mc.sizeSmall}`]:{[`& .${po.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${po.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${po.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${po.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${po.inputRoot}`]:{flexWrap:"wrap"}}}]}),HHe=it("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(e,t)=>t.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),GHe=it(br,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(e,t)=>t.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),KHe=it(br,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:e},t)=>$({},t.popupIndicator,e.popupOpen&&t.popupIndicatorOpen)})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),QHe=it(Xp,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${po.option}`]:t.option},t.popper,n.disablePortal&&t.popperDisablePortal]}})(({theme:e})=>({zIndex:(e.vars||e).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]})),YHe=it(_s,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(e,t)=>t.paper})(({theme:e})=>$({},e.typography.body1,{overflow:"auto"})),JHe=it("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(e,t)=>t.loading})(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"})),XHe=it("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(e,t)=>t.noOptions})(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"})),ZHe=it("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(e,t)=>t.listbox})(({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${po.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${po.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${po.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Wr.alpha(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${po.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Wr.alpha(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${po.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Wr.alpha(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}}})),eGe=it(uw,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(e,t)=>t.groupLabel})(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8})),tGe=it("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(e,t)=>t.groupUl})({padding:0,[`& .${po.option}`]:{paddingLeft:24}}),Npe=a.forwardRef(function(t,n){var o,s,i,c;const u=Ir({props:t,name:"MuiAutocomplete"}),{autoComplete:d=!1,autoHighlight:p=!1,autoSelect:m=!1,blurOnSelect:f=!1,ChipProps:h,className:g,clearIcon:x=Nre||(Nre=r.jsx(Cpe,{fontSize:"small"})),clearOnBlur:y=!u.freeSolo,clearOnEscape:D=!1,clearText:v="Clear",closeText:T="Close",componentsProps:I={},defaultValue:P=u.multiple?[]:null,disableClearable:E=!1,disableCloseOnSelect:k=!1,disabled:w=!1,disabledItemsFocusable:A=!1,disableListWrap:F=!1,disablePortal:_=!1,filterSelectedOptions:L=!1,forcePopupIcon:K="auto",freeSolo:z=!1,fullWidth:J=!1,getLimitTagsText:Q=Cn=>`+${Cn}`,getOptionLabel:V,groupBy:W,handleHomeEndKeys:U=!u.freeSolo,includeInputInList:X=!1,limitTags:te=-1,ListboxComponent:se="ul",ListboxProps:he,loading:pe=!1,loadingText:ue="Loading",multiple:ge=!1,noOptionsText:Ce="No options",openOnFocus:Te=!1,openText:Ne="Open",PaperComponent:xe=_s,PopperComponent:me=Xp,popupIcon:de=Fre||(Fre=r.jsx(Ape,{})),readOnly:ce=!1,renderGroup:ee,renderInput:De,renderOption:ke,renderTags:He,selectOnFocus:qe=!u.freeSolo,size:Le="medium",slotProps:_e={}}=u,H=It(u,BHe),{getRootProps:re,getInputProps:q,getInputLabelProps:Y,getPopupIndicatorProps:ie,getClearProps:B,getTagProps:Z,getListboxProps:ye,getOptionProps:Ie,value:le,dirty:fe,expanded:Ae,id:Se,popupOpen:be,focused:Me,focusedTag:we,anchorEl:Ge,setAnchorEl:We,inputValue:Ee,groupedOptions:Xe}=YVe($({},u,{componentName:"Autocomplete"})),ot=!E&&!w&&fe&&!ce,ze=(!z||K===!0)&&K!==!1,{onMouseDown:tt}=q(),{ref:ft}=he??{},ht=ye(),{ref:en}=ht,un=It(ht,WHe),Je=xo(en,ft),Tt=V||(Cn=>{var gr;return(gr=Cn.label)!=null?gr:Cn}),Jt=$({},u,{disablePortal:_,expanded:Ae,focused:Me,fullWidth:J,getOptionLabel:Tt,hasClearIcon:ot,hasPopupIcon:ze,inputFocused:we===-1,popupOpen:be,size:Le}),st=VHe(Jt);let Dt;if(ge&&le.length>0){const Cn=gr=>$({className:st.tag,disabled:w},Z(gr));He?Dt=He(le,Cn,Jt):Dt=le.map((gr,sn)=>{const Sr=Cn({index:sn}),{key:ts}=Sr,ds=It(Sr,UHe);return r.jsx(XI,$({label:Tt(gr),size:Le},ds,h),ts)})}if(te>-1&&Array.isArray(Dt)){const Cn=Dt.length-te;!Me&&Cn>0&&(Dt=Dt.splice(0,te),Dt.push(r.jsx("span",{className:st.tag,children:Q(Cn)},Dt.length)))}const An=ee||(Cn=>r.jsxs("li",{children:[r.jsx(eGe,{className:st.groupLabel,ownerState:Jt,component:"div",children:Cn.group}),r.jsx(tGe,{className:st.groupUl,ownerState:Jt,children:Cn.children})]},Cn.key)),pt=ke||((Cn,gr)=>{const{key:sn}=Cn,Sr=It(Cn,qHe);return r.jsx("li",$({},Sr,{children:Tt(gr)}),sn)}),Rt=(Cn,gr)=>{const sn=Ie({option:Cn,index:gr});return pt($({},sn,{className:st.option}),Cn,{selected:sn["aria-selected"],index:gr,inputValue:Ee},Jt)},Ze=(o=_e.clearIndicator)!=null?o:I.clearIndicator,dn=(s=_e.paper)!=null?s:I.paper,Yt=(i=_e.popper)!=null?i:I.popper,lt=(c=_e.popupIndicator)!=null?c:I.popupIndicator,Qe=Cn=>r.jsx(QHe,$({as:me,disablePortal:_,style:{width:Ge?Ge.clientWidth:null},ownerState:Jt,role:"presentation",anchorEl:Ge,open:be},Yt,{className:Nt(st.popper,Yt==null?void 0:Yt.className),children:r.jsx(YHe,$({ownerState:Jt,as:xe},dn,{className:Nt(st.paper,dn==null?void 0:dn.className),children:Cn}))}));let rn=null;return Xe.length>0?rn=Qe(r.jsx(ZHe,$({as:se,className:st.listbox,ownerState:Jt},un,he,{ref:Je,children:Xe.map((Cn,gr)=>W?An({key:Cn.key,group:Cn.group,children:Cn.options.map((sn,Sr)=>Rt(sn,Cn.index+Sr))}):Rt(Cn,gr))}))):pe&&Xe.length===0?rn=Qe(r.jsx(JHe,{className:st.loading,ownerState:Jt,children:ue})):Xe.length===0&&!z&&!pe&&(rn=Qe(r.jsx(XHe,{className:st.noOptions,ownerState:Jt,role:"presentation",onMouseDown:Cn=>{Cn.preventDefault()},children:Ce}))),r.jsxs(a.Fragment,{children:[r.jsx(zHe,$({ref:n,className:Nt(st.root,g),ownerState:Jt},re(H),{children:De({id:Se,disabled:w,fullWidth:!0,size:Le==="small"?"small":void 0,InputLabelProps:Y(),InputProps:$({ref:We,className:st.inputRoot,startAdornment:Dt,onClick:Cn=>{Cn.target===Cn.currentTarget&&tt(Cn)}},(ot||ze)&&{endAdornment:r.jsxs(HHe,{className:st.endAdornment,ownerState:Jt,children:[ot?r.jsx(GHe,$({},B(),{"aria-label":v,title:v,ownerState:Jt},Ze,{className:Nt(st.clearIndicator,Ze==null?void 0:Ze.className),children:x})):null,ze?r.jsx(KHe,$({},ie(),{disabled:w,"aria-label":be?T:Ne,title:be?T:Ne,ownerState:Jt},lt,{className:Nt(st.popupIndicator,lt==null?void 0:lt.className),children:de})):null]})}),inputProps:$({className:st.input,disabled:w,readOnly:ce},q())})})),Ge?rn:null]})}),nGe=xs(r.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function rGe(e){return $n("MuiAvatar",e)}Bn("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const oGe=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],sGe=e=>{const{classes:t,variant:n,colorDefault:o}=e;return Ln({root:["root",n,o&&"colorDefault"],img:["img"],fallback:["fallback"]},rGe,t)},aGe=it("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:$({color:(e.vars||e).palette.background.default},e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:$({backgroundColor:e.palette.grey[400]},e.applyStyles("dark",{backgroundColor:e.palette.grey[600]})))}]})),iGe=it("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),lGe=it(nGe,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});function cGe({crossOrigin:e,referrerPolicy:t,src:n,srcSet:o}){const[s,i]=a.useState(!1);return a.useEffect(()=>{if(!n&&!o)return;i(!1);let c=!0;const u=new Image;return u.onload=()=>{c&&i("loaded")},u.onerror=()=>{c&&i("error")},u.crossOrigin=e,u.referrerPolicy=t,u.src=n,o&&(u.srcset=o),()=>{c=!1}},[e,t,n,o]),s}const uGe=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiAvatar"}),{alt:s,children:i,className:c,component:u="div",slots:d={},slotProps:p={},imgProps:m,sizes:f,src:h,srcSet:g,variant:x="circular"}=o,y=It(o,oGe);let D=null;const v=cGe($({},m,{src:h,srcSet:g})),T=h||g,I=T&&v!=="error",P=$({},o,{colorDefault:!I,component:u,variant:x}),E=sGe(P),[k,w]=XL("img",{className:E.img,elementType:iGe,externalForwardedProps:{slots:d,slotProps:{img:$({},m,p.img)}},additionalProps:{alt:s,src:h,srcSet:g,sizes:f},ownerState:P});return I?D=r.jsx(k,$({},w)):i||i===0?D=i:T&&s?D=s[0]:D=r.jsx(lGe,{ownerState:P,className:E.fallback}),r.jsx(aGe,$({as:u,ownerState:P,className:Nt(E.root,c),ref:n},y,{children:D}))}),dGe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],pGe={entering:{opacity:1},entered:{opacity:1}},Kh=a.forwardRef(function(t,n){const o=qs(),s={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{addEndListener:i,appear:c=!0,children:u,easing:d,in:p,onEnter:m,onEntered:f,onEntering:h,onExit:g,onExited:x,onExiting:y,style:D,timeout:v=s,TransitionComponent:T=ic}=t,I=It(t,dGe),P=a.useRef(null),E=xo(P,u.ref,n),k=J=>Q=>{if(J){const V=P.current;Q===void 0?J(V):J(V,Q)}},w=k(h),A=k((J,Q)=>{e3(J);const V=uf({style:D,timeout:v,easing:d},{mode:"enter"});J.style.webkitTransition=o.transitions.create("opacity",V),J.style.transition=o.transitions.create("opacity",V),m&&m(J,Q)}),F=k(f),_=k(y),L=k(J=>{const Q=uf({style:D,timeout:v,easing:d},{mode:"exit"});J.style.webkitTransition=o.transitions.create("opacity",Q),J.style.transition=o.transitions.create("opacity",Q),g&&g(J)}),K=k(x),z=J=>{i&&i(P.current,J)};return r.jsx(T,$({appear:c,in:p,nodeRef:P,onEnter:A,onEntered:F,onEntering:w,onExit:L,onExited:K,onExiting:_,addEndListener:z,timeout:v},I,{children:(J,Q)=>a.cloneElement(u,$({style:$({opacity:0,visibility:J==="exited"&&!p?"hidden":void 0},pGe[J],D,u.props.style),ref:E},Q))}))});function mGe(e){return $n("MuiBackdrop",e)}Bn("MuiBackdrop",["root","invisible"]);const fGe=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],hGe=e=>{const{classes:t,invisible:n}=e;return Ln({root:["root",n&&"invisible"]},mGe,t)},gGe=it("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})(({ownerState:e})=>$({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),l3=a.forwardRef(function(t,n){var o,s,i;const c=Ir({props:t,name:"MuiBackdrop"}),{children:u,className:d,component:p="div",components:m={},componentsProps:f={},invisible:h=!1,open:g,slotProps:x={},slots:y={},TransitionComponent:D=Kh,transitionDuration:v}=c,T=It(c,fGe),I=$({},c,{component:p,invisible:h}),P=hGe(I),E=(o=x.root)!=null?o:f.root;return r.jsx(D,$({in:g,timeout:v},T,{children:r.jsx(gGe,$({"aria-hidden":!0},E,{as:(s=(i=y.root)!=null?i:m.Root)!=null?s:p,className:Nt(P.root,d,E==null?void 0:E.className),ownerState:$({},I,E==null?void 0:E.ownerState),classes:P,ref:n,children:u}))}))});function bGe(e){const{badgeContent:t,invisible:n=!1,max:o=99,showZero:s=!1}=e,i=JB({badgeContent:t,max:o});let c=n;n===!1&&t===0&&!s&&(c=!0);const{badgeContent:u,max:d=o}=c?i:e,p=u&&Number(u)>d?`${d}+`:u;return{badgeContent:u,invisible:c,max:d,displayValue:p}}function xGe(e){return $n("MuiBadge",e)}const mh=Bn("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),yGe=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],m_=10,f_=4,CGe=e=>{const{color:t,anchorOrigin:n,invisible:o,overlap:s,variant:i,classes:c={}}=e,u={root:["root"],badge:["badge",i,o&&"invisible",`anchorOrigin${zt(n.vertical)}${zt(n.horizontal)}`,`anchorOrigin${zt(n.vertical)}${zt(n.horizontal)}${zt(s)}`,`overlap${zt(s)}`,t!=="default"&&`color${zt(t)}`]};return Ln(u,xGe,c)},DGe=it("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),SGe=it("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.badge,t[n.variant],t[`anchorOrigin${zt(n.anchorOrigin.vertical)}${zt(n.anchorOrigin.horizontal)}${zt(n.overlap)}`],n.color!=="default"&&t[`color${zt(n.color)}`],n.invisible&&t.invisible]}})(({theme:e})=>{var t;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:m_*2,lineHeight:1,padding:"0 6px",height:m_*2,borderRadius:m_,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen}),variants:[...Object.keys(((t=e.vars)!=null?t:e).palette).filter(n=>{var o,s;return((o=e.vars)!=null?o:e).palette[n].main&&((s=e.vars)!=null?s:e).palette[n].contrastText}).map(n=>({props:{color:n},style:{backgroundColor:(e.vars||e).palette[n].main,color:(e.vars||e).palette[n].contrastText}})),{props:{variant:"dot"},style:{borderRadius:f_,height:f_*2,minWidth:f_*2,padding:0}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${mh.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${mh.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${mh.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${mh.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${mh.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${mh.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${mh.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${mh.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}]}}),Fpe=a.forwardRef(function(t,n){var o,s,i,c,u,d;const p=Ir({props:t,name:"MuiBadge"}),{anchorOrigin:m={vertical:"top",horizontal:"right"},className:f,component:h,components:g={},componentsProps:x={},children:y,overlap:D="rectangular",color:v="default",invisible:T=!1,max:I=99,badgeContent:P,slots:E,slotProps:k,showZero:w=!1,variant:A="standard"}=p,F=It(p,yGe),{badgeContent:_,invisible:L,max:K,displayValue:z}=bGe({max:I,invisible:T,badgeContent:P,showZero:w}),J=JB({anchorOrigin:m,color:v,overlap:D,variant:A,badgeContent:P}),Q=L||_==null&&A!=="dot",{color:V=v,overlap:W=D,anchorOrigin:U=m,variant:X=A}=Q?J:p,te=X!=="dot"?z:void 0,se=$({},p,{badgeContent:_,invisible:Q,max:K,displayValue:te,showZero:w,anchorOrigin:U,color:V,overlap:W,variant:X}),he=CGe(se),pe=(o=(s=E==null?void 0:E.root)!=null?s:g.Root)!=null?o:DGe,ue=(i=(c=E==null?void 0:E.badge)!=null?c:g.Badge)!=null?i:SGe,ge=(u=k==null?void 0:k.root)!=null?u:x.root,Ce=(d=k==null?void 0:k.badge)!=null?d:x.badge,Te=Yc({elementType:pe,externalSlotProps:ge,externalForwardedProps:F,additionalProps:{ref:n,as:h},ownerState:se,className:Nt(ge==null?void 0:ge.className,he.root,f)}),Ne=Yc({elementType:ue,externalSlotProps:Ce,ownerState:se,className:Nt(he.badge,Ce==null?void 0:Ce.className)});return r.jsxs(pe,$({},Te,{children:[y,r.jsx(ue,$({},Ne,{children:te}))]}))}),vGe=Bn("MuiBox",["root"]),jGe=ow(),jt=Jde({themeId:Ab,defaultTheme:jGe,defaultClassName:vGe.root,generateClassName:ew.generate});function IGe(e){return $n("MuiButton",e)}const KE=Bn("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),c3=a.createContext({}),Mpe=a.createContext(void 0),TGe=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],OGe=e=>{const{color:t,disableElevation:n,fullWidth:o,size:s,variant:i,classes:c}=e,u={root:["root",i,`${i}${zt(t)}`,`size${zt(s)}`,`${i}Size${zt(s)}`,`color${zt(t)}`,n&&"disableElevation",o&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${zt(s)}`],endIcon:["icon","endIcon",`iconSize${zt(s)}`]},d=Ln(u,IGe,c);return $({},c,d)},_pe=e=>$({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),EGe=it(qd,{shouldForwardProp:e=>Ha(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${zt(n.color)}`],t[`size${zt(n.size)}`],t[`${n.variant}Size${zt(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var n,o;const s=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],i=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return $({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":$({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Wr.alpha(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Wr.alpha(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Wr.alpha(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:i,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":$({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${KE.focusVisible}`]:$({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${KE.disabled}`]:$({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${Wr.alpha(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(n=(o=e.palette).getContrastText)==null?void 0:n.call(o,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:s,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${KE.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${KE.disabled}`]:{boxShadow:"none"}}),PGe=it("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${zt(n.size)}`]]}})(({ownerState:e})=>$({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},_pe(e))),RGe=it("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${zt(n.size)}`]]}})(({ownerState:e})=>$({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},_pe(e))),fa=a.forwardRef(function(t,n){const o=a.useContext(c3),s=a.useContext(Mpe),i=bC(o,t),c=Ir({props:i,name:"MuiButton"}),{children:u,color:d="primary",component:p="button",className:m,disabled:f=!1,disableElevation:h=!1,disableFocusRipple:g=!1,endIcon:x,focusVisibleClassName:y,fullWidth:D=!1,size:v="medium",startIcon:T,type:I,variant:P="text"}=c,E=It(c,TGe),k=$({},c,{color:d,component:p,disabled:f,disableElevation:h,disableFocusRipple:g,fullWidth:D,size:v,type:I,variant:P}),w=OGe(k),A=T&&r.jsx(PGe,{className:w.startIcon,ownerState:k,children:T}),F=x&&r.jsx(RGe,{className:w.endIcon,ownerState:k,children:x}),_=s||"";return r.jsxs(EGe,$({ownerState:k,className:Nt(o.className,w.root,m,_),component:p,disabled:f,focusRipple:!g,focusVisibleClassName:Nt(w.focusVisible,y),ref:n,type:I},E,{classes:w,children:[A,u,F]}))});function wGe(e){return $n("MuiButtonGroup",e)}const Bi=Bn("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),kGe=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],AGe=(e,t)=>{const{ownerState:n}=e;return[{[`& .${Bi.grouped}`]:t.grouped},{[`& .${Bi.grouped}`]:t[`grouped${zt(n.orientation)}`]},{[`& .${Bi.grouped}`]:t[`grouped${zt(n.variant)}`]},{[`& .${Bi.grouped}`]:t[`grouped${zt(n.variant)}${zt(n.orientation)}`]},{[`& .${Bi.grouped}`]:t[`grouped${zt(n.variant)}${zt(n.color)}`]},{[`& .${Bi.firstButton}`]:t.firstButton},{[`& .${Bi.lastButton}`]:t.lastButton},{[`& .${Bi.middleButton}`]:t.middleButton},t.root,t[n.variant],n.disableElevation===!0&&t.disableElevation,n.fullWidth&&t.fullWidth,n.orientation==="vertical"&&t.vertical]},NGe=e=>{const{classes:t,color:n,disabled:o,disableElevation:s,fullWidth:i,orientation:c,variant:u}=e,d={root:["root",u,c==="vertical"&&"vertical",i&&"fullWidth",s&&"disableElevation"],grouped:["grouped",`grouped${zt(c)}`,`grouped${zt(u)}`,`grouped${zt(u)}${zt(c)}`,`grouped${zt(u)}${zt(n)}`,o&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Ln(d,wGe,t)},FGe=it("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:AGe})(({theme:e,ownerState:t})=>$({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},t.orientation==="vertical"&&{flexDirection:"column"},{[`& .${Bi.grouped}`]:$({minWidth:40,"&:hover":$({},t.variant==="contained"&&{boxShadow:"none"})},t.variant==="contained"&&{boxShadow:"none"}),[`& .${Bi.firstButton},& .${Bi.middleButton}`]:$({},t.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},t.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},t.variant==="text"&&t.orientation==="horizontal"&&{borderRight:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${Bi.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="text"&&t.orientation==="vertical"&&{borderBottom:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${Bi.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="text"&&t.color!=="inherit"&&{borderColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:Wr.alpha(e.palette[t.color].main,.5)},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"transparent"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"transparent"},t.variant==="contained"&&t.orientation==="horizontal"&&{borderRight:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${Bi.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.orientation==="vertical"&&{borderBottom:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${Bi.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.color!=="inherit"&&{borderColor:(e.vars||e).palette[t.color].dark},{"&:hover":$({},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"currentColor"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),[`& .${Bi.lastButton},& .${Bi.middleButton}`]:$({},t.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},t.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},t.variant==="outlined"&&t.orientation==="horizontal"&&{marginLeft:-1},t.variant==="outlined"&&t.orientation==="vertical"&&{marginTop:-1})})),Qp=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiButtonGroup"}),{children:s,className:i,color:c="primary",component:u="div",disabled:d=!1,disableElevation:p=!1,disableFocusRipple:m=!1,disableRipple:f=!1,fullWidth:h=!1,orientation:g="horizontal",size:x="medium",variant:y="outlined"}=o,D=It(o,kGe),v=$({},o,{color:c,component:u,disabled:d,disableElevation:p,disableFocusRipple:m,disableRipple:f,fullWidth:h,orientation:g,size:x,variant:y}),T=NGe(v),I=a.useMemo(()=>({className:T.grouped,color:c,disabled:d,disableElevation:p,disableFocusRipple:m,disableRipple:f,fullWidth:h,size:x,variant:y}),[c,d,p,m,f,h,x,y,T.grouped]),P=gUe(s),E=P.length,k=w=>{const A=w===0,F=w===E-1;return A&&F?"":A?T.firstButton:F?T.lastButton:T.middleButton};return r.jsx(FGe,$({as:u,role:"group",className:Nt(T.root,i),ref:n,ownerState:v},D,{children:r.jsx(c3.Provider,{value:I,children:P.map((w,A)=>r.jsx(Mpe.Provider,{value:k(A),children:w},A))})}))});function MGe(e){return $n("PrivateSwitchBase",e)}Bn("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const _Ge=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],LGe=e=>{const{classes:t,checked:n,disabled:o,edge:s}=e,i={root:["root",n&&"checked",o&&"disabled",s&&`edge${zt(s)}`],input:["input"]};return Ln(i,MGe,t)},$Ge=it(qd)(({ownerState:e})=>$({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),BGe=it("input",{shouldForwardProp:Ha})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),u3=a.forwardRef(function(t,n){const{autoFocus:o,checked:s,checkedIcon:i,className:c,defaultChecked:u,disabled:d,disableFocusRipple:p=!1,edge:m=!1,icon:f,id:h,inputProps:g,inputRef:x,name:y,onBlur:D,onChange:v,onFocus:T,readOnly:I,required:P=!1,tabIndex:E,type:k,value:w}=t,A=It(t,_Ge),[F,_]=Vi({controlled:s,default:!!u,name:"SwitchBase",state:"checked"}),L=Zp(),K=X=>{T&&T(X),L&&L.onFocus&&L.onFocus(X)},z=X=>{D&&D(X),L&&L.onBlur&&L.onBlur(X)},J=X=>{if(X.nativeEvent.defaultPrevented)return;const te=X.target.checked;_(te),v&&v(X,te)};let Q=d;L&&typeof Q>"u"&&(Q=L.disabled);const V=k==="checkbox"||k==="radio",W=$({},t,{checked:F,disabled:Q,disableFocusRipple:p,edge:m}),U=LGe(W);return r.jsxs($Ge,$({component:"span",className:Nt(U.root,c),centerRipple:!0,focusRipple:!p,disabled:Q,tabIndex:null,role:void 0,onFocus:K,onBlur:z,ownerState:W,ref:n},A,{children:[r.jsx(BGe,$({autoFocus:o,checked:s,defaultChecked:u,className:U.input,disabled:Q,id:V?h:void 0,name:y,onChange:J,readOnly:I,ref:x,required:P,ownerState:W,tabIndex:E,type:k},k==="checkbox"&&w===void 0?{}:{value:w},g)),F?i:f]}))}),WGe=xs(r.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),UGe=xs(r.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),qGe=xs(r.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function VGe(e){return $n("MuiCheckbox",e)}const h_=Bn("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),zGe=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],HGe=e=>{const{classes:t,indeterminate:n,color:o,size:s}=e,i={root:["root",n&&"indeterminate",`color${zt(o)}`,`size${zt(s)}`]},c=Ln(i,VGe,t);return $({},t,c)},GGe=it(u3,{shouldForwardProp:e=>Ha(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t[`size${zt(n.size)}`],n.color!=="default"&&t[`color${zt(n.color)}`]]}})(({theme:e,ownerState:t})=>$({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${t.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Wr.alpha(t.color==="default"?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${h_.checked}, &.${h_.indeterminate}`]:{color:(e.vars||e).palette[t.color].main},[`&.${h_.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),KGe=r.jsx(UGe,{}),QGe=r.jsx(WGe,{}),YGe=r.jsx(qGe,{}),Lpe=a.forwardRef(function(t,n){var o,s;const i=Ir({props:t,name:"MuiCheckbox"}),{checkedIcon:c=KGe,color:u="primary",icon:d=QGe,indeterminate:p=!1,indeterminateIcon:m=YGe,inputProps:f,size:h="medium",className:g}=i,x=It(i,zGe),y=p?m:d,D=p?m:c,v=$({},i,{color:u,indeterminate:p,size:h}),T=HGe(v);return r.jsx(GGe,$({type:"checkbox",inputProps:$({"data-indeterminate":p},f),icon:a.cloneElement(y,{fontSize:(o=y.props.fontSize)!=null?o:h}),checkedIcon:a.cloneElement(D,{fontSize:(s=D.props.fontSize)!=null?s:h}),ownerState:v,ref:n,className:Nt(T.root,g)},x,{classes:T}))});function JGe(e){return $n("MuiCircularProgress",e)}Bn("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const XGe=["className","color","disableShrink","size","style","thickness","value","variant"];let gw=e=>e,Mre,_re,Lre,$re;const fh=44,ZGe=zh(Mre||(Mre=gw`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),e8e=zh(_re||(_re=gw`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),t8e=e=>{const{classes:t,variant:n,color:o,disableShrink:s}=e,i={root:["root",n,`color${zt(o)}`],svg:["svg"],circle:["circle",`circle${zt(n)}`,s&&"circleDisableShrink"]};return Ln(i,JGe,t)},n8e=it("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${zt(n.color)}`]]}})(({ownerState:e,theme:t})=>$({display:"inline-block"},e.variant==="determinate"&&{transition:t.transitions.create("transform")},e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&hC(Lre||(Lre=gw`
      animation: ${0} 1.4s linear infinite;
    `),ZGe)),r8e=it("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),o8e=it("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${zt(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>$({stroke:"currentColor"},e.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&hC($re||($re=gw`
      animation: ${0} 1.4s ease-in-out infinite;
    `),e8e)),RT=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiCircularProgress"}),{className:s,color:i="primary",disableShrink:c=!1,size:u=40,style:d,thickness:p=3.6,value:m=0,variant:f="indeterminate"}=o,h=It(o,XGe),g=$({},o,{color:i,disableShrink:c,size:u,thickness:p,value:m,variant:f}),x=t8e(g),y={},D={},v={};if(f==="determinate"){const T=2*Math.PI*((fh-p)/2);y.strokeDasharray=T.toFixed(3),v["aria-valuenow"]=Math.round(m),y.strokeDashoffset=`${((100-m)/100*T).toFixed(3)}px`,D.transform="rotate(-90deg)"}return r.jsx(n8e,$({className:Nt(x.root,s),style:$({width:u,height:u},D,d),ownerState:g,ref:n,role:"progressbar"},v,h,{children:r.jsx(r8e,{className:x.svg,ownerState:g,viewBox:`${fh/2} ${fh/2} ${fh} ${fh}`,children:r.jsx(o8e,{className:x.circle,style:y,ownerState:g,cx:fh,cy:fh,r:(fh-p)/2,fill:"none",strokeWidth:p})})}))});function Bre(e){return e.substring(2).toLowerCase()}function s8e(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function d3(e){const{children:t,disableReactTree:n=!1,mouseEvent:o="onClick",onClickAway:s,touchEvent:i="onTouchEnd"}=e,c=a.useRef(!1),u=a.useRef(null),d=a.useRef(!1),p=a.useRef(!1);a.useEffect(()=>(setTimeout(()=>{d.current=!0},0),()=>{d.current=!1}),[]);const m=xo(t.ref,u),f=tr(x=>{const y=p.current;p.current=!1;const D=js(u.current);if(!d.current||!u.current||"clientX"in x&&s8e(x,D))return;if(c.current){c.current=!1;return}let v;x.composedPath?v=x.composedPath().indexOf(u.current)>-1:v=!D.documentElement.contains(x.target)||u.current.contains(x.target),!v&&(n||!y)&&s(x)}),h=x=>y=>{p.current=!0;const D=t.props[x];D&&D(y)},g={ref:m};return i!==!1&&(g[i]=h(i)),a.useEffect(()=>{if(i!==!1){const x=Bre(i),y=js(u.current),D=()=>{c.current=!0};return y.addEventListener(x,f),y.addEventListener("touchmove",D),()=>{y.removeEventListener(x,f),y.removeEventListener("touchmove",D)}}},[f,i]),o!==!1&&(g[o]=h(o)),a.useEffect(()=>{if(o!==!1){const x=Bre(o),y=js(u.current);return y.addEventListener(x,f),()=>{y.removeEventListener(x,f)}}},[f,o]),r.jsx(a.Fragment,{children:a.cloneElement(t,g)})}const Br=FUe({createStyledComponent:it("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${zt(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>Ir({props:e,name:"MuiContainer"})}),a8e=(e,t)=>$({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),i8e=e=>$({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),l8e=(e,t=!1)=>{var n;const o={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([c,u])=>{var d;o[e.getColorSchemeSelector(c).replace(/\s*&/,"")]={colorScheme:(d=u.palette)==null?void 0:d.mode}});let s=$({html:a8e(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:$({margin:0},i8e(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},o);const i=(n=e.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return i&&(s=[s,i]),s};function c8e(e){const t=Ir({props:e,name:"MuiCssBaseline"}),{children:n,enableColorScheme:o=!1}=t;return r.jsxs(a.Fragment,{children:[r.jsx(kpe,{styles:s=>l8e(s,o)}),n]})}function u8e(e){const t=js(e);return t.body===e?ll(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function yI(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Wre(e){return parseInt(ll(e).getComputedStyle(e).paddingRight,10)||0}function d8e(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,o=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||o}function Ure(e,t,n,o,s){const i=[t,n,...o];[].forEach.call(e.children,c=>{const u=i.indexOf(c)===-1,d=!d8e(c);u&&d&&yI(c,s)})}function g_(e,t){let n=-1;return e.some((o,s)=>t(o)?(n=s,!0):!1),n}function p8e(e,t){const n=[],o=e.container;if(!t.disableScrollLock){if(u8e(o)){const c=spe(js(o));n.push({value:o.style.paddingRight,property:"padding-right",el:o}),o.style.paddingRight=`${Wre(o)+c}px`;const u=js(o).querySelectorAll(".mui-fixed");[].forEach.call(u,d=>{n.push({value:d.style.paddingRight,property:"padding-right",el:d}),d.style.paddingRight=`${Wre(d)+c}px`})}let i;if(o.parentNode instanceof DocumentFragment)i=js(o).body;else{const c=o.parentElement,u=ll(o);i=(c==null?void 0:c.nodeName)==="HTML"&&u.getComputedStyle(c).overflowY==="scroll"?c:o}n.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{n.forEach(({value:i,el:c,property:u})=>{i?c.style.setProperty(u,i):c.style.removeProperty(u)})}}function m8e(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class f8e{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,n){let o=this.modals.indexOf(t);if(o!==-1)return o;o=this.modals.length,this.modals.push(t),t.modalRef&&yI(t.modalRef,!1);const s=m8e(n);Ure(n,t.mount,t.modalRef,s,!0);const i=g_(this.containers,c=>c.container===n);return i!==-1?(this.containers[i].modals.push(t),o):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:s}),o)}mount(t,n){const o=g_(this.containers,i=>i.modals.indexOf(t)!==-1),s=this.containers[o];s.restore||(s.restore=p8e(s,n))}remove(t,n=!0){const o=this.modals.indexOf(t);if(o===-1)return o;const s=g_(this.containers,c=>c.modals.indexOf(t)!==-1),i=this.containers[s];if(i.modals.splice(i.modals.indexOf(t),1),this.modals.splice(o,1),i.modals.length===0)i.restore&&i.restore(),t.modalRef&&yI(t.modalRef,n),Ure(i.container,t.mount,t.modalRef,i.hiddenSiblings,!1),this.containers.splice(s,1);else{const c=i.modals[i.modals.length-1];c.modalRef&&yI(c.modalRef,!1)}return o}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const h8e=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function g8e(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function b8e(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=o=>e.ownerDocument.querySelector(`input[type="radio"]${o}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function x8e(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||b8e(e))}function y8e(e){const t=[],n=[];return Array.from(e.querySelectorAll(h8e)).forEach((o,s)=>{const i=g8e(o);i===-1||!x8e(o)||(i===0?t.push(o):n.push({documentOrder:s,tabIndex:i,node:o}))}),n.sort((o,s)=>o.tabIndex===s.tabIndex?o.documentOrder-s.documentOrder:o.tabIndex-s.tabIndex).map(o=>o.node).concat(t)}function C8e(){return!0}function $pe(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:o=!1,disableRestoreFocus:s=!1,getTabbable:i=y8e,isEnabled:c=C8e,open:u}=e,d=a.useRef(!1),p=a.useRef(null),m=a.useRef(null),f=a.useRef(null),h=a.useRef(null),g=a.useRef(!1),x=a.useRef(null),y=xo(t.ref,x),D=a.useRef(null);a.useEffect(()=>{!u||!x.current||(g.current=!n)},[n,u]),a.useEffect(()=>{if(!u||!x.current)return;const I=js(x.current);return x.current.contains(I.activeElement)||(x.current.hasAttribute("tabIndex")||x.current.setAttribute("tabIndex","-1"),g.current&&x.current.focus()),()=>{s||(f.current&&f.current.focus&&(d.current=!0,f.current.focus()),f.current=null)}},[u]),a.useEffect(()=>{if(!u||!x.current)return;const I=js(x.current),P=w=>{D.current=w,!(o||!c()||w.key!=="Tab")&&I.activeElement===x.current&&w.shiftKey&&(d.current=!0,m.current&&m.current.focus())},E=()=>{const w=x.current;if(w===null)return;if(!I.hasFocus()||!c()||d.current){d.current=!1;return}if(w.contains(I.activeElement)||o&&I.activeElement!==p.current&&I.activeElement!==m.current)return;if(I.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!g.current)return;let A=[];if((I.activeElement===p.current||I.activeElement===m.current)&&(A=i(x.current)),A.length>0){var F,_;const L=!!((F=D.current)!=null&&F.shiftKey&&((_=D.current)==null?void 0:_.key)==="Tab"),K=A[0],z=A[A.length-1];typeof K!="string"&&typeof z!="string"&&(L?z.focus():K.focus())}else w.focus()};I.addEventListener("focusin",E),I.addEventListener("keydown",P,!0);const k=setInterval(()=>{I.activeElement&&I.activeElement.tagName==="BODY"&&E()},50);return()=>{clearInterval(k),I.removeEventListener("focusin",E),I.removeEventListener("keydown",P,!0)}},[n,o,s,c,u,i]);const v=I=>{f.current===null&&(f.current=I.relatedTarget),g.current=!0,h.current=I.target;const P=t.props.onFocus;P&&P(I)},T=I=>{f.current===null&&(f.current=I.relatedTarget),g.current=!0};return r.jsxs(a.Fragment,{children:[r.jsx("div",{tabIndex:u?0:-1,onFocus:T,ref:p,"data-testid":"sentinelStart"}),a.cloneElement(t,{ref:y,onFocus:v}),r.jsx("div",{tabIndex:u?0:-1,onFocus:T,ref:m,"data-testid":"sentinelEnd"})]})}function D8e(e){return typeof e=="function"?e():e}function S8e(e){return e?e.props.hasOwnProperty("in"):!1}const v8e=new f8e;function j8e(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:o=!1,manager:s=v8e,closeAfterTransition:i=!1,onTransitionEnter:c,onTransitionExited:u,children:d,onClose:p,open:m,rootRef:f}=e,h=a.useRef({}),g=a.useRef(null),x=a.useRef(null),y=xo(x,f),[D,v]=a.useState(!m),T=S8e(d);let I=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(I=!1);const P=()=>js(g.current),E=()=>(h.current.modalRef=x.current,h.current.mount=g.current,h.current),k=()=>{s.mount(E(),{disableScrollLock:o}),x.current&&(x.current.scrollTop=0)},w=tr(()=>{const V=D8e(t)||P().body;s.add(E(),V),x.current&&k()}),A=a.useCallback(()=>s.isTopModal(E()),[s]),F=tr(V=>{g.current=V,V&&(m&&A()?k():x.current&&yI(x.current,I))}),_=a.useCallback(()=>{s.remove(E(),I)},[I,s]);a.useEffect(()=>()=>{_()},[_]),a.useEffect(()=>{m?w():(!T||!i)&&_()},[m,_,T,i,w]);const L=V=>W=>{var U;(U=V.onKeyDown)==null||U.call(V,W),!(W.key!=="Escape"||W.which===229||!A())&&(n||(W.stopPropagation(),p&&p(W,"escapeKeyDown")))},K=V=>W=>{var U;(U=V.onClick)==null||U.call(V,W),W.target===W.currentTarget&&p&&p(W,"backdropClick")};return{getRootProps:(V={})=>{const W=ipe(e);delete W.onTransitionEnter,delete W.onTransitionExited;const U=$({},W,V);return $({role:"presentation"},U,{onKeyDown:L(U),ref:y})},getBackdropProps:(V={})=>{const W=V;return $({"aria-hidden":!0},W,{onClick:K(W),open:m})},getTransitionProps:()=>{const V=()=>{v(!1),c&&c()},W=()=>{v(!0),u&&u(),i&&_()};return{onEnter:tR(V,d==null?void 0:d.props.onEnter),onExited:tR(W,d==null?void 0:d.props.onExited)}},rootRef:y,portalRef:F,isTopModal:A,exited:D,hasTransition:T}}function I8e(e){return $n("MuiModal",e)}Bn("MuiModal",["root","hidden","backdrop"]);const T8e=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],O8e=e=>{const{open:t,exited:n,classes:o}=e;return Ln({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},I8e,o)},E8e=it("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(({theme:e,ownerState:t})=>$({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),P8e=it(l3,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),p3=a.forwardRef(function(t,n){var o,s,i,c,u,d;const p=Ir({name:"MuiModal",props:t}),{BackdropComponent:m=P8e,BackdropProps:f,className:h,closeAfterTransition:g=!1,children:x,container:y,component:D,components:v={},componentsProps:T={},disableAutoFocus:I=!1,disableEnforceFocus:P=!1,disableEscapeKeyDown:E=!1,disablePortal:k=!1,disableRestoreFocus:w=!1,disableScrollLock:A=!1,hideBackdrop:F=!1,keepMounted:_=!1,onBackdropClick:L,open:K,slotProps:z,slots:J}=p,Q=It(p,T8e),V=$({},p,{closeAfterTransition:g,disableAutoFocus:I,disableEnforceFocus:P,disableEscapeKeyDown:E,disablePortal:k,disableRestoreFocus:w,disableScrollLock:A,hideBackdrop:F,keepMounted:_}),{getRootProps:W,getBackdropProps:U,getTransitionProps:X,portalRef:te,isTopModal:se,exited:he,hasTransition:pe}=j8e($({},V,{rootRef:n})),ue=$({},V,{exited:he}),ge=O8e(ue),Ce={};if(x.props.tabIndex===void 0&&(Ce.tabIndex="-1"),pe){const{onEnter:ee,onExited:De}=X();Ce.onEnter=ee,Ce.onExited=De}const Te=(o=(s=J==null?void 0:J.root)!=null?s:v.Root)!=null?o:E8e,Ne=(i=(c=J==null?void 0:J.backdrop)!=null?c:v.Backdrop)!=null?i:m,xe=(u=z==null?void 0:z.root)!=null?u:T.root,me=(d=z==null?void 0:z.backdrop)!=null?d:T.backdrop,de=Yc({elementType:Te,externalSlotProps:xe,externalForwardedProps:Q,getSlotProps:W,additionalProps:{ref:n,as:D},ownerState:ue,className:Nt(h,xe==null?void 0:xe.className,ge==null?void 0:ge.root,!ue.open&&ue.exited&&(ge==null?void 0:ge.hidden))}),ce=Yc({elementType:Ne,externalSlotProps:me,additionalProps:f,getSlotProps:ee=>U($({},ee,{onClick:De=>{L&&L(De),ee!=null&&ee.onClick&&ee.onClick(De)}})),className:Nt(me==null?void 0:me.className,f==null?void 0:f.className,ge==null?void 0:ge.backdrop),ownerState:ue});return!_&&!K&&(!pe||he)?null:r.jsx(wpe,{ref:te,container:y,disablePortal:k,children:r.jsxs(Te,$({},de,{children:[!F&&m?r.jsx(Ne,$({},ce)):null,r.jsx($pe,{disableEnforceFocus:P,disableAutoFocus:I,disableRestoreFocus:w,isEnabled:se,open:K,children:a.cloneElement(x,Ce)})]}))})});function R8e(e){return $n("MuiDialog",e)}const CI=Bn("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Bpe=a.createContext({}),w8e=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],k8e=it(l3,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),A8e=e=>{const{classes:t,scroll:n,maxWidth:o,fullWidth:s,fullScreen:i}=e,c={root:["root"],container:["container",`scroll${zt(n)}`],paper:["paper",`paperScroll${zt(n)}`,`paperWidth${zt(String(o))}`,s&&"paperFullWidth",i&&"paperFullScreen"]};return Ln(c,R8e,t)},N8e=it(p3,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),F8e=it("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${zt(n.scroll)}`]]}})(({ownerState:e})=>$({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),M8e=it(_s,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${zt(n.scroll)}`],t[`paperWidth${zt(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(({theme:e,ownerState:t})=>$({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${CI.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${CI.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${CI.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Wpe=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiDialog"}),s=qs(),i={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{"aria-describedby":c,"aria-labelledby":u,BackdropComponent:d,BackdropProps:p,children:m,className:f,disableEscapeKeyDown:h=!1,fullScreen:g=!1,fullWidth:x=!1,maxWidth:y="sm",onBackdropClick:D,onClick:v,onClose:T,open:I,PaperComponent:P=_s,PaperProps:E={},scroll:k="paper",TransitionComponent:w=Kh,transitionDuration:A=i,TransitionProps:F}=o,_=It(o,w8e),L=$({},o,{disableEscapeKeyDown:h,fullScreen:g,fullWidth:x,maxWidth:y,scroll:k}),K=A8e(L),z=a.useRef(),J=U=>{z.current=U.target===U.currentTarget},Q=U=>{v&&v(U),z.current&&(z.current=null,D&&D(U),T&&T(U,"backdropClick"))},V=rd(u),W=a.useMemo(()=>({titleId:V}),[V]);return r.jsx(N8e,$({className:Nt(K.root,f),closeAfterTransition:!0,components:{Backdrop:k8e},componentsProps:{backdrop:$({transitionDuration:A,as:d},p)},disableEscapeKeyDown:h,onClose:T,open:I,ref:n,onClick:Q,ownerState:L},_,{children:r.jsx(w,$({appear:!0,in:I,timeout:A,role:"presentation"},F,{children:r.jsx(F8e,{className:Nt(K.container),onMouseDown:J,ownerState:L,children:r.jsx(M8e,$({as:P,elevation:24,role:"dialog","aria-describedby":c,"aria-labelledby":V},E,{className:Nt(K.paper,E.className),ownerState:L,children:r.jsx(Bpe.Provider,{value:W,children:m})}))})}))}))});function _8e(e){return $n("MuiDialogActions",e)}Bn("MuiDialogActions",["root","spacing"]);const L8e=["className","disableSpacing"],$8e=e=>{const{classes:t,disableSpacing:n}=e;return Ln({root:["root",!n&&"spacing"]},_8e,t)},B8e=it("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>$({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),em=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiDialogActions"}),{className:s,disableSpacing:i=!1}=o,c=It(o,L8e),u=$({},o,{disableSpacing:i}),d=$8e(u);return r.jsx(B8e,$({className:Nt(d.root,s),ownerState:u,ref:n},c))});function W8e(e){return $n("MuiDialogContent",e)}Bn("MuiDialogContent",["root","dividers"]);function U8e(e){return $n("MuiDialogTitle",e)}const q8e=Bn("MuiDialogTitle",["root"]),V8e=["className","dividers"],z8e=e=>{const{classes:t,dividers:n}=e;return Ln({root:["root",n&&"dividers"]},W8e,t)},H8e=it("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>$({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${q8e.root} + &`]:{paddingTop:0}})),tm=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiDialogContent"}),{className:s,dividers:i=!1}=o,c=It(o,V8e),u=$({},o,{dividers:i}),d=z8e(u);return r.jsx(H8e,$({className:Nt(d.root,s),ownerState:u,ref:n},c))});function G8e(e){return $n("MuiDialogContentText",e)}Bn("MuiDialogContentText",["root"]);const K8e=["children","className"],Q8e=e=>{const{classes:t}=e,o=Ln({root:["root"]},G8e,t);return $({},t,o)},Y8e=it(nn,{shouldForwardProp:e=>Ha(e)||e==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),J8e=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiDialogContentText"}),{className:s}=o,i=It(o,K8e),c=Q8e(i);return r.jsx(Y8e,$({component:"p",variant:"body1",color:"text.secondary",ref:n,ownerState:i,className:Nt(c.root,s)},o,{classes:c}))}),X8e=["className","id"],Z8e=e=>{const{classes:t}=e;return Ln({root:["root"]},U8e,t)},e7e=it(nn,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),t7e=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiDialogTitle"}),{className:s,id:i}=o,c=It(o,X8e),u=o,d=Z8e(u),{titleId:p=i}=a.useContext(Bpe);return r.jsx(e7e,$({component:"h2",className:Nt(d.root,s),ownerState:u,ref:n,variant:"h6",id:i??p},c))});function n7e(e){return $n("MuiDivider",e)}const qre=Bn("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),r7e=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],o7e=e=>{const{absolute:t,children:n,classes:o,flexItem:s,light:i,orientation:c,textAlign:u,variant:d}=e;return Ln({root:["root",t&&"absolute",d,i&&"light",c==="vertical"&&"vertical",s&&"flexItem",n&&"withChildren",n&&c==="vertical"&&"withChildrenVertical",u==="right"&&c!=="vertical"&&"textAlignRight",u==="left"&&c!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",c==="vertical"&&"wrapperVertical"]},n7e,o)},s7e=it("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,n.orientation==="vertical"&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&n.orientation==="vertical"&&t.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&t.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>$({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:Wr.alpha(e.palette.divider,.08)},t.variant==="inset"&&{marginLeft:72},t.variant==="middle"&&t.orientation==="horizontal"&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},t.variant==="middle"&&t.orientation==="vertical"&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},t.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:e})=>$({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:e,ownerState:t})=>$({},t.children&&t.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`}}),({theme:e,ownerState:t})=>$({},t.children&&t.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`}}),({ownerState:e})=>$({},e.textAlign==="right"&&e.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},e.textAlign==="left"&&e.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),a7e=it("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,n.orientation==="vertical"&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>$({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},t.orientation==="vertical"&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),ta=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiDivider"}),{absolute:s=!1,children:i,className:c,component:u=i?"div":"hr",flexItem:d=!1,light:p=!1,orientation:m="horizontal",role:f=u!=="hr"?"separator":void 0,textAlign:h="center",variant:g="fullWidth"}=o,x=It(o,r7e),y=$({},o,{absolute:s,component:u,flexItem:d,light:p,orientation:m,role:f,textAlign:h,variant:g}),D=o7e(y);return r.jsx(s7e,$({as:u,className:Nt(D.root,c),role:f,ref:n,ownerState:y},x,{children:i?r.jsx(a7e,{className:D.wrapper,ownerState:y,children:i}):null}))});ta.muiSkipListHighlight=!0;const i7e=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function l7e(e,t,n){const o=t.getBoundingClientRect(),s=n&&n.getBoundingClientRect(),i=ll(t);let c;if(t.fakeTransform)c=t.fakeTransform;else{const p=i.getComputedStyle(t);c=p.getPropertyValue("-webkit-transform")||p.getPropertyValue("transform")}let u=0,d=0;if(c&&c!=="none"&&typeof c=="string"){const p=c.split("(")[1].split(")")[0].split(",");u=parseInt(p[4],10),d=parseInt(p[5],10)}return e==="left"?s?`translateX(${s.right+u-o.left}px)`:`translateX(${i.innerWidth+u-o.left}px)`:e==="right"?s?`translateX(-${o.right-s.left-u}px)`:`translateX(-${o.left+o.width-u}px)`:e==="up"?s?`translateY(${s.bottom+d-o.top}px)`:`translateY(${i.innerHeight+d-o.top}px)`:s?`translateY(-${o.top-s.top+o.height-d}px)`:`translateY(-${o.top+o.height-d}px)`}function c7e(e){return typeof e=="function"?e():e}function QE(e,t,n){const o=c7e(n),s=l7e(e,t,o);s&&(t.style.webkitTransform=s,t.style.transform=s)}const u7e=a.forwardRef(function(t,n){const o=qs(),s={enter:o.transitions.easing.easeOut,exit:o.transitions.easing.sharp},i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{addEndListener:c,appear:u=!0,children:d,container:p,direction:m="down",easing:f=s,in:h,onEnter:g,onEntered:x,onEntering:y,onExit:D,onExited:v,onExiting:T,style:I,timeout:P=i,TransitionComponent:E=ic}=t,k=It(t,i7e),w=a.useRef(null),A=xo(d.ref,w,n),F=U=>X=>{U&&(X===void 0?U(w.current):U(w.current,X))},_=F((U,X)=>{QE(m,U,p),e3(U),g&&g(U,X)}),L=F((U,X)=>{const te=uf({timeout:P,style:I,easing:f},{mode:"enter"});U.style.webkitTransition=o.transitions.create("-webkit-transform",$({},te)),U.style.transition=o.transitions.create("transform",$({},te)),U.style.webkitTransform="none",U.style.transform="none",y&&y(U,X)}),K=F(x),z=F(T),J=F(U=>{const X=uf({timeout:P,style:I,easing:f},{mode:"exit"});U.style.webkitTransition=o.transitions.create("-webkit-transform",X),U.style.transition=o.transitions.create("transform",X),QE(m,U,p),D&&D(U)}),Q=F(U=>{U.style.webkitTransition="",U.style.transition="",v&&v(U)}),V=U=>{c&&c(w.current,U)},W=a.useCallback(()=>{w.current&&QE(m,w.current,p)},[m,p]);return a.useEffect(()=>{if(h||m==="down"||m==="right")return;const U=yD(()=>{w.current&&QE(m,w.current,p)}),X=ll(w.current);return X.addEventListener("resize",U),()=>{U.clear(),X.removeEventListener("resize",U)}},[m,h,p]),a.useEffect(()=>{h||W()},[h,W]),r.jsx(E,$({nodeRef:w,onEnter:_,onEntered:K,onEntering:L,onExit:J,onExited:Q,onExiting:z,addEndListener:V,appear:u,in:h,timeout:P},k,{children:(U,X)=>a.cloneElement(d,$({ref:A,style:$({visibility:U==="exited"&&!h?"hidden":void 0},I,d.props.style)},X))}))});function d7e(e){return $n("MuiDrawer",e)}Bn("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const p7e=["BackdropProps"],m7e=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],Upe=(e,t)=>{const{ownerState:n}=e;return[t.root,(n.variant==="permanent"||n.variant==="persistent")&&t.docked,t.modal]},f7e=e=>{const{classes:t,anchor:n,variant:o}=e,s={root:["root"],docked:[(o==="permanent"||o==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${zt(n)}`,o!=="temporary"&&`paperAnchorDocked${zt(n)}`]};return Ln(s,d7e,t)},h7e=it(p3,{name:"MuiDrawer",slot:"Root",overridesResolver:Upe})(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer})),Vre=it("div",{shouldForwardProp:Ha,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:Upe})({flex:"0 0 auto"}),g7e=it(_s,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`paperAnchor${zt(n.anchor)}`],n.variant!=="temporary"&&t[`paperAnchorDocked${zt(n.anchor)}`]]}})(({theme:e,ownerState:t})=>$({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},t.anchor==="left"&&{left:0},t.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},t.anchor==="right"&&{right:0},t.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},t.anchor==="left"&&t.variant!=="temporary"&&{borderRight:`1px solid ${(e.vars||e).palette.divider}`},t.anchor==="top"&&t.variant!=="temporary"&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`},t.anchor==="right"&&t.variant!=="temporary"&&{borderLeft:`1px solid ${(e.vars||e).palette.divider}`},t.anchor==="bottom"&&t.variant!=="temporary"&&{borderTop:`1px solid ${(e.vars||e).palette.divider}`})),qpe={left:"right",right:"left",top:"down",bottom:"up"};function cb(e){return["left","right"].indexOf(e)!==-1}function Dj({direction:e},t){return e==="rtl"&&cb(t)?qpe[t]:t}const Vpe=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiDrawer"}),s=qs(),i=TT(),c={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{anchor:u="left",BackdropProps:d,children:p,className:m,elevation:f=16,hideBackdrop:h=!1,ModalProps:{BackdropProps:g}={},onClose:x,open:y=!1,PaperProps:D={},SlideProps:v,TransitionComponent:T=u7e,transitionDuration:I=c,variant:P="temporary"}=o,E=It(o.ModalProps,p7e),k=It(o,m7e),w=a.useRef(!1);a.useEffect(()=>{w.current=!0},[]);const A=Dj({direction:i?"rtl":"ltr"},u),_=$({},o,{anchor:u,elevation:f,open:y,variant:P},k),L=f7e(_),K=r.jsx(g7e,$({elevation:P==="temporary"?f:0,square:!0},D,{className:Nt(L.paper,D.className),ownerState:_,children:p}));if(P==="permanent")return r.jsx(Vre,$({className:Nt(L.root,L.docked,m),ownerState:_,ref:n},k,{children:K}));const z=r.jsx(T,$({in:y,direction:qpe[A],timeout:I,appear:w.current},v,{children:K}));return P==="persistent"?r.jsx(Vre,$({className:Nt(L.root,L.docked,m),ownerState:_,ref:n},k,{children:z})):r.jsx(h7e,$({BackdropProps:$({},d,g,{transitionDuration:I}),className:Nt(L.root,L.modal,m),open:y,ownerState:_,onClose:x,hideBackdrop:h,ref:n},k,E,{children:z}))}),b7e=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],x7e=e=>{const{classes:t,disableUnderline:n}=e,s=Ln({root:["root",!n&&"underline"],input:["input"]},LHe,t);return $({},t,s)},y7e=it(fw,{shouldForwardProp:e=>Ha(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...pw(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var n;const o=e.palette.mode==="light",s=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",c=o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",u=o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return $({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:c,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:i}},[`&.${_c.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:i},[`&.${_c.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:u}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(e.vars||e).palette[t.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${_c.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${_c.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:s}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${_c.disabled}, .${_c.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${_c.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&$({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9}))}),C7e=it(hw,{name:"MuiFilledInput",slot:"Input",overridesResolver:mw})(({theme:e,ownerState:t})=>$({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),m3=a.forwardRef(function(t,n){var o,s,i,c;const u=Ir({props:t,name:"MuiFilledInput"}),{components:d={},componentsProps:p,fullWidth:m=!1,inputComponent:f="input",multiline:h=!1,slotProps:g,slots:x={},type:y="text"}=u,D=It(u,b7e),v=$({},u,{fullWidth:m,inputComponent:f,multiline:h,type:y}),T=x7e(u),I={root:{ownerState:v},input:{ownerState:v}},P=g??p?jl(I,g??p):I,E=(o=(s=x.root)!=null?s:d.Root)!=null?o:y7e,k=(i=(c=x.input)!=null?c:d.Input)!=null?i:C7e;return r.jsx(PT,$({slots:{root:E,input:k},componentsProps:P,fullWidth:m,inputComponent:f,multiline:h,ref:n,type:y},D,{classes:T}))});m3.muiName="Input";function D7e(e){return $n("MuiFormControl",e)}Bn("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const S7e=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],v7e=e=>{const{classes:t,margin:n,fullWidth:o}=e,s={root:["root",n!=="none"&&`margin${zt(n)}`,o&&"fullWidth"]};return Ln(s,D7e,t)},j7e=it("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>$({},t.root,t[`margin${zt(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>$({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),wT=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiFormControl"}),{children:s,className:i,color:c="primary",component:u="div",disabled:d=!1,error:p=!1,focused:m,fullWidth:f=!1,hiddenLabel:h=!1,margin:g="none",required:x=!1,size:y="medium",variant:D="outlined"}=o,v=It(o,S7e),T=$({},o,{color:c,component:u,disabled:d,error:p,fullWidth:f,hiddenLabel:h,margin:g,required:x,size:y,variant:D}),I=v7e(T),[P,E]=a.useState(()=>{let z=!1;return s&&a.Children.forEach(s,J=>{if(!gI(J,["Input","Select"]))return;const Q=gI(J,["Select"])?J.props.input:J;Q&&wHe(Q.props)&&(z=!0)}),z}),[k,w]=a.useState(()=>{let z=!1;return s&&a.Children.forEach(s,J=>{gI(J,["Input","Select"])&&(oR(J.props,!0)||oR(J.props.inputProps,!0))&&(z=!0)}),z}),[A,F]=a.useState(!1);d&&A&&F(!1);const _=m!==void 0&&!d?m:A;let L;const K=a.useMemo(()=>({adornedStart:P,setAdornedStart:E,color:c,disabled:d,error:p,filled:k,focused:_,fullWidth:f,hiddenLabel:h,size:y,onBlur:()=>{F(!1)},onEmpty:()=>{w(!1)},onFilled:()=>{w(!0)},onFocus:()=>{F(!0)},registerEffect:L,required:x,variant:D}),[P,c,d,p,k,_,f,h,L,x,y,D]);return r.jsx(dw.Provider,{value:K,children:r.jsx(j7e,$({as:u,ownerState:T,className:Nt(I.root,i),ref:n},v,{children:s}))})}),f3=qUe({createStyledComponent:it("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>Ir({props:e,name:"MuiStack"})});function I7e(e){return $n("MuiFormControlLabel",e)}const Sj=Bn("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),T7e=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],O7e=e=>{const{classes:t,disabled:n,labelPlacement:o,error:s,required:i}=e,c={root:["root",n&&"disabled",`labelPlacement${zt(o)}`,s&&"error",i&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",s&&"error"]};return Ln(c,I7e,t)},E7e=it("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Sj.label}`]:t.label},t.root,t[`labelPlacement${zt(n.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>$({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Sj.disabled}`]:{cursor:"default"}},t.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},t.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},t.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${Sj.label}`]:{[`&.${Sj.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),P7e=it("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${Sj.error}`]:{color:(e.vars||e).palette.error.main}})),bw=a.forwardRef(function(t,n){var o,s;const i=Ir({props:t,name:"MuiFormControlLabel"}),{className:c,componentsProps:u={},control:d,disabled:p,disableTypography:m,label:f,labelPlacement:h="end",required:g,slotProps:x={}}=i,y=It(i,T7e),D=Zp(),v=(o=p??d.props.disabled)!=null?o:D==null?void 0:D.disabled,T=g??d.props.required,I={disabled:v,required:T};["checked","name","onChange","value","inputRef"].forEach(F=>{typeof d.props[F]>"u"&&typeof i[F]<"u"&&(I[F]=i[F])});const P=Gh({props:i,muiFormControl:D,states:["error"]}),E=$({},i,{disabled:v,labelPlacement:h,required:T,error:P.error}),k=O7e(E),w=(s=x.typography)!=null?s:u.typography;let A=f;return A!=null&&A.type!==nn&&!m&&(A=r.jsx(nn,$({component:"span"},w,{className:Nt(k.label,w==null?void 0:w.className),children:A}))),r.jsxs(E7e,$({className:Nt(k.root,c),ownerState:E,ref:n},y,{children:[a.cloneElement(d,I),T?r.jsxs(f3,{display:"block",children:[A,r.jsxs(P7e,{ownerState:E,"aria-hidden":!0,className:k.asterisk,children:["","*"]})]}):A]}))});function R7e(e){return $n("MuiFormGroup",e)}Bn("MuiFormGroup",["root","row","error"]);const w7e=["className","row"],k7e=e=>{const{classes:t,row:n,error:o}=e;return Ln({root:["root",n&&"row",o&&"error"]},R7e,t)},A7e=it("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})(({ownerState:e})=>$({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),h3=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiFormGroup"}),{className:s,row:i=!1}=o,c=It(o,w7e),u=Zp(),d=Gh({props:o,muiFormControl:u,states:["error"]}),p=$({},o,{row:i,error:d.error}),m=k7e(p);return r.jsx(A7e,$({className:Nt(m.root,s),ownerState:p,ref:n},c))});function N7e(e){return $n("MuiFormHelperText",e)}const zre=Bn("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var Hre;const F7e=["children","className","component","disabled","error","filled","focused","margin","required","variant"],M7e=e=>{const{classes:t,contained:n,size:o,disabled:s,error:i,filled:c,focused:u,required:d}=e,p={root:["root",s&&"disabled",i&&"error",o&&`size${zt(o)}`,n&&"contained",u&&"focused",c&&"filled",d&&"required"]};return Ln(p,N7e,t)},_7e=it("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${zt(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(({theme:e,ownerState:t})=>$({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${zre.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${zre.error}`]:{color:(e.vars||e).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),Yp=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiFormHelperText"}),{children:s,className:i,component:c="p"}=o,u=It(o,F7e),d=Zp(),p=Gh({props:o,muiFormControl:d,states:["variant","size","disabled","error","filled","focused","required"]}),m=$({},o,{component:c,contained:p.variant==="filled"||p.variant==="outlined",variant:p.variant,size:p.size,disabled:p.disabled,error:p.error,filled:p.filled,focused:p.focused,required:p.required}),f=M7e(m);return r.jsx(_7e,$({as:c,ownerState:m,className:Nt(f.root,i),ref:n},u,{children:s===" "?Hre||(Hre=r.jsx("span",{className:"notranslate",children:""})):s}))});function L7e(e){return $n("MuiFormLabel",e)}const DI=Bn("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),$7e=["children","className","color","component","disabled","error","filled","focused","required"],B7e=e=>{const{classes:t,color:n,focused:o,disabled:s,error:i,filled:c,required:u}=e,d={root:["root",`color${zt(n)}`,s&&"disabled",i&&"error",c&&"filled",o&&"focused",u&&"required"],asterisk:["asterisk",i&&"error"]};return Ln(d,L7e,t)},W7e=it("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>$({},t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>$({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${DI.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${DI.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${DI.error}`]:{color:(e.vars||e).palette.error.main}})),U7e=it("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${DI.error}`]:{color:(e.vars||e).palette.error.main}})),kT=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiFormLabel"}),{children:s,className:i,component:c="label"}=o,u=It(o,$7e),d=Zp(),p=Gh({props:o,muiFormControl:d,states:["color","required","focused","disabled","error","filled"]}),m=$({},o,{color:p.color||"primary",component:c,disabled:p.disabled,error:p.error,filled:p.filled,focused:p.focused,required:p.required}),f=B7e(m);return r.jsxs(W7e,$({as:c,ownerState:m,className:Nt(f.root,i),ref:n},u,{children:[s,p.required&&r.jsxs(U7e,{ownerState:m,"aria-hidden":!0,className:f.asterisk,children:["","*"]})]}))}),Gre=a.createContext();function q7e(e){return $n("MuiGrid",e)}const V7e=[0,1,2,3,4,5,6,7,8,9,10],z7e=["column-reverse","column","row-reverse","row"],H7e=["nowrap","wrap-reverse","wrap"],b0=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],ZI=Bn("MuiGrid",["root","container","item","zeroMinWidth",...V7e.map(e=>`spacing-xs-${e}`),...z7e.map(e=>`direction-xs-${e}`),...H7e.map(e=>`wrap-xs-${e}`),...b0.map(e=>`grid-xs-${e}`),...b0.map(e=>`grid-sm-${e}`),...b0.map(e=>`grid-md-${e}`),...b0.map(e=>`grid-lg-${e}`),...b0.map(e=>`grid-xl-${e}`)]),G7e=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function oC(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function K7e({theme:e,ownerState:t}){let n;return e.breakpoints.keys.reduce((o,s)=>{let i={};if(t[s]&&(n=t[s]),!n)return o;if(n===!0)i={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const c=Db({values:t.columns,breakpoints:e.breakpoints.values}),u=typeof c=="object"?c[s]:c;if(u==null)return o;const d=`${Math.round(n/u*1e8)/1e6}%`;let p={};if(t.container&&t.item&&t.columnSpacing!==0){const m=e.spacing(t.columnSpacing);if(m!=="0px"){const f=`calc(${d} + ${oC(m)})`;p={flexBasis:f,maxWidth:f}}}i=$({flexBasis:d,flexGrow:0,maxWidth:d},p)}return e.breakpoints.values[s]===0?Object.assign(o,i):o[e.breakpoints.up(s)]=i,o},{})}function Q7e({theme:e,ownerState:t}){const n=Db({values:t.direction,breakpoints:e.breakpoints.values});return oc({theme:e},n,o=>{const s={flexDirection:o};return o.indexOf("column")===0&&(s[`& > .${ZI.item}`]={maxWidth:"none"}),s})}function zpe({breakpoints:e,values:t}){let n="";Object.keys(t).forEach(s=>{n===""&&t[s]!==0&&(n=s)});const o=Object.keys(e).sort((s,i)=>e[s]-e[i]);return o.slice(0,o.indexOf(n))}function Y7e({theme:e,ownerState:t}){const{container:n,rowSpacing:o}=t;let s={};if(n&&o!==0){const i=Db({values:o,breakpoints:e.breakpoints.values});let c;typeof i=="object"&&(c=zpe({breakpoints:e.breakpoints.values,values:i})),s=oc({theme:e},i,(u,d)=>{var p;const m=e.spacing(u);return m!=="0px"?{marginTop:`-${oC(m)}`,[`& > .${ZI.item}`]:{paddingTop:oC(m)}}:(p=c)!=null&&p.includes(d)?{}:{marginTop:0,[`& > .${ZI.item}`]:{paddingTop:0}}})}return s}function J7e({theme:e,ownerState:t}){const{container:n,columnSpacing:o}=t;let s={};if(n&&o!==0){const i=Db({values:o,breakpoints:e.breakpoints.values});let c;typeof i=="object"&&(c=zpe({breakpoints:e.breakpoints.values,values:i})),s=oc({theme:e},i,(u,d)=>{var p;const m=e.spacing(u);return m!=="0px"?{width:`calc(100% + ${oC(m)})`,marginLeft:`-${oC(m)}`,[`& > .${ZI.item}`]:{paddingLeft:oC(m)}}:(p=c)!=null&&p.includes(d)?{}:{width:"100%",marginLeft:0,[`& > .${ZI.item}`]:{paddingLeft:0}}})}return s}function X7e(e,t,n={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[n[`spacing-xs-${String(e)}`]];const o=[];return t.forEach(s=>{const i=e[s];Number(i)>0&&o.push(n[`spacing-${s}-${String(i)}`])}),o}const Z7e=it("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:o,direction:s,item:i,spacing:c,wrap:u,zeroMinWidth:d,breakpoints:p}=n;let m=[];o&&(m=X7e(c,p,t));const f=[];return p.forEach(h=>{const g=n[h];g&&f.push(t[`grid-${h}-${String(g)}`])}),[t.root,o&&t.container,i&&t.item,d&&t.zeroMinWidth,...m,s!=="row"&&t[`direction-xs-${String(s)}`],u!=="wrap"&&t[`wrap-xs-${String(u)}`],...f]}})(({ownerState:e})=>$({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),Q7e,Y7e,J7e,K7e);function e9e(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const n=[];return t.forEach(o=>{const s=e[o];if(Number(s)>0){const i=`spacing-${o}-${String(s)}`;n.push(i)}}),n}const t9e=e=>{const{classes:t,container:n,direction:o,item:s,spacing:i,wrap:c,zeroMinWidth:u,breakpoints:d}=e;let p=[];n&&(p=e9e(i,d));const m=[];d.forEach(h=>{const g=e[h];g&&m.push(`grid-${h}-${String(g)}`)});const f={root:["root",n&&"container",s&&"item",u&&"zeroMinWidth",...p,o!=="row"&&`direction-xs-${String(o)}`,c!=="wrap"&&`wrap-xs-${String(c)}`,...m]};return Ln(f,q7e,t)},j=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiGrid"}),{breakpoints:s}=qs(),i=IT(o),{className:c,columns:u,columnSpacing:d,component:p="div",container:m=!1,direction:f="row",item:h=!1,rowSpacing:g,spacing:x=0,wrap:y="wrap",zeroMinWidth:D=!1}=i,v=It(i,G7e),T=g||x,I=d||x,P=a.useContext(Gre),E=m?u||12:P,k={},w=$({},v);s.keys.forEach(_=>{v[_]!=null&&(k[_]=v[_],delete w[_])});const A=$({},i,{columns:E,container:m,direction:f,item:h,rowSpacing:T,columnSpacing:I,wrap:y,zeroMinWidth:D,spacing:x},k,{breakpoints:s.keys}),F=t9e(A);return r.jsx(Gre.Provider,{value:E,children:r.jsx(Z7e,$({ownerState:A,className:Nt(F.root,c),as:p,ref:n},w))})}),n9e=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function r$(e){return`scale(${e}, ${e**2})`}const r9e={entering:{opacity:1,transform:r$(1)},entered:{opacity:1,transform:"none"}},b_=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),vC=a.forwardRef(function(t,n){const{addEndListener:o,appear:s=!0,children:i,easing:c,in:u,onEnter:d,onEntered:p,onEntering:m,onExit:f,onExited:h,onExiting:g,style:x,timeout:y="auto",TransitionComponent:D=ic}=t,v=It(t,n9e),T=db(),I=a.useRef(),P=qs(),E=a.useRef(null),k=xo(E,i.ref,n),w=Q=>V=>{if(Q){const W=E.current;V===void 0?Q(W):Q(W,V)}},A=w(m),F=w((Q,V)=>{e3(Q);const{duration:W,delay:U,easing:X}=uf({style:x,timeout:y,easing:c},{mode:"enter"});let te;y==="auto"?(te=P.transitions.getAutoHeightDuration(Q.clientHeight),I.current=te):te=W,Q.style.transition=[P.transitions.create("opacity",{duration:te,delay:U}),P.transitions.create("transform",{duration:b_?te:te*.666,delay:U,easing:X})].join(","),d&&d(Q,V)}),_=w(p),L=w(g),K=w(Q=>{const{duration:V,delay:W,easing:U}=uf({style:x,timeout:y,easing:c},{mode:"exit"});let X;y==="auto"?(X=P.transitions.getAutoHeightDuration(Q.clientHeight),I.current=X):X=V,Q.style.transition=[P.transitions.create("opacity",{duration:X,delay:W}),P.transitions.create("transform",{duration:b_?X:X*.666,delay:b_?W:W||X*.333,easing:U})].join(","),Q.style.opacity=0,Q.style.transform=r$(.75),f&&f(Q)}),z=w(h),J=Q=>{y==="auto"&&T.start(I.current||0,Q),o&&o(E.current,Q)};return r.jsx(D,$({appear:s,in:u,nodeRef:E,onEnter:F,onEntered:_,onEntering:A,onExit:K,onExited:z,onExiting:L,addEndListener:J,timeout:y==="auto"?null:y},v,{children:(Q,V)=>a.cloneElement(i,$({style:$({opacity:0,transform:r$(.75),visibility:Q==="exited"&&!u?"hidden":void 0},r9e[Q],x,i.props.style),ref:k},V))}))});vC.muiSupportAuto=!0;const o9e=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],s9e=e=>{const{classes:t,disableUnderline:n}=e,s=Ln({root:["root",!n&&"underline"],input:["input"]},MHe,t);return $({},t,s)},a9e=it(fw,{shouldForwardProp:e=>Ha(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...pw(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let o=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(o=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),$({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Dh.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Dh.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${o}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Dh.disabled}, .${Dh.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${o}`}},[`&.${Dh.disabled}:before`]:{borderBottomStyle:"dotted"}})}),i9e=it(hw,{name:"MuiInput",slot:"Input",overridesResolver:mw})({}),g3=a.forwardRef(function(t,n){var o,s,i,c;const u=Ir({props:t,name:"MuiInput"}),{disableUnderline:d,components:p={},componentsProps:m,fullWidth:f=!1,inputComponent:h="input",multiline:g=!1,slotProps:x,slots:y={},type:D="text"}=u,v=It(u,o9e),T=s9e(u),P={root:{ownerState:{disableUnderline:d}}},E=x??m?jl(x??m,P):P,k=(o=(s=y.root)!=null?s:p.Root)!=null?o:a9e,w=(i=(c=y.input)!=null?c:p.Input)!=null?i:i9e;return r.jsx(PT,$({slots:{root:k,input:w},slotProps:E,fullWidth:f,inputComponent:h,multiline:g,ref:n,type:D},v,{classes:T}))});g3.muiName="Input";function l9e(e){return $n("MuiInputAdornment",e)}const Kre=Bn("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var Qre;const c9e=["children","className","component","disablePointerEvents","disableTypography","position","variant"],u9e=(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${zt(n.position)}`],n.disablePointerEvents===!0&&t.disablePointerEvents,t[n.variant]]},d9e=e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:o,position:s,size:i,variant:c}=e,u={root:["root",n&&"disablePointerEvents",s&&`position${zt(s)}`,c,o&&"hiddenLabel",i&&`size${zt(i)}`]};return Ln(u,l9e,t)},p9e=it("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:u9e})(({theme:e,ownerState:t})=>$({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},t.variant==="filled"&&{[`&.${Kre.positionStart}&:not(.${Kre.hiddenLabel})`]:{marginTop:16}},t.position==="start"&&{marginRight:8},t.position==="end"&&{marginLeft:8},t.disablePointerEvents===!0&&{pointerEvents:"none"})),Il=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiInputAdornment"}),{children:s,className:i,component:c="div",disablePointerEvents:u=!1,disableTypography:d=!1,position:p,variant:m}=o,f=It(o,c9e),h=Zp()||{};let g=m;m&&h.variant,h&&!g&&(g=h.variant);const x=$({},o,{hiddenLabel:h.hiddenLabel,size:h.size,disablePointerEvents:u,position:p,variant:g}),y=d9e(x);return r.jsx(dw.Provider,{value:null,children:r.jsx(p9e,$({as:c,ownerState:x,className:Nt(y.root,i),ref:n},f,{children:typeof s=="string"&&!d?r.jsx(nn,{color:"text.secondary",children:s}):r.jsxs(a.Fragment,{children:[p==="start"?Qre||(Qre=r.jsx("span",{className:"notranslate",children:""})):null,s]})}))})});function m9e(e){return $n("MuiInputLabel",e)}Bn("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const f9e=["disableAnimation","margin","shrink","variant","className"],h9e=e=>{const{classes:t,formControl:n,size:o,shrink:s,disableAnimation:i,variant:c,required:u}=e,d={root:["root",n&&"formControl",!i&&"animated",s&&"shrink",o&&o!=="normal"&&`size${zt(o)}`,c],asterisk:[u&&"asterisk"]},p=Ln(d,m9e,t);return $({},t,p)},g9e=it(kT,{shouldForwardProp:e=>Ha(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${DI.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(({theme:e,ownerState:t})=>$({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},t.variant==="filled"&&$({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&$({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&$({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),b3=a.forwardRef(function(t,n){const o=Ir({name:"MuiInputLabel",props:t}),{disableAnimation:s=!1,shrink:i,className:c}=o,u=It(o,f9e),d=Zp();let p=i;typeof p>"u"&&d&&(p=d.filled||d.focused||d.adornedStart);const m=Gh({props:o,muiFormControl:d,states:["size","variant","required","focused"]}),f=$({},o,{disableAnimation:s,formControl:d,shrink:p,size:m.size,variant:m.variant,required:m.required,focused:m.focused}),h=h9e(f);return r.jsx(g9e,$({"data-shrink":p,ownerState:f,ref:n,className:Nt(h.root,c)},u,{classes:h}))});function b9e(e){return $n("MuiLink",e)}const x9e=Bn("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),Hpe={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},y9e=e=>Hpe[e]||e,C9e=({theme:e,ownerState:t})=>{const n=y9e(t.color),o=gC(e,`palette.${n}`,!1)||t.color,s=gC(e,`palette.${n}Channel`);return"vars"in e&&s?`rgba(${s} / 0.4)`:Wr.alpha(o,.4)},D9e=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],S9e=e=>{const{classes:t,component:n,focusVisible:o,underline:s}=e,i={root:["root",`underline${zt(s)}`,n==="button"&&"button",o&&"focusVisible"]};return Ln(i,b9e,t)},v9e=it(nn,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`underline${zt(n.underline)}`],n.component==="button"&&t.button]}})(({theme:e,ownerState:t})=>$({},t.underline==="none"&&{textDecoration:"none"},t.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},t.underline==="always"&&$({textDecoration:"underline"},t.color!=="inherit"&&{textDecorationColor:C9e({theme:e,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),t.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${x9e.focusVisible}`]:{outline:"auto"}})),j9e=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiLink"}),{className:s,color:i="primary",component:c="a",onBlur:u,onFocus:d,TypographyClasses:p,underline:m="always",variant:f="inherit",sx:h}=o,g=It(o,D9e),{isFocusVisibleRef:x,onBlur:y,onFocus:D,ref:v}=rw(),[T,I]=a.useState(!1),P=xo(n,v),E=F=>{y(F),x.current===!1&&I(!1),u&&u(F)},k=F=>{D(F),x.current===!0&&I(!0),d&&d(F)},w=$({},o,{color:i,component:c,focusVisible:T,underline:m,variant:f}),A=S9e(w);return r.jsx(v9e,$({color:i,className:Nt(A.root,s),classes:p,component:c,onBlur:E,onFocus:k,ref:P,ownerState:w,variant:f,sx:[...Object.keys(Hpe).includes(i)?[]:[{color:i}],...Array.isArray(h)?h:[h]]},g))}),Wd=a.createContext({});function I9e(e){return $n("MuiList",e)}Bn("MuiList",["root","padding","dense","subheader"]);const T9e=["children","className","component","dense","disablePadding","subheader"],O9e=e=>{const{classes:t,disablePadding:n,dense:o,subheader:s}=e;return Ln({root:["root",!n&&"padding",o&&"dense",s&&"subheader"]},I9e,t)},E9e=it("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})(({ownerState:e})=>$({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),x3=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiList"}),{children:s,className:i,component:c="ul",dense:u=!1,disablePadding:d=!1,subheader:p}=o,m=It(o,T9e),f=a.useMemo(()=>({dense:u}),[u]),h=$({},o,{component:c,dense:u,disablePadding:d}),g=O9e(h);return r.jsx(Wd.Provider,{value:f,children:r.jsxs(E9e,$({as:c,className:Nt(g.root,i),ref:n,ownerState:h},m,{children:[p,s]}))})});function P9e(e){return $n("MuiListItem",e)}const _y=Bn("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);function R9e(e){return $n("MuiListItemButton",e)}const Ly=Bn("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),w9e=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],k9e=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]},A9e=e=>{const{alignItems:t,classes:n,dense:o,disabled:s,disableGutters:i,divider:c,selected:u}=e,p=Ln({root:["root",o&&"dense",!i&&"gutters",c&&"divider",s&&"disabled",t==="flex-start"&&"alignItemsFlexStart",u&&"selected"]},R9e,n);return $({},n,p)},N9e=it(qd,{shouldForwardProp:e=>Ha(e)||e==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:k9e})(({theme:e,ownerState:t})=>$({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ly.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Wr.alpha(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Ly.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Wr.alpha(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Ly.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Wr.alpha(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Wr.alpha(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${Ly.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Ly.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.alignItems==="flex-start"&&{alignItems:"flex-start"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.dense&&{paddingTop:4,paddingBottom:4})),Gpe=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiListItemButton"}),{alignItems:s="center",autoFocus:i=!1,component:c="div",children:u,dense:d=!1,disableGutters:p=!1,divider:m=!1,focusVisibleClassName:f,selected:h=!1,className:g}=o,x=It(o,w9e),y=a.useContext(Wd),D=a.useMemo(()=>({dense:d||y.dense||!1,alignItems:s,disableGutters:p}),[s,y.dense,d,p]),v=a.useRef(null);Us(()=>{i&&v.current&&v.current.focus()},[i]);const T=$({},o,{alignItems:s,dense:D.dense,disableGutters:p,divider:m,selected:h}),I=A9e(T),P=xo(v,n);return r.jsx(Wd.Provider,{value:D,children:r.jsx(N9e,$({ref:P,href:x.href||x.to,component:(x.href||x.to)&&c==="div"?"button":c,focusVisibleClassName:Nt(I.focusVisible,f),ownerState:T,className:Nt(I.root,g)},x,{classes:I,children:u}))})});function F9e(e){return $n("MuiListItemSecondaryAction",e)}Bn("MuiListItemSecondaryAction",["root","disableGutters"]);const M9e=["className"],_9e=e=>{const{disableGutters:t,classes:n}=e;return Ln({root:["root",t&&"disableGutters"]},F9e,n)},L9e=it("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})(({ownerState:e})=>$({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})),Kpe=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiListItemSecondaryAction"}),{className:s}=o,i=It(o,M9e),c=a.useContext(Wd),u=$({},o,{disableGutters:c.disableGutters}),d=_9e(u);return r.jsx(L9e,$({className:Nt(d.root,s),ownerState:u,ref:n},i))});Kpe.muiName="ListItemSecondaryAction";const $9e=["className"],B9e=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],W9e=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]},U9e=e=>{const{alignItems:t,button:n,classes:o,dense:s,disabled:i,disableGutters:c,disablePadding:u,divider:d,hasSecondaryAction:p,selected:m}=e;return Ln({root:["root",s&&"dense",!c&&"gutters",!u&&"padding",d&&"divider",i&&"disabled",n&&"button",t==="flex-start"&&"alignItemsFlexStart",p&&"secondaryAction",m&&"selected"],container:["container"]},P9e,o)},q9e=it("div",{name:"MuiListItem",slot:"Root",overridesResolver:W9e})(({theme:e,ownerState:t})=>$({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&$({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${Ly.root}`]:{paddingRight:48}},{[`&.${_y.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${_y.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Wr.alpha(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${_y.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Wr.alpha(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${_y.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.alignItems==="flex-start"&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${_y.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Wr.alpha(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Wr.alpha(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),V9e=it("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),Qpe=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiListItem"}),{alignItems:s="center",autoFocus:i=!1,button:c=!1,children:u,className:d,component:p,components:m={},componentsProps:f={},ContainerComponent:h="li",ContainerProps:{className:g}={},dense:x=!1,disabled:y=!1,disableGutters:D=!1,disablePadding:v=!1,divider:T=!1,focusVisibleClassName:I,secondaryAction:P,selected:E=!1,slotProps:k={},slots:w={}}=o,A=It(o.ContainerProps,$9e),F=It(o,B9e),_=a.useContext(Wd),L=a.useMemo(()=>({dense:x||_.dense||!1,alignItems:s,disableGutters:D}),[s,_.dense,x,D]),K=a.useRef(null);Us(()=>{i&&K.current&&K.current.focus()},[i]);const z=a.Children.toArray(u),J=z.length&&gI(z[z.length-1],["ListItemSecondaryAction"]),Q=$({},o,{alignItems:s,autoFocus:i,button:c,dense:L.dense,disabled:y,disableGutters:D,disablePadding:v,divider:T,hasSecondaryAction:J,selected:E}),V=U9e(Q),W=xo(K,n),U=w.root||m.Root||q9e,X=k.root||f.root||{},te=$({className:Nt(V.root,X.className,d),disabled:y},F);let se=p||"li";return c&&(te.component=p||"div",te.focusVisibleClassName=Nt(_y.focusVisible,I),se=qd),J?(se=!te.component&&!p?"div":se,h==="li"&&(se==="li"?se="div":te.component==="li"&&(te.component="div")),r.jsx(Wd.Provider,{value:L,children:r.jsxs(V9e,$({as:h,className:Nt(V.container,g),ref:W,ownerState:Q},A,{children:[r.jsx(U,$({},X,!xC(U)&&{as:se,ownerState:$({},Q,X.ownerState)},te,{children:z})),z.pop()]}))})):r.jsx(Wd.Provider,{value:L,children:r.jsxs(U,$({},X,{as:se,ref:W},!xC(U)&&{ownerState:$({},Q,X.ownerState)},te,{children:[z,P&&r.jsx(Kpe,{children:P})]}))})});function z9e(e){return $n("MuiListItemIcon",e)}const Yre=Bn("MuiListItemIcon",["root","alignItemsFlexStart"]),H9e=["className"],G9e=e=>{const{alignItems:t,classes:n}=e;return Ln({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},z9e,n)},K9e=it("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(({theme:e,ownerState:t})=>$({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex"},t.alignItems==="flex-start"&&{marginTop:8})),jC=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiListItemIcon"}),{className:s}=o,i=It(o,H9e),c=a.useContext(Wd),u=$({},o,{alignItems:c.alignItems}),d=G9e(u);return r.jsx(K9e,$({className:Nt(d.root,s),ownerState:u,ref:n},i))});function Q9e(e){return $n("MuiListItemText",e)}const sR=Bn("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Y9e=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],J9e=e=>{const{classes:t,inset:n,primary:o,secondary:s,dense:i}=e;return Ln({root:["root",n&&"inset",i&&"dense",o&&s&&"multiline"],primary:["primary"],secondary:["secondary"]},Q9e,t)},X9e=it("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${sR.primary}`]:t.primary},{[`& .${sR.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})(({ownerState:e})=>$({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),y3=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiListItemText"}),{children:s,className:i,disableTypography:c=!1,inset:u=!1,primary:d,primaryTypographyProps:p,secondary:m,secondaryTypographyProps:f}=o,h=It(o,Y9e),{dense:g}=a.useContext(Wd);let x=d??s,y=m;const D=$({},o,{disableTypography:c,inset:u,primary:!!x,secondary:!!y,dense:g}),v=J9e(D);return x!=null&&x.type!==nn&&!c&&(x=r.jsx(nn,$({variant:g?"body2":"body1",className:v.primary,component:p!=null&&p.variant?void 0:"span",display:"block"},p,{children:x}))),y!=null&&y.type!==nn&&!c&&(y=r.jsx(nn,$({variant:"body2",className:v.secondary,color:"text.secondary",display:"block"},f,{children:y}))),r.jsxs(X9e,$({className:Nt(v.root,i),ownerState:D,ref:n},h,{children:[x,y]}))}),Z9e=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function x_(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Jre(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Ype(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.indexOf(t.keys.join(""))===0}function x0(e,t,n,o,s,i){let c=!1,u=s(e,t,t?n:!1);for(;u;){if(u===e.firstChild){if(c)return!1;c=!0}const d=o?!1:u.disabled||u.getAttribute("aria-disabled")==="true";if(!u.hasAttribute("tabindex")||!Ype(u,i)||d)u=s(e,u,n);else return u.focus(),!0}return!1}const xw=a.forwardRef(function(t,n){const{actions:o,autoFocus:s=!1,autoFocusItem:i=!1,children:c,className:u,disabledItemsFocusable:d=!1,disableListWrap:p=!1,onKeyDown:m,variant:f="selectedMenu"}=t,h=It(t,Z9e),g=a.useRef(null),x=a.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Us(()=>{s&&g.current.focus()},[s]),a.useImperativeHandle(o,()=>({adjustStyleForScrollbar:(I,{direction:P})=>{const E=!g.current.style.width;if(I.clientHeight<g.current.clientHeight&&E){const k=`${spe(js(I))}px`;g.current.style[P==="rtl"?"paddingLeft":"paddingRight"]=k,g.current.style.width=`calc(100% + ${k})`}return g.current}}),[]);const y=I=>{const P=g.current,E=I.key,k=js(P).activeElement;if(E==="ArrowDown")I.preventDefault(),x0(P,k,p,d,x_);else if(E==="ArrowUp")I.preventDefault(),x0(P,k,p,d,Jre);else if(E==="Home")I.preventDefault(),x0(P,null,p,d,x_);else if(E==="End")I.preventDefault(),x0(P,null,p,d,Jre);else if(E.length===1){const w=x.current,A=E.toLowerCase(),F=performance.now();w.keys.length>0&&(F-w.lastTime>500?(w.keys=[],w.repeating=!0,w.previousKeyMatched=!0):w.repeating&&A!==w.keys[0]&&(w.repeating=!1)),w.lastTime=F,w.keys.push(A);const _=k&&!w.repeating&&Ype(k,w);w.previousKeyMatched&&(_||x0(P,k,!1,d,x_,w))?I.preventDefault():w.previousKeyMatched=!1}m&&m(I)},D=xo(g,n);let v=-1;a.Children.forEach(c,(I,P)=>{if(!a.isValidElement(I)){v===P&&(v+=1,v>=c.length&&(v=-1));return}I.props.disabled||(f==="selectedMenu"&&I.props.selected||v===-1)&&(v=P),v===P&&(I.props.disabled||I.props.muiSkipListHighlight||I.type.muiSkipListHighlight)&&(v+=1,v>=c.length&&(v=-1))});const T=a.Children.map(c,(I,P)=>{if(P===v){const E={};return i&&(E.autoFocus=!0),I.props.tabIndex===void 0&&f==="selectedMenu"&&(E.tabIndex=0),a.cloneElement(I,E)}return I});return r.jsx(x3,$({role:"menu",ref:D,className:u,onKeyDown:y,tabIndex:s?0:-1},h,{children:T}))});function eKe(e){return $n("MuiPopover",e)}Bn("MuiPopover",["root","paper"]);const tKe=["onEntering"],nKe=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],rKe=["slotProps"];function Xre(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function Zre(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function eoe(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function y_(e){return typeof e=="function"?e():e}const oKe=e=>{const{classes:t}=e;return Ln({root:["root"],paper:["paper"]},eKe,t)},sKe=it(p3,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Jpe=it(_s,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Xpe=a.forwardRef(function(t,n){var o,s,i;const c=Ir({props:t,name:"MuiPopover"}),{action:u,anchorEl:d,anchorOrigin:p={vertical:"top",horizontal:"left"},anchorPosition:m,anchorReference:f="anchorEl",children:h,className:g,container:x,elevation:y=8,marginThreshold:D=16,open:v,PaperProps:T={},slots:I,slotProps:P,transformOrigin:E={vertical:"top",horizontal:"left"},TransitionComponent:k=vC,transitionDuration:w="auto",TransitionProps:{onEntering:A}={},disableScrollLock:F=!1}=c,_=It(c.TransitionProps,tKe),L=It(c,nKe),K=(o=P==null?void 0:P.paper)!=null?o:T,z=a.useRef(),J=xo(z,K.ref),Q=$({},c,{anchorOrigin:p,anchorReference:f,elevation:y,marginThreshold:D,externalPaperSlotProps:K,transformOrigin:E,TransitionComponent:k,transitionDuration:w,TransitionProps:_}),V=oKe(Q),W=a.useCallback(()=>{if(f==="anchorPosition")return m;const ee=y_(d),ke=(ee&&ee.nodeType===1?ee:js(z.current).body).getBoundingClientRect();return{top:ke.top+Xre(ke,p.vertical),left:ke.left+Zre(ke,p.horizontal)}},[d,p.horizontal,p.vertical,m,f]),U=a.useCallback(ee=>({vertical:Xre(ee,E.vertical),horizontal:Zre(ee,E.horizontal)}),[E.horizontal,E.vertical]),X=a.useCallback(ee=>{const De={width:ee.offsetWidth,height:ee.offsetHeight},ke=U(De);if(f==="none")return{top:null,left:null,transformOrigin:eoe(ke)};const He=W();let qe=He.top-ke.vertical,Le=He.left-ke.horizontal;const _e=qe+De.height,H=Le+De.width,re=ll(y_(d)),q=re.innerHeight-D,Y=re.innerWidth-D;if(D!==null&&qe<D){const ie=qe-D;qe-=ie,ke.vertical+=ie}else if(D!==null&&_e>q){const ie=_e-q;qe-=ie,ke.vertical+=ie}if(D!==null&&Le<D){const ie=Le-D;Le-=ie,ke.horizontal+=ie}else if(H>Y){const ie=H-Y;Le-=ie,ke.horizontal+=ie}return{top:`${Math.round(qe)}px`,left:`${Math.round(Le)}px`,transformOrigin:eoe(ke)}},[d,f,W,U,D]),[te,se]=a.useState(v),he=a.useCallback(()=>{const ee=z.current;if(!ee)return;const De=X(ee);De.top!==null&&(ee.style.top=De.top),De.left!==null&&(ee.style.left=De.left),ee.style.transformOrigin=De.transformOrigin,se(!0)},[X]);a.useEffect(()=>(F&&window.addEventListener("scroll",he),()=>window.removeEventListener("scroll",he)),[d,F,he]);const pe=(ee,De)=>{A&&A(ee,De),he()},ue=()=>{se(!1)};a.useEffect(()=>{v&&he()}),a.useImperativeHandle(u,()=>v?{updatePosition:()=>{he()}}:null,[v,he]),a.useEffect(()=>{if(!v)return;const ee=yD(()=>{he()}),De=ll(d);return De.addEventListener("resize",ee),()=>{ee.clear(),De.removeEventListener("resize",ee)}},[d,v,he]);let ge=w;w==="auto"&&!k.muiSupportAuto&&(ge=void 0);const Ce=x||(d?js(y_(d)).body:void 0),Te=(s=I==null?void 0:I.root)!=null?s:sKe,Ne=(i=I==null?void 0:I.paper)!=null?i:Jpe,xe=Yc({elementType:Ne,externalSlotProps:$({},K,{style:te?K.style:$({},K.style,{opacity:0})}),additionalProps:{elevation:y,ref:J},ownerState:Q,className:Nt(V.paper,K==null?void 0:K.className)}),me=Yc({elementType:Te,externalSlotProps:(P==null?void 0:P.root)||{},externalForwardedProps:L,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:Ce,open:v},ownerState:Q,className:Nt(V.root,g)}),{slotProps:de}=me,ce=It(me,rKe);return r.jsx(Te,$({},ce,!xC(Te)&&{slotProps:de,disableScrollLock:F},{children:r.jsx(k,$({appear:!0,in:v,onEntering:pe,onExited:ue,timeout:ge},_,{children:r.jsx(Ne,$({},xe,{children:h}))}))}))});function aKe(e){return $n("MuiMenu",e)}Bn("MuiMenu",["root","paper","list"]);const iKe=["onEntering"],lKe=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],cKe={vertical:"top",horizontal:"right"},uKe={vertical:"top",horizontal:"left"},dKe=e=>{const{classes:t}=e;return Ln({root:["root"],paper:["paper"],list:["list"]},aKe,t)},pKe=it(Xpe,{shouldForwardProp:e=>Ha(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),mKe=it(Jpe,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),fKe=it(xw,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),Zpe=a.forwardRef(function(t,n){var o,s;const i=Ir({props:t,name:"MuiMenu"}),{autoFocus:c=!0,children:u,className:d,disableAutoFocusItem:p=!1,MenuListProps:m={},onClose:f,open:h,PaperProps:g={},PopoverClasses:x,transitionDuration:y="auto",TransitionProps:{onEntering:D}={},variant:v="selectedMenu",slots:T={},slotProps:I={}}=i,P=It(i.TransitionProps,iKe),E=It(i,lKe),k=TT(),w=$({},i,{autoFocus:c,disableAutoFocusItem:p,MenuListProps:m,onEntering:D,PaperProps:g,transitionDuration:y,TransitionProps:P,variant:v}),A=dKe(w),F=c&&!p&&h,_=a.useRef(null),L=(U,X)=>{_.current&&_.current.adjustStyleForScrollbar(U,{direction:k?"rtl":"ltr"}),D&&D(U,X)},K=U=>{U.key==="Tab"&&(U.preventDefault(),f&&f(U,"tabKeyDown"))};let z=-1;a.Children.map(u,(U,X)=>{a.isValidElement(U)&&(U.props.disabled||(v==="selectedMenu"&&U.props.selected||z===-1)&&(z=X))});const J=(o=T.paper)!=null?o:mKe,Q=(s=I.paper)!=null?s:g,V=Yc({elementType:T.root,externalSlotProps:I.root,ownerState:w,className:[A.root,d]}),W=Yc({elementType:J,externalSlotProps:Q,ownerState:w,className:A.paper});return r.jsx(pKe,$({onClose:f,anchorOrigin:{vertical:"bottom",horizontal:k?"right":"left"},transformOrigin:k?cKe:uKe,slots:{paper:J,root:T.root},slotProps:{root:V,paper:W},open:h,ref:n,transitionDuration:y,TransitionProps:$({onEntering:L},P),ownerState:w},E,{classes:x,children:r.jsx(fKe,$({onKeyDown:K,actions:_,autoFocus:c&&(z===-1||p),autoFocusItem:F,variant:v},m,{className:Nt(A.list,m.className),children:u}))}))});function hKe(e){return $n("MuiMenuItem",e)}const y0=Bn("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),gKe=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],bKe=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]},xKe=e=>{const{disabled:t,dense:n,divider:o,disableGutters:s,selected:i,classes:c}=e,d=Ln({root:["root",n&&"dense",t&&"disabled",!s&&"gutters",o&&"divider",i&&"selected"]},hKe,c);return $({},c,d)},yKe=it(qd,{shouldForwardProp:e=>Ha(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:bKe})(({theme:e,ownerState:t})=>$({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${y0.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Wr.alpha(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${y0.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Wr.alpha(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${y0.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Wr.alpha(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Wr.alpha(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${y0.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${y0.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${qre.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${qre.inset}`]:{marginLeft:52},[`& .${sR.root}`]:{marginTop:0,marginBottom:0},[`& .${sR.inset}`]:{paddingLeft:36},[`& .${Yre.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&$({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${Yre.root} svg`]:{fontSize:"1.25rem"}}))),$h=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiMenuItem"}),{autoFocus:s=!1,component:i="li",dense:c=!1,divider:u=!1,disableGutters:d=!1,focusVisibleClassName:p,role:m="menuitem",tabIndex:f,className:h}=o,g=It(o,gKe),x=a.useContext(Wd),y=a.useMemo(()=>({dense:c||x.dense||!1,disableGutters:d}),[x.dense,c,d]),D=a.useRef(null);Us(()=>{s&&D.current&&D.current.focus()},[s]);const v=$({},o,{dense:y.dense,divider:u,disableGutters:d}),T=xKe(o),I=xo(D,n);let P;return o.disabled||(P=f!==void 0?f:-1),r.jsx(Wd.Provider,{value:y,children:r.jsx(yKe,$({ref:I,role:m,tabIndex:P,component:i,focusVisibleClassName:Nt(T.focusVisible,p),className:Nt(T.root,h)},g,{ownerState:v,classes:T}))})});function CKe(e){return $n("MuiNativeSelect",e)}const C3=Bn("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),DKe=["className","disabled","error","IconComponent","inputRef","variant"],SKe=e=>{const{classes:t,variant:n,disabled:o,multiple:s,open:i,error:c}=e,u={select:["select",n,o&&"disabled",s&&"multiple",c&&"error"],icon:["icon",`icon${zt(n)}`,i&&"iconOpen",o&&"disabled"]};return Ln(u,CKe,t)},eme=({ownerState:e,theme:t})=>$({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":$({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${C3.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),vKe=it("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Ha,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${C3.multiple}`]:t.multiple}]}})(eme),tme=({ownerState:e,theme:t})=>$({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${C3.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),jKe=it("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${zt(n.variant)}`],n.open&&t.iconOpen]}})(tme),IKe=a.forwardRef(function(t,n){const{className:o,disabled:s,error:i,IconComponent:c,inputRef:u,variant:d="standard"}=t,p=It(t,DKe),m=$({},t,{disabled:s,variant:d,error:i}),f=SKe(m);return r.jsxs(a.Fragment,{children:[r.jsx(vKe,$({ownerState:m,className:Nt(f.select,o),disabled:s,ref:u||n},p)),t.multiple?null:r.jsx(jKe,{as:c,ownerState:m,className:f.icon})]})});function TKe(e){const{children:t,defer:n=!1,fallback:o=null}=e,[s,i]=a.useState(!1);return Us(()=>{n||i(!0)},[n]),a.useEffect(()=>{n&&i(!0)},[n]),r.jsx(a.Fragment,{children:s?t:o})}var toe;const OKe=["children","classes","className","label","notched"],EKe=it("fieldset",{shouldForwardProp:Ha})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),PKe=it("legend",{shouldForwardProp:Ha})(({ownerState:e,theme:t})=>$({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&$({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function RKe(e){const{className:t,label:n,notched:o}=e,s=It(e,OKe),i=n!=null&&n!=="",c=$({},e,{notched:o,withLabel:i});return r.jsx(EKe,$({"aria-hidden":!0,className:t,ownerState:c},s,{children:r.jsx(PKe,{ownerState:c,children:i?r.jsx("span",{children:n}):toe||(toe=r.jsx("span",{className:"notranslate",children:""}))})}))}const wKe=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],kKe=e=>{const{classes:t}=e,o=Ln({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},_He,t);return $({},t,o)},AKe=it(fw,{shouldForwardProp:e=>Ha(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:pw})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return $({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${wp.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${wp.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${wp.focused} .${wp.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${wp.error} .${wp.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${wp.disabled} .${wp.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&$({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),NKe=it(RKe,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),FKe=it(hw,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:mw})(({theme:e,ownerState:t})=>$({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),D3=a.forwardRef(function(t,n){var o,s,i,c,u;const d=Ir({props:t,name:"MuiOutlinedInput"}),{components:p={},fullWidth:m=!1,inputComponent:f="input",label:h,multiline:g=!1,notched:x,slots:y={},type:D="text"}=d,v=It(d,wKe),T=kKe(d),I=Zp(),P=Gh({props:d,muiFormControl:I,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),E=$({},d,{color:P.color||"primary",disabled:P.disabled,error:P.error,focused:P.focused,formControl:I,fullWidth:m,hiddenLabel:P.hiddenLabel,multiline:g,size:P.size,type:D}),k=(o=(s=y.root)!=null?s:p.Root)!=null?o:AKe,w=(i=(c=y.input)!=null?c:p.Input)!=null?i:FKe;return r.jsx(PT,$({slots:{root:k,input:w},renderSuffix:A=>r.jsx(NKe,{ownerState:E,className:T.notchedOutline,label:h!=null&&h!==""&&P.required?u||(u=r.jsxs(a.Fragment,{children:[h,"","*"]})):h,notched:typeof x<"u"?x:!!(A.startAdornment||A.filled||A.focused)}),fullWidth:m,inputComponent:f,multiline:g,ref:n,type:D},v,{classes:$({},T,{notchedOutline:null})}))});D3.muiName="Input";const MKe=xs(r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),_Ke=xs(r.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),LKe=it("span",{shouldForwardProp:Ha})({position:"relative",display:"flex"}),$Ke=it(MKe)({transform:"scale(1)"}),BKe=it(_Ke)(({theme:e,ownerState:t})=>$({left:0,position:"absolute",transform:"scale(0)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeIn,duration:e.transitions.duration.shortest})},t.checked&&{transform:"scale(1)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.shortest})}));function nme(e){const{checked:t=!1,classes:n={},fontSize:o}=e,s=$({},e,{checked:t});return r.jsxs(LKe,{className:n.root,ownerState:s,children:[r.jsx($Ke,{fontSize:o,className:n.background,ownerState:s}),r.jsx(BKe,{fontSize:o,className:n.dot,ownerState:s})]})}const rme=a.createContext(void 0);function WKe(){return a.useContext(rme)}function UKe(e){return $n("MuiRadio",e)}const noe=Bn("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),qKe=["checked","checkedIcon","color","icon","name","onChange","size","className"],VKe=e=>{const{classes:t,color:n,size:o}=e,s={root:["root",`color${zt(n)}`,o!=="medium"&&`size${zt(o)}`]};return $({},t,Ln(s,UKe,t))},zKe=it(u3,{shouldForwardProp:e=>Ha(e)||e==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size!=="medium"&&t[`size${zt(n.size)}`],t[`color${zt(n.color)}`]]}})(({theme:e,ownerState:t})=>$({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${t.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Wr.alpha(t.color==="default"?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${noe.checked}`]:{color:(e.vars||e).palette[t.color].main}},{[`&.${noe.disabled}`]:{color:(e.vars||e).palette.action.disabled}}));function HKe(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}const roe=r.jsx(nme,{checked:!0}),ooe=r.jsx(nme,{}),o$=a.forwardRef(function(t,n){var o,s;const i=Ir({props:t,name:"MuiRadio"}),{checked:c,checkedIcon:u=roe,color:d="primary",icon:p=ooe,name:m,onChange:f,size:h="medium",className:g}=i,x=It(i,qKe),y=$({},i,{color:d,size:h}),D=VKe(y),v=WKe();let T=c;const I=tR(f,v&&v.onChange);let P=m;return v&&(typeof T>"u"&&(T=HKe(v.value,i.value)),typeof P>"u"&&(P=v.name)),r.jsx(zKe,$({type:"radio",icon:a.cloneElement(p,{fontSize:(o=ooe.props.fontSize)!=null?o:h}),checkedIcon:a.cloneElement(u,{fontSize:(s=roe.props.fontSize)!=null?s:h}),ownerState:y,classes:D,name:P,checked:T,onChange:I,ref:n,className:Nt(D.root,g)},x))});function GKe(e){return $n("MuiRadioGroup",e)}Bn("MuiRadioGroup",["root","row","error"]);const KKe=["actions","children","className","defaultValue","name","onChange","value"],QKe=e=>{const{classes:t,row:n,error:o}=e;return Ln({root:["root",n&&"row",o&&"error"]},GKe,t)},YKe=a.forwardRef(function(t,n){const{actions:o,children:s,className:i,defaultValue:c,name:u,onChange:d,value:p}=t,m=It(t,KKe),f=a.useRef(null),h=QKe(t),[g,x]=Vi({controlled:p,default:c,name:"RadioGroup"});a.useImperativeHandle(o,()=>({focus:()=>{let T=f.current.querySelector("input:not(:disabled):checked");T||(T=f.current.querySelector("input:not(:disabled)")),T&&T.focus()}}),[]);const y=xo(n,f),D=rd(u),v=a.useMemo(()=>({name:D,onChange(T){x(T.target.value),d&&d(T,T.target.value)},value:g}),[D,d,x,g]);return r.jsx(rme.Provider,{value:v,children:r.jsx(h3,$({role:"radiogroup",ref:y,className:Nt(h.root,i)},m,{children:s}))})});function JKe(e){return $n("MuiSelect",e)}const C0=Bn("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var soe;const XKe=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],ZKe=it("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${C0.select}`]:t.select},{[`&.${C0.select}`]:t[n.variant]},{[`&.${C0.error}`]:t.error},{[`&.${C0.multiple}`]:t.multiple}]}})(eme,{[`&.${C0.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),eQe=it("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${zt(n.variant)}`],n.open&&t.iconOpen]}})(tme),tQe=it("input",{shouldForwardProp:e=>xpe(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function aoe(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function nQe(e){return e==null||typeof e=="string"&&!e.trim()}const rQe=e=>{const{classes:t,variant:n,disabled:o,multiple:s,open:i,error:c}=e,u={select:["select",n,o&&"disabled",s&&"multiple",c&&"error"],icon:["icon",`icon${zt(n)}`,i&&"iconOpen",o&&"disabled"],nativeInput:["nativeInput"]};return Ln(u,JKe,t)},oQe=a.forwardRef(function(t,n){var o;const{"aria-describedby":s,"aria-label":i,autoFocus:c,autoWidth:u,children:d,className:p,defaultOpen:m,defaultValue:f,disabled:h,displayEmpty:g,error:x=!1,IconComponent:y,inputRef:D,labelId:v,MenuProps:T={},multiple:I,name:P,onBlur:E,onChange:k,onClose:w,onFocus:A,onOpen:F,open:_,readOnly:L,renderValue:K,SelectDisplayProps:z={},tabIndex:J,value:Q,variant:V="standard"}=t,W=It(t,XKe),[U,X]=Vi({controlled:Q,default:f,name:"Select"}),[te,se]=Vi({controlled:_,default:m,name:"Select"}),he=a.useRef(null),pe=a.useRef(null),[ue,ge]=a.useState(null),{current:Ce}=a.useRef(_!=null),[Te,Ne]=a.useState(),xe=xo(n,D),me=a.useCallback(be=>{pe.current=be,be&&ge(be)},[]),de=ue==null?void 0:ue.parentNode;a.useImperativeHandle(xe,()=>({focus:()=>{pe.current.focus()},node:he.current,value:U}),[U]),a.useEffect(()=>{m&&te&&ue&&!Ce&&(Ne(u?null:de.clientWidth),pe.current.focus())},[ue,u]),a.useEffect(()=>{c&&pe.current.focus()},[c]),a.useEffect(()=>{if(!v)return;const be=js(pe.current).getElementById(v);if(be){const Me=()=>{getSelection().isCollapsed&&pe.current.focus()};return be.addEventListener("click",Me),()=>{be.removeEventListener("click",Me)}}},[v]);const ce=(be,Me)=>{be?F&&F(Me):w&&w(Me),Ce||(Ne(u?null:de.clientWidth),se(be))},ee=be=>{be.button===0&&(be.preventDefault(),pe.current.focus(),ce(!0,be))},De=be=>{ce(!1,be)},ke=a.Children.toArray(d),He=be=>{const Me=ke.find(we=>we.props.value===be.target.value);Me!==void 0&&(X(Me.props.value),k&&k(be,Me))},qe=be=>Me=>{let we;if(Me.currentTarget.hasAttribute("tabindex")){if(I){we=Array.isArray(U)?U.slice():[];const Ge=U.indexOf(be.props.value);Ge===-1?we.push(be.props.value):we.splice(Ge,1)}else we=be.props.value;if(be.props.onClick&&be.props.onClick(Me),U!==we&&(X(we),k)){const Ge=Me.nativeEvent||Me,We=new Ge.constructor(Ge.type,Ge);Object.defineProperty(We,"target",{writable:!0,value:{value:we,name:P}}),k(We,be)}I||ce(!1,Me)}},Le=be=>{L||[" ","ArrowUp","ArrowDown","Enter"].indexOf(be.key)!==-1&&(be.preventDefault(),ce(!0,be))},_e=ue!==null&&te,H=be=>{!_e&&E&&(Object.defineProperty(be,"target",{writable:!0,value:{value:U,name:P}}),E(be))};delete W["aria-invalid"];let re,q;const Y=[];let ie=!1;(oR({value:U})||g)&&(K?re=K(U):ie=!0);const B=ke.map(be=>{if(!a.isValidElement(be))return null;let Me;if(I){if(!Array.isArray(U))throw new Error(cf(2));Me=U.some(we=>aoe(we,be.props.value)),Me&&ie&&Y.push(be.props.children)}else Me=aoe(U,be.props.value),Me&&ie&&(q=be.props.children);return a.cloneElement(be,{"aria-selected":Me?"true":"false",onClick:qe(be),onKeyUp:we=>{we.key===" "&&we.preventDefault(),be.props.onKeyUp&&be.props.onKeyUp(we)},role:"option",selected:Me,value:void 0,"data-value":be.props.value})});ie&&(I?Y.length===0?re=null:re=Y.reduce((be,Me,we)=>(be.push(Me),we<Y.length-1&&be.push(", "),be),[]):re=q);let Z=Te;!u&&Ce&&ue&&(Z=de.clientWidth);let ye;typeof J<"u"?ye=J:ye=h?null:0;const Ie=z.id||(P?`mui-component-select-${P}`:void 0),le=$({},t,{variant:V,value:U,open:_e,error:x}),fe=rQe(le),Ae=$({},T.PaperProps,(o=T.slotProps)==null?void 0:o.paper),Se=rd();return r.jsxs(a.Fragment,{children:[r.jsx(ZKe,$({ref:me,tabIndex:ye,role:"combobox","aria-controls":Se,"aria-disabled":h?"true":void 0,"aria-expanded":_e?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[v,Ie].filter(Boolean).join(" ")||void 0,"aria-describedby":s,onKeyDown:Le,onMouseDown:h||L?null:ee,onBlur:H,onFocus:A},z,{ownerState:le,className:Nt(z.className,fe.select,p),id:Ie,children:nQe(re)?soe||(soe=r.jsx("span",{className:"notranslate",children:""})):re})),r.jsx(tQe,$({"aria-invalid":x,value:Array.isArray(U)?U.join(","):U,name:P,ref:he,"aria-hidden":!0,onChange:He,tabIndex:-1,disabled:h,className:fe.nativeInput,autoFocus:c,ownerState:le},W)),r.jsx(eQe,{as:y,className:fe.icon,ownerState:le}),r.jsx(Zpe,$({id:`menu-${P||""}`,anchorEl:de,open:_e,onClose:De,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},T,{MenuListProps:$({"aria-labelledby":v,role:"listbox","aria-multiselectable":I?"true":void 0,disableListWrap:!0,id:Se},T.MenuListProps),slotProps:$({},T.slotProps,{paper:$({},Ae,{style:$({minWidth:Z},Ae!=null?Ae.style:null)})}),children:B}))]})}),sQe=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],aQe=["root"],iQe=e=>{const{classes:t}=e;return t},S3={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>Ha(e)&&e!=="variant",slot:"Root"},lQe=it(g3,S3)(""),cQe=it(D3,S3)(""),uQe=it(m3,S3)(""),v3=a.forwardRef(function(t,n){const o=Ir({name:"MuiSelect",props:t}),{autoWidth:s=!1,children:i,classes:c={},className:u,defaultOpen:d=!1,displayEmpty:p=!1,IconComponent:m=Ape,id:f,input:h,inputProps:g,label:x,labelId:y,MenuProps:D,multiple:v=!1,native:T=!1,onClose:I,onOpen:P,open:E,renderValue:k,SelectDisplayProps:w,variant:A="outlined"}=o,F=It(o,sQe),_=T?IKe:oQe,L=Zp(),K=Gh({props:o,muiFormControl:L,states:["variant","error"]}),z=K.variant||A,J=$({},o,{variant:z,classes:c}),Q=iQe(J),V=It(Q,aQe),W=h||{standard:r.jsx(lQe,{ownerState:J}),outlined:r.jsx(cQe,{label:x,ownerState:J}),filled:r.jsx(uQe,{ownerState:J})}[z],U=xo(n,W.ref);return r.jsx(a.Fragment,{children:a.cloneElement(W,$({inputComponent:_,inputProps:$({children:i,error:K.error,IconComponent:m,variant:z,type:void 0,multiple:v},T?{id:f}:{autoWidth:s,defaultOpen:d,displayEmpty:p,labelId:y,MenuProps:D,onClose:I,onOpen:P,open:E,renderValue:k,SelectDisplayProps:$({id:f},w)},g,{classes:g?jl(V,g.classes):V},h?h.props.inputProps:{})},(v&&T||p)&&z==="outlined"?{notched:!0}:{},{ref:U,className:Nt(W.props.className,u,Q.root)},!h&&{variant:z},F))})});v3.muiName="Select";function dQe(e){return $n("MuiSkeleton",e)}Bn("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const pQe=["animation","className","component","height","style","variant","width"];let aR=e=>e,ioe,loe,coe,uoe;const mQe=e=>{const{classes:t,variant:n,animation:o,hasChildren:s,width:i,height:c}=e;return Ln({root:["root",n,o,s&&"withChildren",s&&!i&&"fitContent",s&&!c&&"heightAuto"]},dQe,t)},fQe=zh(ioe||(ioe=aR`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),hQe=zh(loe||(loe=aR`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),gQe=it("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.animation!==!1&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})(({theme:e,ownerState:t})=>{const n=hqe(e.shape.borderRadius)||"px",o=gqe(e.shape.borderRadius);return $({display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:Ti(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em"},t.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${o}${n}/${Math.round(o/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}},t.variant==="circular"&&{borderRadius:"50%"},t.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},t.hasChildren&&{"& > *":{visibility:"hidden"}},t.hasChildren&&!t.width&&{maxWidth:"fit-content"},t.hasChildren&&!t.height&&{height:"auto"})},({ownerState:e})=>e.animation==="pulse"&&hC(coe||(coe=aR`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),fQe),({ownerState:e,theme:t})=>e.animation==="wave"&&hC(uoe||(uoe=aR`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),hQe,(t.vars||t).palette.action.hover)),ji=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiSkeleton"}),{animation:s="pulse",className:i,component:c="span",height:u,style:d,variant:p="text",width:m}=o,f=It(o,pQe),h=$({},o,{animation:s,component:c,variant:p,hasChildren:!!f.children}),g=mQe(h);return r.jsx(gQe,$({as:c,ref:n,className:Nt(g.root,i),ownerState:h},f,{style:$({width:m,height:u},d)}))});function bQe(e){return $n("MuiTooltip",e)}const Ih=Bn("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),xQe=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function yQe(e){return Math.round(e*1e5)/1e5}const CQe=e=>{const{classes:t,disableInteractive:n,arrow:o,touch:s,placement:i}=e,c={popper:["popper",!n&&"popperInteractive",o&&"popperArrow"],tooltip:["tooltip",o&&"tooltipArrow",s&&"touch",`tooltipPlacement${zt(i.split("-")[0])}`],arrow:["arrow"]};return Ln(c,bQe,t)},DQe=it(Xp,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(({theme:e,ownerState:t,open:n})=>$({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${Ih.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Ih.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Ih.arrow}`]:$({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Ih.arrow}`]:$({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),SQe=it("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${zt(n.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>$({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:Wr.alpha(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${yQe(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${Ih.popper}[data-popper-placement*="left"] &`]:$({transformOrigin:"right center"},t.isRtl?$({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):$({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${Ih.popper}[data-popper-placement*="right"] &`]:$({transformOrigin:"left center"},t.isRtl?$({marginRight:"14px"},t.touch&&{marginRight:"24px"}):$({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${Ih.popper}[data-popper-placement*="top"] &`]:$({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${Ih.popper}[data-popper-placement*="bottom"] &`]:$({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),vQe=it("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:Wr.alpha(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let YE=!1;const doe=new YB;let D0={x:0,y:0};function JE(e,t){return(n,...o)=>{t&&t(n,...o),e(n,...o)}}const jr=a.forwardRef(function(t,n){var o,s,i,c,u,d,p,m,f,h,g,x,y,D,v,T,I,P,E;const k=Ir({props:t,name:"MuiTooltip"}),{arrow:w=!1,children:A,components:F={},componentsProps:_={},describeChild:L=!1,disableFocusListener:K=!1,disableHoverListener:z=!1,disableInteractive:J=!1,disableTouchListener:Q=!1,enterDelay:V=100,enterNextDelay:W=0,enterTouchDelay:U=700,followCursor:X=!1,id:te,leaveDelay:se=0,leaveTouchDelay:he=1500,onClose:pe,onOpen:ue,open:ge,placement:Ce="bottom",PopperComponent:Te,PopperProps:Ne={},slotProps:xe={},slots:me={},title:de,TransitionComponent:ce=vC,TransitionProps:ee}=k,De=It(k,xQe),ke=a.isValidElement(A)?A:r.jsx("span",{children:A}),He=qs(),qe=TT(),[Le,_e]=a.useState(),[H,re]=a.useState(null),q=a.useRef(!1),Y=J||X,ie=db(),B=db(),Z=db(),ye=db(),[Ie,le]=Vi({controlled:ge,default:!1,name:"Tooltip",state:"open"});let fe=Ie;const Ae=rd(te),Se=a.useRef(),be=tr(()=>{Se.current!==void 0&&(document.body.style.WebkitUserSelect=Se.current,Se.current=void 0),ye.clear()});a.useEffect(()=>be,[be]);const Me=sn=>{doe.clear(),YE=!0,le(!0),ue&&!fe&&ue(sn)},we=tr(sn=>{doe.start(800+se,()=>{YE=!1}),le(!1),pe&&fe&&pe(sn),ie.start(He.transitions.duration.shortest,()=>{q.current=!1})}),Ge=sn=>{q.current&&sn.type!=="touchstart"||(Le&&Le.removeAttribute("title"),B.clear(),Z.clear(),V||YE&&W?B.start(YE?W:V,()=>{Me(sn)}):Me(sn))},We=sn=>{B.clear(),Z.start(se,()=>{we(sn)})},{isFocusVisibleRef:Ee,onBlur:Xe,onFocus:ot,ref:ze}=rw(),[,tt]=a.useState(!1),ft=sn=>{Xe(sn),Ee.current===!1&&(tt(!1),We(sn))},ht=sn=>{Le||_e(sn.currentTarget),ot(sn),Ee.current===!0&&(tt(!0),Ge(sn))},en=sn=>{q.current=!0;const Sr=ke.props;Sr.onTouchStart&&Sr.onTouchStart(sn)},un=sn=>{en(sn),Z.clear(),ie.clear(),be(),Se.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ye.start(U,()=>{document.body.style.WebkitUserSelect=Se.current,Ge(sn)})},Je=sn=>{ke.props.onTouchEnd&&ke.props.onTouchEnd(sn),be(),Z.start(he,()=>{we(sn)})};a.useEffect(()=>{if(!fe)return;function sn(Sr){(Sr.key==="Escape"||Sr.key==="Esc")&&we(Sr)}return document.addEventListener("keydown",sn),()=>{document.removeEventListener("keydown",sn)}},[we,fe]);const qt=xo(ke.ref,ze,_e,n);!de&&de!==0&&(fe=!1);const Tt=a.useRef(),Jt=sn=>{const Sr=ke.props;Sr.onMouseMove&&Sr.onMouseMove(sn),D0={x:sn.clientX,y:sn.clientY},Tt.current&&Tt.current.update()},st={},Dt=typeof de=="string";L?(st.title=!fe&&Dt&&!z?de:null,st["aria-describedby"]=fe?Ae:null):(st["aria-label"]=Dt?de:null,st["aria-labelledby"]=fe&&!Dt?Ae:null);const Gt=$({},st,De,ke.props,{className:Nt(De.className,ke.props.className),onTouchStart:en,ref:qt},X?{onMouseMove:Jt}:{}),An={};Q||(Gt.onTouchStart=un,Gt.onTouchEnd=Je),z||(Gt.onMouseOver=JE(Ge,Gt.onMouseOver),Gt.onMouseLeave=JE(We,Gt.onMouseLeave),Y||(An.onMouseOver=Ge,An.onMouseLeave=We)),K||(Gt.onFocus=JE(ht,Gt.onFocus),Gt.onBlur=JE(ft,Gt.onBlur),Y||(An.onFocus=ht,An.onBlur=ft));const _n=a.useMemo(()=>{var sn;let Sr=[{name:"arrow",enabled:!!H,options:{element:H,padding:4}}];return(sn=Ne.popperOptions)!=null&&sn.modifiers&&(Sr=Sr.concat(Ne.popperOptions.modifiers)),$({},Ne.popperOptions,{modifiers:Sr})},[H,Ne]),pt=$({},k,{isRtl:qe,arrow:w,disableInteractive:Y,placement:Ce,PopperComponentProp:Te,touch:q.current}),Rt=CQe(pt),Ze=(o=(s=me.popper)!=null?s:F.Popper)!=null?o:DQe,dn=(i=(c=(u=me.transition)!=null?u:F.Transition)!=null?c:ce)!=null?i:vC,Yt=(d=(p=me.tooltip)!=null?p:F.Tooltip)!=null?d:SQe,lt=(m=(f=me.arrow)!=null?f:F.Arrow)!=null?m:vQe,Qe=zy(Ze,$({},Ne,(h=xe.popper)!=null?h:_.popper,{className:Nt(Rt.popper,Ne==null?void 0:Ne.className,(g=(x=xe.popper)!=null?x:_.popper)==null?void 0:g.className)}),pt),rn=zy(dn,$({},ee,(y=xe.transition)!=null?y:_.transition),pt),Cn=zy(Yt,$({},(D=xe.tooltip)!=null?D:_.tooltip,{className:Nt(Rt.tooltip,(v=(T=xe.tooltip)!=null?T:_.tooltip)==null?void 0:v.className)}),pt),gr=zy(lt,$({},(I=xe.arrow)!=null?I:_.arrow,{className:Nt(Rt.arrow,(P=(E=xe.arrow)!=null?E:_.arrow)==null?void 0:P.className)}),pt);return r.jsxs(a.Fragment,{children:[a.cloneElement(ke,Gt),r.jsx(Ze,$({as:Te??Xp,placement:Ce,anchorEl:X?{getBoundingClientRect:()=>({top:D0.y,left:D0.x,right:D0.x,bottom:D0.y,width:0,height:0})}:Le,popperRef:Tt,open:Le?fe:!1,id:Ae,transition:!0},An,Qe,{popperOptions:_n,children:({TransitionProps:sn})=>r.jsx(dn,$({timeout:He.transitions.duration.shorter},sn,rn,{children:r.jsxs(Yt,$({},Cn,{children:[de,w?r.jsx(lt,$({},gr,{ref:re})):null]}))}))}))]})}),jQe=["anchor","classes","className","width","style"],IQe=it("div",{shouldForwardProp:Ha})(({theme:e,ownerState:t})=>$({position:"fixed",top:0,left:0,bottom:0,zIndex:e.zIndex.drawer-1},t.anchor==="left"&&{right:"auto"},t.anchor==="right"&&{left:"auto",right:0},t.anchor==="top"&&{bottom:"auto",right:0},t.anchor==="bottom"&&{top:"auto",bottom:0,right:0})),TQe=a.forwardRef(function(t,n){const{anchor:o,classes:s={},className:i,width:c,style:u}=t,d=It(t,jQe),p=t;return r.jsx(IQe,$({className:Nt("PrivateSwipeArea-root",s.root,s[`anchor${zt(o)}`],i),ref:n,style:$({[cb(o)?"width":"height"]:c},u),ownerState:p},d))}),OQe=["BackdropProps"],EQe=["anchor","disableBackdropTransition","disableDiscovery","disableSwipeToOpen","hideBackdrop","hysteresis","allowSwipeInChildren","minFlingVelocity","ModalProps","onClose","onOpen","open","PaperProps","SwipeAreaProps","swipeAreaWidth","transitionDuration","variant"],XE=3,C_=20;let Lm=null;function D_(e,t,n){return e==="right"?n.body.offsetWidth-t[0].pageX:t[0].pageX}function S_(e,t,n){return e==="bottom"?n.innerHeight-t[0].clientY:t[0].clientY}function S0(e,t){return e?t.clientWidth:t.clientHeight}function poe(e,t,n,o){return Math.min(Math.max(n?t-e:o+t-e,0),o)}function PQe(e,t){const n=[];for(;e&&e!==t.parentElement;){const o=ll(t).getComputedStyle(e);o.getPropertyValue("position")==="absolute"||o.getPropertyValue("overflow-x")==="hidden"||(e.clientWidth>0&&e.scrollWidth>e.clientWidth||e.clientHeight>0&&e.scrollHeight>e.clientHeight)&&n.push(e),e=e.parentElement}return n}function RQe({domTreeShapes:e,start:t,current:n,anchor:o}){const s={scrollPosition:{x:"scrollLeft",y:"scrollTop"},scrollLength:{x:"scrollWidth",y:"scrollHeight"},clientLength:{x:"clientWidth",y:"clientHeight"}};return e.some(i=>{let c=n>=t;(o==="top"||o==="left")&&(c=!c);const u=o==="left"||o==="right"?"x":"y",d=Math.round(i[s.scrollPosition[u]]),p=d>0,m=d+i[s.clientLength[u]]<i[s.scrollLength[u]];return!!(c&&m||!c&&p)})}const wQe=typeof navigator<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent),kQe=a.forwardRef(function(t,n){const o=Ir({name:"MuiSwipeableDrawer",props:t}),s=qs(),i={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{anchor:c="left",disableBackdropTransition:u=!1,disableDiscovery:d=!1,disableSwipeToOpen:p=wQe,hideBackdrop:m,hysteresis:f=.52,allowSwipeInChildren:h=!1,minFlingVelocity:g=450,ModalProps:{BackdropProps:x}={},onClose:y,onOpen:D,open:v=!1,PaperProps:T={},SwipeAreaProps:I,swipeAreaWidth:P=20,transitionDuration:E=i,variant:k="temporary"}=o,w=It(o.ModalProps,OQe),A=It(o,EQe),[F,_]=a.useState(!1),L=a.useRef({isSwiping:null}),K=a.useRef(),z=a.useRef(),J=a.useRef(),Q=xo(T.ref,J),V=a.useRef(!1),W=a.useRef();Us(()=>{W.current=null},[v]);const U=a.useCallback((pe,ue={})=>{const{mode:ge=null,changeTransition:Ce=!0}=ue,Te=Dj(s,c),Ne=["right","bottom"].indexOf(Te)!==-1?1:-1,xe=cb(c),me=xe?`translate(${Ne*pe}px, 0)`:`translate(0, ${Ne*pe}px)`,de=J.current.style;de.webkitTransform=me,de.transform=me;let ce="";if(ge&&(ce=s.transitions.create("all",uf({easing:void 0,style:void 0,timeout:E},{mode:ge}))),Ce&&(de.webkitTransition=ce,de.transition=ce),!u&&!m){const ee=z.current.style;ee.opacity=1-pe/S0(xe,J.current),Ce&&(ee.webkitTransition=ce,ee.transition=ce)}},[c,u,m,s,E]),X=tr(pe=>{if(!V.current)return;if(Lm=null,V.current=!1,kb.flushSync(()=>{_(!1)}),!L.current.isSwiping){L.current.isSwiping=null;return}L.current.isSwiping=null;const ue=Dj(s,c),ge=cb(c);let Ce;ge?Ce=D_(ue,pe.changedTouches,js(pe.currentTarget)):Ce=S_(ue,pe.changedTouches,ll(pe.currentTarget));const Te=ge?L.current.startX:L.current.startY,Ne=S0(ge,J.current),xe=poe(Ce,Te,v,Ne),me=xe/Ne;if(Math.abs(L.current.velocity)>g&&(W.current=Math.abs((Ne-xe)/L.current.velocity)*1e3),v){L.current.velocity>g||me>f?y():U(0,{mode:"exit"});return}L.current.velocity<-g||1-me>f?D():U(S0(ge,J.current),{mode:"enter"})}),te=(pe=!1)=>{if(!F){(pe||!(d&&h))&&kb.flushSync(()=>{_(!0)});const ue=cb(c);!v&&J.current&&U(S0(ue,J.current)+(d?15:-C_),{changeTransition:!1}),L.current.velocity=0,L.current.lastTime=null,L.current.lastTranslate=null,L.current.paperHit=!1,V.current=!0}},se=tr(pe=>{if(!J.current||!V.current||Lm!==null&&Lm!==L.current)return;te(!0);const ue=Dj(s,c),ge=cb(c),Ce=D_(ue,pe.touches,js(pe.currentTarget)),Te=S_(ue,pe.touches,ll(pe.currentTarget));if(v&&J.current.contains(pe.target)&&Lm===null){const ce=PQe(pe.target,J.current);if(RQe({domTreeShapes:ce,start:ge?L.current.startX:L.current.startY,current:ge?Ce:Te,anchor:c})){Lm=!0;return}Lm=L.current}if(L.current.isSwiping==null){const ce=Math.abs(Ce-L.current.startX),ee=Math.abs(Te-L.current.startY),De=ge?ce>ee&&ce>XE:ee>ce&&ee>XE;if(De&&pe.cancelable&&pe.preventDefault(),De===!0||(ge?ee>XE:ce>XE)){if(L.current.isSwiping=De,!De){X(pe);return}L.current.startX=Ce,L.current.startY=Te,!d&&!v&&(ge?L.current.startX-=C_:L.current.startY-=C_)}}if(!L.current.isSwiping)return;const Ne=S0(ge,J.current);let xe=ge?L.current.startX:L.current.startY;v&&!L.current.paperHit&&(xe=Math.min(xe,Ne));const me=poe(ge?Ce:Te,xe,v,Ne);if(v)if(L.current.paperHit)me===0&&(L.current.startX=Ce,L.current.startY=Te);else if(ge?Ce<Ne:Te<Ne)L.current.paperHit=!0,L.current.startX=Ce,L.current.startY=Te;else return;L.current.lastTranslate===null&&(L.current.lastTranslate=me,L.current.lastTime=performance.now()+1);const de=(me-L.current.lastTranslate)/(performance.now()-L.current.lastTime)*1e3;L.current.velocity=L.current.velocity*.4+de*.6,L.current.lastTranslate=me,L.current.lastTime=performance.now(),pe.cancelable&&pe.preventDefault(),U(me)}),he=tr(pe=>{if(pe.defaultPrevented||pe.defaultMuiPrevented||v&&(m||!z.current.contains(pe.target))&&!J.current.contains(pe.target))return;const ue=Dj(s,c),ge=cb(c),Ce=D_(ue,pe.touches,js(pe.currentTarget)),Te=S_(ue,pe.touches,ll(pe.currentTarget));if(!v){var Ne;if(p||!(pe.target===K.current||(Ne=J.current)!=null&&Ne.contains(pe.target)&&(typeof h=="function"?h(pe,K.current,J.current):h)))return;if(ge){if(Ce>P)return}else if(Te>P)return}pe.defaultMuiPrevented=!0,Lm=null,L.current.startX=Ce,L.current.startY=Te,te()});return a.useEffect(()=>{if(k==="temporary"){const pe=js(J.current);return pe.addEventListener("touchstart",he),pe.addEventListener("touchmove",se,{passive:!v}),pe.addEventListener("touchend",X),()=>{pe.removeEventListener("touchstart",he),pe.removeEventListener("touchmove",se,{passive:!v}),pe.removeEventListener("touchend",X)}}},[k,v,he,se,X]),a.useEffect(()=>()=>{Lm===L.current&&(Lm=null)},[]),a.useEffect(()=>{v||_(!1)},[v]),r.jsxs(a.Fragment,{children:[r.jsx(Vpe,$({open:k==="temporary"&&F?!0:v,variant:k,ModalProps:$({BackdropProps:$({},x,{ref:z})},k==="temporary"&&{keepMounted:!0},w),hideBackdrop:m,PaperProps:$({},T,{style:$({pointerEvents:k==="temporary"&&!v&&!h?"none":""},T.style),ref:Q}),anchor:c,transitionDuration:W.current||E,onClose:y,ref:n},A)),!p&&k==="temporary"&&r.jsx(TKe,{children:r.jsx(TQe,$({anchor:c,ref:K,width:P},I))})]})});function AQe(e){return $n("MuiSwitch",e)}const Dl=Bn("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),NQe=["className","color","edge","size","sx"],FQe=e=>{const{classes:t,edge:n,size:o,color:s,checked:i,disabled:c}=e,u={root:["root",n&&`edge${zt(n)}`,`size${zt(o)}`],switchBase:["switchBase",`color${zt(s)}`,i&&"checked",c&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},d=Ln(u,AQe,t);return $({},t,d)},MQe=it("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t[`edge${zt(n.edge)}`],t[`size${zt(n.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${Dl.thumb}`]:{width:16,height:16},[`& .${Dl.switchBase}`]:{padding:4,[`&.${Dl.checked}`]:{transform:"translateX(16px)"}}}}]}),_Qe=it(u3,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{[`& .${Dl.input}`]:t.input},n.color!=="default"&&t[`color${zt(n.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${Dl.checked}`]:{transform:"translateX(20px)"},[`&.${Dl.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${Dl.checked} + .${Dl.track}`]:{opacity:.5},[`&.${Dl.disabled} + .${Dl.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${Dl.input}`]:{left:"-100%",width:"300%"}}),({theme:e})=>({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Wr.alpha(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(([,t])=>t.main&&t.light).map(([t])=>({props:{color:t},style:{[`&.${Dl.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Wr.alpha(e.palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Dl.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?Wr.lighten(e.palette[t].main,.62):Wr.darken(e.palette[t].main,.55)}`}},[`&.${Dl.checked} + .${Dl.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]})),LQe=it("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`})),$Qe=it("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),BQe=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiSwitch"}),{className:s,color:i="primary",edge:c=!1,size:u="medium",sx:d}=o,p=It(o,NQe),m=$({},o,{color:i,edge:c,size:u}),f=FQe(m),h=r.jsx($Qe,{className:f.thumb,ownerState:m});return r.jsxs(MQe,{className:Nt(f.root,s),sx:d,ownerState:m,children:[r.jsx(_Qe,$({type:"checkbox",icon:h,checkedIcon:h,ref:n,ownerState:m},p,{classes:$({},f,{root:f.switchBase})})),r.jsx(LQe,{className:f.track,ownerState:m})]})});function WQe(e){return $n("MuiTab",e)}const hh=Bn("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),UQe=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],qQe=e=>{const{classes:t,textColor:n,fullWidth:o,wrapped:s,icon:i,label:c,selected:u,disabled:d}=e,p={root:["root",i&&c&&"labelIcon",`textColor${zt(n)}`,o&&"fullWidth",s&&"wrapped",u&&"selected",d&&"disabled"],iconWrapper:["iconWrapper"]};return Ln(p,WQe,t)},VQe=it(qd,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${zt(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,{[`& .${hh.iconWrapper}`]:t.iconWrapper}]}})(({theme:e,ownerState:t})=>$({},e.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:t.iconPosition==="top"||t.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${hh.iconWrapper}`]:$({},t.iconPosition==="top"&&{marginBottom:6},t.iconPosition==="bottom"&&{marginTop:6},t.iconPosition==="start"&&{marginRight:e.spacing(1)},t.iconPosition==="end"&&{marginLeft:e.spacing(1)})},t.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${hh.selected}`]:{opacity:1},[`&.${hh.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.textColor==="primary"&&{color:(e.vars||e).palette.text.secondary,[`&.${hh.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${hh.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.textColor==="secondary"&&{color:(e.vars||e).palette.text.secondary,[`&.${hh.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${hh.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:e.typography.pxToRem(12)})),Si=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiTab"}),{className:s,disabled:i=!1,disableFocusRipple:c=!1,fullWidth:u,icon:d,iconPosition:p="top",indicator:m,label:f,onChange:h,onClick:g,onFocus:x,selected:y,selectionFollowsFocus:D,textColor:v="inherit",value:T,wrapped:I=!1}=o,P=It(o,UQe),E=$({},o,{disabled:i,disableFocusRipple:c,selected:y,icon:!!d,iconPosition:p,label:!!f,fullWidth:u,textColor:v,wrapped:I}),k=qQe(E),w=d&&f&&a.isValidElement(d)?a.cloneElement(d,{className:Nt(k.iconWrapper,d.props.className)}):d,A=_=>{!y&&h&&h(_,T),g&&g(_)},F=_=>{D&&!y&&h&&h(_,T),x&&x(_)};return r.jsxs(VQe,$({focusRipple:!c,className:Nt(k.root,s),ref:n,role:"tab","aria-selected":y,disabled:i,onClick:A,onFocus:F,ownerState:E,tabIndex:y?0:-1},P,{children:[p==="top"||p==="start"?r.jsxs(a.Fragment,{children:[w,f]}):r.jsxs(a.Fragment,{children:[f,w]}),m]}))});function zQe(e){return $n("MuiToolbar",e)}Bn("MuiToolbar",["root","gutters","regular","dense"]);const HQe=["className","component","disableGutters","variant"],GQe=e=>{const{classes:t,disableGutters:n,variant:o}=e;return Ln({root:["root",!n&&"gutters",o]},zQe,t)},KQe=it("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(({theme:e,ownerState:t})=>$({position:"relative",display:"flex",alignItems:"center"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},t.variant==="dense"&&{minHeight:48}),({theme:e,ownerState:t})=>t.variant==="regular"&&e.mixins.toolbar),QQe=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiToolbar"}),{className:s,component:i="div",disableGutters:c=!1,variant:u="regular"}=o,d=It(o,HQe),p=$({},o,{component:i,disableGutters:c,variant:u}),m=GQe(p);return r.jsx(KQe,$({as:i,className:Nt(m.root,s),ref:n,ownerState:p},d))}),YQe=xs(r.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),JQe=xs(r.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function XQe(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function ZQe(e,t,n,o={},s=()=>{}){const{ease:i=XQe,duration:c=300}=o;let u=null;const d=t[e];let p=!1;const m=()=>{p=!0},f=h=>{if(p){s(new Error("Animation cancelled"));return}u===null&&(u=h);const g=Math.min(1,(h-u)/c);if(t[e]=i(g)*(n-d)+d,g>=1){requestAnimationFrame(()=>{s(null)});return}requestAnimationFrame(f)};return d===n?(s(new Error("Element already at target position")),m):(requestAnimationFrame(f),m)}const eYe=["onChange"],tYe={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function nYe(e){const{onChange:t}=e,n=It(e,eYe),o=a.useRef(),s=a.useRef(null),i=()=>{o.current=s.current.offsetHeight-s.current.clientHeight};return Us(()=>{const c=yD(()=>{const d=o.current;i(),d!==o.current&&t(o.current)}),u=ll(s.current);return u.addEventListener("resize",c),()=>{c.clear(),u.removeEventListener("resize",c)}},[t]),a.useEffect(()=>{i(),t(o.current)},[t]),r.jsx("div",$({style:tYe,ref:s},n))}function rYe(e){return $n("MuiTabScrollButton",e)}const oYe=Bn("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),sYe=["className","slots","slotProps","direction","orientation","disabled"],aYe=e=>{const{classes:t,orientation:n,disabled:o}=e;return Ln({root:["root",n,o&&"disabled"]},rYe,t)},iYe=it(qd,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})(({ownerState:e})=>$({width:40,flexShrink:0,opacity:.8,[`&.${oYe.disabled}`]:{opacity:0}},e.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${e.isRtl?-90:90}deg)`}})),lYe=a.forwardRef(function(t,n){var o,s;const i=Ir({props:t,name:"MuiTabScrollButton"}),{className:c,slots:u={},slotProps:d={},direction:p}=i,m=It(i,sYe),f=TT(),h=$({isRtl:f},i),g=aYe(h),x=(o=u.StartScrollButtonIcon)!=null?o:YQe,y=(s=u.EndScrollButtonIcon)!=null?s:JQe,D=Yc({elementType:x,externalSlotProps:d.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:h}),v=Yc({elementType:y,externalSlotProps:d.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:h});return r.jsx(iYe,$({component:"div",className:Nt(g.root,c),ref:n,role:null,ownerState:h,tabIndex:null},m,{children:p==="left"?r.jsx(x,$({},D)):r.jsx(y,$({},v))}))});function cYe(e){return $n("MuiTabs",e)}const v_=Bn("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),uYe=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],moe=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,foe=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,ZE=(e,t,n)=>{let o=!1,s=n(e,t);for(;s;){if(s===e.firstChild){if(o)return;o=!0}const i=s.disabled||s.getAttribute("aria-disabled")==="true";if(!s.hasAttribute("tabindex")||i)s=n(e,s);else{s.focus();return}}},dYe=e=>{const{vertical:t,fixed:n,hideScrollbar:o,scrollableX:s,scrollableY:i,centered:c,scrollButtonsHideMobile:u,classes:d}=e;return Ln({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",o&&"hideScrollbar",s&&"scrollableX",i&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",c&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",u&&"scrollButtonsHideMobile"],scrollableX:[s&&"scrollableX"],hideScrollbar:[o&&"hideScrollbar"]},cYe,d)},pYe=it("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${v_.scrollButtons}`]:t.scrollButtons},{[`& .${v_.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})(({ownerState:e,theme:t})=>$({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},e.vertical&&{flexDirection:"column"},e.scrollButtonsHideMobile&&{[`& .${v_.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}})),mYe=it("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})(({ownerState:e})=>$({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},e.fixed&&{overflowX:"hidden",width:"100%"},e.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},e.scrollableX&&{overflowX:"auto",overflowY:"hidden"},e.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),fYe=it("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})(({ownerState:e})=>$({display:"flex"},e.vertical&&{flexDirection:"column"},e.centered&&{justifyContent:"center"})),hYe=it("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(({ownerState:e,theme:t})=>$({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},e.indicatorColor==="primary"&&{backgroundColor:(t.vars||t).palette.primary.main},e.indicatorColor==="secondary"&&{backgroundColor:(t.vars||t).palette.secondary.main},e.vertical&&{height:"100%",width:2,right:0})),gYe=it(nYe)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),hoe={},bYe=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiTabs"}),s=qs(),i=TT(),{"aria-label":c,"aria-labelledby":u,action:d,centered:p=!1,children:m,className:f,component:h="div",allowScrollButtonsMobile:g=!1,indicatorColor:x="primary",onChange:y,orientation:D="horizontal",ScrollButtonComponent:v=lYe,scrollButtons:T="auto",selectionFollowsFocus:I,slots:P={},slotProps:E={},TabIndicatorProps:k={},TabScrollButtonProps:w={},textColor:A="primary",value:F,variant:_="standard",visibleScrollbar:L=!1}=o,K=It(o,uYe),z=_==="scrollable",J=D==="vertical",Q=J?"scrollTop":"scrollLeft",V=J?"top":"left",W=J?"bottom":"right",U=J?"clientHeight":"clientWidth",X=J?"height":"width",te=$({},o,{component:h,allowScrollButtonsMobile:g,indicatorColor:x,orientation:D,vertical:J,scrollButtons:T,textColor:A,variant:_,visibleScrollbar:L,fixed:!z,hideScrollbar:z&&!L,scrollableX:z&&!J,scrollableY:z&&J,centered:p&&!z,scrollButtonsHideMobile:!g}),se=dYe(te),he=Yc({elementType:P.StartScrollButtonIcon,externalSlotProps:E.startScrollButtonIcon,ownerState:te}),pe=Yc({elementType:P.EndScrollButtonIcon,externalSlotProps:E.endScrollButtonIcon,ownerState:te}),[ue,ge]=a.useState(!1),[Ce,Te]=a.useState(hoe),[Ne,xe]=a.useState(!1),[me,de]=a.useState(!1),[ce,ee]=a.useState(!1),[De,ke]=a.useState({overflow:"hidden",scrollbarWidth:0}),He=new Map,qe=a.useRef(null),Le=a.useRef(null),_e=()=>{const we=qe.current;let Ge;if(we){const Ee=we.getBoundingClientRect();Ge={clientWidth:we.clientWidth,scrollLeft:we.scrollLeft,scrollTop:we.scrollTop,scrollLeftNormalized:hUe(we,i?"rtl":"ltr"),scrollWidth:we.scrollWidth,top:Ee.top,bottom:Ee.bottom,left:Ee.left,right:Ee.right}}let We;if(we&&F!==!1){const Ee=Le.current.children;if(Ee.length>0){const Xe=Ee[He.get(F)];We=Xe?Xe.getBoundingClientRect():null}}return{tabsMeta:Ge,tabMeta:We}},H=tr(()=>{const{tabsMeta:we,tabMeta:Ge}=_e();let We=0,Ee;if(J)Ee="top",Ge&&we&&(We=Ge.top-we.top+we.scrollTop);else if(Ee=i?"right":"left",Ge&&we){const ot=i?we.scrollLeftNormalized+we.clientWidth-we.scrollWidth:we.scrollLeft;We=(i?-1:1)*(Ge[Ee]-we[Ee]+ot)}const Xe={[Ee]:We,[X]:Ge?Ge[X]:0};if(isNaN(Ce[Ee])||isNaN(Ce[X]))Te(Xe);else{const ot=Math.abs(Ce[Ee]-Xe[Ee]),ze=Math.abs(Ce[X]-Xe[X]);(ot>=1||ze>=1)&&Te(Xe)}}),re=(we,{animation:Ge=!0}={})=>{Ge?ZQe(Q,qe.current,we,{duration:s.transitions.duration.standard}):qe.current[Q]=we},q=we=>{let Ge=qe.current[Q];J?Ge+=we:(Ge+=we*(i?-1:1),Ge*=i&&ape()==="reverse"?-1:1),re(Ge)},Y=()=>{const we=qe.current[U];let Ge=0;const We=Array.from(Le.current.children);for(let Ee=0;Ee<We.length;Ee+=1){const Xe=We[Ee];if(Ge+Xe[U]>we){Ee===0&&(Ge=we);break}Ge+=Xe[U]}return Ge},ie=()=>{q(-1*Y())},B=()=>{q(Y())},Z=a.useCallback(we=>{ke({overflow:null,scrollbarWidth:we})},[]),ye=()=>{const we={};we.scrollbarSizeListener=z?r.jsx(gYe,{onChange:Z,className:Nt(se.scrollableX,se.hideScrollbar)}):null;const We=z&&(T==="auto"&&(Ne||me)||T===!0);return we.scrollButtonStart=We?r.jsx(v,$({slots:{StartScrollButtonIcon:P.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:he},orientation:D,direction:i?"right":"left",onClick:ie,disabled:!Ne},w,{className:Nt(se.scrollButtons,w.className)})):null,we.scrollButtonEnd=We?r.jsx(v,$({slots:{EndScrollButtonIcon:P.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:pe},orientation:D,direction:i?"left":"right",onClick:B,disabled:!me},w,{className:Nt(se.scrollButtons,w.className)})):null,we},Ie=tr(we=>{const{tabsMeta:Ge,tabMeta:We}=_e();if(!(!We||!Ge)){if(We[V]<Ge[V]){const Ee=Ge[Q]+(We[V]-Ge[V]);re(Ee,{animation:we})}else if(We[W]>Ge[W]){const Ee=Ge[Q]+(We[W]-Ge[W]);re(Ee,{animation:we})}}}),le=tr(()=>{z&&T!==!1&&ee(!ce)});a.useEffect(()=>{const we=yD(()=>{qe.current&&H()});let Ge;const We=ot=>{ot.forEach(ze=>{ze.removedNodes.forEach(tt=>{var ft;(ft=Ge)==null||ft.unobserve(tt)}),ze.addedNodes.forEach(tt=>{var ft;(ft=Ge)==null||ft.observe(tt)})}),we(),le()},Ee=ll(qe.current);Ee.addEventListener("resize",we);let Xe;return typeof ResizeObserver<"u"&&(Ge=new ResizeObserver(we),Array.from(Le.current.children).forEach(ot=>{Ge.observe(ot)})),typeof MutationObserver<"u"&&(Xe=new MutationObserver(We),Xe.observe(Le.current,{childList:!0})),()=>{var ot,ze;we.clear(),Ee.removeEventListener("resize",we),(ot=Xe)==null||ot.disconnect(),(ze=Ge)==null||ze.disconnect()}},[H,le]),a.useEffect(()=>{const we=Array.from(Le.current.children),Ge=we.length;if(typeof IntersectionObserver<"u"&&Ge>0&&z&&T!==!1){const We=we[0],Ee=we[Ge-1],Xe={root:qe.current,threshold:.99},ot=ht=>{xe(!ht[0].isIntersecting)},ze=new IntersectionObserver(ot,Xe);ze.observe(We);const tt=ht=>{de(!ht[0].isIntersecting)},ft=new IntersectionObserver(tt,Xe);return ft.observe(Ee),()=>{ze.disconnect(),ft.disconnect()}}},[z,T,ce,m==null?void 0:m.length]),a.useEffect(()=>{ge(!0)},[]),a.useEffect(()=>{H()}),a.useEffect(()=>{Ie(hoe!==Ce)},[Ie,Ce]),a.useImperativeHandle(d,()=>({updateIndicator:H,updateScrollButtons:le}),[H,le]);const fe=r.jsx(hYe,$({},k,{className:Nt(se.indicator,k.className),ownerState:te,style:$({},Ce,k.style)}));let Ae=0;const Se=a.Children.map(m,we=>{if(!a.isValidElement(we))return null;const Ge=we.props.value===void 0?Ae:we.props.value;He.set(Ge,Ae);const We=Ge===F;return Ae+=1,a.cloneElement(we,$({fullWidth:_==="fullWidth",indicator:We&&!ue&&fe,selected:We,selectionFollowsFocus:I,onChange:y,textColor:A,value:Ge},Ae===1&&F===!1&&!we.props.tabIndex?{tabIndex:0}:{}))}),be=we=>{const Ge=Le.current,We=js(Ge).activeElement;if(We.getAttribute("role")!=="tab")return;let Xe=D==="horizontal"?"ArrowLeft":"ArrowUp",ot=D==="horizontal"?"ArrowRight":"ArrowDown";switch(D==="horizontal"&&i&&(Xe="ArrowRight",ot="ArrowLeft"),we.key){case Xe:we.preventDefault(),ZE(Ge,We,foe);break;case ot:we.preventDefault(),ZE(Ge,We,moe);break;case"Home":we.preventDefault(),ZE(Ge,null,moe);break;case"End":we.preventDefault(),ZE(Ge,null,foe);break}},Me=ye();return r.jsxs(pYe,$({className:Nt(se.root,f),ownerState:te,ref:n,as:h},K,{children:[Me.scrollButtonStart,Me.scrollbarSizeListener,r.jsxs(mYe,{className:se.scroller,ownerState:te,style:{overflow:De.overflow,[J?`margin${i?"Left":"Right"}`:"marginBottom"]:L?void 0:-De.scrollbarWidth},ref:qe,children:[r.jsx(fYe,{"aria-label":c,"aria-labelledby":u,"aria-orientation":D==="vertical"?"vertical":null,className:se.flexContainer,ownerState:te,onKeyDown:be,ref:Le,role:"tablist",children:Se}),ue&&fe]}),Me.scrollButtonEnd]}))});function xYe(e){return $n("MuiTextField",e)}Bn("MuiTextField",["root"]);const yYe=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],CYe={standard:g3,filled:m3,outlined:D3},DYe=e=>{const{classes:t}=e;return Ln({root:["root"]},xYe,t)},SYe=it(wT,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),SD=a.forwardRef(function(t,n){const o=Ir({props:t,name:"MuiTextField"}),{autoComplete:s,autoFocus:i=!1,children:c,className:u,color:d="primary",defaultValue:p,disabled:m=!1,error:f=!1,FormHelperTextProps:h,fullWidth:g=!1,helperText:x,id:y,InputLabelProps:D,inputProps:v,InputProps:T,inputRef:I,label:P,maxRows:E,minRows:k,multiline:w=!1,name:A,onBlur:F,onChange:_,onFocus:L,placeholder:K,required:z=!1,rows:J,select:Q=!1,SelectProps:V,type:W,value:U,variant:X="outlined"}=o,te=It(o,yYe),se=$({},o,{autoFocus:i,color:d,disabled:m,error:f,fullWidth:g,multiline:w,required:z,select:Q,variant:X}),he=DYe(se),pe={};X==="outlined"&&(D&&typeof D.shrink<"u"&&(pe.notched=D.shrink),pe.label=P),Q&&((!V||!V.native)&&(pe.id=void 0),pe["aria-describedby"]=void 0);const ue=rd(y),ge=x&&ue?`${ue}-helper-text`:void 0,Ce=P&&ue?`${ue}-label`:void 0,Te=CYe[X],Ne=r.jsx(Te,$({"aria-describedby":ge,autoComplete:s,autoFocus:i,defaultValue:p,fullWidth:g,multiline:w,name:A,rows:J,maxRows:E,minRows:k,type:W,value:U,id:ue,inputRef:I,onBlur:F,onChange:_,onFocus:L,placeholder:K,inputProps:v},pe,T));return r.jsxs(SYe,$({className:Nt(he.root,u),disabled:m,error:f,fullWidth:g,ref:n,required:z,color:d,variant:X,ownerState:se},te,{children:[P!=null&&P!==""&&r.jsx(b3,$({htmlFor:ue,id:Ce},D,{children:P})),Q?r.jsx(v3,$({"aria-describedby":ge,id:ue,labelId:Ce,value:U,input:Ne},V,{children:c})):Ne,x&&r.jsx(Yp,$({id:ge},h,{children:x}))]}))}),vYe=["localeText"],s$=a.createContext(null),j3=function(t){var n;const{localeText:o}=t,s=It(t,vYe),{utils:i,localeText:c}=(n=a.useContext(s$))!=null?n:{utils:void 0,localeText:void 0},u=qo({props:s,name:"MuiLocalizationProvider"}),{children:d,dateAdapter:p,dateFormats:m,dateLibInstance:f,adapterLocale:h,localeText:g}=u,x=a.useMemo(()=>$({},g,c,o),[g,c,o]),y=a.useMemo(()=>{if(!p)return i||null;const T=new p({locale:h,formats:m,instance:f});if(!T.isMUIAdapter)throw new Error(["MUI: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return T},[p,h,m,f,i]),D=a.useMemo(()=>y?{minDate:y.date("1900-01-01T00:00:00.000"),maxDate:y.date("2099-12-31T00:00:00.000")}:null,[y]),v=a.useMemo(()=>({utils:y,defaultDates:D,localeText:x}),[D,y,x]);return r.jsx(s$.Provider,{value:v,children:d})},jYe=e=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:$({},e)}}}}),ome={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"open previous view",openNextView:"open next view",calendarViewSwitchingButtonAriaLabel:e=>e==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(e,t,n)=>`Select ${e}. ${t===null?"No time selected":`Selected time is ${n.format(t,"fullTime")}`}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:(e,t)=>e!==null&&t.isValid(e)?`Choose date, selected date is ${t.format(e,"fullDate")}`:"Choose date",openTimePickerDialogue:(e,t)=>e!==null&&t.isValid(e)?`Choose time, selected time is ${t.format(e,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>e.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>e.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa"},IYe=ome;jYe(ome);const qb=()=>{const e=a.useContext(s$);if(e===null)throw new Error(["MUI: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(e.utils===null)throw new Error(["MUI: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const t=a.useMemo(()=>$({},IYe,e.localeText),[e.localeText]);return a.useMemo(()=>$({},e,{localeText:t}),[e,t])},ko=()=>qb().utils,AT=()=>qb().defaultDates,Ol=()=>qb().localeText,Vb=e=>{const t=ko(),n=a.useRef();return n.current===void 0&&(n.current=t.dateWithTimezone(void 0,e)),n.current};function TYe(e){return typeof e=="string"}function OYe(e,t,n){return e===void 0||TYe(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function EYe(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(o=>o.match(/^on[A-Z]/)&&typeof e[o]=="function"&&!t.includes(o)).forEach(o=>{n[o]=e[o]}),n}function yw(e,t,n){return typeof e=="function"?e(t,n):e}function PYe(...e){const t=a.useRef(void 0),n=a.useCallback(o=>{const s=e.map(i=>{if(i==null)return null;if(typeof i=="function"){const c=i,u=c(o);return typeof u=="function"?u:()=>{c(null)}}return i.current=o,()=>{i.current=null}});return()=>{s.forEach(i=>i==null?void 0:i())}},e);return a.useMemo(()=>e.every(o=>o==null)?null:o=>{t.current&&(t.current(),t.current=void 0),o!=null&&(t.current=n(o))},e)}function goe(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function RYe(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:o,externalForwardedProps:s,className:i}=e;if(!t){const g=Nt(n==null?void 0:n.className,i,s==null?void 0:s.className,o==null?void 0:o.className),x={...n==null?void 0:n.style,...s==null?void 0:s.style,...o==null?void 0:o.style},y={...n,...s,...o};return g.length>0&&(y.className=g),Object.keys(x).length>0&&(y.style=x),{props:y,internalRef:void 0}}const c=EYe({...s,...o}),u=goe(o),d=goe(s),p=t(c),m=Nt(p==null?void 0:p.className,n==null?void 0:n.className,i,s==null?void 0:s.className,o==null?void 0:o.className),f={...p==null?void 0:p.style,...n==null?void 0:n.style,...s==null?void 0:s.style,...o==null?void 0:o.style},h={...p,...n,...d,...u};return m.length>0&&(h.className=m),Object.keys(f).length>0&&(h.style=f),{props:h,internalRef:p.ref}}function wYe(e,t,n){return typeof e=="function"?e(t,n):e}function ha(e){var f;const{elementType:t,externalSlotProps:n,ownerState:o,skipResolvingSlotProps:s=!1,...i}=e,c=s?{}:wYe(n,o),{props:u,internalRef:d}=RYe({...i,externalSlotProps:c}),p=PYe(d,c==null?void 0:c.ref,(f=e.additionalProps)==null?void 0:f.ref);return OYe(t,{...u,ref:p},o)}const kYe=xs(r.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),AYe=xs(r.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),NYe=xs(r.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),FYe=xs(r.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar"),MYe=xs(r.jsxs(a.Fragment,{children:[r.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),r.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");xs(r.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");xs(r.jsxs(a.Fragment,{children:[r.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),r.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");const _Ye=xs(r.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function LYe(e){return $n("MuiPickersArrowSwitcher",e)}Bn("MuiPickersArrowSwitcher",["root","spacer","button"]);const $Ye=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel"],BYe=["ownerState"],WYe=["ownerState"],UYe=it("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex"}),qYe=it("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})(({theme:e})=>({width:e.spacing(3)})),boe=it(br,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(e,t)=>t.button})(({ownerState:e})=>$({},e.hidden&&{visibility:"hidden"})),VYe=e=>{const{classes:t}=e;return Ln({root:["root"],spacer:["spacer"],button:["button"]},LYe,t)},sme=a.forwardRef(function(t,n){var o,s,i,c;const d=qs().direction==="rtl",p=qo({props:t,name:"MuiPickersArrowSwitcher"}),{children:m,className:f,slots:h,slotProps:g,isNextDisabled:x,isNextHidden:y,onGoToNext:D,nextLabel:v,isPreviousDisabled:T,isPreviousHidden:I,onGoToPrevious:P,previousLabel:E}=p,k=It(p,$Ye),w=p,A=VYe(w),F={isDisabled:x,isHidden:y,goTo:D,label:v},_={isDisabled:T,isHidden:I,goTo:P,label:E},L=(o=h==null?void 0:h.previousIconButton)!=null?o:boe,K=ha({elementType:L,externalSlotProps:g==null?void 0:g.previousIconButton,additionalProps:{size:"medium",title:_.label,"aria-label":_.label,disabled:_.isDisabled,edge:"end",onClick:_.goTo},ownerState:$({},w,{hidden:_.isHidden}),className:A.button}),z=(s=h==null?void 0:h.nextIconButton)!=null?s:boe,J=ha({elementType:z,externalSlotProps:g==null?void 0:g.nextIconButton,additionalProps:{size:"medium",title:F.label,"aria-label":F.label,disabled:F.isDisabled,edge:"start",onClick:F.goTo},ownerState:$({},w,{hidden:F.isHidden}),className:A.button}),Q=(i=h==null?void 0:h.leftArrowIcon)!=null?i:AYe,V=ha({elementType:Q,externalSlotProps:g==null?void 0:g.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),W=It(V,BYe),U=(c=h==null?void 0:h.rightArrowIcon)!=null?c:NYe,X=ha({elementType:U,externalSlotProps:g==null?void 0:g.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),te=It(X,WYe);return r.jsxs(UYe,$({ref:n,className:Nt(A.root,f),ownerState:w},k,{children:[r.jsx(L,$({},K,{children:d?r.jsx(U,$({},te)):r.jsx(Q,$({},W))})),m?r.jsx(nn,{variant:"subtitle1",component:"span",children:m}):r.jsx(qYe,{className:A.spacer,ownerState:w}),r.jsx(z,$({},J,{children:d?r.jsx(Q,$({},W)):r.jsx(U,$({},te))}))]}))}),Fp=(e,t)=>e.length!==t.length?!1:t.every(n=>e.includes(n)),ame=({openTo:e,defaultOpenTo:t,views:n,defaultViews:o})=>{const s=n??o;let i;if(e!=null)i=e;else if(s.includes(t))i=t;else if(s.length>0)i=s[0];else throw new Error("MUI: The `views` prop must contain at least one view");return{views:s,openTo:i}},ime=["hours","minutes","seconds"],eT=e=>ime.includes(e),zYe=e=>ime.includes(e)||e==="meridiem",HYe=(e,t)=>e?t.getHours(e)>=12?"pm":"am":null,tT=(e,t,n)=>n&&(e>=12?"pm":"am")!==t?t==="am"?e-12:e+12:e,GYe=(e,t,n,o)=>{const s=tT(o.getHours(e),t,n);return o.setHours(e,s)},xoe=(e,t)=>t.getHours(e)*3600+t.getMinutes(e)*60+t.getSeconds(e),NT=(e,t)=>(n,o)=>e?t.isAfter(n,o):xoe(n,t)>xoe(o,t),lme=(e,{format:t,views:n,ampm:o})=>{if(t!=null)return t;const s=e.formats;return Fp(n,["hours"])?o?`${s.hours12h} ${s.meridiem}`:s.hours24h:Fp(n,["minutes"])?s.minutes:Fp(n,["seconds"])?s.seconds:Fp(n,["minutes","seconds"])?`${s.minutes}:${s.seconds}`:Fp(n,["hours","minutes","seconds"])?o?`${s.hours12h}:${s.minutes}:${s.seconds} ${s.meridiem}`:`${s.hours24h}:${s.minutes}:${s.seconds}`:o?`${s.hours12h}:${s.minutes} ${s.meridiem}`:`${s.hours24h}:${s.minutes}`};function FT({onChange:e,onViewChange:t,openTo:n,view:o,views:s,autoFocus:i,focusedView:c,onFocusedViewChange:u}){var d,p;const m=a.useRef(n),f=a.useRef(s),h=a.useRef(s.includes(n)?n:s[0]),[g,x]=Vi({name:"useViews",state:"view",controlled:o,default:h.current}),y=a.useRef(i?g:null),[D,v]=Vi({name:"useViews",state:"focusedView",controlled:c,default:y.current});a.useEffect(()=>{(m.current&&m.current!==n||f.current&&f.current.some(F=>!s.includes(F)))&&(x(s.includes(n)?n:s[0]),f.current=s,m.current=n)},[n,x,g,s]);const T=s.indexOf(g),I=(d=s[T-1])!=null?d:null,P=(p=s[T+1])!=null?p:null,E=tr((F,_)=>{v(_?F:L=>F===L?null:L),u==null||u(F,_)}),k=tr(F=>{E(F,!0),F!==g&&(x(F),t&&t(F))}),w=tr(()=>{P&&k(P)}),A=tr((F,_,L)=>{const K=_==="finish",z=L?s.indexOf(L)<s.length-1:!!P;if(e(F,K&&z?"partial":_,L),L&&L!==g){const Q=s[s.indexOf(L)+1];Q&&k(Q)}else K&&w()});return{view:g,setView:k,focusedView:D,setFocusedView:E,nextView:P,previousView:I,defaultView:s.includes(n)?n:s[0],goToNextView:w,setValueAndGoToNextView:A}}function KYe(e,{disableFuture:t,maxDate:n,timezone:o}){const s=ko();return a.useMemo(()=>{const i=s.dateWithTimezone(void 0,o),c=s.startOfMonth(t&&s.isBefore(i,n)?i:n);return!s.isAfter(c,e)},[t,n,e,s,o])}function QYe(e,{disablePast:t,minDate:n,timezone:o}){const s=ko();return a.useMemo(()=>{const i=s.dateWithTimezone(void 0,o),c=s.startOfMonth(t&&s.isAfter(i,n)?i:n);return!s.isBefore(c,e)},[t,n,e,s,o])}function I3(e,t,n,o){const s=ko(),i=HYe(e,s),c=a.useCallback(u=>{const d=e==null?null:GYe(e,u,!!t,s);n(d,o??"partial")},[t,e,n,o,s]);return{meridiemMode:i,handleMeridiemChange:c}}const nT=36,Cw=2,Dw=320,YYe=280,T3=334,cme=232,JYe=48,Sw=it("div")({overflow:"hidden",width:Dw,maxHeight:T3,display:"flex",flexDirection:"column",margin:"0 auto"});function XYe(e){return $n("MuiTimeClock",e)}Bn("MuiTimeClock",["root","arrowSwitcher"]);const IC=220,Hp=36,rT={x:IC/2,y:IC/2},ume={x:rT.x,y:0},ZYe=ume.x-rT.x,eJe=ume.y-rT.y,tJe=e=>e*(180/Math.PI),dme=(e,t,n)=>{const o=t-rT.x,s=n-rT.y,i=Math.atan2(ZYe,eJe)-Math.atan2(o,s);let c=tJe(i);c=Math.round(c/e)*e,c%=360;const u=Math.floor(c/e)||0,d=o**2+s**2,p=Math.sqrt(d);return{value:u,distance:p}},nJe=(e,t,n=1)=>{const o=n*6;let{value:s}=dme(o,e,t);return s=s*n%60,s},rJe=(e,t,n)=>{const{value:o,distance:s}=dme(30,e,t);let i=o||12;return n?i%=12:s<IC/2-Hp&&(i+=12,i%=24),i};function oJe(e){return $n("MuiClockPointer",e)}Bn("MuiClockPointer",["root","thumb"]);const sJe=["className","hasSelected","isInner","type","viewValue"],aJe=e=>{const{classes:t}=e;return Ln({root:["root"],thumb:["thumb"]},oJe,t)},iJe=it("div",{name:"MuiClockPointer",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e,ownerState:t})=>$({width:2,backgroundColor:(e.vars||e).palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px"},t.shouldAnimate&&{transition:e.transitions.create(["transform","height"])})),lJe=it("div",{name:"MuiClockPointer",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e,ownerState:t})=>$({width:4,height:4,backgroundColor:(e.vars||e).palette.primary.contrastText,borderRadius:"50%",position:"absolute",top:-21,left:`calc(50% - ${Hp/2}px)`,border:`${(Hp-4)/2}px solid ${(e.vars||e).palette.primary.main}`,boxSizing:"content-box"},t.hasSelected&&{backgroundColor:(e.vars||e).palette.primary.main}));function cJe(e){const t=qo({props:e,name:"MuiClockPointer"}),{className:n,isInner:o,type:s,viewValue:i}=t,c=It(t,sJe),u=a.useRef(s);a.useEffect(()=>{u.current=s},[s]);const d=$({},t,{shouldAnimate:u.current!==s}),p=aJe(d),m=()=>{let h=360/(s==="hours"?12:60)*i;return s==="hours"&&i>12&&(h-=360),{height:Math.round((o?.26:.4)*IC),transform:`rotateZ(${h}deg)`}};return r.jsx(iJe,$({style:m(),className:Nt(n,p.root),ownerState:d},c,{children:r.jsx(lJe,{ownerState:d,className:p.thumb})}))}function uJe(e){return $n("MuiClock",e)}Bn("MuiClock",["root","clock","wrapper","squareMask","pin","amButton","pmButton","meridiemText"]);const iR=(e,t,n)=>{let o=t;return o=e.setHours(o,e.getHours(n)),o=e.setMinutes(o,e.getMinutes(n)),o=e.setSeconds(o,e.getSeconds(n)),o},SI=({date:e,disableFuture:t,disablePast:n,maxDate:o,minDate:s,isDateDisabled:i,utils:c,timezone:u})=>{const d=iR(c,c.dateWithTimezone(void 0,u),e);n&&c.isBefore(s,d)&&(s=d),t&&c.isAfter(o,d)&&(o=d);let p=e,m=e;for(c.isBefore(e,s)&&(p=s,m=null),c.isAfter(e,o)&&(m&&(m=o),p=null);p||m;){if(p&&c.isAfter(p,o)&&(p=null),m&&c.isBefore(m,s)&&(m=null),p){if(!i(p))return p;p=c.addDays(p,1)}if(m){if(!i(m))return m;m=c.addDays(m,-1)}}return null},dJe=(e,t)=>t==null||!e.isValid(t)?null:t,td=(e,t,n)=>t==null||!e.isValid(t)?n:t,pJe=(e,t,n)=>!e.isValid(t)&&t!=null&&!e.isValid(n)&&n!=null?!0:e.isEqual(t,n),O3=(e,t)=>{const o=[e.startOfYear(t)];for(;o.length<12;){const s=o[o.length-1];o.push(e.addMonths(s,1))}return o},E3=(e,t,n)=>n==="date"?e.startOfDay(e.dateWithTimezone(void 0,t)):e.dateWithTimezone(void 0,t),Th=(e,t)=>{const n=e.setHours(e.date(),t==="am"?2:14);return e.format(n,"meridiem")},mJe=["year","month","day"],yoe=e=>mJe.includes(e),P3=(e,{format:t,views:n},o)=>{if(t!=null)return t;const s=e.formats;return Fp(n,["year"])?s.year:Fp(n,["month"])?s.month:Fp(n,["day"])?s.dayOfMonth:Fp(n,["month","year"])?`${s.month} ${s.year}`:Fp(n,["day","month"])?`${s.month} ${s.dayOfMonth}`:o?/en/.test(e.getCurrentLocaleCode())?s.normalDateWithWeekday:s.normalDate:s.keyboardDate},fJe=(e,t)=>{const n=e.startOfWeek(t);return[0,1,2,3,4,5,6].map(o=>e.addDays(n,o))},hJe=e=>{const{classes:t}=e;return Ln({root:["root"],clock:["clock"],wrapper:["wrapper"],squareMask:["squareMask"],pin:["pin"],amButton:["amButton"],pmButton:["pmButton"],meridiemText:["meridiemText"]},uJe,t)},gJe=it("div",{name:"MuiClock",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({display:"flex",justifyContent:"center",alignItems:"center",margin:e.spacing(2)})),bJe=it("div",{name:"MuiClock",slot:"Clock",overridesResolver:(e,t)=>t.clock})({backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:220,width:220,flexShrink:0,position:"relative",pointerEvents:"none"}),xJe=it("div",{name:"MuiClock",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})({"&:focus":{outline:"none"}}),yJe=it("div",{name:"MuiClock",slot:"SquareMask",overridesResolver:(e,t)=>t.squareMask})(({ownerState:e})=>$({width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:0,touchAction:"none",userSelect:"none"},e.disabled?{}:{"@media (pointer: fine)":{cursor:"pointer",borderRadius:"50%"},"&:active":{cursor:"move"}})),CJe=it("div",{name:"MuiClock",slot:"Pin",overridesResolver:(e,t)=>t.pin})(({theme:e})=>({width:6,height:6,borderRadius:"50%",backgroundColor:(e.vars||e).palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"})),DJe=it(br,{name:"MuiClock",slot:"AmButton",overridesResolver:(e,t)=>t.amButton})(({theme:e,ownerState:t})=>$({zIndex:1,position:"absolute",bottom:8,left:8,paddingLeft:4,paddingRight:4,width:Hp},t.meridiemMode==="am"&&{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:hover":{backgroundColor:(e.vars||e).palette.primary.light}})),SJe=it(br,{name:"MuiClock",slot:"PmButton",overridesResolver:(e,t)=>t.pmButton})(({theme:e,ownerState:t})=>$({zIndex:1,position:"absolute",bottom:8,right:8,paddingLeft:4,paddingRight:4,width:Hp},t.meridiemMode==="pm"&&{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:hover":{backgroundColor:(e.vars||e).palette.primary.light}})),Coe=it(nn,{name:"MuiClock",slot:"meridiemText",overridesResolver:(e,t)=>t.meridiemText})({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"});function vJe(e){const t=qo({props:e,name:"MuiClock"}),{ampm:n,ampmInClock:o,autoFocus:s,children:i,value:c,handleMeridiemChange:u,isTimeDisabled:d,meridiemMode:p,minutesStep:m=1,onChange:f,selectedId:h,type:g,viewValue:x,disabled:y,readOnly:D,className:v}=t,T=t,I=ko(),P=Ol(),E=a.useRef(!1),k=hJe(T),w=d(x,g),A=!n&&g==="hours"&&(x<1||x>12),F=(X,te)=>{y||D||d(X,g)||f(X,te)},_=(X,te)=>{let{offsetX:se,offsetY:he}=X;if(se===void 0){const ue=X.target.getBoundingClientRect();se=X.changedTouches[0].clientX-ue.left,he=X.changedTouches[0].clientY-ue.top}const pe=g==="seconds"||g==="minutes"?nJe(se,he,m):rJe(se,he,!!n);F(pe,te)},L=X=>{E.current=!0,_(X,"shallow")},K=X=>{E.current&&(_(X,"finish"),E.current=!1)},z=X=>{X.buttons>0&&_(X.nativeEvent,"shallow")},J=X=>{E.current&&(E.current=!1),_(X.nativeEvent,"finish")},Q=a.useMemo(()=>g==="hours"?!0:x%5===0,[g,x]),V=g==="minutes"?m:1,W=a.useRef(null);Us(()=>{s&&W.current.focus()},[s]);const U=X=>{if(!E.current)switch(X.key){case"Home":F(0,"partial"),X.preventDefault();break;case"End":F(g==="minutes"?59:23,"partial"),X.preventDefault();break;case"ArrowUp":F(x+V,"partial"),X.preventDefault();break;case"ArrowDown":F(x-V,"partial"),X.preventDefault();break}};return r.jsxs(gJe,{className:Nt(v,k.root),children:[r.jsxs(bJe,{className:k.clock,children:[r.jsx(yJe,{onTouchMove:L,onTouchEnd:K,onMouseUp:J,onMouseMove:z,ownerState:{disabled:y},className:k.squareMask}),!w&&r.jsxs(a.Fragment,{children:[r.jsx(CJe,{className:k.pin}),c!=null&&r.jsx(cJe,{type:g,viewValue:x,isInner:A,hasSelected:Q})]}),r.jsx(xJe,{"aria-activedescendant":h,"aria-label":P.clockLabelText(g,c,I),ref:W,role:"listbox",onKeyDown:U,tabIndex:0,className:k.wrapper,children:i})]}),n&&o&&r.jsxs(a.Fragment,{children:[r.jsx(DJe,{onClick:D?void 0:()=>u("am"),disabled:y||p===null,ownerState:T,className:k.amButton,title:Th(I,"am"),children:r.jsx(Coe,{variant:"caption",className:k.meridiemText,children:Th(I,"am")})}),r.jsx(SJe,{disabled:y||p===null,onClick:D?void 0:()=>u("pm"),ownerState:T,className:k.pmButton,title:Th(I,"pm"),children:r.jsx(Coe,{variant:"caption",className:k.meridiemText,children:Th(I,"pm")})})]})]})}function jJe(e){return $n("MuiClockNumber",e)}const eP=Bn("MuiClockNumber",["root","selected","disabled"]),IJe=["className","disabled","index","inner","label","selected"],TJe=e=>{const{classes:t,selected:n,disabled:o}=e;return Ln({root:["root",n&&"selected",o&&"disabled"]},jJe,t)},OJe=it("span",{name:"MuiClockNumber",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`&.${eP.disabled}`]:t.disabled},{[`&.${eP.selected}`]:t.selected}]})(({theme:e,ownerState:t})=>$({height:Hp,width:Hp,position:"absolute",left:`calc((100% - ${Hp}px) / 2)`,display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:(e.vars||e).palette.text.primary,fontFamily:e.typography.fontFamily,"&:focused":{backgroundColor:(e.vars||e).palette.background.paper},[`&.${eP.selected}`]:{color:(e.vars||e).palette.primary.contrastText},[`&.${eP.disabled}`]:{pointerEvents:"none",color:(e.vars||e).palette.text.disabled}},t.inner&&$({},e.typography.body2,{color:(e.vars||e).palette.text.secondary})));function pme(e){const t=qo({props:e,name:"MuiClockNumber"}),{className:n,disabled:o,index:s,inner:i,label:c,selected:u}=t,d=It(t,IJe),p=t,m=TJe(p),f=s%12/12*Math.PI*2-Math.PI/2,h=(IC-Hp-2)/2*(i?.65:1),g=Math.round(Math.cos(f)*h),x=Math.round(Math.sin(f)*h);return r.jsx(OJe,$({className:Nt(n,m.root),"aria-disabled":o?!0:void 0,"aria-selected":u?!0:void 0,role:"option",style:{transform:`translate(${g}px, ${x+(IC-Hp)/2}px`},ownerState:p},d,{children:c}))}const EJe=({ampm:e,value:t,getClockNumberText:n,isDisabled:o,selectedId:s,utils:i})=>{const c=t?i.getHours(t):null,u=[],d=e?1:0,p=e?12:23,m=f=>c===null?!1:e?f===12?c===12||c===0:c===f||c-12===f:c===f;for(let f=d;f<=p;f+=1){let h=f.toString();f===0&&(h="00");const g=!e&&(f===0||f>12);h=i.formatNumber(h);const x=m(f);u.push(r.jsx(pme,{id:x?s:void 0,index:f,inner:g,selected:x,disabled:o(f),label:h,"aria-label":n(h)},f))}return u},Doe=({utils:e,value:t,isDisabled:n,getClockNumberText:o,selectedId:s})=>{const i=e.formatNumber;return[[5,i("05")],[10,i("10")],[15,i("15")],[20,i("20")],[25,i("25")],[30,i("30")],[35,i("35")],[40,i("40")],[45,i("45")],[50,i("50")],[55,i("55")],[0,i("00")]].map(([c,u],d)=>{const p=c===t;return r.jsx(pme,{label:u,id:p?s:void 0,index:d+1,inner:!1,disabled:n(c),selected:p,"aria-label":o(u)},c)})},R3=({timezone:e,value:t,defaultValue:n,onChange:o,valueManager:s})=>{var i,c;const u=ko(),d=a.useRef(n),p=(i=t??d.current)!=null?i:s.emptyValue,m=a.useMemo(()=>s.getTimezone(u,p),[u,s,p]),f=tr(y=>m==null?y:s.setTimezone(u,m,y)),h=(c=e??m)!=null?c:"default",g=a.useMemo(()=>s.setTimezone(u,h,p),[s,u,h,p]),x=tr((y,...D)=>{const v=f(y);o==null||o(v,...D)});return{value:g,handleValueChange:x,timezone:h}},vD=({name:e,timezone:t,value:n,defaultValue:o,onChange:s,valueManager:i})=>{const[c,u]=Vi({name:e,state:"value",controlled:n,default:o??i.emptyValue}),d=tr((p,...m)=>{u(p),s==null||s(p,...m)});return R3({timezone:t,value:c,defaultValue:void 0,onChange:d,valueManager:i})},kd={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},PJe=e=>Math.max(...e.map(t=>{var n;return(n=kd[t.type])!=null?n:1})),v0=(e,t,n)=>{if(t===kd.year)return e.startOfYear(n);if(t===kd.month)return e.startOfMonth(n);if(t===kd.day)return e.startOfDay(n);let o=n;return t<kd.minutes&&(o=e.setMinutes(o,0)),t<kd.seconds&&(o=e.setSeconds(o,0)),t<kd.milliseconds&&(o=e.setMilliseconds(o,0)),o},RJe=({props:e,utils:t,granularity:n,timezone:o,getTodayDate:s})=>{var i;let c=s?s():v0(t,n,E3(t,o));e.minDate!=null&&t.isAfterDay(e.minDate,c)&&(c=v0(t,n,e.minDate)),e.maxDate!=null&&t.isBeforeDay(e.maxDate,c)&&(c=v0(t,n,e.maxDate));const u=NT((i=e.disableIgnoringDatePartForTimeValidation)!=null?i:!1,t);return e.minTime!=null&&u(e.minTime,c)&&(c=v0(t,n,e.disableIgnoringDatePartForTimeValidation?e.minTime:iR(t,c,e.minTime))),e.maxTime!=null&&u(c,e.maxTime)&&(c=v0(t,n,e.disableIgnoringDatePartForTimeValidation?e.maxTime:iR(t,c,e.maxTime))),c},mme=(e,t)=>{const n=e.formatTokenMap[t];if(n==null)throw new Error([`MUI: The token "${t}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof n=="string"?{type:n,contentType:n==="meridiem"?"letter":"digit",maxLength:void 0}:{type:n.sectionType,contentType:n.contentType,maxLength:n.maxLength}},wJe=e=>{switch(e){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}},vw=(e,t,n)=>{const o=[],s=e.dateWithTimezone(void 0,t),i=e.startOfWeek(s),c=e.endOfWeek(s);let u=i;for(;e.isBefore(u,c);)o.push(u),u=e.addDays(u,1);return o.map(d=>e.formatByString(d,n))},fme=(e,t,n,o)=>{switch(n){case"month":return O3(e,e.dateWithTimezone(void 0,t)).map(s=>e.formatByString(s,o));case"weekDay":return vw(e,t,o);case"meridiem":{const s=e.dateWithTimezone(void 0,t);return[e.startOfDay(s),e.endOfDay(s)].map(i=>e.formatByString(i,o))}default:return[]}},hme=(e,t,n)=>{let o=t;for(o=Number(o).toString();o.length<n;)o=`0${o}`;return o},gme=(e,t,n,o,s)=>{if(s.type==="day"&&s.contentType==="digit-with-letter"){const c=e.setDate(o.longestMonth,n);return e.formatByString(c,s.format)}const i=n.toString();return s.hasLeadingZerosInInput?hme(e,i,s.maxLength):i},kJe=(e,t,n,o,s,i,c)=>{const u=wJe(o),d=o==="Home",p=o==="End",m=n.value===""||d||p,f=()=>{const g=s[n.type]({currentDate:i,format:n.format,contentType:n.contentType}),x=T=>gme(e,t,T,g,n),y=n.type==="minutes"&&c!=null&&c.minutesStep?c.minutesStep:1;let v=parseInt(n.value,10)+u*y;if(m){if(n.type==="year"&&!p&&!d)return e.formatByString(e.dateWithTimezone(void 0,t),n.format);u>0||d?v=g.minimum:v=g.maximum}return v%y!==0&&((u<0||d)&&(v+=y-(y+v)%y),(u>0||p)&&(v-=v%y)),v>g.maximum?x(g.minimum+(v-g.maximum-1)%(g.maximum-g.minimum+1)):v<g.minimum?x(g.maximum-(g.minimum-v-1)%(g.maximum-g.minimum+1)):x(v)},h=()=>{const g=fme(e,t,n.type,n.format);if(g.length===0)return n.value;if(m)return u>0||d?g[0]:g[g.length-1];const y=(g.indexOf(n.value)+g.length+u)%g.length;return g[y]};return n.contentType==="digit"||n.contentType==="digit-with-letter"?f():h()},w3=(e,t)=>{let n=e.value||e.placeholder;const o=t==="non-input"?e.hasLeadingZerosInFormat:e.hasLeadingZerosInInput;return t==="non-input"&&e.hasLeadingZerosInInput&&!e.hasLeadingZerosInFormat&&(n=Number(n).toString()),["input-rtl","input-ltr"].includes(t)&&e.contentType==="digit"&&!o&&n.length===1&&(n=`${n}`),t==="input-rtl"&&(n=`${n}`),n},Hy=e=>e.replace(/[\u2066\u2067\u2068\u2069]/g,""),bme=(e,t)=>{let n=0,o=t?1:0;const s=[];for(let i=0;i<e.length;i+=1){const c=e[i],u=w3(c,t?"input-rtl":"input-ltr"),d=`${c.startSeparator}${u}${c.endSeparator}`,p=Hy(d).length,m=d.length,f=Hy(u),h=o+u.indexOf(f[0])+c.startSeparator.length,g=h+f.length;s.push($({},c,{start:n,end:n+p,startInInput:h,endInInput:g})),n+=p,o+=m}return s},AJe=(e,t,n,o,s)=>{switch(o.type){case"year":return n.fieldYearPlaceholder({digitAmount:e.formatByString(e.dateWithTimezone(void 0,t),s).length,format:s});case"month":return n.fieldMonthPlaceholder({contentType:o.contentType,format:s});case"day":return n.fieldDayPlaceholder({format:s});case"weekDay":return n.fieldWeekDayPlaceholder({contentType:o.contentType,format:s});case"hours":return n.fieldHoursPlaceholder({format:s});case"minutes":return n.fieldMinutesPlaceholder({format:s});case"seconds":return n.fieldSecondsPlaceholder({format:s});case"meridiem":return n.fieldMeridiemPlaceholder({format:s});default:return s}},Soe=(e,t,n,o)=>e.formatByString(e.parse(t,n),o),xme=(e,t,n)=>e.formatByString(e.dateWithTimezone(void 0,t),n).length===4,yme=(e,t,n,o,s)=>{if(n!=="digit")return!1;const i=e.dateWithTimezone(void 0,t);switch(o){case"year":return xme(e,t,s)?e.formatByString(e.setYear(i,1),s)==="0001":e.formatByString(e.setYear(i,2001),s)==="01";case"month":return e.formatByString(e.startOfYear(i),s).length>1;case"day":return e.formatByString(e.startOfMonth(i),s).length>1;case"weekDay":return e.formatByString(e.startOfWeek(i),s).length>1;case"hours":return e.formatByString(e.setHours(i,1),s).length>1;case"minutes":return e.formatByString(e.setMinutes(i,1),s).length>1;case"seconds":return e.formatByString(e.setSeconds(i,1),s).length>1;default:throw new Error("Invalid section type")}},NJe=(e,t)=>{const n=[],{start:o,end:s}=e.escapedCharacters,i=new RegExp(`(\\${o}[^\\${s}]*\\${s})+`,"g");let c=null;for(;c=i.exec(t);)n.push({start:c.index,end:i.lastIndex-1});return n},voe=(e,t,n,o,s,i,c,u)=>{let d="";const p=[],m=e.date(),f=I=>{if(I==="")return null;const P=mme(e,I),E=yme(e,t,P.contentType,P.type,I),k=c?E:P.contentType==="digit",w=s!=null&&e.isValid(s);let A=w?e.formatByString(s,I):"",F=null;if(k)if(E)F=A===""?e.formatByString(m,I).length:A.length;else{if(P.maxLength==null)throw new Error(`MUI: The token ${I} should have a 'maxDigitNumber' property on it's adapter`);F=P.maxLength,w&&(A=hme(e,A,F))}return p.push($({},P,{format:I,maxLength:F,value:A,placeholder:AJe(e,t,n,P,I),hasLeadingZeros:E,hasLeadingZerosInFormat:E,hasLeadingZerosInInput:k,startSeparator:p.length===0?d:"",endSeparator:"",modified:!1})),null};let h=10,g=o,x=e.expandFormat(o);for(;x!==g;)if(g=x,x=e.expandFormat(g),h-=1,h<0)throw new Error("MUI: The format expansion seems to be  enter in an infinite loop. Please open an issue with the format passed to the picker component");const y=x,D=NJe(e,y),v=new RegExp(`^(${Object.keys(e.formatTokenMap).sort((I,P)=>P.length-I.length).join("|")})`,"g");let T="";for(let I=0;I<y.length;I+=1){const P=D.find(F=>F.start<=I&&F.end>=I),E=y[I],k=P!=null,w=`${T}${y.slice(I)}`,A=v.test(w);!k&&E.match(/([A-Za-z]+)/)&&A?(T=w.slice(0,v.lastIndex),I+=v.lastIndex-1):k&&(P==null?void 0:P.start)===I||(P==null?void 0:P.end)===I||(f(T),T="",p.length===0?d+=E:p[p.length-1].endSeparator+=E)}return f(T),p.map(I=>{const P=E=>{let k=E;return u&&k!==null&&k.includes(" ")&&(k=`${k}`),i==="spacious"&&["/",".","-"].includes(k)&&(k=` ${k} `),k};return I.startSeparator=P(I.startSeparator),I.endSeparator=P(I.endSeparator),I})},FJe=(e,t)=>{const n=t.some(u=>u.type==="day"),o=[],s=[];for(let u=0;u<t.length;u+=1){const d=t[u];n&&d.type==="weekDay"||(o.push(d.format),s.push(w3(d,"non-input")))}const i=o.join(" "),c=s.join(" ");return e.parse(c,i)},MJe=(e,t)=>{const o=e.map(s=>{const i=w3(s,t?"input-rtl":"input-ltr");return`${s.startSeparator}${i}${s.endSeparator}`}).join("");return t?`${o}`:o},_Je=(e,t)=>{const n=e.dateWithTimezone(void 0,t),o=e.endOfYear(n),s=e.endOfDay(n),{maxDaysInMonth:i,longestMonth:c}=O3(e,n).reduce((u,d)=>{const p=e.getDaysInMonth(d);return p>u.maxDaysInMonth?{maxDaysInMonth:p,longestMonth:d}:u},{maxDaysInMonth:0,longestMonth:null});return{year:({format:u})=>({minimum:0,maximum:xme(e,t,u)?9999:99}),month:()=>({minimum:1,maximum:e.getMonth(o)+1}),day:({currentDate:u})=>({minimum:1,maximum:u!=null&&e.isValid(u)?e.getDaysInMonth(u):i,longestMonth:c}),weekDay:({format:u,contentType:d})=>{if(d==="digit"){const p=vw(e,t,u).map(Number);return{minimum:Math.min(...p),maximum:Math.max(...p)}}return{minimum:1,maximum:7}},hours:({format:u})=>{const d=e.getHours(s);return e.formatByString(e.endOfDay(n),u)!==d.toString()?{minimum:1,maximum:Number(e.formatByString(e.startOfDay(n),u))}:{minimum:0,maximum:d}},minutes:()=>({minimum:0,maximum:e.getMinutes(s)}),seconds:()=>({minimum:0,maximum:e.getSeconds(s)}),meridiem:()=>({minimum:0,maximum:0})}},LJe=(e,t,n,o,s)=>{switch(n.type){case"year":return e.setYear(s,e.getYear(o));case"month":return e.setMonth(s,e.getMonth(o));case"weekDay":{const i=vw(e,t,n.format),c=e.formatByString(o,n.format),u=i.indexOf(c),p=i.indexOf(n.value)-u;return e.addDays(o,p)}case"day":return e.setDate(s,e.getDate(o));case"meridiem":{const i=e.getHours(o)<12,c=e.getHours(s);return i&&c>=12?e.addHours(s,-12):!i&&c<12?e.addHours(s,12):s}case"hours":return e.setHours(s,e.getHours(o));case"minutes":return e.setMinutes(s,e.getMinutes(o));case"seconds":return e.setSeconds(s,e.getSeconds(o));default:return s}},joe={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8},Ioe=(e,t,n,o,s,i)=>[...o].sort((c,u)=>joe[c.type]-joe[u.type]).reduce((c,u)=>!i||u.modified?LJe(e,t,u,n,c):c,s),$Je=()=>navigator.userAgent.toLowerCase().indexOf("android")>-1,BJe=(e,t)=>{const n={};if(!t)return e.forEach((d,p)=>{const m=p===0?null:p-1,f=p===e.length-1?null:p+1;n[p]={leftIndex:m,rightIndex:f}}),{neighbors:n,startIndex:0,endIndex:e.length-1};const o={},s={};let i=0,c=0,u=e.length-1;for(;u>=0;){c=e.findIndex((d,p)=>{var m;return p>=i&&((m=d.endSeparator)==null?void 0:m.includes(" "))&&d.endSeparator!==" / "}),c===-1&&(c=e.length-1);for(let d=c;d>=i;d-=1)s[d]=u,o[u]=d,u-=1;i=c+1}return e.forEach((d,p)=>{const m=s[p],f=m===0?null:o[m-1],h=m===e.length-1?null:o[m+1];n[p]={leftIndex:f,rightIndex:h}}),{neighbors:n,startIndex:o[0],endIndex:o[e.length-1]}},WJe=["value","referenceDate"],cl={emptyValue:null,getTodayValue:E3,getInitialReferenceValue:e=>{let{value:t,referenceDate:n}=e,o=It(e,WJe);return t!=null&&o.utils.isValid(t)?t:n??RJe(o)},cleanValue:dJe,areValuesEqual:pJe,isSameError:(e,t)=>e===t,hasError:e=>e!=null,defaultErrorState:null,getTimezone:(e,t)=>t==null||!e.isValid(t)?null:e.getTimezone(t),setTimezone:(e,t,n)=>n==null?null:e.setTimezone(n,t)},Cme={updateReferenceValue:(e,t,n)=>t==null||!e.isValid(t)?n:t,getSectionsFromValue:(e,t,n,o,s)=>!e.isValid(t)&&!!n?n:bme(s(t),o),getValueStrFromSections:MJe,getActiveDateManager:(e,t)=>({date:t.value,referenceDate:t.referenceValue,getSections:n=>n,getNewValuesFromNewActiveDate:n=>({value:n,referenceValue:n==null||!e.isValid(n)?t.referenceValue:n})}),parseValueStr:(e,t,n)=>n(e.trim(),t)},jw=e=>{if(e!==void 0)return Object.keys(e).reduce((t,n)=>$({},t,{[`${n.slice(0,1).toLowerCase()}${n.slice(1)}`]:e[n]}),{})},k3=({value:e,referenceDate:t,utils:n,props:o,timezone:s})=>{const i=a.useMemo(()=>cl.getInitialReferenceValue({value:e,utils:n,props:o,referenceDate:t,granularity:kd.day,timezone:s,getTodayDate:()=>E3(n,s,"date")}),[]);return e??i},UJe=["ampm","ampmInClock","autoFocus","components","componentsProps","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableClock","shouldDisableTime","showViewSwitcher","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","timezone"],qJe=e=>{const{classes:t}=e;return Ln({root:["root"],arrowSwitcher:["arrowSwitcher"]},XYe,t)},VJe=it(Sw,{name:"MuiTimeClock",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"column",position:"relative"}),zJe=it(sme,{name:"MuiTimeClock",slot:"ArrowSwitcher",overridesResolver:(e,t)=>t.arrowSwitcher})({position:"absolute",right:12,top:15}),HJe=["hours","minutes"],GJe=a.forwardRef(function(t,n){const o=ko(),s=qo({props:t,name:"MuiTimeClock"}),{ampm:i=o.is12HourCycleInCurrentLocale(),ampmInClock:c=!1,autoFocus:u,components:d,componentsProps:p,slots:m,slotProps:f,value:h,defaultValue:g,referenceDate:x,disableIgnoringDatePartForTimeValidation:y=!1,maxTime:D,minTime:v,disableFuture:T,disablePast:I,minutesStep:P=1,shouldDisableClock:E,shouldDisableTime:k,showViewSwitcher:w,onChange:A,view:F,views:_=HJe,openTo:L,onViewChange:K,focusedView:z,onFocusedViewChange:J,className:Q,disabled:V,readOnly:W,timezone:U}=s,X=It(s,UJe),te=m??jw(d),se=f??p,{value:he,handleValueChange:pe,timezone:ue}=vD({name:"TimeClock",timezone:U,value:h,defaultValue:g,onChange:A,valueManager:cl}),ge=k3({value:he,referenceDate:x,utils:o,props:s,timezone:ue}),Ce=Ol(),Te=Vb(ue),{view:Ne,setView:xe,previousView:me,nextView:de,setValueAndGoToNextView:ce}=FT({view:F,views:_,openTo:L,onViewChange:K,onChange:pe,focusedView:z,onFocusedViewChange:J}),{meridiemMode:ee,handleMeridiemChange:De}=I3(ge,i,ce),ke=a.useCallback((H,re)=>{const q=NT(y,o),Y=re==="hours"||re==="minutes"&&_.includes("seconds"),ie=({start:Z,end:ye})=>!(v&&q(v,ye)||D&&q(Z,D)||T&&q(Z,Te)||I&&q(Te,Y?ye:Z)),B=(Z,ye=1)=>{if(Z%ye!==0||E!=null&&E(Z,re))return!1;if(k)switch(re){case"hours":return!k(o.setHours(ge,Z),"hours");case"minutes":return!k(o.setMinutes(ge,Z),"minutes");case"seconds":return!k(o.setSeconds(ge,Z),"seconds");default:return!1}return!0};switch(re){case"hours":{const Z=tT(H,ee,i),ye=o.setHours(ge,Z),Ie=o.setSeconds(o.setMinutes(ye,0),0),le=o.setSeconds(o.setMinutes(ye,59),59);return!ie({start:Ie,end:le})||!B(Z)}case"minutes":{const Z=o.setMinutes(ge,H),ye=o.setSeconds(Z,0),Ie=o.setSeconds(Z,59);return!ie({start:ye,end:Ie})||!B(H,P)}case"seconds":{const Z=o.setSeconds(ge,H);return!ie({start:Z,end:Z})||!B(H)}default:throw new Error("not supported")}},[i,ge,y,D,ee,v,P,E,k,o,T,I,Te,_]),He=rd(),qe=a.useMemo(()=>{switch(Ne){case"hours":return{onChange:(re,q)=>{const Y=tT(re,ee,i);ce(o.setHours(ge,Y),q)},viewValue:o.getHours(ge),children:EJe({value:he,utils:o,ampm:i,getClockNumberText:Ce.hoursClockNumberText,isDisabled:re=>V||ke(re,"hours"),selectedId:He})};case"minutes":{const H=o.getMinutes(ge);return{viewValue:H,onChange:(q,Y)=>{ce(o.setMinutes(ge,q),Y)},children:Doe({utils:o,value:H,getClockNumberText:Ce.minutesClockNumberText,isDisabled:q=>V||ke(q,"minutes"),selectedId:He})}}case"seconds":{const H=o.getSeconds(ge);return{viewValue:H,onChange:(q,Y)=>{ce(o.setSeconds(ge,q),Y)},children:Doe({utils:o,value:H,getClockNumberText:Ce.secondsClockNumberText,isDisabled:q=>V||ke(q,"seconds"),selectedId:He})}}default:throw new Error("You must provide the type for ClockView")}},[Ne,o,he,i,Ce.hoursClockNumberText,Ce.minutesClockNumberText,Ce.secondsClockNumberText,ee,ce,ge,ke,He,V]),Le=s,_e=qJe(Le);return r.jsxs(VJe,$({ref:n,className:Nt(_e.root,Q),ownerState:Le},X,{children:[r.jsx(vJe,$({autoFocus:u??!!z,ampmInClock:c&&_.includes("hours"),value:he,type:Ne,ampm:i,minutesStep:P,isTimeDisabled:ke,meridiemMode:ee,handleMeridiemChange:De,selectedId:He,disabled:V,readOnly:W},qe)),w&&r.jsx(zJe,{className:_e.arrowSwitcher,slots:te,slotProps:se,onGoToPrevious:()=>xe(me),isPreviousDisabled:!me,previousLabel:Ce.openPreviousView,onGoToNext:()=>xe(de),isNextDisabled:!de,nextLabel:Ce.openNextView,ownerState:Le})]}))});function KJe(e){return $n("MuiDigitalClock",e)}Bn("MuiDigitalClock",["root","list","item"]);const QJe=["ampm","timeStep","autoFocus","components","componentsProps","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableClock","shouldDisableTime","onChange","view","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","views","skipDisabled","timezone"],YJe=e=>{const{classes:t}=e;return Ln({root:["root"],list:["list"],item:["item"]},KJe,t)},JJe=it(Sw,{name:"MuiDigitalClock",slot:"Root",overridesResolver:(e,t)=>t.root})(({ownerState:e})=>({overflowY:"auto",width:"100%","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:e.alreadyRendered?"smooth":"auto"},maxHeight:cme})),XJe=it(xw,{name:"MuiDigitalClock",slot:"List",overridesResolver:(e,t)=>t.list})({padding:0}),ZJe=it($h,{name:"MuiDigitalClock",slot:"Item",overridesResolver:(e,t)=>t.item})(({theme:e})=>({padding:"8px 16px",margin:"2px 4px","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ti(e.palette.primary.main,e.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:Ti(e.palette.primary.main,e.palette.action.focusOpacity)}})),eXe=a.forwardRef(function(t,n){var o,s,i;const c=ko(),u=a.useRef(null),d=xo(n,u),p=qo({props:t,name:"MuiDigitalClock"}),{ampm:m=c.is12HourCycleInCurrentLocale(),timeStep:f=30,autoFocus:h,components:g,componentsProps:x,slots:y,slotProps:D,value:v,defaultValue:T,referenceDate:I,disableIgnoringDatePartForTimeValidation:P=!1,maxTime:E,minTime:k,disableFuture:w,disablePast:A,minutesStep:F=1,shouldDisableClock:_,shouldDisableTime:L,onChange:K,view:z,openTo:J,onViewChange:Q,focusedView:V,onFocusedViewChange:W,className:U,disabled:X,readOnly:te,views:se=["hours"],skipDisabled:he=!1,timezone:pe}=p,ue=It(p,QJe),{value:ge,handleValueChange:Ce,timezone:Te}=vD({name:"DigitalClock",timezone:pe,value:v,defaultValue:T,onChange:K,valueManager:cl}),Ne=Ol(),xe=Vb(Te),me=a.useMemo(()=>$({},p,{alreadyRendered:!!u.current}),[p]),de=YJe(me),ce=(o=(s=y==null?void 0:y.digitalClockItem)!=null?s:g==null?void 0:g.DigitalClockItem)!=null?o:ZJe,ee=ha({elementType:ce,externalSlotProps:(i=D==null?void 0:D.digitalClockItem)!=null?i:x==null?void 0:x.digitalClockItem,ownerState:{},className:de.item}),De=k3({value:ge,referenceDate:I,utils:c,props:p,timezone:Te}),ke=tr(H=>Ce(H,"finish","hours")),{setValueAndGoToNextView:He}=FT({view:z,views:se,openTo:J,onViewChange:Q,onChange:ke,focusedView:V,onFocusedViewChange:W}),qe=tr(H=>{He(H,"finish")});a.useEffect(()=>{if(u.current===null)return;const H=u.current.querySelector('[role="listbox"] [role="option"][aria-selected="true"]');if(!H)return;const re=H.offsetTop;u.current.scrollTop=re-4});const Le=a.useCallback(H=>{const re=NT(P,c),q=()=>!(k&&re(k,H)||E&&re(H,E)||w&&re(H,xe)||A&&re(xe,H)),Y=()=>c.getMinutes(H)%F!==0||_!=null&&_(c.toJsDate(H).getTime(),"hours")?!1:L?!L(H,"hours"):!0;return!q()||!Y()},[P,c,k,E,w,xe,A,F,_,L]),_e=a.useMemo(()=>{const H=c.startOfDay(De);return[H,...Array.from({length:Math.ceil(1440/f)-1},(re,q)=>c.addMinutes(H,f*(q+1)))]},[De,f,c]);return r.jsx(JJe,$({ref:d,className:Nt(de.root,U),ownerState:me},ue,{children:r.jsx(XJe,{autoFocusItem:h||!!V,role:"listbox","aria-label":Ne.timePickerToolbarTitle,className:de.list,children:_e.map(H=>{if(he&&Le(H))return null;const re=c.isEqual(H,ge);return r.jsx(ce,$({onClick:()=>!te&&qe(H),selected:re,disabled:X||Le(H),disableRipple:te,role:"option","aria-disabled":te,"aria-selected":re},ee,{children:c.format(H,m?"fullTime12h":"fullTime24h")}),c.toISO(H))})})}))});function tXe(e){return $n("MuiMultiSectionDigitalClock",e)}Bn("MuiMultiSectionDigitalClock",["root"]);function nXe(e){return $n("MuiMultiSectionDigitalClockSection",e)}Bn("MuiMultiSectionDigitalClockSection",["root","item"]);const rXe=["autoFocus","onChange","className","disabled","readOnly","items","active","slots","slotProps","skipDisabled"],oXe=e=>{const{classes:t}=e;return Ln({root:["root"],item:["item"]},nXe,t)},sXe=it(xw,{name:"MuiMultiSectionDigitalClockSection",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e,ownerState:t})=>({maxHeight:cme,width:56,padding:0,overflow:"hidden","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:t.alreadyRendered?"smooth":"auto"},"@media (pointer: fine)":{"&:hover":{overflowY:"auto"}},"@media (pointer: none), (pointer: coarse)":{overflowY:"auto"},"&:not(:first-of-type)":{borderLeft:`1px solid ${(e.vars||e).palette.divider}`},"&:after":{display:"block",content:'""',height:"calc(100% - 40px - 6px)"}})),aXe=it($h,{name:"MuiMultiSectionDigitalClockSection",slot:"Item",overridesResolver:(e,t)=>t.item})(({theme:e})=>({padding:8,margin:"2px 4px",width:JYe,justifyContent:"center","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ti(e.palette.primary.main,e.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:Ti(e.palette.primary.main,e.palette.action.focusOpacity)}})),iXe=a.forwardRef(function(t,n){var o;const s=a.useRef(null),i=xo(n,s),c=a.useRef(null),u=qo({props:t,name:"MuiMultiSectionDigitalClockSection"}),{autoFocus:d,onChange:p,className:m,disabled:f,readOnly:h,items:g,active:x,slots:y,slotProps:D,skipDisabled:v}=u,T=It(u,rXe),I=a.useMemo(()=>$({},u,{alreadyRendered:!!s.current}),[u]),P=oXe(I),E=(o=y==null?void 0:y.digitalClockSectionItem)!=null?o:aXe;return a.useEffect(()=>{if(s.current===null)return;const k=s.current.querySelector('[role="option"][aria-selected="true"]');if(x&&d&&k&&k.focus(),!k||c.current===k)return;c.current=k;const w=k.offsetTop;s.current.scrollTop=w-4}),r.jsx(sXe,$({ref:i,className:Nt(P.root,m),ownerState:I,autoFocusItem:d&&x,role:"listbox"},T,{children:g.map(k=>{var w,A;if(v&&(w=k.isDisabled)!=null&&w.call(k,k.value))return null;const F=k.isSelected(k.value);return r.jsx(E,$({onClick:()=>!h&&p(k.value),selected:F,disabled:f||((A=k.isDisabled)==null?void 0:A.call(k,k.value)),disableRipple:h,role:"option","aria-disabled":h,"aria-label":k.ariaLabel,"aria-selected":F,className:P.item},D==null?void 0:D.digitalClockSectionItem,{children:k.label}),k.label)})}))}),lXe=({now:e,value:t,utils:n,ampm:o,isDisabled:s,resolveAriaLabel:i,timeStep:c})=>{const u=t?n.getHours(t):null,d=[],p=f=>u===null?!1:o?f===12?u===12||u===0:u===f||u-12===f:u===f,m=o?11:23;for(let f=0;f<=m;f+=c){let h=n.format(n.setHours(e,f),o?"hours12h":"hours24h");const g=i(parseInt(h,10).toString());h=n.formatNumber(h),d.push({value:f,label:h,isSelected:p,isDisabled:s,ariaLabel:g})}return d},Toe=({value:e,utils:t,isDisabled:n,timeStep:o,resolveLabel:s,resolveAriaLabel:i,hasValue:c=!0})=>{const u=d=>e===null?!1:c&&e===d;return[...Array.from({length:Math.ceil(60/o)},(d,p)=>{const m=o*p;return{value:m,label:t.formatNumber(s(m)),isDisabled:n,isSelected:u,ariaLabel:i(m.toString())}})]},cXe=["ampm","timeSteps","autoFocus","components","componentsProps","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableClock","shouldDisableTime","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","skipDisabled","timezone"],uXe=e=>{const{classes:t}=e;return Ln({root:["root"]},tXe,t)},dXe=it(Sw,{name:"MuiMultiSectionDigitalClock",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({display:"flex",flexDirection:"row",width:"100%",borderBottom:`1px solid ${(e.vars||e).palette.divider}`})),pXe=a.forwardRef(function(t,n){const o=ko(),s=qo({props:t,name:"MuiMultiSectionDigitalClock"}),{ampm:i=o.is12HourCycleInCurrentLocale(),timeSteps:c,autoFocus:u,components:d,componentsProps:p,slots:m,slotProps:f,value:h,defaultValue:g,referenceDate:x,disableIgnoringDatePartForTimeValidation:y=!1,maxTime:D,minTime:v,disableFuture:T,disablePast:I,minutesStep:P=1,shouldDisableClock:E,shouldDisableTime:k,onChange:w,view:A,views:F=["hours","minutes"],openTo:_,onViewChange:L,focusedView:K,onFocusedViewChange:z,className:J,disabled:Q,readOnly:V,skipDisabled:W=!1,timezone:U}=s,X=It(s,cXe),{value:te,handleValueChange:se,timezone:he}=vD({name:"MultiSectionDigitalClock",timezone:U,value:h,defaultValue:g,onChange:w,valueManager:cl}),pe=Ol(),ue=Vb(he),ge=a.useMemo(()=>$({hours:1,minutes:5,seconds:5},c),[c]),Ce=k3({value:te,referenceDate:x,utils:o,props:s,timezone:he}),Te=tr((H,re,q)=>se(H,re,q)),Ne=a.useMemo(()=>!i||!F.includes("hours")||F.includes("meridiem")?F:[...F,"meridiem"],[i,F]),{view:xe,setValueAndGoToNextView:me,focusedView:de}=FT({view:A,views:Ne,openTo:_,onViewChange:L,onChange:Te,focusedView:K,onFocusedViewChange:z}),ce=tr(H=>{me(H,"finish","meridiem")}),{meridiemMode:ee,handleMeridiemChange:De}=I3(Ce,i,ce,"finish"),ke=a.useCallback((H,re)=>{const q=NT(y,o),Y=re==="hours"||re==="minutes"&&Ne.includes("seconds"),ie=({start:Z,end:ye})=>!(v&&q(v,ye)||D&&q(Z,D)||T&&q(Z,ue)||I&&q(ue,Y?ye:Z)),B=(Z,ye=1)=>{if(Z%ye!==0||E!=null&&E(Z,re))return!1;if(k)switch(re){case"hours":return!k(o.setHours(Ce,Z),"hours");case"minutes":return!k(o.setMinutes(Ce,Z),"minutes");case"seconds":return!k(o.setSeconds(Ce,Z),"seconds");default:return!1}return!0};switch(re){case"hours":{const Z=tT(H,ee,i),ye=o.setHours(Ce,Z),Ie=o.setSeconds(o.setMinutes(ye,0),0),le=o.setSeconds(o.setMinutes(ye,59),59);return!ie({start:Ie,end:le})||!B(Z)}case"minutes":{const Z=o.setMinutes(Ce,H),ye=o.setSeconds(Z,0),Ie=o.setSeconds(Z,59);return!ie({start:ye,end:Ie})||!B(H,P)}case"seconds":{const Z=o.setSeconds(Ce,H);return!ie({start:Z,end:Z})||!B(H)}default:throw new Error("not supported")}},[i,Ce,y,D,ee,v,P,E,k,o,T,I,ue,Ne]),He=a.useCallback(H=>{switch(H){case"hours":return{onChange:re=>{const q=tT(re,ee,i);me(o.setHours(Ce,q),"finish","hours")},items:lXe({now:ue,value:te,ampm:i,utils:o,isDisabled:re=>Q||ke(re,"hours"),timeStep:ge.hours,resolveAriaLabel:pe.hoursClockNumberText})};case"minutes":return{onChange:re=>{me(o.setMinutes(Ce,re),"finish","minutes")},items:Toe({value:o.getMinutes(Ce),utils:o,isDisabled:re=>Q||ke(re,"minutes"),resolveLabel:re=>o.format(o.setMinutes(ue,re),"minutes"),timeStep:ge.minutes,hasValue:!!te,resolveAriaLabel:pe.minutesClockNumberText})};case"seconds":return{onChange:re=>{me(o.setSeconds(Ce,re),"finish","seconds")},items:Toe({value:o.getSeconds(Ce),utils:o,isDisabled:re=>Q||ke(re,"seconds"),resolveLabel:re=>o.format(o.setSeconds(ue,re),"seconds"),timeStep:ge.seconds,hasValue:!!te,resolveAriaLabel:pe.secondsClockNumberText})};case"meridiem":{const re=Th(o,"am"),q=Th(o,"pm");return{onChange:De,items:[{value:"am",label:re,isSelected:()=>!!te&&ee==="am",ariaLabel:re},{value:"pm",label:q,isSelected:()=>!!te&&ee==="pm",ariaLabel:q}]}}default:throw new Error(`Unknown view: ${H} found.`)}},[ue,te,i,o,ge.hours,ge.minutes,ge.seconds,pe.hoursClockNumberText,pe.minutesClockNumberText,pe.secondsClockNumberText,ee,me,Ce,Q,ke,De]),qe=a.useMemo(()=>Ne.reduce((H,re)=>$({},H,{[re]:He(re)}),{}),[Ne,He]),Le=s,_e=uXe(Le);return r.jsx(dXe,$({ref:n,className:Nt(_e.root,J),ownerState:Le,role:"group"},X,{children:Object.entries(qe).map(([H,re])=>r.jsx(iXe,{items:re.items,onChange:re.onChange,active:xe===H,autoFocus:u??de===H,disabled:Q,readOnly:V,slots:m??d,slotProps:f??p,skipDisabled:W,"aria-label":pe.selectViewText(H)},H))}))});function mXe(e){return $n("MuiPickersDay",e)}const zg=Bn("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),fXe=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],hXe=e=>{const{selected:t,disableMargin:n,disableHighlightToday:o,today:s,disabled:i,outsideCurrentMonth:c,showDaysOutsideCurrentMonth:u,classes:d}=e,p=c&&!u;return Ln({root:["root",t&&!p&&"selected",i&&"disabled",!n&&"dayWithMargin",!o&&s&&"today",c&&u&&"dayOutsideMonth",p&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},mXe,d)},Dme=({theme:e,ownerState:t})=>$({},e.typography.caption,{width:nT,height:nT,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ti(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:Ti(e.palette.primary.main,e.palette.action.focusOpacity),[`&.${zg.selected}`]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${zg.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${zg.disabled}:not(.${zg.selected})`]:{color:(e.vars||e).palette.text.disabled},[`&.${zg.disabled}&.${zg.selected}`]:{opacity:.6}},!t.disableMargin&&{margin:`0 ${Cw}px`},t.outsideCurrentMonth&&t.showDaysOutsideCurrentMonth&&{color:(e.vars||e).palette.text.secondary},!t.disableHighlightToday&&t.today&&{[`&:not(.${zg.selected})`]:{border:`1px solid ${(e.vars||e).palette.text.secondary}`}}),Sme=(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableMargin&&t.dayWithMargin,!n.disableHighlightToday&&n.today&&t.today,!n.outsideCurrentMonth&&n.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,n.outsideCurrentMonth&&!n.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},gXe=it(qd,{name:"MuiPickersDay",slot:"Root",overridesResolver:Sme})(Dme),bXe=it("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:Sme})(({theme:e,ownerState:t})=>$({},Dme({theme:e,ownerState:t}),{opacity:0,pointerEvents:"none"})),j0=()=>{},xXe=a.forwardRef(function(t,n){const o=qo({props:t,name:"MuiPickersDay"}),{autoFocus:s=!1,className:i,day:c,disabled:u=!1,disableHighlightToday:d=!1,disableMargin:p=!1,isAnimating:m,onClick:f,onDaySelect:h,onFocus:g=j0,onBlur:x=j0,onKeyDown:y=j0,onMouseDown:D=j0,onMouseEnter:v=j0,outsideCurrentMonth:T,selected:I=!1,showDaysOutsideCurrentMonth:P=!1,children:E,today:k=!1}=o,w=It(o,fXe),A=$({},o,{autoFocus:s,disabled:u,disableHighlightToday:d,disableMargin:p,selected:I,showDaysOutsideCurrentMonth:P,today:k}),F=hXe(A),_=ko(),L=a.useRef(null),K=xo(L,n);Us(()=>{s&&!u&&!m&&!T&&L.current.focus()},[s,u,m,T]);const z=Q=>{D(Q),T&&Q.preventDefault()},J=Q=>{u||h(c),T&&Q.currentTarget.focus(),f&&f(Q)};return T&&!P?r.jsx(bXe,{className:Nt(F.root,F.hiddenDaySpacingFiller,i),ownerState:A,role:w.role}):r.jsx(gXe,$({className:Nt(F.root,i),ref:K,centerRipple:!0,disabled:u,tabIndex:I?0:-1,onKeyDown:Q=>y(Q,c),onFocus:Q=>g(Q,c),onBlur:Q=>x(Q,c),onMouseEnter:Q=>v(Q,c),onClick:J,onMouseDown:z},w,{ownerState:A,children:E||_.format(c,"dayOfMonth")}))}),yXe=a.memo(xXe);function vme(e,t,n,o){const{value:s,onError:i}=e,c=qb(),u=a.useRef(o),d=t({adapter:c,value:s,props:e});return a.useEffect(()=>{i&&!n(d,u.current)&&i(d,s),u.current=d},[n,i,u,d,s]),d}const CXe=e=>{const t=ko(),n=Ol(),o=qb(),i=qs().direction==="rtl",{valueManager:c,fieldValueManager:u,valueType:d,validator:p,internalProps:m,internalProps:{value:f,defaultValue:h,referenceDate:g,onChange:x,format:y,formatDensity:D="dense",selectedSections:v,onSelectedSectionsChange:T,shouldRespectLeadingZeros:I=!1,timezone:P}}=e,{timezone:E,value:k,handleValueChange:w}=R3({timezone:P,value:f,defaultValue:h,onChange:x,valueManager:c}),A=a.useMemo(()=>_Je(t,E),[t,E]),F=a.useCallback((ue,ge=null)=>u.getSectionsFromValue(t,ue,ge,i,Ce=>voe(t,E,n,y,Ce,D,I,i)),[u,y,n,i,I,t,D,E]),_=a.useMemo(()=>u.getValueStrFromSections(F(c.emptyValue),i),[u,F,c.emptyValue,i]),[L,K]=a.useState(()=>{const ue=F(k),ge={sections:ue,value:k,referenceValue:c.emptyValue,tempValueStrAndroid:null},Ce=PJe(ue),Te=c.getInitialReferenceValue({referenceDate:g,value:k,utils:t,props:m,granularity:Ce,timezone:E});return $({},ge,{referenceValue:Te})}),[z,J]=Vi({controlled:v,default:null,name:"useField",state:"selectedSectionIndexes"}),Q=ue=>{J(ue),T==null||T(ue),K(ge=>$({},ge,{selectedSectionQuery:null}))},V=a.useMemo(()=>{if(z==null)return null;if(z==="all")return{startIndex:0,endIndex:L.sections.length-1,shouldSelectBoundarySelectors:!0};if(typeof z=="number")return{startIndex:z,endIndex:z};if(typeof z=="string"){const ue=L.sections.findIndex(ge=>ge.type===z);return{startIndex:ue,endIndex:ue}}return z},[z,L.sections]),W=({value:ue,referenceValue:ge,sections:Ce})=>{if(K(Ne=>$({},Ne,{sections:Ce,value:ue,referenceValue:ge,tempValueStrAndroid:null})),c.areValuesEqual(t,L.value,ue))return;const Te={validationError:p({adapter:o,value:ue,props:$({},m,{value:ue,timezone:E})})};w(ue,Te)},U=(ue,ge)=>{const Ce=[...L.sections];return Ce[ue]=$({},Ce[ue],{value:ge,modified:!0}),bme(Ce,i)},X=()=>{W({value:c.emptyValue,referenceValue:L.referenceValue,sections:F(c.emptyValue)})},te=()=>{if(V==null)return;const ue=L.sections[V.startIndex],ge=u.getActiveDateManager(t,L,ue),Te=ge.getSections(L.sections).filter(de=>de.value!=="").length===(ue.value===""?0:1),Ne=U(V.startIndex,""),xe=Te?null:t.date(new Date("")),me=ge.getNewValuesFromNewActiveDate(xe);(xe!=null&&!t.isValid(xe))!=(ge.date!=null&&!t.isValid(ge.date))?W($({},me,{sections:Ne})):K(de=>$({},de,me,{sections:Ne,tempValueStrAndroid:null}))},se=ue=>{const ge=(Ne,xe)=>{const me=t.parse(Ne,y);if(me==null||!t.isValid(me))return null;const de=voe(t,E,n,y,me,D,I,i);return Ioe(t,E,me,de,xe,!1)},Ce=u.parseValueStr(ue,L.referenceValue,ge),Te=u.updateReferenceValue(t,Ce,L.referenceValue);W({value:Ce,referenceValue:Te,sections:F(Ce,L.sections)})},he=({activeSection:ue,newSectionValue:ge,shouldGoToNextSection:Ce})=>{Ce&&V&&V.startIndex<L.sections.length-1?Q(V.startIndex+1):V&&V.startIndex!==V.endIndex&&Q(V.startIndex);const Te=u.getActiveDateManager(t,L,ue),Ne=U(V.startIndex,ge),xe=Te.getSections(Ne),me=FJe(t,xe);let de,ce;if(me!=null&&t.isValid(me)){const ee=Ioe(t,E,me,xe,Te.referenceDate,!0);de=Te.getNewValuesFromNewActiveDate(ee),ce=!0}else de=Te.getNewValuesFromNewActiveDate(me),ce=(me!=null&&!t.isValid(me))!=(Te.date!=null&&!t.isValid(Te.date));return ce?W($({},de,{sections:Ne})):K(ee=>$({},ee,de,{sections:Ne,tempValueStrAndroid:null}))},pe=ue=>K(ge=>$({},ge,{tempValueStrAndroid:ue}));return a.useEffect(()=>{const ue=F(L.value);K(ge=>$({},ge,{sections:ue}))},[y,t.locale]),a.useEffect(()=>{let ue=!1;c.areValuesEqual(t,L.value,k)?ue=c.getTimezone(t,L.value)!==c.getTimezone(t,k):ue=!0,ue&&K(ge=>$({},ge,{value:k,referenceValue:u.updateReferenceValue(t,k,ge.referenceValue),sections:F(k)}))},[k]),{state:L,selectedSectionIndexes:V,setSelectedSections:Q,clearValue:X,clearActiveSection:te,updateSectionValue:he,updateValueFromValueStr:se,setTempAndroidValueStr:pe,sectionsValueBoundaries:A,placeholder:_,timezone:E}},DXe=5e3,Dy=e=>e.saveQuery!=null,SXe=({sections:e,updateSectionValue:t,sectionsValueBoundaries:n,setTempAndroidValueStr:o,timezone:s})=>{const i=ko(),[c,u]=a.useState(null),d=tr(()=>u(null));a.useEffect(()=>{var g;c!=null&&((g=e[c.sectionIndex])==null?void 0:g.type)!==c.sectionType&&d()},[e,c,d]),a.useEffect(()=>{if(c!=null){const g=setTimeout(()=>d(),DXe);return()=>{window.clearTimeout(g)}}return()=>{}},[c,d]);const p=({keyPressed:g,sectionIndex:x},y,D)=>{const v=g.toLowerCase(),T=e[x];if(c!=null&&(!D||D(c.value))&&c.sectionIndex===x){const P=`${c.value}${v}`,E=y(P,T);if(!Dy(E))return u({sectionIndex:x,value:P,sectionType:T.type}),E}const I=y(v,T);return Dy(I)&&!I.saveQuery?(d(),null):(u({sectionIndex:x,value:v,sectionType:T.type}),Dy(I)?null:I)},m=g=>{const x=(v,T,I)=>{const P=T.filter(E=>E.toLowerCase().startsWith(I));return P.length===0?{saveQuery:!1}:{sectionValue:P[0],shouldGoToNextSection:P.length===1}},y=(v,T,I,P)=>{const E=k=>fme(i,s,T.type,k);if(T.contentType==="letter")return x(T.format,E(T.format),v);if(I&&P!=null&&mme(i,I).contentType==="letter"){const k=E(I),w=x(I,k,v);return Dy(w)?{saveQuery:!1}:$({},w,{sectionValue:P(w.sectionValue,k)})}return{saveQuery:!1}};return p(g,(v,T)=>{switch(T.type){case"month":{const I=P=>Soe(i,P,i.formats.month,T.format);return y(v,T,i.formats.month,I)}case"weekDay":{const I=(P,E)=>E.indexOf(P).toString();return y(v,T,i.formats.weekday,I)}case"meridiem":return y(v,T);default:return{saveQuery:!1}}})},f=g=>{const x=(D,v)=>{const T=+`${D}`,I=n[v.type]({currentDate:null,format:v.format,contentType:v.contentType});if(T>I.maximum)return{saveQuery:!1};if(T<I.minimum)return{saveQuery:!0};const P=+`${D}0`>I.maximum||D.length===I.maximum.toString().length;return{sectionValue:gme(i,s,T,I,v),shouldGoToNextSection:P}};return p(g,(D,v)=>{if(v.contentType==="digit"||v.contentType==="digit-with-letter")return x(D,v);if(v.type==="month"){yme(i,s,"digit","month","MM");const T=x(D,{type:v.type,format:"MM",hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(Dy(T))return T;const I=Soe(i,T.sectionValue,"MM",v.format);return $({},T,{sectionValue:I})}if(v.type==="weekDay"){const T=x(D,v);if(Dy(T))return T;const I=vw(i,s,v.format)[Number(T.sectionValue)-1];return $({},T,{sectionValue:I})}return{saveQuery:!1}},D=>!Number.isNaN(Number(D)))};return{applyCharacterEditing:tr(g=>{const x=e[g.sectionIndex],D=g.keyPressed!==" "&&!Number.isNaN(Number(g.keyPressed))?f(g):m(g);D==null?o(null):t({activeSection:x,newSectionValue:D.sectionValue,shouldGoToNextSection:D.shouldGoToNextSection})}),resetCharacterQuery:d}};function $y(e,t){return Array.isArray(t)?t.every(n=>e.indexOf(n)!==-1):e.indexOf(t)!==-1}const vXe=(e,t)=>n=>{(n.key==="Enter"||n.key===" ")&&(e(n),n.preventDefault(),n.stopPropagation())},lR=(e=document)=>{const t=e.activeElement;return t?t.shadowRoot?lR(t.shadowRoot):t:null},jme="@media (pointer: fine)",jXe=["onClick","onKeyDown","onFocus","onBlur","onMouseUp","onPaste","error","clearable","onClear","disabled"],Ime=e=>{const t=ko(),{state:n,selectedSectionIndexes:o,setSelectedSections:s,clearValue:i,clearActiveSection:c,updateSectionValue:u,updateValueFromValueStr:d,setTempAndroidValueStr:p,sectionsValueBoundaries:m,placeholder:f,timezone:h}=CXe(e),{inputRef:g,internalProps:x,internalProps:{readOnly:y=!1,unstableFieldRef:D,minutesStep:v},forwardedProps:{onClick:T,onKeyDown:I,onFocus:P,onBlur:E,onMouseUp:k,onPaste:w,error:A,clearable:F,onClear:_,disabled:L},fieldValueManager:K,valueManager:z,validator:J}=e,Q=It(e.forwardedProps,jXe),{applyCharacterEditing:V,resetCharacterQuery:W}=SXe({sections:n.sections,updateSectionValue:u,sectionsValueBoundaries:m,setTempAndroidValueStr:p,timezone:h}),U=a.useRef(null),X=xo(g,U),te=a.useRef(void 0),he=qs().direction==="rtl",pe=a.useMemo(()=>BJe(n.sections,he),[n.sections,he]),ue=()=>{var H;if(y){s(null);return}const re=(H=U.current.selectionStart)!=null?H:0;let q;re<=n.sections[0].startInInput||re>=n.sections[n.sections.length-1].endInInput?q=1:q=n.sections.findIndex(ie=>ie.startInInput-ie.startSeparator.length>re);const Y=q===-1?n.sections.length-1:q-1;s(Y)},ge=tr((H,...re)=>{H.isDefaultPrevented()||(T==null||T(H,...re),ue())}),Ce=tr(H=>{k==null||k(H),H.preventDefault()}),Te=tr((...H)=>{P==null||P(...H);const re=U.current;window.clearTimeout(te.current),te.current=setTimeout(()=>{!re||re!==U.current||o!=null||y||(re.value.length&&Number(re.selectionEnd)-Number(re.selectionStart)===re.value.length?s("all"):ue())})}),Ne=tr((...H)=>{E==null||E(...H),s(null)}),xe=tr(H=>{if(w==null||w(H),y){H.preventDefault();return}const re=H.clipboardData.getData("text");if(o&&o.startIndex===o.endIndex){const q=n.sections[o.startIndex],Y=/^[a-zA-Z]+$/.test(re),ie=/^[0-9]+$/.test(re),B=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(re);if(q.contentType==="letter"&&Y||q.contentType==="digit"&&ie||q.contentType==="digit-with-letter"&&B){W(),u({activeSection:q,newSectionValue:re,shouldGoToNextSection:!0}),H.preventDefault();return}if(Y||ie){H.preventDefault();return}}H.preventDefault(),W(),d(re)}),me=tr(H=>{if(y)return;const re=H.target.value;if(re===""){W(),i();return}const q=H.nativeEvent.data,Y=q&&q.length>1,ie=Y?q:re,B=Hy(ie);if(o==null||Y){d(Y?q:B);return}let Z;if(o.startIndex===0&&o.endIndex===n.sections.length-1&&B.length===1)Z=B;else{const ye=Hy(K.getValueStrFromSections(n.sections,he));let Ie=-1,le=-1;for(let be=0;be<ye.length;be+=1)Ie===-1&&ye[be]!==B[be]&&(Ie=be),le===-1&&ye[ye.length-be-1]!==B[B.length-be-1]&&(le=be);const fe=n.sections[o.startIndex];if(Ie<fe.start||ye.length-le-1>fe.end)return;const Se=B.length-ye.length+fe.end-Hy(fe.endSeparator||"").length;Z=B.slice(fe.start+Hy(fe.startSeparator||"").length,Se)}if(Z.length===0){$Je()?p(ie):(W(),c());return}V({keyPressed:Z,sectionIndex:o.startIndex})}),de=tr(H=>{switch(I==null||I(H),!0){case(H.key==="a"&&(H.ctrlKey||H.metaKey)):{H.preventDefault(),s("all");break}case H.key==="ArrowRight":{if(H.preventDefault(),o==null)s(pe.startIndex);else if(o.startIndex!==o.endIndex)s(o.endIndex);else{const re=pe.neighbors[o.startIndex].rightIndex;re!==null&&s(re)}break}case H.key==="ArrowLeft":{if(H.preventDefault(),o==null)s(pe.endIndex);else if(o.startIndex!==o.endIndex)s(o.startIndex);else{const re=pe.neighbors[o.startIndex].leftIndex;re!==null&&s(re)}break}case H.key==="Delete":{if(H.preventDefault(),y)break;o==null||o.startIndex===0&&o.endIndex===n.sections.length-1?i():c(),W();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(H.key):{if(H.preventDefault(),y||o==null)break;const re=n.sections[o.startIndex],q=K.getActiveDateManager(t,n,re),Y=kJe(t,h,re,H.key,m,q.date,{minutesStep:v});u({activeSection:re,newSectionValue:Y,shouldGoToNextSection:!1});break}}});Us(()=>{if(!U.current)return;if(o==null){U.current.scrollLeft&&(U.current.scrollLeft=0);return}const H=n.sections[o.startIndex],re=n.sections[o.endIndex];let q=H.startInInput,Y=re.endInInput;if(o.shouldSelectBoundarySelectors&&(q-=H.startSeparator.length,Y+=re.endSeparator.length),q!==U.current.selectionStart||Y!==U.current.selectionEnd){const ie=U.current.scrollTop;U.current===lR(document)&&U.current.setSelectionRange(q,Y),U.current.scrollTop=ie}});const ce=vme($({},x,{value:n.value,timezone:h}),J,z.isSameError,z.defaultErrorState),ee=a.useMemo(()=>A!==void 0?A:z.hasError(ce),[z,ce,A]);a.useEffect(()=>{!ee&&!o&&W()},[n.referenceValue,o,ee]),a.useEffect(()=>(U.current&&U.current===document.activeElement&&s("all"),()=>window.clearTimeout(te.current)),[]),a.useEffect(()=>{n.tempValueStrAndroid!=null&&o!=null&&(W(),c())},[n.tempValueStrAndroid]);const De=a.useMemo(()=>{var H;return(H=n.tempValueStrAndroid)!=null?H:K.getValueStrFromSections(n.sections,he)},[n.sections,K,n.tempValueStrAndroid,he]),ke=a.useMemo(()=>o==null||n.sections[o.startIndex].contentType==="letter"?"text":"numeric",[o,n.sections]),He=U.current&&U.current===lR(document),qe=z.areValuesEqual(t,n.value,z.emptyValue),Le=!He&&qe;a.useImperativeHandle(D,()=>({getSections:()=>n.sections,getActiveSectionIndex:()=>{var H,re,q;const Y=(H=U.current.selectionStart)!=null?H:0,ie=(re=U.current.selectionEnd)!=null?re:0,B=!!((q=U.current)!=null&&q.readOnly);if(Y===0&&ie===0||B)return null;const Z=Y<=n.sections[0].startInInput?1:n.sections.findIndex(ye=>ye.startInInput-ye.startSeparator.length>Y);return Z===-1?n.sections.length-1:Z-1},setSelectedSections:H=>s(H)}));const _e=tr((H,...re)=>{var q;H.preventDefault(),_==null||_(H,...re),i(),U==null||(q=U.current)==null||q.focus(),s(0)});return $({placeholder:f,autoComplete:"off",disabled:!!L},Q,{value:Le?"":De,inputMode:ke,readOnly:y,onClick:ge,onFocus:Te,onBlur:Ne,onPaste:xe,onChange:me,onKeyDown:de,onMouseUp:Ce,onClear:_e,error:ee,ref:X,clearable:!!(F&&!qe&&!y&&!L)})},Iw=({props:e,value:t,adapter:n})=>{if(t===null)return null;const{shouldDisableDate:o,shouldDisableMonth:s,shouldDisableYear:i,disablePast:c,disableFuture:u,timezone:d}=e,p=n.utils.dateWithTimezone(void 0,d),m=td(n.utils,e.minDate,n.defaultDates.minDate),f=td(n.utils,e.maxDate,n.defaultDates.maxDate);switch(!0){case!n.utils.isValid(t):return"invalidDate";case!!(o&&o(t)):return"shouldDisableDate";case!!(s&&s(t)):return"shouldDisableMonth";case!!(i&&i(t)):return"shouldDisableYear";case!!(u&&n.utils.isAfterDay(t,p)):return"disableFuture";case!!(c&&n.utils.isBeforeDay(t,p)):return"disablePast";case!!(m&&n.utils.isBeforeDay(t,m)):return"minDate";case!!(f&&n.utils.isAfterDay(t,f)):return"maxDate";default:return null}},a$=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],i$=["disablePast","disableFuture","minTime","maxTime","shouldDisableClock","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],Tme=["minDateTime","maxDateTime"],IXe=[...a$,...i$,...Tme],Tw=e=>IXe.reduce((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t),{}),TXe=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","readOnly","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef"],Ome=(e,t)=>{const n=$({},e),o={},s=i=>{n.hasOwnProperty(i)&&(o[i]=n[i],delete n[i])};return TXe.forEach(s),t==="date"?a$.forEach(s):t==="time"?i$.forEach(s):t==="date-time"&&(a$.forEach(s),i$.forEach(s),Tme.forEach(s)),{forwardedProps:n,internalProps:o}},OXe=e=>{var t,n,o;const s=ko(),i=AT();return $({},e,{disablePast:(t=e.disablePast)!=null?t:!1,disableFuture:(n=e.disableFuture)!=null?n:!1,format:(o=e.format)!=null?o:s.formats.keyboardDate,minDate:td(s,e.minDate,i.minDate),maxDate:td(s,e.maxDate,i.maxDate)})},EXe=({props:e,inputRef:t})=>{const n=OXe(e),{forwardedProps:o,internalProps:s}=Ome(n,"date");return Ime({inputRef:t,forwardedProps:o,internalProps:s,valueManager:cl,fieldValueManager:Cme,validator:Iw,valueType:"date"})},PXe=it(Wpe)({[`& .${CI.container}`]:{outline:0},[`& .${CI.paper}`]:{outline:0,minWidth:Dw}}),RXe=it(tm)({"&:first-of-type":{padding:0}});function wXe(e){var t,n;const{children:o,onDismiss:s,open:i,slots:c,slotProps:u}=e,d=(t=c==null?void 0:c.dialog)!=null?t:PXe,p=(n=c==null?void 0:c.mobileTransition)!=null?n:Kh;return r.jsx(d,$({open:i,onClose:s},u==null?void 0:u.dialog,{TransitionComponent:p,TransitionProps:u==null?void 0:u.mobileTransition,PaperComponent:c==null?void 0:c.mobilePaper,PaperProps:u==null?void 0:u.mobilePaper,children:r.jsx(RXe,{children:o})}))}function kXe(e){return $n("MuiPickersPopper",e)}Bn("MuiPickersPopper",["root","paper"]);const AXe="@media (prefers-reduced-motion: reduce)",sC=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),Ooe=sC&&sC[1]?parseInt(sC[1],10):null,Eoe=sC&&sC[2]?parseInt(sC[2],10):null,NXe=Ooe&&Ooe<10||Eoe&&Eoe<13||!1,Eme=()=>Xl(AXe,{defaultMatches:!1})||NXe,FXe=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],MXe=e=>{const{classes:t}=e;return Ln({root:["root"],paper:["paper"]},kXe,t)},_Xe=it(Xp,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({zIndex:e.zIndex.modal})),LXe=it(_s,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(e,t)=>t.paper})(({ownerState:e})=>$({outline:0,transformOrigin:"top center"},e.placement.includes("top")&&{transformOrigin:"bottom center"}));function $Xe(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function BXe(e,t){const n=a.useRef(!1),o=a.useRef(!1),s=a.useRef(null),i=a.useRef(!1);a.useEffect(()=>{if(!e)return;function d(){i.current=!0}return document.addEventListener("mousedown",d,!0),document.addEventListener("touchstart",d,!0),()=>{document.removeEventListener("mousedown",d,!0),document.removeEventListener("touchstart",d,!0),i.current=!1}},[e]);const c=tr(d=>{if(!i.current)return;const p=o.current;o.current=!1;const m=js(s.current);if(!s.current||"clientX"in d&&$Xe(d,m))return;if(n.current){n.current=!1;return}let f;d.composedPath?f=d.composedPath().indexOf(s.current)>-1:f=!m.documentElement.contains(d.target)||s.current.contains(d.target),!f&&!p&&t(d)}),u=()=>{o.current=!0};return a.useEffect(()=>{if(e){const d=js(s.current),p=()=>{n.current=!0};return d.addEventListener("touchstart",c),d.addEventListener("touchmove",p),()=>{d.removeEventListener("touchstart",c),d.removeEventListener("touchmove",p)}}},[e,c]),a.useEffect(()=>{if(e){const d=js(s.current);return d.addEventListener("click",c),()=>{d.removeEventListener("click",c),o.current=!1}}},[e,c]),[s,u,u]}const WXe=a.forwardRef((e,t)=>{const{PaperComponent:n,popperPlacement:o,ownerState:s,children:i,paperSlotProps:c,paperClasses:u,onPaperClick:d,onPaperTouchStart:p}=e,m=It(e,FXe),f=$({},s,{placement:o}),h=ha({elementType:n,externalSlotProps:c,additionalProps:{tabIndex:-1,elevation:8,ref:t},className:u,ownerState:f});return r.jsx(n,$({},m,h,{onClick:g=>{var x;d(g),(x=h.onClick)==null||x.call(h,g)},onTouchStart:g=>{var x;p(g),(x=h.onTouchStart)==null||x.call(h,g)},ownerState:f,children:i}))});function UXe(e){var t,n,o,s;const i=qo({props:e,name:"MuiPickersPopper"}),{anchorEl:c,children:u,containerRef:d=null,shouldRestoreFocus:p,onBlur:m,onDismiss:f,open:h,role:g,placement:x,slots:y,slotProps:D,reduceAnimations:v}=i;a.useEffect(()=>{function X(te){h&&(te.key==="Escape"||te.key==="Esc")&&f()}return document.addEventListener("keydown",X),()=>{document.removeEventListener("keydown",X)}},[f,h]);const T=a.useRef(null);a.useEffect(()=>{g==="tooltip"||p&&!p()||(h?T.current=lR(document):T.current&&T.current instanceof HTMLElement&&setTimeout(()=>{T.current instanceof HTMLElement&&T.current.focus()}))},[h,g,p]);const[I,P,E]=BXe(h,m??f),k=a.useRef(null),w=xo(k,d),A=xo(w,I),F=i,_=MXe(F),L=Eme(),K=v??L,z=X=>{X.key==="Escape"&&(X.stopPropagation(),f())},J=((t=y==null?void 0:y.desktopTransition)!=null?t:K)?Kh:vC,Q=(n=y==null?void 0:y.desktopTrapFocus)!=null?n:$pe,V=(o=y==null?void 0:y.desktopPaper)!=null?o:LXe,W=(s=y==null?void 0:y.popper)!=null?s:_Xe,U=ha({elementType:W,externalSlotProps:D==null?void 0:D.popper,additionalProps:{transition:!0,role:g,open:h,anchorEl:c,placement:x,onKeyDown:z},className:_.root,ownerState:i});return r.jsx(W,$({},U,{children:({TransitionProps:X,placement:te})=>r.jsx(Q,$({open:h,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:g==="tooltip",isEnabled:()=>!0},D==null?void 0:D.desktopTrapFocus,{children:r.jsx(J,$({},X,D==null?void 0:D.desktopTransition,{children:r.jsx(WXe,{PaperComponent:V,ownerState:F,popperPlacement:te,ref:A,onPaperClick:P,onPaperTouchStart:E,paperClasses:_.paper,paperSlotProps:D==null?void 0:D.desktopPaper,children:u})}))}))}))}function Pme(e){return $n("MuiPickersToolbar",e)}Bn("MuiPickersToolbar",["root","content"]);const qXe=e=>{const{classes:t,isLandscape:n}=e;return Ln({root:["root"],content:["content"],penIconButton:["penIconButton",n&&"penIconButtonLandscape"]},Pme,t)},VXe=it("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e,ownerState:t})=>$({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:e.spacing(2,3)},t.isLandscape&&{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"})),zXe=it("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(e,t)=>t.content})(({ownerState:e})=>{var t;return{display:"flex",flexWrap:"wrap",width:"100%",justifyContent:e.isLandscape?"flex-start":"space-between",flexDirection:e.isLandscape?(t=e.landscapeDirection)!=null?t:"column":"row",flex:1,alignItems:e.isLandscape?"flex-start":"center"}}),Rme=a.forwardRef(function(t,n){const o=qo({props:t,name:"MuiPickersToolbar"}),{children:s,className:i,toolbarTitle:c,hidden:u,titleId:d}=o,p=o,m=qXe(p);return u?null:r.jsxs(VXe,{ref:n,className:Nt(m.root,i),ownerState:p,children:[r.jsx(nn,{color:"text.secondary",variant:"overline",id:d,children:c}),r.jsx(zXe,{className:m.content,ownerState:p,children:s})]})});function HXe(e){return $n("MuiPickersToolbarText",e)}const Poe=Bn("MuiPickersToolbarText",["root","selected"]),GXe=["className","selected","value"],KXe=e=>{const{classes:t,selected:n}=e;return Ln({root:["root",n&&"selected"]},HXe,t)},QXe=it(nn,{name:"MuiPickersToolbarText",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`&.${Poe.selected}`]:t.selected}]})(({theme:e})=>({transition:e.transitions.create("color"),color:(e.vars||e).palette.text.secondary,[`&.${Poe.selected}`]:{color:(e.vars||e).palette.text.primary}})),wme=a.forwardRef(function(t,n){const o=qo({props:t,name:"MuiPickersToolbarText"}),{className:s,value:i}=o,c=It(o,GXe),u=KXe(o);return r.jsx(QXe,$({ref:n,className:Nt(s,u.root),component:"span"},c,{children:i}))}),YXe=["align","className","selected","typographyClassName","value","variant","width"],JXe=e=>{const{classes:t}=e;return Ln({root:["root"]},Pme,t)},XXe=it(fa,{name:"MuiPickersToolbarButton",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:0,minWidth:16,textTransform:"none"}),I0=a.forwardRef(function(t,n){const o=qo({props:t,name:"MuiPickersToolbarButton"}),{align:s,className:i,selected:c,typographyClassName:u,value:d,variant:p,width:m}=o,f=It(o,YXe),h=JXe(o);return r.jsx(XXe,$({variant:"text",ref:n,className:Nt(i,h.root)},m?{sx:{width:m}}:{},f,{children:r.jsx(wme,{align:s,className:u,variant:p,value:d,selected:c})}))}),ZXe=({open:e,onOpen:t,onClose:n})=>{const o=a.useRef(typeof e=="boolean").current,[s,i]=a.useState(!1);a.useEffect(()=>{if(o){if(typeof e!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");i(e)}},[o,e]);const c=a.useCallback(u=>{o||i(u),u&&t&&t(),!u&&n&&n()},[o,t,n]);return{isOpen:s,setIsOpen:c}},eZe=e=>{const{action:t,hasChanged:n,dateState:o,isControlled:s}=e,i=!s&&!o.hasBeenModifiedSinceMount;return t.name==="setValueFromField"?!0:t.name==="setValueFromAction"?i&&["accept","today","clear"].includes(t.pickerAction)?!0:n(o.lastPublishedValue):t.name==="setValueFromView"&&t.selectionState!=="shallow"||t.name==="setValueFromShortcut"?i?!0:n(o.lastPublishedValue):!1},tZe=e=>{const{action:t,hasChanged:n,dateState:o,isControlled:s,closeOnSelect:i}=e,c=!s&&!o.hasBeenModifiedSinceMount;return t.name==="setValueFromAction"?c&&["accept","today","clear"].includes(t.pickerAction)?!0:n(o.lastCommittedValue):t.name==="setValueFromView"&&t.selectionState==="finish"&&i?c?!0:n(o.lastCommittedValue):t.name==="setValueFromShortcut"?t.changeImportance==="accept"&&n(o.lastCommittedValue):!1},nZe=e=>{const{action:t,closeOnSelect:n}=e;return t.name==="setValueFromAction"?!0:t.name==="setValueFromView"?t.selectionState==="finish"&&n:t.name==="setValueFromShortcut"?t.changeImportance==="accept":!1},rZe=({props:e,valueManager:t,valueType:n,wrapperVariant:o,validator:s})=>{const{onAccept:i,onChange:c,value:u,defaultValue:d,closeOnSelect:p=o==="desktop",selectedSections:m,onSelectedSectionsChange:f,timezone:h}=e,{current:g}=a.useRef(d),{current:x}=a.useRef(u!==void 0),y=ko(),D=qb(),[v,T]=Vi({controlled:m,default:null,name:"usePickerValue",state:"selectedSections"}),{isOpen:I,setIsOpen:P}=ZXe(e),[E,k]=a.useState(()=>{let Te;return u!==void 0?Te=u:g!==void 0?Te=g:Te=t.emptyValue,{draft:Te,lastPublishedValue:Te,lastCommittedValue:Te,lastControlledValue:u,hasBeenModifiedSinceMount:!1}}),{timezone:w,handleValueChange:A}=R3({timezone:h,value:u,defaultValue:g,onChange:c,valueManager:t});vme($({},e,{value:E.draft,timezone:w}),s,t.isSameError,t.defaultErrorState);const F=tr(Te=>{const Ne={action:Te,dateState:E,hasChanged:ce=>!t.areValuesEqual(y,Te.value,ce),isControlled:x,closeOnSelect:p},xe=eZe(Ne),me=tZe(Ne),de=nZe(Ne);if(k(ce=>$({},ce,{draft:Te.value,lastPublishedValue:xe?Te.value:ce.lastPublishedValue,lastCommittedValue:me?Te.value:ce.lastCommittedValue,hasBeenModifiedSinceMount:!0})),xe){const ee={validationError:Te.name==="setValueFromField"?Te.context.validationError:s({adapter:D,value:Te.value,props:$({},e,{value:Te.value,timezone:w})})};Te.name==="setValueFromShortcut"&&Te.shortcut!=null&&(ee.shortcut=Te.shortcut),A(Te.value,ee)}me&&i&&i(Te.value),de&&P(!1)});if(u!==void 0&&(E.lastControlledValue===void 0||!t.areValuesEqual(y,E.lastControlledValue,u))){const Te=t.areValuesEqual(y,E.draft,u);k(Ne=>$({},Ne,{lastControlledValue:u},Te?{}:{lastCommittedValue:u,lastPublishedValue:u,draft:u,hasBeenModifiedSinceMount:!0}))}const _=tr(()=>{F({value:t.emptyValue,name:"setValueFromAction",pickerAction:"clear"})}),L=tr(()=>{F({value:E.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})}),K=tr(()=>{F({value:E.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})}),z=tr(()=>{F({value:E.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})}),J=tr(()=>{F({value:t.getTodayValue(y,w,n),name:"setValueFromAction",pickerAction:"today"})}),Q=tr(()=>P(!0)),V=tr(()=>P(!1)),W=tr((Te,Ne="partial")=>F({name:"setValueFromView",value:Te,selectionState:Ne})),U=tr((Te,Ne,xe)=>F({name:"setValueFromShortcut",value:Te,changeImportance:Ne??"accept",shortcut:xe})),X=tr((Te,Ne)=>F({name:"setValueFromField",value:Te,context:Ne})),te=tr(Te=>{T(Te),f==null||f(Te)}),se={onClear:_,onAccept:L,onDismiss:K,onCancel:z,onSetToday:J,onOpen:Q,onClose:V},he={value:E.draft,onChange:X,selectedSections:v,onSelectedSectionsChange:te},pe=a.useMemo(()=>t.cleanValue(y,E.draft),[y,t,E.draft]),ue={value:pe,onChange:W,onClose:V,open:I,onSelectedSectionsChange:te},Ce=$({},se,{value:pe,onChange:W,onSelectShortcut:U,isValid:Te=>{const Ne=s({adapter:D,value:Te,props:$({},e,{value:Te,timezone:w})});return!t.hasError(Ne)}});return{open:I,fieldProps:he,viewProps:ue,layoutProps:Ce,actions:se}},oZe=["className","sx"],sZe=({props:e,propsFromPickerValue:t,additionalViewProps:n,inputRef:o,autoFocusView:s})=>{const{onChange:i,open:c,onSelectedSectionsChange:u,onClose:d}=t,{view:p,views:m,openTo:f,onViewChange:h,viewRenderers:g,timezone:x}=e,y=It(e,oZe),{view:D,setView:v,defaultView:T,focusedView:I,setFocusedView:P,setValueAndGoToNextView:E}=FT({view:p,views:m,openTo:f,onChange:i,onViewChange:h,autoFocus:s}),{hasUIView:k,viewModeLookup:w}=a.useMemo(()=>m.reduce((J,Q)=>{let V;return g[Q]!=null?V="UI":V="field",J.viewModeLookup[Q]=V,V==="UI"&&(J.hasUIView=!0),J},{hasUIView:!1,viewModeLookup:{}}),[g,m]),A=a.useMemo(()=>m.reduce((J,Q)=>g[Q]!=null&&eT(Q)?J+1:J,0),[g,m]),F=w[D],_=tr(()=>F==="UI"),[L,K]=a.useState(F==="UI"?D:null);return L!==D&&w[D]==="UI"&&K(D),Us(()=>{F==="field"&&c&&(d(),setTimeout(()=>{o==null||o.current.focus(),u(D)}))},[D]),Us(()=>{if(!c)return;let J=D;F==="field"&&L!=null&&(J=L),J!==T&&w[J]==="UI"&&w[T]==="UI"&&(J=T),J!==D&&v(J),P(J,!0)},[c]),{hasUIView:k,shouldRestoreFocus:_,layoutProps:{views:m,view:L,onViewChange:v},renderCurrentView:()=>{if(L==null)return null;const J=g[L];return J==null?null:J($({},y,n,t,{views:m,timezone:x,onChange:E,view:L,onViewChange:v,focusedView:I,onFocusedViewChange:P,showViewSwitcher:A>1,timeViewsCount:A}))}}};function Roe(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const aZe=(e,t)=>{const[n,o]=a.useState(Roe);return Us(()=>{const i=()=>{o(Roe())};return window.addEventListener("orientationchange",i),()=>{window.removeEventListener("orientationchange",i)}},[]),$y(e,["hours","minutes","seconds"])?!1:(t||n)==="landscape"},iZe=({props:e,propsFromPickerValue:t,propsFromPickerViews:n,wrapperVariant:o})=>{const{orientation:s}=e,i=aZe(n.views,s);return{layoutProps:$({},n,t,{isLandscape:i,wrapperVariant:o,disabled:e.disabled,readOnly:e.readOnly})}},kme=({props:e,valueManager:t,valueType:n,wrapperVariant:o,inputRef:s,additionalViewProps:i,validator:c,autoFocusView:u})=>{const d=rZe({props:e,valueManager:t,valueType:n,wrapperVariant:o,validator:c}),p=sZe({props:e,inputRef:s,additionalViewProps:i,autoFocusView:u,propsFromPickerValue:d.viewProps}),m=iZe({props:e,wrapperVariant:o,propsFromPickerValue:d.layoutProps,propsFromPickerViews:p.layoutProps});return{open:d.open,actions:d.actions,fieldProps:d.fieldProps,renderCurrentView:p.renderCurrentView,hasUIView:p.hasUIView,shouldRestoreFocus:p.shouldRestoreFocus,layoutProps:m.layoutProps}};function Ame(e){return $n("MuiPickersLayout",e)}const j_=Bn("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),lZe=["onAccept","onClear","onCancel","onSetToday","actions"];function cZe(e){const{onAccept:t,onClear:n,onCancel:o,onSetToday:s,actions:i}=e,c=It(e,lZe),u=Ol();if(i==null||i.length===0)return null;const d=i==null?void 0:i.map(p=>{switch(p){case"clear":return r.jsx(fa,{onClick:n,children:u.clearButtonLabel},p);case"cancel":return r.jsx(fa,{onClick:o,children:u.cancelButtonLabel},p);case"accept":return r.jsx(fa,{onClick:t,children:u.okButtonLabel},p);case"today":return r.jsx(fa,{onClick:s,children:u.todayButtonLabel},p);default:return null}});return r.jsx(em,$({},c,{children:d}))}const uZe=["items","changeImportance","isLandscape","onChange","isValid"],dZe=["getValue"];function pZe(e){const{items:t,changeImportance:n,onChange:o,isValid:s}=e,i=It(e,uZe);if(t==null||t.length===0)return null;const c=t.map(u=>{let{getValue:d}=u,p=It(u,dZe);const m=d({isValid:s});return{label:p.label,onClick:()=>{o(m,n,p)},disabled:!s(m)}});return r.jsx(x3,$({dense:!0,sx:[{maxHeight:T3,maxWidth:200,overflow:"auto"},...Array.isArray(i.sx)?i.sx:[i.sx]]},i,{children:c.map(u=>r.jsx(Qpe,{children:r.jsx(XI,$({},u))},u.label))}))}function mZe(e){return e.view!==null}const fZe=e=>{const{classes:t,isLandscape:n}=e;return Ln({root:["root",n&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},Ame,t)},hZe=e=>{var t,n;const{wrapperVariant:o,onAccept:s,onClear:i,onCancel:c,onSetToday:u,view:d,views:p,onViewChange:m,value:f,onChange:h,onSelectShortcut:g,isValid:x,isLandscape:y,disabled:D,readOnly:v,children:T,components:I,componentsProps:P,slots:E,slotProps:k}=e,w=E??jw(I),A=k??P,F=fZe(e),_=(t=w==null?void 0:w.actionBar)!=null?t:cZe,L=ha({elementType:_,externalSlotProps:A==null?void 0:A.actionBar,additionalProps:{onAccept:s,onClear:i,onCancel:c,onSetToday:u,actions:o==="desktop"?[]:["cancel","accept"],className:F.actionBar},ownerState:$({},e,{wrapperVariant:o})}),K=r.jsx(_,$({},L)),z=w==null?void 0:w.toolbar,J=ha({elementType:z,externalSlotProps:A==null?void 0:A.toolbar,additionalProps:{isLandscape:y,onChange:h,value:f,view:d,onViewChange:m,views:p,disabled:D,readOnly:v,className:F.toolbar},ownerState:$({},e,{wrapperVariant:o})}),Q=mZe(J)&&z?r.jsx(z,$({},J)):null,V=T,W=w==null?void 0:w.tabs,U=d&&W?r.jsx(W,$({view:d,onViewChange:m,className:F.tabs},A==null?void 0:A.tabs)):null,X=(n=w==null?void 0:w.shortcuts)!=null?n:pZe,te=ha({elementType:X,externalSlotProps:A==null?void 0:A.shortcuts,additionalProps:{isValid:x,isLandscape:y,onChange:g,className:F.shortcuts},ownerState:{isValid:x,isLandscape:y,onChange:g,className:F.shortcuts,wrapperVariant:o}}),se=d&&X?r.jsx(X,$({},te)):null;return{toolbar:Q,content:V,tabs:U,actionBar:K,shortcuts:se}},gZe=e=>{const{isLandscape:t,classes:n}=e;return Ln({root:["root",t&&"landscape"],contentWrapper:["contentWrapper"]},Ame,n)},Nme=it("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e,ownerState:t})=>({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${j_.toolbar}`]:t.isLandscape?{gridColumn:e.direction==="rtl"?3:1,gridRow:"2 / 3"}:{gridColumn:"2 / 4",gridRow:1},[`.${j_.shortcuts}`]:t.isLandscape?{gridColumn:"2 / 4",gridRow:1}:{gridColumn:e.direction==="rtl"?3:1,gridRow:"2 / 3"},[`& .${j_.actionBar}`]:{gridColumn:"1 / 4",gridRow:3}}));Nme.propTypes={as:l.elementType,ownerState:l.shape({isLandscape:l.bool.isRequired}).isRequired,sx:l.oneOfType([l.arrayOf(l.oneOfType([l.func,l.object,l.bool])),l.func,l.object])};const bZe=it("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(e,t)=>t.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),Fme=function(t){const n=qo({props:t,name:"MuiPickersLayout"}),{toolbar:o,content:s,tabs:i,actionBar:c,shortcuts:u}=hZe(n),{sx:d,className:p,isLandscape:m,ref:f,wrapperVariant:h}=n,g=n,x=gZe(g);return r.jsxs(Nme,{ref:f,sx:d,className:Nt(p,x.root),ownerState:g,children:[m?u:o,m?o:u,r.jsx(bZe,{className:x.contentWrapper,children:h==="desktop"?r.jsxs(a.Fragment,{children:[s,i]}):r.jsxs(a.Fragment,{children:[i,s]})}),c]})},A3=({adapter:e,value:t,props:n})=>{if(t===null)return null;const{minTime:o,maxTime:s,minutesStep:i,shouldDisableClock:c,shouldDisableTime:u,disableIgnoringDatePartForTimeValidation:d=!1,disablePast:p,disableFuture:m,timezone:f}=n,h=e.utils.dateWithTimezone(void 0,f),g=NT(d,e.utils);switch(!0){case!e.utils.isValid(t):return"invalidDate";case!!(o&&g(o,t)):return"minTime";case!!(s&&g(t,s)):return"maxTime";case!!(m&&e.utils.isAfter(t,h)):return"disableFuture";case!!(p&&e.utils.isBefore(t,h)):return"disablePast";case!!(u&&u(t,"hours")):return"shouldDisableTime-hours";case!!(u&&u(t,"minutes")):return"shouldDisableTime-minutes";case!!(u&&u(t,"seconds")):return"shouldDisableTime-seconds";case!!(c&&c(e.utils.getHours(t),"hours")):return"shouldDisableClock-hours";case!!(c&&c(e.utils.getMinutes(t),"minutes")):return"shouldDisableClock-minutes";case!!(c&&c(e.utils.getSeconds(t),"seconds")):return"shouldDisableClock-seconds";case!!(i&&e.utils.getMinutes(t)%i!==0):return"minutesStep";default:return null}},xZe=e=>$n("MuiPickersSlideTransition",e),Bu=Bn("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),yZe=["children","className","reduceAnimations","slideDirection","transKey","classes"],CZe=e=>{const{classes:t,slideDirection:n}=e,o={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${n}`],exitActive:[`slideExitActiveLeft-${n}`]};return Ln(o,xZe,t)},DZe=it(DD,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`.${Bu["slideEnter-left"]}`]:t["slideEnter-left"]},{[`.${Bu["slideEnter-right"]}`]:t["slideEnter-right"]},{[`.${Bu.slideEnterActive}`]:t.slideEnterActive},{[`.${Bu.slideExit}`]:t.slideExit},{[`.${Bu["slideExitActiveLeft-left"]}`]:t["slideExitActiveLeft-left"]},{[`.${Bu["slideExitActiveLeft-right"]}`]:t["slideExitActiveLeft-right"]}]})(({theme:e})=>{const t=e.transitions.create("transform",{duration:e.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Bu["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Bu["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Bu.slideEnterActive}`]:{transform:"translate(0%)",transition:t},[`& .${Bu.slideExit}`]:{transform:"translate(0%)"},[`& .${Bu["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:t,zIndex:0},[`& .${Bu["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:t,zIndex:0}}});function SZe(e){const t=qo({props:e,name:"MuiPickersSlideTransition"}),{children:n,className:o,reduceAnimations:s,transKey:i}=t,c=It(t,yZe),u=CZe(t),d=qs();if(s)return r.jsx("div",{className:Nt(u.root,o),children:n});const p={exit:u.exit,enterActive:u.enterActive,enter:u.enter,exitActive:u.exitActive};return r.jsx(DZe,{className:Nt(u.root,o),childFactory:m=>a.cloneElement(m,{classNames:p}),role:"presentation",children:r.jsx(XB,$({mountOnEnter:!0,unmountOnExit:!0,timeout:d.transitions.duration.complex,classNames:p},c,{children:n}),i)})}const Mme=({shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:n,minDate:o,maxDate:s,disableFuture:i,disablePast:c,timezone:u})=>{const d=qb();return a.useCallback(p=>Iw({adapter:d,value:p,props:{shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:n,minDate:o,maxDate:s,disableFuture:i,disablePast:c,timezone:u}})!==null,[d,e,t,n,o,s,i,c,u])},vZe=e=>$n("MuiDayCalendar",e);Bn("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const jZe=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],IZe=["ownerState"],TZe=e=>{const{classes:t}=e;return Ln({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},vZe,t)},_me=(nT+Cw*2)*6,OZe=it("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),EZe=it("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(e,t)=>t.header})({display:"flex",justifyContent:"center",alignItems:"center"}),PZe=it(nn,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(e,t)=>t.weekDayLabel})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary})),RZe=it(nn,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(e,t)=>t.weekNumberLabel})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:e.palette.text.disabled})),wZe=it(nn,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(e,t)=>t.weekNumber})(({theme:e})=>$({},e.typography.caption,{width:nT,height:nT,padding:0,margin:`0 ${Cw}px`,color:e.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),kZe=it("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(e,t)=>t.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:_me}),AZe=it(SZe,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(e,t)=>t.slideTransition})({minHeight:_me}),NZe=it("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(e,t)=>t.monthContainer})({overflow:"hidden"}),FZe=it("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(e,t)=>t.weekContainer})({margin:`${Cw}px 0`,display:"flex",justifyContent:"center"});function MZe(e){var t,n,o;let{parentProps:s,day:i,focusableDay:c,selectedDays:u,isDateDisabled:d,currentMonthNumber:p,isViewFocused:m}=e,f=It(e,jZe);const{disabled:h,disableHighlightToday:g,isMonthSwitchingAnimating:x,showDaysOutsideCurrentMonth:y,components:D,componentsProps:v,slots:T,slotProps:I,timezone:P}=s,E=ko(),k=Vb(P),w=c!==null&&E.isSameDay(i,c),A=u.some(W=>E.isSameDay(W,i)),F=E.isSameDay(i,k),_=(t=(n=T==null?void 0:T.day)!=null?n:D==null?void 0:D.Day)!=null?t:yXe,L=ha({elementType:_,externalSlotProps:(o=I==null?void 0:I.day)!=null?o:v==null?void 0:v.day,additionalProps:$({disableHighlightToday:g,showDaysOutsideCurrentMonth:y,role:"gridcell",isAnimating:x,"data-timestamp":E.toJsDate(i).valueOf()},f),ownerState:$({},s,{day:i,selected:A})}),K=It(L,IZe),z=a.useMemo(()=>h||d(i),[h,d,i]),J=a.useMemo(()=>E.getMonth(i)!==p,[E,i,p]),Q=a.useMemo(()=>{const W=E.startOfMonth(E.setMonth(i,p));return y?E.isSameDay(i,E.startOfWeek(W)):E.isSameDay(i,W)},[p,i,y,E]),V=a.useMemo(()=>{const W=E.endOfMonth(E.setMonth(i,p));return y?E.isSameDay(i,E.endOfWeek(W)):E.isSameDay(i,W)},[p,i,y,E]);return r.jsx(_,$({},K,{day:i,disabled:z,autoFocus:m&&w,today:F,outsideCurrentMonth:J,isFirstVisibleCell:Q,isLastVisibleCell:V,selected:A,tabIndex:w?0:-1,"aria-selected":A,"aria-current":F?"date":void 0}))}function _Ze(e){const t=qo({props:e,name:"MuiDayCalendar"}),{onFocusedDayChange:n,className:o,currentMonth:s,selectedDays:i,focusedDay:c,loading:u,onSelectedDaysChange:d,onMonthSwitchingAnimationEnd:p,readOnly:m,reduceAnimations:f,renderLoading:h=()=>r.jsx("span",{children:"..."}),slideDirection:g,TransitionProps:x,disablePast:y,disableFuture:D,minDate:v,maxDate:T,shouldDisableDate:I,shouldDisableMonth:P,shouldDisableYear:E,dayOfWeekFormatter:k,hasFocus:w,onFocusedViewChange:A,gridLabelId:F,displayWeekNumber:_,fixedWeekNumber:L,autoFocus:K,timezone:z}=t,J=Vb(z),Q=ko(),V=TZe(t),U=qs().direction==="rtl",X=k||((Le,_e)=>Q.format(_e,"weekdayShort").charAt(0).toUpperCase()),te=Mme({shouldDisableDate:I,shouldDisableMonth:P,shouldDisableYear:E,minDate:v,maxDate:T,disablePast:y,disableFuture:D,timezone:z}),se=Ol(),[he,pe]=Vi({name:"DayCalendar",state:"hasFocus",controlled:w,default:K??!1}),[ue,ge]=a.useState(()=>c||J),Ce=tr(Le=>{m||d(Le)}),Te=Le=>{te(Le)||(n(Le),ge(Le),A==null||A(!0),pe(!0))},Ne=tr((Le,_e)=>{switch(Le.key){case"ArrowUp":Te(Q.addDays(_e,-7)),Le.preventDefault();break;case"ArrowDown":Te(Q.addDays(_e,7)),Le.preventDefault();break;case"ArrowLeft":{const H=Q.addDays(_e,U?1:-1),re=Q.addMonths(_e,U?1:-1),q=SI({utils:Q,date:H,minDate:U?H:Q.startOfMonth(re),maxDate:U?Q.endOfMonth(re):H,isDateDisabled:te,timezone:z});Te(q||H),Le.preventDefault();break}case"ArrowRight":{const H=Q.addDays(_e,U?-1:1),re=Q.addMonths(_e,U?-1:1),q=SI({utils:Q,date:H,minDate:U?Q.startOfMonth(re):H,maxDate:U?H:Q.endOfMonth(re),isDateDisabled:te,timezone:z});Te(q||H),Le.preventDefault();break}case"Home":Te(Q.startOfWeek(_e)),Le.preventDefault();break;case"End":Te(Q.endOfWeek(_e)),Le.preventDefault();break;case"PageUp":Te(Q.addMonths(_e,1)),Le.preventDefault();break;case"PageDown":Te(Q.addMonths(_e,-1)),Le.preventDefault();break}}),xe=tr((Le,_e)=>Te(_e)),me=tr((Le,_e)=>{he&&Q.isSameDay(ue,_e)&&(A==null||A(!1))}),de=Q.getMonth(s),ce=a.useMemo(()=>i.filter(Le=>!!Le).map(Le=>Q.startOfDay(Le)),[Q,i]),ee=de,De=a.useMemo(()=>a.createRef(),[ee]),ke=Q.startOfWeek(J),He=a.useMemo(()=>{const Le=Q.startOfMonth(s),_e=Q.endOfMonth(s);return te(ue)||Q.isAfterDay(ue,_e)||Q.isBeforeDay(ue,Le)?SI({utils:Q,date:ue,minDate:Le,maxDate:_e,disablePast:y,disableFuture:D,isDateDisabled:te,timezone:z}):ue},[s,D,y,ue,te,Q,z]),qe=a.useMemo(()=>{const Le=Q.setTimezone(s,z),_e=Q.getWeekArray(Le);let H=Q.addMonths(Le,1);for(;L&&_e.length<L;){const re=Q.getWeekArray(H),q=Q.isSameDay(_e[_e.length-1][0],re[0][0]);re.slice(q?1:0).forEach(Y=>{_e.length<L&&_e.push(Y)}),H=Q.addMonths(H,1)}return _e},[s,L,Q,z]);return r.jsxs(OZe,{role:"grid","aria-labelledby":F,className:V.root,children:[r.jsxs(EZe,{role:"row",className:V.header,children:[_&&r.jsx(RZe,{variant:"caption",role:"columnheader","aria-label":se.calendarWeekNumberHeaderLabel,className:V.weekNumberLabel,children:se.calendarWeekNumberHeaderText}),fJe(Q,J).map((Le,_e)=>{var H;const re=Q.format(Le,"weekdayShort");return r.jsx(PZe,{variant:"caption",role:"columnheader","aria-label":Q.format(Q.addDays(ke,_e),"weekday"),className:V.weekDayLabel,children:(H=X==null?void 0:X(re,Le))!=null?H:re},re+_e.toString())})]}),u?r.jsx(kZe,{className:V.loadingContainer,children:h()}):r.jsx(AZe,$({transKey:ee,onExited:p,reduceAnimations:f,slideDirection:g,className:Nt(o,V.slideTransition)},x,{nodeRef:De,children:r.jsx(NZe,{ref:De,role:"rowgroup",className:V.monthContainer,children:qe.map((Le,_e)=>r.jsxs(FZe,{role:"row",className:V.weekContainer,"aria-rowindex":_e+1,children:[_&&r.jsx(wZe,{className:V.weekNumber,role:"rowheader","aria-label":se.calendarWeekNumberAriaLabelText(Q.getWeekNumber(Le[0])),children:se.calendarWeekNumberText(Q.getWeekNumber(Le[0]))}),Le.map((H,re)=>r.jsx(MZe,{parentProps:t,day:H,selectedDays:ce,focusableDay:He,onKeyDown:Ne,onFocus:xe,onBlur:me,onDaySelect:Ce,isDateDisabled:te,currentMonthNumber:de,isViewFocused:he,"aria-colindex":re+1},H.toString()))]},`week-${Le[0]}`))})}))]})}const LZe=(e,t,n)=>(o,s)=>{switch(s.type){case"changeMonth":return $({},o,{slideDirection:s.direction,currentMonth:s.newMonth,isMonthSwitchingAnimating:!e});case"finishMonthSwitchingAnimation":return $({},o,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(o.focusedDay!=null&&s.focusedDay!=null&&n.isSameDay(s.focusedDay,o.focusedDay))return o;const i=s.focusedDay!=null&&!t&&!n.isSameMonth(o.currentMonth,s.focusedDay);return $({},o,{focusedDay:s.focusedDay,isMonthSwitchingAnimating:i&&!e&&!s.withoutMonthSwitchingAnimation,currentMonth:i?n.startOfMonth(s.focusedDay):o.currentMonth,slideDirection:s.focusedDay!=null&&n.isAfterDay(s.focusedDay,o.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},$Ze=e=>{const{value:t,referenceDate:n,defaultCalendarMonth:o,disableFuture:s,disablePast:i,disableSwitchToMonthOnDayFocus:c=!1,maxDate:u,minDate:d,onMonthChange:p,reduceAnimations:m,shouldDisableDate:f,timezone:h}=e,g=ko(),x=a.useRef(LZe(!!m,c,g)).current,y=a.useMemo(()=>{let w=null;return n?w=n:o&&(w=g.startOfMonth(o)),cl.getInitialReferenceValue({value:t,utils:g,timezone:h,props:e,referenceDate:w,granularity:kd.day})},[]),[D,v]=a.useReducer(x,{isMonthSwitchingAnimating:!1,focusedDay:y,currentMonth:g.startOfMonth(y),slideDirection:"left"}),T=a.useCallback(w=>{v($({type:"changeMonth"},w)),p&&p(w.newMonth)},[p]),I=a.useCallback(w=>{const A=w;g.isSameMonth(A,D.currentMonth)||T({newMonth:g.startOfMonth(A),direction:g.isAfterDay(A,D.currentMonth)?"left":"right"})},[D.currentMonth,T,g]),P=Mme({shouldDisableDate:f,minDate:d,maxDate:u,disableFuture:s,disablePast:i,timezone:h}),E=a.useCallback(()=>{v({type:"finishMonthSwitchingAnimation"})},[]),k=tr((w,A)=>{P(w)||v({type:"changeFocusedDay",focusedDay:w,withoutMonthSwitchingAnimation:A})});return{referenceDate:y,calendarState:D,changeMonth:I,changeFocusedDay:k,isDateDisabled:P,onMonthSwitchingAnimationEnd:E,handleChangeMonth:T}},BZe=["ownerState"],Lme=({clearable:e,fieldProps:t,InputProps:n,onClear:o,slots:s,slotProps:i,components:c,componentsProps:u})=>{var d,p,m,f,h,g;const x=Ol(),y=(d=(p=s==null?void 0:s.clearButton)!=null?p:c==null?void 0:c.ClearButton)!=null?d:br,D=ha({elementType:y,externalSlotProps:(m=i==null?void 0:i.clearButton)!=null?m:u==null?void 0:u.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:x.fieldClearLabel}}),v=It(D,BZe),T=(f=(h=s==null?void 0:s.clearIcon)!=null?h:c==null?void 0:c.ClearIcon)!=null?f:_Ye,I=ha({elementType:T,externalSlotProps:(g=i==null?void 0:i.clearIcon)!=null?g:u==null?void 0:u.clearIcon,ownerState:{}}),P=$({},n,{endAdornment:r.jsxs(a.Fragment,{children:[e&&r.jsx(Il,{position:"end",sx:{marginRight:n!=null&&n.endAdornment?-1:-1.5},children:r.jsx(y,$({},v,{onClick:o,children:r.jsx(T,$({fontSize:"small"},I))}))}),n==null?void 0:n.endAdornment]})}),E=$({},t,{sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(t.sx)?t.sx:[t.sx]]});return{InputProps:P,fieldProps:E}},WZe=["components","componentsProps","slots","slotProps","InputProps","inputProps"],UZe=["inputRef"],qZe=["ref","onPaste","onKeyDown","inputMode","readOnly","clearable","onClear"],cR=a.forwardRef(function(t,n){var o,s,i;const c=qo({props:t,name:"MuiDateField"}),{components:u,componentsProps:d,slots:p,slotProps:m,InputProps:f,inputProps:h}=c,g=It(c,WZe),x=c,y=(o=(s=p==null?void 0:p.textField)!=null?s:u==null?void 0:u.TextField)!=null?o:SD,D=ha({elementType:y,externalSlotProps:(i=m==null?void 0:m.textField)!=null?i:d==null?void 0:d.textField,externalForwardedProps:g,ownerState:x}),{inputRef:v}=D,T=It(D,UZe);T.inputProps=$({},h,T.inputProps),T.InputProps=$({},f,T.InputProps);const I=EXe({props:T,inputRef:v}),{ref:P,onPaste:E,onKeyDown:k,inputMode:w,readOnly:A,clearable:F,onClear:_}=I,L=It(I,qZe),{InputProps:K,fieldProps:z}=Lme({onClear:_,clearable:F,fieldProps:L,InputProps:L.InputProps,slots:p,slotProps:m,components:u,componentsProps:d});return r.jsx(y,$({ref:n},z,{InputProps:$({},K,{readOnly:A}),inputProps:$({},L.inputProps,{inputMode:w,onPaste:E,onKeyDown:k,ref:P})}))}),VZe=e=>{var t,n,o,s;const i=ko(),u=((t=e.ampm)!=null?t:i.is12HourCycleInCurrentLocale())?i.formats.fullTime12h:i.formats.fullTime24h;return $({},e,{disablePast:(n=e.disablePast)!=null?n:!1,disableFuture:(o=e.disableFuture)!=null?o:!1,format:(s=e.format)!=null?s:u})},zZe=({props:e,inputRef:t})=>{const n=VZe(e),{forwardedProps:o,internalProps:s}=Ome(n,"time");return Ime({inputRef:t,forwardedProps:o,internalProps:s,valueManager:cl,fieldValueManager:Cme,validator:A3,valueType:"time"})},HZe=["slots","slotProps","components","componentsProps","InputProps","inputProps"],GZe=["inputRef"],KZe=["ref","onPaste","onKeyDown","inputMode","readOnly","clearable","onClear"],$me=a.forwardRef(function(t,n){var o,s,i;const c=qo({props:t,name:"MuiTimeField"}),{slots:u,slotProps:d,components:p,componentsProps:m,InputProps:f,inputProps:h}=c,g=It(c,HZe),x=c,y=(o=(s=u==null?void 0:u.textField)!=null?s:p==null?void 0:p.TextField)!=null?o:SD,D=ha({elementType:y,externalSlotProps:(i=d==null?void 0:d.textField)!=null?i:m==null?void 0:m.textField,externalForwardedProps:g,ownerState:x}),{inputRef:v}=D,T=It(D,GZe);T.inputProps=$({},h,T.inputProps),T.InputProps=$({},f,T.InputProps);const I=zZe({props:T,inputRef:v}),{ref:P,onPaste:E,onKeyDown:k,inputMode:w,readOnly:A,clearable:F,onClear:_}=I,L=It(I,KZe),{InputProps:K,fieldProps:z}=Lme({onClear:_,clearable:F,fieldProps:L,InputProps:L.InputProps,slots:u,slotProps:d,components:p,componentsProps:m});return r.jsx(y,$({ref:n},z,{InputProps:$({},K,{readOnly:A}),inputProps:$({},L.inputProps,{inputMode:w,onPaste:E,onKeyDown:k,ref:P})}))}),QZe=e=>$n("MuiPickersFadeTransitionGroup",e);Bn("MuiPickersFadeTransitionGroup",["root"]);const YZe=e=>{const{classes:t}=e;return Ln({root:["root"]},QZe,t)},JZe=it(DD,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"block",position:"relative"});function Bme(e){const t=qo({props:e,name:"MuiPickersFadeTransitionGroup"}),{children:n,className:o,reduceAnimations:s,transKey:i}=t,c=YZe(t),u=qs();return s?n:r.jsx(JZe,{className:Nt(c.root,o),children:r.jsx(Kh,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:u.transitions.duration.enteringScreen,enter:u.transitions.duration.enteringScreen,exit:0},children:n},i)})}function XZe(e){return $n("MuiPickersMonth",e)}const tP=Bn("MuiPickersMonth",["root","monthButton","disabled","selected"]),ZZe=["autoFocus","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow"],eet=e=>{const{disabled:t,selected:n,classes:o}=e;return Ln({root:["root"],monthButton:["monthButton",t&&"disabled",n&&"selected"]},XZe,o)},tet=it("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(e,t)=>[t.root]})(({ownerState:e})=>({flexBasis:e.monthsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),net=it("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(e,t)=>[t.monthButton,{[`&.${tP.disabled}`]:t.disabled},{[`&.${tP.selected}`]:t.selected}]})(({theme:e})=>$({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ti(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ti(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${tP.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${tP.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),ret=a.memo(function(t){const n=qo({props:t,name:"MuiPickersMonth"}),{autoFocus:o,children:s,disabled:i,selected:c,value:u,tabIndex:d,onClick:p,onKeyDown:m,onFocus:f,onBlur:h,"aria-current":g,"aria-label":x}=n,y=It(n,ZZe),D=a.useRef(null),v=eet(n);return Us(()=>{if(o){var T;(T=D.current)==null||T.focus()}},[o]),r.jsx(tet,$({className:v.root,ownerState:n},y,{children:r.jsx(net,{ref:D,disabled:i,type:"button",role:"radio",tabIndex:i?-1:d,"aria-current":g,"aria-checked":c,"aria-label":x,onClick:T=>p(T,u),onKeyDown:T=>m(T,u),onFocus:T=>f(T,u),onBlur:T=>h(T,u),className:v.monthButton,ownerState:n,children:s})}))});function oet(e){return $n("MuiMonthCalendar",e)}Bn("MuiMonthCalendar",["root"]);const set=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId"],aet=e=>{const{classes:t}=e;return Ln({root:["root"]},oet,t)};function iet(e,t){const n=ko(),o=AT(),s=qo({props:e,name:t});return $({disableFuture:!1,disablePast:!1},s,{minDate:td(n,s.minDate,o.minDate),maxDate:td(n,s.maxDate,o.maxDate)})}const cet=it("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:Dw,boxSizing:"border-box"}),uet=a.forwardRef(function(t,n){const o=iet(t,"MuiMonthCalendar"),{className:s,value:i,defaultValue:c,referenceDate:u,disabled:d,disableFuture:p,disablePast:m,maxDate:f,minDate:h,onChange:g,shouldDisableMonth:x,readOnly:y,disableHighlightToday:D,autoFocus:v=!1,onMonthFocus:T,hasFocus:I,onFocusedViewChange:P,monthsPerRow:E=3,timezone:k,gridLabelId:w}=o,A=It(o,set),{value:F,handleValueChange:_,timezone:L}=vD({name:"MonthCalendar",timezone:k,value:i,defaultValue:c,onChange:g,valueManager:cl}),K=Vb(L),z=hf(),J=ko(),Q=a.useMemo(()=>cl.getInitialReferenceValue({value:F,utils:J,props:o,timezone:L,referenceDate:u,granularity:kd.month}),[]),V=o,W=aet(V),U=a.useMemo(()=>J.getMonth(K),[J,K]),X=a.useMemo(()=>F!=null?J.getMonth(F):D?null:J.getMonth(Q),[F,J,D,Q]),[te,se]=a.useState(()=>X||U),[he,pe]=Vi({name:"MonthCalendar",state:"hasFocus",controlled:I,default:v??!1}),ue=tr(de=>{pe(de),P&&P(de)}),ge=a.useCallback(de=>{const ce=J.startOfMonth(m&&J.isAfter(K,h)?K:h),ee=J.startOfMonth(p&&J.isBefore(K,f)?K:f),De=J.startOfMonth(de);return J.isBefore(De,ce)||J.isAfter(De,ee)?!0:x?x(De):!1},[p,m,f,h,K,x,J]),Ce=tr((de,ce)=>{if(y)return;const ee=J.setMonth(F??Q,ce);_(ee)}),Te=tr(de=>{ge(J.setMonth(F??Q,de))||(se(de),ue(!0),T&&T(de))});a.useEffect(()=>{se(de=>X!==null&&de!==X?X:de)},[X]);const Ne=tr((de,ce)=>{switch(de.key){case"ArrowUp":Te((12+ce-3)%12),de.preventDefault();break;case"ArrowDown":Te((12+ce+3)%12),de.preventDefault();break;case"ArrowLeft":Te((12+ce+(z.direction==="ltr"?-1:1))%12),de.preventDefault();break;case"ArrowRight":Te((12+ce+(z.direction==="ltr"?1:-1))%12),de.preventDefault();break}}),xe=tr((de,ce)=>{Te(ce)}),me=tr((de,ce)=>{te===ce&&ue(!1)});return r.jsx(cet,$({ref:n,className:Nt(W.root,s),ownerState:V,role:"radiogroup","aria-labelledby":w},A,{children:O3(J,F??Q).map(de=>{const ce=J.getMonth(de),ee=J.format(de,"monthShort"),De=J.format(de,"month"),ke=ce===X,He=d||ge(de);return r.jsx(ret,{selected:ke,value:ce,onClick:Ce,onKeyDown:Ne,autoFocus:he&&ce===te,disabled:He,tabIndex:ce===te?0:-1,onFocus:xe,onBlur:me,"aria-current":U===ce?"date":void 0,"aria-label":De,monthsPerRow:E,children:ee},ee)})}))});function det(e){return $n("MuiPickersYear",e)}const nP=Bn("MuiPickersYear",["root","yearButton","selected","disabled"]),pet=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow"],met=e=>{const{disabled:t,selected:n,classes:o}=e;return Ln({root:["root"],yearButton:["yearButton",t&&"disabled",n&&"selected"]},det,o)},fet=it("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(e,t)=>[t.root]})(({ownerState:e})=>({flexBasis:e.yearsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),het=it("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(e,t)=>[t.yearButton,{[`&.${nP.disabled}`]:t.disabled},{[`&.${nP.selected}`]:t.selected}]})(({theme:e})=>$({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.focusOpacity})`:Ti(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ti(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${nP.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${nP.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),get=a.memo(function(t){const n=qo({props:t,name:"MuiPickersYear"}),{autoFocus:o,className:s,children:i,disabled:c,selected:u,value:d,tabIndex:p,onClick:m,onKeyDown:f,onFocus:h,onBlur:g,"aria-current":x}=n,y=It(n,pet),D=a.useRef(null),v=met(n);return a.useEffect(()=>{o&&D.current.focus()},[o]),r.jsx(fet,$({className:Nt(v.root,s),ownerState:n},y,{children:r.jsx(het,{ref:D,disabled:c,type:"button",role:"radio",tabIndex:c?-1:p,"aria-current":x,"aria-checked":u,onClick:T=>m(T,d),onKeyDown:T=>f(T,d),onFocus:T=>h(T,d),onBlur:T=>g(T,d),className:v.yearButton,ownerState:n,children:i})}))});function bet(e){return $n("MuiYearCalendar",e)}Bn("MuiYearCalendar",["root"]);const xet=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId"],yet=e=>{const{classes:t}=e;return Ln({root:["root"]},bet,t)};function Cet(e,t){var n;const o=ko(),s=AT(),i=qo({props:e,name:t});return $({disablePast:!1,disableFuture:!1},i,{yearsPerRow:(n=i.yearsPerRow)!=null?n:3,minDate:td(o,i.minDate,s.minDate),maxDate:td(o,i.maxDate,s.maxDate)})}const Det=it("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:Dw,maxHeight:YYe,boxSizing:"border-box",position:"relative"}),vet=a.forwardRef(function(t,n){const o=Cet(t,"MuiYearCalendar"),{autoFocus:s,className:i,value:c,defaultValue:u,referenceDate:d,disabled:p,disableFuture:m,disablePast:f,maxDate:h,minDate:g,onChange:x,readOnly:y,shouldDisableYear:D,disableHighlightToday:v,onYearFocus:T,hasFocus:I,onFocusedViewChange:P,yearsPerRow:E,timezone:k,gridLabelId:w}=o,A=It(o,xet),{value:F,handleValueChange:_,timezone:L}=vD({name:"YearCalendar",timezone:k,value:c,defaultValue:u,onChange:x,valueManager:cl}),K=Vb(L),z=hf(),J=ko(),Q=a.useMemo(()=>cl.getInitialReferenceValue({value:F,utils:J,props:o,timezone:L,referenceDate:d,granularity:kd.year}),[]),V=o,W=yet(V),U=a.useMemo(()=>J.getYear(K),[J,K]),X=a.useMemo(()=>F!=null?J.getYear(F):v?null:J.getYear(Q),[F,J,v,Q]),[te,se]=a.useState(()=>X||U),[he,pe]=Vi({name:"YearCalendar",state:"hasFocus",controlled:I,default:s??!1}),ue=tr(ee=>{pe(ee),P&&P(ee)}),ge=a.useCallback(ee=>{if(f&&J.isBeforeYear(ee,K)||m&&J.isAfterYear(ee,K)||g&&J.isBeforeYear(ee,g)||h&&J.isAfterYear(ee,h))return!0;if(!D)return!1;const De=J.startOfYear(ee);return D(De)},[m,f,h,g,K,D,J]),Ce=tr((ee,De)=>{if(y)return;const ke=J.setYear(F??Q,De);_(ke)}),Te=tr(ee=>{ge(J.setYear(F??Q,ee))||(se(ee),ue(!0),T==null||T(ee))});a.useEffect(()=>{se(ee=>X!==null&&ee!==X?X:ee)},[X]);const Ne=tr((ee,De)=>{switch(ee.key){case"ArrowUp":Te(De-E),ee.preventDefault();break;case"ArrowDown":Te(De+E),ee.preventDefault();break;case"ArrowLeft":Te(De+(z.direction==="ltr"?-1:1)),ee.preventDefault();break;case"ArrowRight":Te(De+(z.direction==="ltr"?1:-1)),ee.preventDefault();break}}),xe=tr((ee,De)=>{Te(De)}),me=tr((ee,De)=>{te===De&&ue(!1)}),de=a.useRef(null),ce=xo(n,de);return a.useEffect(()=>{if(s||de.current===null)return;const ee=de.current.querySelector('[tabindex="0"]');if(!ee)return;const De=ee.offsetHeight,ke=ee.offsetTop,He=de.current.clientHeight,qe=de.current.scrollTop,Le=ke+De;De>He||ke<qe||(de.current.scrollTop=Le-He/2-De/2)},[s]),r.jsx(Det,$({ref:ce,className:Nt(W.root,i),ownerState:V,role:"radiogroup","aria-labelledby":w},A,{children:J.getYearRange(g,h).map(ee=>{const De=J.getYear(ee),ke=De===X,He=p||ge(ee);return r.jsx(get,{selected:ke,value:De,onClick:Ce,onKeyDown:Ne,autoFocus:he&&De===te,disabled:He,tabIndex:De===te?0:-1,onFocus:xe,onBlur:me,"aria-current":U===De?"date":void 0,yearsPerRow:E,children:J.format(ee,"year")},J.format(ee,"year"))})}))}),jet=e=>$n("MuiPickersCalendarHeader",e),Iet=Bn("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),Tet=["slots","slotProps","components","componentsProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone"],Oet=["ownerState"],Eet=e=>{const{classes:t}=e;return Ln({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},jet,t)},Pet=it("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",alignItems:"center",marginTop:16,marginBottom:8,paddingLeft:24,paddingRight:12,maxHeight:30,minHeight:30}),Ret=it("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})(({theme:e})=>$({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium})),wet=it("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(e,t)=>t.label})({marginRight:6}),ket=it(br,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(e,t)=>t.switchViewButton})(({ownerState:e})=>$({marginRight:"auto"},e.view==="year"&&{[`.${Iet.switchViewIcon}`]:{transform:"rotate(180deg)"}})),Aet=it(kYe,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(e,t)=>t.switchViewIcon})(({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"})),Net=a.forwardRef(function(t,n){var o,s,i,c;const u=Ol(),d=ko(),p=qo({props:t,name:"MuiPickersCalendarHeader"}),{slots:m,slotProps:f,components:h,currentMonth:g,disabled:x,disableFuture:y,disablePast:D,maxDate:v,minDate:T,onMonthChange:I,onViewChange:P,view:E,reduceAnimations:k,views:w,labelId:A,className:F,timezone:_}=p,L=It(p,Tet),K=p,z=Eet(p),J=(o=(s=m==null?void 0:m.switchViewButton)!=null?s:h==null?void 0:h.SwitchViewButton)!=null?o:ket,Q=ha({elementType:J,externalSlotProps:f==null?void 0:f.switchViewButton,additionalProps:{size:"small","aria-label":u.calendarViewSwitchingButtonAriaLabel(E)},ownerState:K,className:z.switchViewButton}),V=(i=(c=m==null?void 0:m.switchViewIcon)!=null?c:h==null?void 0:h.SwitchViewIcon)!=null?i:Aet,W=ha({elementType:V,externalSlotProps:f==null?void 0:f.switchViewIcon,ownerState:void 0,className:z.switchViewIcon}),U=It(W,Oet),X=()=>I(d.addMonths(g,1),"left"),te=()=>I(d.addMonths(g,-1),"right"),se=KYe(g,{disableFuture:y,maxDate:v,timezone:_}),he=QYe(g,{disablePast:D,minDate:T,timezone:_}),pe=()=>{if(!(w.length===1||!P||x))if(w.length===2)P(w.find(ue=>ue!==E)||w[0]);else{const ue=w.indexOf(E)!==0?0:1;P(w[ue])}};return w.length===1&&w[0]==="year"?null:r.jsxs(Pet,$({},L,{ownerState:K,className:Nt(F,z.root),ref:n,children:[r.jsxs(Ret,{role:"presentation",onClick:pe,ownerState:K,"aria-live":"polite",className:z.labelContainer,children:[r.jsx(Bme,{reduceAnimations:k,transKey:d.format(g,"monthAndYear"),children:r.jsx(wet,{id:A,ownerState:K,className:z.label,children:d.format(g,"monthAndYear")})}),w.length>1&&!x&&r.jsx(J,$({},Q,{children:r.jsx(V,$({},U))}))]}),r.jsx(Kh,{in:E==="day",children:r.jsx(sme,{slots:m,slotProps:f,onGoToPrevious:te,isPreviousDisabled:he,previousLabel:u.previousMonth,onGoToNext:X,isNextDisabled:se,nextLabel:u.nextMonth})})]}))}),Fet=e=>$n("MuiDateCalendar",e);Bn("MuiDateCalendar",["root","viewTransitionContainer"]);const Met=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","defaultCalendarMonth","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","components","componentsProps","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"],_et=e=>{const{classes:t}=e;return Ln({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},Fet,t)};function Let(e,t){var n,o,s,i,c,u,d;const p=ko(),m=AT(),f=Eme(),h=qo({props:e,name:t});return $({},h,{loading:(n=h.loading)!=null?n:!1,disablePast:(o=h.disablePast)!=null?o:!1,disableFuture:(s=h.disableFuture)!=null?s:!1,openTo:(i=h.openTo)!=null?i:"day",views:(c=h.views)!=null?c:["year","day"],reduceAnimations:(u=h.reduceAnimations)!=null?u:f,renderLoading:(d=h.renderLoading)!=null?d:()=>r.jsx("span",{children:"..."}),minDate:td(p,h.minDate,m.minDate),maxDate:td(p,h.maxDate,m.maxDate)})}const $et=it(Sw,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"column",height:T3}),Bet=it(Bme,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(e,t)=>t.viewTransitionContainer})({}),Wet=a.forwardRef(function(t,n){var o,s,i;const c=ko(),u=rd(),d=Let(t,"MuiDateCalendar"),{autoFocus:p,onViewChange:m,value:f,defaultValue:h,referenceDate:g,disableFuture:x,disablePast:y,defaultCalendarMonth:D,onChange:v,onYearChange:T,onMonthChange:I,reduceAnimations:P,shouldDisableDate:E,shouldDisableMonth:k,shouldDisableYear:w,view:A,views:F,openTo:_,className:L,disabled:K,readOnly:z,minDate:J,maxDate:Q,disableHighlightToday:V,focusedView:W,onFocusedViewChange:U,showDaysOutsideCurrentMonth:X,fixedWeekNumber:te,dayOfWeekFormatter:se,components:he,componentsProps:pe,slots:ue,slotProps:ge,loading:Ce,renderLoading:Te,displayWeekNumber:Ne,yearsPerRow:xe,monthsPerRow:me,timezone:de}=d,ce=It(d,Met),{value:ee,handleValueChange:De,timezone:ke}=vD({name:"DateCalendar",timezone:de,value:f,defaultValue:h,onChange:v,valueManager:cl}),{view:He,setView:qe,focusedView:Le,setFocusedView:_e,goToNextView:H,setValueAndGoToNextView:re}=FT({view:A,views:F,openTo:_,onChange:De,onViewChange:m,autoFocus:p,focusedView:W,onFocusedViewChange:U}),{referenceDate:q,calendarState:Y,changeFocusedDay:ie,changeMonth:B,handleChangeMonth:Z,isDateDisabled:ye,onMonthSwitchingAnimationEnd:Ie}=$Ze({value:ee,defaultCalendarMonth:D,referenceDate:g,reduceAnimations:P,onMonthChange:I,minDate:J,maxDate:Q,shouldDisableDate:E,disablePast:y,disableFuture:x,timezone:ke}),le=K&&ee||J,fe=K&&ee||Q,Ae=`${u}-grid-label`,Se=Le!==null,be=(o=(s=ue==null?void 0:ue.calendarHeader)!=null?s:he==null?void 0:he.CalendarHeader)!=null?o:Net,Me=ha({elementType:be,externalSlotProps:(i=ge==null?void 0:ge.calendarHeader)!=null?i:pe==null?void 0:pe.calendarHeader,additionalProps:{views:F,view:He,currentMonth:Y.currentMonth,onViewChange:qe,onMonthChange:(ht,en)=>Z({newMonth:ht,direction:en}),minDate:le,maxDate:fe,disabled:K,disablePast:y,disableFuture:x,reduceAnimations:P,timezone:ke,labelId:Ae,slots:ue,slotProps:ge},ownerState:d}),we=tr(ht=>{const en=c.startOfMonth(ht),un=c.endOfMonth(ht),Je=ye(ht)?SI({utils:c,date:ht,minDate:c.isBefore(J,en)?en:J,maxDate:c.isAfter(Q,un)?un:Q,disablePast:y,disableFuture:x,isDateDisabled:ye,timezone:ke}):ht;Je?(re(Je,"finish"),I==null||I(en)):(H(),B(en)),ie(Je,!0)}),Ge=tr(ht=>{const en=c.startOfYear(ht),un=c.endOfYear(ht),Je=ye(ht)?SI({utils:c,date:ht,minDate:c.isBefore(J,en)?en:J,maxDate:c.isAfter(Q,un)?un:Q,disablePast:y,disableFuture:x,isDateDisabled:ye,timezone:ke}):ht;Je?(re(Je,"finish"),T==null||T(Je)):(H(),B(en)),ie(Je,!0)}),We=tr(ht=>De(ht&&iR(c,ht,ee??q),"finish",He));a.useEffect(()=>{ee!=null&&c.isValid(ee)&&B(ee)},[ee]);const Ee=d,Xe=_et(Ee),ot={disablePast:y,disableFuture:x,maxDate:Q,minDate:J},ze={disableHighlightToday:V,readOnly:z,disabled:K,timezone:ke,gridLabelId:Ae},tt=a.useRef(He);a.useEffect(()=>{tt.current!==He&&(Le===tt.current&&_e(He,!0),tt.current=He)},[Le,_e,He]);const ft=a.useMemo(()=>[ee],[ee]);return r.jsxs($et,$({ref:n,className:Nt(Xe.root,L),ownerState:Ee},ce,{children:[r.jsx(be,$({},Me)),r.jsx(Bet,{reduceAnimations:P,className:Xe.viewTransitionContainer,transKey:He,ownerState:Ee,children:r.jsxs("div",{children:[He==="year"&&r.jsx(vet,$({},ot,ze,{value:ee,onChange:Ge,shouldDisableYear:w,hasFocus:Se,onFocusedViewChange:ht=>_e("year",ht),yearsPerRow:xe,referenceDate:q})),He==="month"&&r.jsx(uet,$({},ot,ze,{hasFocus:Se,className:L,value:ee,onChange:we,shouldDisableMonth:k,onFocusedViewChange:ht=>_e("month",ht),monthsPerRow:me,referenceDate:q})),He==="day"&&r.jsx(_Ze,$({},Y,ot,ze,{onMonthSwitchingAnimationEnd:Ie,onFocusedDayChange:ie,reduceAnimations:P,selectedDays:ft,onSelectedDaysChange:We,shouldDisableDate:E,shouldDisableMonth:k,shouldDisableYear:w,hasFocus:Se,onFocusedViewChange:ht=>_e("day",ht),showDaysOutsideCurrentMonth:X,fixedWeekNumber:te,dayOfWeekFormatter:se,displayWeekNumber:Ne,components:he,componentsProps:pe,slots:ue,slotProps:ge,loading:Ce,renderLoading:Te}))]})})]}))});function Uet(e){return $n("MuiDatePickerToolbar",e)}Bn("MuiDatePickerToolbar",["root","title"]);const qet=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views","className"],Vet=e=>{const{classes:t}=e;return Ln({root:["root"],title:["title"]},Uet,t)},zet=it(Rme,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Het=it(nn,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(e,t)=>t.title})(({ownerState:e})=>$({},e.isLandscape&&{margin:"auto 16px auto auto"})),Get=a.forwardRef(function(t,n){const o=qo({props:t,name:"MuiDatePickerToolbar"}),{value:s,isLandscape:i,toolbarFormat:c,toolbarPlaceholder:u="",views:d,className:p}=o,m=It(o,qet),f=ko(),h=Ol(),g=Vet(o),x=a.useMemo(()=>{if(!s)return u;const D=P3(f,{format:c,views:d},!0);return f.formatByString(s,D)},[s,c,u,f,d]),y=o;return r.jsx(zet,$({ref:n,toolbarTitle:h.datePickerToolbarTitle,isLandscape:i,className:Nt(g.root,p)},m,{children:r.jsx(Het,{variant:"h4",align:i?"left":"center",ownerState:y,className:g.title,children:x})}))});function Wme(e,t){var n,o,s,i;const c=ko(),u=AT(),d=qo({props:e,name:t}),p=a.useMemo(()=>{var f;return((f=d.localeText)==null?void 0:f.toolbarTitle)==null?d.localeText:$({},d.localeText,{datePickerToolbarTitle:d.localeText.toolbarTitle})},[d.localeText]),m=(n=d.slots)!=null?n:jw(d.components);return $({},d,{localeText:p},ame({views:d.views,openTo:d.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:(o=d.disableFuture)!=null?o:!1,disablePast:(s=d.disablePast)!=null?s:!1,minDate:td(c,d.minDate,u.minDate),maxDate:td(c,d.maxDate,u.maxDate),slots:$({toolbar:Get},m),slotProps:(i=d.slotProps)!=null?i:d.componentsProps})}const Ket=["props","getOpenDialogAriaText"],Qet=["ownerState"],Yet=["ownerState"],Ume=e=>{var t,n,o,s,i;let{props:c,getOpenDialogAriaText:u}=e,d=It(e,Ket);const{slots:p,slotProps:m,className:f,sx:h,format:g,formatDensity:x,timezone:y,name:D,label:v,inputRef:T,readOnly:I,disabled:P,autoFocus:E,localeText:k,reduceAnimations:w}=c,A=ko(),F=a.useRef(null),_=a.useRef(null),L=rd(),K=(t=m==null||(n=m.toolbar)==null?void 0:n.hidden)!=null?t:!1,{open:z,actions:J,hasUIView:Q,layoutProps:V,renderCurrentView:W,shouldRestoreFocus:U,fieldProps:X}=kme($({},d,{props:c,inputRef:F,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),te=(o=p.inputAdornment)!=null?o:Il,se=ha({elementType:te,externalSlotProps:m==null?void 0:m.inputAdornment,additionalProps:{position:"end"},ownerState:c}),he=It(se,Qet),pe=(s=p.openPickerButton)!=null?s:br,ue=ha({elementType:pe,externalSlotProps:m==null?void 0:m.openPickerButton,additionalProps:{disabled:P||I,onClick:z?J.onClose:J.onOpen,"aria-label":u(X.value,A),edge:he.position},ownerState:c}),ge=It(ue,Yet),Ce=p.openPickerIcon,Te=p.field,Ne=ha({elementType:Te,externalSlotProps:m==null?void 0:m.field,additionalProps:$({},X,K&&{id:L},{readOnly:I,disabled:P,className:f,sx:h,format:g,formatDensity:x,timezone:y,label:v,name:D,autoFocus:E&&!c.open,focused:z?!0:void 0}),ownerState:c});Q&&(Ne.InputProps=$({},Ne.InputProps,{ref:_},!c.disableOpenPicker&&{[`${he.position}Adornment`]:r.jsx(te,$({},he,{children:r.jsx(pe,$({},ge,{children:r.jsx(Ce,$({},m==null?void 0:m.openPickerIcon))}))}))}));const xe=$({textField:p.textField,clearIcon:p.clearIcon,clearButton:p.clearButton},Ne.slots),me=(i=p.layout)!=null?i:Fme,de=xo(F,Ne.inputRef,T);let ce=L;K&&(v?ce=`${L}-label`:ce=void 0);const ee=$({},m,{toolbar:$({},m==null?void 0:m.toolbar,{titleId:L}),popper:$({"aria-labelledby":ce},m==null?void 0:m.popper)});return{renderPicker:()=>r.jsxs(j3,{localeText:k,children:[r.jsx(Te,$({},Ne,{slots:xe,slotProps:ee,inputRef:de})),r.jsx(UXe,$({role:"dialog",placement:"bottom-start",anchorEl:_.current},J,{open:z,slots:p,slotProps:ee,shouldRestoreFocus:U,reduceAnimations:w,children:r.jsx(me,$({},V,ee==null?void 0:ee.layout,{slots:p,slotProps:ee,children:W()}))}))]})}},aC=({view:e,onViewChange:t,views:n,focusedView:o,onFocusedViewChange:s,value:i,defaultValue:c,referenceDate:u,onChange:d,className:p,classes:m,disableFuture:f,disablePast:h,minDate:g,maxDate:x,shouldDisableDate:y,shouldDisableMonth:D,shouldDisableYear:v,reduceAnimations:T,onMonthChange:I,monthsPerRow:P,onYearChange:E,yearsPerRow:k,defaultCalendarMonth:w,components:A,componentsProps:F,slots:_,slotProps:L,loading:K,renderLoading:z,disableHighlightToday:J,readOnly:Q,disabled:V,showDaysOutsideCurrentMonth:W,dayOfWeekFormatter:U,sx:X,autoFocus:te,fixedWeekNumber:se,displayWeekNumber:he,timezone:pe})=>r.jsx(Wet,{view:e,onViewChange:t,views:n.filter(yoe),focusedView:o&&yoe(o)?o:null,onFocusedViewChange:s,value:i,defaultValue:c,referenceDate:u,onChange:d,className:p,classes:m,disableFuture:f,disablePast:h,minDate:g,maxDate:x,shouldDisableDate:y,shouldDisableMonth:D,shouldDisableYear:v,reduceAnimations:T,onMonthChange:I,monthsPerRow:P,onYearChange:E,yearsPerRow:k,defaultCalendarMonth:w,components:A,componentsProps:F,slots:_,slotProps:L,loading:K,renderLoading:z,disableHighlightToday:J,readOnly:Q,disabled:V,showDaysOutsideCurrentMonth:W,dayOfWeekFormatter:U,sx:X,autoFocus:te,fixedWeekNumber:se,displayWeekNumber:he,timezone:pe}),qme=a.forwardRef(function(t,n){var o,s,i,c;const u=Ol(),d=ko(),p=Wme(t,"MuiDesktopDatePicker"),m=$({day:aC,month:aC,year:aC},p.viewRenderers),f=$({},p,{viewRenderers:m,format:P3(d,p,!1),yearsPerRow:(o=p.yearsPerRow)!=null?o:4,slots:$({openPickerIcon:FYe,field:cR},p.slots),slotProps:$({},p.slotProps,{field:g=>{var x;return $({},yw((x=p.slotProps)==null?void 0:x.field,g),Tw(p),{ref:n})},toolbar:$({hidden:!0},(s=p.slotProps)==null?void 0:s.toolbar)})}),{renderPicker:h}=Ume({props:f,valueManager:cl,valueType:"date",getOpenDialogAriaText:(i=(c=f.localeText)==null?void 0:c.openDatePickerDialogue)!=null?i:u.openDatePickerDialogue,validator:Iw});return h()});qme.propTypes={autoFocus:l.bool,className:l.string,closeOnSelect:l.bool,components:l.object,componentsProps:l.object,dayOfWeekFormatter:l.func,defaultCalendarMonth:l.any,defaultValue:l.any,disabled:l.bool,disableFuture:l.bool,disableHighlightToday:l.bool,disableOpenPicker:l.bool,disablePast:l.bool,displayWeekNumber:l.bool,fixedWeekNumber:l.number,format:l.string,formatDensity:l.oneOf(["dense","spacious"]),inputRef:tw,label:l.node,loading:l.bool,localeText:l.object,maxDate:l.any,minDate:l.any,monthsPerRow:l.oneOf([3,4]),name:l.string,onAccept:l.func,onChange:l.func,onClose:l.func,onError:l.func,onMonthChange:l.func,onOpen:l.func,onSelectedSectionsChange:l.func,onViewChange:l.func,onYearChange:l.func,open:l.bool,openTo:l.oneOf(["day","month","year"]),orientation:l.oneOf(["landscape","portrait"]),readOnly:l.bool,reduceAnimations:l.bool,referenceDate:l.any,renderLoading:l.func,selectedSections:l.oneOfType([l.oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),l.number,l.shape({endIndex:l.number.isRequired,startIndex:l.number.isRequired})]),shouldDisableDate:l.func,shouldDisableMonth:l.func,shouldDisableYear:l.func,showDaysOutsideCurrentMonth:l.bool,slotProps:l.object,slots:l.object,sx:l.oneOfType([l.arrayOf(l.oneOfType([l.func,l.object,l.bool])),l.func,l.object]),timezone:l.string,value:l.any,view:l.oneOf(["day","month","year"]),viewRenderers:l.shape({day:l.func,month:l.func,year:l.func}),views:l.arrayOf(l.oneOf(["day","month","year"]).isRequired),yearsPerRow:l.oneOf([3,4])};const Jet=["props","getOpenDialogAriaText"],Vme=e=>{var t,n,o;let{props:s,getOpenDialogAriaText:i}=e,c=It(e,Jet);const{slots:u,slotProps:d,className:p,sx:m,format:f,formatDensity:h,timezone:g,name:x,label:y,inputRef:D,readOnly:v,disabled:T,localeText:I}=s,P=ko(),E=a.useRef(null),k=rd(),w=(t=d==null||(n=d.toolbar)==null?void 0:n.hidden)!=null?t:!1,{open:A,actions:F,layoutProps:_,renderCurrentView:L,fieldProps:K}=kme($({},c,{props:s,inputRef:E,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),z=u.field,J=ha({elementType:z,externalSlotProps:d==null?void 0:d.field,additionalProps:$({},K,w&&{id:k},!(T||v)&&{onClick:F.onOpen,onKeyDown:vXe(F.onOpen)},{readOnly:v??!0,disabled:T,className:p,sx:m,format:f,formatDensity:h,timezone:g,label:y,name:x}),ownerState:s});J.inputProps=$({},J.inputProps,{"aria-label":i(K.value,P)});const Q=$({textField:u.textField},J.slots),V=(o=u.layout)!=null?o:Fme,W=xo(E,J.inputRef,D);let U=k;w&&(y?U=`${k}-label`:U=void 0);const X=$({},d,{toolbar:$({},d==null?void 0:d.toolbar,{titleId:k}),mobilePaper:$({"aria-labelledby":U},d==null?void 0:d.mobilePaper)});return{renderPicker:()=>r.jsxs(j3,{localeText:I,children:[r.jsx(z,$({},J,{slots:Q,slotProps:X,inputRef:W})),r.jsx(wXe,$({},F,{open:A,slots:u,slotProps:X,children:r.jsx(V,$({},_,X==null?void 0:X.layout,{slots:u,slotProps:X,children:L()}))}))]})}},zme=a.forwardRef(function(t,n){var o,s,i;const c=Ol(),u=ko(),d=Wme(t,"MuiMobileDatePicker"),p=$({day:aC,month:aC,year:aC},d.viewRenderers),m=$({},d,{viewRenderers:p,format:P3(u,d,!1),slots:$({field:cR},d.slots),slotProps:$({},d.slotProps,{field:h=>{var g;return $({},yw((g=d.slotProps)==null?void 0:g.field,h),Tw(d),{ref:n})},toolbar:$({hidden:!1},(o=d.slotProps)==null?void 0:o.toolbar)})}),{renderPicker:f}=Vme({props:m,valueManager:cl,valueType:"date",getOpenDialogAriaText:(s=(i=m.localeText)==null?void 0:i.openDatePickerDialogue)!=null?s:c.openDatePickerDialogue,validator:Iw});return f()});zme.propTypes={autoFocus:l.bool,className:l.string,closeOnSelect:l.bool,components:l.object,componentsProps:l.object,dayOfWeekFormatter:l.func,defaultCalendarMonth:l.any,defaultValue:l.any,disabled:l.bool,disableFuture:l.bool,disableHighlightToday:l.bool,disableOpenPicker:l.bool,disablePast:l.bool,displayWeekNumber:l.bool,fixedWeekNumber:l.number,format:l.string,formatDensity:l.oneOf(["dense","spacious"]),inputRef:tw,label:l.node,loading:l.bool,localeText:l.object,maxDate:l.any,minDate:l.any,monthsPerRow:l.oneOf([3,4]),name:l.string,onAccept:l.func,onChange:l.func,onClose:l.func,onError:l.func,onMonthChange:l.func,onOpen:l.func,onSelectedSectionsChange:l.func,onViewChange:l.func,onYearChange:l.func,open:l.bool,openTo:l.oneOf(["day","month","year"]),orientation:l.oneOf(["landscape","portrait"]),readOnly:l.bool,reduceAnimations:l.bool,referenceDate:l.any,renderLoading:l.func,selectedSections:l.oneOfType([l.oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),l.number,l.shape({endIndex:l.number.isRequired,startIndex:l.number.isRequired})]),shouldDisableDate:l.func,shouldDisableMonth:l.func,shouldDisableYear:l.func,showDaysOutsideCurrentMonth:l.bool,slotProps:l.object,slots:l.object,sx:l.oneOfType([l.arrayOf(l.oneOfType([l.func,l.object,l.bool])),l.func,l.object]),timezone:l.string,value:l.any,view:l.oneOf(["day","month","year"]),viewRenderers:l.shape({day:l.func,month:l.func,year:l.func}),views:l.arrayOf(l.oneOf(["day","month","year"]).isRequired),yearsPerRow:l.oneOf([3,4])};const Xet=["desktopModeMediaQuery"],Zet=a.forwardRef(function(t,n){const o=qo({props:t,name:"MuiDatePicker"}),{desktopModeMediaQuery:s=jme}=o,i=It(o,Xet);return Xl(s,{defaultMatches:!0})?r.jsx(qme,$({ref:n},i)):r.jsx(zme,$({ref:n},i))});function ett(e){return $n("MuiTimePickerToolbar",e)}const vI=Bn("MuiTimePickerToolbar",["root","separator","hourMinuteLabel","hourMinuteLabelLandscape","hourMinuteLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),ttt=["ampm","ampmInClock","value","isLandscape","onChange","view","onViewChange","views","disabled","readOnly","className"],ntt=e=>{const{theme:t,isLandscape:n,classes:o}=e,s={root:["root"],separator:["separator"],hourMinuteLabel:["hourMinuteLabel",n&&"hourMinuteLabelLandscape",t.direction==="rtl"&&"hourMinuteLabelReverse"],ampmSelection:["ampmSelection",n&&"ampmLandscape"],ampmLabel:["ampmLabel"]};return Ln(s,ett,o)},rtt=it(Rme,{name:"MuiTimePickerToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ott=it(wme,{name:"MuiTimePickerToolbar",slot:"Separator",overridesResolver:(e,t)=>t.separator})({outline:0,margin:"0 4px 0 2px",cursor:"default"}),Hme=it("div",{name:"MuiTimePickerToolbar",slot:"HourMinuteLabel",overridesResolver:(e,t)=>[{[`&.${vI.hourMinuteLabelLandscape}`]:t.hourMinuteLabelLandscape,[`&.${vI.hourMinuteLabelReverse}`]:t.hourMinuteLabelReverse},t.hourMinuteLabel]})(({theme:e,ownerState:t})=>$({display:"flex",justifyContent:"flex-end",alignItems:"flex-end"},t.isLandscape&&{marginTop:"auto"},e.direction==="rtl"&&{flexDirection:"row-reverse"}));Hme.propTypes={as:l.elementType,ownerState:l.object.isRequired,sx:l.oneOfType([l.arrayOf(l.oneOfType([l.func,l.object,l.bool])),l.func,l.object])};const Gme=it("div",{name:"MuiTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(e,t)=>[{[`.${vI.ampmLabel}`]:t.ampmLabel},{[`&.${vI.ampmLandscape}`]:t.ampmLandscape},t.ampmSelection]})(({ownerState:e})=>$({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12},e.isLandscape&&{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",flexBasis:"100%"},{[`& .${vI.ampmLabel}`]:{fontSize:17}}));Gme.propTypes={as:l.elementType,ownerState:l.object.isRequired,sx:l.oneOfType([l.arrayOf(l.oneOfType([l.func,l.object,l.bool])),l.func,l.object])};function stt(e){const t=qo({props:e,name:"MuiTimePickerToolbar"}),{ampm:n,ampmInClock:o,value:s,isLandscape:i,onChange:c,view:u,onViewChange:d,views:p,disabled:m,readOnly:f,className:h}=t,g=It(t,ttt),x=ko(),y=Ol(),D=qs(),v=!!(n&&!o&&p.includes("hours")),{meridiemMode:T,handleMeridiemChange:I}=I3(s,n,c),P=A=>n?x.format(A,"hours12h"):x.format(A,"hours24h"),E=t,k=ntt($({},E,{theme:D})),w=r.jsx(ott,{tabIndex:-1,value:":",variant:"h3",selected:!1,className:k.separator});return r.jsxs(rtt,$({landscapeDirection:"row",toolbarTitle:y.timePickerToolbarTitle,isLandscape:i,ownerState:E,className:Nt(k.root,h)},g,{children:[r.jsxs(Hme,{className:k.hourMinuteLabel,ownerState:E,children:[$y(p,"hours")&&r.jsx(I0,{tabIndex:-1,variant:"h3",onClick:()=>d("hours"),selected:u==="hours",value:s?P(s):"--"}),$y(p,["hours","minutes"])&&w,$y(p,"minutes")&&r.jsx(I0,{tabIndex:-1,variant:"h3",onClick:()=>d("minutes"),selected:u==="minutes",value:s?x.format(s,"minutes"):"--"}),$y(p,["minutes","seconds"])&&w,$y(p,"seconds")&&r.jsx(I0,{variant:"h3",onClick:()=>d("seconds"),selected:u==="seconds",value:s?x.format(s,"seconds"):"--"})]}),v&&r.jsxs(Gme,{className:k.ampmSelection,ownerState:E,children:[r.jsx(I0,{disableRipple:!0,variant:"subtitle2",selected:T==="am",typographyClassName:k.ampmLabel,value:Th(x,"am"),onClick:f?void 0:()=>I("am"),disabled:m}),r.jsx(I0,{disableRipple:!0,variant:"subtitle2",selected:T==="pm",typographyClassName:k.ampmLabel,value:Th(x,"pm"),onClick:f?void 0:()=>I("pm"),disabled:m})]})]}))}function Kme(e,t){var n,o,s,i,c;const u=ko(),d=qo({props:e,name:t}),p=(n=d.ampm)!=null?n:u.is12HourCycleInCurrentLocale(),m=a.useMemo(()=>{var g;return((g=d.localeText)==null?void 0:g.toolbarTitle)==null?d.localeText:$({},d.localeText,{timePickerToolbarTitle:d.localeText.toolbarTitle})},[d.localeText]),f=(o=d.slots)!=null?o:jw(d.components),h=(s=d.slotProps)!=null?s:d.componentsProps;return $({},d,{ampm:p,localeText:m},ame({views:d.views,openTo:d.openTo,defaultViews:["hours","minutes"],defaultOpenTo:"hours"}),{disableFuture:(i=d.disableFuture)!=null?i:!1,disablePast:(c=d.disablePast)!=null?c:!1,slots:$({toolbar:stt},f),slotProps:$({},h,{toolbar:$({ampm:p,ampmInClock:d.ampmInClock},h==null?void 0:h.toolbar)})})}const I_=({view:e,onViewChange:t,focusedView:n,onFocusedViewChange:o,views:s,value:i,defaultValue:c,referenceDate:u,onChange:d,className:p,classes:m,disableFuture:f,disablePast:h,minTime:g,maxTime:x,shouldDisableTime:y,shouldDisableClock:D,minutesStep:v,ampm:T,ampmInClock:I,components:P,componentsProps:E,slots:k,slotProps:w,readOnly:A,disabled:F,sx:_,autoFocus:L,showViewSwitcher:K,disableIgnoringDatePartForTimeValidation:z,timezone:J})=>r.jsx(GJe,{view:e,onViewChange:t,focusedView:n&&eT(n)?n:null,onFocusedViewChange:o,views:s.filter(eT),value:i,defaultValue:c,referenceDate:u,onChange:d,className:p,classes:m,disableFuture:f,disablePast:h,minTime:g,maxTime:x,shouldDisableTime:y,shouldDisableClock:D,minutesStep:v,ampm:T,ampmInClock:I,components:P,componentsProps:E,slots:k,slotProps:w,readOnly:A,disabled:F,sx:_,autoFocus:L,showViewSwitcher:K,disableIgnoringDatePartForTimeValidation:z,timezone:J}),att=({view:e,onViewChange:t,focusedView:n,onFocusedViewChange:o,views:s,value:i,defaultValue:c,referenceDate:u,onChange:d,className:p,classes:m,disableFuture:f,disablePast:h,minTime:g,maxTime:x,shouldDisableTime:y,shouldDisableClock:D,minutesStep:v,ampm:T,components:I,componentsProps:P,slots:E,slotProps:k,readOnly:w,disabled:A,sx:F,autoFocus:_,disableIgnoringDatePartForTimeValidation:L,timeSteps:K,skipDisabled:z,timezone:J})=>r.jsx(eXe,{view:e,onViewChange:t,focusedView:n,onFocusedViewChange:o,views:s.filter(eT),value:i,defaultValue:c,referenceDate:u,onChange:d,className:p,classes:m,disableFuture:f,disablePast:h,minTime:g,maxTime:x,shouldDisableTime:y,shouldDisableClock:D,minutesStep:v,ampm:T,components:I,componentsProps:P,slots:E,slotProps:k,readOnly:w,disabled:A,sx:F,autoFocus:_,disableIgnoringDatePartForTimeValidation:L,timeStep:K==null?void 0:K.minutes,skipDisabled:z,timezone:J}),woe=({view:e,onViewChange:t,focusedView:n,onFocusedViewChange:o,views:s,value:i,defaultValue:c,referenceDate:u,onChange:d,className:p,classes:m,disableFuture:f,disablePast:h,minTime:g,maxTime:x,shouldDisableTime:y,shouldDisableClock:D,minutesStep:v,ampm:T,components:I,componentsProps:P,slots:E,slotProps:k,readOnly:w,disabled:A,sx:F,autoFocus:_,disableIgnoringDatePartForTimeValidation:L,timeSteps:K,skipDisabled:z,timezone:J})=>r.jsx(pXe,{view:e,onViewChange:t,focusedView:n,onFocusedViewChange:o,views:s.filter(eT),value:i,defaultValue:c,referenceDate:u,onChange:d,className:p,classes:m,disableFuture:f,disablePast:h,minTime:g,maxTime:x,shouldDisableTime:y,shouldDisableClock:D,minutesStep:v,ampm:T,components:I,componentsProps:P,slots:E,slotProps:k,readOnly:w,disabled:A,sx:F,autoFocus:_,disableIgnoringDatePartForTimeValidation:L,timeSteps:K,skipDisabled:z,timezone:J}),itt=(e,t,n)=>n?t.filter(o=>!zYe(o)||o==="hours"):e?[...t,"meridiem"]:t,ltt=(e,t)=>{var n,o;return 1440/(((n=e.hours)!=null?n:1)*((o=e.minutes)!=null?o:5))<=t};function ctt({thresholdToRenderTimeInASingleColumn:e,ampm:t,timeSteps:n,views:o}){const s=e??24,i=$({hours:1,minutes:5,seconds:5},n),c=ltt(i,s);return{thresholdToRenderTimeInASingleColumn:s,timeSteps:i,shouldRenderTimeInASingleColumn:c,views:itt(t,o,c)}}const Qme=a.forwardRef(function(t,n){var o,s,i,c,u,d;const p=Ol(),m=ko(),f=Kme(t,"MuiDesktopTimePicker"),{shouldRenderTimeInASingleColumn:h,views:g,timeSteps:x}=ctt(f),y=h?att:woe,D=$({hours:y,minutes:y,seconds:y,meridiem:y},f.viewRenderers),v=(o=f.ampmInClock)!=null?o:!0,T=h?[]:["accept"],P=((s=D.hours)==null?void 0:s.name)===woe.name?g:g.filter(w=>w!=="meridiem"),E=$({},f,{ampmInClock:v,timeSteps:x,viewRenderers:D,format:lme(m,f),views:h?["hours"]:P,slots:$({field:$me,openPickerIcon:MYe},f.slots),slotProps:$({},f.slotProps,{field:w=>{var A;return $({},yw((A=f.slotProps)==null?void 0:A.field,w),Tw(f),{ref:n})},toolbar:$({hidden:!0,ampmInClock:v},(i=f.slotProps)==null?void 0:i.toolbar),actionBar:$({actions:T},(c=f.slotProps)==null?void 0:c.actionBar)})}),{renderPicker:k}=Ume({props:E,valueManager:cl,valueType:"time",getOpenDialogAriaText:(u=(d=E.localeText)==null?void 0:d.openTimePickerDialogue)!=null?u:p.openTimePickerDialogue,validator:A3});return k()});Qme.propTypes={ampm:l.bool,ampmInClock:l.bool,autoFocus:l.bool,className:l.string,closeOnSelect:l.bool,components:l.object,componentsProps:l.object,defaultValue:l.any,disabled:l.bool,disableFuture:l.bool,disableIgnoringDatePartForTimeValidation:l.bool,disableOpenPicker:l.bool,disablePast:l.bool,format:l.string,formatDensity:l.oneOf(["dense","spacious"]),inputRef:tw,label:l.node,localeText:l.object,maxTime:l.any,minTime:l.any,minutesStep:l.number,name:l.string,onAccept:l.func,onChange:l.func,onClose:l.func,onError:l.func,onOpen:l.func,onSelectedSectionsChange:l.func,onViewChange:l.func,open:l.bool,openTo:l.oneOf(["hours","meridiem","minutes","seconds"]),orientation:l.oneOf(["landscape","portrait"]),readOnly:l.bool,reduceAnimations:l.bool,referenceDate:l.any,selectedSections:l.oneOfType([l.oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),l.number,l.shape({endIndex:l.number.isRequired,startIndex:l.number.isRequired})]),shouldDisableClock:l.func,shouldDisableTime:l.func,skipDisabled:l.bool,slotProps:l.object,slots:l.object,sx:l.oneOfType([l.arrayOf(l.oneOfType([l.func,l.object,l.bool])),l.func,l.object]),thresholdToRenderTimeInASingleColumn:l.number,timeSteps:l.shape({hours:l.number,minutes:l.number,seconds:l.number}),timezone:l.string,value:l.any,view:l.oneOf(["hours","meridiem","minutes","seconds"]),viewRenderers:l.shape({hours:l.func,meridiem:l.func,minutes:l.func,seconds:l.func}),views:l.arrayOf(l.oneOf(["hours","minutes","seconds"]).isRequired)};const Yme=a.forwardRef(function(t,n){var o,s,i,c;const u=Ol(),d=ko(),p=Kme(t,"MuiMobileTimePicker"),m=$({hours:I_,minutes:I_,seconds:I_},p.viewRenderers),f=(o=p.ampmInClock)!=null?o:!1,h=$({},p,{ampmInClock:f,viewRenderers:m,format:lme(d,p),slots:$({field:$me},p.slots),slotProps:$({},p.slotProps,{field:x=>{var y;return $({},yw((y=p.slotProps)==null?void 0:y.field,x),Tw(p),{ref:n})},toolbar:$({hidden:!1,ampmInClock:f},(s=p.slotProps)==null?void 0:s.toolbar)})}),{renderPicker:g}=Vme({props:h,valueManager:cl,valueType:"time",getOpenDialogAriaText:(i=(c=h.localeText)==null?void 0:c.openTimePickerDialogue)!=null?i:u.openTimePickerDialogue,validator:A3});return g()});Yme.propTypes={ampm:l.bool,ampmInClock:l.bool,autoFocus:l.bool,className:l.string,closeOnSelect:l.bool,components:l.object,componentsProps:l.object,defaultValue:l.any,disabled:l.bool,disableFuture:l.bool,disableIgnoringDatePartForTimeValidation:l.bool,disableOpenPicker:l.bool,disablePast:l.bool,format:l.string,formatDensity:l.oneOf(["dense","spacious"]),inputRef:tw,label:l.node,localeText:l.object,maxTime:l.any,minTime:l.any,minutesStep:l.number,name:l.string,onAccept:l.func,onChange:l.func,onClose:l.func,onError:l.func,onOpen:l.func,onSelectedSectionsChange:l.func,onViewChange:l.func,open:l.bool,openTo:l.oneOf(["hours","minutes","seconds"]),orientation:l.oneOf(["landscape","portrait"]),readOnly:l.bool,reduceAnimations:l.bool,referenceDate:l.any,selectedSections:l.oneOfType([l.oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),l.number,l.shape({endIndex:l.number.isRequired,startIndex:l.number.isRequired})]),shouldDisableClock:l.func,shouldDisableTime:l.func,slotProps:l.object,slots:l.object,sx:l.oneOfType([l.arrayOf(l.oneOfType([l.func,l.object,l.bool])),l.func,l.object]),timezone:l.string,value:l.any,view:l.oneOf(["hours","minutes","seconds"]),viewRenderers:l.shape({hours:l.func,minutes:l.func,seconds:l.func}),views:l.arrayOf(l.oneOf(["hours","minutes","seconds"]).isRequired)};const utt=["desktopModeMediaQuery"],koe=a.forwardRef(function(t,n){const o=qo({props:t,name:"MuiTimePicker"}),{desktopModeMediaQuery:s=jme}=o,i=It(o,utt);return Xl(s,{defaultMatches:!0})?r.jsx(Qme,$({ref:n},i)):r.jsx(Yme,$({ref:n},i))});function nr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function gs(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Yu(e,t){const n=nr(e);return isNaN(t)?gs(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function N3(e,t){const n=+nr(e);return gs(e,n+t)}function dtt(e,t){return N3(e,t*1e3)}const Jme=6048e5,ptt=864e5,MT=6e4,_T=36e5,mtt=1e3;function ftt(e,t){return N3(e,t*MT)}function htt(e,t){return N3(e,t*_T)}function gtt(e,t){const n=t*7;return Yu(e,n)}function iC(e,t){const n=nr(e);if(isNaN(t))return gs(e,NaN);if(!t)return n;const o=n.getDate(),s=gs(e,n.getTime());s.setMonth(n.getMonth()+t+1,0);const i=s.getDate();return o>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),o),n)}function Aoe(e,t){return iC(e,t*12)}function jI(e,t){const n=nr(e),o=nr(t),s=n.getTime()-o.getTime();return s<0?-1:s>0?1:s}function btt(e,t){const n=nr(e),o=nr(t);return n.getFullYear()-o.getFullYear()}function Xme(e,t){const n=nr(e),o=nr(t),s=jI(n,o),i=Math.abs(btt(n,o));n.setFullYear(1584),o.setFullYear(1584);const c=jI(n,o)===-s,u=s*(i-+c);return u===0?0:u}function LT(e){return t=>{const o=(e?Math[e]:Math.trunc)(t);return o===0?0:o}}function xtt(e,t){const n=nr(e),o=nr(t),s=n.getFullYear()-o.getFullYear(),i=n.getMonth()-o.getMonth();return s*12+i}function l$(e){const t=nr(e);return t.setHours(23,59,59,999),t}function c$(e){const t=nr(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function ytt(e){const t=nr(e);return+l$(t)==+c$(t)}function Zme(e,t){const n=nr(e),o=nr(t),s=jI(n,o),i=Math.abs(xtt(n,o));let c;if(i<1)c=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let u=jI(n,o)===-s;ytt(nr(e))&&i===1&&jI(e,o)===1&&(u=!1),c=s*(i-Number(u))}return c===0?0:c}function Ctt(e,t,n){const o=Zme(e,t)/3;return LT(n==null?void 0:n.roundingMethod)(o)}function oT(e){const t=nr(e);return t.setHours(0,0,0,0),t}function uR(e){const t=nr(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function efe(e,t){const n=oT(e),o=oT(t),s=+n-uR(n),i=+o-uR(o);return Math.round((s-i)/ptt)}function tfe(e,t){const n=nr(e),o=nr(t),s=Noe(n,o),i=Math.abs(efe(n,o));n.setDate(n.getDate()-s*i);const c=+(Noe(n,o)===-s),u=s*(i-c);return u===0?0:u}function Noe(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function Dtt(e,t,n){const o=tfe(e,t)/7;return LT(n==null?void 0:n.roundingMethod)(o)}function Ow(e,t){return+nr(e)-+nr(t)}function Stt(e,t,n){const o=Ow(e,t)/_T;return LT(n==null?void 0:n.roundingMethod)(o)}function vtt(e,t,n){const o=Ow(e,t)/MT;return LT(n==null?void 0:n.roundingMethod)(o)}function jtt(e,t,n){const o=Ow(e,t)/1e3;return LT(n==null?void 0:n.roundingMethod)(o)}function Itt(e,t){const n=nr(e.start),o=nr(e.end);let s=+n>+o;const i=s?+n:+o,c=s?o:n;c.setHours(0,0,0,0);let u=1;const d=[];for(;+c<=i;)d.push(nr(c)),c.setDate(c.getDate()+u),c.setHours(0,0,0,0);return s?d.reverse():d}let Ttt={};function zb(){return Ttt}function T_(e,t){var u,d,p,m;const n=zb(),o=(t==null?void 0:t.weekStartsOn)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??n.weekStartsOn??((m=(p=n.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,s=nr(e),i=s.getDay(),c=(i<o?-7:0)+6-(i-o);return s.setDate(s.getDate()+c),s.setHours(23,59,59,999),s}function O_(e){const t=nr(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}const Ott={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ett=(e,t,n)=>{let o;const s=Ott[e];return typeof s=="string"?o=s:t===1?o=s.one:o=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+o:o+" ago":o};function lC(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Ptt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Rtt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},wtt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ktt={date:lC({formats:Ptt,defaultWidth:"full"}),time:lC({formats:Rtt,defaultWidth:"full"}),dateTime:lC({formats:wtt,defaultWidth:"full"})},Att={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ntt=(e,t,n,o)=>Att[e];function Mp(e){return(t,n)=>{const o=n!=null&&n.context?String(n.context):"standalone";let s;if(o==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,u=n!=null&&n.width?String(n.width):c;s=e.formattingValues[u]||e.formattingValues[c]}else{const c=e.defaultWidth,u=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[u]||e.values[c]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const Ftt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Mtt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_tt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ltt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$tt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Btt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Wtt=(e,t)=>{const n=Number(e),o=n%100;if(o>20||o<10)switch(o%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Utt={ordinalNumber:Wtt,era:Mp({values:Ftt,defaultWidth:"wide"}),quarter:Mp({values:Mtt,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Mp({values:_tt,defaultWidth:"wide"}),day:Mp({values:Ltt,defaultWidth:"wide"}),dayPeriod:Mp({values:$tt,defaultWidth:"wide",formattingValues:Btt,defaultFormattingWidth:"wide"})};function _p(e){return(t,n={})=>{const o=n.width,s=o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const c=i[0],u=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(u)?Vtt(u,f=>f.test(c)):qtt(u,f=>f.test(c));let p;p=e.valueCallback?e.valueCallback(d):d,p=n.valueCallback?n.valueCallback(p):p;const m=t.slice(c.length);return{value:p,rest:m}}}function qtt(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Vtt(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function nfe(e){return(t,n={})=>{const o=t.match(e.matchPattern);if(!o)return null;const s=o[0],i=t.match(e.parsePattern);if(!i)return null;let c=e.valueCallback?e.valueCallback(i[0]):i[0];c=n.valueCallback?n.valueCallback(c):c;const u=t.slice(s.length);return{value:c,rest:u}}}const ztt=/^(\d+)(th|st|nd|rd)?/i,Htt=/\d+/i,Gtt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ktt={any:[/^b/i,/^(a|c)/i]},Qtt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ytt={any:[/1/i,/2/i,/3/i,/4/i]},Jtt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Xtt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ztt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ent={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},tnt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},nnt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rnt={ordinalNumber:nfe({matchPattern:ztt,parsePattern:Htt,valueCallback:e=>parseInt(e,10)}),era:_p({matchPatterns:Gtt,defaultMatchWidth:"wide",parsePatterns:Ktt,defaultParseWidth:"any"}),quarter:_p({matchPatterns:Qtt,defaultMatchWidth:"wide",parsePatterns:Ytt,defaultParseWidth:"any",valueCallback:e=>e+1}),month:_p({matchPatterns:Jtt,defaultMatchWidth:"wide",parsePatterns:Xtt,defaultParseWidth:"any"}),day:_p({matchPatterns:Ztt,defaultMatchWidth:"wide",parsePatterns:ent,defaultParseWidth:"any"}),dayPeriod:_p({matchPatterns:tnt,defaultMatchWidth:"any",parsePatterns:nnt,defaultParseWidth:"any"})},F3={code:"en-US",formatDistance:Ett,formatLong:ktt,formatRelative:Ntt,localize:Utt,match:rnt,options:{weekStartsOn:0,firstWeekContainsDate:1}};function NP(e){const t=nr(e),n=gs(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function ont(e){const t=nr(e);return efe(t,NP(t))+1}function Ju(e,t){var u,d,p,m;const n=zb(),o=(t==null?void 0:t.weekStartsOn)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??n.weekStartsOn??((m=(p=n.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,s=nr(e),i=s.getDay(),c=(i<o?7:0)+i-o;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s}function TC(e){return Ju(e,{weekStartsOn:1})}function rfe(e){const t=nr(e),n=t.getFullYear(),o=gs(e,0);o.setFullYear(n+1,0,4),o.setHours(0,0,0,0);const s=TC(o),i=gs(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const c=TC(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}function snt(e){const t=rfe(e),n=gs(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),TC(n)}function ofe(e){const t=nr(e),n=+TC(t)-+snt(t);return Math.round(n/Jme)+1}function M3(e,t){var m,f,h,g;const n=nr(e),o=n.getFullYear(),s=zb(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(h=s.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,c=gs(e,0);c.setFullYear(o+1,0,i),c.setHours(0,0,0,0);const u=Ju(c,t),d=gs(e,0);d.setFullYear(o,0,i),d.setHours(0,0,0,0);const p=Ju(d,t);return n.getTime()>=u.getTime()?o+1:n.getTime()>=p.getTime()?o:o-1}function ant(e,t){var u,d,p,m;const n=zb(),o=(t==null?void 0:t.firstWeekContainsDate)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(p=n.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,s=M3(e,t),i=gs(e,0);return i.setFullYear(s,0,o),i.setHours(0,0,0,0),Ju(i,t)}function _3(e,t){const n=nr(e),o=+Ju(n,t)-+ant(n,t);return Math.round(o/Jme)+1}function Io(e,t){const n=e<0?"-":"",o=Math.abs(e).toString().padStart(t,"0");return n+o}const gh={y(e,t){const n=e.getFullYear(),o=n>0?n:1-n;return Io(t==="yy"?o%100:o,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Io(n+1,2)},d(e,t){return Io(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Io(e.getHours()%12||12,t.length)},H(e,t){return Io(e.getHours(),t.length)},m(e,t){return Io(e.getMinutes(),t.length)},s(e,t){return Io(e.getSeconds(),t.length)},S(e,t){const n=t.length,o=e.getMilliseconds(),s=Math.trunc(o*Math.pow(10,n-3));return Io(s,t.length)}},Sy={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Foe={G:function(e,t,n){const o=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(o,{width:"abbreviated"});case"GGGGG":return n.era(o,{width:"narrow"});case"GGGG":default:return n.era(o,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const o=e.getFullYear(),s=o>0?o:1-o;return n.ordinalNumber(s,{unit:"year"})}return gh.y(e,t)},Y:function(e,t,n,o){const s=M3(e,o),i=s>0?s:1-s;if(t==="YY"){const c=i%100;return Io(c,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):Io(i,t.length)},R:function(e,t){const n=rfe(e);return Io(n,t.length)},u:function(e,t){const n=e.getFullYear();return Io(n,t.length)},Q:function(e,t,n){const o=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(o);case"QQ":return Io(o,2);case"Qo":return n.ordinalNumber(o,{unit:"quarter"});case"QQQ":return n.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(o,{width:"wide",context:"formatting"})}},q:function(e,t,n){const o=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(o);case"qq":return Io(o,2);case"qo":return n.ordinalNumber(o,{unit:"quarter"});case"qqq":return n.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(o,{width:"wide",context:"standalone"})}},M:function(e,t,n){const o=e.getMonth();switch(t){case"M":case"MM":return gh.M(e,t);case"Mo":return n.ordinalNumber(o+1,{unit:"month"});case"MMM":return n.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(o,{width:"wide",context:"formatting"})}},L:function(e,t,n){const o=e.getMonth();switch(t){case"L":return String(o+1);case"LL":return Io(o+1,2);case"Lo":return n.ordinalNumber(o+1,{unit:"month"});case"LLL":return n.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(o,{width:"wide",context:"standalone"})}},w:function(e,t,n,o){const s=_3(e,o);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):Io(s,t.length)},I:function(e,t,n){const o=ofe(e);return t==="Io"?n.ordinalNumber(o,{unit:"week"}):Io(o,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):gh.d(e,t)},D:function(e,t,n){const o=ont(e);return t==="Do"?n.ordinalNumber(o,{unit:"dayOfYear"}):Io(o,t.length)},E:function(e,t,n){const o=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(o,{width:"short",context:"formatting"});case"EEEE":default:return n.day(o,{width:"wide",context:"formatting"})}},e:function(e,t,n,o){const s=e.getDay(),i=(s-o.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Io(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,o){const s=e.getDay(),i=(s-o.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Io(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const o=e.getDay(),s=o===0?7:o;switch(t){case"i":return String(s);case"ii":return Io(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(o,{width:"short",context:"formatting"});case"iiii":default:return n.day(o,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const o=e.getHours();let s;switch(o===12?s=Sy.noon:o===0?s=Sy.midnight:s=o/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const o=e.getHours();let s;switch(o>=17?s=Sy.evening:o>=12?s=Sy.afternoon:o>=4?s=Sy.morning:s=Sy.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let o=e.getHours()%12;return o===0&&(o=12),n.ordinalNumber(o,{unit:"hour"})}return gh.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):gh.H(e,t)},K:function(e,t,n){const o=e.getHours()%12;return t==="Ko"?n.ordinalNumber(o,{unit:"hour"}):Io(o,t.length)},k:function(e,t,n){let o=e.getHours();return o===0&&(o=24),t==="ko"?n.ordinalNumber(o,{unit:"hour"}):Io(o,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):gh.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):gh.s(e,t)},S:function(e,t){return gh.S(e,t)},X:function(e,t,n){const o=e.getTimezoneOffset();if(o===0)return"Z";switch(t){case"X":return _oe(o);case"XXXX":case"XX":return rb(o);case"XXXXX":case"XXX":default:return rb(o,":")}},x:function(e,t,n){const o=e.getTimezoneOffset();switch(t){case"x":return _oe(o);case"xxxx":case"xx":return rb(o);case"xxxxx":case"xxx":default:return rb(o,":")}},O:function(e,t,n){const o=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Moe(o,":");case"OOOO":default:return"GMT"+rb(o,":")}},z:function(e,t,n){const o=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Moe(o,":");case"zzzz":default:return"GMT"+rb(o,":")}},t:function(e,t,n){const o=Math.trunc(e.getTime()/1e3);return Io(o,t.length)},T:function(e,t,n){const o=e.getTime();return Io(o,t.length)}};function Moe(e,t=""){const n=e>0?"-":"+",o=Math.abs(e),s=Math.trunc(o/60),i=o%60;return i===0?n+String(s):n+String(s)+t+Io(i,2)}function _oe(e,t){return e%60===0?(e>0?"-":"+")+Io(Math.abs(e)/60,2):rb(e,t)}function rb(e,t=""){const n=e>0?"-":"+",o=Math.abs(e),s=Io(Math.trunc(o/60),2),i=Io(o%60,2);return n+s+t+i}const Loe=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},sfe=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},int=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],o=n[1],s=n[2];if(!s)return Loe(e,t);let i;switch(o){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Loe(o,t)).replace("{{time}}",sfe(s,t))},sT={p:sfe,P:int},lnt=/^D+$/,cnt=/^Y+$/,unt=["D","DD","YY","YYYY"];function afe(e){return lnt.test(e)}function ife(e){return cnt.test(e)}function u$(e,t,n){const o=dnt(e,t,n);if(console.warn(o),unt.includes(e))throw new RangeError(o)}function dnt(e,t,n){const o=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${o} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function gf(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function rf(e){if(!gf(e)&&typeof e!="number")return!1;const t=nr(e);return!isNaN(Number(t))}const pnt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,mnt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fnt=/^'([^]*?)'?$/,hnt=/''/g,gnt=/[a-zA-Z]/;function Vd(e,t,n){var m,f,h,g,x,y,D,v;const o=zb(),s=(n==null?void 0:n.locale)??o.locale??F3,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:f.firstWeekContainsDate)??o.firstWeekContainsDate??((g=(h=o.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((y=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??o.weekStartsOn??((v=(D=o.locale)==null?void 0:D.options)==null?void 0:v.weekStartsOn)??0,u=nr(e);if(!rf(u))throw new RangeError("Invalid time value");let d=t.match(mnt).map(T=>{const I=T[0];if(I==="p"||I==="P"){const P=sT[I];return P(T,s.formatLong)}return T}).join("").match(pnt).map(T=>{if(T==="''")return{isToken:!1,value:"'"};const I=T[0];if(I==="'")return{isToken:!1,value:bnt(T)};if(Foe[I])return{isToken:!0,value:T};if(I.match(gnt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");return{isToken:!1,value:T}});s.localize.preprocessor&&(d=s.localize.preprocessor(u,d));const p={firstWeekContainsDate:i,weekStartsOn:c,locale:s};return d.map(T=>{if(!T.isToken)return T.value;const I=T.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&ife(I)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&afe(I))&&u$(I,t,String(e));const P=Foe[I[0]];return P(u,I,s.localize,p)}).join("")}function bnt(e){const t=e.match(fnt);return t?t[1].replace(hnt,"'"):e}function xnt(e){return nr(e).getDate()}function lfe(e){const t=nr(e),n=t.getFullYear(),o=t.getMonth(),s=gs(e,0);return s.setFullYear(n,o+1,0),s.setHours(0,0,0,0),s.getDate()}function cfe(e){return nr(e).getHours()}function ufe(e){return nr(e).getMinutes()}function ynt(e){return nr(e).getMonth()}function dfe(e){return nr(e).getSeconds()}function Cnt(e){return nr(e).getMilliseconds()}function dR(e){return nr(e).getFullYear()}function E_(e,t){const n=nr(e),o=nr(t);return n.getTime()>o.getTime()}function By(e,t){const n=nr(e),o=nr(t);return+n<+o}function Dnt(e,t){const n=nr(e),o=nr(t);return+n==+o}function pfe(e,t){const n=oT(e),o=oT(t);return+n==+o}function Snt(e,t){const n=nr(e),o=nr(t);return n.getFullYear()===o.getFullYear()}function vnt(e,t){const n=nr(e),o=nr(t);return n.getFullYear()===o.getFullYear()&&n.getMonth()===o.getMonth()}function $oe(e){const t=nr(e);return t.setMinutes(0,0,0),t}function jnt(e,t){const n=$oe(e),o=$oe(t);return+n==+o}function Int(){return Object.assign({},zb())}function Tnt(e,t){const n=t instanceof Date?gs(t,0):new t(0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}const Ont=10;class mfe{constructor(){fr(this,"subPriority",0)}validate(t,n){return!0}}class Ent extends mfe{constructor(t,n,o,s,i){super(),this.value=t,this.validateValue=n,this.setValue=o,this.priority=s,i&&(this.subPriority=i)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,o){return this.setValue(t,n,this.value,o)}}class Pnt extends mfe{constructor(){super(...arguments);fr(this,"priority",Ont);fr(this,"subPriority",-1)}set(n,o){return o.timestampIsSet?n:gs(n,Tnt(n,Date))}}class Zo{run(t,n,o,s){const i=this.parse(t,n,o,s);return i?{setter:new Ent(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(t,n,o){return!0}}class Rnt extends Zo{constructor(){super(...arguments);fr(this,"priority",140);fr(this,"incompatibleTokens",["R","u","t","T"])}parse(n,o,s){switch(o){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})||s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"})}}set(n,o,s){return o.era=s,n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}const Ia={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Lp={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ta(e,t){return e&&{value:t(e.value),rest:e.rest}}function ea(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function $p(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const o=n[1]==="+"?1:-1,s=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,c=n[5]?parseInt(n[5],10):0;return{value:o*(s*_T+i*MT+c*mtt),rest:t.slice(n[0].length)}}function ffe(e){return ea(Ia.anyDigitsSigned,e)}function ba(e,t){switch(e){case 1:return ea(Ia.singleDigit,t);case 2:return ea(Ia.twoDigits,t);case 3:return ea(Ia.threeDigits,t);case 4:return ea(Ia.fourDigits,t);default:return ea(new RegExp("^\\d{1,"+e+"}"),t)}}function pR(e,t){switch(e){case 1:return ea(Ia.singleDigitSigned,t);case 2:return ea(Ia.twoDigitsSigned,t);case 3:return ea(Ia.threeDigitsSigned,t);case 4:return ea(Ia.fourDigitsSigned,t);default:return ea(new RegExp("^-?\\d{1,"+e+"}"),t)}}function L3(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function hfe(e,t){const n=t>0,o=n?t:1-t;let s;if(o<=50)s=e||100;else{const i=o+50,c=Math.trunc(i/100)*100,u=e>=i%100;s=e+c-(u?100:0)}return n?s:1-s}function gfe(e){return e%400===0||e%4===0&&e%100!==0}class wnt extends Zo{constructor(){super(...arguments);fr(this,"priority",130);fr(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,o,s){const i=c=>({year:c,isTwoDigitYear:o==="yy"});switch(o){case"y":return Ta(ba(4,n),i);case"yo":return Ta(s.ordinalNumber(n,{unit:"year"}),i);default:return Ta(ba(o.length,n),i)}}validate(n,o){return o.isTwoDigitYear||o.year>0}set(n,o,s){const i=n.getFullYear();if(s.isTwoDigitYear){const u=hfe(s.year,i);return n.setFullYear(u,0,1),n.setHours(0,0,0,0),n}const c=!("era"in o)||o.era===1?s.year:1-s.year;return n.setFullYear(c,0,1),n.setHours(0,0,0,0),n}}class knt extends Zo{constructor(){super(...arguments);fr(this,"priority",130);fr(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,o,s){const i=c=>({year:c,isTwoDigitYear:o==="YY"});switch(o){case"Y":return Ta(ba(4,n),i);case"Yo":return Ta(s.ordinalNumber(n,{unit:"year"}),i);default:return Ta(ba(o.length,n),i)}}validate(n,o){return o.isTwoDigitYear||o.year>0}set(n,o,s,i){const c=M3(n,i);if(s.isTwoDigitYear){const d=hfe(s.year,c);return n.setFullYear(d,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Ju(n,i)}const u=!("era"in o)||o.era===1?s.year:1-s.year;return n.setFullYear(u,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Ju(n,i)}}class Ant extends Zo{constructor(){super(...arguments);fr(this,"priority",130);fr(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,o){return pR(o==="R"?4:o.length,n)}set(n,o,s){const i=gs(n,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),TC(i)}}class Nnt extends Zo{constructor(){super(...arguments);fr(this,"priority",130);fr(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,o){return pR(o==="u"?4:o.length,n)}set(n,o,s){return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}class Fnt extends Zo{constructor(){super(...arguments);fr(this,"priority",120);fr(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,o,s){switch(o){case"Q":case"QQ":return ba(o.length,n);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})||s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,o){return o>=1&&o<=4}set(n,o,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class Mnt extends Zo{constructor(){super(...arguments);fr(this,"priority",120);fr(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,o,s){switch(o){case"q":case"qq":return ba(o.length,n);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})||s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,o){return o>=1&&o<=4}set(n,o,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class _nt extends Zo{constructor(){super(...arguments);fr(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);fr(this,"priority",110)}parse(n,o,s){const i=c=>c-1;switch(o){case"M":return Ta(ea(Ia.month,n),i);case"MM":return Ta(ba(2,n),i);case"Mo":return Ta(s.ordinalNumber(n,{unit:"month"}),i);case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})||s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"})}}validate(n,o){return o>=0&&o<=11}set(n,o,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}class Lnt extends Zo{constructor(){super(...arguments);fr(this,"priority",110);fr(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,o,s){const i=c=>c-1;switch(o){case"L":return Ta(ea(Ia.month,n),i);case"LL":return Ta(ba(2,n),i);case"Lo":return Ta(s.ordinalNumber(n,{unit:"month"}),i);case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})||s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"})}}validate(n,o){return o>=0&&o<=11}set(n,o,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}function $nt(e,t,n){const o=nr(e),s=_3(o,n)-t;return o.setDate(o.getDate()-s*7),o}class Bnt extends Zo{constructor(){super(...arguments);fr(this,"priority",100);fr(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,o,s){switch(o){case"w":return ea(Ia.week,n);case"wo":return s.ordinalNumber(n,{unit:"week"});default:return ba(o.length,n)}}validate(n,o){return o>=1&&o<=53}set(n,o,s,i){return Ju($nt(n,s,i),i)}}function Wnt(e,t){const n=nr(e),o=ofe(n)-t;return n.setDate(n.getDate()-o*7),n}class Unt extends Zo{constructor(){super(...arguments);fr(this,"priority",100);fr(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,o,s){switch(o){case"I":return ea(Ia.week,n);case"Io":return s.ordinalNumber(n,{unit:"week"});default:return ba(o.length,n)}}validate(n,o){return o>=1&&o<=53}set(n,o,s){return TC(Wnt(n,s))}}const qnt=[31,28,31,30,31,30,31,31,30,31,30,31],Vnt=[31,29,31,30,31,30,31,31,30,31,30,31];class znt extends Zo{constructor(){super(...arguments);fr(this,"priority",90);fr(this,"subPriority",1);fr(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,o,s){switch(o){case"d":return ea(Ia.date,n);case"do":return s.ordinalNumber(n,{unit:"date"});default:return ba(o.length,n)}}validate(n,o){const s=n.getFullYear(),i=gfe(s),c=n.getMonth();return i?o>=1&&o<=Vnt[c]:o>=1&&o<=qnt[c]}set(n,o,s){return n.setDate(s),n.setHours(0,0,0,0),n}}class Hnt extends Zo{constructor(){super(...arguments);fr(this,"priority",90);fr(this,"subpriority",1);fr(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,o,s){switch(o){case"D":case"DD":return ea(Ia.dayOfYear,n);case"Do":return s.ordinalNumber(n,{unit:"date"});default:return ba(o.length,n)}}validate(n,o){const s=n.getFullYear();return gfe(s)?o>=1&&o<=366:o>=1&&o<=365}set(n,o,s){return n.setMonth(0,s),n.setHours(0,0,0,0),n}}function $3(e,t,n){var f,h,g,x;const o=zb(),s=(n==null?void 0:n.weekStartsOn)??((h=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??o.weekStartsOn??((x=(g=o.locale)==null?void 0:g.options)==null?void 0:x.weekStartsOn)??0,i=nr(e),c=i.getDay(),d=(t%7+7)%7,p=7-s,m=t<0||t>6?t-(c+p)%7:(d+p)%7-(c+p)%7;return Yu(i,m)}class Gnt extends Zo{constructor(){super(...arguments);fr(this,"priority",90);fr(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,o,s){switch(o){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,o){return o>=0&&o<=6}set(n,o,s,i){return n=$3(n,s,i),n.setHours(0,0,0,0),n}}class Knt extends Zo{constructor(){super(...arguments);fr(this,"priority",90);fr(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,o,s,i){const c=u=>{const d=Math.floor((u-1)/7)*7;return(u+i.weekStartsOn+6)%7+d};switch(o){case"e":case"ee":return Ta(ba(o.length,n),c);case"eo":return Ta(s.ordinalNumber(n,{unit:"day"}),c);case"eee":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeeee":return s.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,o){return o>=0&&o<=6}set(n,o,s,i){return n=$3(n,s,i),n.setHours(0,0,0,0),n}}class Qnt extends Zo{constructor(){super(...arguments);fr(this,"priority",90);fr(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,o,s,i){const c=u=>{const d=Math.floor((u-1)/7)*7;return(u+i.weekStartsOn+6)%7+d};switch(o){case"c":case"cc":return Ta(ba(o.length,n),c);case"co":return Ta(s.ordinalNumber(n,{unit:"day"}),c);case"ccc":return s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"ccccc":return s.day(n,{width:"narrow",context:"standalone"});case"cccccc":return s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(n,{width:"wide",context:"standalone"})||s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"})}}validate(n,o){return o>=0&&o<=6}set(n,o,s,i){return n=$3(n,s,i),n.setHours(0,0,0,0),n}}function Ynt(e){let n=nr(e).getDay();return n===0&&(n=7),n}function Jnt(e,t){const n=nr(e),o=Ynt(n),s=t-o;return Yu(n,s)}class Xnt extends Zo{constructor(){super(...arguments);fr(this,"priority",90);fr(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,o,s){const i=c=>c===0?7:c;switch(o){case"i":case"ii":return ba(o.length,n);case"io":return s.ordinalNumber(n,{unit:"day"});case"iii":return Ta(s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i);case"iiiii":return Ta(s.day(n,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Ta(s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Ta(s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i)}}validate(n,o){return o>=1&&o<=7}set(n,o,s){return n=Jnt(n,s),n.setHours(0,0,0,0),n}}class Znt extends Zo{constructor(){super(...arguments);fr(this,"priority",80);fr(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,o,s){switch(o){case"a":case"aa":case"aaa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,o,s){return n.setHours(L3(s),0,0,0),n}}class ert extends Zo{constructor(){super(...arguments);fr(this,"priority",80);fr(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,o,s){switch(o){case"b":case"bb":case"bbb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,o,s){return n.setHours(L3(s),0,0,0),n}}class trt extends Zo{constructor(){super(...arguments);fr(this,"priority",80);fr(this,"incompatibleTokens",["a","b","t","T"])}parse(n,o,s){switch(o){case"B":case"BB":case"BBB":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,o,s){return n.setHours(L3(s),0,0,0),n}}class nrt extends Zo{constructor(){super(...arguments);fr(this,"priority",70);fr(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,o,s){switch(o){case"h":return ea(Ia.hour12h,n);case"ho":return s.ordinalNumber(n,{unit:"hour"});default:return ba(o.length,n)}}validate(n,o){return o>=1&&o<=12}set(n,o,s){const i=n.getHours()>=12;return i&&s<12?n.setHours(s+12,0,0,0):!i&&s===12?n.setHours(0,0,0,0):n.setHours(s,0,0,0),n}}class rrt extends Zo{constructor(){super(...arguments);fr(this,"priority",70);fr(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,o,s){switch(o){case"H":return ea(Ia.hour23h,n);case"Ho":return s.ordinalNumber(n,{unit:"hour"});default:return ba(o.length,n)}}validate(n,o){return o>=0&&o<=23}set(n,o,s){return n.setHours(s,0,0,0),n}}class ort extends Zo{constructor(){super(...arguments);fr(this,"priority",70);fr(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,o,s){switch(o){case"K":return ea(Ia.hour11h,n);case"Ko":return s.ordinalNumber(n,{unit:"hour"});default:return ba(o.length,n)}}validate(n,o){return o>=0&&o<=11}set(n,o,s){return n.getHours()>=12&&s<12?n.setHours(s+12,0,0,0):n.setHours(s,0,0,0),n}}class srt extends Zo{constructor(){super(...arguments);fr(this,"priority",70);fr(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,o,s){switch(o){case"k":return ea(Ia.hour24h,n);case"ko":return s.ordinalNumber(n,{unit:"hour"});default:return ba(o.length,n)}}validate(n,o){return o>=1&&o<=24}set(n,o,s){const i=s<=24?s%24:s;return n.setHours(i,0,0,0),n}}class art extends Zo{constructor(){super(...arguments);fr(this,"priority",60);fr(this,"incompatibleTokens",["t","T"])}parse(n,o,s){switch(o){case"m":return ea(Ia.minute,n);case"mo":return s.ordinalNumber(n,{unit:"minute"});default:return ba(o.length,n)}}validate(n,o){return o>=0&&o<=59}set(n,o,s){return n.setMinutes(s,0,0),n}}class irt extends Zo{constructor(){super(...arguments);fr(this,"priority",50);fr(this,"incompatibleTokens",["t","T"])}parse(n,o,s){switch(o){case"s":return ea(Ia.second,n);case"so":return s.ordinalNumber(n,{unit:"second"});default:return ba(o.length,n)}}validate(n,o){return o>=0&&o<=59}set(n,o,s){return n.setSeconds(s,0),n}}class lrt extends Zo{constructor(){super(...arguments);fr(this,"priority",30);fr(this,"incompatibleTokens",["t","T"])}parse(n,o){const s=i=>Math.trunc(i*Math.pow(10,-o.length+3));return Ta(ba(o.length,n),s)}set(n,o,s){return n.setMilliseconds(s),n}}class crt extends Zo{constructor(){super(...arguments);fr(this,"priority",10);fr(this,"incompatibleTokens",["t","T","x"])}parse(n,o){switch(o){case"X":return $p(Lp.basicOptionalMinutes,n);case"XX":return $p(Lp.basic,n);case"XXXX":return $p(Lp.basicOptionalSeconds,n);case"XXXXX":return $p(Lp.extendedOptionalSeconds,n);case"XXX":default:return $p(Lp.extended,n)}}set(n,o,s){return o.timestampIsSet?n:gs(n,n.getTime()-uR(n)-s)}}class urt extends Zo{constructor(){super(...arguments);fr(this,"priority",10);fr(this,"incompatibleTokens",["t","T","X"])}parse(n,o){switch(o){case"x":return $p(Lp.basicOptionalMinutes,n);case"xx":return $p(Lp.basic,n);case"xxxx":return $p(Lp.basicOptionalSeconds,n);case"xxxxx":return $p(Lp.extendedOptionalSeconds,n);case"xxx":default:return $p(Lp.extended,n)}}set(n,o,s){return o.timestampIsSet?n:gs(n,n.getTime()-uR(n)-s)}}class drt extends Zo{constructor(){super(...arguments);fr(this,"priority",40);fr(this,"incompatibleTokens","*")}parse(n){return ffe(n)}set(n,o,s){return[gs(n,s*1e3),{timestampIsSet:!0}]}}class prt extends Zo{constructor(){super(...arguments);fr(this,"priority",20);fr(this,"incompatibleTokens","*")}parse(n){return ffe(n)}set(n,o,s){return[gs(n,s),{timestampIsSet:!0}]}}const mrt={G:new Rnt,y:new wnt,Y:new knt,R:new Ant,u:new Nnt,Q:new Fnt,q:new Mnt,M:new _nt,L:new Lnt,w:new Bnt,I:new Unt,d:new znt,D:new Hnt,E:new Gnt,e:new Knt,c:new Qnt,i:new Xnt,a:new Znt,b:new ert,B:new trt,h:new nrt,H:new rrt,K:new ort,k:new srt,m:new art,s:new irt,S:new lrt,X:new crt,x:new urt,t:new drt,T:new prt},frt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hrt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,grt=/^'([^]*?)'?$/,brt=/''/g,xrt=/\S/,yrt=/[a-zA-Z]/;function B3(e,t,n,o){var y,D,v,T,I,P,E,k;const s=Int(),i=(o==null?void 0:o.locale)??s.locale??F3,c=(o==null?void 0:o.firstWeekContainsDate)??((D=(y=o==null?void 0:o.locale)==null?void 0:y.options)==null?void 0:D.firstWeekContainsDate)??s.firstWeekContainsDate??((T=(v=s.locale)==null?void 0:v.options)==null?void 0:T.firstWeekContainsDate)??1,u=(o==null?void 0:o.weekStartsOn)??((P=(I=o==null?void 0:o.locale)==null?void 0:I.options)==null?void 0:P.weekStartsOn)??s.weekStartsOn??((k=(E=s.locale)==null?void 0:E.options)==null?void 0:k.weekStartsOn)??0;if(t==="")return e===""?nr(n):gs(n,NaN);const d={firstWeekContainsDate:c,weekStartsOn:u,locale:i},p=[new Pnt],m=t.match(hrt).map(w=>{const A=w[0];if(A in sT){const F=sT[A];return F(w,i.formatLong)}return w}).join("").match(frt),f=[];for(let w of m){!(o!=null&&o.useAdditionalWeekYearTokens)&&ife(w)&&u$(w,t,e),!(o!=null&&o.useAdditionalDayOfYearTokens)&&afe(w)&&u$(w,t,e);const A=w[0],F=mrt[A];if(F){const{incompatibleTokens:_}=F;if(Array.isArray(_)){const K=f.find(z=>_.includes(z.token)||z.token===A);if(K)throw new RangeError(`The format string mustn't contain \`${K.fullToken}\` and \`${w}\` at the same time`)}else if(F.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${w}\` and any other token at the same time`);f.push({token:A,fullToken:w});const L=F.run(e,w,i.match,d);if(!L)return gs(n,NaN);p.push(L.setter),e=L.rest}else{if(A.match(yrt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");if(w==="''"?w="'":A==="'"&&(w=Crt(w)),e.indexOf(w)===0)e=e.slice(w.length);else return gs(n,NaN)}}if(e.length>0&&xrt.test(e))return gs(n,NaN);const h=p.map(w=>w.priority).sort((w,A)=>A-w).filter((w,A,F)=>F.indexOf(w)===A).map(w=>p.filter(A=>A.priority===w).sort((A,F)=>F.subPriority-A.subPriority)).map(w=>w[0]);let g=nr(n);if(isNaN(g.getTime()))return gs(n,NaN);const x={};for(const w of h){if(!w.validate(g,d))return gs(n,NaN);const A=w.set(g,x,d);Array.isArray(A)?(g=A[0],Object.assign(x,A[1])):g=A}return gs(n,g)}function Crt(e){return e.match(grt)[1].replace(brt,"'")}function Drt(e,t){const n=nr(e);return n.setDate(t),n}function Srt(e,t){const n=nr(e);return n.setHours(t),n}function vrt(e,t){const n=nr(e);return n.setMinutes(t),n}function jrt(e,t){const n=nr(e),o=n.getFullYear(),s=n.getDate(),i=gs(e,0);i.setFullYear(o,t,15),i.setHours(0,0,0,0);const c=lfe(i);return n.setMonth(t,Math.min(s,c)),n}function Irt(e,t){const n=nr(e);return n.setSeconds(t),n}function Trt(e,t){const n=nr(e);return n.setMilliseconds(t),n}function Ort(e,t){const n=nr(e);return isNaN(+n)?gs(e,NaN):(n.setFullYear(t),n)}function mR(e){const t=nr(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Ert(e,t){const n=nr(e);if(isNaN(n.getTime()))throw new RangeError("Invalid time value");const o=(t==null?void 0:t.representation)??"complete";let s="",i="";const c="-",u=":";if(o!=="time"){const d=Io(n.getDate(),2),p=Io(n.getMonth()+1,2);s=`${Io(n.getFullYear(),4)}${c}${p}${c}${d}`}if(o!=="date"){const d=n.getTimezoneOffset();if(d!==0){const x=Math.abs(d),y=Io(Math.trunc(x/60),2),D=Io(x%60,2);i=`${d<0?"+":"-"}${y}:${D}`}else i="Z";const p=Io(n.getHours(),2),m=Io(n.getMinutes(),2),f=Io(n.getSeconds(),2),h=s===""?"":"T",g=[p,m,f].join(u);s=`${s}${h}${g}${i}`}return s}function bfe(e,t){const o=krt(e);let s;if(o.date){const d=Art(o.date,2);s=Nrt(d.restDateString,d.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let c=0,u;if(o.time&&(c=Frt(o.time),isNaN(c)))return new Date(NaN);if(o.timezone){if(u=Mrt(o.timezone),isNaN(u))return new Date(NaN)}else{const d=new Date(i+c),p=new Date(0);return p.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),p.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),p}return new Date(i+c+u)}const rP={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Prt=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Rrt=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,wrt=/^([+-])(\d{2})(?::?(\d{2}))?$/;function krt(e){const t={},n=e.split(rP.dateTimeDelimiter);let o;if(n.length>2)return t;if(/:/.test(n[0])?o=n[0]:(t.date=n[0],o=n[1],rP.timeZoneDelimiter.test(t.date)&&(t.date=e.split(rP.timeZoneDelimiter)[0],o=e.substr(t.date.length,e.length))),o){const s=rP.timezone.exec(o);s?(t.time=o.replace(s[1],""),t.timezone=s[1]):t.time=o}return t}function Art(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),o=e.match(n);if(!o)return{year:NaN,restDateString:""};const s=o[1]?parseInt(o[1]):null,i=o[2]?parseInt(o[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((o[1]||o[2]).length)}}function Nrt(e,t){if(t===null)return new Date(NaN);const n=e.match(Prt);if(!n)return new Date(NaN);const o=!!n[4],s=T0(n[1]),i=T0(n[2])-1,c=T0(n[3]),u=T0(n[4]),d=T0(n[5])-1;if(o)return Wrt(t,u,d)?_rt(t,u,d):new Date(NaN);{const p=new Date(0);return!$rt(t,i,c)||!Brt(t,s)?new Date(NaN):(p.setUTCFullYear(t,i,Math.max(s,c)),p)}}function T0(e){return e?parseInt(e):1}function Frt(e){const t=e.match(Rrt);if(!t)return NaN;const n=P_(t[1]),o=P_(t[2]),s=P_(t[3]);return Urt(n,o,s)?n*_T+o*MT+s*1e3:NaN}function P_(e){return e&&parseFloat(e.replace(",","."))||0}function Mrt(e){if(e==="Z")return 0;const t=e.match(wrt);if(!t)return 0;const n=t[1]==="+"?-1:1,o=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return qrt(o,s)?n*(o*_T+s*MT):NaN}function _rt(e,t,n){const o=new Date(0);o.setUTCFullYear(e,0,4);const s=o.getUTCDay()||7,i=(t-1)*7+n+1-s;return o.setUTCDate(o.getUTCDate()+i),o}const Lrt=[31,null,31,30,31,30,31,31,30,31,30,31];function xfe(e){return e%400===0||e%4===0&&e%100!==0}function $rt(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Lrt[t]||(xfe(e)?29:28))}function Brt(e,t){return t>=1&&t<=(xfe(e)?366:365)}function Wrt(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function Urt(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function qrt(e,t){return t>=0&&t<=59}function Vrt(e,t){const n=+nr(e),[o,s]=[+nr(t.start),+nr(t.end)].sort((i,c)=>i-c);return n>=o&&n<=s}const zrt={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},Hrt={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",fullDateWithWeekday:"PPPP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",monthAndYear:"LLLL yyyy",monthAndDate:"MMMM d",fullTime:"p",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",fullDateTime:"PP p",fullDateTime12h:"PP hh:mm aa",fullDateTime24h:"PP HH:mm",keyboardDateTime:"P p",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class Grt{constructor(t){this.isMUIAdapter=!0,this.isTimezoneCompatible=!1,this.lib="date-fns",this.locale=void 0,this.formats=void 0,this.formatTokenMap=zrt,this.escapedCharacters={start:"'",end:"'"},this.longFormatters=void 0,this.date=i=>typeof i>"u"?new Date:i===null?null:new Date(i),this.dateWithTimezone=i=>this.date(i),this.getTimezone=()=>"default",this.setTimezone=i=>i,this.toJsDate=i=>i,this.getCurrentLocaleCode=()=>{var i;return((i=this.locale)==null?void 0:i.code)||"en-US"},this.is12HourCycleInCurrentLocale=()=>this.locale?/a/.test(this.locale.formatLong.time({width:"short"})):!0,this.expandFormat=i=>{const c=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return i.match(c).map(u=>{const d=u[0];if(d==="p"||d==="P"){const p=this.longFormatters[d];return p(u,this.locale.formatLong)}return u}).join("")},this.getFormatHelperText=i=>this.expandFormat(i).replace(/(aaa|aa|a)/g,"(a|p)m").toLocaleLowerCase(),this.isNull=i=>i===null,this.formatNumber=i=>i,this.getMeridiemText=i=>i==="am"?"AM":"PM";const{locale:n,formats:o,longFormatters:s}=t;this.locale=n,this.formats=$({},Hrt,o),this.longFormatters=s}}class Krt extends Grt{constructor({locale:t,formats:n}={}){if(typeof Yu!="function")throw new Error(["MUI: The `date-fns` package v2.x is not compatible with this adapter.","Please, install v3.x of the package or use the `AdapterDateFns` instead."].join(`
`));if(!sT)throw new Error("MUI: The minimum supported `date-fns` package version compatible with this adapter is `3.2.x`.");super({locale:t??F3,formats:n,longFormatters:sT}),this.parseISO=o=>bfe(o),this.toISO=o=>Ert(o,{}),this.parse=(o,s)=>o===""?null:B3(o,s,new Date,{locale:this.locale}),this.isValid=o=>rf(this.date(o)),this.format=(o,s)=>this.formatByString(o,this.formats[s]),this.formatByString=(o,s)=>Vd(o,s,{locale:this.locale}),this.getDiff=(o,s,i)=>{switch(i){case"years":return Xme(o,this.date(s));case"quarters":return Ctt(o,this.date(s));case"months":return Zme(o,this.date(s));case"weeks":return Dtt(o,this.date(s));case"days":return tfe(o,this.date(s));case"hours":return Stt(o,this.date(s));case"minutes":return vtt(o,this.date(s));case"seconds":return jtt(o,this.date(s));default:return Ow(o,this.date(s))}},this.isEqual=(o,s)=>o===null&&s===null?!0:Dnt(o,s),this.isSameYear=(o,s)=>Snt(o,s),this.isSameMonth=(o,s)=>vnt(o,s),this.isSameDay=(o,s)=>pfe(o,s),this.isSameHour=(o,s)=>jnt(o,s),this.isAfter=(o,s)=>E_(o,s),this.isAfterYear=(o,s)=>E_(o,O_(s)),this.isAfterDay=(o,s)=>E_(o,l$(s)),this.isBefore=(o,s)=>By(o,s),this.isBeforeYear=(o,s)=>By(o,this.startOfYear(s)),this.isBeforeDay=(o,s)=>By(o,this.startOfDay(s)),this.isWithinRange=(o,[s,i])=>Vrt(o,{start:s,end:i}),this.startOfYear=o=>NP(o),this.startOfMonth=o=>mR(o),this.startOfWeek=o=>Ju(o,{locale:this.locale}),this.startOfDay=o=>oT(o),this.endOfYear=o=>O_(o),this.endOfMonth=o=>c$(o),this.endOfWeek=o=>T_(o,{locale:this.locale}),this.endOfDay=o=>l$(o),this.addYears=(o,s)=>Aoe(o,s),this.addMonths=(o,s)=>iC(o,s),this.addWeeks=(o,s)=>gtt(o,s),this.addDays=(o,s)=>Yu(o,s),this.addHours=(o,s)=>htt(o,s),this.addMinutes=(o,s)=>ftt(o,s),this.addSeconds=(o,s)=>dtt(o,s),this.getYear=o=>dR(o),this.getMonth=o=>ynt(o),this.getDate=o=>xnt(o),this.getHours=o=>cfe(o),this.getMinutes=o=>ufe(o),this.getSeconds=o=>dfe(o),this.getMilliseconds=o=>Cnt(o),this.setYear=(o,s)=>Ort(o,s),this.setMonth=(o,s)=>jrt(o,s),this.setDate=(o,s)=>Drt(o,s),this.setHours=(o,s)=>Srt(o,s),this.setMinutes=(o,s)=>vrt(o,s),this.setSeconds=(o,s)=>Irt(o,s),this.setMilliseconds=(o,s)=>Trt(o,s),this.getDaysInMonth=o=>lfe(o),this.getNextMonth=o=>iC(o,1),this.getPreviousMonth=o=>iC(o,-1),this.getMonthArray=o=>{const i=[NP(o)];for(;i.length<12;){const c=i[i.length-1];i.push(this.getNextMonth(c))}return i},this.mergeDateAndTime=(o,s)=>this.setSeconds(this.setMinutes(this.setHours(o,this.getHours(s)),this.getMinutes(s)),this.getSeconds(s)),this.getWeekdays=()=>{const o=new Date;return Itt({start:Ju(o,{locale:this.locale}),end:T_(o,{locale:this.locale})}).map(s=>this.formatByString(s,"EEEEEE"))},this.getWeekArray=o=>{const s=Ju(mR(o),{locale:this.locale}),i=T_(c$(o),{locale:this.locale});let c=0,u=s;const d=[];for(;By(u,i);){const p=Math.floor(c/7);d[p]=d[p]||[],d[p].push(u),u=Yu(u,1),c+=1}return d},this.getWeekNumber=o=>_3(o,{locale:this.locale}),this.getYearRange=(o,s)=>{const i=NP(o),c=O_(s),u=[];let d=i;for(;By(d,c);)u.push(d),d=Aoe(d,1);return u}}}const Qrt={lessThanXSeconds:{one:" 1 ",other:" {{count}} "},xSeconds:{one:"1 ",other:"{{count}} "},halfAMinute:"",lessThanXMinutes:{one:" 1 ",other:" {{count}} "},xMinutes:{one:"1 ",other:"{{count}} "},xHours:{one:"1 ",other:"{{count}} "},aboutXHours:{one:" 1 ",other:" {{count}} "},xDays:{one:"1 ",other:"{{count}} "},aboutXWeeks:{one:" 1 ",other:" {{count}} "},xWeeks:{one:"1 ",other:"{{count}} "},aboutXMonths:{one:" 1 ",other:" {{count}} "},xMonths:{one:"1 ",other:"{{count}} "},aboutXYears:{one:" 1 ",other:" {{count}} "},xYears:{one:"1 ",other:"{{count}} "},overXYears:{one:" 1 ",other:" {{count}} "},almostXYears:{one:" 1 ",other:" {{count}} "}},Yrt=(e,t,n)=>{let o;const s=Qrt[e];return typeof s=="string"?o=s:t===1?o=s.one:o=s.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?o+"":o+"":o},Jrt={full:"y''M''d'' EEEE",long:"y''M''d''",medium:"yyyy-MM-dd",short:"yy-MM-dd"},Xrt={full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},Zrt={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},eot={date:lC({formats:Jrt,defaultWidth:"full"}),time:lC({formats:Xrt,defaultWidth:"full"}),dateTime:lC({formats:Zrt,defaultWidth:"full"})},tot={lastWeek:"''eeee p",yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:"''eeee p",other:"P"},not=(e,t,n,o)=>tot[e],rot={narrow:["",""],abbreviated:["",""],wide:["",""]},oot={narrow:["1","2","3","4"],abbreviated:["","","",""],wide:["","","",""]},sot={narrow:["","","","","","","","","","","",""],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["","","","","","","","","","","",""]},aot={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},iot={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},lot={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},cot=(e,t)=>{const n=Number(e);switch(t==null?void 0:t.unit){case"date":return n+"";case"hour":return n+"";case"minute":return n+"";case"second":return n+"";default:return" "+n}},uot={ordinalNumber:cot,era:Mp({values:rot,defaultWidth:"wide"}),quarter:Mp({values:oot,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Mp({values:sot,defaultWidth:"wide"}),day:Mp({values:aot,defaultWidth:"wide"}),dayPeriod:Mp({values:iot,defaultWidth:"wide",formattingValues:lot,defaultFormattingWidth:"wide"})},dot=/^(\s*)?\d+(|||)?/i,pot=/\d+/i,mot={narrow:/^()/i,abbreviated:/^()/i,wide:/^(|)/i},fot={any:[/^()/i,/^()/i]},hot={narrow:/^[1234]/i,abbreviated:/^[]/i,wide:/^[]/i},got={any:[/(1|)/i,/(2|)/i,/(3|)/i,/(4|)/i]},bot={narrow:/^(|||||||||[])/i,abbreviated:/^(|||||||||[]|\d|1[12])/i,wide:/^(|||||||||[])/i},xot={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^(?!(|))/i,/^/i,/^/i],any:[/^|1/i,/^|2/i,/^|3/i,/^|4/i,/^|5/i,/^|6/i,/^|7/i,/^|8/i,/^|9/i,/^(?!(|))|10/i,/^|11/i,/^|12/i]},yot={narrow:/^[]/i,short:/^[]/i,abbreviated:/^[]/i,wide:/^[]/i},Cot={any:[//i,//i,//i,//i,//i,//i,//i]},Dot={any:/^(?|?||[]|?||?|)/i},Sot={any:{am:/^?/i,pm:/^?/i,midnight:/^/i,noon:/^[]/i,morning:/^/i,afternoon:/^/i,evening:/^?/i,night:/^/i}},vot={ordinalNumber:nfe({matchPattern:dot,parsePattern:pot,valueCallback:e=>parseInt(e,10)}),era:_p({matchPatterns:mot,defaultMatchWidth:"wide",parsePatterns:fot,defaultParseWidth:"any"}),quarter:_p({matchPatterns:hot,defaultMatchWidth:"wide",parsePatterns:got,defaultParseWidth:"any",valueCallback:e=>e+1}),month:_p({matchPatterns:bot,defaultMatchWidth:"wide",parsePatterns:xot,defaultParseWidth:"any"}),day:_p({matchPatterns:yot,defaultMatchWidth:"wide",parsePatterns:Cot,defaultParseWidth:"any"}),dayPeriod:_p({matchPatterns:Dot,defaultMatchWidth:"any",parsePatterns:Sot,defaultParseWidth:"any"})},d$={code:"zh-TW",formatDistance:Yrt,formatLong:eot,formatRelative:not,localize:uot,match:vot,options:{weekStartsOn:1,firstWeekContainsDate:4}},Qh=a.createContext(),cr=a.createContext(),yfe="%[a-f0-9]{2}",Boe=new RegExp("("+yfe+")|([^%]+?)","gi"),Woe=new RegExp("("+yfe+")+","gi");function p$(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;const n=e.slice(0,t),o=e.slice(t);return Array.prototype.concat.call([],p$(n),p$(o))}function jot(e){try{return decodeURIComponent(e)}catch{let t=e.match(Boe)||[];for(let n=1;n<t.length;n++)e=p$(t,n).join(""),t=e.match(Boe)||[];return e}}function Iot(e){const t={"%FE%FF":"","%FF%FE":""};let n=Woe.exec(e);for(;n;){try{t[n[0]]=decodeURIComponent(n[0])}catch{const s=jot(n[0]);s!==n[0]&&(t[n[0]]=s)}n=Woe.exec(e)}t["%C2"]="";const o=Object.keys(t);for(const s of o)e=e.replace(new RegExp(s,"g"),t[s]);return e}function Tot(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch{return Iot(e)}}function Cfe(e,t){if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e===""||t==="")return[];const n=e.indexOf(t);return n===-1?[]:[e.slice(0,n),e.slice(n+t.length)]}function Oot(e,t){const n={};if(Array.isArray(t))for(const o of t){const s=Object.getOwnPropertyDescriptor(e,o);s!=null&&s.enumerable&&Object.defineProperty(n,o,s)}else for(const o of Reflect.ownKeys(e)){const s=Object.getOwnPropertyDescriptor(e,o);if(s.enumerable){const i=e[o];t(o,i,e)&&Object.defineProperty(n,o,s)}}return n}const Eot=e=>e==null,Pot=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),m$=Symbol("encodeFragmentIdentifier");function Rot(e){switch(e.arrayFormat){case"index":return t=>(n,o)=>{const s=n.length;return o===void 0||e.skipNull&&o===null||e.skipEmptyString&&o===""?n:o===null?[...n,[Wa(t,e),"[",s,"]"].join("")]:[...n,[Wa(t,e),"[",Wa(s,e),"]=",Wa(o,e)].join("")]};case"bracket":return t=>(n,o)=>o===void 0||e.skipNull&&o===null||e.skipEmptyString&&o===""?n:o===null?[...n,[Wa(t,e),"[]"].join("")]:[...n,[Wa(t,e),"[]=",Wa(o,e)].join("")];case"colon-list-separator":return t=>(n,o)=>o===void 0||e.skipNull&&o===null||e.skipEmptyString&&o===""?n:o===null?[...n,[Wa(t,e),":list="].join("")]:[...n,[Wa(t,e),":list=",Wa(o,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t=e.arrayFormat==="bracket-separator"?"[]=":"=";return n=>(o,s)=>s===void 0||e.skipNull&&s===null||e.skipEmptyString&&s===""?o:(s=s===null?"":s,o.length===0?[[Wa(n,e),t,Wa(s,e)].join("")]:[[o,Wa(s,e)].join(e.arrayFormatSeparator)])}default:return t=>(n,o)=>o===void 0||e.skipNull&&o===null||e.skipEmptyString&&o===""?n:o===null?[...n,Wa(t,e)]:[...n,[Wa(t,e),"=",Wa(o,e)].join("")]}}function wot(e){let t;switch(e.arrayFormat){case"index":return(n,o,s)=>{if(t=/\[(\d*)]$/.exec(n),n=n.replace(/\[\d*]$/,""),!t){s[n]=o;return}s[n]===void 0&&(s[n]={}),s[n][t[1]]=o};case"bracket":return(n,o,s)=>{if(t=/(\[])$/.exec(n),n=n.replace(/\[]$/,""),!t){s[n]=o;return}if(s[n]===void 0){s[n]=[o];return}s[n]=[...s[n],o]};case"colon-list-separator":return(n,o,s)=>{if(t=/(:list)$/.exec(n),n=n.replace(/:list$/,""),!t){s[n]=o;return}if(s[n]===void 0){s[n]=[o];return}s[n]=[...s[n],o]};case"comma":case"separator":return(n,o,s)=>{const i=typeof o=="string"&&o.includes(e.arrayFormatSeparator),c=typeof o=="string"&&!i&&Jm(o,e).includes(e.arrayFormatSeparator);o=c?Jm(o,e):o;const u=i||c?o.split(e.arrayFormatSeparator).map(d=>Jm(d,e)):o===null?o:Jm(o,e);s[n]=u};case"bracket-separator":return(n,o,s)=>{const i=/(\[])$/.test(n);if(n=n.replace(/\[]$/,""),!i){s[n]=o&&Jm(o,e);return}const c=o===null?[]:o.split(e.arrayFormatSeparator).map(u=>Jm(u,e));if(s[n]===void 0){s[n]=c;return}s[n]=[...s[n],...c]};default:return(n,o,s)=>{if(s[n]===void 0){s[n]=o;return}s[n]=[...[s[n]].flat(),o]}}}function Dfe(e){if(typeof e!="string"||e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function Wa(e,t){return t.encode?t.strict?Pot(e):encodeURIComponent(e):e}function Jm(e,t){return t.decode?Tot(e):e}function Sfe(e){return Array.isArray(e)?e.sort():typeof e=="object"?Sfe(Object.keys(e)).sort((t,n)=>Number(t)-Number(n)).map(t=>e[t]):e}function vfe(e){const t=e.indexOf("#");return t!==-1&&(e=e.slice(0,t)),e}function kot(e){let t="";const n=e.indexOf("#");return n!==-1&&(t=e.slice(n)),t}function Uoe(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?e=Number(e):t.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")&&(e=e.toLowerCase()==="true"),e}function W3(e){e=vfe(e);const t=e.indexOf("?");return t===-1?"":e.slice(t+1)}function U3(e,t){t={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...t},Dfe(t.arrayFormatSeparator);const n=wot(t),o=Object.create(null);if(typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e))return o;for(const s of e.split("&")){if(s==="")continue;const i=t.decode?s.replace(/\+/g," "):s;let[c,u]=Cfe(i,"=");c===void 0&&(c=i),u=u===void 0?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?u:Jm(u,t),n(Jm(c,t),u,o)}for(const[s,i]of Object.entries(o))if(typeof i=="object"&&i!==null)for(const[c,u]of Object.entries(i))i[c]=Uoe(u,t);else o[s]=Uoe(i,t);return t.sort===!1?o:(t.sort===!0?Object.keys(o).sort():Object.keys(o).sort(t.sort)).reduce((s,i)=>{const c=o[i];return s[i]=c&&typeof c=="object"&&!Array.isArray(c)?Sfe(c):c,s},Object.create(null))}function jfe(e,t){if(!e)return"";t={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...t},Dfe(t.arrayFormatSeparator);const n=c=>t.skipNull&&Eot(e[c])||t.skipEmptyString&&e[c]==="",o=Rot(t),s={};for(const[c,u]of Object.entries(e))n(c)||(s[c]=u);const i=Object.keys(s);return t.sort!==!1&&i.sort(t.sort),i.map(c=>{const u=e[c];return u===void 0?"":u===null?Wa(c,t):Array.isArray(u)?u.length===0&&t.arrayFormat==="bracket-separator"?Wa(c,t)+"[]":u.reduce(o(c),[]).join("&"):Wa(c,t)+"="+Wa(u,t)}).filter(c=>c.length>0).join("&")}function Ife(e,t){var s;t={decode:!0,...t};let[n,o]=Cfe(e,"#");return n===void 0&&(n=e),{url:((s=n==null?void 0:n.split("?"))==null?void 0:s[0])??"",query:U3(W3(e),t),...t&&t.parseFragmentIdentifier&&o?{fragmentIdentifier:Jm(o,t)}:{}}}function Tfe(e,t){t={encode:!0,strict:!0,[m$]:!0,...t};const n=vfe(e.url).split("?")[0]||"",o=W3(e.url),s={...U3(o,{sort:!1}),...e.query};let i=jfe(s,t);i&&(i=`?${i}`);let c=kot(e.url);if(e.fragmentIdentifier){const u=new URL(n);u.hash=e.fragmentIdentifier,c=t[m$]?u.hash:`#${e.fragmentIdentifier}`}return`${n}${i}${c}`}function Ofe(e,t,n){n={parseFragmentIdentifier:!0,[m$]:!1,...n};const{url:o,query:s,fragmentIdentifier:i}=Ife(e,n);return Tfe({url:o,query:Oot(s,t),fragmentIdentifier:i},n)}function Aot(e,t,n){const o=Array.isArray(t)?s=>!t.includes(s):(s,i)=>!t(s,i);return Ofe(e,o,n)}const Hr=Object.freeze(Object.defineProperty({__proto__:null,exclude:Aot,extract:W3,parse:U3,parseUrl:Ife,pick:Ofe,stringify:jfe,stringifyUrl:Tfe},Symbol.toStringTag,{value:"Module"})),ln=a.createContext(),Not=()=>{const e=mD(),t=a.useCallback((c,u,d)=>{let p=u?`/jota-t/${c.startsWith("/")?"":"/"}${c}`:c;return p=`${p}${d?"?"+Hr.stringify(d):""}`,p},[]),n=a.useCallback((c,u)=>`${c}${u?"?"+Hr.stringify(u):""}`,[]),o=a.useCallback((c,{params:u,replace:d=!1,timeout:p=-1,...m}={})=>{const f=n(c,u);if(console.log(`redirecting to ${f}`),p>-1)return setTimeout(()=>{e(f,{replace:d,...m})},p);e(f,{replace:d})},[n,e]),s=a.useCallback((c,u)=>o(c,{...u}),[o]),i=a.useCallback((c,{params:u}={})=>{const d=n(c,u);window.location.href=d},[n]);return{redirectTo:s,redirectToExternal:i,getFullPath:t}};/*! js-cookie v3.0.5 | MIT */function oP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)e[o]=n[o]}return e}var Fot={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function f$(e,t){function n(s,i,c){if(!(typeof document>"u")){c=oP({},t,c),typeof c.expires=="number"&&(c.expires=new Date(Date.now()+c.expires*864e5)),c.expires&&(c.expires=c.expires.toUTCString()),s=encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var u="";for(var d in c)c[d]&&(u+="; "+d,c[d]!==!0&&(u+="="+c[d].split(";")[0]));return document.cookie=s+"="+e.write(i,s)+u}}function o(s){if(!(typeof document>"u"||arguments.length&&!s)){for(var i=document.cookie?document.cookie.split("; "):[],c={},u=0;u<i.length;u++){var d=i[u].split("="),p=d.slice(1).join("=");try{var m=decodeURIComponent(d[0]);if(c[m]=e.read(p,m),s===m)break}catch{}}return s?c[s]:c}}return Object.create({set:n,get:o,remove:function(s,i){n(s,"",oP({},i,{expires:-1}))},withAttributes:function(s){return f$(this.converter,oP({},this.attributes,s))},withConverter:function(s){return f$(oP({},this.converter,s),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var Ua=f$(Fot,{path:"/"});const Mot="modules",_ot={MODULES:Mot},Nn={REQUIRED:eb[600],BG:$c[100],PRIMARY:YP[700],SECONDARY:VI[500],HEADING:"#777777",HOVER:"rgba(0,0,0,0.1)",TOOLBAR:"rgb(0,0,0,0.08)",CONTRAST_TEXT:"rgba(255,255,255, 0.9)",SUCCESS:Ym[400],SCOPE_DEPT:YP[700],SCOPE_BRANCH_HQ:Zm[300],SCOPE_HQ:Qm[500],SCOPE_SYS:VI[500],SCOPE_ROOT:Xg[500],ICON_BG:$c[500],GREY:$c[300],PURPLE:"#7e5a9f",DISABLED:$c[300],CHECKBOX:$c[300],DIALOG_BG:jWe[50]},Lot="landing",$ot="login",Bot="imp",Wot="spwn",Uot="ac",qot="LogKey",Vot="rememberMe",zot="~~",Wy=Object.freeze({DEPT:0,BRANCH_HQ:1,HQ:2,SYS:3,ROOT:4}),h$=Object.freeze({[Wy.DEPT]:"",[Wy.BRANCH_HQ]:"",[Wy.HQ]:"",[Wy.SYS]:"",[Wy.ROOT]:""}),Hot={path:"/jota-t",expires:365},Got={path:"/jota-t",expires:365},Efe=Object.keys(h$).map(e=>({id:parseInt(e),label:h$[e]})),Kot=e=>{if(!e)return"";const{label:t}=e;return`${t}`},Qot=(e,t)=>e.id===t.id,Yot=e=>e==null?void 0:e.id,Jot=e=>Efe.find(t=>t.id===e),fR=Object.freeze({INS:"",UPD:"",PRT:"",DEL:"",USI:"",CHK:"",NCK:""}),g$=3,Xot=[0,...Object.keys(fR).map((e,t)=>t+g$)],Zot=(e,t)=>{let n=null;for(const o in e){const c=e[o].items.find(u=>u.id===t);if(c){n=c;break}}return n},est=e=>({canRead:e.INQ==="1",canCreate:e.INS==="1",canUpdate:e.UPD==="1",canDelete:e.DEL==="1",canPrint:e.PRT==="1",canManage:e.USI==="1",canReview:e.CHK==="1",canReject:e.NCK==="1",canRun:e.RUN==="1",canExport:e.EXP==="1",canImport:e.IMP==="1"}),tst=e=>{switch(parseInt(e)){case Tn.SCOPES.ROOT:return Nn.SCOPE_ROOT;case Tn.SCOPES.SYS:return Nn.SCOPE_SYS;case Tn.SCOPES.HQ:return Nn.SCOPE_HQ;case Tn.SCOPES.BRANCH_HQ:return Nn.SCOPE_BRANCH_HQ;case Tn.SCOPES.DEPT:default:return Nn.SCOPE_DEPT}},nst=({col:e,row:t})=>Xot.includes(e),rst=e=>{const t=Object.keys(fR);return e>=g$?t[e-g$]:void 0},Tn={getItemById:Zot,COOKIE_LANDING:Lot,COOKIE_LOGIN:$ot,COOKIE_IMPERSONATE:Bot,COOKIE_SPAWN:Wot,COOKIE_ACCOUNT:Uot,COOKIE_LOGKEY:qot,COOKIE_REMEMBER_ME:Vot,FUNCTIONS:fR,...fR,transformPayloadToAuthority:est,SCOPES:Wy,SCOPE_LABELS:h$,AUTH_SCOPE_OPTIONS:Efe,getOptionLabel:Kot,isOptionEqualToValue:Qot,getOptionKey:Yot,ROOT_COOKIE_OPTS:Hot,AUTH_COOKIE_OPTS:Got,findById:Jot,getHeaderColor:tst,isCheckboxColumn:nst,getFunctionKeyByIndex:rst,MAGIC_PREFIX:zot},nm=()=>{const{redirectTo:e}=Not(),t=a.useContext(cr),{getSessionCookie:n}=a.useContext(Qh)??{},o=a.useCallback(()=>{e("/renew")},[e]),s=a.useCallback(({reloadAuthorities:h=!1}={})=>{e("/home",{replace:!0,params:{...h&&{reload:1}}})},[e]),i=a.useCallback((h={})=>{const{clearSession:g=!0}=h;g&&(Ua.remove(Tn.COOKIE_LOGKEY,Tn.ROOT_COOKIE_OPTS),sessionStorage.removeItem(Tn.COOKIE_LOGKEY));const x=n(Tn.COOKIE_LOGIN);if(x){e(x,{replace:!0});return}const y=sessionStorage.getItem(Tn.COOKIE_IMPERSONATE)==1;e(y?"/auth/signinx":"/auth/signin",{replace:!0})},[n,e]),c=a.useCallback((h,g)=>{t==null||t.cancelAction(),e(`/${_ot.MODULES}/${h}`,{...g&&{params:g}})},[t,e]),u=a.useCallback(h=>{e(`/${h}`)},[e]),d=a.useCallback(()=>{u("home")},[u]),p=a.useCallback(()=>{u("msgs")},[u]),m=a.useCallback(()=>{u("settings")},[u]),f=a.useCallback(()=>{u("forbidden")},[u]);return{toLanding:s,toLogin:i,toModule:c,toRoot:u,toHome:d,toMessages:p,toRenew:o,toForbidden:f,gotoSettings:m}};var WR;const $I=class $I{constructor(t){fr(this,"toString",()=>this.code);if(!t)throw new Error("http status is not specified ");this.code=t;for(const[n,o]of Object.entries(rne($I,WR)))Object.defineProperty(this,o,{get:()=>this.code===parseInt(n)})}static from(t){return new $I(t)}is2xx(){return Math.floor(this.code/100)===2}is3xx(){return Math.floor(this.code/100)===3}is4xx(){return Math.floor(this.code/100)===4}is5xx(){return Math.floor(this.code/100)===5}get success(){return this.is2xx()}get redirectional(){return this.is3xx()}get clientError(){return this.is4xx()}get serverError(){return this.is5xx()}};WR=new WeakMap,one($I,WR,{100:"continue",200:"ok",201:"created",300:"multipleChoices",301:"movedPermanently",400:"badRequest",401:"unauthorized",403:"forbidden",404:"notFound",500:"internalServerError"});let hR=$I;class Pfe extends Error{constructor({code:t,message:n,status:o,statusText:s,stack:i,type:c,data:u,...d}={}){super(n),this.name="WebApiError",this.code=t,this.status=o,this.statusText=s,this.stack=i,this.type=c,this.data=u,this.extra=d,Object.assign(this,d)}transform(t){const n=t[this.status];return n&&(this.statusText=n),this}toJSON(){return{...this.code&&{code:this.code},message:this.message,status:this.status,...this.stack&&{stack:this.stack},...this.type&&{type:this.type},...this.data&&{data:this.data},...this.extra}}}function ost(e){try{return JSON.parse(e),!0}catch{return!1}}const sst=e=>{var n,o;const t=new Pfe(e.message);return t.status=(n=e.response)==null?void 0:n.status,t.statusText=(o=e.response)==null?void 0:o.statusText,t.type=e.name,t.stack=e.stack,console.log("getErrorFromAxiosError",t),t},Rfe=(e,t)=>{const{withStackTtrace:n=!1}=t||{};if(!e){const{status:w,statusText:A}=t;return{...w&&{status:w},...A&&{statusText:A}}}const{code:o,Code:s,message:i,Message:c,type:u,Type:d,stack:p,Stack:m,status:f,statusText:h,Status:g,StatusText:x,data:y}=e,D=new Pfe,v=o||s;v&&(D.code=v);const T=i||c;T&&(D.message=T);const I=u||d;I&&(D.type=I);const P=p||m;n&&P&&(D.stack=P);const E=f||g||(t==null?void 0:t.status);E&&(D.status=E);const k=h||x||(t==null?void 0:t.statusText);return k&&(D.statusText=k),y&&(D.data=y),console.log("getErrorFromPayload",D),D},ast=(e,t)=>({status:e.code,message:t.data||t.statusText}),ist=(e,t,n)=>{const o=t.data;return ost(o)?Rfe(o,n):ast(e,t)},lst=(e,t)=>{const n=t[e.status];if(e instanceof Error){const{name:s,message:i,stack:c}=e;return{name:s,message:i,stack:c,...n&&{statusText:n}}}const o={...e,...n&&{statusText:n}};return console.log("result",o),o},R_={getErrorFromPayload:Rfe,mapStatusText:lst,getErrorFromResponse:ist,getErrorFromAxiosError:sst};function wfe(e,t){return function(){return e.apply(t,arguments)}}const{toString:cst}=Object.prototype,{getPrototypeOf:q3}=Object,{iterator:Ew,toStringTag:kfe}=Symbol,Pw=(e=>t=>{const n=cst.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Kd=e=>(e=e.toLowerCase(),t=>Pw(t)===e),Rw=e=>t=>typeof t===e,{isArray:jD}=Array,OC=Rw("undefined");function $T(e){return e!==null&&!OC(e)&&e.constructor!==null&&!OC(e.constructor)&&tc(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Afe=Kd("ArrayBuffer");function ust(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Afe(e.buffer),t}const dst=Rw("string"),tc=Rw("function"),Nfe=Rw("number"),BT=e=>e!==null&&typeof e=="object",pst=e=>e===!0||e===!1,FP=e=>{if(Pw(e)!=="object")return!1;const t=q3(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(kfe in e)&&!(Ew in e)},mst=e=>{if(!BT(e)||$T(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},fst=Kd("Date"),hst=Kd("File"),gst=Kd("Blob"),bst=Kd("FileList"),xst=e=>BT(e)&&tc(e.pipe),yst=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||tc(e.append)&&((t=Pw(e))==="formdata"||t==="object"&&tc(e.toString)&&e.toString()==="[object FormData]"))},Cst=Kd("URLSearchParams"),[Dst,Sst,vst,jst]=["ReadableStream","Request","Response","Headers"].map(Kd),Ist=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function WT(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let o,s;if(typeof e!="object"&&(e=[e]),jD(e))for(o=0,s=e.length;o<s;o++)t.call(null,e[o],o,e);else{if($T(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),c=i.length;let u;for(o=0;o<c;o++)u=i[o],t.call(null,e[u],u,e)}}function Ffe(e,t){if($T(e))return null;t=t.toLowerCase();const n=Object.keys(e);let o=n.length,s;for(;o-- >0;)if(s=n[o],t===s.toLowerCase())return s;return null}const mb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Mfe=e=>!OC(e)&&e!==mb;function b$(){const{caseless:e,skipUndefined:t}=Mfe(this)&&this||{},n={},o=(s,i)=>{const c=e&&Ffe(n,i)||i;FP(n[c])&&FP(s)?n[c]=b$(n[c],s):FP(s)?n[c]=b$({},s):jD(s)?n[c]=s.slice():(!t||!OC(s))&&(n[c]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&WT(arguments[s],o);return n}const Tst=(e,t,n,{allOwnKeys:o}={})=>(WT(t,(s,i)=>{n&&tc(s)?e[i]=wfe(s,n):e[i]=s},{allOwnKeys:o}),e),Ost=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Est=(e,t,n,o)=>{e.prototype=Object.create(t.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Pst=(e,t,n,o)=>{let s,i,c;const u={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)c=s[i],(!o||o(c,e,t))&&!u[c]&&(t[c]=e[c],u[c]=!0);e=n!==!1&&q3(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Rst=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const o=e.indexOf(t,n);return o!==-1&&o===n},wst=e=>{if(!e)return null;if(jD(e))return e;let t=e.length;if(!Nfe(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},kst=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&q3(Uint8Array)),Ast=(e,t)=>{const o=(e&&e[Ew]).call(e);let s;for(;(s=o.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},Nst=(e,t)=>{let n;const o=[];for(;(n=e.exec(t))!==null;)o.push(n);return o},Fst=Kd("HTMLFormElement"),Mst=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,o,s){return o.toUpperCase()+s}),qoe=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),_st=Kd("RegExp"),_fe=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),o={};WT(n,(s,i)=>{let c;(c=t(s,i,e))!==!1&&(o[i]=c||s)}),Object.defineProperties(e,o)},Lst=e=>{_fe(e,(t,n)=>{if(tc(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const o=e[n];if(tc(o)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},$st=(e,t)=>{const n={},o=s=>{s.forEach(i=>{n[i]=!0})};return jD(e)?o(e):o(String(e).split(t)),n},Bst=()=>{},Wst=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Ust(e){return!!(e&&tc(e.append)&&e[kfe]==="FormData"&&e[Ew])}const qst=e=>{const t=new Array(10),n=(o,s)=>{if(BT(o)){if(t.indexOf(o)>=0)return;if($T(o))return o;if(!("toJSON"in o)){t[s]=o;const i=jD(o)?[]:{};return WT(o,(c,u)=>{const d=n(c,s+1);!OC(d)&&(i[u]=d)}),t[s]=void 0,i}}return o};return n(e,0)},Vst=Kd("AsyncFunction"),zst=e=>e&&(BT(e)||tc(e))&&tc(e.then)&&tc(e.catch),Lfe=((e,t)=>e?setImmediate:t?((n,o)=>(mb.addEventListener("message",({source:s,data:i})=>{s===mb&&i===n&&o.length&&o.shift()()},!1),s=>{o.push(s),mb.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",tc(mb.postMessage)),Hst=typeof queueMicrotask<"u"?queueMicrotask.bind(mb):typeof process<"u"&&process.nextTick||Lfe,Gst=e=>e!=null&&tc(e[Ew]),Qt={isArray:jD,isArrayBuffer:Afe,isBuffer:$T,isFormData:yst,isArrayBufferView:ust,isString:dst,isNumber:Nfe,isBoolean:pst,isObject:BT,isPlainObject:FP,isEmptyObject:mst,isReadableStream:Dst,isRequest:Sst,isResponse:vst,isHeaders:jst,isUndefined:OC,isDate:fst,isFile:hst,isBlob:gst,isRegExp:_st,isFunction:tc,isStream:xst,isURLSearchParams:Cst,isTypedArray:kst,isFileList:bst,forEach:WT,merge:b$,extend:Tst,trim:Ist,stripBOM:Ost,inherits:Est,toFlatObject:Pst,kindOf:Pw,kindOfTest:Kd,endsWith:Rst,toArray:wst,forEachEntry:Ast,matchAll:Nst,isHTMLForm:Fst,hasOwnProperty:qoe,hasOwnProp:qoe,reduceDescriptors:_fe,freezeMethods:Lst,toObjectSet:$st,toCamelCase:Mst,noop:Bst,toFiniteNumber:Wst,findKey:Ffe,global:mb,isContextDefined:Mfe,isSpecCompliantForm:Ust,toJSONObject:qst,isAsyncFn:Vst,isThenable:zst,setImmediate:Lfe,asap:Hst,isIterable:Gst};function oo(e,t,n,o,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),o&&(this.request=o),s&&(this.response=s,this.status=s.status?s.status:null)}Qt.inherits(oo,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Qt.toJSONObject(this.config),code:this.code,status:this.status}}});const $fe=oo.prototype,Bfe={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Bfe[e]={value:e}});Object.defineProperties(oo,Bfe);Object.defineProperty($fe,"isAxiosError",{value:!0});oo.from=(e,t,n,o,s,i)=>{const c=Object.create($fe);Qt.toFlatObject(e,c,function(m){return m!==Error.prototype},p=>p!=="isAxiosError");const u=e&&e.message?e.message:"Error",d=t==null&&e?e.code:t;return oo.call(c,u,d,n,o,s),e&&c.cause==null&&Object.defineProperty(c,"cause",{value:e,configurable:!0}),c.name=e&&e.name||"Error",i&&Object.assign(c,i),c};const Kst=null;function x$(e){return Qt.isPlainObject(e)||Qt.isArray(e)}function Wfe(e){return Qt.endsWith(e,"[]")?e.slice(0,-2):e}function Voe(e,t,n){return e?e.concat(t).map(function(s,i){return s=Wfe(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function Qst(e){return Qt.isArray(e)&&!e.some(x$)}const Yst=Qt.toFlatObject(Qt,{},null,function(t){return/^is[A-Z]/.test(t)});function ww(e,t,n){if(!Qt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Qt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,D){return!Qt.isUndefined(D[y])});const o=n.metaTokens,s=n.visitor||m,i=n.dots,c=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&Qt.isSpecCompliantForm(t);if(!Qt.isFunction(s))throw new TypeError("visitor must be a function");function p(x){if(x===null)return"";if(Qt.isDate(x))return x.toISOString();if(Qt.isBoolean(x))return x.toString();if(!d&&Qt.isBlob(x))throw new oo("Blob is not supported. Use a Buffer instead.");return Qt.isArrayBuffer(x)||Qt.isTypedArray(x)?d&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function m(x,y,D){let v=x;if(x&&!D&&typeof x=="object"){if(Qt.endsWith(y,"{}"))y=o?y:y.slice(0,-2),x=JSON.stringify(x);else if(Qt.isArray(x)&&Qst(x)||(Qt.isFileList(x)||Qt.endsWith(y,"[]"))&&(v=Qt.toArray(x)))return y=Wfe(y),v.forEach(function(I,P){!(Qt.isUndefined(I)||I===null)&&t.append(c===!0?Voe([y],P,i):c===null?y:y+"[]",p(I))}),!1}return x$(x)?!0:(t.append(Voe(D,y,i),p(x)),!1)}const f=[],h=Object.assign(Yst,{defaultVisitor:m,convertValue:p,isVisitable:x$});function g(x,y){if(!Qt.isUndefined(x)){if(f.indexOf(x)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(x),Qt.forEach(x,function(v,T){(!(Qt.isUndefined(v)||v===null)&&s.call(t,v,Qt.isString(T)?T.trim():T,y,h))===!0&&g(v,y?y.concat(T):[T])}),f.pop()}}if(!Qt.isObject(e))throw new TypeError("data must be an object");return g(e),t}function zoe(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(o){return t[o]})}function V3(e,t){this._pairs=[],e&&ww(e,this,t)}const Ufe=V3.prototype;Ufe.append=function(t,n){this._pairs.push([t,n])};Ufe.toString=function(t){const n=t?function(o){return t.call(this,o,zoe)}:zoe;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function Jst(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function qfe(e,t,n){if(!t)return e;const o=n&&n.encode||Jst;Qt.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=Qt.isURLSearchParams(t)?t.toString():new V3(t,n).toString(o),i){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Hoe{constructor(){this.handlers=[]}use(t,n,o){return this.handlers.push({fulfilled:t,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Qt.forEach(this.handlers,function(o){o!==null&&t(o)})}}const Vfe={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Xst=typeof URLSearchParams<"u"?URLSearchParams:V3,Zst=typeof FormData<"u"?FormData:null,eat=typeof Blob<"u"?Blob:null,tat={isBrowser:!0,classes:{URLSearchParams:Xst,FormData:Zst,Blob:eat},protocols:["http","https","file","blob","url","data"]},z3=typeof window<"u"&&typeof document<"u",y$=typeof navigator=="object"&&navigator||void 0,nat=z3&&(!y$||["ReactNative","NativeScript","NS"].indexOf(y$.product)<0),rat=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",oat=z3&&window.location.href||"http://localhost",sat=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:z3,hasStandardBrowserEnv:nat,hasStandardBrowserWebWorkerEnv:rat,navigator:y$,origin:oat},Symbol.toStringTag,{value:"Module"})),il={...sat,...tat};function aat(e,t){return ww(e,new il.classes.URLSearchParams,{visitor:function(n,o,s,i){return il.isNode&&Qt.isBuffer(n)?(this.append(o,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function iat(e){return Qt.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function lat(e){const t={},n=Object.keys(e);let o;const s=n.length;let i;for(o=0;o<s;o++)i=n[o],t[i]=e[i];return t}function zfe(e){function t(n,o,s,i){let c=n[i++];if(c==="__proto__")return!0;const u=Number.isFinite(+c),d=i>=n.length;return c=!c&&Qt.isArray(s)?s.length:c,d?(Qt.hasOwnProp(s,c)?s[c]=[s[c],o]:s[c]=o,!u):((!s[c]||!Qt.isObject(s[c]))&&(s[c]=[]),t(n,o,s[c],i)&&Qt.isArray(s[c])&&(s[c]=lat(s[c])),!u)}if(Qt.isFormData(e)&&Qt.isFunction(e.entries)){const n={};return Qt.forEachEntry(e,(o,s)=>{t(iat(o),s,n,0)}),n}return null}function cat(e,t,n){if(Qt.isString(e))try{return(t||JSON.parse)(e),Qt.trim(e)}catch(o){if(o.name!=="SyntaxError")throw o}return(n||JSON.stringify)(e)}const UT={transitional:Vfe,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const o=n.getContentType()||"",s=o.indexOf("application/json")>-1,i=Qt.isObject(t);if(i&&Qt.isHTMLForm(t)&&(t=new FormData(t)),Qt.isFormData(t))return s?JSON.stringify(zfe(t)):t;if(Qt.isArrayBuffer(t)||Qt.isBuffer(t)||Qt.isStream(t)||Qt.isFile(t)||Qt.isBlob(t)||Qt.isReadableStream(t))return t;if(Qt.isArrayBufferView(t))return t.buffer;if(Qt.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(i){if(o.indexOf("application/x-www-form-urlencoded")>-1)return aat(t,this.formSerializer).toString();if((u=Qt.isFileList(t))||o.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return ww(u?{"files[]":t}:t,d&&new d,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),cat(t)):t}],transformResponse:[function(t){const n=this.transitional||UT.transitional,o=n&&n.forcedJSONParsing,s=this.responseType==="json";if(Qt.isResponse(t)||Qt.isReadableStream(t))return t;if(t&&Qt.isString(t)&&(o&&!this.responseType||s)){const c=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(u){if(c)throw u.name==="SyntaxError"?oo.from(u,oo.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:il.classes.FormData,Blob:il.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Qt.forEach(["delete","get","head","post","put","patch"],e=>{UT.headers[e]={}});const uat=Qt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),dat=e=>{const t={};let n,o,s;return e&&e.split(`
`).forEach(function(c){s=c.indexOf(":"),n=c.substring(0,s).trim().toLowerCase(),o=c.substring(s+1).trim(),!(!n||t[n]&&uat[n])&&(n==="set-cookie"?t[n]?t[n].push(o):t[n]=[o]:t[n]=t[n]?t[n]+", "+o:o)}),t},Goe=Symbol("internals");function O0(e){return e&&String(e).trim().toLowerCase()}function MP(e){return e===!1||e==null?e:Qt.isArray(e)?e.map(MP):String(e)}function pat(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(e);)t[o[1]]=o[2];return t}const mat=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function w_(e,t,n,o,s){if(Qt.isFunction(o))return o.call(this,t,n);if(s&&(t=n),!!Qt.isString(t)){if(Qt.isString(o))return t.indexOf(o)!==-1;if(Qt.isRegExp(o))return o.test(t)}}function fat(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,o)=>n.toUpperCase()+o)}function hat(e,t){const n=Qt.toCamelCase(" "+t);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+n,{value:function(s,i,c){return this[o].call(this,t,s,i,c)},configurable:!0})})}let nc=class{constructor(t){t&&this.set(t)}set(t,n,o){const s=this;function i(u,d,p){const m=O0(d);if(!m)throw new Error("header name must be a non-empty string");const f=Qt.findKey(s,m);(!f||s[f]===void 0||p===!0||p===void 0&&s[f]!==!1)&&(s[f||d]=MP(u))}const c=(u,d)=>Qt.forEach(u,(p,m)=>i(p,m,d));if(Qt.isPlainObject(t)||t instanceof this.constructor)c(t,n);else if(Qt.isString(t)&&(t=t.trim())&&!mat(t))c(dat(t),n);else if(Qt.isObject(t)&&Qt.isIterable(t)){let u={},d,p;for(const m of t){if(!Qt.isArray(m))throw TypeError("Object iterator must return a key-value pair");u[p=m[0]]=(d=u[p])?Qt.isArray(d)?[...d,m[1]]:[d,m[1]]:m[1]}c(u,n)}else t!=null&&i(n,t,o);return this}get(t,n){if(t=O0(t),t){const o=Qt.findKey(this,t);if(o){const s=this[o];if(!n)return s;if(n===!0)return pat(s);if(Qt.isFunction(n))return n.call(this,s,o);if(Qt.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=O0(t),t){const o=Qt.findKey(this,t);return!!(o&&this[o]!==void 0&&(!n||w_(this,this[o],o,n)))}return!1}delete(t,n){const o=this;let s=!1;function i(c){if(c=O0(c),c){const u=Qt.findKey(o,c);u&&(!n||w_(o,o[u],u,n))&&(delete o[u],s=!0)}}return Qt.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let o=n.length,s=!1;for(;o--;){const i=n[o];(!t||w_(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,o={};return Qt.forEach(this,(s,i)=>{const c=Qt.findKey(o,i);if(c){n[c]=MP(s),delete n[i];return}const u=t?fat(i):String(i).trim();u!==i&&delete n[i],n[u]=MP(s),o[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Qt.forEach(this,(o,s)=>{o!=null&&o!==!1&&(n[s]=t&&Qt.isArray(o)?o.join(", "):o)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const o=new this(t);return n.forEach(s=>o.set(s)),o}static accessor(t){const o=(this[Goe]=this[Goe]={accessors:{}}).accessors,s=this.prototype;function i(c){const u=O0(c);o[u]||(hat(s,c),o[u]=!0)}return Qt.isArray(t)?t.forEach(i):i(t),this}};nc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Qt.reduceDescriptors(nc.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(o){this[n]=o}}});Qt.freezeMethods(nc);function k_(e,t){const n=this||UT,o=t||n,s=nc.from(o.headers);let i=o.data;return Qt.forEach(e,function(u){i=u.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function Hfe(e){return!!(e&&e.__CANCEL__)}function ID(e,t,n){oo.call(this,e??"canceled",oo.ERR_CANCELED,t,n),this.name="CanceledError"}Qt.inherits(ID,oo,{__CANCEL__:!0});function Gfe(e,t,n){const o=n.config.validateStatus;!n.status||!o||o(n.status)?e(n):t(new oo("Request failed with status code "+n.status,[oo.ERR_BAD_REQUEST,oo.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function gat(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function bat(e,t){e=e||10;const n=new Array(e),o=new Array(e);let s=0,i=0,c;return t=t!==void 0?t:1e3,function(d){const p=Date.now(),m=o[i];c||(c=p),n[s]=d,o[s]=p;let f=i,h=0;for(;f!==s;)h+=n[f++],f=f%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),p-c<t)return;const g=m&&p-m;return g?Math.round(h*1e3/g):void 0}}function xat(e,t){let n=0,o=1e3/t,s,i;const c=(p,m=Date.now())=>{n=m,s=null,i&&(clearTimeout(i),i=null),e(...p)};return[(...p)=>{const m=Date.now(),f=m-n;f>=o?c(p,m):(s=p,i||(i=setTimeout(()=>{i=null,c(s)},o-f)))},()=>s&&c(s)]}const gR=(e,t,n=3)=>{let o=0;const s=bat(50,250);return xat(i=>{const c=i.loaded,u=i.lengthComputable?i.total:void 0,d=c-o,p=s(d),m=c<=u;o=c;const f={loaded:c,total:u,progress:u?c/u:void 0,bytes:d,rate:p||void 0,estimated:p&&u&&m?(u-c)/p:void 0,event:i,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(f)},n)},Koe=(e,t)=>{const n=e!=null;return[o=>t[0]({lengthComputable:n,total:e,loaded:o}),t[1]]},Qoe=e=>(...t)=>Qt.asap(()=>e(...t)),yat=il.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,il.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(il.origin),il.navigator&&/(msie|trident)/i.test(il.navigator.userAgent)):()=>!0,Cat=il.hasStandardBrowserEnv?{write(e,t,n,o,s,i){const c=[e+"="+encodeURIComponent(t)];Qt.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),Qt.isString(o)&&c.push("path="+o),Qt.isString(s)&&c.push("domain="+s),i===!0&&c.push("secure"),document.cookie=c.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Dat(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Sat(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Kfe(e,t,n){let o=!Dat(t);return e&&(o||n==!1)?Sat(e,t):t}const Yoe=e=>e instanceof nc?{...e}:e;function Mb(e,t){t=t||{};const n={};function o(p,m,f,h){return Qt.isPlainObject(p)&&Qt.isPlainObject(m)?Qt.merge.call({caseless:h},p,m):Qt.isPlainObject(m)?Qt.merge({},m):Qt.isArray(m)?m.slice():m}function s(p,m,f,h){if(Qt.isUndefined(m)){if(!Qt.isUndefined(p))return o(void 0,p,f,h)}else return o(p,m,f,h)}function i(p,m){if(!Qt.isUndefined(m))return o(void 0,m)}function c(p,m){if(Qt.isUndefined(m)){if(!Qt.isUndefined(p))return o(void 0,p)}else return o(void 0,m)}function u(p,m,f){if(f in t)return o(p,m);if(f in e)return o(void 0,p)}const d={url:i,method:i,data:i,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u,headers:(p,m,f)=>s(Yoe(p),Yoe(m),f,!0)};return Qt.forEach(Object.keys({...e,...t}),function(m){const f=d[m]||s,h=f(e[m],t[m],m);Qt.isUndefined(h)&&f!==u||(n[m]=h)}),n}const Qfe=e=>{const t=Mb({},e);let{data:n,withXSRFToken:o,xsrfHeaderName:s,xsrfCookieName:i,headers:c,auth:u}=t;if(t.headers=c=nc.from(c),t.url=qfe(Kfe(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&c.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),Qt.isFormData(n)){if(il.hasStandardBrowserEnv||il.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(Qt.isFunction(n.getHeaders)){const d=n.getHeaders(),p=["content-type","content-length"];Object.entries(d).forEach(([m,f])=>{p.includes(m.toLowerCase())&&c.set(m,f)})}}if(il.hasStandardBrowserEnv&&(o&&Qt.isFunction(o)&&(o=o(t)),o||o!==!1&&yat(t.url))){const d=s&&i&&Cat.read(i);d&&c.set(s,d)}return t},vat=typeof XMLHttpRequest<"u",jat=vat&&function(e){return new Promise(function(n,o){const s=Qfe(e);let i=s.data;const c=nc.from(s.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:p}=s,m,f,h,g,x;function y(){g&&g(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(m),s.signal&&s.signal.removeEventListener("abort",m)}let D=new XMLHttpRequest;D.open(s.method.toUpperCase(),s.url,!0),D.timeout=s.timeout;function v(){if(!D)return;const I=nc.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),E={data:!u||u==="text"||u==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:I,config:e,request:D};Gfe(function(w){n(w),y()},function(w){o(w),y()},E),D=null}"onloadend"in D?D.onloadend=v:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(v)},D.onabort=function(){D&&(o(new oo("Request aborted",oo.ECONNABORTED,e,D)),D=null)},D.onerror=function(P){const E=P&&P.message?P.message:"Network Error",k=new oo(E,oo.ERR_NETWORK,e,D);k.event=P||null,o(k),D=null},D.ontimeout=function(){let P=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const E=s.transitional||Vfe;s.timeoutErrorMessage&&(P=s.timeoutErrorMessage),o(new oo(P,E.clarifyTimeoutError?oo.ETIMEDOUT:oo.ECONNABORTED,e,D)),D=null},i===void 0&&c.setContentType(null),"setRequestHeader"in D&&Qt.forEach(c.toJSON(),function(P,E){D.setRequestHeader(E,P)}),Qt.isUndefined(s.withCredentials)||(D.withCredentials=!!s.withCredentials),u&&u!=="json"&&(D.responseType=s.responseType),p&&([h,x]=gR(p,!0),D.addEventListener("progress",h)),d&&D.upload&&([f,g]=gR(d),D.upload.addEventListener("progress",f),D.upload.addEventListener("loadend",g)),(s.cancelToken||s.signal)&&(m=I=>{D&&(o(!I||I.type?new ID(null,e,D):I),D.abort(),D=null)},s.cancelToken&&s.cancelToken.subscribe(m),s.signal&&(s.signal.aborted?m():s.signal.addEventListener("abort",m)));const T=gat(s.url);if(T&&il.protocols.indexOf(T)===-1){o(new oo("Unsupported protocol "+T+":",oo.ERR_BAD_REQUEST,e));return}D.send(i||null)})},Iat=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let o=new AbortController,s;const i=function(p){if(!s){s=!0,u();const m=p instanceof Error?p:this.reason;o.abort(m instanceof oo?m:new ID(m instanceof Error?m.message:m))}};let c=t&&setTimeout(()=>{c=null,i(new oo(`timeout ${t} of ms exceeded`,oo.ETIMEDOUT))},t);const u=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(i):p.removeEventListener("abort",i)}),e=null)};e.forEach(p=>p.addEventListener("abort",i));const{signal:d}=o;return d.unsubscribe=()=>Qt.asap(u),d}},Tat=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let o=0,s;for(;o<n;)s=o+t,yield e.slice(o,s),o=s},Oat=async function*(e,t){for await(const n of Eat(e))yield*Tat(n,t)},Eat=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:o}=await t.read();if(n)break;yield o}}finally{await t.cancel()}},Joe=(e,t,n,o)=>{const s=Oat(e,t);let i=0,c,u=d=>{c||(c=!0,o&&o(d))};return new ReadableStream({async pull(d){try{const{done:p,value:m}=await s.next();if(p){u(),d.close();return}let f=m.byteLength;if(n){let h=i+=f;n(h)}d.enqueue(new Uint8Array(m))}catch(p){throw u(p),p}},cancel(d){return u(d),s.return()}},{highWaterMark:2})},Xoe=64*1024,{isFunction:sP}=Qt,Pat=(({Request:e,Response:t})=>({Request:e,Response:t}))(Qt.global),{ReadableStream:Zoe,TextEncoder:ese}=Qt.global,tse=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Rat=e=>{e=Qt.merge.call({skipUndefined:!0},Pat,e);const{fetch:t,Request:n,Response:o}=e,s=t?sP(t):typeof fetch=="function",i=sP(n),c=sP(o);if(!s)return!1;const u=s&&sP(Zoe),d=s&&(typeof ese=="function"?(x=>y=>x.encode(y))(new ese):async x=>new Uint8Array(await new n(x).arrayBuffer())),p=i&&u&&tse(()=>{let x=!1;const y=new n(il.origin,{body:new Zoe,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!y}),m=c&&u&&tse(()=>Qt.isReadableStream(new o("").body)),f={stream:m&&(x=>x.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!f[x]&&(f[x]=(y,D)=>{let v=y&&y[x];if(v)return v.call(y);throw new oo(`Response type '${x}' is not supported`,oo.ERR_NOT_SUPPORT,D)})});const h=async x=>{if(x==null)return 0;if(Qt.isBlob(x))return x.size;if(Qt.isSpecCompliantForm(x))return(await new n(il.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(Qt.isArrayBufferView(x)||Qt.isArrayBuffer(x))return x.byteLength;if(Qt.isURLSearchParams(x)&&(x=x+""),Qt.isString(x))return(await d(x)).byteLength},g=async(x,y)=>{const D=Qt.toFiniteNumber(x.getContentLength());return D??h(y)};return async x=>{let{url:y,method:D,data:v,signal:T,cancelToken:I,timeout:P,onDownloadProgress:E,onUploadProgress:k,responseType:w,headers:A,withCredentials:F="same-origin",fetchOptions:_}=Qfe(x),L=t||fetch;w=w?(w+"").toLowerCase():"text";let K=Iat([T,I&&I.toAbortSignal()],P),z=null;const J=K&&K.unsubscribe&&(()=>{K.unsubscribe()});let Q;try{if(k&&p&&D!=="get"&&D!=="head"&&(Q=await g(A,v))!==0){let se=new n(y,{method:"POST",body:v,duplex:"half"}),he;if(Qt.isFormData(v)&&(he=se.headers.get("content-type"))&&A.setContentType(he),se.body){const[pe,ue]=Koe(Q,gR(Qoe(k)));v=Joe(se.body,Xoe,pe,ue)}}Qt.isString(F)||(F=F?"include":"omit");const V=i&&"credentials"in n.prototype,W={..._,signal:K,method:D.toUpperCase(),headers:A.normalize().toJSON(),body:v,duplex:"half",credentials:V?F:void 0};z=i&&new n(y,W);let U=await(i?L(z,_):L(y,W));const X=m&&(w==="stream"||w==="response");if(m&&(E||X&&J)){const se={};["status","statusText","headers"].forEach(ge=>{se[ge]=U[ge]});const he=Qt.toFiniteNumber(U.headers.get("content-length")),[pe,ue]=E&&Koe(he,gR(Qoe(E),!0))||[];U=new o(Joe(U.body,Xoe,pe,()=>{ue&&ue(),J&&J()}),se)}w=w||"text";let te=await f[Qt.findKey(f,w)||"text"](U,x);return!X&&J&&J(),await new Promise((se,he)=>{Gfe(se,he,{data:te,headers:nc.from(U.headers),status:U.status,statusText:U.statusText,config:x,request:z})})}catch(V){throw J&&J(),V&&V.name==="TypeError"&&/Load failed|fetch/i.test(V.message)?Object.assign(new oo("Network Error",oo.ERR_NETWORK,x,z),{cause:V.cause||V}):oo.from(V,V&&V.code,x,z)}}},wat=new Map,Yfe=e=>{let t=e?e.env:{};const{fetch:n,Request:o,Response:s}=t,i=[o,s,n];let c=i.length,u=c,d,p,m=wat;for(;u--;)d=i[u],p=m.get(d),p===void 0&&m.set(d,p=u?new Map:Rat(t)),m=p;return p};Yfe();const C$={http:Kst,xhr:jat,fetch:{get:Yfe}};Qt.forEach(C$,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const nse=e=>`- ${e}`,kat=e=>Qt.isFunction(e)||e===null||e===!1,Jfe={getAdapter:(e,t)=>{e=Qt.isArray(e)?e:[e];const{length:n}=e;let o,s;const i={};for(let c=0;c<n;c++){o=e[c];let u;if(s=o,!kat(o)&&(s=C$[(u=String(o)).toLowerCase()],s===void 0))throw new oo(`Unknown adapter '${u}'`);if(s&&(Qt.isFunction(s)||(s=s.get(t))))break;i[u||"#"+c]=s}if(!s){const c=Object.entries(i).map(([d,p])=>`adapter ${d} `+(p===!1?"is not supported by the environment":"is not available in the build"));let u=n?c.length>1?`since :
`+c.map(nse).join(`
`):" "+nse(c[0]):"as no adapter specified";throw new oo("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return s},adapters:C$};function A_(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ID(null,e)}function rse(e){return A_(e),e.headers=nc.from(e.headers),e.data=k_.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Jfe.getAdapter(e.adapter||UT.adapter,e)(e).then(function(o){return A_(e),o.data=k_.call(e,e.transformResponse,o),o.headers=nc.from(o.headers),o},function(o){return Hfe(o)||(A_(e),o&&o.response&&(o.response.data=k_.call(e,e.transformResponse,o.response),o.response.headers=nc.from(o.response.headers))),Promise.reject(o)})}const Xfe="1.12.2",kw={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{kw[e]=function(o){return typeof o===e||"a"+(t<1?"n ":" ")+e}});const ose={};kw.transitional=function(t,n,o){function s(i,c){return"[Axios v"+Xfe+"] Transitional option '"+i+"'"+c+(o?". "+o:"")}return(i,c,u)=>{if(t===!1)throw new oo(s(c," has been removed"+(n?" in "+n:"")),oo.ERR_DEPRECATED);return n&&!ose[c]&&(ose[c]=!0,console.warn(s(c," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,c,u):!0}};kw.spelling=function(t){return(n,o)=>(console.warn(`${o} is likely a misspelling of ${t}`),!0)};function Aat(e,t,n){if(typeof e!="object")throw new oo("options must be an object",oo.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let s=o.length;for(;s-- >0;){const i=o[s],c=t[i];if(c){const u=e[i],d=u===void 0||c(u,i,e);if(d!==!0)throw new oo("option "+i+" must be "+d,oo.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new oo("Unknown option "+i,oo.ERR_BAD_OPTION)}}const _P={assertOptions:Aat,validators:kw},Ep=_P.validators;let vb=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Hoe,response:new Hoe}}async request(t,n){try{return await this._request(t,n)}catch(o){if(o instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{o.stack?i&&!String(o.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+i):o.stack=i}catch{}}throw o}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Mb(this.defaults,n);const{transitional:o,paramsSerializer:s,headers:i}=n;o!==void 0&&_P.assertOptions(o,{silentJSONParsing:Ep.transitional(Ep.boolean),forcedJSONParsing:Ep.transitional(Ep.boolean),clarifyTimeoutError:Ep.transitional(Ep.boolean)},!1),s!=null&&(Qt.isFunction(s)?n.paramsSerializer={serialize:s}:_P.assertOptions(s,{encode:Ep.function,serialize:Ep.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),_P.assertOptions(n,{baseUrl:Ep.spelling("baseURL"),withXsrfToken:Ep.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=i&&Qt.merge(i.common,i[n.method]);i&&Qt.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),n.headers=nc.concat(c,i);const u=[];let d=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(d=d&&y.synchronous,u.unshift(y.fulfilled,y.rejected))});const p=[];this.interceptors.response.forEach(function(y){p.push(y.fulfilled,y.rejected)});let m,f=0,h;if(!d){const x=[rse.bind(this),void 0];for(x.unshift(...u),x.push(...p),h=x.length,m=Promise.resolve(n);f<h;)m=m.then(x[f++],x[f++]);return m}h=u.length;let g=n;for(;f<h;){const x=u[f++],y=u[f++];try{g=x(g)}catch(D){y.call(this,D);break}}try{m=rse.call(this,g)}catch(x){return Promise.reject(x)}for(f=0,h=p.length;f<h;)m=m.then(p[f++],p[f++]);return m}getUri(t){t=Mb(this.defaults,t);const n=Kfe(t.baseURL,t.url,t.allowAbsoluteUrls);return qfe(n,t.params,t.paramsSerializer)}};Qt.forEach(["delete","get","head","options"],function(t){vb.prototype[t]=function(n,o){return this.request(Mb(o||{},{method:t,url:n,data:(o||{}).data}))}});Qt.forEach(["post","put","patch"],function(t){function n(o){return function(i,c,u){return this.request(Mb(u||{},{method:t,headers:o?{"Content-Type":"multipart/form-data"}:{},url:i,data:c}))}}vb.prototype[t]=n(),vb.prototype[t+"Form"]=n(!0)});let Nat=class Zfe{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const o=this;this.promise.then(s=>{if(!o._listeners)return;let i=o._listeners.length;for(;i-- >0;)o._listeners[i](s);o._listeners=null}),this.promise.then=s=>{let i;const c=new Promise(u=>{o.subscribe(u),i=u}).then(s);return c.cancel=function(){o.unsubscribe(i)},c},t(function(i,c,u){o.reason||(o.reason=new ID(i,c,u),n(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=o=>{t.abort(o)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Zfe(function(s){t=s}),cancel:t}}};function Fat(e){return function(n){return e.apply(null,n)}}function Mat(e){return Qt.isObject(e)&&e.isAxiosError===!0}const D$={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(D$).forEach(([e,t])=>{D$[t]=e});function ehe(e){const t=new vb(e),n=wfe(vb.prototype.request,t);return Qt.extend(n,vb.prototype,t,{allOwnKeys:!0}),Qt.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return ehe(Mb(e,s))},n}const Pa=ehe(UT);Pa.Axios=vb;Pa.CanceledError=ID;Pa.CancelToken=Nat;Pa.isCancel=Hfe;Pa.VERSION=Xfe;Pa.toFormData=ww;Pa.AxiosError=oo;Pa.Cancel=Pa.CanceledError;Pa.all=function(t){return Promise.all(t)};Pa.spread=Fat;Pa.isAxiosError=Mat;Pa.mergeConfig=Mb;Pa.AxiosHeaders=nc;Pa.formToJSON=e=>zfe(Qt.isHTMLForm(e)?new FormData(e):e);Pa.getAdapter=Jfe.getAdapter;Pa.HttpStatusCode=D$;Pa.default=Pa;const{Axios:MGt,AxiosError:_Gt,CanceledError:LGt,isCancel:$Gt,CancelToken:BGt,VERSION:WGt,all:UGt,Cancel:qGt,isAxiosError:VGt,spread:zGt,toFormData:HGt,AxiosHeaders:GGt,HttpStatusCode:KGt,formToJSON:QGt,getAdapter:YGt,mergeConfig:JGt}=Pa,the=e=>typeof e=="string"||e instanceof String,_at=e=>typeof e=="object",nhe=e=>typeof e=="number",Lat=e=>Array.isArray(e),$at=e=>typeof e=="function",Bat=e=>e instanceof Promise,rhe=e=>typeof e=="boolean",Wat=e=>the(e)||nhe(e)||rhe(e),Oo={isString:the,isObject:_at,isNumber:nhe,isArray:Lat,isFunction:$at,isBoolean:rhe,isLiteral:Wat,isPromise:Bat},Uat=()=>{let e=sessionStorage.getItem("LogKey");return e?{LogKey:e}:null},qat={"Content-Type":"application/json"},Vat={"Content-Type":"multipart/form-data"},zat={headers:!1};function Zn(e){const{baseUrl:t,mode:n="json",withStack:o=!1,headers:s=Uat}=e||{},i=a.useContext(ln),c=a.useMemo(()=>t||i.API_URL||void 0||"/",[t,i.API_URL]),u=a.useCallback((x,y)=>{if(x==null)return null;if(!c){console.error("baseUrl and REACT_APP_URL_API are both empty");return}let D=`${c.substring(0,1)==="/"?"":"/"}${c.substring(c.length-1)==="/"?`${c.substring(0,c.length-1)}`:c}/${x.substring(0,1)==="/"?x.substring(1):x}`;return y&&(D+="?"+Hr.stringify(y)),D},[c]),d=a.useCallback(async({url:x,method:y="get",data:D,params:v,headers:T,bearer:I,mode:P=n,...E},k={})=>{var J,Q;const{response:w=zat}=k,A=u(x);if(!A)throw"url cannot be null";const F=y.toUpperCase(),L=F==="GET"&&!v&&!!D?D:v;console.log(`${F} ${A}`),v&&console.log("	params",v),D&&console.log("	data",D);let K;if(P==="form"){K=new FormData;for(const V in D)K.append(V,D[V]);console.log("formData",K)}const z=F!=="GET"&&P!=="form";try{const V=await Pa({url:A,method:y,...z&&{data:D},...P==="form"&&{data:K},params:L,headers:{...P==="json"&&qat,...P==="form"&&Vat,...Oo.isFunction(s)?s():s,...Oo.isFunction(T)?T():T,...!!I&&{Authorization:`bearer ${I}`}},...E}),W=hR.from(V.status);return console.log(`	[${W.code}]`,V),W.is2xx?{status:W,payload:V.data,...w.headers&&{headers:V.headers}}:{status:W,error:R_.getErrorFromResponse(W,V,{withStack:o,status:W.code,statusText:V.statusText})}}catch(V){return console.error(`sendAsync[${y}]`,V),{status:hR.from(((J=V.response)==null?void 0:J.status)||500),error:(Q=V.response)!=null&&Q.data?R_.getErrorFromPayload(V.response.data,{withStack:o,status:V.response.status,statusText:V.response.statusText}):R_.getErrorFromAxiosError(V)}}},[n,u,s,o]),p=a.useCallback(({...x})=>d({method:"get",...x}),[d]),m=a.useCallback(({...x})=>d({method:"post",...x}),[d]),f=a.useCallback(({...x})=>d({method:"put",...x}),[d]),h=a.useCallback(({...x})=>d({method:"delete",...x}),[d]),g=a.useCallback(({...x})=>d({method:"patch",...x}),[d]);return{sendAsync:d,httpGetAsync:p,httpPostAsync:m,httpPutAsync:f,httpPatchAsync:g,httpDeleteAsync:h,getUrl:u}}const Hat=e=>{const t=a.useRef(!1),n=a.useRef();return a.useEffect(()=>{if(t.current)return;t.current=!0;const o=e();return Oo.isFunction(o)&&(n.current=o),()=>{n.current&&(n.current(),n.current=void 0)}},[]),t.current},Gat=Object.freeze({MOMENTS_VERSION:"YYYYMMDD.HHmm",MOMENTS_DATE:"YYYY/MM/DD",MOMENTS_DATETIME:"YYYY/MM/DD HH:mm",MOMENTS_DATETIME_SECONDS:"YYYY/MM/DD HH:mm:ss",MOMENTS_TIME:"HH:mm",MOMENTS_TIME_SECONDS:"HH:mm:ss"}),Kat=Object.freeze({DATEFNS_VERSION:"yyMMdd.HHmm",DATEFNS_DATE:"yyyy/MM/dd",DATEFNS_DATE_DASH:"yyyy-MM-dd",DATEFNS_MONTH_AND_DAY:"yyyy/MM/dd",DATEFNS_YEAR_AND_MONTH:"yyyy/MM",DATEFNS_DATETIME:"yyyy/MM/dd HH:mm",DATEFNS_DATETIME_SECONDS:"yyyy/MM/dd HH:mm:ss",DATEFNS_TIME:"HH:mm",DATEFNS_HOUR:"HH",DATEFNS_TIME_SECONDS:"HH:mm:ss",DATEFNS_YEAR:"yyyy"}),_o={...Gat,...Kat};function Qat(){const{httpGetAsync:e}=Zn(),t=nm(),n=a.useMemo(()=>Vd(bfe("2025-12-09T05:31:42.583Z"),_o.DATEFNS_VERSION),[]),[o,s]=a.useState({data:null,loading:null,error:null,token:null,apiVersion:null,profile:null}),i=a.useCallback(h=>{s(g=>({...g,token:h}))},[]),c=a.useCallback(h=>{s(g=>({...g,loading:h}))},[]),u=a.useCallback(async()=>{var h;s(g=>({...g,loading:!0}));try{const{status:g,payload:x,error:y}=await e({url:""});if(g.success)s(D=>({...D,loading:!1,apiVersion:x.version,frontEnd:x.frontEnd,profile:x.profile}));else throw y||new Error("")}catch(g){console.error("error object:",g),((g==null?void 0:g.status)==403||((h=g==null?void 0:g.response)==null?void 0:h.status)==403)&&t.toForbidden(),console.error("loadAppInto failed",g)}finally{s(g=>({...g,loading:!1}))}},[t,e]),d=a.useCallback(async()=>{s(h=>({...h,loading:!0}));try{const{status:h,payload:g,error:x}=await e({url:""});if(h.success)s(y=>({...y,loading:!1,apiVersion:g.version,frontEnd:g.frontEnd})),t.toLogin();else throw x||new Error("")}catch(h){console.error("error object:",h),console.error("loadAppInto failed",h)}finally{s(h=>({...h,loading:!1}))}},[t,e]),p=a.useCallback(h=>sessionStorage.getItem(h)||Ua.get(h),[]),m=a.useCallback((h,g,x)=>{Ua.set(h,g,x),sessionStorage.setItem(h,g)},[]),f=a.useCallback((h,g)=>{Ua.remove(h,g),sessionStorage.removeItem(h)},[]);return{...o,fetch,version:n,setLoading:c,handleTokenChange:i,loadAppInfo:u,unloadAppInfo:d,getSessionCookie:p,setSessionCookie:m,removeSessionValue:f}}const ohe=({children:e})=>{const t=Qat();return r.jsx(Qh.Provider,{value:{...t},children:e})};ohe.propTypes={children:l.node};const Be=a.createContext(),Sn=a.createContext(),En=(e,t)=>{const n=a.useRef(!1),o=a.useRef(!1);return a.useEffect(()=>{let s;return n.current||(n.current=!0,s=e()),()=>{!o.current&&s&&(o.current=!0,Oo.isFunction(s)?s():console.warn("unloadCallback is not a function",s))}},[e,...t]),[n.current]},Mr=a.createContext();var N_,sse;function H3(){return sse||(sse=1,N_=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var o,s,i;if(Array.isArray(t)){if(o=t.length,o!=n.length)return!1;for(s=o;s--!==0;)if(!e(t[s],n[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(i=Object.keys(t),o=i.length,o!==Object.keys(n).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=o;s--!==0;){var c=i[s];if(!e(t[c],n[c]))return!1}return!0}return t!==t&&n!==n}),N_}var Yat=H3();const she=qn(Yat),Ad={defaultStyles:{log:"color: black; background: #e0e0e0; padding: 2px 4px; border-radius: 3px;",info:"color: white; background: #2196F3; padding: 2px 4px; border-radius: 3px;",warn:"color: black; background: #FFCA28; padding: 2px 4px; border-radius: 3px;",error:"color: white; background: #D32F2F; padding: 2px 4px; border-radius: 3px;",debug:"color: white; background: #4CAF50; padding: 2px 4px; border-radius: 3px;"},_formatMessage(e,t,...n){const o=typeof n[n.length-1]=="string"?n.pop():this.defaultStyles[e]||"";typeof t=="object"||Array.isArray(t)?console[e](t,...n):console[e](`%c${t}`,o,...n)},log(e,...t){this._formatMessage("log",e,...t)},info(e,...t){this._formatMessage("info",e,...t)},warn(e,...t){this._formatMessage("warn",e,...t)},error(e,...t){this._formatMessage("error",e,...t)},debug(e,...t){this._formatMessage("debug",e,...t)},styled(e,t,...n){const o=typeof n[n.length-1]=="string"?n.pop():this.defaultStyles[e]||"";console[e](`%c${t}`,o,...n)}},Jat={debug:!1,triggerFirstChange:!1},mn=(e,t,n=Jat)=>{const{tag:o,debug:s,triggerFirstChange:i}=n,c=a.useRef(t),u=a.useMemo(()=>o?"["+o+"] ":"",[o]);return a.useEffect(()=>{she(t,c.current)||(s&&console.log(`${u}`,c.current,t),c.current!=null?e():i&&(Ad.warn("first change triggered",t),e()),c.current=t)},t),{}};function G3(e){const{autoPrompt:t=!0}=e??{},{frontEnd:n,version:o,loading:s}=a.useContext(Qh),i=a.useContext(Mr),c=a.useCallback(()=>{i.confirm({message:` ${n==null?void 0:n.minVersion}, 
***  Ctrl+F5 `,confirmText:"",onConfirm:()=>{window.location.reload(!0)}})},[i,n==null?void 0:n.minVersion]),u=a.useMemo(()=>s==!1&&o>=(n==null?void 0:n.minVersion),[n==null?void 0:n.minVersion,s,o]),d=a.useMemo(()=>s==!1&&(n==null?void 0:n.minVersion)>o,[n==null?void 0:n.minVersion,s,o]);return mn(()=>{t&&d&&setTimeout(c,1e3)},[d]),{promptRefresh:c,isUpToDate:u,isRefreshRequired:d}}function ahe(e){var t,n,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=ahe(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}function _b(){for(var e,t,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(t=ahe(e))&&(o&&(o+=" "),o+=t);return o}const Xat=it(jt,{shouldForwardProp:e=>!["inline","block","fullWidth","fullHeight","fullWindowHeight","midWidth","maxWidth","gap"].includes(e)})(({theme:e,inline:t=!1,block:n=!1,fullHeight:o,fullWindowHeight:s,fullWidth:i,minWidth:c,maxWidth:u,gap:d})=>({display:n?"block":t?"inline-flex":"flex",...o&&{height:"100%"},...s&&{height:"100vh"},...i&&{width:"100%"},...c&&{minWidth:isNaN(c)?c:e.spacing(c)},...u&&{maxWidth:isNaN(u)?u:e.spacing(u)},...d&&{gap:isNaN(d)?d:e.spacing(d)}})),ve=e=>{const{className:t,...n}=e;return r.jsx(Xat,{className:_b("FlexBox",t),...n})};ve.propTypes={className:l.string};const K3=e=>{const{icon:t,size:n="lg",text:o,className:s,style:i,iconColor:c,cssColor:u,typoProps:d,sx:p=[],onClick:m}=e,f=t,h=a.useCallback(D=>{m?m(D):console.log("onClick not defined")},[m]),g=a.useMemo(()=>{switch(n){case"sm":return"small";case"md":return"medium";default:return"large"}},[n]),x=a.useMemo(()=>{switch(n){case"sm":return"h6";case"md":return"h6";default:return"h5"}},[n]),y=a.useMemo(()=>{switch(n){case"sm":return .4;case"md":return .5;default:return 1}},[n]);return r.jsxs(ve,{alignItems:"center",sx:[D=>({whiteSpace:"noWrap",color:D.palette.text.primary}),...Array.isArray(p)?p:[p]],children:[t&&r.jsx(f,{fontSize:g}),r.jsx(nn,{variant:x,sx:[D=>({marginLeft:y,color:D.palette.text.secondary})],style:{...i},onClick:h,...d,children:o})]})};var E0={},F_={};const Zat=Ei(kqe);var ase;function sr(){return ase||(ase=1,(function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=Zat})(F_)),F_}var ise;function eit(){if(ise)return E0;ise=1;var e=Qn();Object.defineProperty(E0,"__esModule",{value:!0}),E0.default=void 0;var t=e(sr()),n=rr();return E0.default=(0,t.default)((0,n.jsx)("path",{d:"M19 3H4.99c-1.11 0-1.98.89-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2m0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19z"}),"Inbox"),E0}var tit=eit();const nit=qn(tit),Q3=a.createContext(),nu=a.memo(a.forwardRef((e,t)=>{const{dense:n=!1,severity:o,size:s="small",sx:i=[],title:c,transparent:u,children:d,flex:p,maxWidth:m,minWidth:f,defaultText:h="()",error:g,firstLineOnly:x=!0,...y}=e,D=a.useMemo(()=>{switch(s){case"large":return"150%";case"medium":return"100%";case"small":return null}},[s]),v=a.useMemo(()=>{switch(s){case"large":return"1.5em";case"medium":return"1.4em";case"small":return null}},[s]),T=a.useMemo(()=>{switch(s){case"large":return 1;case"medium":return .1;case"small":return 0}},[s]),I=a.useMemo(()=>g?"error":o,[g,o]),P=a.useMemo(()=>{const E=d||(g==null?void 0:g.message)||(g==null?void 0:g.statusText)||h;return x&&Oo.isString(E)?E.split(`
`)[0]:E},[d,h,g==null?void 0:g.message,g==null?void 0:g.statusText,x]);return r.jsxs(kVe,{ref:t,severity:I,sx:[{justifyContent:"center"},n&&{"&.MuiPaper-root":{padding:0},"& .MuiAlert-icon":{padding:"4px 0 4px 8px",marginRight:"4px"},"& .MuiAlert-message":{padding:"4px 12px 4px 4px"}},u&&{padding:0,backgroundColor:"transparent"},p&&{flex:p},m&&{maxWidth:m},f&&{minWidth:f},D&&{fontSize:D},v&&{"& .MuiAlert-icon .MuiSvgIcon-root":{marginTop:T,height:v,width:v}},...Array.isArray(i)?i:[i]],...y,children:[c&&r.jsx(lw,{children:c}),P]})}));nu.displayName="AlertEx";nu.propTypes={minWidth:l.oneOfType([l.string,l.number]),maxWidth:l.oneOfType([l.string,l.number]),flex:l.bool,transparent:l.bool,firstLineOnly:l.bool,dense:l.bool,error:l.object,severity:l.string,defaultText:l.string,size:l.string,title:l.string,sx:l.oneOfType([l.object,l.array]),children:l.oneOfType([l.node,l.array])};const TD=a.memo(a.forwardRef(({error:e,title:t="",message:n,defaultMessage:o="()",...s},i)=>{const c=a.useMemo(()=>n||(e==null?void 0:e.message)||o,[o,e==null?void 0:e.message,n]);return console.log("error",e),r.jsxs(nu,{ref:i,severity:"error",flex:1,...s,children:[r.jsx(lw,{children:t}),c]})}));TD.propTypes={error:l.object,title:l.string,defaultMessage:l.string,message:l.string};const Cr=a.memo(a.forwardRef((e,t)=>{const{variant:n="h6",color:o="inherit",IconComponent:s,children:i="",style:c,iconSize:u="md",...d}=e,p=a.useMemo(()=>{switch(u){case"sm":return 16;case"lg":return 24;case"md":default:return 20}},[u]);return r.jsxs(jt,{ref:t,sx:{display:"inline-flex",alignItems:"center"},children:[s?r.jsx(s,{sx:{animation:"$App-logo-spin infinite 2s linear",height:"4vmin",pointerEvents:"none"}}):r.jsx(RT,{sx:{mr:1},size:p}),r.jsx(nn,{variant:n,color:o,...d,sx:[m=>({color:m.palette.text.secondary})],style:c,children:i})]})})),Y3=a.memo(e=>{const{sx:t=[],size:n,...o}=e,s=a.useMemo(()=>{switch(n){case"large":return"150%";case"medium":return"130%";case"small":return null}},[n]);return r.jsx(lw,{sx:[{...s&&{"&.MuiAlertTitle-root":{fontSize:s}}},...Array.isArray(t)?t:[t]],...o})});Y3.propTypes={sx:l.oneOfType([l.array,l.object]),size:l.oneOf(["small","medium","large"])};Y3.displayName="AlertTitleEx";const bf=a.memo(a.forwardRef((e,t)=>{const{children:n,height:o,severity:s="warning",title:i="",size:c,...u}=e;return r.jsx(Br,{maxWidth:"xs",ref:t,children:r.jsx(ve,{justifyContent:"center",alignItems:"center",height:o,sx:[d=>({transition:d.transitions.create("height",{easing:d.transitions.easing.sharp,duration:d.transitions.duration.enteringScreen})})],...u,children:r.jsx(jt,{mb:"30%",children:r.jsxs(nu,{severity:s,transparent:!0,size:c,children:[r.jsx(Y3,{size:c,children:i}),n]})})})})}));bf.propTypes={height:l.number,children:l.node,severity:l.string,title:l.string,size:l.oneOf(["small","medium","large"])};const rit=500,oit=({borderStyle:e,borderRadius:t,borderTopLeftRadius:n,borderTopRightRadius:o,borderBottomLeftRadius:s,borderBottomRightRadius:i,withHeader:c})=>({border:e,borderTopLeftRadius:c?0:n||t,borderTopRightRadius:c?0:o||t,borderBottomLeftRadius:s||t,borderBottomRightRadius:i||t}),sit=({hide:e,trackColor:t,borderRadius:n,alwaysShowTrack:o})=>({"&::-webkit-scrollbar-track":{borderRadius:n,...(!o||e)&&{opacity:0,backgroundColor:"tranparent"},...o&&{opacity:1,backgroundColor:Ti(t,.5)},...!e&&{"&:hover":{backgroundColor:Ti(t,.7)}}}}),ait=({alwaysShowThumb:e=!1,thumbColor:t,borderRadius:n,borderBottomLeftRadius:o,borderBottomRightRadius:s,borderTopLeftRadius:i,borderTopRightRadius:c,withHeader:u})=>({"&::-webkit-scrollbar-thumb":{...!e&&{opacity:0},...e&&{backgroundColor:Ti(t,.7)},borderTopLeftRadius:u?0:i||n,borderTopRightRadius:u?0:c||n,borderBottomLeftRadius:o||n,borderBottomRightRadius:s||n}}),iit=({height:e,minHeight:t,maxHeight:n,borderRadius:o,borderTopLeftRadius:s,borderTopRightRadius:i,borderBottomLeftRadius:c,borderBottomRightRadius:u,scrollerWidth:d="8px",scrollerBackgroundColor:p,thumbColor:m,trackColor:f,alwaysShowTrack:h,alwaysShowThumb:g,withHeader:x,hide:y})=>({"&::-webkit-scrollbar":{transition:"background-color 1s ease-in-out",width:d,...p&&{backgroundColor:p},...y&&{backgroundColor:"transparent",width:0},borderTopLeftRadius:x?0:s||o,borderTopRightRadius:x?0:i||o,borderBottomLeftRadius:c||o,borderBottomRightRadius:u||o},...sit({hide:y,borderRadius:o,alwaysShowTrack:h,trackColor:f}),...ait({alwaysShowThumb:g,thumbColor:m,borderRadius:o,borderBottomLeftRadius:c,borderBottomRightRadius:u,borderTopLeftRadius:s,borderTopRightRadius:i,withHeader:x}),"&:hover":{...!y&&{"&::-webkit-scrollbar-thumb":{opacity:1,backgroundColor:Ti(m,.9)}},...!y&&{"&::-webkit-scrollbar-track":{opacity:1,backgroundColor:Ti(f,.7)}}},...t&&{minHeight:t},...n&&{maxHeight:n},...e&&{height:e},overflowY:"auto",overflowX:"hidden"}),lit=()=>({flexGrow:1}),Qr=(e={})=>{const{height:t,minHeight:n,maxHeight:o,defaultHeight:s=rit,borderStyle:i="1px solid #e0e0e0",borderRadius:c="4px",borderTopLeftRadius:u="4px",borderTopRightRadius:d="4px",borderBottomLeftRadius:p="4px",borderBottomRightRadius:m="4px",scrollerWidth:f="8px",scrollerBackgroundColor:h="rgba(0, 0, 0, .02)",alwaysShowTrack:g=!1,trackColor:x=$c[300],thumbColor:y=$c[500],alwaysShowThumb:D=!1,withHeader:v=!1,hide:T=!1}=e;!t&&!n&&!o&&console.log("height, minHeight, maxHeight ");const I=a.useMemo(()=>n||t||s,[s,t,n]),P=a.useMemo(()=>o||t||s,[s,t,o]),E=a.useMemo(()=>t||!n&&!o?s:null,[s,t,o,n]);return{...a.useMemo(()=>({border:oit({borderStyle:i,borderRadius:c,borderTopLeftRadius:u,borderTopRightRadius:d,borderBottomLeftRadius:p,borderBottomRightRadius:m,withHeader:v}),scroller:iit({hide:T,height:E,minHeight:I,maxHeight:P,borderRadius:c,borderTopLeftRadius:u,borderTopRightRadius:d,borderBottomLeftRadius:p,borderBottomRightRadius:m,scrollerWidth:f,scrollerBackgroundColor:h,thumbColor:y,trackColor:x,alwaysShowTrack:g,alwaysShowThumb:D,withHeader:v}),body:lit()}),[i,c,u,d,p,m,v,T,E,I,P,f,h,y,x,g,D])}},cit=()=>({"& ul":{listStyle:"none"},"& ul li::before":{content:'""',display:"inline-block",width:"1em",marginLeft:"-2em",paddingRight:"2em"},"& ul li":{marginBottom:"0.5em"}}),M_=e=>{const{height:t=500,children:n,heading:o,styles:s,scrollerStyles:i,bodyStyles:c,sx:u=[]}=e;return r.jsxs(Ns,{sx:[s,...Array.isArray(u)?u:[u]],children:[o,r.jsxs(r.Fragment,{children:[r.jsx("hr",{}),r.jsx(x3,{dense:!0,sx:[i],children:r.jsx(Ns,{sx:[c],children:n})})]})]})},ihe=a.memo(e=>{const{height:t=500,minHeight:n,loading:o,error:s,heading:i,icon:c,cssColor:u,sx:d=[],data:p=[],ItemComponent:m,emptyText:f,...h}=e,g=cit(),x=Qr({height:t,minHeight:n,scrollerBackgroundColor:"transparent"}),y=a.useMemo(()=>p&&p.length===0,[p]),D=a.useMemo(()=>!o&&p&&p.length>0,[p,o]);return s?r.jsx(M_,{heading:i,styles:g,scrollerStyles:x.scroller,bodyStyles:x.body,children:r.jsx(TD,{error:s})}):o?r.jsx(M_,{heading:i,styles:g,scrollerStyles:x.scroller,bodyStyles:x.body,children:r.jsx(Cr,{children:"..."})}):r.jsxs(M_,{heading:i,styles:g,scrollerStyles:x.scroller,bodyStyles:x.body,children:[y&&r.jsx(bf,{title:f,severity:"info"}),D&&p.map((v,T)=>r.jsx(m,{value:v},`item_${T}`))]})});ihe.displayName="HomeWidget";var P0={},lse;function uit(){if(lse)return P0;lse=1;var e=Qn();Object.defineProperty(P0,"__esModule",{value:!0}),P0.default=void 0;var t=e(sr()),n=rr();return P0.default=(0,t.default)((0,n.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),P0}var dit=uit();const lhe=qn(dit),J3=e=>{const{value:t}=e,n=a.useContext(Q3),{handleReviewItemClick:o}=n;return r.jsxs(Gpe,{onClick:()=>o(t),children:[r.jsx(jC,{sx:{minWidth:"36px"},children:r.jsx(lhe,{})}),r.jsx(y3,{primary:t.message,primaryTypographyProps:{variant:"subtitle1"}})]})};J3.propTypes={value:l.object};J3.displayName="ReviewWidgetListItemContainer";const Wt=()=>{const[e,t]=a.useState({height:300,width:300});return a.useLayoutEffect(()=>{function n(){t({height:window.innerHeight,width:window.innerWidth})}return window.addEventListener("resize",n),n(),()=>window.removeEventListener("resize",n)},[]),e},che=()=>{const e=a.useContext(Q3),{height:t}=Wt(),{getReview:n,reviewLoading:o,reviewData:s,reviewError:i}=e;return En(()=>{n()},[]),r.jsx(ihe,{loading:o,data:s,error:i,height:t-172,minHeight:t-172,heading:r.jsx(K3,{icon:nit,text:"",cssColor:Nn.HEADING}),ItemComponent:J3,emptyText:""})};che.displayName="ReviewWidgetContainer";const pit="/jota-t/assets/Cubes-lRLZFN8W.png";function X3({opts:e}={}){const{sm:t,md:n,lg:o,xl:s}=e||{},i=hf(),c=a.useRef(null),[u,d]=a.useState({}),p=a.useMemo(()=>s||i.breakpoints.values.xl,[i.breakpoints.values.xl,s]),m=a.useMemo(()=>u.width>=p,[p,u.width]),f=a.useMemo(()=>o||i.breakpoints.values.lg,[o,i.breakpoints.values.lg]),h=a.useMemo(()=>u.width>=f&&u.width<p,[f,p,u.width]),g=a.useMemo(()=>u.width>=f,[f,u.width]),x=a.useMemo(()=>u.width<=f,[f,u.width]),y=a.useMemo(()=>n||i.breakpoints.values.md,[n,i.breakpoints.values.md]),D=a.useMemo(()=>u.width>=y,[y,u.width]),v=a.useMemo(()=>u.width<=y,[y,u.width]),T=a.useMemo(()=>u.width>=y&&u.width<f,[f,y,u.width]),I=a.useMemo(()=>t||i.breakpoints.values.sm,[t,i.breakpoints.values.sm]),P=a.useMemo(()=>u.width>=I,[I,u.width]),E=a.useMemo(()=>u.width<=I,[I,u.width]),k=a.useMemo(()=>u.width>=I&&u.width<y,[y,I,u.width]),w=a.useMemo(()=>u.width<I,[I,u.width]);return a.useLayoutEffect(()=>{const A=new ResizeObserver(F=>{for(let _ of F){const L={width:_.contentRect.width,height:_.contentRect.height};d(L),console.log(`resizing height: ${L.height}, width: ${L.width}`)}});return c.current&&A.observe(c.current),()=>A.disconnect()},[]),{containerRef:c,...u,isXl:m,isLgOrUp:g,isLgOrDown:x,isLg:h,isMdOrUp:D,isMdOrDown:v,isMd:T,isSmOrUp:P,isSmOrDown:E,isSm:k,isXs:w}}var R0={},cse;function mit(){if(cse)return R0;cse=1;var e=Qn();Object.defineProperty(R0,"__esModule",{value:!0}),R0.default=void 0;var t=e(sr()),n=rr();return R0.default=(0,t.default)((0,n.jsx)("path",{d:"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20zm-6 8h-4v-2h4zm0-4h-4v-2h4z"}),"BugReport"),R0}var fit=mit();const uhe=qn(fit),Z3=a.memo(e=>{const{children:t,size:n="small",...o}=e;return r.jsx(fa,{variant:"contained",color:"neutral-light",startIcon:r.jsx(uhe,{}),size:n,sx:{"& .MuiButton-startIcon":{marginRight:0}},...o,children:t})});Z3.propTypes={children:l.oneOfType([l.node,l.array]),size:l.string};Z3.displayName="ReportSubmitButton";const dhe=e=>{const{...t}=e,{debugEnabled:n}=a.useContext(Be);return n?r.jsx(Z3,{...t}):!1};dhe.displayName="DebugDialogButtonContainer";var w0={},use;function hit(){if(use)return w0;use=1;var e=Qn();Object.defineProperty(w0,"__esModule",{value:!0}),w0.default=void 0;var t=e(sr()),n=rr();return w0.default=(0,t.default)((0,n.jsx)("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3m-3 11H8v-5h8zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m-1-9H6v4h12z"}),"LocalPrintshop"),w0}var git=hit();const cs=qn(git);var k0={},dse;function bit(){if(dse)return k0;dse=1;var e=Qn();Object.defineProperty(k0,"__esModule",{value:!0}),k0.default=void 0;var t=e(sr()),n=rr();return k0.default=(0,t.default)((0,n.jsx)("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M8 20H4v-4h4zm0-6H4v-4h4zm0-6H4V4h4zm6 12h-4v-4h4zm0-6h-4v-4h4zm0-6h-4V4h4zm6 12h-4v-4h4zm0-6h-4v-4h4zm0-6h-4V4h4z"}),"GridOn"),k0}var xit=bit();const yit=qn(xit);var A0={},pse;function Cit(){if(pse)return A0;pse=1;var e=Qn();Object.defineProperty(A0,"__esModule",{value:!0}),A0.default=void 0;var t=e(sr()),n=rr();return A0.default=(0,t.default)((0,n.jsx)("path",{d:"m20.41 8.41-4.83-4.83c-.37-.37-.88-.58-1.41-.58H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V9.83c0-.53-.21-1.04-.59-1.42M7 7h7v2H7zm10 10H7v-2h10zm0-4H7v-2h10z"}),"TextSnippet"),A0}var Dit=Cit();const Sit=qn(Dit);var N0={},mse;function vit(){if(mse)return N0;mse=1;var e=Qn();Object.defineProperty(N0,"__esModule",{value:!0}),N0.default=void 0;var t=e(sr()),n=rr();return N0.default=(0,t.default)((0,n.jsx)("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5zm4-3H19v1h1.5V11H19v2h-1.5V7h3zM9 9.5h1v-1H9zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm10 5.5h1v-3h-1z"}),"PictureAsPdf"),N0}var jit=vit();const Iit=qn(jit),S$="active",phe="unused",Wp=Object.freeze({HTML:1,EXCEL:2,ODF:3,PDF:4}),Tit={[Wp.HTML]:cs,[Wp.EXCEL]:yit,[Wp.ODF]:Sit,[Wp.PDF]:Iit},Oit=e=>Tit[e==null?void 0:e.id],e4=[{id:Wp.HTML,name:""},{id:Wp.EXCEL,name:" Excel"},{id:Wp.PDF,name:" PDF"}],Eit=[{id:Wp.HTML,name:""}],mhe=e=>e4.find(t=>t.id==e),Pit=()=>mhe(Wp.HTML),Rit=e=>{if(!e)return"";const{name:t}=e;return`${t}`},wit=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),kit=e=>e4.find(t=>t.id===e),Ait=e=>e===S$?S$:phe,Nit=e=>e==null?void 0:e.id,jn={SELECTED:S$,UNUSED:phe,droppableIdToType:Ait,OutputModes:Wp,options:e4,optionsHTMLOnly:Eit,getOptionLabel:Rit,isOptionEqualToValue:wit,findById:kit,getOptionById:mhe,getDefaultOption:Pit,getIcon:Oit,getOptionKey:Nit},t4=e=>{const{onDebugSubmit:t,onItemClick:n,onSelect:o,onClick:s,...i}=e;return r.jsx(Nw,{split:!0,dense:!0,excludeSelected:!0,hoverIconToOpen:!0,variant:"text",noGutter:!0,color:"neutral-dark",label:"",options:jn.options,getLabel:jn.getOptionLabel,defaultSelected:jn.getDefaultOption(),getOptionLabel:jn.getOptionLabel,isOptionEqualToValue:jn.isOptionEqualToValue,getItemIconComponent:jn.getIcon,getOptionKey:jn.getOptionKey,onClick:s||o,onItemClick:n||o,slotProps:{paper:{elevation:8}},...t&&{leftButtons:r.jsx(dhe,{onClick:t})},title:"Ctrl-Enter",...i})};t4.propTypes={onDebugSubmit:l.func,onClick:l.func,onItemClick:l.func,onSelect:l.func};t4.displayName="PrintReportButtonView";var qT=e=>e.type==="checkbox",fb=e=>e instanceof Date,Sl=e=>e==null;const fhe=e=>typeof e=="object";var za=e=>!Sl(e)&&!Array.isArray(e)&&fhe(e)&&!fb(e),hhe=e=>za(e)&&e.target?qT(e.target)?e.target.checked:e.target.value:e,Fit=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,ghe=(e,t)=>e.has(Fit(t)),Mit=e=>{const t=e.constructor&&e.constructor.prototype;return za(t)&&t.hasOwnProperty("isPrototypeOf")},n4=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ei(e){let t;const n=Array.isArray(e),o=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(n4&&(e instanceof Blob||o))&&(n||za(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!Mit(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=ei(e[s]));else return e;return t}var Aw=e=>/^\w*$/.test(e),ja=e=>e===void 0,r4=e=>Array.isArray(e)?e.filter(Boolean):[],o4=e=>r4(e.replace(/["|']|\]/g,"").split(/\.|\[/)),lr=(e,t,n)=>{if(!t||!za(e))return n;const o=(Aw(t)?[t]:o4(t)).reduce((s,i)=>Sl(s)?s:s[i],e);return ja(o)||o===e?ja(e[t])?n:e[t]:o},Lc=e=>typeof e=="boolean",Rs=(e,t,n)=>{let o=-1;const s=Aw(t)?[t]:o4(t),i=s.length,c=i-1;for(;++o<i;){const u=s[o];let d=n;if(o!==c){const p=e[u];d=za(p)||Array.isArray(p)?p:isNaN(+s[o+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;e[u]=d,e=e[u]}};const bR={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Nd={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},$m={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},s4=Dn.createContext(null);s4.displayName="HookFormContext";const Ke=()=>Dn.useContext(s4),Ye=e=>{const{children:t,...n}=e;return Dn.createElement(s4.Provider,{value:n},t)};var bhe=(e,t,n,o=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const c=i;return t._proxyFormState[c]!==Nd.all&&(t._proxyFormState[c]=!o||Nd.all),n&&(n[c]=!0),e[c]}});return s};const a4=typeof window<"u"?Dn.useLayoutEffect:Dn.useEffect;function _it(e){const t=Ke(),{control:n=t.control,disabled:o,name:s,exact:i}=e||{},[c,u]=Dn.useState(n._formState),d=Dn.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return a4(()=>n._subscribe({name:s,formState:d.current,exact:i,callback:p=>{!o&&u({...n._formState,...p})}}),[s,o,i]),Dn.useEffect(()=>{d.current.isValid&&n._setValid(!0)},[n]),Dn.useMemo(()=>bhe(c,n,d.current,!1),[c,n])}var Wc=e=>typeof e=="string",xhe=(e,t,n,o,s)=>Wc(e)?(o&&t.watch.add(e),lr(n,e,s)):Array.isArray(e)?e.map(i=>(o&&t.watch.add(i),lr(n,i))):(o&&(t.watchAll=!0),n),v$=e=>Sl(e)||!fhe(e);function tf(e,t,n=new WeakSet){if(v$(e)||v$(t))return e===t;if(fb(e)&&fb(t))return e.getTime()===t.getTime();const o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const i of o){const c=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const u=t[i];if(fb(c)&&fb(u)||za(c)&&za(u)||Array.isArray(c)&&Array.isArray(u)?!tf(c,u,n):c!==u)return!1}}return!0}function Ue(e){const t=Ke(),{control:n=t.control,name:o,defaultValue:s,disabled:i,exact:c,compute:u}=e||{},d=Dn.useRef(s),p=Dn.useRef(u),m=Dn.useRef(void 0);p.current=u;const f=Dn.useMemo(()=>n._getWatch(o,d.current),[n,o]),[h,g]=Dn.useState(p.current?p.current(f):f);return a4(()=>n._subscribe({name:o,formState:{values:!0},exact:c,callback:x=>{if(!i){const y=xhe(o,n._names,x.values||n._formValues,!1,d.current);if(p.current){const D=p.current(y);tf(D,m.current)||(g(D),m.current=D)}else g(y)}}}),[n,i,o,c]),Dn.useEffect(()=>n._removeUnmounted()),h}function yhe(e){const t=Ke(),{name:n,disabled:o,control:s=t.control,shouldUnregister:i,defaultValue:c}=e,u=ghe(s._names.array,n),d=Dn.useMemo(()=>lr(s._formValues,n,lr(s._defaultValues,n,c)),[s,n,c]),p=Ue({control:s,name:n,defaultValue:d,exact:!0}),m=_it({control:s,name:n,exact:!0}),f=Dn.useRef(e),h=Dn.useRef(void 0),g=Dn.useRef(s.register(n,{...e.rules,value:p,...Lc(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const x=Dn.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!lr(m.errors,n)},isDirty:{enumerable:!0,get:()=>!!lr(m.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!lr(m.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!lr(m.validatingFields,n)},error:{enumerable:!0,get:()=>lr(m.errors,n)}}),[m,n]),y=Dn.useCallback(I=>g.current.onChange({target:{value:hhe(I),name:n},type:bR.CHANGE}),[n]),D=Dn.useCallback(()=>g.current.onBlur({target:{value:lr(s._formValues,n),name:n},type:bR.BLUR}),[n,s._formValues]),v=Dn.useCallback(I=>{const P=lr(s._fields,n);P&&I&&(P._f.ref={focus:()=>I.focus&&I.focus(),select:()=>I.select&&I.select(),setCustomValidity:E=>I.setCustomValidity(E),reportValidity:()=>I.reportValidity()})},[s._fields,n]),T=Dn.useMemo(()=>({name:n,value:p,...Lc(o)||m.disabled?{disabled:m.disabled||o}:{},onChange:y,onBlur:D,ref:v}),[n,o,m.disabled,y,D,v,p]);return Dn.useEffect(()=>{const I=s._options.shouldUnregister||i,P=h.current;P&&P!==n&&!u&&s.unregister(P),s.register(n,{...f.current.rules,...Lc(f.current.disabled)?{disabled:f.current.disabled}:{}});const E=(k,w)=>{const A=lr(s._fields,k);A&&A._f&&(A._f.mount=w)};if(E(n,!0),I){const k=ei(lr(s._options.defaultValues,n));Rs(s._defaultValues,n,k),ja(lr(s._formValues,n))&&Rs(s._formValues,n,k)}return!u&&s.register(n),h.current=n,()=>{(u?I&&!s._state.action:I)?s.unregister(n):E(n,!1)}},[n,s,u,i]),Dn.useEffect(()=>{s._setDisabledField({disabled:o,name:n})},[o,n,s]),Dn.useMemo(()=>({field:T,formState:m,fieldState:x}),[T,m,x])}const rm=e=>e.render(yhe(e));var Lit=(e,t,n,o,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[o]:s||!0}}:{},II=e=>Array.isArray(e)?e:[e],fse=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}};function Che(e,t){const n={};for(const o in e)if(e.hasOwnProperty(o)){const s=e[o],i=t[o];if(s&&za(s)&&i){const c=Che(s,i);za(c)&&(n[o]=c)}else e[o]&&(n[o]=i)}return n}var Yl=e=>za(e)&&!Object.keys(e).length,i4=e=>e.type==="file",Fd=e=>typeof e=="function",xR=e=>{if(!n4)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Dhe=e=>e.type==="select-multiple",l4=e=>e.type==="radio",$it=e=>l4(e)||qT(e),__=e=>xR(e)&&e.isConnected;function Bit(e,t){const n=t.slice(0,-1).length;let o=0;for(;o<n;)e=ja(e)?o++:e[t[o++]];return e}function Wit(e){for(const t in e)if(e.hasOwnProperty(t)&&!ja(e[t]))return!1;return!0}function Ba(e,t){const n=Array.isArray(t)?t:Aw(t)?[t]:o4(t),o=n.length===1?e:Bit(e,n),s=n.length-1,i=n[s];return o&&delete o[i],s!==0&&(za(o)&&Yl(o)||Array.isArray(o)&&Wit(o))&&Ba(e,n.slice(0,-1)),e}var Uit=e=>{for(const t in e)if(Fd(e[t]))return!0;return!1};function She(e){return Array.isArray(e)||za(e)&&!Uit(e)}function j$(e,t={}){for(const n in e)She(e[n])?(t[n]=Array.isArray(e[n])?[]:{},j$(e[n],t[n])):Sl(e[n])||(t[n]=!0);return t}function Uy(e,t,n){n||(n=j$(t));for(const o in e)She(e[o])?ja(t)||v$(n[o])?n[o]=j$(e[o],Array.isArray(e[o])?[]:{}):Uy(e[o],Sl(t)?{}:t[o],n[o]):n[o]=!tf(e[o],t[o]);return n}const hse={value:!1,isValid:!1},gse={value:!0,isValid:!0};var vhe=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ja(e[0].attributes.value)?ja(e[0].value)||e[0].value===""?gse:{value:e[0].value,isValid:!0}:gse:hse}return hse},jhe=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:o})=>ja(e)?e:t?e===""?NaN:e&&+e:n&&Wc(e)?new Date(e):o?o(e):e;const bse={isValid:!1,value:null};var Ihe=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,bse):bse;function xse(e){const t=e.ref;return i4(t)?t.files:l4(t)?Ihe(e.refs).value:Dhe(t)?[...t.selectedOptions].map(({value:n})=>n):qT(t)?vhe(e.refs).value:jhe(ja(t.value)?e.ref.value:t.value,e)}var qit=(e,t,n,o)=>{const s={};for(const i of e){const c=lr(t,i);c&&Rs(s,i,c._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:o}},yR=e=>e instanceof RegExp,F0=e=>ja(e)?e:yR(e)?e.source:za(e)?yR(e.value)?e.value.source:e.value:e,yse=e=>({isOnSubmit:!e||e===Nd.onSubmit,isOnBlur:e===Nd.onBlur,isOnChange:e===Nd.onChange,isOnAll:e===Nd.all,isOnTouch:e===Nd.onTouched});const Cse="AsyncFunction";var Vit=e=>!!e&&!!e.validate&&!!(Fd(e.validate)&&e.validate.constructor.name===Cse||za(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Cse)),zit=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Dse=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(o=>e.startsWith(o)&&/^\.\w+/.test(e.slice(o.length))));const TI=(e,t,n,o)=>{for(const s of n||Object.keys(e)){const i=lr(e,s);if(i){const{_f:c,...u}=i;if(c){if(c.refs&&c.refs[0]&&t(c.refs[0],s)&&!o)return!0;if(c.ref&&t(c.ref,c.name)&&!o)return!0;if(TI(u,t))break}else if(za(u)&&TI(u,t))break}}};function Sse(e,t,n){const o=lr(e,n);if(o||Aw(n))return{error:o,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),c=lr(t,i),u=lr(e,i);if(c&&!Array.isArray(c)&&n!==i)return{name:n};if(u&&u.type)return{name:i,error:u};if(u&&u.root&&u.root.type)return{name:`${i}.root`,error:u.root};s.pop()}return{name:n}}var Hit=(e,t,n,o)=>{n(e);const{name:s,...i}=e;return Yl(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(c=>t[c]===(!o||Nd.all))},Git=(e,t,n)=>!e||!t||e===t||II(e).some(o=>o&&(n?o===t:o.startsWith(t)||t.startsWith(o))),Kit=(e,t,n,o,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?o.isOnBlur:s.isOnBlur)?!e:(n?o.isOnChange:s.isOnChange)?e:!0,Qit=(e,t)=>!r4(lr(e,t)).length&&Ba(e,t),Yit=(e,t,n)=>{const o=II(lr(e,n));return Rs(o,"root",t[n]),Rs(e,n,o),e};function vse(e,t,n="validate"){if(Wc(e)||Array.isArray(e)&&e.every(Wc)||Lc(e)&&!e)return{type:n,message:Wc(e)?e:"",ref:t}}var vy=e=>za(e)&&!yR(e)?e:{value:e,message:""},jse=async(e,t,n,o,s,i)=>{const{ref:c,refs:u,required:d,maxLength:p,minLength:m,min:f,max:h,pattern:g,validate:x,name:y,valueAsNumber:D,mount:v}=e._f,T=lr(n,y);if(!v||t.has(y))return{};const I=u?u[0]:c,P=K=>{s&&I.reportValidity&&(I.setCustomValidity(Lc(K)?"":K||""),I.reportValidity())},E={},k=l4(c),w=qT(c),A=k||w,F=(D||i4(c))&&ja(c.value)&&ja(T)||xR(c)&&c.value===""||T===""||Array.isArray(T)&&!T.length,_=Lit.bind(null,y,o,E),L=(K,z,J,Q=$m.maxLength,V=$m.minLength)=>{const W=K?z:J;E[y]={type:K?Q:V,message:W,ref:c,..._(K?Q:V,W)}};if(i?!Array.isArray(T)||!T.length:d&&(!A&&(F||Sl(T))||Lc(T)&&!T||w&&!vhe(u).isValid||k&&!Ihe(u).isValid)){const{value:K,message:z}=Wc(d)?{value:!!d,message:d}:vy(d);if(K&&(E[y]={type:$m.required,message:z,ref:I,..._($m.required,z)},!o))return P(z),E}if(!F&&(!Sl(f)||!Sl(h))){let K,z;const J=vy(h),Q=vy(f);if(!Sl(T)&&!isNaN(T)){const V=c.valueAsNumber||T&&+T;Sl(J.value)||(K=V>J.value),Sl(Q.value)||(z=V<Q.value)}else{const V=c.valueAsDate||new Date(T),W=te=>new Date(new Date().toDateString()+" "+te),U=c.type=="time",X=c.type=="week";Wc(J.value)&&T&&(K=U?W(T)>W(J.value):X?T>J.value:V>new Date(J.value)),Wc(Q.value)&&T&&(z=U?W(T)<W(Q.value):X?T<Q.value:V<new Date(Q.value))}if((K||z)&&(L(!!K,J.message,Q.message,$m.max,$m.min),!o))return P(E[y].message),E}if((p||m)&&!F&&(Wc(T)||i&&Array.isArray(T))){const K=vy(p),z=vy(m),J=!Sl(K.value)&&T.length>+K.value,Q=!Sl(z.value)&&T.length<+z.value;if((J||Q)&&(L(J,K.message,z.message),!o))return P(E[y].message),E}if(g&&!F&&Wc(T)){const{value:K,message:z}=vy(g);if(yR(K)&&!T.match(K)&&(E[y]={type:$m.pattern,message:z,ref:c,..._($m.pattern,z)},!o))return P(z),E}if(x){if(Fd(x)){const K=await x(T,n),z=vse(K,I);if(z&&(E[y]={...z,..._($m.validate,z.message)},!o))return P(z.message),E}else if(za(x)){let K={};for(const z in x){if(!Yl(K)&&!o)break;const J=vse(await x[z](T,n),I,z);J&&(K={...J,..._(z,J.message)},P(J.message),o&&(E[y]=K))}if(!Yl(K)&&(E[y]={ref:I,...K},!o))return E}}return P(!0),E};const Jit={mode:Nd.onSubmit,reValidateMode:Nd.onChange,shouldFocusError:!0};function Xit(e={}){let t={...Jit,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Fd(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},o={},s=za(t.defaultValues)||za(t.values)?ei(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:ei(s),c={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,p=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...m};const h={array:fse(),state:fse()},g=t.criteriaMode===Nd.all,x=H=>re=>{clearTimeout(p),p=setTimeout(H,re)},y=async H=>{if(!t.disabled&&(m.isValid||f.isValid||H)){const re=t.resolver?Yl((await w()).errors):await F(o,!0);re!==n.isValid&&h.state.next({isValid:re})}},D=(H,re)=>{!t.disabled&&(m.isValidating||m.validatingFields||f.isValidating||f.validatingFields)&&((H||Array.from(u.mount)).forEach(q=>{q&&(re?Rs(n.validatingFields,q,re):Ba(n.validatingFields,q))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Yl(n.validatingFields)}))},v=(H,re=[],q,Y,ie=!0,B=!0)=>{if(Y&&q&&!t.disabled){if(c.action=!0,B&&Array.isArray(lr(o,H))){const Z=q(lr(o,H),Y.argA,Y.argB);ie&&Rs(o,H,Z)}if(B&&Array.isArray(lr(n.errors,H))){const Z=q(lr(n.errors,H),Y.argA,Y.argB);ie&&Rs(n.errors,H,Z),Qit(n.errors,H)}if((m.touchedFields||f.touchedFields)&&B&&Array.isArray(lr(n.touchedFields,H))){const Z=q(lr(n.touchedFields,H),Y.argA,Y.argB);ie&&Rs(n.touchedFields,H,Z)}(m.dirtyFields||f.dirtyFields)&&(n.dirtyFields=Uy(s,i)),h.state.next({name:H,isDirty:L(H,re),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Rs(i,H,re)},T=(H,re)=>{Rs(n.errors,H,re),h.state.next({errors:n.errors})},I=H=>{n.errors=H,h.state.next({errors:n.errors,isValid:!1})},P=(H,re,q,Y)=>{const ie=lr(o,H);if(ie){const B=lr(i,H,ja(q)?lr(s,H):q);ja(B)||Y&&Y.defaultChecked||re?Rs(i,H,re?B:xse(ie._f)):J(H,B),c.mount&&y()}},E=(H,re,q,Y,ie)=>{let B=!1,Z=!1;const ye={name:H};if(!t.disabled){if(!q||Y){(m.isDirty||f.isDirty)&&(Z=n.isDirty,n.isDirty=ye.isDirty=L(),B=Z!==ye.isDirty);const Ie=tf(lr(s,H),re);Z=!!lr(n.dirtyFields,H),Ie?Ba(n.dirtyFields,H):Rs(n.dirtyFields,H,!0),ye.dirtyFields=n.dirtyFields,B=B||(m.dirtyFields||f.dirtyFields)&&Z!==!Ie}if(q){const Ie=lr(n.touchedFields,H);Ie||(Rs(n.touchedFields,H,q),ye.touchedFields=n.touchedFields,B=B||(m.touchedFields||f.touchedFields)&&Ie!==q)}B&&ie&&h.state.next(ye)}return B?ye:{}},k=(H,re,q,Y)=>{const ie=lr(n.errors,H),B=(m.isValid||f.isValid)&&Lc(re)&&n.isValid!==re;if(t.delayError&&q?(d=x(()=>T(H,q)),d(t.delayError)):(clearTimeout(p),d=null,q?Rs(n.errors,H,q):Ba(n.errors,H)),(q?!tf(ie,q):ie)||!Yl(Y)||B){const Z={...Y,...B&&Lc(re)?{isValid:re}:{},errors:n.errors,name:H};n={...n,...Z},h.state.next(Z)}},w=async H=>{D(H,!0);const re=await t.resolver(i,t.context,qit(H||u.mount,o,t.criteriaMode,t.shouldUseNativeValidation));return D(H),re},A=async H=>{const{errors:re}=await w(H);if(H)for(const q of H){const Y=lr(re,q);Y?Rs(n.errors,q,Y):Ba(n.errors,q)}else n.errors=re;return re},F=async(H,re,q={valid:!0})=>{for(const Y in H){const ie=H[Y];if(ie){const{_f:B,...Z}=ie;if(B){const ye=u.array.has(B.name),Ie=ie._f&&Vit(ie._f);Ie&&m.validatingFields&&D([B.name],!0);const le=await jse(ie,u.disabled,i,g,t.shouldUseNativeValidation&&!re,ye);if(Ie&&m.validatingFields&&D([B.name]),le[B.name]&&(q.valid=!1,re))break;!re&&(lr(le,B.name)?ye?Yit(n.errors,le,B.name):Rs(n.errors,B.name,le[B.name]):Ba(n.errors,B.name))}!Yl(Z)&&await F(Z,re,q)}}return q.valid},_=()=>{for(const H of u.unMount){const re=lr(o,H);re&&(re._f.refs?re._f.refs.every(q=>!__(q)):!__(re._f.ref))&&Te(H)}u.unMount=new Set},L=(H,re)=>!t.disabled&&(H&&re&&Rs(i,H,re),!tf(te(),s)),K=(H,re,q)=>xhe(H,u,{...c.mount?i:ja(re)?s:Wc(H)?{[H]:re}:re},q,re),z=H=>r4(lr(c.mount?i:s,H,t.shouldUnregister?lr(s,H,[]):[])),J=(H,re,q={})=>{const Y=lr(o,H);let ie=re;if(Y){const B=Y._f;B&&(!B.disabled&&Rs(i,H,jhe(re,B)),ie=xR(B.ref)&&Sl(re)?"":re,Dhe(B.ref)?[...B.ref.options].forEach(Z=>Z.selected=ie.includes(Z.value)):B.refs?qT(B.ref)?B.refs.forEach(Z=>{(!Z.defaultChecked||!Z.disabled)&&(Array.isArray(ie)?Z.checked=!!ie.find(ye=>ye===Z.value):Z.checked=ie===Z.value||!!ie)}):B.refs.forEach(Z=>Z.checked=Z.value===ie):i4(B.ref)?B.ref.value="":(B.ref.value=ie,B.ref.type||h.state.next({name:H,values:ei(i)})))}(q.shouldDirty||q.shouldTouch)&&E(H,ie,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&X(H)},Q=(H,re,q)=>{for(const Y in re){if(!re.hasOwnProperty(Y))return;const ie=re[Y],B=H+"."+Y,Z=lr(o,B);(u.array.has(H)||za(ie)||Z&&!Z._f)&&!fb(ie)?Q(B,ie,q):J(B,ie,q)}},V=(H,re,q={})=>{const Y=lr(o,H),ie=u.array.has(H),B=ei(re);Rs(i,H,B),ie?(h.array.next({name:H,values:ei(i)}),(m.isDirty||m.dirtyFields||f.isDirty||f.dirtyFields)&&q.shouldDirty&&h.state.next({name:H,dirtyFields:Uy(s,i),isDirty:L(H,B)})):Y&&!Y._f&&!Sl(B)?Q(H,B,q):J(H,B,q),Dse(H,u)&&h.state.next({...n,name:H}),h.state.next({name:c.mount?H:void 0,values:ei(i)})},W=async H=>{c.mount=!0;const re=H.target;let q=re.name,Y=!0;const ie=lr(o,q),B=Ie=>{Y=Number.isNaN(Ie)||fb(Ie)&&isNaN(Ie.getTime())||tf(Ie,lr(i,q,Ie))},Z=yse(t.mode),ye=yse(t.reValidateMode);if(ie){let Ie,le;const fe=re.type?xse(ie._f):hhe(H),Ae=H.type===bR.BLUR||H.type===bR.FOCUS_OUT,Se=!zit(ie._f)&&!t.resolver&&!lr(n.errors,q)&&!ie._f.deps||Kit(Ae,lr(n.touchedFields,q),n.isSubmitted,ye,Z),be=Dse(q,u,Ae);Rs(i,q,fe),Ae?(!re||!re.readOnly)&&(ie._f.onBlur&&ie._f.onBlur(H),d&&d(0)):ie._f.onChange&&ie._f.onChange(H);const Me=E(q,fe,Ae),we=!Yl(Me)||be;if(!Ae&&h.state.next({name:q,type:H.type,values:ei(i)}),Se)return(m.isValid||f.isValid)&&(t.mode==="onBlur"?Ae&&y():Ae||y()),we&&h.state.next({name:q,...be?{}:Me});if(!Ae&&be&&h.state.next({...n}),t.resolver){const{errors:Ge}=await w([q]);if(B(fe),Y){const We=Sse(n.errors,o,q),Ee=Sse(Ge,o,We.name||q);Ie=Ee.error,q=Ee.name,le=Yl(Ge)}}else D([q],!0),Ie=(await jse(ie,u.disabled,i,g,t.shouldUseNativeValidation))[q],D([q]),B(fe),Y&&(Ie?le=!1:(m.isValid||f.isValid)&&(le=await F(o,!0)));Y&&(ie._f.deps&&(!Array.isArray(ie._f.deps)||ie._f.deps.length>0)&&X(ie._f.deps),k(q,le,Ie,Me))}},U=(H,re)=>{if(lr(n.errors,re)&&H.focus)return H.focus(),1},X=async(H,re={})=>{let q,Y;const ie=II(H);if(t.resolver){const B=await A(ja(H)?H:ie);q=Yl(B),Y=H?!ie.some(Z=>lr(B,Z)):q}else H?(Y=(await Promise.all(ie.map(async B=>{const Z=lr(o,B);return await F(Z&&Z._f?{[B]:Z}:Z)}))).every(Boolean),!(!Y&&!n.isValid)&&y()):Y=q=await F(o);return h.state.next({...!Wc(H)||(m.isValid||f.isValid)&&q!==n.isValid?{}:{name:H},...t.resolver||!H?{isValid:q}:{},errors:n.errors}),re.shouldFocus&&!Y&&TI(o,U,H?ie:u.mount),Y},te=(H,re)=>{let q={...c.mount?i:s};return re&&(q=Che(re.dirtyFields?n.dirtyFields:n.touchedFields,q)),ja(H)?q:Wc(H)?lr(q,H):H.map(Y=>lr(q,Y))},se=(H,re)=>({invalid:!!lr((re||n).errors,H),isDirty:!!lr((re||n).dirtyFields,H),error:lr((re||n).errors,H),isValidating:!!lr(n.validatingFields,H),isTouched:!!lr((re||n).touchedFields,H)}),he=H=>{H&&II(H).forEach(re=>Ba(n.errors,re)),h.state.next({errors:H?n.errors:{}})},pe=(H,re,q)=>{const Y=(lr(o,H,{_f:{}})._f||{}).ref,ie=lr(n.errors,H)||{},{ref:B,message:Z,type:ye,...Ie}=ie;Rs(n.errors,H,{...Ie,...re,ref:Y}),h.state.next({name:H,errors:n.errors,isValid:!1}),q&&q.shouldFocus&&Y&&Y.focus&&Y.focus()},ue=(H,re)=>Fd(H)?h.state.subscribe({next:q=>"values"in q&&H(K(void 0,re),q)}):K(H,re,!0),ge=H=>h.state.subscribe({next:re=>{Git(H.name,re.name,H.exact)&&Hit(re,H.formState||m,qe,H.reRenderRoot)&&H.callback({values:{...i},...n,...re,defaultValues:s})}}).unsubscribe,Ce=H=>(c.mount=!0,f={...f,...H.formState},ge({...H,formState:f})),Te=(H,re={})=>{for(const q of H?II(H):u.mount)u.mount.delete(q),u.array.delete(q),re.keepValue||(Ba(o,q),Ba(i,q)),!re.keepError&&Ba(n.errors,q),!re.keepDirty&&Ba(n.dirtyFields,q),!re.keepTouched&&Ba(n.touchedFields,q),!re.keepIsValidating&&Ba(n.validatingFields,q),!t.shouldUnregister&&!re.keepDefaultValue&&Ba(s,q);h.state.next({values:ei(i)}),h.state.next({...n,...re.keepDirty?{isDirty:L()}:{}}),!re.keepIsValid&&y()},Ne=({disabled:H,name:re})=>{(Lc(H)&&c.mount||H||u.disabled.has(re))&&(H?u.disabled.add(re):u.disabled.delete(re))},xe=(H,re={})=>{let q=lr(o,H);const Y=Lc(re.disabled)||Lc(t.disabled);return Rs(o,H,{...q||{},_f:{...q&&q._f?q._f:{ref:{name:H}},name:H,mount:!0,...re}}),u.mount.add(H),q?Ne({disabled:Lc(re.disabled)?re.disabled:t.disabled,name:H}):P(H,!0,re.value),{...Y?{disabled:re.disabled||t.disabled}:{},...t.progressive?{required:!!re.required,min:F0(re.min),max:F0(re.max),minLength:F0(re.minLength),maxLength:F0(re.maxLength),pattern:F0(re.pattern)}:{},name:H,onChange:W,onBlur:W,ref:ie=>{if(ie){xe(H,re),q=lr(o,H);const B=ja(ie.value)&&ie.querySelectorAll&&ie.querySelectorAll("input,select,textarea")[0]||ie,Z=$it(B),ye=q._f.refs||[];if(Z?ye.find(Ie=>Ie===B):B===q._f.ref)return;Rs(o,H,{_f:{...q._f,...Z?{refs:[...ye.filter(__),B,...Array.isArray(lr(s,H))?[{}]:[]],ref:{type:B.type,name:H}}:{ref:B}}}),P(H,!1,void 0,B)}else q=lr(o,H,{}),q._f&&(q._f.mount=!1),(t.shouldUnregister||re.shouldUnregister)&&!(ghe(u.array,H)&&c.action)&&u.unMount.add(H)}}},me=()=>t.shouldFocusError&&TI(o,U,u.mount),de=H=>{Lc(H)&&(h.state.next({disabled:H}),TI(o,(re,q)=>{const Y=lr(o,q);Y&&(re.disabled=Y._f.disabled||H,Array.isArray(Y._f.refs)&&Y._f.refs.forEach(ie=>{ie.disabled=Y._f.disabled||H}))},0,!1))},ce=(H,re)=>async q=>{let Y;q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let ie=ei(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:B,values:Z}=await w();n.errors=B,ie=ei(Z)}else await F(o);if(u.disabled.size)for(const B of u.disabled)Ba(ie,B);if(Ba(n.errors,"root"),Yl(n.errors)){h.state.next({errors:{}});try{await H(ie,q)}catch(B){Y=B}}else re&&await re({...n.errors},q),me(),setTimeout(me);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Yl(n.errors)&&!Y,submitCount:n.submitCount+1,errors:n.errors}),Y)throw Y},ee=(H,re={})=>{lr(o,H)&&(ja(re.defaultValue)?V(H,ei(lr(s,H))):(V(H,re.defaultValue),Rs(s,H,ei(re.defaultValue))),re.keepTouched||Ba(n.touchedFields,H),re.keepDirty||(Ba(n.dirtyFields,H),n.isDirty=re.defaultValue?L(H,ei(lr(s,H))):L()),re.keepError||(Ba(n.errors,H),m.isValid&&y()),h.state.next({...n}))},De=(H,re={})=>{const q=H?ei(H):s,Y=ei(q),ie=Yl(H),B=ie?s:Y;if(re.keepDefaultValues||(s=q),!re.keepValues){if(re.keepDirtyValues){const Z=new Set([...u.mount,...Object.keys(Uy(s,i))]);for(const ye of Array.from(Z))lr(n.dirtyFields,ye)?Rs(B,ye,lr(i,ye)):V(ye,lr(B,ye))}else{if(n4&&ja(H))for(const Z of u.mount){const ye=lr(o,Z);if(ye&&ye._f){const Ie=Array.isArray(ye._f.refs)?ye._f.refs[0]:ye._f.ref;if(xR(Ie)){const le=Ie.closest("form");if(le){le.reset();break}}}}if(re.keepFieldsRef)for(const Z of u.mount)V(Z,lr(B,Z));else o={}}i=t.shouldUnregister?re.keepDefaultValues?ei(s):{}:ei(B),h.array.next({values:{...B}}),h.state.next({values:{...B}})}u={mount:re.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!m.isValid||!!re.keepIsValid||!!re.keepDirtyValues,c.watch=!!t.shouldUnregister,h.state.next({submitCount:re.keepSubmitCount?n.submitCount:0,isDirty:ie?!1:re.keepDirty?n.isDirty:!!(re.keepDefaultValues&&!tf(H,s)),isSubmitted:re.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ie?{}:re.keepDirtyValues?re.keepDefaultValues&&i?Uy(s,i):n.dirtyFields:re.keepDefaultValues&&H?Uy(s,H):re.keepDirty?n.dirtyFields:{},touchedFields:re.keepTouched?n.touchedFields:{},errors:re.keepErrors?n.errors:{},isSubmitSuccessful:re.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},ke=(H,re)=>De(Fd(H)?H(i):H,re),He=(H,re={})=>{const q=lr(o,H),Y=q&&q._f;if(Y){const ie=Y.refs?Y.refs[0]:Y.ref;ie.focus&&(ie.focus(),re.shouldSelect&&Fd(ie.select)&&ie.select())}},qe=H=>{n={...n,...H}},_e={control:{register:xe,unregister:Te,getFieldState:se,handleSubmit:ce,setError:pe,_subscribe:ge,_runSchema:w,_focusError:me,_getWatch:K,_getDirty:L,_setValid:y,_setFieldArray:v,_setDisabledField:Ne,_setErrors:I,_getFieldArray:z,_reset:De,_resetDefaultValues:()=>Fd(t.defaultValues)&&t.defaultValues().then(H=>{ke(H,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:_,_disableForm:de,_subjects:h,_proxyFormState:m,get _fields(){return o},get _formValues(){return i},get _state(){return c},set _state(H){c=H},get _defaultValues(){return s},get _names(){return u},set _names(H){u=H},get _formState(){return n},get _options(){return t},set _options(H){t={...t,...H}}},subscribe:Ce,trigger:X,register:xe,handleSubmit:ce,watch:ue,setValue:V,getValues:te,reset:ke,resetField:ee,clearErrors:he,unregister:Te,setError:pe,setFocus:He,getFieldState:se};return{..._e,formControl:_e}}function at(e={}){const t=Dn.useRef(void 0),n=Dn.useRef(void 0),[o,s]=Dn.useState({isDirty:!1,isValidating:!1,isLoading:Fd(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Fd(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:o},e.defaultValues&&!Fd(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:c,...u}=Xit(e);t.current={...u,formState:o}}const i=t.current.control;return i._options=e,a4(()=>{const c=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(u=>({...u,isReady:!0})),i._formState.isReady=!0,c},[i]),Dn.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),Dn.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),Dn.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),Dn.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),Dn.useEffect(()=>{if(i._proxyFormState.isDirty){const c=i._getDirty();c!==o.isDirty&&i._subjects.state.next({isDirty:c})}},[i,o.isDirty]),Dn.useEffect(()=>{e.values&&!tf(e.values,n.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=e.values,s(c=>({...c}))):i._resetDefaultValues()},[i,e.values]),Dn.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=bhe(o,i),t.current}const xn=e=>{const{htmlOnly:t,...n}=e,o=Ke(),{setValue:s}=o,i=a.useCallback(c=>{console.log("onBeforeSubmit",c),s("outputType",c)},[s]);return r.jsx(t4,{onSelect:i,noGutter:!0,...t&&{options:jn.optionsHTMLOnly},...n})};xn.displayName="PrintReportButtonContainer";xn.propTypes={htmlOnly:l.bool};var M0={},Ise;function Zit(){if(Ise)return M0;Ise=1;var e=Qn();Object.defineProperty(M0,"__esModule",{value:!0}),M0.default=void 0;var t=e(sr()),n=rr();return M0.default=(0,t.default)((0,n.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),M0}var elt=Zit();const c4=qn(elt),tlt=e=>{if(!e)return"";const{DeptID:t,DeptName:n,AbbrName:o}=e;return[t,o||n||"()"].filter(Boolean).join(" ")},nlt=e=>{if(!e)return"";const{DeptName:t,AbbrName:n}=e;return[n||t||""].filter(Boolean).join(" ")},rlt=e=>{if(!e)return"";const{DeptID:t}=e;return t==="*"?"*":`${t}`},olt=(e,t)=>(e==null?void 0:e.DeptID)===(t==null?void 0:t.DeptID),The=e=>e==null?void 0:e.DeptID,slt=(e,t)=>t.includes(The(e)),vi={getOptionLabel:tlt,getOptionLabelForId:rlt,isOptionEqualToValue:olt,getOptionKey:The,isOptionChecked:slt,getOptionName:nlt},Ohe=(e,t=100)=>{const[n,o]=a.useState(e),s=a.useRef(null);return a.useEffect(()=>(s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{o(e),s.current=null},t),()=>{s.current&&clearTimeout(s.current)}),[e,t]),[n,(c,u)=>{const d=typeof c=="function";d?console.log("cancelAndSetValue","func"):console.log("cancelAndSetValue",c),s.current&&(clearTimeout(s.current),s.current=null),o(c),u&&u(d?c():c)}]};var _0={},Tse;function alt(){if(Tse)return _0;Tse=1;var e=Qn();Object.defineProperty(_0,"__esModule",{value:!0}),_0.default=void 0;var t=e(sr()),n=rr();return _0.default=(0,t.default)((0,n.jsx)("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown"),_0}var ilt=alt();const llt=qn(ilt),Ra=e=>{const{children:t,title:n,disabled:o,...s}=e;return n?r.jsx(lk,{title:n,...s,children:o?r.jsx("span",{children:t}):t}):a.cloneElement(t,s)};Ra.propTypes={title:l.string,children:l.oneOfType([l.node,l.array,l.func])};Ra.displayName="TooltipWrapper";const Nw=a.memo(a.forwardRef((e,t)=>{var ke,He,qe,Le;const{size:n="medium",defaultSelected:o,openOnClick:s=!1,excludeSelected:i=!1,getLabel:c,open:u,getItemIconComponent:d,options:p,isOptionEqualToValue:m,getOptionKey:f,getOptionLabel:h,label:g="",noGutter:x=!1,dense:y=!1,loading:D,slotProps:v,onClick:T,onItemClick:I,onSelect:P,onSubmit:E,onOpen:k,onClose:w,onToggle:A,hoverToOpen:F,split:_,IconComponent:L=llt,color:K,leftButtons:z,title:J,disabled:Q,...V}=e,W=a.useRef(null),[U,X]=a.useState(o),[te,se]=a.useState(u??!1),[he,pe]=Ohe(te),ue=a.useCallback(()=>{k?k():pe(!0)},[k,pe]),ge=a.useCallback(()=>{A&&A(),pe(_e=>!_e)},[A,pe]),Ce=a.useCallback(_e=>{if(console.log("handleClick",U),_e.stopPropagation(),!U&&s){ue();return}const H=T||P;H&&H(U),E&&E()},[ue,T,P,E,s,U]),Te=a.useCallback((_e,H={})=>{const{debounce:re=!1}=H;console.log("button.handleClose",H),w?w(_e):re?se(!1):pe(!1)},[w,pe]),Ne=a.useCallback((_e,H)=>{_e.stopPropagation(),console.log("handleItemClick",H),Te(),X(H);const re=I||P;re?re(H):console.warn("onItemClick is not defined, trigger stopped"),E&&E()},[Te,I,P,E]),xe=a.useMemo(()=>c?c(U)||g:U,[c,g,U]),me=a.useMemo(()=>u??he,[u,he]),de=a.useMemo(()=>F?ue:void 0,[ue,F]),ce=a.useMemo(()=>F?_e=>Te(_e,{debounce:!0}):void 0,[Te,F]),ee=a.useMemo(()=>U&&d?d(U):null,[d,U]),De=a.useMemo(()=>_&&(p==null?void 0:p.length)>1,[p==null?void 0:p.length,_]);return r.jsxs(r.Fragment,{children:[r.jsxs(Qp,{size:n,ref:W,"aria-label":"doc type",onMouseEnter:de,onMouseLeave:ce,sx:{"&:hover":{backgroundColor:Nn.HOVER},...y&&{"& .main.MuiButtonGroup-grouped":{paddingLeft:ee?2:1,paddingRight:De?1:2,paddingTop:"4px",paddingBottom:"3px"},"& .drop-down.MuiButtonGroup-grouped.MuiButtonGroup-lastButton ":{paddingLeft:0,paddingRight:0,minWidth:"20px",paddingTop:"6px",paddingBottom:"6px"},"& .MuiButtonGroup-grouped .MuiButton-endIcon":{marginLeft:0}},...x&&{"& .MuiButtonGroup-grouped .MuiButtonGroup-firstButton":{borderRight:0}}},color:K,disabled:Q,...V,children:[z,r.jsx(Ra,{title:J,children:r.jsx(fa,{size:n,onClick:Ce,startIcon:ee?r.jsx(ee,{fontSize:"small"}):null,className:"main",...L&&!_&&{endIcon:r.jsx(L,{fontSize:"small",htmlColor:K})},sx:[{...x&&{"&.MuiButtonGroup-grouped:not(:last-of-type)":{borderRight:0}}}],...v==null?void 0:v.button,children:v!=null&&v.typography?r.jsx(nn,{variant:(ke=v==null?void 0:v.typography)==null?void 0:ke.variant,sx:{whiteSpace:"nowrap",...K&&{color:K}},children:xe}):xe})}),De&&r.jsx(fa,{size:n,onClick:ge,className:"drop-down",sx:[{}],children:r.jsx(L,{fontSize:"small",htmlColor:K,...(He=v==null?void 0:v.dropdownButton)==null?void 0:He.icon})})]}),r.jsx(Xp,{sx:[_e=>{var H;return{zIndex:_e.zIndex.tooltip,minWidth:((H=W.current)==null?void 0:H.clientWidth)||"5rem"}},...Array.isArray((qe=v==null?void 0:v.popper)==null?void 0:qe.sx)?v.popper.sx:[(Le=v==null?void 0:v.popper)==null?void 0:Le.sx].filter(Boolean)],open:me,anchorEl:W.current,role:void 0,transition:!0,disablePortal:!0,...v==null?void 0:v.popper,children:({TransitionProps:_e,placement:H})=>r.jsx(vC,{..._e,style:{transformOrigin:H==="bottom"?"center top":"center bottom"},children:r.jsx(_s,{...v==null?void 0:v.paper,onMouseEnter:F?ue:void 0,onMouseLeave:F?Te:void 0,...v==null?void 0:v.paper,children:r.jsxs(r.Fragment,{children:[D&&r.jsx(Ns,{p:2,children:r.jsx(Cr,{})}),p&&r.jsx(d3,{onClickAway:Te,children:r.jsx(xw,{id:"split-button-menu",autoFocusItem:!0,children:p.filter(re=>i?m?!m(U,re):U!=re:!0).map((re,q)=>{const Y=f?f(re):re.key,ie=h?h(re):re.label,B=d?d(re):null;return r.jsxs($h,{selected:m?m(U,re):U==re,onClick:Z=>Ne(Z,re),children:[B&&r.jsx(jC,{children:r.jsx(B,{})}),r.jsx(y3,{children:ie})]},Y||q)})})})]})})})})]})}));Nw.displayName="DropDownButtonView";Nw.propTypes={label:l.string,onSelect:l.func,onClick:l.func,onItemClick:l.func,onSubmit:l.func,onOpen:l.func,onClose:l.func,onToggle:l.func,noGutter:l.bool,dense:l.bool,loading:l.bool,open:l.bool,openOnClick:l.bool,getLabel:l.func,getItemIconComponent:l.func,getOptions:l.func,isOptionEqualToValue:l.func,getOptionKey:l.func,getOptionLabel:l.func,size:l.string,defaultSelected:l.object,options:l.array,slotProps:l.object,hoverToOpen:l.bool,split:l.bool,excludeSelected:l.bool,IconComponent:l.elementType,color:l.string,leftButtons:l.node,title:l.string};const Fw=a.createContext();function Ehe({sharedKey:e,defaultOptions:t,onInit:n,onChanged:o}){const[s,i]=a.useState(t),c=a.useContext(Fw),u=a.useMemo(()=>!!c&&!!e,[c,e]),d=a.useCallback(f=>{e&&!c&&Ad.error(" SharedContext"),u?c.updateOptions(e,f):i(f),o&&o(f)},[u,o,c,e]),p=a.useMemo(()=>u?c.getOptions(e):s,[u,s,c,e]),m=a.useCallback(({includes:f,excludes:h}={})=>{c.resetOptions({includes:f,excludes:h})},[c]);return En(()=>{u&&n&&c.hasOptions(e)&&n(c.getOptions(e))},[]),[p,d,m]}const u4=e=>{const{sharedKey:t,defaultOptions:n=[],...o}=e,{operator:s,token:i,switchDept:c}=a.useContext(Be),{httpGetAsync:u}=Zn(),d=nm(),[p,m]=a.useState(!1),[f,h]=Ohe(p);a.useContext(Fw);const[g,x]=a.useState({loading:null}),y=a.useMemo(()=>s?{DeptID:s.CurDeptID,DeptName:s.CurDeptName,AbbrName:s.AbbrName}:null,[s]),D=a.useCallback(()=>{h(!0,m)},[h]),v=a.useCallback(w=>{console.log("sw.handleClose"),h(!1,m)},[h]),T=a.useCallback(()=>{console.log("handleToggle"),h(w=>(console.log("prev",w),!w))},[h]),[I,P]=Ehe({sharedKey:t,defaultOptions:n,onInit:()=>{x(w=>({...w,loading:!1}))}}),E=a.useCallback(async()=>{console.log("loadOptions triggered"),x(w=>({...w,loading:!0}));try{const{status:w,payload:A,error:F}=await u({url:"v1/auth/depts",bearer:i});if(w.success)x(_=>({..._,loading:!1})),P(A);else throw F??new Error("")}catch(w){(w==null?void 0:w.status)==401&&d.toLogin()}finally{x(w=>({...w,loading:!1}))}},[d,u,P,i]);a.useEffect(()=>{f&&g.loading==null&&E()},[f,E,g.loading]);const k=a.useMemo(()=>sessionStorage.getItem(Tn.COOKIE_SPAWN)==1,[]);return a.useMemo(()=>"success",[k]),r.jsx(Nw,{label:"",defaultSelected:y,getLabel:vi.getOptionName,getOptionKey:vi.getOptionKey,getOptionLabel:vi.getOptionLabel,isOptionEqualToValue:vi.isOptionEqualToValue,open:f,onOpen:D,onClose:v,onToggle:T,onClick:T,onSelect:c,IconComponent:c4,color:"info",size:"large",...k&&{color:VI[300]},slotProps:{typography:{variant:"h6"},paper:{elevation:8}},...g,options:I,...o})};u4.propTypes={sharedKey:l.string,defaultOptions:l.array};u4.displayName="DeptSwitchButtonContainer";const lc=a.createContext(),d4=a.memo(a.forwardRef((e,t)=>{const{children:n,drawerOpen:o,mobile:s,...i}=e,c=a.useMemo(()=>!o,[o]);return r.jsxs(ve,{inline:!0,alignItems:"center",justifyContent:"flex-start",...c&&{ml:-3},children:[c&&r.jsx(Khe,{}),r.jsx(nn,{ref:t,variant:"h5",...i,children:n})]})}));d4.propTypes={mobile:l.bool,children:l.oneOfType([l.node,l.array]),drawerOpen:l.bool,onClick:l.func};d4.displayName="FrameTitleView";const Phe=e=>{const{...t}=e,{handleToggleDrawerOpen:n,drawerOpen:o}=a.useContext(Sn),{mobile:s}=a.useContext(lc);return r.jsx(d4,{mobile:s,onClick:n,drawerOpen:o,...t})};Phe.displayName="FrameTitleContainer";const clt=e=>{if(!e)return"";const{CodeID:t,CodeData:n}=e;return`${t} ${n}`},ult=(e,t)=>(e==null?void 0:e.CodeID)===(t==null?void 0:t.CodeID),dlt=e=>e==null?void 0:e.CodeID,Gc={getOptionLabel:clt,isOptionEqualToValue:ult,getOptionKey:dlt},Hb=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e,{token:i}=a.useContext(Be);return r.jsx(bt,{name:n,label:o,ref:t,bearer:i,url:"v1/sales/customer/payments",getOptionLabel:Gc.getOptionLabel,isOptionEqualToValue:Gc.isOptionEqualToValue,...s})});Hb.propTypes={name:l.string,label:l.string,children:l.node};Hb.displayName="PaymentPickerContainer";const Rhe=e=>{const{editing:t,...n}=e;return r.jsx(xr,{disabled:!t,fullWidth:!0,dense:!0,defaultValue:!1,size:"small",tooltip:"",slotProps:{label:{slotProps:{typography:{variant:"subtitle2"}},inline:!0}},...n})};Rhe.propTypes={editing:l.bool};const plt=a.memo(Rhe),ai=a.createContext(),p4=({name:e})=>{const t=a.useContext(ai),n=Ue({name:e}),o=a.useMemo(()=>n?"":"",[n]);return r.jsx(plt,{name:e,editing:t.editing,tooltip:o})};p4.propTypes={name:l.string.isRequired};p4.displayName="P42DrvPayCheckboxContainer";const whe=e=>{const{editing:t,...n}=e;return r.jsx(xr,{disabled:!t,fullWidth:!0,dense:!0,tooltip:"",defaultValue:!1,size:"small",slotProps:{label:{slotProps:{typography:{variant:"subtitle2"}},inline:!0}},...n})};whe.propTypes={editing:l.bool};const mlt=a.memo(whe),m4=({name:e})=>{const t=a.useContext(ai),n=Ue({name:e}),o=a.useMemo(()=>n?"":"",[n]);return r.jsx(mlt,{name:e,editing:t.editing,tooltip:o})};m4.propTypes={name:l.string.isRequired};m4.displayName="P42TrvPayCheckboxContainer";const khe=e=>{const{editing:t,...n}=e;return r.jsx(xr,{disabled:!t,fullWidth:!0,dense:!0,defaultValue:!1,size:"small",tooltip:"",slotProps:{label:{slotProps:{typography:{variant:"subtitle2"}},inline:!0}},...n})};khe.propTypes={editing:l.bool};const flt=a.memo(khe),f4=({name:e})=>{const t=a.useContext(ai),n=Ue({name:e}),o=a.useMemo(()=>n?"":"",[n]);return r.jsx(flt,{name:e,editing:t.editing,tooltip:o})};f4.propTypes={name:l.string.isRequired};f4.displayName="P42CndPayCheckboxContainer";const OD=a.memo(e=>{const{disableByClass:t,disabled:n,...o}=e,{token:s,operator:i}=a.useContext(Be),c=a.useCallback(d=>d,[]),u=a.useMemo(()=>n?!0:t==null?!1:i.Class<t,[t,n,i.Class]);return r.jsx(bt,{url:"v1/auth/depts",getOptionLabel:vi.getOptionLabel,isOptionEqualToValue:vi.isOptionEqualToValue,bearer:s,getOptions:c,disabled:u,...o})});OD.propTypes={disabled:l.bool,disableByClass:l.number};OD.displayName="AuthDeptPicker";const Ahe=()=>{const e=at(),t=a.useContext(Be),n=a.useMemo(()=>e.handleSubmit(t.onDeptSwitchSubmit,t.onDeptSwitchSubmitError),[t.onDeptSwitchSubmit,t.onDeptSwitchSubmitError,e]);return r.jsx(Ye,{...e,children:r.jsx("form",{children:r.jsx(Er,{title:"",onSubmit:n,open:t.deptSwitching,onClose:t.cancelDeptSwitch,onCancel:t.cancelDeptSwitch,buttonProps:{size:"small"},children:r.jsx(ve,{py:1,children:r.jsx(OD,{label:"",name:"newDept",autoFocus:!0,placeholder:"",required:!0,rules:{required:""},onError:t.handleError})})})})})};Ahe.displayName="DeptSwitchDialogContainer";const EC=a.createContext();var L0={},Ose;function hlt(){if(Ose)return L0;Ose=1;var e=Qn();Object.defineProperty(L0,"__esModule",{value:!0}),L0.default=void 0;var t=e(sr()),n=rr();return L0.default=(0,t.default)((0,n.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"}),"Notifications"),L0}var glt=hlt();const blt=qn(glt),Nhe=a.memo(a.forwardRef((e,t)=>{const{onGenerateToast:n,togglePopoverOpen:o,unreadCount:s,...i}=e;return r.jsx(a.Fragment,{children:r.jsx(br,{onClick:o,children:r.jsx(Fpe,{color:"secondary",badgeContent:s,children:r.jsx(blt,{})})})})}));Nhe.displayName="UnreadMessagesIconButtonView";const xlt=()=>{const e=a.useContext(EC);return r.jsx(Nhe,{unreadCount:e==null?void 0:e.unreadCount,togglePopoverOpen:e==null?void 0:e.togglePopoverOpen})},Ese=Object.freeze({ELLIPSIS:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",wordBreak:"break-all"},ELLIPSIS_BOX:{overflow:"hidden"},LISTVIEW_OFFTOP_SHADOW:{boxShadow:"inset 0px 8px 8px -5px rgb(0 0 0 / 30%)"},PAPER_OFFTOP_SHADOW:{boxShadow:"0px 2px 1px -1px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12), inset 0px 8px 8px -5px rgb(0 0 0 / 30%)"},BOX_SHADOW_TRANSITION:{transition:"box-shadow 0.3s"},ONE_LINER:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},DEFAULT_FORM_LABEL_STYLES:{"& .MuiTypography-root":{fontWeight:600}},FORM_LABEL_STYLES_NOWRAP:{"& .MuiFormLabel-root ":{whiteSpace:"nowrap"},"& .MuiTypography-root":{fontWeight:600,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},DEFAULT_INPUT_LABEL_PROPS:{shrink:!0},DEFAULT_OPTION_PICKER_INPUT_LABEL_PROPS:{shrink:!0},BACKDROP_TRANSPARENT:{backgroundColor:"transparent"},OUT_BOX_SHADOW:"0px 2px 1px -1px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12)",OUT_BOX_SHADOW_H:"-2px 0px 1px -1px rgba(0,0,0,0.2), 2px 0px 1px -1px rgba(0,0,0,0.2), -1px 0px 1px 0px rgba(0,0,0,0.14) , 1px 0px 1px 0px rgba(0,0,0,0.14), -1px 0px 3px 0px rgba(0,0,0,0.12), 1px 0px 3px 0px rgba(0,0,0,0.12)",IN_BOX_SHADOW:"inset 0px 2px 1px -1px rgba(0,0,0,0.2), inset 0px 1px 1px 0px rgba(0,0,0,0.14), inset 0px 1px 3px 0px rgba(0,0,0,0.12)",DISABLED_INPUT_BG:{background:"rgba(0, 0, 0, 0.003)"},TRANSPARENT_INPUT_BG:{background:"transparent"},GRADIENT_INPUT_BG:{background:"linear-gradient(to right, #f3e7f127 0%, #ecbedd25 60%, #e6f0f8ff 90%, #e6f0f8ff 100%)"},GRADIENT_INPUT_BG_HOVER:{"&:hover":{background:"linear-gradient(to right, #f3e7f127 0%, #ecbedd7c 60%, #d9e6f2ff 80%, #d9e6f2ff 100%)"}},GRADIENT_INPUT_BG_FOCUSED:{"&.Mui-focused":{background:"linear-gradient(to right, #f3e7f127 0%, #ecbeddad 60%, #c9e0f0ff 80%, #c9e0f0ff 100%)"}}}),ylt=(e,t=vWe)=>({"&":{color:e.palette.getContrastText(t[300]),backgroundColor:t[300],"&:hover":{backgroundColor:t[500]}}}),Fhe=48,Clt=({theme:e,drawerOpen:t})=>({paddingTop:e.spacing(1),...t?{paddingLeft:{xl:"60px",lg:"50px",md:"40px",sm:"30px",xs:"40px"},paddingRight:{xl:"60px",lg:"50px",md:"40px",sm:"30px",xs:"40px"}}:{paddingLeft:{xl:"60px",lg:"50px",md:"40px",sm:"30px",xs:"40px"},paddingRight:{xl:"60px",lg:"50px",md:"40px",sm:"30px",xs:"40px"}}}),Dlt=({theme:e,drawerOpen:t})=>({paddingTop:e.spacing(1),...t?{paddingLeft:{xl:"60px",lg:"50px",md:"40px",sm:"30px",xs:"20px"},paddingRight:{xl:"60px",lg:"50px",md:"40px",sm:"30px",xs:"20px"}}:{paddingLeft:{xl:"60px",lg:"50px",md:"40px",sm:"30px",xs:"20px"},paddingRight:{xl:"60px",lg:"50px",md:"40px",sm:"30px",xs:"20px"}}}),Slt=()=>({my:0,pr:2.5,minHeight:Fhe}),ur={STYLES:Ese,...Ese,forColorButton:ylt,ofFrameBox:Dlt,ofHomeBox:Clt,ofGridBottomToolbar:Slt,GRID_BOTTOM_TOOLBAR_HEIGHT:Fhe},Mw=a.memo(a.forwardRef((e,t)=>{const{iconComponent:n,text:o,variant:s="h6",bgcolor:i="primary.main",dense:c=!1,sx:u=[],...d}=e,p=n;return r.jsxs(ve,{ref:t,inline:!0,fullWidth:!0,alignItems:"center",pt:"2px",pl:.5,sx:[{bgcolor:i,height:c?"26px":"34px"},...Array.isArray(u)?u:[u],ur.ELLIPSIS],...d,children:[r.jsx(ve,{children:n&&r.jsx(p,{htmlColor:"#fff",fontSize:c?"small":"medium"})}),r.jsx(nn,{variant:s,color:"primary.contrastText",sx:{fontWeight:500,fontSize:c?17:20},children:o})]})}));Mw.propTypes={iconComponent:l.oneOfType([l.func,l.elementType]),text:l.string.isRequired,variant:l.string,sx:l.oneOfType([l.array,l.object]),bgcolor:l.string};Mw.displayName="FrameMenuGroupHeader";const Xc=a.createContext();function vlt(){const[e,t]=a.useState({}),n=a.useRef(),o=a.useCallback((p,m,f)=>{f.preventDefault(),f.stopPropagation(),t(h=>{const g={...h};if(f.shiftKey&&n.current!==void 0&&m!==!1){const x=Math.min(n.current,p),y=Math.max(n.current,p);for(let D=x;D<=y;D++)g[D]=!0}else m===void 0?g[p]?delete g[p]:g[p]=!0:m?g[p]=!0:delete g[p];return g[p]?n.current=p:n.current===p&&(n.current=void 0),g})},[]),s=a.useCallback((p,m)=>{o(p,void 0,m)},[o]),i=a.useCallback(p=>!!e[p],[e]),c=a.useMemo(()=>Object.keys(e),[e]),u=a.useMemo(()=>Object.keys(e).length>0,[e]),d=a.useCallback(()=>{t({}),n.current=void 0},[]);return{setChecked:o,toggleChecked:s,isChecked:i,checked:c,isAnyChecked:u,uncheckAll:d}}const Kt=({children:e})=>{const t=a.useRef({}),n=a.useCallback(()=>t==null?void 0:t.current,[]),o=a.useCallback(i=>{t.current=i},[]),s=vlt();return r.jsx(Xc.Provider,{value:{paramsRef:t,getActiveParams:n,setActiveParams:o,...s},children:e})};Kt.propTypes={children:l.oneOfType([l.array,l.object])};const Yr=it(_s,{name:"ListViewBox",shouldForwardProp:e=>e!=="withHeader"})(({theme:e,withHeader:t,square:n})=>({paddingRight:"2px",...(t||n)&&{borderTopLeftRadius:0,borderTopRightRadius:0},...n&&{borderBottomLeftRadius:0,borderBottomRightRadius:0},marginBottom:"4px"}));Yr.propTypes={};Yr.displayName="ListViewBox";var Pse=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function jlt(e,t){return!!(e===t||Pse(e)&&Pse(t))}function Ilt(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!jlt(e[n],t[n]))return!1;return!0}function Ea(e,t){t===void 0&&(t=Ilt);var n,o=[],s,i=!1;function c(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return i&&n===this&&t(u,o)||(s=e.apply(this,u),i=!0,n=this,o=u),s}return c}var Tlt=typeof performance=="object"&&typeof performance.now=="function",Rse=Tlt?function(){return performance.now()}:function(){return Date.now()};function wse(e){cancelAnimationFrame(e.id)}function Olt(e,t){var n=Rse();function o(){Rse()-n>=t?e.call(null):s.id=requestAnimationFrame(o)}var s={id:requestAnimationFrame(o)};return s}var L_=-1;function kse(e){if(e===void 0&&(e=!1),L_===-1||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(t),L_=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return L_}var jy=null;function Ase(e){if(e===void 0&&(e=!1),jy===null||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var o=document.createElement("div"),s=o.style;return s.width="100px",s.height="100px",t.appendChild(o),document.body.appendChild(t),t.scrollLeft>0?jy="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?jy="negative":jy="positive-ascending"),document.body.removeChild(t),jy}return jy}var Elt=150,Plt=function(t,n){return t};function Mhe(e){var t,n=e.getItemOffset,o=e.getEstimatedTotalSize,s=e.getItemSize,i=e.getOffsetForIndexAndAlignment,c=e.getStartIndexForOffset,u=e.getStopIndexForStartIndex,d=e.initInstanceProps,p=e.shouldResetStyleCacheOnItemSizeChange,m=e.validateProps;return t=(function(f){CD(h,f);function h(x){var y;return y=f.call(this,x)||this,y._instanceProps=d(y.props,JL(y)),y._outerRef=void 0,y._resetIsScrollingTimeoutId=null,y.state={instance:JL(y),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof y.props.initialScrollOffset=="number"?y.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},y._callOnItemsRendered=void 0,y._callOnItemsRendered=Ea(function(D,v,T,I){return y.props.onItemsRendered({overscanStartIndex:D,overscanStopIndex:v,visibleStartIndex:T,visibleStopIndex:I})}),y._callOnScroll=void 0,y._callOnScroll=Ea(function(D,v,T){return y.props.onScroll({scrollDirection:D,scrollOffset:v,scrollUpdateWasRequested:T})}),y._getItemStyle=void 0,y._getItemStyle=function(D){var v=y.props,T=v.direction,I=v.itemSize,P=v.layout,E=y._getItemStyleCache(p&&I,p&&P,p&&T),k;if(E.hasOwnProperty(D))k=E[D];else{var w=n(y.props,D,y._instanceProps),A=s(y.props,D,y._instanceProps),F=T==="horizontal"||P==="horizontal",_=T==="rtl",L=F?w:0;E[D]=k={position:"absolute",left:_?void 0:L,right:_?L:void 0,top:F?0:w,height:F?"100%":A,width:F?A:"100%"}}return k},y._getItemStyleCache=void 0,y._getItemStyleCache=Ea(function(D,v,T){return{}}),y._onScrollHorizontal=function(D){var v=D.currentTarget,T=v.clientWidth,I=v.scrollLeft,P=v.scrollWidth;y.setState(function(E){if(E.scrollOffset===I)return null;var k=y.props.direction,w=I;if(k==="rtl")switch(Ase()){case"negative":w=-I;break;case"positive-descending":w=P-T-I;break}return w=Math.max(0,Math.min(w,P-T)),{isScrolling:!0,scrollDirection:E.scrollOffset<w?"forward":"backward",scrollOffset:w,scrollUpdateWasRequested:!1}},y._resetIsScrollingDebounced)},y._onScrollVertical=function(D){var v=D.currentTarget,T=v.clientHeight,I=v.scrollHeight,P=v.scrollTop;y.setState(function(E){if(E.scrollOffset===P)return null;var k=Math.max(0,Math.min(P,I-T));return{isScrolling:!0,scrollDirection:E.scrollOffset<k?"forward":"backward",scrollOffset:k,scrollUpdateWasRequested:!1}},y._resetIsScrollingDebounced)},y._outerRefSetter=function(D){var v=y.props.outerRef;y._outerRef=D,typeof v=="function"?v(D):v!=null&&typeof v=="object"&&v.hasOwnProperty("current")&&(v.current=D)},y._resetIsScrollingDebounced=function(){y._resetIsScrollingTimeoutId!==null&&wse(y._resetIsScrollingTimeoutId),y._resetIsScrollingTimeoutId=Olt(y._resetIsScrolling,Elt)},y._resetIsScrolling=function(){y._resetIsScrollingTimeoutId=null,y.setState({isScrolling:!1},function(){y._getItemStyleCache(-1,null)})},y}h.getDerivedStateFromProps=function(y,D){return Rlt(y,D),m(y),null};var g=h.prototype;return g.scrollTo=function(y){y=Math.max(0,y),this.setState(function(D){return D.scrollOffset===y?null:{scrollDirection:D.scrollOffset<y?"forward":"backward",scrollOffset:y,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},g.scrollToItem=function(y,D){D===void 0&&(D="auto");var v=this.props,T=v.itemCount,I=v.layout,P=this.state.scrollOffset;y=Math.max(0,Math.min(y,T-1));var E=0;if(this._outerRef){var k=this._outerRef;I==="vertical"?E=k.scrollWidth>k.clientWidth?kse():0:E=k.scrollHeight>k.clientHeight?kse():0}this.scrollTo(i(this.props,y,D,P,this._instanceProps,E))},g.componentDidMount=function(){var y=this.props,D=y.direction,v=y.initialScrollOffset,T=y.layout;if(typeof v=="number"&&this._outerRef!=null){var I=this._outerRef;D==="horizontal"||T==="horizontal"?I.scrollLeft=v:I.scrollTop=v}this._callPropsCallbacks()},g.componentDidUpdate=function(){var y=this.props,D=y.direction,v=y.layout,T=this.state,I=T.scrollOffset,P=T.scrollUpdateWasRequested;if(P&&this._outerRef!=null){var E=this._outerRef;if(D==="horizontal"||v==="horizontal")if(D==="rtl")switch(Ase()){case"negative":E.scrollLeft=-I;break;case"positive-ascending":E.scrollLeft=I;break;default:var k=E.clientWidth,w=E.scrollWidth;E.scrollLeft=w-k-I;break}else E.scrollLeft=I;else E.scrollTop=I}this._callPropsCallbacks()},g.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&wse(this._resetIsScrollingTimeoutId)},g.render=function(){var y=this.props,D=y.children,v=y.className,T=y.direction,I=y.height,P=y.innerRef,E=y.innerElementType,k=y.innerTagName,w=y.itemCount,A=y.itemData,F=y.itemKey,_=F===void 0?Plt:F,L=y.layout,K=y.outerElementType,z=y.outerTagName,J=y.style,Q=y.useIsScrolling,V=y.width,W=this.state.isScrolling,U=T==="horizontal"||L==="horizontal",X=U?this._onScrollHorizontal:this._onScrollVertical,te=this._getRangeToRender(),se=te[0],he=te[1],pe=[];if(w>0)for(var ue=se;ue<=he;ue++)pe.push(a.createElement(D,{data:A,key:_(ue,A),index:ue,isScrolling:Q?W:void 0,style:this._getItemStyle(ue)}));var ge=o(this.props,this._instanceProps);return a.createElement(K||z||"div",{className:v,onScroll:X,ref:this._outerRefSetter,style:$({position:"relative",height:I,width:V,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:T},J)},a.createElement(E||k||"div",{children:pe,ref:P,style:{height:U?"100%":ge,pointerEvents:W?"none":void 0,width:U?ge:"100%"}}))},g._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var y=this.props.itemCount;if(y>0){var D=this._getRangeToRender(),v=D[0],T=D[1],I=D[2],P=D[3];this._callOnItemsRendered(v,T,I,P)}}if(typeof this.props.onScroll=="function"){var E=this.state,k=E.scrollDirection,w=E.scrollOffset,A=E.scrollUpdateWasRequested;this._callOnScroll(k,w,A)}},g._getRangeToRender=function(){var y=this.props,D=y.itemCount,v=y.overscanCount,T=this.state,I=T.isScrolling,P=T.scrollDirection,E=T.scrollOffset;if(D===0)return[0,0,0,0];var k=c(this.props,E,this._instanceProps),w=u(this.props,k,E,this._instanceProps),A=!I||P==="backward"?Math.max(1,v):1,F=!I||P==="forward"?Math.max(1,v):1;return[Math.max(0,k-A),Math.max(0,Math.min(D-1,w+F)),k,w]},h})(a.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var Rlt=function(t,n){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,n.instance},wlt=50,Gy=function(t,n,o){var s=t,i=s.itemSize,c=o.itemMetadataMap,u=o.lastMeasuredIndex;if(n>u){var d=0;if(u>=0){var p=c[u];d=p.offset+p.size}for(var m=u+1;m<=n;m++){var f=i(m);c[m]={offset:d,size:f},d+=f}o.lastMeasuredIndex=n}return c[n]},klt=function(t,n,o){var s=n.itemMetadataMap,i=n.lastMeasuredIndex,c=i>0?s[i].offset:0;return c>=o?_he(t,n,i,0,o):Alt(t,n,Math.max(0,i),o)},_he=function(t,n,o,s,i){for(;s<=o;){var c=s+Math.floor((o-s)/2),u=Gy(t,c,n).offset;if(u===i)return c;u<i?s=c+1:u>i&&(o=c-1)}return s>0?s-1:0},Alt=function(t,n,o,s){for(var i=t.itemCount,c=1;o<i&&Gy(t,o,n).offset<s;)o+=c,c*=2;return _he(t,n,Math.min(o,i-1),Math.floor(o/2),s)},Nse=function(t,n){var o=t.itemCount,s=n.itemMetadataMap,i=n.estimatedItemSize,c=n.lastMeasuredIndex,u=0;if(c>=o&&(c=o-1),c>=0){var d=s[c];u=d.offset+d.size}var p=o-c-1,m=p*i;return u+m},Nlt=Mhe({getItemOffset:function(t,n,o){return Gy(t,n,o).offset},getItemSize:function(t,n,o){return o.itemMetadataMap[n].size},getEstimatedTotalSize:Nse,getOffsetForIndexAndAlignment:function(t,n,o,s,i,c){var u=t.direction,d=t.height,p=t.layout,m=t.width,f=u==="horizontal"||p==="horizontal",h=f?m:d,g=Gy(t,n,i),x=Nse(t,i),y=Math.max(0,Math.min(x-h,g.offset)),D=Math.max(0,g.offset-h+g.size+c);switch(o==="smart"&&(s>=D-h&&s<=y+h?o="auto":o="center"),o){case"start":return y;case"end":return D;case"center":return Math.round(D+(y-D)/2);case"auto":default:return s>=D&&s<=y?s:s<D?D:y}},getStartIndexForOffset:function(t,n,o){return klt(t,o,n)},getStopIndexForStartIndex:function(t,n,o,s){for(var i=t.direction,c=t.height,u=t.itemCount,d=t.layout,p=t.width,m=i==="horizontal"||d==="horizontal",f=m?p:c,h=Gy(t,n,s),g=o+f,x=h.offset+h.size,y=n;y<u-1&&x<g;)y++,x+=Gy(t,y,s).size;return y},initInstanceProps:function(t,n){var o=t,s=o.estimatedItemSize,i={itemMetadataMap:{},estimatedItemSize:s||wlt,lastMeasuredIndex:-1};return n.resetAfterIndex=function(c,u){u===void 0&&(u=!0),i.lastMeasuredIndex=Math.min(i.lastMeasuredIndex,c-1),n._getItemStyleCache(-1),u&&n.forceUpdate()},i},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(t){t.itemSize}}),Lhe=Mhe({getItemOffset:function(t,n){var o=t.itemSize;return n*o},getItemSize:function(t,n){var o=t.itemSize;return o},getEstimatedTotalSize:function(t){var n=t.itemCount,o=t.itemSize;return o*n},getOffsetForIndexAndAlignment:function(t,n,o,s,i,c){var u=t.direction,d=t.height,p=t.itemCount,m=t.itemSize,f=t.layout,h=t.width,g=u==="horizontal"||f==="horizontal",x=g?h:d,y=Math.max(0,p*m-x),D=Math.min(y,n*m),v=Math.max(0,n*m-x+m+c);switch(o==="smart"&&(s>=v-x&&s<=D+x?o="auto":o="center"),o){case"start":return D;case"end":return v;case"center":{var T=Math.round(v+(D-v)/2);return T<Math.ceil(x/2)?0:T>y+Math.floor(x/2)?y:T}case"auto":default:return s>=v&&s<=D?s:s<v?v:D}},getStartIndexForOffset:function(t,n){var o=t.itemCount,s=t.itemSize;return Math.max(0,Math.min(o-1,Math.floor(n/s)))},getStopIndexForStartIndex:function(t,n,o){var s=t.direction,i=t.height,c=t.itemCount,u=t.itemSize,d=t.layout,p=t.width,m=s==="horizontal"||d==="horizontal",f=n*u,h=m?p:i,g=Math.ceil((h+o-f)/u);return Math.max(0,Math.min(c-1,n+g-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){t.itemSize}});function Flt(e){var t=e.lastRenderedStartIndex,n=e.lastRenderedStopIndex,o=e.startIndex,s=e.stopIndex;return!(o>n||s<t)}function Mlt(e){for(var t=e.isItemLoaded,n=e.itemCount,o=e.minimumBatchSize,s=e.startIndex,i=e.stopIndex,c=[],u=null,d=null,p=s;p<=i;p++){var m=t(p);m?d!==null&&(c.push(u,d),u=d=null):(d=p,u===null&&(u=p))}if(d!==null){for(var f=Math.min(Math.max(d,u+o-1),n-1),h=d+1;h<=f&&!t(h);h++)d=h;c.push(u,d)}if(c.length)for(;c[1]-c[0]+1<o&&c[0]>0;){var g=c[0]-1;if(!t(g))c[0]=g;else break}return c}var _lt=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Llt=(function(){function e(t,n){for(var o=0;o<n.length;o++){var s=n[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}})(),$lt=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Fse=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},Blt=(function(e){$lt(t,e);function t(){var n,o,s,i;_lt(this,t);for(var c=arguments.length,u=Array(c),d=0;d<c;d++)u[d]=arguments[d];return i=(o=(s=Fse(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(u))),s),s._lastRenderedStartIndex=-1,s._lastRenderedStopIndex=-1,s._memoizedUnloadedRanges=[],s._onItemsRendered=function(p){var m=p.visibleStartIndex,f=p.visibleStopIndex;s._lastRenderedStartIndex=m,s._lastRenderedStopIndex=f,s._ensureRowsLoaded(m,f)},s._setRef=function(p){s._listRef=p},o),Fse(s,i)}return Llt(t,[{key:"resetloadMoreItemsCache",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this._memoizedUnloadedRanges=[],o&&this._ensureRowsLoaded(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var o=this.props.children;return o({onItemsRendered:this._onItemsRendered,ref:this._setRef})}},{key:"_ensureRowsLoaded",value:function(o,s){var i=this.props,c=i.isItemLoaded,u=i.itemCount,d=i.minimumBatchSize,p=d===void 0?10:d,m=i.threshold,f=m===void 0?15:m,h=Mlt({isItemLoaded:c,itemCount:u,minimumBatchSize:p,startIndex:Math.max(0,o-f),stopIndex:Math.min(u-1,s+f)});(this._memoizedUnloadedRanges.length!==h.length||this._memoizedUnloadedRanges.some(function(g,x){return h[x]!==g}))&&(this._memoizedUnloadedRanges=h,this._loadUnloadedRanges(h))}},{key:"_loadUnloadedRanges",value:function(o){for(var s=this,i=this.props.loadMoreItems||this.props.loadMoreRows,c=function(p){var m=o[p],f=o[p+1],h=i(m,f);h!=null&&h.then(function(){if(Flt({lastRenderedStartIndex:s._lastRenderedStartIndex,lastRenderedStopIndex:s._lastRenderedStopIndex,startIndex:m,stopIndex:f})){if(s._listRef==null)return;typeof s._listRef.resetAfterIndex=="function"?s._listRef.resetAfterIndex(m,!0):(typeof s._listRef._getItemStyleCache=="function"&&s._listRef._getItemStyleCache(-1),s._listRef.forceUpdate())}})},u=0;u<o.length;u+=2)c(u)}}]),t})(a.PureComponent);const h4=a.memo(e=>{const{itemCount:t,isItemLoaded:n,loadMoreItems:o,data:s,error:i,height:c=300,itemHeight:u=36,otherListProps:d,RowComponent:p,loading:m,handleItemsRendered:f,onScroll:h,scrollOffset:g,bottomReached:x,minimumBatchSize:y=20,threshold:D=20,saveKey:v,emptyText:T,onError:I}=e,P=a.useRef(null),E=a.useRef(!1);return a.useEffect(()=>{E.current&&P.current&&(P.current.resetloadMoreItemsCache(),console.log("InfiniteLoader.resetloadMoreItemsCache()")),E.current=!0},[v]),a.useEffect(()=>{i&&I&&I(i)},[i,I]),m?r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",height:c,children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}):i?r.jsx(TD,{error:i,height:c}):m===!1&&t===0?r.jsx(bf,{height:c,title:T}):r.jsx(Blt,{ref:P,isItemLoaded:n,itemCount:t,loadMoreItems:o,minimumBatchSize:y,threshold:D,children:({onItemsRendered:k,ref:w})=>r.jsx("div",{className:_b({"bottom-shadow":!x}),children:r.jsx(Lhe,{onScroll:h,className:_b("shadow","i-listview",{"top-shadow":g>5}),ref:w,height:c,itemData:s,itemCount:t,itemSize:u,onItemsRendered:f(k),...d,children:p})})})});h4.propTypes={emptyText:l.string,saveKey:l.string,itemCount:l.number,otherListProps:l.object,height:l.number,itemHeight:l.number,minimumBatchSize:l.number,threshold:l.number,scrollOffset:l.number,loadMoreItems:l.func,onScroll:l.func,isItemLoaded:l.func,RowComponent:l.oneOfType([l.func,l.elementType]),data:l.oneOfType([l.array,l.object]),loading:l.bool,bottomReached:l.bool,handleItemsRendered:l.func,error:l.object};h4.displayName="InfiniteListView";const to=e=>{const{...t}=e,{handleSessionExpired:n}=a.useContext(Be),o=a.useCallback(s=>{s.status==401&&n()},[n]);return r.jsx(h4,{onError:o,...t})};to.displayName="AuthListView";var vj={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var Wlt=vj.exports,Mse;function Ult(){return Mse||(Mse=1,(function(e,t){(function(){var n,o="4.17.21",s=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",u="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",p=500,m="__lodash_placeholder__",f=1,h=2,g=4,x=1,y=2,D=1,v=2,T=4,I=8,P=16,E=32,k=64,w=128,A=256,F=512,_=30,L="...",K=800,z=16,J=1,Q=2,V=3,W=1/0,U=9007199254740991,X=17976931348623157e292,te=NaN,se=4294967295,he=se-1,pe=se>>>1,ue=[["ary",w],["bind",D],["bindKey",v],["curry",I],["curryRight",P],["flip",F],["partial",E],["partialRight",k],["rearg",A]],ge="[object Arguments]",Ce="[object Array]",Te="[object AsyncFunction]",Ne="[object Boolean]",xe="[object Date]",me="[object DOMException]",de="[object Error]",ce="[object Function]",ee="[object GeneratorFunction]",De="[object Map]",ke="[object Number]",He="[object Null]",qe="[object Object]",Le="[object Promise]",_e="[object Proxy]",H="[object RegExp]",re="[object Set]",q="[object String]",Y="[object Symbol]",ie="[object Undefined]",B="[object WeakMap]",Z="[object WeakSet]",ye="[object ArrayBuffer]",Ie="[object DataView]",le="[object Float32Array]",fe="[object Float64Array]",Ae="[object Int8Array]",Se="[object Int16Array]",be="[object Int32Array]",Me="[object Uint8Array]",we="[object Uint8ClampedArray]",Ge="[object Uint16Array]",We="[object Uint32Array]",Ee=/\b__p \+= '';/g,Xe=/\b(__p \+=) '' \+/g,ot=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ze=/&(?:amp|lt|gt|quot|#39);/g,tt=/[&<>"']/g,ft=RegExp(ze.source),ht=RegExp(tt.source),en=/<%-([\s\S]+?)%>/g,un=/<%([\s\S]+?)%>/g,Je=/<%=([\s\S]+?)%>/g,qt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Tt=/^\w*$/,Jt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,st=/[\\^$.*+?()[\]{}|]/g,Dt=RegExp(st.source),Gt=/^\s+/,An=/\s/,_n=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,pt=/\{\n\/\* \[wrapped with (.+)\] \*/,Rt=/,? & /,Ze=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,dn=/[()=,{}\[\]\/\s]/,Yt=/\\(\\)?/g,lt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Qe=/\w*$/,rn=/^[-+]0x[0-9a-f]+$/i,Cn=/^0b[01]+$/i,gr=/^\[object .+?Constructor\]$/,sn=/^0o[0-7]+$/i,Sr=/^(?:0|[1-9]\d*)$/,ts=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ds=/($^)/,ra=/['\n\r\u2028\u2029\\]/g,ro="\\ud800-\\udfff",hc="\\u0300-\\u036f",ci="\\ufe20-\\ufe2f",Pf="\\u20d0-\\u20ff",wi=hc+ci+Pf,Du="\\u2700-\\u27bf",wl="a-z\\xdf-\\xf6\\xf8-\\xff",ul="\\xac\\xb1\\xd7\\xf7",ui="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Su="\\u2000-\\u206f",di=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Rf="A-Z\\xc0-\\xd6\\xd8-\\xde",wf="\\ufe0e\\ufe0f",dm=ul+ui+Su+di,gc="[']",dd="["+ro+"]",kl="["+dm+"]",bc="["+wi+"]",Hi="\\d+",xt="["+Du+"]",Fn="["+wl+"]",Wn="[^"+ro+dm+Hi+Du+wl+Rf+"]",vn="\\ud83c[\\udffb-\\udfff]",kr="(?:"+bc+"|"+vn+")",Zt="[^"+ro+"]",on="(?:\\ud83c[\\udde6-\\uddff]){2}",an="[\\ud800-\\udbff][\\udc00-\\udfff]",vr="["+Rf+"]",mr="\\u200d",Jr="(?:"+Fn+"|"+Wn+")",Ro="(?:"+vr+"|"+Wn+")",Ka="(?:"+gc+"(?:d|ll|m|re|s|t|ve))?",Fa="(?:"+gc+"(?:D|LL|M|RE|S|T|VE))?",Ma=kr+"?",oa="["+wf+"]?",zs="(?:"+mr+"(?:"+[Zt,on,an].join("|")+")"+oa+Ma+")*",Hs="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",vu="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",kf=oa+Ma+zs,rg="(?:"+[xt,on,an].join("|")+")"+kf,ap="(?:"+[Zt+bc+"?",bc,on,an,dd].join("|")+")",GF=RegExp(gc,"g"),IO=RegExp(bc,"g"),pm=RegExp(vn+"(?="+vn+")|"+ap+kf,"g"),KF=RegExp([vr+"?"+Fn+"+"+Ka+"(?="+[kl,vr,"$"].join("|")+")",Ro+"+"+Fa+"(?="+[kl,vr+Jr,"$"].join("|")+")",vr+"?"+Jr+"+"+Ka,vr+"+"+Fa,vu,Hs,Hi,rg].join("|"),"g"),TO=RegExp("["+mr+ro+wi+wf+"]"),nx=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,OO=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],QF=-1,Qo={};Qo[le]=Qo[fe]=Qo[Ae]=Qo[Se]=Qo[be]=Qo[Me]=Qo[we]=Qo[Ge]=Qo[We]=!0,Qo[ge]=Qo[Ce]=Qo[ye]=Qo[Ne]=Qo[Ie]=Qo[xe]=Qo[de]=Qo[ce]=Qo[De]=Qo[ke]=Qo[qe]=Qo[H]=Qo[re]=Qo[q]=Qo[B]=!1;var zo={};zo[ge]=zo[Ce]=zo[ye]=zo[Ie]=zo[Ne]=zo[xe]=zo[le]=zo[fe]=zo[Ae]=zo[Se]=zo[be]=zo[De]=zo[ke]=zo[qe]=zo[H]=zo[re]=zo[q]=zo[Y]=zo[Me]=zo[we]=zo[Ge]=zo[We]=!0,zo[de]=zo[ce]=zo[B]=!1;var Af={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},rx={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},YF={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},JF={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ZD=parseFloat,ox=parseInt,sx=typeof BE=="object"&&BE&&BE.Object===Object&&BE,EO=typeof self=="object"&&self&&self.Object===Object&&self,Os=sx||EO||Function("return this")(),og=t&&!t.nodeType&&t,ju=og&&!0&&e&&!e.nodeType&&e,eS=ju&&ju.exports===og,Nf=eS&&sx.process,ki=(function(){try{var St=ju&&ju.require&&ju.require("util").types;return St||Nf&&Nf.binding&&Nf.binding("util")}catch{}})(),tS=ki&&ki.isArrayBuffer,Gi=ki&&ki.isDate,mm=ki&&ki.isMap,ax=ki&&ki.isRegExp,Ff=ki&&ki.isSet,PO=ki&&ki.isTypedArray;function Ai(St,tn,Ut){switch(Ut.length){case 0:return St.call(tn);case 1:return St.call(tn,Ut[0]);case 2:return St.call(tn,Ut[0],Ut[1]);case 3:return St.call(tn,Ut[0],Ut[1],Ut[2])}return St.apply(tn,Ut)}function nS(St,tn,Ut,ar){for(var Kr=-1,Lo=St==null?0:St.length;++Kr<Lo;){var sa=St[Kr];tn(ar,sa,Ut(sa),St)}return ar}function pi(St,tn){for(var Ut=-1,ar=St==null?0:St.length;++Ut<ar&&tn(St[Ut],Ut,St)!==!1;);return St}function ix(St,tn){for(var Ut=St==null?0:St.length;Ut--&&tn(St[Ut],Ut,St)!==!1;);return St}function rS(St,tn){for(var Ut=-1,ar=St==null?0:St.length;++Ut<ar;)if(!tn(St[Ut],Ut,St))return!1;return!0}function ip(St,tn){for(var Ut=-1,ar=St==null?0:St.length,Kr=0,Lo=[];++Ut<ar;){var sa=St[Ut];tn(sa,Ut,St)&&(Lo[Kr++]=sa)}return Lo}function lx(St,tn){var Ut=St==null?0:St.length;return!!Ut&&Mf(St,tn,0)>-1}function oS(St,tn,Ut){for(var ar=-1,Kr=St==null?0:St.length;++ar<Kr;)if(Ut(tn,St[ar]))return!0;return!1}function ps(St,tn){for(var Ut=-1,ar=St==null?0:St.length,Kr=Array(ar);++Ut<ar;)Kr[Ut]=tn(St[Ut],Ut,St);return Kr}function lp(St,tn){for(var Ut=-1,ar=tn.length,Kr=St.length;++Ut<ar;)St[Kr+Ut]=tn[Ut];return St}function sS(St,tn,Ut,ar){var Kr=-1,Lo=St==null?0:St.length;for(ar&&Lo&&(Ut=St[++Kr]);++Kr<Lo;)Ut=tn(Ut,St[Kr],Kr,St);return Ut}function XF(St,tn,Ut,ar){var Kr=St==null?0:St.length;for(ar&&Kr&&(Ut=St[--Kr]);Kr--;)Ut=tn(Ut,St[Kr],Kr,St);return Ut}function aS(St,tn){for(var Ut=-1,ar=St==null?0:St.length;++Ut<ar;)if(tn(St[Ut],Ut,St))return!0;return!1}var ZF=lS("length");function RO(St){return St.split("")}function eM(St){return St.match(Ze)||[]}function wO(St,tn,Ut){var ar;return Ut(St,function(Kr,Lo,sa){if(tn(Kr,Lo,sa))return ar=Lo,!1}),ar}function cx(St,tn,Ut,ar){for(var Kr=St.length,Lo=Ut+(ar?1:-1);ar?Lo--:++Lo<Kr;)if(tn(St[Lo],Lo,St))return Lo;return-1}function Mf(St,tn,Ut){return tn===tn?px(St,tn,Ut):cx(St,kO,Ut)}function iS(St,tn,Ut,ar){for(var Kr=Ut-1,Lo=St.length;++Kr<Lo;)if(ar(St[Kr],tn))return Kr;return-1}function kO(St){return St!==St}function AO(St,tn){var Ut=St==null?0:St.length;return Ut?cS(St,tn)/Ut:te}function lS(St){return function(tn){return tn==null?n:tn[St]}}function ux(St){return function(tn){return St==null?n:St[tn]}}function NO(St,tn,Ut,ar,Kr){return Kr(St,function(Lo,sa,ns){Ut=ar?(ar=!1,Lo):tn(Ut,Lo,sa,ns)}),Ut}function tM(St,tn){var Ut=St.length;for(St.sort(tn);Ut--;)St[Ut]=St[Ut].value;return St}function cS(St,tn){for(var Ut,ar=-1,Kr=St.length;++ar<Kr;){var Lo=tn(St[ar]);Lo!==n&&(Ut=Ut===n?Lo:Ut+Lo)}return Ut}function uS(St,tn){for(var Ut=-1,ar=Array(St);++Ut<St;)ar[Ut]=tn(Ut);return ar}function nM(St,tn){return ps(tn,function(Ut){return[Ut,St[Ut]]})}function FO(St){return St&&St.slice(0,mx(St)+1).replace(Gt,"")}function dl(St){return function(tn){return St(tn)}}function sg(St,tn){return ps(tn,function(Ut){return St[Ut]})}function pd(St,tn){return St.has(tn)}function MO(St,tn){for(var Ut=-1,ar=St.length;++Ut<ar&&Mf(tn,St[Ut],0)>-1;);return Ut}function dS(St,tn){for(var Ut=St.length;Ut--&&Mf(tn,St[Ut],0)>-1;);return Ut}function _O(St,tn){for(var Ut=St.length,ar=0;Ut--;)St[Ut]===tn&&++ar;return ar}var LO=ux(Af),$O=ux(rx);function BO(St){return"\\"+JF[St]}function _f(St,tn){return St==null?n:St[tn]}function Lf(St){return TO.test(St)}function rM(St){return nx.test(St)}function oM(St){for(var tn,Ut=[];!(tn=St.next()).done;)Ut.push(tn.value);return Ut}function dx(St){var tn=-1,Ut=Array(St.size);return St.forEach(function(ar,Kr){Ut[++tn]=[Kr,ar]}),Ut}function pS(St,tn){return function(Ut){return St(tn(Ut))}}function Al(St,tn){for(var Ut=-1,ar=St.length,Kr=0,Lo=[];++Ut<ar;){var sa=St[Ut];(sa===tn||sa===m)&&(St[Ut]=m,Lo[Kr++]=Ut)}return Lo}function cp(St){var tn=-1,Ut=Array(St.size);return St.forEach(function(ar){Ut[++tn]=ar}),Ut}function sM(St){var tn=-1,Ut=Array(St.size);return St.forEach(function(ar){Ut[++tn]=[ar,ar]}),Ut}function px(St,tn,Ut){for(var ar=Ut-1,Kr=St.length;++ar<Kr;)if(St[ar]===tn)return ar;return-1}function aM(St,tn,Ut){for(var ar=Ut+1;ar--;)if(St[ar]===tn)return ar;return ar}function fm(St){return Lf(St)?UO(St):ZF(St)}function pl(St){return Lf(St)?qO(St):RO(St)}function mx(St){for(var tn=St.length;tn--&&An.test(St.charAt(tn)););return tn}var WO=ux(YF);function UO(St){for(var tn=pm.lastIndex=0;pm.test(St);)++tn;return tn}function qO(St){return St.match(pm)||[]}function iM(St){return St.match(KF)||[]}var lM=(function St(tn){tn=tn==null?Os:$f.defaults(Os.Object(),tn,$f.pick(Os,OO));var Ut=tn.Array,ar=tn.Date,Kr=tn.Error,Lo=tn.Function,sa=tn.Math,ns=tn.Object,ag=tn.RegExp,cM=tn.String,Nl=tn.TypeError,md=Ut.prototype,mS=Lo.prototype,Iu=ns.prototype,Bf=tn["__core-js_shared__"],ig=mS.toString,$o=Iu.hasOwnProperty,Wf=0,fx=(function(){var S=/[^.]+$/.exec(Bf&&Bf.keys&&Bf.keys.IE_PROTO||"");return S?"Symbol(src)_1."+S:""})(),lg=Iu.toString,hx=ig.call(ns),VO=Os._,zO=ag("^"+ig.call($o).replace(st,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),cg=eS?tn.Buffer:n,fd=tn.Symbol,ug=tn.Uint8Array,fS=cg?cg.allocUnsafe:n,xc=pS(ns.getPrototypeOf,ns),gx=ns.create,bx=Iu.propertyIsEnumerable,xx=md.splice,HO=fd?fd.isConcatSpreadable:n,hd=fd?fd.iterator:n,hm=fd?fd.toStringTag:n,dg=(function(){try{var S=Cp(ns,"defineProperty");return S({},"",{}),S}catch{}})(),GO=tn.clearTimeout!==Os.clearTimeout&&tn.clearTimeout,Cs=ar&&ar.now!==Os.Date.now&&ar.now,hS=tn.setTimeout!==Os.setTimeout&&tn.setTimeout,gm=sa.ceil,up=sa.floor,yx=ns.getOwnPropertySymbols,gS=cg?cg.isBuffer:n,Uf=tn.isFinite,Cx=md.join,qf=pS(ns.keys,ns),aa=sa.max,mi=sa.min,uM=ar.now,KO=tn.parseInt,pg=sa.random,Dx=md.reverse,mg=Cp(tn,"DataView"),bm=Cp(tn,"Map"),fg=Cp(tn,"Promise"),dp=Cp(tn,"Set"),hg=Cp(tn,"WeakMap"),Vf=Cp(ns,"create"),Sx=hg&&new hg,zf={},bS=Dp(mg),pp=Dp(bm),QO=Dp(fg),Hf=Dp(dp),Tu=Dp(hg),mp=fd?fd.prototype:n,ml=mp?mp.valueOf:n,vx=mp?mp.toString:n;function Fe(S){if(la(S)&&!Zr(S)&&!(S instanceof Xr)){if(S instanceof fi)return S;if($o.call(S,"__wrapped__"))return vE(S)}return new fi(S)}var Gf=(function(){function S(){}return function(O){if(!Qs(O))return{};if(gx)return gx(O);S.prototype=O;var M=new S;return S.prototype=n,M}})();function Ou(){}function fi(S,O){this.__wrapped__=S,this.__actions__=[],this.__chain__=!!O,this.__index__=0,this.__values__=n}Fe.templateSettings={escape:en,evaluate:un,interpolate:Je,variable:"",imports:{_:Fe}},Fe.prototype=Ou.prototype,Fe.prototype.constructor=Fe,fi.prototype=Gf(Ou.prototype),fi.prototype.constructor=fi;function Xr(S){this.__wrapped__=S,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=se,this.__views__=[]}function jx(){var S=new Xr(this.__wrapped__);return S.__actions__=Fi(this.__actions__),S.__dir__=this.__dir__,S.__filtered__=this.__filtered__,S.__iteratees__=Fi(this.__iteratees__),S.__takeCount__=this.__takeCount__,S.__views__=Fi(this.__views__),S}function xS(){if(this.__filtered__){var S=new Xr(this);S.__dir__=-1,S.__filtered__=!0}else S=this.clone(),S.__dir__*=-1;return S}function Kf(){var S=this.__wrapped__.value(),O=this.__dir__,M=Zr(S),oe=O<0,je=M?S.length:0,Ve=HS(0,je,this.__views__),rt=Ve.start,mt=Ve.end,Ot=mt-rt,gn=oe?mt:rt-1,bn=this.__iteratees__,Rn=bn.length,er=0,wr=mi(Ot,this.__takeCount__);if(!M||!oe&&je==Ot&&wr==Ot)return nh(S,this.__actions__);var qr=[];e:for(;Ot--&&er<wr;){gn+=O;for(var mo=-1,Vr=S[gn];++mo<Rn;){var jo=bn[mo],Mo=jo.iteratee,Ec=jo.type,xl=Mo(Vr);if(Ec==Q)Vr=xl;else if(!xl){if(Ec==J)continue e;break e}}qr[er++]=Vr}return qr}Xr.prototype=Gf(Ou.prototype),Xr.prototype.constructor=Xr;function Ki(S){var O=-1,M=S==null?0:S.length;for(this.clear();++O<M;){var oe=S[O];this.set(oe[0],oe[1])}}function Ds(){this.__data__=Vf?Vf(null):{},this.size=0}function ms(S){var O=this.has(S)&&delete this.__data__[S];return this.size-=O?1:0,O}function fp(S){var O=this.__data__;if(Vf){var M=O[S];return M===d?n:M}return $o.call(O,S)?O[S]:n}function hi(S){var O=this.__data__;return Vf?O[S]!==n:$o.call(O,S)}function Qi(S,O){var M=this.__data__;return this.size+=this.has(S)?0:1,M[S]=Vf&&O===n?d:O,this}Ki.prototype.clear=Ds,Ki.prototype.delete=ms,Ki.prototype.get=fp,Ki.prototype.has=hi,Ki.prototype.set=Qi;function Ni(S){var O=-1,M=S==null?0:S.length;for(this.clear();++O<M;){var oe=S[O];this.set(oe[0],oe[1])}}function Qf(){this.__data__=[],this.size=0}function Yi(S){var O=this.__data__,M=bi(O,S);if(M<0)return!1;var oe=O.length-1;return M==oe?O.pop():xx.call(O,M,1),--this.size,!0}function Ix(S){var O=this.__data__,M=bi(O,S);return M<0?n:O[M][1]}function YO(S){return bi(this.__data__,S)>-1}function JO(S,O){var M=this.__data__,oe=bi(M,S);return oe<0?(++this.size,M.push([S,O])):M[oe][1]=O,this}Ni.prototype.clear=Qf,Ni.prototype.delete=Yi,Ni.prototype.get=Ix,Ni.prototype.has=YO,Ni.prototype.set=JO;function Fl(S){var O=-1,M=S==null?0:S.length;for(this.clear();++O<M;){var oe=S[O];this.set(oe[0],oe[1])}}function XO(){this.size=0,this.__data__={hash:new Ki,map:new(bm||Ni),string:new Ki}}function gd(S){var O=wg(this,S).delete(S);return this.size-=O?1:0,O}function Tx(S){return wg(this,S).get(S)}function yS(S){return wg(this,S).has(S)}function ZO(S,O){var M=wg(this,S),oe=M.size;return M.set(S,O),this.size+=M.size==oe?0:1,this}Fl.prototype.clear=XO,Fl.prototype.delete=gd,Fl.prototype.get=Tx,Fl.prototype.has=yS,Fl.prototype.set=ZO;function xm(S){var O=-1,M=S==null?0:S.length;for(this.__data__=new Fl;++O<M;)this.add(S[O])}function hp(S){return this.__data__.set(S,d),this}function Yf(S){return this.__data__.has(S)}xm.prototype.add=xm.prototype.push=hp,xm.prototype.has=Yf;function gi(S){var O=this.__data__=new Ni(S);this.size=O.size}function Ox(){this.__data__=new Ni,this.size=0}function Ex(S){var O=this.__data__,M=O.delete(S);return this.size=O.size,M}function Ml(S){return this.__data__.get(S)}function _l(S){return this.__data__.has(S)}function ym(S,O){var M=this.__data__;if(M instanceof Ni){var oe=M.__data__;if(!bm||oe.length<s-1)return oe.push([S,O]),this.size=++M.size,this;M=this.__data__=new Fl(oe)}return M.set(S,O),this.size=M.size,this}gi.prototype.clear=Ox,gi.prototype.delete=Ex,gi.prototype.get=Ml,gi.prototype.has=_l,gi.prototype.set=ym;function Eu(S,O){var M=Zr(S),oe=!M&&qg(S),je=!M&&!oe&&ph(S),Ve=!M&&!oe&&!je&&by(S),rt=M||oe||je||Ve,mt=rt?uS(S.length,cM):[],Ot=mt.length;for(var gn in S)(O||$o.call(S,gn))&&!(rt&&(gn=="length"||je&&(gn=="offset"||gn=="parent")||Ve&&(gn=="buffer"||gn=="byteLength"||gn=="byteOffset")||Ps(gn,Ot)))&&mt.push(gn);return mt}function Pu(S){var O=S.length;return O?S[eh(0,O-1)]:n}function Cm(S,O){return ey(Fi(S),bd(O,0,S.length))}function eE(S){return ey(Fi(S))}function gg(S,O,M){(M!==n&&!Od(S[O],M)||M===n&&!(O in S))&&Ru(S,O,M)}function Dm(S,O,M){var oe=S[O];(!($o.call(S,O)&&Od(oe,M))||M===n&&!(O in S))&&Ru(S,O,M)}function bi(S,O){for(var M=S.length;M--;)if(Od(S[M][0],O))return M;return-1}function fl(S,O,M,oe){return ku(S,function(je,Ve,rt){O(oe,je,M(je),rt)}),oe}function Ss(S,O){return S&&Cc(O,Ci(O),S)}function yc(S,O){return S&&Cc(O,Hl(O),S)}function Ru(S,O,M){O=="__proto__"&&dg?dg(S,O,{configurable:!0,enumerable:!0,value:M,writable:!0}):S[O]=M}function Px(S,O){for(var M=-1,oe=O.length,je=Ut(oe),Ve=S==null;++M<oe;)je[M]=Ve?n:NM(S,O[M]);return je}function bd(S,O,M){return S===S&&(M!==n&&(S=S<=M?S:M),O!==n&&(S=S>=O?S:O)),S}function Ji(S,O,M,oe,je,Ve){var rt,mt=O&f,Ot=O&h,gn=O&g;if(M&&(rt=je?M(S,oe,je,Ve):M(S)),rt!==n)return rt;if(!Qs(S))return S;var bn=Zr(S);if(bn){if(rt=Ag(S),!mt)return Fi(S,rt)}else{var Rn=Ja(S),er=Rn==ce||Rn==ee;if(ph(S))return NS(S,mt);if(Rn==qe||Rn==ge||er&&!je){if(rt=Ot||er?{}:Xa(S),!mt)return Ot?pM(S,yc(rt,S)):Ux(S,Ss(rt,S))}else{if(!zo[Rn])return je?S:{};rt=mM(S,Rn,mt)}}Ve||(Ve=new gi);var wr=Ve.get(S);if(wr)return wr;Ve.set(S,rt),Wte(S)?S.forEach(function(Vr){rt.add(Ji(Vr,O,M,Vr,S,Ve))}):$te(S)&&S.forEach(function(Vr,jo){rt.set(jo,Ji(Vr,O,M,jo,S,Ve))});var qr=gn?Ot?Rg:Pg:Ot?Hl:Ci,mo=bn?n:qr(S);return pi(mo||S,function(Vr,jo){mo&&(jo=Vr,Vr=S[jo]),Dm(rt,jo,Ji(Vr,O,M,jo,S,Ve))}),rt}function tE(S){var O=Ci(S);return function(M){return bg(M,S,O)}}function bg(S,O,M){var oe=M.length;if(S==null)return!oe;for(S=ns(S);oe--;){var je=M[oe],Ve=O[je],rt=S[je];if(rt===n&&!(je in S)||!Ve(rt))return!1}return!0}function CS(S,O,M){if(typeof S!="function")throw new Nl(c);return ch(function(){S.apply(n,M)},O)}function wu(S,O,M,oe){var je=-1,Ve=lx,rt=!0,mt=S.length,Ot=[],gn=O.length;if(!mt)return Ot;M&&(O=ps(O,dl(M))),oe?(Ve=oS,rt=!1):O.length>=s&&(Ve=pd,rt=!1,O=new xm(O));e:for(;++je<mt;){var bn=S[je],Rn=M==null?bn:M(bn);if(bn=oe||bn!==0?bn:0,rt&&Rn===Rn){for(var er=gn;er--;)if(O[er]===Rn)continue e;Ot.push(bn)}else Ve(O,Rn,oe)||Ot.push(bn)}return Ot}var ku=Ul(hl),nE=Ul(gp,!0);function xg(S,O){var M=!0;return ku(S,function(oe,je,Ve){return M=!!O(oe,je,Ve),M}),M}function Sm(S,O,M){for(var oe=-1,je=S.length;++oe<je;){var Ve=S[oe],rt=O(Ve);if(rt!=null&&(mt===n?rt===rt&&!Oc(rt):M(rt,mt)))var mt=rt,Ot=Ve}return Ot}function rE(S,O,M,oe){var je=S.length;for(M=uo(M),M<0&&(M=-M>je?0:je+M),oe=oe===n||oe>je?je:uo(oe),oe<0&&(oe+=je),oe=M>oe?0:qte(oe);M<oe;)S[M++]=O;return S}function DS(S,O){var M=[];return ku(S,function(oe,je,Ve){O(oe,je,Ve)&&M.push(oe)}),M}function Ls(S,O,M,oe,je){var Ve=-1,rt=S.length;for(M||(M=Jx),je||(je=[]);++Ve<rt;){var mt=S[Ve];O>0&&M(mt)?O>1?Ls(mt,O-1,M,oe,je):lp(je,mt):oe||(je[je.length]=mt)}return je}var Rx=Vx(),yg=Vx(!0);function hl(S,O){return S&&Rx(S,O,Ci)}function gp(S,O){return S&&yg(S,O,Ci)}function Jf(S,O){return ip(O,function(M){return Fm(S[M])})}function xd(S,O){O=Fu(O,S);for(var M=0,oe=O.length;S!=null&&M<oe;)S=S[jc(O[M++])];return M&&M==oe?S:n}function wx(S,O,M){var oe=O(S);return Zr(S)?oe:lp(oe,M(S))}function Qa(S){return S==null?S===n?ie:He:hm&&hm in ns(S)?Yx(S):KS(S)}function bp(S,O){return S>O}function Ll(S,O){return S!=null&&$o.call(S,O)}function vm(S,O){return S!=null&&O in ns(S)}function SS(S,O,M){return S>=mi(O,M)&&S<aa(O,M)}function kx(S,O,M){for(var oe=M?oS:lx,je=S[0].length,Ve=S.length,rt=Ve,mt=Ut(Ve),Ot=1/0,gn=[];rt--;){var bn=S[rt];rt&&O&&(bn=ps(bn,dl(O))),Ot=mi(bn.length,Ot),mt[rt]=!M&&(O||je>=120&&bn.length>=120)?new xm(rt&&bn):n}bn=S[0];var Rn=-1,er=mt[0];e:for(;++Rn<je&&gn.length<Ot;){var wr=bn[Rn],qr=O?O(wr):wr;if(wr=M||wr!==0?wr:0,!(er?pd(er,qr):oe(gn,qr,M))){for(rt=Ve;--rt;){var mo=mt[rt];if(!(mo?pd(mo,qr):oe(S[rt],qr,M)))continue e}er&&er.push(qr),gn.push(wr)}}return gn}function yd(S,O,M,oe){return hl(S,function(je,Ve,rt){O(oe,M(je),Ve,rt)}),oe}function $l(S,O,M){O=Fu(O,S),S=_a(S,O);var oe=S==null?S:S[jc(Li(O))];return oe==null?n:Ai(oe,S,M)}function Ax(S){return la(S)&&Qa(S)==ge}function oE(S){return la(S)&&Qa(S)==ye}function Cd(S){return la(S)&&Qa(S)==xe}function Bl(S,O,M,oe,je){return S===O?!0:S==null||O==null||!la(S)&&!la(O)?S!==S&&O!==O:Nx(S,O,M,oe,Bl,je)}function Nx(S,O,M,oe,je,Ve){var rt=Zr(S),mt=Zr(O),Ot=rt?Ce:Ja(S),gn=mt?Ce:Ja(O);Ot=Ot==ge?qe:Ot,gn=gn==ge?qe:gn;var bn=Ot==qe,Rn=gn==qe,er=Ot==gn;if(er&&ph(S)){if(!ph(O))return!1;rt=!0,bn=!1}if(er&&!bn)return Ve||(Ve=new gi),rt||by(S)?VS(S,O,M,oe,je,Ve):zS(S,O,Ot,M,oe,je,Ve);if(!(M&x)){var wr=bn&&$o.call(S,"__wrapped__"),qr=Rn&&$o.call(O,"__wrapped__");if(wr||qr){var mo=wr?S.value():S,Vr=qr?O.value():O;return Ve||(Ve=new gi),je(mo,Vr,M,oe,Ve)}}return er?(Ve||(Ve=new gi),hE(S,O,M,oe,je,Ve)):!1}function sE(S){return la(S)&&Ja(S)==De}function Xf(S,O,M,oe){var je=M.length,Ve=je,rt=!oe;if(S==null)return!Ve;for(S=ns(S);je--;){var mt=M[je];if(rt&&mt[2]?mt[1]!==S[mt[0]]:!(mt[0]in S))return!1}for(;++je<Ve;){mt=M[je];var Ot=mt[0],gn=S[Ot],bn=mt[1];if(rt&&mt[2]){if(gn===n&&!(Ot in S))return!1}else{var Rn=new gi;if(oe)var er=oe(gn,bn,Ot,S,O,Rn);if(!(er===n?Bl(bn,gn,x|y,oe,Rn):er))return!1}}return!0}function vS(S){if(!Qs(S)||xE(S))return!1;var O=Fm(S)?zO:gr;return O.test(Dp(S))}function Cg(S){return la(S)&&Qa(S)==H}function Au(S){return la(S)&&Ja(S)==re}function Dg(S){return la(S)&&_E(S.length)&&!!Qo[Qa(S)]}function Zf(S){return typeof S=="function"?S:S==null?Gl:typeof S=="object"?Zr(S)?Es(S[0],S[1]):Fx(S):ene(S)}function Dd(S){if(!Id(S))return qf(S);var O=[];for(var M in ns(S))$o.call(S,M)&&M!="constructor"&&O.push(M);return O}function jS(S){if(!Qs(S))return DE(S);var O=Id(S),M=[];for(var oe in S)oe=="constructor"&&(O||!$o.call(S,oe))||M.push(oe);return M}function xp(S,O){return S<O}function IS(S,O){var M=-1,oe=zl(S)?Ut(S.length):[];return ku(S,function(je,Ve,rt){oe[++M]=O(je,Ve,rt)}),oe}function Fx(S){var O=kg(S);return O.length==1&&O[0][2]?Xx(O[0][0],O[0][1]):function(M){return M===S||Xf(M,S,O)}}function Es(S,O){return pr(S)&&Fg(O)?Xx(jc(S),O):function(M){var oe=NM(M,S);return oe===n&&oe===O?FM(M,S):Bl(O,oe,x|y)}}function jm(S,O,M,oe,je){S!==O&&Rx(O,function(Ve,rt){if(je||(je=new gi),Qs(Ve))TS(S,O,rt,M,jm,oe,je);else{var mt=oe?oe(Lu(S,rt),Ve,rt+"",S,O,je):n;mt===n&&(mt=Ve),gg(S,rt,mt)}},Hl)}function TS(S,O,M,oe,je,Ve,rt){var mt=Lu(S,M),Ot=Lu(O,M),gn=rt.get(Ot);if(gn){gg(S,M,gn);return}var bn=Ve?Ve(mt,Ot,M+"",S,O,rt):n,Rn=bn===n;if(Rn){var er=Zr(Ot),wr=!er&&ph(Ot),qr=!er&&!wr&&by(Ot);bn=Ot,er||wr||qr?Zr(mt)?bn=mt:Da(mt)?bn=Fi(mt):wr?(Rn=!1,bn=NS(Ot,!0)):qr?(Rn=!1,bn=uE(Ot,!0)):bn=[]:p0(Ot)||qg(Ot)?(bn=mt,qg(mt)?bn=Vte(mt):(!Qs(mt)||Fm(mt))&&(bn=Xa(Ot))):Rn=!1}Rn&&(rt.set(Ot,bn),je(bn,Ot,oe,Ve,rt),rt.delete(Ot)),gg(S,M,bn)}function Mx(S,O){var M=S.length;if(M)return O+=O<0?M:0,Ps(O,M)?S[O]:n}function Sg(S,O,M){O.length?O=ps(O,function(Ve){return Zr(Ve)?function(rt){return xd(rt,Ve.length===1?Ve[0]:Ve)}:Ve}):O=[Gl];var oe=-1;O=ps(O,dl($r()));var je=IS(S,function(Ve,rt,mt){var Ot=ps(O,function(gn){return gn(Ve)});return{criteria:Ot,index:++oe,value:Ve}});return tM(je,function(Ve,rt){return dM(Ve,rt,M)})}function OS(S,O){return yp(S,O,function(M,oe){return FM(S,oe)})}function yp(S,O,M){for(var oe=-1,je=O.length,Ve={};++oe<je;){var rt=O[oe],mt=xd(S,rt);M(mt,rt)&&Tm(Ve,Fu(rt,S),mt)}return Ve}function ks(S){return function(O){return xd(O,S)}}function Gs(S,O,M,oe){var je=oe?iS:Mf,Ve=-1,rt=O.length,mt=S;for(S===O&&(O=Fi(O)),M&&(mt=ps(S,dl(M)));++Ve<rt;)for(var Ot=0,gn=O[Ve],bn=M?M(gn):gn;(Ot=je(mt,bn,Ot,oe))>-1;)mt!==S&&xx.call(mt,Ot,1),xx.call(S,Ot,1);return S}function ya(S,O){for(var M=S?O.length:0,oe=M-1;M--;){var je=O[M];if(M==oe||je!==Ve){var Ve=je;Ps(je)?xx.call(S,je,1):$x(S,je)}}return S}function eh(S,O){return S+up(pg()*(O-S+1))}function vg(S,O,M,oe){for(var je=-1,Ve=aa(gm((O-S)/(M||1)),0),rt=Ut(Ve);Ve--;)rt[oe?Ve:++je]=S,S+=M;return rt}function Im(S,O){var M="";if(!S||O<1||O>U)return M;do O%2&&(M+=S),O=up(O/2),O&&(S+=S);while(O);return M}function co(S,O){return gl(Zx(S,O,Gl),S+"")}function xi(S){return Pu(xy(S))}function ES(S,O){var M=xy(S);return ey(M,bd(O,0,M.length))}function Tm(S,O,M,oe){if(!Qs(S))return S;O=Fu(O,S);for(var je=-1,Ve=O.length,rt=Ve-1,mt=S;mt!=null&&++je<Ve;){var Ot=jc(O[je]),gn=M;if(Ot==="__proto__"||Ot==="constructor"||Ot==="prototype")return S;if(je!=rt){var bn=mt[Ot];gn=oe?oe(bn,Ot,mt):n,gn===n&&(gn=Qs(bn)?bn:Ps(O[je+1])?[]:{})}Dm(mt,Ot,gn),mt=mt[Ot]}return S}var _x=Sx?function(S,O){return Sx.set(S,O),S}:Gl,Nu=dg?function(S,O){return dg(S,"toString",{configurable:!0,enumerable:!1,value:_M(O),writable:!0})}:Gl;function Wl(S){return ey(xy(S))}function yi(S,O,M){var oe=-1,je=S.length;O<0&&(O=-O>je?0:je+O),M=M>je?je:M,M<0&&(M+=je),je=O>M?0:M-O>>>0,O>>>=0;for(var Ve=Ut(je);++oe<je;)Ve[oe]=S[oe+O];return Ve}function PS(S,O){var M;return ku(S,function(oe,je,Ve){return M=O(oe,je,Ve),!M}),!!M}function th(S,O,M){var oe=0,je=S==null?oe:S.length;if(typeof O=="number"&&O===O&&je<=pe){for(;oe<je;){var Ve=oe+je>>>1,rt=S[Ve];rt!==null&&!Oc(rt)&&(M?rt<=O:rt<O)?oe=Ve+1:je=Ve}return je}return Lx(S,O,Gl,M)}function Lx(S,O,M,oe){var je=0,Ve=S==null?0:S.length;if(Ve===0)return 0;O=M(O);for(var rt=O!==O,mt=O===null,Ot=Oc(O),gn=O===n;je<Ve;){var bn=up((je+Ve)/2),Rn=M(S[bn]),er=Rn!==n,wr=Rn===null,qr=Rn===Rn,mo=Oc(Rn);if(rt)var Vr=oe||qr;else gn?Vr=qr&&(oe||er):mt?Vr=qr&&er&&(oe||!wr):Ot?Vr=qr&&er&&!wr&&(oe||!mo):wr||mo?Vr=!1:Vr=oe?Rn<=O:Rn<O;Vr?je=bn+1:Ve=bn}return mi(Ve,he)}function RS(S,O){for(var M=-1,oe=S.length,je=0,Ve=[];++M<oe;){var rt=S[M],mt=O?O(rt):rt;if(!M||!Od(mt,Ot)){var Ot=mt;Ve[je++]=rt===0?0:rt}}return Ve}function wS(S){return typeof S=="number"?S:Oc(S)?te:+S}function Xi(S){if(typeof S=="string")return S;if(Zr(S))return ps(S,Xi)+"";if(Oc(S))return vx?vx.call(S):"";var O=S+"";return O=="0"&&1/S==-W?"-0":O}function Sd(S,O,M){var oe=-1,je=lx,Ve=S.length,rt=!0,mt=[],Ot=mt;if(M)rt=!1,je=oS;else if(Ve>=s){var gn=O?null:fE(S);if(gn)return cp(gn);rt=!1,je=pd,Ot=new xm}else Ot=O?[]:mt;e:for(;++oe<Ve;){var bn=S[oe],Rn=O?O(bn):bn;if(bn=M||bn!==0?bn:0,rt&&Rn===Rn){for(var er=Ot.length;er--;)if(Ot[er]===Rn)continue e;O&&Ot.push(Rn),mt.push(bn)}else je(Ot,Rn,M)||(Ot!==mt&&Ot.push(Rn),mt.push(bn))}return mt}function $x(S,O){return O=Fu(O,S),S=_a(S,O),S==null||delete S[jc(Li(O))]}function kS(S,O,M,oe){return Tm(S,O,M(xd(S,O)),oe)}function jg(S,O,M,oe){for(var je=S.length,Ve=oe?je:-1;(oe?Ve--:++Ve<je)&&O(S[Ve],Ve,S););return M?yi(S,oe?0:Ve,oe?Ve+1:je):yi(S,oe?Ve+1:0,oe?je:Ve)}function nh(S,O){var M=S;return M instanceof Xr&&(M=M.value()),sS(O,function(oe,je){return je.func.apply(je.thisArg,lp([oe],je.args))},M)}function Bx(S,O,M){var oe=S.length;if(oe<2)return oe?Sd(S[0]):[];for(var je=-1,Ve=Ut(oe);++je<oe;)for(var rt=S[je],mt=-1;++mt<oe;)mt!=je&&(Ve[je]=wu(Ve[je]||rt,S[mt],O,M));return Sd(Ls(Ve,1),O,M)}function Ig(S,O,M){for(var oe=-1,je=S.length,Ve=O.length,rt={};++oe<je;){var mt=oe<Ve?O[oe]:n;M(rt,S[oe],mt)}return rt}function rh(S){return Da(S)?S:[]}function Wx(S){return typeof S=="function"?S:Gl}function Fu(S,O){return Zr(S)?S:pr(S,O)?[S]:JS(rs(S))}var aE=co;function vd(S,O,M){var oe=S.length;return M=M===n?oe:M,!O&&M>=oe?S:yi(S,O,M)}var AS=GO||function(S){return Os.clearTimeout(S)};function NS(S,O){if(O)return S.slice();var M=S.length,oe=fS?fS(M):new S.constructor(M);return S.copy(oe),oe}function Tg(S){var O=new S.constructor(S.byteLength);return new ug(O).set(new ug(S)),O}function iE(S,O){var M=O?Tg(S.buffer):S.buffer;return new S.constructor(M,S.byteOffset,S.byteLength)}function lE(S){var O=new S.constructor(S.source,Qe.exec(S));return O.lastIndex=S.lastIndex,O}function cE(S){return ml?ns(ml.call(S)):{}}function uE(S,O){var M=O?Tg(S.buffer):S.buffer;return new S.constructor(M,S.byteOffset,S.length)}function FS(S,O){if(S!==O){var M=S!==n,oe=S===null,je=S===S,Ve=Oc(S),rt=O!==n,mt=O===null,Ot=O===O,gn=Oc(O);if(!mt&&!gn&&!Ve&&S>O||Ve&&rt&&Ot&&!mt&&!gn||oe&&rt&&Ot||!M&&Ot||!je)return 1;if(!oe&&!Ve&&!gn&&S<O||gn&&M&&je&&!oe&&!Ve||mt&&M&&je||!rt&&je||!Ot)return-1}return 0}function dM(S,O,M){for(var oe=-1,je=S.criteria,Ve=O.criteria,rt=je.length,mt=M.length;++oe<rt;){var Ot=FS(je[oe],Ve[oe]);if(Ot){if(oe>=mt)return Ot;var gn=M[oe];return Ot*(gn=="desc"?-1:1)}}return S.index-O.index}function dE(S,O,M,oe){for(var je=-1,Ve=S.length,rt=M.length,mt=-1,Ot=O.length,gn=aa(Ve-rt,0),bn=Ut(Ot+gn),Rn=!oe;++mt<Ot;)bn[mt]=O[mt];for(;++je<rt;)(Rn||je<Ve)&&(bn[M[je]]=S[je]);for(;gn--;)bn[mt++]=S[je++];return bn}function MS(S,O,M,oe){for(var je=-1,Ve=S.length,rt=-1,mt=M.length,Ot=-1,gn=O.length,bn=aa(Ve-mt,0),Rn=Ut(bn+gn),er=!oe;++je<bn;)Rn[je]=S[je];for(var wr=je;++Ot<gn;)Rn[wr+Ot]=O[Ot];for(;++rt<mt;)(er||je<Ve)&&(Rn[wr+M[rt]]=S[je++]);return Rn}function Fi(S,O){var M=-1,oe=S.length;for(O||(O=Ut(oe));++M<oe;)O[M]=S[M];return O}function Cc(S,O,M,oe){var je=!M;M||(M={});for(var Ve=-1,rt=O.length;++Ve<rt;){var mt=O[Ve],Ot=oe?oe(M[mt],S[mt],mt,M,S):n;Ot===n&&(Ot=S[mt]),je?Ru(M,mt,Ot):Dm(M,mt,Ot)}return M}function Ux(S,O){return Cc(S,Dc(S),O)}function pM(S,O){return Cc(S,gE(S),O)}function qx(S,O){return function(M,oe){var je=Zr(M)?nS:fl,Ve=O?O():{};return je(M,S,$r(oe,2),Ve)}}function oh(S){return co(function(O,M){var oe=-1,je=M.length,Ve=je>1?M[je-1]:n,rt=je>2?M[2]:n;for(Ve=S.length>3&&typeof Ve=="function"?(je--,Ve):n,rt&&_i(M[0],M[1],rt)&&(Ve=je<3?n:Ve,je=1),O=ns(O);++oe<je;){var mt=M[oe];mt&&S(O,mt,oe,Ve)}return O})}function Ul(S,O){return function(M,oe){if(M==null)return M;if(!zl(M))return S(M,oe);for(var je=M.length,Ve=O?je:-1,rt=ns(M);(O?Ve--:++Ve<je)&&oe(rt[Ve],Ve,rt)!==!1;);return M}}function Vx(S){return function(O,M,oe){for(var je=-1,Ve=ns(O),rt=oe(O),mt=rt.length;mt--;){var Ot=rt[S?mt:++je];if(M(Ve[Ot],Ot,Ve)===!1)break}return O}}function zx(S,O,M){var oe=O&D,je=sh(S);function Ve(){var rt=this&&this!==Os&&this instanceof Ve?je:S;return rt.apply(oe?M:this,arguments)}return Ve}function _S(S){return function(O){O=rs(O);var M=Lf(O)?pl(O):n,oe=M?M[0]:O.charAt(0),je=M?vd(M,1).join(""):O.slice(1);return oe[S]()+je}}function Om(S){return function(O){return sS(Xte(Jte(O).replace(GF,"")),S,"")}}function sh(S){return function(){var O=arguments;switch(O.length){case 0:return new S;case 1:return new S(O[0]);case 2:return new S(O[0],O[1]);case 3:return new S(O[0],O[1],O[2]);case 4:return new S(O[0],O[1],O[2],O[3]);case 5:return new S(O[0],O[1],O[2],O[3],O[4]);case 6:return new S(O[0],O[1],O[2],O[3],O[4],O[5]);case 7:return new S(O[0],O[1],O[2],O[3],O[4],O[5],O[6])}var M=Gf(S.prototype),oe=S.apply(M,O);return Qs(oe)?oe:M}}function LS(S,O,M){var oe=sh(S);function je(){for(var Ve=arguments.length,rt=Ut(Ve),mt=Ve,Ot=jd(je);mt--;)rt[mt]=arguments[mt];var gn=Ve<3&&rt[0]!==Ot&&rt[Ve-1]!==Ot?[]:Al(rt,Ot);if(Ve-=gn.length,Ve<M)return Mi(S,O,ah,je.placeholder,n,rt,gn,n,n,M-Ve);var bn=this&&this!==Os&&this instanceof je?oe:S;return Ai(bn,this,rt)}return je}function Em(S){return function(O,M,oe){var je=ns(O);if(!zl(O)){var Ve=$r(M,3);O=Ci(O),M=function(mt){return Ve(je[mt],mt,je)}}var rt=S(O,M,oe);return rt>-1?je[Ve?O[rt]:rt]:n}}function Hx(S){return _u(function(O){var M=O.length,oe=M,je=fi.prototype.thru;for(S&&O.reverse();oe--;){var Ve=O[oe];if(typeof Ve!="function")throw new Nl(c);if(je&&!rt&&ih(Ve)=="wrapper")var rt=new fi([],!0)}for(oe=rt?oe:M;++oe<M;){Ve=O[oe];var mt=ih(Ve),Ot=mt=="wrapper"?Qx(Ve):n;Ot&&Ng(Ot[0])&&Ot[1]==(w|I|E|A)&&!Ot[4].length&&Ot[9]==1?rt=rt[ih(Ot[0])].apply(rt,Ot[3]):rt=Ve.length==1&&Ng(Ve)?rt[mt]():rt.thru(Ve)}return function(){var gn=arguments,bn=gn[0];if(rt&&gn.length==1&&Zr(bn))return rt.plant(bn).value();for(var Rn=0,er=M?O[Rn].apply(this,gn):bn;++Rn<M;)er=O[Rn].call(this,er);return er}})}function ah(S,O,M,oe,je,Ve,rt,mt,Ot,gn){var bn=O&w,Rn=O&D,er=O&v,wr=O&(I|P),qr=O&F,mo=er?n:sh(S);function Vr(){for(var jo=arguments.length,Mo=Ut(jo),Ec=jo;Ec--;)Mo[Ec]=arguments[Ec];if(wr)var xl=jd(Vr),Pc=_O(Mo,xl);if(oe&&(Mo=dE(Mo,oe,je,wr)),Ve&&(Mo=MS(Mo,Ve,rt,wr)),jo-=Pc,wr&&jo<gn){var Sa=Al(Mo,xl);return Mi(S,O,ah,Vr.placeholder,M,Mo,Sa,mt,Ot,gn-jo)}var Ed=Rn?M:this,_m=er?Ed[S]:S;return jo=Mo.length,mt?Mo=Sc(Mo,mt):qr&&jo>1&&Mo.reverse(),bn&&Ot<jo&&(Mo.length=Ot),this&&this!==Os&&this instanceof Vr&&(_m=mo||sh(_m)),_m.apply(Ed,Mo)}return Vr}function pE(S,O){return function(M,oe){return yd(M,S,O(oe),{})}}function Og(S,O){return function(M,oe){var je;if(M===n&&oe===n)return O;if(M!==n&&(je=M),oe!==n){if(je===n)return oe;typeof M=="string"||typeof oe=="string"?(M=Xi(M),oe=Xi(oe)):(M=wS(M),oe=wS(oe)),je=S(M,oe)}return je}}function Gx(S){return _u(function(O){return O=ps(O,dl($r())),co(function(M){var oe=this;return S(O,function(je){return Ai(je,oe,M)})})})}function Eg(S,O){O=O===n?" ":Xi(O);var M=O.length;if(M<2)return M?Im(O,S):O;var oe=Im(O,gm(S/fm(O)));return Lf(O)?vd(pl(oe),0,S).join(""):oe.slice(0,S)}function mE(S,O,M,oe){var je=O&D,Ve=sh(S);function rt(){for(var mt=-1,Ot=arguments.length,gn=-1,bn=oe.length,Rn=Ut(bn+Ot),er=this&&this!==Os&&this instanceof rt?Ve:S;++gn<bn;)Rn[gn]=oe[gn];for(;Ot--;)Rn[gn++]=arguments[++mt];return Ai(er,je?M:this,Rn)}return rt}function $S(S){return function(O,M,oe){return oe&&typeof oe!="number"&&_i(O,M,oe)&&(M=oe=n),O=Mm(O),M===n?(M=O,O=0):M=Mm(M),oe=oe===n?O<M?1:-1:Mm(oe),vg(O,M,oe,S)}}function Kx(S){return function(O,M){return typeof O=="string"&&typeof M=="string"||(O=$u(O),M=$u(M)),S(O,M)}}function Mi(S,O,M,oe,je,Ve,rt,mt,Ot,gn){var bn=O&I,Rn=bn?rt:n,er=bn?n:rt,wr=bn?Ve:n,qr=bn?n:Ve;O|=bn?E:k,O&=~(bn?k:E),O&T||(O&=-4);var mo=[S,O,je,wr,Rn,qr,er,mt,Ot,gn],Vr=M.apply(n,mo);return Ng(S)&&QS(Vr,mo),Vr.placeholder=oe,YS(Vr,S,O)}function Ya(S){var O=sa[S];return function(M,oe){if(M=$u(M),oe=oe==null?0:mi(uo(oe),292),oe&&Uf(M)){var je=(rs(M)+"e").split("e"),Ve=O(je[0]+"e"+(+je[1]+oe));return je=(rs(Ve)+"e").split("e"),+(je[0]+"e"+(+je[1]-oe))}return O(M)}}var fE=dp&&1/cp(new dp([,-0]))[1]==W?function(S){return new dp(S)}:BM;function BS(S){return function(O){var M=Ja(O);return M==De?dx(O):M==re?sM(O):nM(O,S(O))}}function Mu(S,O,M,oe,je,Ve,rt,mt){var Ot=O&v;if(!Ot&&typeof S!="function")throw new Nl(c);var gn=oe?oe.length:0;if(gn||(O&=-97,oe=je=n),rt=rt===n?rt:aa(uo(rt),0),mt=mt===n?mt:uo(mt),gn-=je?je.length:0,O&k){var bn=oe,Rn=je;oe=je=n}var er=Ot?n:Qx(S),wr=[S,O,M,oe,je,bn,Rn,Ve,rt,mt];if(er&&CE(wr,er),S=wr[0],O=wr[1],M=wr[2],oe=wr[3],je=wr[4],mt=wr[9]=wr[9]===n?Ot?0:S.length:aa(wr[9]-gn,0),!mt&&O&(I|P)&&(O&=-25),!O||O==D)var qr=zx(S,O,M);else O==I||O==P?qr=LS(S,O,mt):(O==E||O==(D|E))&&!je.length?qr=mE(S,O,M,oe):qr=ah.apply(n,wr);var mo=er?_x:QS;return YS(mo(qr,wr),S,O)}function WS(S,O,M,oe){return S===n||Od(S,Iu[M])&&!$o.call(oe,M)?O:S}function US(S,O,M,oe,je,Ve){return Qs(S)&&Qs(O)&&(Ve.set(O,S),jm(S,O,n,US,Ve),Ve.delete(O)),S}function qS(S){return p0(S)?n:S}function VS(S,O,M,oe,je,Ve){var rt=M&x,mt=S.length,Ot=O.length;if(mt!=Ot&&!(rt&&Ot>mt))return!1;var gn=Ve.get(S),bn=Ve.get(O);if(gn&&bn)return gn==O&&bn==S;var Rn=-1,er=!0,wr=M&y?new xm:n;for(Ve.set(S,O),Ve.set(O,S);++Rn<mt;){var qr=S[Rn],mo=O[Rn];if(oe)var Vr=rt?oe(mo,qr,Rn,O,S,Ve):oe(qr,mo,Rn,S,O,Ve);if(Vr!==n){if(Vr)continue;er=!1;break}if(wr){if(!aS(O,function(jo,Mo){if(!pd(wr,Mo)&&(qr===jo||je(qr,jo,M,oe,Ve)))return wr.push(Mo)})){er=!1;break}}else if(!(qr===mo||je(qr,mo,M,oe,Ve))){er=!1;break}}return Ve.delete(S),Ve.delete(O),er}function zS(S,O,M,oe,je,Ve,rt){switch(M){case Ie:if(S.byteLength!=O.byteLength||S.byteOffset!=O.byteOffset)return!1;S=S.buffer,O=O.buffer;case ye:return!(S.byteLength!=O.byteLength||!Ve(new ug(S),new ug(O)));case Ne:case xe:case ke:return Od(+S,+O);case de:return S.name==O.name&&S.message==O.message;case H:case q:return S==O+"";case De:var mt=dx;case re:var Ot=oe&x;if(mt||(mt=cp),S.size!=O.size&&!Ot)return!1;var gn=rt.get(S);if(gn)return gn==O;oe|=y,rt.set(S,O);var bn=VS(mt(S),mt(O),oe,je,Ve,rt);return rt.delete(S),bn;case Y:if(ml)return ml.call(S)==ml.call(O)}return!1}function hE(S,O,M,oe,je,Ve){var rt=M&x,mt=Pg(S),Ot=mt.length,gn=Pg(O),bn=gn.length;if(Ot!=bn&&!rt)return!1;for(var Rn=Ot;Rn--;){var er=mt[Rn];if(!(rt?er in O:$o.call(O,er)))return!1}var wr=Ve.get(S),qr=Ve.get(O);if(wr&&qr)return wr==O&&qr==S;var mo=!0;Ve.set(S,O),Ve.set(O,S);for(var Vr=rt;++Rn<Ot;){er=mt[Rn];var jo=S[er],Mo=O[er];if(oe)var Ec=rt?oe(Mo,jo,er,O,S,Ve):oe(jo,Mo,er,S,O,Ve);if(!(Ec===n?jo===Mo||je(jo,Mo,M,oe,Ve):Ec)){mo=!1;break}Vr||(Vr=er=="constructor")}if(mo&&!Vr){var xl=S.constructor,Pc=O.constructor;xl!=Pc&&"constructor"in S&&"constructor"in O&&!(typeof xl=="function"&&xl instanceof xl&&typeof Pc=="function"&&Pc instanceof Pc)&&(mo=!1)}return Ve.delete(S),Ve.delete(O),mo}function _u(S){return gl(Zx(S,n,ny),S+"")}function Pg(S){return wx(S,Ci,Dc)}function Rg(S){return wx(S,Hl,gE)}var Qx=Sx?function(S){return Sx.get(S)}:BM;function ih(S){for(var O=S.name+"",M=zf[O],oe=$o.call(zf,O)?M.length:0;oe--;){var je=M[oe],Ve=je.func;if(Ve==null||Ve==S)return je.name}return O}function jd(S){var O=$o.call(Fe,"placeholder")?Fe:S;return O.placeholder}function $r(){var S=Fe.iteratee||LM;return S=S===LM?Zf:S,arguments.length?S(arguments[0],arguments[1]):S}function wg(S,O){var M=S.__data__;return lh(O)?M[typeof O=="string"?"string":"hash"]:M.map}function kg(S){for(var O=Ci(S),M=O.length;M--;){var oe=O[M],je=S[oe];O[M]=[oe,je,Fg(je)]}return O}function Cp(S,O){var M=_f(S,O);return vS(M)?M:n}function Yx(S){var O=$o.call(S,hm),M=S[hm];try{S[hm]=n;var oe=!0}catch{}var je=lg.call(S);return oe&&(O?S[hm]=M:delete S[hm]),je}var Dc=yx?function(S){return S==null?[]:(S=ns(S),ip(yx(S),function(O){return bx.call(S,O)}))}:WM,gE=yx?function(S){for(var O=[];S;)lp(O,Dc(S)),S=xc(S);return O}:WM,Ja=Qa;(mg&&Ja(new mg(new ArrayBuffer(1)))!=Ie||bm&&Ja(new bm)!=De||fg&&Ja(fg.resolve())!=Le||dp&&Ja(new dp)!=re||hg&&Ja(new hg)!=B)&&(Ja=function(S){var O=Qa(S),M=O==qe?S.constructor:n,oe=M?Dp(M):"";if(oe)switch(oe){case bS:return Ie;case pp:return De;case QO:return Le;case Hf:return re;case Tu:return B}return O});function HS(S,O,M){for(var oe=-1,je=M.length;++oe<je;){var Ve=M[oe],rt=Ve.size;switch(Ve.type){case"drop":S+=rt;break;case"dropRight":O-=rt;break;case"take":O=mi(O,S+rt);break;case"takeRight":S=aa(S,O-rt);break}}return{start:S,end:O}}function bE(S){var O=S.match(pt);return O?O[1].split(Rt):[]}function GS(S,O,M){O=Fu(O,S);for(var oe=-1,je=O.length,Ve=!1;++oe<je;){var rt=jc(O[oe]);if(!(Ve=S!=null&&M(S,rt)))break;S=S[rt]}return Ve||++oe!=je?Ve:(je=S==null?0:S.length,!!je&&_E(je)&&Ps(rt,je)&&(Zr(S)||qg(S)))}function Ag(S){var O=S.length,M=new S.constructor(O);return O&&typeof S[0]=="string"&&$o.call(S,"index")&&(M.index=S.index,M.input=S.input),M}function Xa(S){return typeof S.constructor=="function"&&!Id(S)?Gf(xc(S)):{}}function mM(S,O,M){var oe=S.constructor;switch(O){case ye:return Tg(S);case Ne:case xe:return new oe(+S);case Ie:return iE(S,M);case le:case fe:case Ae:case Se:case be:case Me:case we:case Ge:case We:return uE(S,M);case De:return new oe;case ke:case q:return new oe(S);case H:return lE(S);case re:return new oe;case Y:return cE(S)}}function fM(S,O){var M=O.length;if(!M)return S;var oe=M-1;return O[oe]=(M>1?"& ":"")+O[oe],O=O.join(M>2?", ":" "),S.replace(_n,`{
/* [wrapped with `+O+`] */
`)}function Jx(S){return Zr(S)||qg(S)||!!(HO&&S&&S[HO])}function Ps(S,O){var M=typeof S;return O=O??U,!!O&&(M=="number"||M!="symbol"&&Sr.test(S))&&S>-1&&S%1==0&&S<O}function _i(S,O,M){if(!Qs(M))return!1;var oe=typeof O;return(oe=="number"?zl(M)&&Ps(O,M.length):oe=="string"&&O in M)?Od(M[O],S):!1}function pr(S,O){if(Zr(S))return!1;var M=typeof S;return M=="number"||M=="symbol"||M=="boolean"||S==null||Oc(S)?!0:Tt.test(S)||!qt.test(S)||O!=null&&S in ns(O)}function lh(S){var O=typeof S;return O=="string"||O=="number"||O=="symbol"||O=="boolean"?S!=="__proto__":S===null}function Ng(S){var O=ih(S),M=Fe[O];if(typeof M!="function"||!(O in Xr.prototype))return!1;if(S===M)return!0;var oe=Qx(M);return!!oe&&S===oe[0]}function xE(S){return!!fx&&fx in S}var hM=Bf?Fm:UM;function Id(S){var O=S&&S.constructor,M=typeof O=="function"&&O.prototype||Iu;return S===M}function Fg(S){return S===S&&!Qs(S)}function Xx(S,O){return function(M){return M==null?!1:M[S]===O&&(O!==n||S in ns(M))}}function yE(S){var O=Lt(S,function(oe){return M.size===p&&M.clear(),oe}),M=O.cache;return O}function CE(S,O){var M=S[1],oe=O[1],je=M|oe,Ve=je<(D|v|w),rt=oe==w&&M==I||oe==w&&M==A&&S[7].length<=O[8]||oe==(w|A)&&O[7].length<=O[8]&&M==I;if(!(Ve||rt))return S;oe&D&&(S[2]=O[2],je|=M&D?0:T);var mt=O[3];if(mt){var Ot=S[3];S[3]=Ot?dE(Ot,mt,O[4]):mt,S[4]=Ot?Al(S[3],m):O[4]}return mt=O[5],mt&&(Ot=S[5],S[5]=Ot?MS(Ot,mt,O[6]):mt,S[6]=Ot?Al(S[5],m):O[6]),mt=O[7],mt&&(S[7]=mt),oe&w&&(S[8]=S[8]==null?O[8]:mi(S[8],O[8])),S[9]==null&&(S[9]=O[9]),S[0]=O[0],S[1]=je,S}function DE(S){var O=[];if(S!=null)for(var M in ns(S))O.push(M);return O}function KS(S){return lg.call(S)}function Zx(S,O,M){return O=aa(O===n?S.length-1:O,0),function(){for(var oe=arguments,je=-1,Ve=aa(oe.length-O,0),rt=Ut(Ve);++je<Ve;)rt[je]=oe[O+je];je=-1;for(var mt=Ut(O+1);++je<O;)mt[je]=oe[je];return mt[O]=M(rt),Ai(S,this,mt)}}function _a(S,O){return O.length<2?S:xd(S,yi(O,0,-1))}function Sc(S,O){for(var M=S.length,oe=mi(O.length,M),je=Fi(S);oe--;){var Ve=O[oe];S[oe]=Ps(Ve,M)?je[Ve]:n}return S}function Lu(S,O){if(!(O==="constructor"&&typeof S[O]=="function")&&O!="__proto__")return S[O]}var QS=vc(_x),ch=hS||function(S,O){return Os.setTimeout(S,O)},gl=vc(Nu);function YS(S,O,M){var oe=O+"";return gl(S,fM(oe,SE(bE(oe),M)))}function vc(S){var O=0,M=0;return function(){var oe=uM(),je=z-(oe-M);if(M=oe,je>0){if(++O>=K)return arguments[0]}else O=0;return S.apply(n,arguments)}}function ey(S,O){var M=-1,oe=S.length,je=oe-1;for(O=O===n?oe:O;++M<O;){var Ve=eh(M,je),rt=S[Ve];S[Ve]=S[M],S[M]=rt}return S.length=O,S}var JS=yE(function(S){var O=[];return S.charCodeAt(0)===46&&O.push(""),S.replace(Jt,function(M,oe,je,Ve){O.push(je?Ve.replace(Yt,"$1"):oe||M)}),O});function jc(S){if(typeof S=="string"||Oc(S))return S;var O=S+"";return O=="0"&&1/S==-W?"-0":O}function Dp(S){if(S!=null){try{return ig.call(S)}catch{}try{return S+""}catch{}}return""}function SE(S,O){return pi(ue,function(M){var oe="_."+M[0];O&M[1]&&!lx(S,oe)&&S.push(oe)}),S.sort()}function vE(S){if(S instanceof Xr)return S.clone();var O=new fi(S.__wrapped__,S.__chain__);return O.__actions__=Fi(S.__actions__),O.__index__=S.__index__,O.__values__=S.__values__,O}function ty(S,O,M){(M?_i(S,O,M):O===n)?O=1:O=aa(uo(O),0);var oe=S==null?0:S.length;if(!oe||O<1)return[];for(var je=0,Ve=0,rt=Ut(gm(oe/O));je<oe;)rt[Ve++]=yi(S,je,je+=O);return rt}function XS(S){for(var O=-1,M=S==null?0:S.length,oe=0,je=[];++O<M;){var Ve=S[O];Ve&&(je[oe++]=Ve)}return je}function ql(){var S=arguments.length;if(!S)return[];for(var O=Ut(S-1),M=arguments[0],oe=S;oe--;)O[oe-1]=arguments[oe];return lp(Zr(M)?Fi(M):[M],Ls(O,1))}var Fo=co(function(S,O){return Da(S)?wu(S,Ls(O,1,Da,!0)):[]}),La=co(function(S,O){var M=Li(O);return Da(M)&&(M=n),Da(S)?wu(S,Ls(O,1,Da,!0),$r(M,2)):[]}),ia=co(function(S,O){var M=Li(O);return Da(M)&&(M=n),Da(S)?wu(S,Ls(O,1,Da,!0),n,M):[]});function Za(S,O,M){var oe=S==null?0:S.length;return oe?(O=M||O===n?1:uo(O),yi(S,O<0?0:O,oe)):[]}function bl(S,O,M){var oe=S==null?0:S.length;return oe?(O=M||O===n?1:uo(O),O=oe-O,yi(S,0,O<0?0:O)):[]}function uh(S,O){return S&&S.length?jg(S,$r(O,3),!0,!0):[]}function Ca(S,O){return S&&S.length?jg(S,$r(O,3),!0):[]}function Mg(S,O,M,oe){var je=S==null?0:S.length;return je?(M&&typeof M!="number"&&_i(S,O,M)&&(M=0,oe=je),rE(S,O,M,oe)):[]}function Sp(S,O,M){var oe=S==null?0:S.length;if(!oe)return-1;var je=M==null?0:uo(M);return je<0&&(je=aa(oe+je,0)),cx(S,$r(O,3),je)}function _g(S,O,M){var oe=S==null?0:S.length;if(!oe)return-1;var je=oe-1;return M!==n&&(je=uo(M),je=M<0?aa(oe+je,0):mi(je,oe-1)),cx(S,$r(O,3),je,!0)}function ny(S){var O=S==null?0:S.length;return O?Ls(S,1):[]}function Lg(S){var O=S==null?0:S.length;return O?Ls(S,W):[]}function Zi(S,O){var M=S==null?0:S.length;return M?(O=O===n?1:uo(O),Ls(S,O)):[]}function ZS(S){for(var O=-1,M=S==null?0:S.length,oe={};++O<M;){var je=S[O];oe[je[0]]=je[1]}return oe}function Pm(S){return S&&S.length?S[0]:n}function Td(S,O,M){var oe=S==null?0:S.length;if(!oe)return-1;var je=M==null?0:uo(M);return je<0&&(je=aa(oe+je,0)),Mf(S,O,je)}function ry(S){var O=S==null?0:S.length;return O?yi(S,0,-1):[]}var e0=co(function(S){var O=ps(S,rh);return O.length&&O[0]===S[0]?kx(O):[]}),vp=co(function(S){var O=Li(S),M=ps(S,rh);return O===Li(M)?O=n:M.pop(),M.length&&M[0]===S[0]?kx(M,$r(O,2)):[]}),oy=co(function(S){var O=Li(S),M=ps(S,rh);return O=typeof O=="function"?O:n,O&&M.pop(),M.length&&M[0]===S[0]?kx(M,n,O):[]});function jp(S,O){return S==null?"":Cx.call(S,O)}function Li(S){var O=S==null?0:S.length;return O?S[O-1]:n}function $g(S,O,M){var oe=S==null?0:S.length;if(!oe)return-1;var je=oe;return M!==n&&(je=uo(M),je=je<0?aa(oe+je,0):mi(je,oe-1)),O===O?aM(S,O,je):cx(S,kO,je,!0)}function t0(S,O){return S&&S.length?Mx(S,uo(O)):n}var sy=co(Bg);function Bg(S,O){return S&&S.length&&O&&O.length?Gs(S,O):S}function $i(S,O,M){return S&&S.length&&O&&O.length?Gs(S,O,$r(M,2)):S}function Ip(S,O,M){return S&&S.length&&O&&O.length?Gs(S,O,n,M):S}var Ic=_u(function(S,O){var M=S==null?0:S.length,oe=Px(S,O);return ya(S,ps(O,function(je){return Ps(je,M)?+je:je}).sort(FS)),oe});function el(S,O){var M=[];if(!(S&&S.length))return M;var oe=-1,je=[],Ve=S.length;for(O=$r(O,3);++oe<Ve;){var rt=S[oe];O(rt,oe,S)&&(M.push(rt),je.push(oe))}return ya(S,je),M}function ay(S){return S==null?S:Dx.call(S)}function n0(S,O,M){var oe=S==null?0:S.length;return oe?(M&&typeof M!="number"&&_i(S,O,M)?(O=0,M=oe):(O=O==null?0:uo(O),M=M===n?oe:uo(M)),yi(S,O,M)):[]}function r0(S,O){return th(S,O)}function gM(S,O,M){return Lx(S,O,$r(M,2))}function Tp(S,O){var M=S==null?0:S.length;if(M){var oe=th(S,O);if(oe<M&&Od(S[oe],O))return oe}return-1}function jE(S,O){return th(S,O,!0)}function o0(S,O,M){return Lx(S,O,$r(M,2),!0)}function Rm(S,O){var M=S==null?0:S.length;if(M){var oe=th(S,O,!0)-1;if(Od(S[oe],O))return oe}return-1}function s0(S){return S&&S.length?RS(S):[]}function wm(S,O){return S&&S.length?RS(S,$r(O,2)):[]}function IE(S){var O=S==null?0:S.length;return O?yi(S,1,O):[]}function TE(S,O,M){return S&&S.length?(O=M||O===n?1:uo(O),yi(S,0,O<0?0:O)):[]}function a0(S,O,M){var oe=S==null?0:S.length;return oe?(O=M||O===n?1:uo(O),O=oe-O,yi(S,O<0?0:O,oe)):[]}function iy(S,O){return S&&S.length?jg(S,$r(O,3),!1,!0):[]}function bM(S,O){return S&&S.length?jg(S,$r(O,3)):[]}var xM=co(function(S){return Sd(Ls(S,1,Da,!0))}),OE=co(function(S){var O=Li(S);return Da(O)&&(O=n),Sd(Ls(S,1,Da,!0),$r(O,2))}),EE=co(function(S){var O=Li(S);return O=typeof O=="function"?O:n,Sd(Ls(S,1,Da,!0),n,O)});function km(S){return S&&S.length?Sd(S):[]}function yM(S,O){return S&&S.length?Sd(S,$r(O,2)):[]}function dh(S,O){return O=typeof O=="function"?O:n,S&&S.length?Sd(S,n,O):[]}function ly(S){if(!(S&&S.length))return[];var O=0;return S=ip(S,function(M){if(Da(M))return O=aa(M.length,O),!0}),uS(O,function(M){return ps(S,lS(M))})}function As(S,O){if(!(S&&S.length))return[];var M=ly(S);return O==null?M:ps(M,function(oe){return Ai(O,n,oe)})}var CM=co(function(S,O){return Da(S)?wu(S,O):[]}),PE=co(function(S){return Bx(ip(S,Da))}),DM=co(function(S){var O=Li(S);return Da(O)&&(O=n),Bx(ip(S,Da),$r(O,2))}),SM=co(function(S){var O=Li(S);return O=typeof O=="function"?O:n,Bx(ip(S,Da),n,O)}),RE=co(ly);function wE(S,O){return Ig(S||[],O||[],Dm)}function vM(S,O){return Ig(S||[],O||[],Tm)}var Vl=co(function(S){var O=S.length,M=O>1?S[O-1]:n;return M=typeof M=="function"?(S.pop(),M):n,As(S,M)});function cy(S){var O=Fe(S);return O.__chain__=!0,O}function jM(S,O){return O(S),S}function Tc(S,O){return O(S)}var uy=_u(function(S){var O=S.length,M=O?S[0]:0,oe=this.__wrapped__,je=function(Ve){return Px(Ve,S)};return O>1||this.__actions__.length||!(oe instanceof Xr)||!Ps(M)?this.thru(je):(oe=oe.slice(M,+M+(O?1:0)),oe.__actions__.push({func:Tc,args:[je],thisArg:n}),new fi(oe,this.__chain__).thru(function(Ve){return O&&!Ve.length&&Ve.push(n),Ve}))});function Am(){return cy(this)}function dy(){return new fi(this.value(),this.__chain__)}function i0(){this.__values__===n&&(this.__values__=Ute(this.value()));var S=this.__index__>=this.__values__.length,O=S?n:this.__values__[this.__index__++];return{done:S,value:O}}function l0(){return this}function IM(S){for(var O,M=this;M instanceof Ou;){var oe=vE(M);oe.__index__=0,oe.__values__=n,O?je.__wrapped__=oe:O=oe;var je=oe;M=M.__wrapped__}return je.__wrapped__=S,O}function c0(){var S=this.__wrapped__;if(S instanceof Xr){var O=S;return this.__actions__.length&&(O=new Xr(this)),O=O.reverse(),O.__actions__.push({func:Tc,args:[ay],thisArg:n}),new fi(O,this.__chain__)}return this.thru(ay)}function TM(){return nh(this.__wrapped__,this.__actions__)}var kE=qx(function(S,O,M){$o.call(S,M)?++S[M]:Ru(S,M,1)});function AE(S,O,M){var oe=Zr(S)?rS:xg;return M&&_i(S,O,M)&&(O=n),oe(S,$r(O,3))}function py(S,O){var M=Zr(S)?ip:DS;return M(S,$r(O,3))}var my=Em(Sp),NE=Em(_g);function u0(S,O){return Ls(Nm(S,O),1)}function OM(S,O){return Ls(Nm(S,O),W)}function FE(S,O,M){return M=M===n?1:uo(M),Ls(Nm(S,O),M)}function fy(S,O){var M=Zr(S)?pi:ku;return M(S,$r(O,3))}function Wg(S,O){var M=Zr(S)?ix:nE;return M(S,$r(O,3))}var d0=qx(function(S,O,M){$o.call(S,M)?S[M].push(O):Ru(S,M,[O])});function hy(S,O,M,oe){S=zl(S)?S:xy(S),M=M&&!oe?uo(M):0;var je=S.length;return M<0&&(M=aa(je+M,0)),LE(S)?M<=je&&S.indexOf(O,M)>-1:!!je&&Mf(S,O,M)>-1}var ME=co(function(S,O,M){var oe=-1,je=typeof O=="function",Ve=zl(S)?Ut(S.length):[];return ku(S,function(rt){Ve[++oe]=je?Ai(O,rt,M):$l(rt,O,M)}),Ve}),EM=qx(function(S,O,M){Ru(S,M,O)});function Nm(S,O){var M=Zr(S)?ps:IS;return M(S,$r(O,3))}function PM(S,O,M,oe){return S==null?[]:(Zr(O)||(O=O==null?[]:[O]),M=oe?n:M,Zr(M)||(M=M==null?[]:[M]),Sg(S,O,M))}var Ug=qx(function(S,O,M){S[M?0:1].push(O)},function(){return[[],[]]});function RM(S,O,M){var oe=Zr(S)?sS:NO,je=arguments.length<3;return oe(S,$r(O,4),M,je,ku)}function gy(S,O,M){var oe=Zr(S)?XF:NO,je=arguments.length<3;return oe(S,$r(O,4),M,je,nE)}function b(S,O){var M=Zr(S)?ip:DS;return M(S,Mn($r(O,3)))}function C(S){var O=Zr(S)?Pu:xi;return O(S)}function R(S,O,M){(M?_i(S,O,M):O===n)?O=1:O=uo(O);var oe=Zr(S)?Cm:ES;return oe(S,O)}function N(S){var O=Zr(S)?eE:Wl;return O(S)}function G(S){if(S==null)return 0;if(zl(S))return LE(S)?fm(S):S.length;var O=Ja(S);return O==De||O==re?S.size:Dd(S).length}function ne(S,O,M){var oe=Zr(S)?aS:PS;return M&&_i(S,O,M)&&(O=n),oe(S,$r(O,3))}var Oe=co(function(S,O){if(S==null)return[];var M=O.length;return M>1&&_i(S,O[0],O[1])?O=[]:M>2&&_i(O[0],O[1],O[2])&&(O=[O[0]]),Sg(S,Ls(O,1),[])}),nt=Cs||function(){return Os.Date.now()};function ut(S,O){if(typeof O!="function")throw new Nl(c);return S=uo(S),function(){if(--S<1)return O.apply(this,arguments)}}function Ht(S,O,M){return O=M?n:O,O=S&&O==null?S.length:O,Mu(S,w,n,n,n,n,O)}function On(S,O){var M;if(typeof O!="function")throw new Nl(c);return S=uo(S),function(){return--S>0&&(M=O.apply(this,arguments)),S<=1&&(O=n),M}}var wn=co(function(S,O,M){var oe=D;if(M.length){var je=Al(M,jd(wn));oe|=E}return Mu(S,oe,O,M,je)}),In=co(function(S,O,M){var oe=D|v;if(M.length){var je=Al(M,jd(In));oe|=E}return Mu(O,oe,S,M,je)});function ir(S,O,M){O=M?n:O;var oe=Mu(S,I,n,n,n,n,n,O);return oe.placeholder=ir.placeholder,oe}function Dr(S,O,M){O=M?n:O;var oe=Mu(S,P,n,n,n,n,n,O);return oe.placeholder=Dr.placeholder,oe}function Tr(S,O,M){var oe,je,Ve,rt,mt,Ot,gn=0,bn=!1,Rn=!1,er=!0;if(typeof S!="function")throw new Nl(c);O=$u(O)||0,Qs(M)&&(bn=!!M.leading,Rn="maxWait"in M,Ve=Rn?aa($u(M.maxWait)||0,O):Ve,er="trailing"in M?!!M.trailing:er);function wr(Sa){var Ed=oe,_m=je;return oe=je=n,gn=Sa,rt=S.apply(_m,Ed),rt}function qr(Sa){return gn=Sa,mt=ch(jo,O),bn?wr(Sa):rt}function mo(Sa){var Ed=Sa-Ot,_m=Sa-gn,tne=O-Ed;return Rn?mi(tne,Ve-_m):tne}function Vr(Sa){var Ed=Sa-Ot,_m=Sa-gn;return Ot===n||Ed>=O||Ed<0||Rn&&_m>=Ve}function jo(){var Sa=nt();if(Vr(Sa))return Mo(Sa);mt=ch(jo,mo(Sa))}function Mo(Sa){return mt=n,er&&oe?wr(Sa):(oe=je=n,rt)}function Ec(){mt!==n&&AS(mt),gn=0,oe=Ot=je=mt=n}function xl(){return mt===n?rt:Mo(nt())}function Pc(){var Sa=nt(),Ed=Vr(Sa);if(oe=arguments,je=this,Ot=Sa,Ed){if(mt===n)return qr(Ot);if(Rn)return AS(mt),mt=ch(jo,O),wr(Ot)}return mt===n&&(mt=ch(jo,O)),rt}return Pc.cancel=Ec,Pc.flush=xl,Pc}var Ks=co(function(S,O){return CS(S,1,O)}),At=co(function(S,O,M){return CS(S,$u(O)||0,M)});function gt(S){return Mu(S,F)}function Lt(S,O){if(typeof S!="function"||O!=null&&typeof O!="function")throw new Nl(c);var M=function(){var oe=arguments,je=O?O.apply(this,oe):oe[0],Ve=M.cache;if(Ve.has(je))return Ve.get(je);var rt=S.apply(this,oe);return M.cache=Ve.set(je,rt)||Ve,rt};return M.cache=new(Lt.Cache||Fl),M}Lt.Cache=Fl;function Mn(S){if(typeof S!="function")throw new Nl(c);return function(){var O=arguments;switch(O.length){case 0:return!S.call(this);case 1:return!S.call(this,O[0]);case 2:return!S.call(this,O[0],O[1]);case 3:return!S.call(this,O[0],O[1],O[2])}return!S.apply(this,O)}}function Pr(S){return On(2,S)}var _r=aE(function(S,O){O=O.length==1&&Zr(O[0])?ps(O[0],dl($r())):ps(Ls(O,1),dl($r()));var M=O.length;return co(function(oe){for(var je=-1,Ve=mi(oe.length,M);++je<Ve;)oe[je]=O[je].call(this,oe[je]);return Ai(S,this,oe)})}),Nr=co(function(S,O){var M=Al(O,jd(Nr));return Mu(S,E,n,O,M)}),Ur=co(function(S,O){var M=Al(O,jd(Ur));return Mu(S,k,n,O,M)}),$a=_u(function(S,O){return Mu(S,A,n,n,n,O)});function Bo(S,O){if(typeof S!="function")throw new Nl(c);return O=O===n?O:uo(O),co(S,O)}function Op(S,O){if(typeof S!="function")throw new Nl(c);return O=O==null?0:aa(uo(O),0),co(function(M){var oe=M[O],je=vd(M,0,O);return oe&&lp(je,oe),Ai(S,this,je)})}function wM(S,O,M){var oe=!0,je=!0;if(typeof S!="function")throw new Nl(c);return Qs(M)&&(oe="leading"in M?!!M.leading:oe,je="trailing"in M?!!M.trailing:je),Tr(S,O,{leading:oe,maxWait:O,trailing:je})}function V$e(S){return Ht(S,1)}function z$e(S,O){return Nr(Wx(O),S)}function H$e(){if(!arguments.length)return[];var S=arguments[0];return Zr(S)?S:[S]}function G$e(S){return Ji(S,g)}function K$e(S,O){return O=typeof O=="function"?O:n,Ji(S,g,O)}function Q$e(S){return Ji(S,f|g)}function Y$e(S,O){return O=typeof O=="function"?O:n,Ji(S,f|g,O)}function J$e(S,O){return O==null||bg(S,O,Ci(O))}function Od(S,O){return S===O||S!==S&&O!==O}var X$e=Kx(bp),Z$e=Kx(function(S,O){return S>=O}),qg=Ax((function(){return arguments})())?Ax:function(S){return la(S)&&$o.call(S,"callee")&&!bx.call(S,"callee")},Zr=Ut.isArray,eBe=tS?dl(tS):oE;function zl(S){return S!=null&&_E(S.length)&&!Fm(S)}function Da(S){return la(S)&&zl(S)}function tBe(S){return S===!0||S===!1||la(S)&&Qa(S)==Ne}var ph=gS||UM,nBe=Gi?dl(Gi):Cd;function rBe(S){return la(S)&&S.nodeType===1&&!p0(S)}function oBe(S){if(S==null)return!0;if(zl(S)&&(Zr(S)||typeof S=="string"||typeof S.splice=="function"||ph(S)||by(S)||qg(S)))return!S.length;var O=Ja(S);if(O==De||O==re)return!S.size;if(Id(S))return!Dd(S).length;for(var M in S)if($o.call(S,M))return!1;return!0}function sBe(S,O){return Bl(S,O)}function aBe(S,O,M){M=typeof M=="function"?M:n;var oe=M?M(S,O):n;return oe===n?Bl(S,O,n,M):!!oe}function kM(S){if(!la(S))return!1;var O=Qa(S);return O==de||O==me||typeof S.message=="string"&&typeof S.name=="string"&&!p0(S)}function iBe(S){return typeof S=="number"&&Uf(S)}function Fm(S){if(!Qs(S))return!1;var O=Qa(S);return O==ce||O==ee||O==Te||O==_e}function Lte(S){return typeof S=="number"&&S==uo(S)}function _E(S){return typeof S=="number"&&S>-1&&S%1==0&&S<=U}function Qs(S){var O=typeof S;return S!=null&&(O=="object"||O=="function")}function la(S){return S!=null&&typeof S=="object"}var $te=mm?dl(mm):sE;function lBe(S,O){return S===O||Xf(S,O,kg(O))}function cBe(S,O,M){return M=typeof M=="function"?M:n,Xf(S,O,kg(O),M)}function uBe(S){return Bte(S)&&S!=+S}function dBe(S){if(hM(S))throw new Kr(i);return vS(S)}function pBe(S){return S===null}function mBe(S){return S==null}function Bte(S){return typeof S=="number"||la(S)&&Qa(S)==ke}function p0(S){if(!la(S)||Qa(S)!=qe)return!1;var O=xc(S);if(O===null)return!0;var M=$o.call(O,"constructor")&&O.constructor;return typeof M=="function"&&M instanceof M&&ig.call(M)==hx}var AM=ax?dl(ax):Cg;function fBe(S){return Lte(S)&&S>=-U&&S<=U}var Wte=Ff?dl(Ff):Au;function LE(S){return typeof S=="string"||!Zr(S)&&la(S)&&Qa(S)==q}function Oc(S){return typeof S=="symbol"||la(S)&&Qa(S)==Y}var by=PO?dl(PO):Dg;function hBe(S){return S===n}function gBe(S){return la(S)&&Ja(S)==B}function bBe(S){return la(S)&&Qa(S)==Z}var xBe=Kx(xp),yBe=Kx(function(S,O){return S<=O});function Ute(S){if(!S)return[];if(zl(S))return LE(S)?pl(S):Fi(S);if(hd&&S[hd])return oM(S[hd]());var O=Ja(S),M=O==De?dx:O==re?cp:xy;return M(S)}function Mm(S){if(!S)return S===0?S:0;if(S=$u(S),S===W||S===-W){var O=S<0?-1:1;return O*X}return S===S?S:0}function uo(S){var O=Mm(S),M=O%1;return O===O?M?O-M:O:0}function qte(S){return S?bd(uo(S),0,se):0}function $u(S){if(typeof S=="number")return S;if(Oc(S))return te;if(Qs(S)){var O=typeof S.valueOf=="function"?S.valueOf():S;S=Qs(O)?O+"":O}if(typeof S!="string")return S===0?S:+S;S=FO(S);var M=Cn.test(S);return M||sn.test(S)?ox(S.slice(2),M?2:8):rn.test(S)?te:+S}function Vte(S){return Cc(S,Hl(S))}function CBe(S){return S?bd(uo(S),-U,U):S===0?S:0}function rs(S){return S==null?"":Xi(S)}var DBe=oh(function(S,O){if(Id(O)||zl(O)){Cc(O,Ci(O),S);return}for(var M in O)$o.call(O,M)&&Dm(S,M,O[M])}),zte=oh(function(S,O){Cc(O,Hl(O),S)}),$E=oh(function(S,O,M,oe){Cc(O,Hl(O),S,oe)}),SBe=oh(function(S,O,M,oe){Cc(O,Ci(O),S,oe)}),vBe=_u(Px);function jBe(S,O){var M=Gf(S);return O==null?M:Ss(M,O)}var IBe=co(function(S,O){S=ns(S);var M=-1,oe=O.length,je=oe>2?O[2]:n;for(je&&_i(O[0],O[1],je)&&(oe=1);++M<oe;)for(var Ve=O[M],rt=Hl(Ve),mt=-1,Ot=rt.length;++mt<Ot;){var gn=rt[mt],bn=S[gn];(bn===n||Od(bn,Iu[gn])&&!$o.call(S,gn))&&(S[gn]=Ve[gn])}return S}),TBe=co(function(S){return S.push(n,US),Ai(Hte,n,S)});function OBe(S,O){return wO(S,$r(O,3),hl)}function EBe(S,O){return wO(S,$r(O,3),gp)}function PBe(S,O){return S==null?S:Rx(S,$r(O,3),Hl)}function RBe(S,O){return S==null?S:yg(S,$r(O,3),Hl)}function wBe(S,O){return S&&hl(S,$r(O,3))}function kBe(S,O){return S&&gp(S,$r(O,3))}function ABe(S){return S==null?[]:Jf(S,Ci(S))}function NBe(S){return S==null?[]:Jf(S,Hl(S))}function NM(S,O,M){var oe=S==null?n:xd(S,O);return oe===n?M:oe}function FBe(S,O){return S!=null&&GS(S,O,Ll)}function FM(S,O){return S!=null&&GS(S,O,vm)}var MBe=pE(function(S,O,M){O!=null&&typeof O.toString!="function"&&(O=lg.call(O)),S[O]=M},_M(Gl)),_Be=pE(function(S,O,M){O!=null&&typeof O.toString!="function"&&(O=lg.call(O)),$o.call(S,O)?S[O].push(M):S[O]=[M]},$r),LBe=co($l);function Ci(S){return zl(S)?Eu(S):Dd(S)}function Hl(S){return zl(S)?Eu(S,!0):jS(S)}function $Be(S,O){var M={};return O=$r(O,3),hl(S,function(oe,je,Ve){Ru(M,O(oe,je,Ve),oe)}),M}function BBe(S,O){var M={};return O=$r(O,3),hl(S,function(oe,je,Ve){Ru(M,je,O(oe,je,Ve))}),M}var WBe=oh(function(S,O,M){jm(S,O,M)}),Hte=oh(function(S,O,M,oe){jm(S,O,M,oe)}),UBe=_u(function(S,O){var M={};if(S==null)return M;var oe=!1;O=ps(O,function(Ve){return Ve=Fu(Ve,S),oe||(oe=Ve.length>1),Ve}),Cc(S,Rg(S),M),oe&&(M=Ji(M,f|h|g,qS));for(var je=O.length;je--;)$x(M,O[je]);return M});function qBe(S,O){return Gte(S,Mn($r(O)))}var VBe=_u(function(S,O){return S==null?{}:OS(S,O)});function Gte(S,O){if(S==null)return{};var M=ps(Rg(S),function(oe){return[oe]});return O=$r(O),yp(S,M,function(oe,je){return O(oe,je[0])})}function zBe(S,O,M){O=Fu(O,S);var oe=-1,je=O.length;for(je||(je=1,S=n);++oe<je;){var Ve=S==null?n:S[jc(O[oe])];Ve===n&&(oe=je,Ve=M),S=Fm(Ve)?Ve.call(S):Ve}return S}function HBe(S,O,M){return S==null?S:Tm(S,O,M)}function GBe(S,O,M,oe){return oe=typeof oe=="function"?oe:n,S==null?S:Tm(S,O,M,oe)}var Kte=BS(Ci),Qte=BS(Hl);function KBe(S,O,M){var oe=Zr(S),je=oe||ph(S)||by(S);if(O=$r(O,4),M==null){var Ve=S&&S.constructor;je?M=oe?new Ve:[]:Qs(S)?M=Fm(Ve)?Gf(xc(S)):{}:M={}}return(je?pi:hl)(S,function(rt,mt,Ot){return O(M,rt,mt,Ot)}),M}function QBe(S,O){return S==null?!0:$x(S,O)}function YBe(S,O,M){return S==null?S:kS(S,O,Wx(M))}function JBe(S,O,M,oe){return oe=typeof oe=="function"?oe:n,S==null?S:kS(S,O,Wx(M),oe)}function xy(S){return S==null?[]:sg(S,Ci(S))}function XBe(S){return S==null?[]:sg(S,Hl(S))}function ZBe(S,O,M){return M===n&&(M=O,O=n),M!==n&&(M=$u(M),M=M===M?M:0),O!==n&&(O=$u(O),O=O===O?O:0),bd($u(S),O,M)}function e3e(S,O,M){return O=Mm(O),M===n?(M=O,O=0):M=Mm(M),S=$u(S),SS(S,O,M)}function t3e(S,O,M){if(M&&typeof M!="boolean"&&_i(S,O,M)&&(O=M=n),M===n&&(typeof O=="boolean"?(M=O,O=n):typeof S=="boolean"&&(M=S,S=n)),S===n&&O===n?(S=0,O=1):(S=Mm(S),O===n?(O=S,S=0):O=Mm(O)),S>O){var oe=S;S=O,O=oe}if(M||S%1||O%1){var je=pg();return mi(S+je*(O-S+ZD("1e-"+((je+"").length-1))),O)}return eh(S,O)}var n3e=Om(function(S,O,M){return O=O.toLowerCase(),S+(M?Yte(O):O)});function Yte(S){return MM(rs(S).toLowerCase())}function Jte(S){return S=rs(S),S&&S.replace(ts,LO).replace(IO,"")}function r3e(S,O,M){S=rs(S),O=Xi(O);var oe=S.length;M=M===n?oe:bd(uo(M),0,oe);var je=M;return M-=O.length,M>=0&&S.slice(M,je)==O}function o3e(S){return S=rs(S),S&&ht.test(S)?S.replace(tt,$O):S}function s3e(S){return S=rs(S),S&&Dt.test(S)?S.replace(st,"\\$&"):S}var a3e=Om(function(S,O,M){return S+(M?"-":"")+O.toLowerCase()}),i3e=Om(function(S,O,M){return S+(M?" ":"")+O.toLowerCase()}),l3e=_S("toLowerCase");function c3e(S,O,M){S=rs(S),O=uo(O);var oe=O?fm(S):0;if(!O||oe>=O)return S;var je=(O-oe)/2;return Eg(up(je),M)+S+Eg(gm(je),M)}function u3e(S,O,M){S=rs(S),O=uo(O);var oe=O?fm(S):0;return O&&oe<O?S+Eg(O-oe,M):S}function d3e(S,O,M){S=rs(S),O=uo(O);var oe=O?fm(S):0;return O&&oe<O?Eg(O-oe,M)+S:S}function p3e(S,O,M){return M||O==null?O=0:O&&(O=+O),KO(rs(S).replace(Gt,""),O||0)}function m3e(S,O,M){return(M?_i(S,O,M):O===n)?O=1:O=uo(O),Im(rs(S),O)}function f3e(){var S=arguments,O=rs(S[0]);return S.length<3?O:O.replace(S[1],S[2])}var h3e=Om(function(S,O,M){return S+(M?"_":"")+O.toLowerCase()});function g3e(S,O,M){return M&&typeof M!="number"&&_i(S,O,M)&&(O=M=n),M=M===n?se:M>>>0,M?(S=rs(S),S&&(typeof O=="string"||O!=null&&!AM(O))&&(O=Xi(O),!O&&Lf(S))?vd(pl(S),0,M):S.split(O,M)):[]}var b3e=Om(function(S,O,M){return S+(M?" ":"")+MM(O)});function x3e(S,O,M){return S=rs(S),M=M==null?0:bd(uo(M),0,S.length),O=Xi(O),S.slice(M,M+O.length)==O}function y3e(S,O,M){var oe=Fe.templateSettings;M&&_i(S,O,M)&&(O=n),S=rs(S),O=$E({},O,oe,WS);var je=$E({},O.imports,oe.imports,WS),Ve=Ci(je),rt=sg(je,Ve),mt,Ot,gn=0,bn=O.interpolate||ds,Rn="__p += '",er=ag((O.escape||ds).source+"|"+bn.source+"|"+(bn===Je?lt:ds).source+"|"+(O.evaluate||ds).source+"|$","g"),wr="//# sourceURL="+($o.call(O,"sourceURL")?(O.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++QF+"]")+`
`;S.replace(er,function(Vr,jo,Mo,Ec,xl,Pc){return Mo||(Mo=Ec),Rn+=S.slice(gn,Pc).replace(ra,BO),jo&&(mt=!0,Rn+=`' +
__e(`+jo+`) +
'`),xl&&(Ot=!0,Rn+=`';
`+xl+`;
__p += '`),Mo&&(Rn+=`' +
((__t = (`+Mo+`)) == null ? '' : __t) +
'`),gn=Pc+Vr.length,Vr}),Rn+=`';
`;var qr=$o.call(O,"variable")&&O.variable;if(!qr)Rn=`with (obj) {
`+Rn+`
}
`;else if(dn.test(qr))throw new Kr(u);Rn=(Ot?Rn.replace(Ee,""):Rn).replace(Xe,"$1").replace(ot,"$1;"),Rn="function("+(qr||"obj")+`) {
`+(qr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(mt?", __e = _.escape":"")+(Ot?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Rn+`return __p
}`;var mo=Zte(function(){return Lo(Ve,wr+"return "+Rn).apply(n,rt)});if(mo.source=Rn,kM(mo))throw mo;return mo}function C3e(S){return rs(S).toLowerCase()}function D3e(S){return rs(S).toUpperCase()}function S3e(S,O,M){if(S=rs(S),S&&(M||O===n))return FO(S);if(!S||!(O=Xi(O)))return S;var oe=pl(S),je=pl(O),Ve=MO(oe,je),rt=dS(oe,je)+1;return vd(oe,Ve,rt).join("")}function v3e(S,O,M){if(S=rs(S),S&&(M||O===n))return S.slice(0,mx(S)+1);if(!S||!(O=Xi(O)))return S;var oe=pl(S),je=dS(oe,pl(O))+1;return vd(oe,0,je).join("")}function j3e(S,O,M){if(S=rs(S),S&&(M||O===n))return S.replace(Gt,"");if(!S||!(O=Xi(O)))return S;var oe=pl(S),je=MO(oe,pl(O));return vd(oe,je).join("")}function I3e(S,O){var M=_,oe=L;if(Qs(O)){var je="separator"in O?O.separator:je;M="length"in O?uo(O.length):M,oe="omission"in O?Xi(O.omission):oe}S=rs(S);var Ve=S.length;if(Lf(S)){var rt=pl(S);Ve=rt.length}if(M>=Ve)return S;var mt=M-fm(oe);if(mt<1)return oe;var Ot=rt?vd(rt,0,mt).join(""):S.slice(0,mt);if(je===n)return Ot+oe;if(rt&&(mt+=Ot.length-mt),AM(je)){if(S.slice(mt).search(je)){var gn,bn=Ot;for(je.global||(je=ag(je.source,rs(Qe.exec(je))+"g")),je.lastIndex=0;gn=je.exec(bn);)var Rn=gn.index;Ot=Ot.slice(0,Rn===n?mt:Rn)}}else if(S.indexOf(Xi(je),mt)!=mt){var er=Ot.lastIndexOf(je);er>-1&&(Ot=Ot.slice(0,er))}return Ot+oe}function T3e(S){return S=rs(S),S&&ft.test(S)?S.replace(ze,WO):S}var O3e=Om(function(S,O,M){return S+(M?" ":"")+O.toUpperCase()}),MM=_S("toUpperCase");function Xte(S,O,M){return S=rs(S),O=M?n:O,O===n?rM(S)?iM(S):eM(S):S.match(O)||[]}var Zte=co(function(S,O){try{return Ai(S,n,O)}catch(M){return kM(M)?M:new Kr(M)}}),E3e=_u(function(S,O){return pi(O,function(M){M=jc(M),Ru(S,M,wn(S[M],S))}),S});function P3e(S){var O=S==null?0:S.length,M=$r();return S=O?ps(S,function(oe){if(typeof oe[1]!="function")throw new Nl(c);return[M(oe[0]),oe[1]]}):[],co(function(oe){for(var je=-1;++je<O;){var Ve=S[je];if(Ai(Ve[0],this,oe))return Ai(Ve[1],this,oe)}})}function R3e(S){return tE(Ji(S,f))}function _M(S){return function(){return S}}function w3e(S,O){return S==null||S!==S?O:S}var k3e=Hx(),A3e=Hx(!0);function Gl(S){return S}function LM(S){return Zf(typeof S=="function"?S:Ji(S,f))}function N3e(S){return Fx(Ji(S,f))}function F3e(S,O){return Es(S,Ji(O,f))}var M3e=co(function(S,O){return function(M){return $l(M,S,O)}}),_3e=co(function(S,O){return function(M){return $l(S,M,O)}});function $M(S,O,M){var oe=Ci(O),je=Jf(O,oe);M==null&&!(Qs(O)&&(je.length||!oe.length))&&(M=O,O=S,S=this,je=Jf(O,Ci(O)));var Ve=!(Qs(M)&&"chain"in M)||!!M.chain,rt=Fm(S);return pi(je,function(mt){var Ot=O[mt];S[mt]=Ot,rt&&(S.prototype[mt]=function(){var gn=this.__chain__;if(Ve||gn){var bn=S(this.__wrapped__),Rn=bn.__actions__=Fi(this.__actions__);return Rn.push({func:Ot,args:arguments,thisArg:S}),bn.__chain__=gn,bn}return Ot.apply(S,lp([this.value()],arguments))})}),S}function L3e(){return Os._===this&&(Os._=VO),this}function BM(){}function $3e(S){return S=uo(S),co(function(O){return Mx(O,S)})}var B3e=Gx(ps),W3e=Gx(rS),U3e=Gx(aS);function ene(S){return pr(S)?lS(jc(S)):ks(S)}function q3e(S){return function(O){return S==null?n:xd(S,O)}}var V3e=$S(),z3e=$S(!0);function WM(){return[]}function UM(){return!1}function H3e(){return{}}function G3e(){return""}function K3e(){return!0}function Q3e(S,O){if(S=uo(S),S<1||S>U)return[];var M=se,oe=mi(S,se);O=$r(O),S-=se;for(var je=uS(oe,O);++M<S;)O(M);return je}function Y3e(S){return Zr(S)?ps(S,jc):Oc(S)?[S]:Fi(JS(rs(S)))}function J3e(S){var O=++Wf;return rs(S)+O}var X3e=Og(function(S,O){return S+O},0),Z3e=Ya("ceil"),e4e=Og(function(S,O){return S/O},1),t4e=Ya("floor");function n4e(S){return S&&S.length?Sm(S,Gl,bp):n}function r4e(S,O){return S&&S.length?Sm(S,$r(O,2),bp):n}function o4e(S){return AO(S,Gl)}function s4e(S,O){return AO(S,$r(O,2))}function a4e(S){return S&&S.length?Sm(S,Gl,xp):n}function i4e(S,O){return S&&S.length?Sm(S,$r(O,2),xp):n}var l4e=Og(function(S,O){return S*O},1),c4e=Ya("round"),u4e=Og(function(S,O){return S-O},0);function d4e(S){return S&&S.length?cS(S,Gl):0}function p4e(S,O){return S&&S.length?cS(S,$r(O,2)):0}return Fe.after=ut,Fe.ary=Ht,Fe.assign=DBe,Fe.assignIn=zte,Fe.assignInWith=$E,Fe.assignWith=SBe,Fe.at=vBe,Fe.before=On,Fe.bind=wn,Fe.bindAll=E3e,Fe.bindKey=In,Fe.castArray=H$e,Fe.chain=cy,Fe.chunk=ty,Fe.compact=XS,Fe.concat=ql,Fe.cond=P3e,Fe.conforms=R3e,Fe.constant=_M,Fe.countBy=kE,Fe.create=jBe,Fe.curry=ir,Fe.curryRight=Dr,Fe.debounce=Tr,Fe.defaults=IBe,Fe.defaultsDeep=TBe,Fe.defer=Ks,Fe.delay=At,Fe.difference=Fo,Fe.differenceBy=La,Fe.differenceWith=ia,Fe.drop=Za,Fe.dropRight=bl,Fe.dropRightWhile=uh,Fe.dropWhile=Ca,Fe.fill=Mg,Fe.filter=py,Fe.flatMap=u0,Fe.flatMapDeep=OM,Fe.flatMapDepth=FE,Fe.flatten=ny,Fe.flattenDeep=Lg,Fe.flattenDepth=Zi,Fe.flip=gt,Fe.flow=k3e,Fe.flowRight=A3e,Fe.fromPairs=ZS,Fe.functions=ABe,Fe.functionsIn=NBe,Fe.groupBy=d0,Fe.initial=ry,Fe.intersection=e0,Fe.intersectionBy=vp,Fe.intersectionWith=oy,Fe.invert=MBe,Fe.invertBy=_Be,Fe.invokeMap=ME,Fe.iteratee=LM,Fe.keyBy=EM,Fe.keys=Ci,Fe.keysIn=Hl,Fe.map=Nm,Fe.mapKeys=$Be,Fe.mapValues=BBe,Fe.matches=N3e,Fe.matchesProperty=F3e,Fe.memoize=Lt,Fe.merge=WBe,Fe.mergeWith=Hte,Fe.method=M3e,Fe.methodOf=_3e,Fe.mixin=$M,Fe.negate=Mn,Fe.nthArg=$3e,Fe.omit=UBe,Fe.omitBy=qBe,Fe.once=Pr,Fe.orderBy=PM,Fe.over=B3e,Fe.overArgs=_r,Fe.overEvery=W3e,Fe.overSome=U3e,Fe.partial=Nr,Fe.partialRight=Ur,Fe.partition=Ug,Fe.pick=VBe,Fe.pickBy=Gte,Fe.property=ene,Fe.propertyOf=q3e,Fe.pull=sy,Fe.pullAll=Bg,Fe.pullAllBy=$i,Fe.pullAllWith=Ip,Fe.pullAt=Ic,Fe.range=V3e,Fe.rangeRight=z3e,Fe.rearg=$a,Fe.reject=b,Fe.remove=el,Fe.rest=Bo,Fe.reverse=ay,Fe.sampleSize=R,Fe.set=HBe,Fe.setWith=GBe,Fe.shuffle=N,Fe.slice=n0,Fe.sortBy=Oe,Fe.sortedUniq=s0,Fe.sortedUniqBy=wm,Fe.split=g3e,Fe.spread=Op,Fe.tail=IE,Fe.take=TE,Fe.takeRight=a0,Fe.takeRightWhile=iy,Fe.takeWhile=bM,Fe.tap=jM,Fe.throttle=wM,Fe.thru=Tc,Fe.toArray=Ute,Fe.toPairs=Kte,Fe.toPairsIn=Qte,Fe.toPath=Y3e,Fe.toPlainObject=Vte,Fe.transform=KBe,Fe.unary=V$e,Fe.union=xM,Fe.unionBy=OE,Fe.unionWith=EE,Fe.uniq=km,Fe.uniqBy=yM,Fe.uniqWith=dh,Fe.unset=QBe,Fe.unzip=ly,Fe.unzipWith=As,Fe.update=YBe,Fe.updateWith=JBe,Fe.values=xy,Fe.valuesIn=XBe,Fe.without=CM,Fe.words=Xte,Fe.wrap=z$e,Fe.xor=PE,Fe.xorBy=DM,Fe.xorWith=SM,Fe.zip=RE,Fe.zipObject=wE,Fe.zipObjectDeep=vM,Fe.zipWith=Vl,Fe.entries=Kte,Fe.entriesIn=Qte,Fe.extend=zte,Fe.extendWith=$E,$M(Fe,Fe),Fe.add=X3e,Fe.attempt=Zte,Fe.camelCase=n3e,Fe.capitalize=Yte,Fe.ceil=Z3e,Fe.clamp=ZBe,Fe.clone=G$e,Fe.cloneDeep=Q$e,Fe.cloneDeepWith=Y$e,Fe.cloneWith=K$e,Fe.conformsTo=J$e,Fe.deburr=Jte,Fe.defaultTo=w3e,Fe.divide=e4e,Fe.endsWith=r3e,Fe.eq=Od,Fe.escape=o3e,Fe.escapeRegExp=s3e,Fe.every=AE,Fe.find=my,Fe.findIndex=Sp,Fe.findKey=OBe,Fe.findLast=NE,Fe.findLastIndex=_g,Fe.findLastKey=EBe,Fe.floor=t4e,Fe.forEach=fy,Fe.forEachRight=Wg,Fe.forIn=PBe,Fe.forInRight=RBe,Fe.forOwn=wBe,Fe.forOwnRight=kBe,Fe.get=NM,Fe.gt=X$e,Fe.gte=Z$e,Fe.has=FBe,Fe.hasIn=FM,Fe.head=Pm,Fe.identity=Gl,Fe.includes=hy,Fe.indexOf=Td,Fe.inRange=e3e,Fe.invoke=LBe,Fe.isArguments=qg,Fe.isArray=Zr,Fe.isArrayBuffer=eBe,Fe.isArrayLike=zl,Fe.isArrayLikeObject=Da,Fe.isBoolean=tBe,Fe.isBuffer=ph,Fe.isDate=nBe,Fe.isElement=rBe,Fe.isEmpty=oBe,Fe.isEqual=sBe,Fe.isEqualWith=aBe,Fe.isError=kM,Fe.isFinite=iBe,Fe.isFunction=Fm,Fe.isInteger=Lte,Fe.isLength=_E,Fe.isMap=$te,Fe.isMatch=lBe,Fe.isMatchWith=cBe,Fe.isNaN=uBe,Fe.isNative=dBe,Fe.isNil=mBe,Fe.isNull=pBe,Fe.isNumber=Bte,Fe.isObject=Qs,Fe.isObjectLike=la,Fe.isPlainObject=p0,Fe.isRegExp=AM,Fe.isSafeInteger=fBe,Fe.isSet=Wte,Fe.isString=LE,Fe.isSymbol=Oc,Fe.isTypedArray=by,Fe.isUndefined=hBe,Fe.isWeakMap=gBe,Fe.isWeakSet=bBe,Fe.join=jp,Fe.kebabCase=a3e,Fe.last=Li,Fe.lastIndexOf=$g,Fe.lowerCase=i3e,Fe.lowerFirst=l3e,Fe.lt=xBe,Fe.lte=yBe,Fe.max=n4e,Fe.maxBy=r4e,Fe.mean=o4e,Fe.meanBy=s4e,Fe.min=a4e,Fe.minBy=i4e,Fe.stubArray=WM,Fe.stubFalse=UM,Fe.stubObject=H3e,Fe.stubString=G3e,Fe.stubTrue=K3e,Fe.multiply=l4e,Fe.nth=t0,Fe.noConflict=L3e,Fe.noop=BM,Fe.now=nt,Fe.pad=c3e,Fe.padEnd=u3e,Fe.padStart=d3e,Fe.parseInt=p3e,Fe.random=t3e,Fe.reduce=RM,Fe.reduceRight=gy,Fe.repeat=m3e,Fe.replace=f3e,Fe.result=zBe,Fe.round=c4e,Fe.runInContext=St,Fe.sample=C,Fe.size=G,Fe.snakeCase=h3e,Fe.some=ne,Fe.sortedIndex=r0,Fe.sortedIndexBy=gM,Fe.sortedIndexOf=Tp,Fe.sortedLastIndex=jE,Fe.sortedLastIndexBy=o0,Fe.sortedLastIndexOf=Rm,Fe.startCase=b3e,Fe.startsWith=x3e,Fe.subtract=u4e,Fe.sum=d4e,Fe.sumBy=p4e,Fe.template=y3e,Fe.times=Q3e,Fe.toFinite=Mm,Fe.toInteger=uo,Fe.toLength=qte,Fe.toLower=C3e,Fe.toNumber=$u,Fe.toSafeInteger=CBe,Fe.toString=rs,Fe.toUpper=D3e,Fe.trim=S3e,Fe.trimEnd=v3e,Fe.trimStart=j3e,Fe.truncate=I3e,Fe.unescape=T3e,Fe.uniqueId=J3e,Fe.upperCase=O3e,Fe.upperFirst=MM,Fe.each=fy,Fe.eachRight=Wg,Fe.first=Pm,$M(Fe,(function(){var S={};return hl(Fe,function(O,M){$o.call(Fe.prototype,M)||(S[M]=O)}),S})(),{chain:!1}),Fe.VERSION=o,pi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(S){Fe[S].placeholder=Fe}),pi(["drop","take"],function(S,O){Xr.prototype[S]=function(M){M=M===n?1:aa(uo(M),0);var oe=this.__filtered__&&!O?new Xr(this):this.clone();return oe.__filtered__?oe.__takeCount__=mi(M,oe.__takeCount__):oe.__views__.push({size:mi(M,se),type:S+(oe.__dir__<0?"Right":"")}),oe},Xr.prototype[S+"Right"]=function(M){return this.reverse()[S](M).reverse()}}),pi(["filter","map","takeWhile"],function(S,O){var M=O+1,oe=M==J||M==V;Xr.prototype[S]=function(je){var Ve=this.clone();return Ve.__iteratees__.push({iteratee:$r(je,3),type:M}),Ve.__filtered__=Ve.__filtered__||oe,Ve}}),pi(["head","last"],function(S,O){var M="take"+(O?"Right":"");Xr.prototype[S]=function(){return this[M](1).value()[0]}}),pi(["initial","tail"],function(S,O){var M="drop"+(O?"":"Right");Xr.prototype[S]=function(){return this.__filtered__?new Xr(this):this[M](1)}}),Xr.prototype.compact=function(){return this.filter(Gl)},Xr.prototype.find=function(S){return this.filter(S).head()},Xr.prototype.findLast=function(S){return this.reverse().find(S)},Xr.prototype.invokeMap=co(function(S,O){return typeof S=="function"?new Xr(this):this.map(function(M){return $l(M,S,O)})}),Xr.prototype.reject=function(S){return this.filter(Mn($r(S)))},Xr.prototype.slice=function(S,O){S=uo(S);var M=this;return M.__filtered__&&(S>0||O<0)?new Xr(M):(S<0?M=M.takeRight(-S):S&&(M=M.drop(S)),O!==n&&(O=uo(O),M=O<0?M.dropRight(-O):M.take(O-S)),M)},Xr.prototype.takeRightWhile=function(S){return this.reverse().takeWhile(S).reverse()},Xr.prototype.toArray=function(){return this.take(se)},hl(Xr.prototype,function(S,O){var M=/^(?:filter|find|map|reject)|While$/.test(O),oe=/^(?:head|last)$/.test(O),je=Fe[oe?"take"+(O=="last"?"Right":""):O],Ve=oe||/^find/.test(O);je&&(Fe.prototype[O]=function(){var rt=this.__wrapped__,mt=oe?[1]:arguments,Ot=rt instanceof Xr,gn=mt[0],bn=Ot||Zr(rt),Rn=function(jo){var Mo=je.apply(Fe,lp([jo],mt));return oe&&er?Mo[0]:Mo};bn&&M&&typeof gn=="function"&&gn.length!=1&&(Ot=bn=!1);var er=this.__chain__,wr=!!this.__actions__.length,qr=Ve&&!er,mo=Ot&&!wr;if(!Ve&&bn){rt=mo?rt:new Xr(this);var Vr=S.apply(rt,mt);return Vr.__actions__.push({func:Tc,args:[Rn],thisArg:n}),new fi(Vr,er)}return qr&&mo?S.apply(this,mt):(Vr=this.thru(Rn),qr?oe?Vr.value()[0]:Vr.value():Vr)})}),pi(["pop","push","shift","sort","splice","unshift"],function(S){var O=md[S],M=/^(?:push|sort|unshift)$/.test(S)?"tap":"thru",oe=/^(?:pop|shift)$/.test(S);Fe.prototype[S]=function(){var je=arguments;if(oe&&!this.__chain__){var Ve=this.value();return O.apply(Zr(Ve)?Ve:[],je)}return this[M](function(rt){return O.apply(Zr(rt)?rt:[],je)})}}),hl(Xr.prototype,function(S,O){var M=Fe[O];if(M){var oe=M.name+"";$o.call(zf,oe)||(zf[oe]=[]),zf[oe].push({name:O,func:M})}}),zf[ah(n,v).name]=[{name:"wrapper",func:n}],Xr.prototype.clone=jx,Xr.prototype.reverse=xS,Xr.prototype.value=Kf,Fe.prototype.at=uy,Fe.prototype.chain=Am,Fe.prototype.commit=dy,Fe.prototype.next=i0,Fe.prototype.plant=IM,Fe.prototype.reverse=c0,Fe.prototype.toJSON=Fe.prototype.valueOf=Fe.prototype.value=TM,Fe.prototype.first=Fe.prototype.head,hd&&(Fe.prototype[hd]=l0),Fe}),$f=lM();ju?((ju.exports=$f)._=$f,og._=$f):Os._=$f}).call(Wlt)})(vj,vj.exports)),vj.exports}var _w=Ult();const vo=qn(_w),qlt=(e,t={})=>{const{includeComments:n=!1}=t;if(Array.isArray(e))return e;if(Oo.isString(e)){let o=e.trim().split(/\s*,\s*/).filter(Boolean);return n||(o=o.filter(s=>!s.startsWith("//"))),o}return[]},Vlt=(e,t=0,n={})=>{let o=t;return e.reduce((i,c)=>Object.assign(i,{[o++]:c}),n)},zlt=(e,t,n,o={})=>vo.range(e,t+1).reduce((i,c)=>Object.assign(i,{[c]:n}),o),Hlt=(e,t,n)=>{const o=n.toLowerCase();return e.sort((s,i)=>{for(const c of t){const u=s[c].toLowerCase().indexOf(o),d=i[c].toLowerCase().indexOf(o);if(u!==d)return u===-1?1:d===-1?-1:u-d}return 0})},Ii={parse:qlt,toObject:Vlt,rangeToObject:zlt,sortByFoundIndex:Hlt},yo=Gd(Ns,{shouldForwardProp:e=>!Ii.parse("transparent,disabled,selected,hoverStyles,disabledStyles,borderBottom,hideCursor").includes(e)})(({theme:e,onClick:t,disabled:n=!1,transparent:o=!1,borderBottom:s=!1,selected:i=!1,hideCursor:c=!1,selectedStyles:u={backgroundColor:YP[200]},hoverStyles:d={backgroundColor:"rgba(0, 0, 0, 0.03)",boxShadow:"1px 2px 3px rgb(0 0 0 / 20%)"},disabledStyles:p={boxShadow:"1px 2px 3px rgb(0 0 0 / 20%) inset",backgroundColor:"rgb(104 67 11 / 28%)",color:"rgb(0 0 0 / 40%)"}})=>{const m=a.useMemo(()=>!n&&!o&&d&&t,[n,d,t,o]),f=a.useMemo(()=>n&&p,[n,p]),h=a.useMemo(()=>t&&!c,[c,t]);return{position:"relative","&:hover::after":{content:'""',position:"absolute",inset:0,pointerEvents:"none",borderRadius:"inherit",...m&&{...d}},...f&&{...p},...i&&{...u},"& .secondary-action":{opacity:0,alignItems:"center",transition:e.transitions.create("opacity",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},"&:hover .secondary-action":{opacity:"100%"},...s&&{borderBottom:`1px solid ${Nn.TOOLBAR}`},cursor:h?"pointer":"inherit"}}),$he=a.createContext(),wt=e=>{const{children:t,flex:n,inline:o,justifyContent:s,alignItems:i,onClick:c,sx:u=[],...d}=e,p=a.useContext($he),m=a.useMemo(()=>(p==null?void 0:p.loading)&&!t,[t,p==null?void 0:p.loading]),f=a.useMemo(()=>n?o?"inline-flex":"flex":null,[n,o]),h=a.useMemo(()=>({"&":{...f&&{display:f},...s&&{justifyContent:s},...i&&{alignItems:i},...c&&{cursor:"pointer"}}}),[i,f,s,c]);return r.jsx(j,{item:!0,sx:[ur.ELLIPSIS,h,...Array.isArray(u)?u:[u]],onClick:c,...d,children:m?r.jsx(ji,{}):t||""})};wt.propTypes={children:l.oneOfType([l.node,l.array]),flex:l.bool,inline:l.bool,alignItems:l.string,justifyContent:l.string,onClick:l.func,sx:l.oneOfType([l.object,l.array])};wt.displayName="ListViewColumn";const g4=e=>{const{...t}=e;return r.jsx(wt,{flex:!0,justifyContent:"center",xs:3,...t})};g4.propTypes={loading:l.bool,children:l.oneOfType([l.node])};g4.displayName="TaskJobColumn";const b4=e=>{const{...t}=e;return r.jsx(wt,{flex:!0,justifyContent:"center",xs:4.5,...t})};b4.propTypes={loading:l.bool,children:l.oneOfType([l.node])};b4.displayName="TaskDeptColumn";const x4=e=>{const{...t}=e;return r.jsx(wt,{xs:16.5,...t})};x4.propTypes={loading:l.bool,children:l.oneOfType([l.node])};x4.displayName="TaskMessageColumn";l.oneOfType([l.node,l.array]),l.bool;const y4=a.memo(e=>{const{index:t,style:n,value:o,loading:s,handleGotoJob:i,linkEnabled:c}=e,u=a.useMemo(()=>c?` ${o==null?void 0:o.JobID} `:"",[c,o==null?void 0:o.JobID]);return r.jsx("div",{style:n,children:r.jsx(yo,{borderBottom:!0,hideCursor:!0,children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(g4,{children:(o==null?void 0:o.JobID)&&r.jsx(jr,{title:u,arrow:!0,placement:"right-start",children:r.jsx(j9e,{onClick:i,variant:"body2",sx:{cursor:"pointer"},children:o==null?void 0:o.JobID})})}),r.jsx(b4,{children:r.jsx(nn,{variant:"body2",color:"success.main",children:o==null?void 0:o.AbbrName})}),r.jsx(x4,{children:r.jsx(nn,{variant:"body2",children:o==null?void 0:o.MsgBody})})]})})})});y4.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,linkEnabled:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func,handleGotoJob:l.func};y4.displayName="UnreadMessageListRowView";const C4=e=>{var p;const t=a.useContext(Be),n=a.useContext(EC),{index:o,...s}=e,i=a.useContext(EC),c=a.useMemo(()=>i.listData[o],[i.listData,o]),u=a.useMemo(()=>!c,[c]),d=a.useMemo(()=>{var m;return((m=t.operator)==null?void 0:m.CurDeptID)===(c==null?void 0:c.DeptID)},[(p=t.operator)==null?void 0:p.CurDeptID,c==null?void 0:c.DeptID]);return r.jsx(y4,{index:o,loading:u,value:c,handleGotoJob:()=>n.handleGotoJob(c),linkEnabled:d,...s})};C4.propTypes={index:l.number,data:l.object};C4.displayName="TaskListRowContainer";const D4=()=>{const e=a.useContext(EC),{refreshList:t}=e,{height:n}=Wt(),o=a.useMemo(()=>n?Math.min(n-200,600):300,[n]);return En(()=>{t()},[]),r.jsx(Kt,{children:r.jsx(Yr,{square:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:C4,height:o,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})})};D4.propTypes={height:l.oneOfType([l.string,l.number])};D4.displayName="TaskListViewContainer";var $0={},_se;function Glt(){if(_se)return $0;_se=1;var e=Qn();Object.defineProperty($0,"__esModule",{value:!0}),$0.default=void 0;var t=e(sr()),n=rr();return $0.default=(0,t.default)((0,n.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 6h-4c0 1.62-1.38 3-3 3s-3-1.38-3-3H5V5h14zm-4 7h6v3c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2v-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3"}),"AllInbox"),$0}var Klt=Glt();const Bhe=qn(Klt);var B0={},Lse;function Qlt(){if(Lse)return B0;Lse=1;var e=Qn();Object.defineProperty(B0,"__esModule",{value:!0}),B0.default=void 0;var t=e(sr()),n=rr();return B0.default=(0,t.default)((0,n.jsx)("path",{d:"m21.29 5.89-10 10c-.39.39-1.02.39-1.41 0l-2.83-2.83a.9959.9959 0 0 1 0-1.41c.39-.39 1.02-.39 1.41 0l2.12 2.12 9.29-9.29c.39-.39 1.02-.39 1.41 0 .4.39.4 1.02.01 1.41m-5.52-3.15c-1.69-.69-3.61-.93-5.61-.57-4.07.73-7.32 4.01-8.01 8.08C1.01 17 6.63 22.78 13.34 21.91c3.96-.51 7.28-3.46 8.32-7.31.4-1.47.44-2.89.21-4.22-.13-.8-1.12-1.11-1.7-.54-.23.23-.33.57-.27.89.22 1.33.12 2.75-.52 4.26-1.16 2.71-3.68 4.7-6.61 4.97-5.1.47-9.33-3.85-8.7-8.98.43-3.54 3.28-6.42 6.81-6.91 1.73-.24 3.37.09 4.77.81.39.2.86.13 1.17-.18.48-.48.36-1.29-.24-1.6-.27-.12-.54-.25-.81-.36"}),"TaskAltRounded"),B0}var Ylt=Qlt();const Jlt=qn(Ylt),S4=a.memo(a.forwardRef((e,t)=>{const{open:n,anchorEl:o,onClose:s,loading:i,gotoMessages:c,...u}=e;return r.jsxs(Xpe,{ref:t,sx:{},open:n,anchorEl:o,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClose:s,slotProps:{paper:{}},...u,children:[r.jsx(jt,{children:r.jsx(Mw,{text:"",iconComponent:Jlt,py:3,px:2,bgcolor:Zg[500]})}),r.jsx(jt,{sx:[{width:400}],children:r.jsx(D4,{})}),r.jsx(jt,{pt:1,children:r.jsxs(ve,{fullWidth:!0,mb:1,px:1,children:[r.jsx(ve,{flex:1,pl:1,children:i&&r.jsx(Cr,{})}),r.jsx(ve,{children:r.jsx(dt,{variant:"outlined",color:"info",startIcon:r.jsx(Bhe,{}),onClick:c,children:""})})]})})]})}));S4.propTypes={};S4.displayName="UnreadMessagesPopoverView";const Whe=()=>{const e=a.useContext(EC),t=a.useContext(Sn),{handleSelect:n}=t,{toMessages:o}=nm(),{handlePopoverClose:s}=e,i=a.useCallback(()=>{s(),n(),o()},[s,n,o]);return r.jsx(S4,{open:e.popoverOpen,anchorEl:e.popoverAnchorEl,onClose:e.handlePopoverClose,gotoMessages:i})};Whe.displayName="PushMessagesPopoverContainer";var W0={},$se;function Xlt(){if($se)return W0;$se=1;var e=Qn();Object.defineProperty(W0,"__esModule",{value:!0}),W0.default=void 0;var t=e(sr()),n=rr();return W0.default=(0,t.default)((0,n.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout"),W0}var Zlt=Xlt();const ect=qn(Zlt);var U0={},Bse;function tct(){if(Bse)return U0;Bse=1;var e=Qn();Object.defineProperty(U0,"__esModule",{value:!0}),U0.default=void 0;var t=e(sr()),n=rr();return U0.default=(0,t.default)((0,n.jsx)("path",{d:"M7 7h10v3l4-4-4-4v3H5v6h2zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2z"}),"Repeat"),U0}var nct=tct();const rct=qn(nct);var q0={},Wse;function oct(){if(Wse)return q0;Wse=1;var e=Qn();Object.defineProperty(q0,"__esModule",{value:!0}),q0.default=void 0;var t=e(sr()),n=rr();return q0.default=(0,t.default)((0,n.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),q0}var sct=oct();const act=qn(sct),v4=a.memo(e=>{const{title:t,bgcolor:n,sx:o=[],...s}=e;return r.jsxs(r.Fragment,{children:[r.jsx(ve,{fullWidth:!0,py:1,px:3,sx:[i=>({bgcolor:n,borderTopLeftRadius:i.spacing(.5),borderTopRightRadius:i.spacing(.5)}),...Array.isArray(o)?o:[o]],children:r.jsx(nn,{variant:"body1",sx:i=>({fontWeight:600,fontSize:"1.1rem",mr:1,color:i.palette.getContrastText(n)}),children:t})}),r.jsxs($h,{sx:[i=>({marginTop:i.spacing(1)}),...Array.isArray(o)?o:[o]],...s,children:[r.jsx(jC,{children:r.jsx(rct,{fontSize:"small"})}),""]})]})});v4.propTypes={bgcolor:l.string,title:l.string,sx:l.oneOfType([l.object,l.array])};v4.displayName="DeptSwitchMenuItem";const j4=e=>{var d,p;const{onMenuClose:t,...n}=e,o=a.useContext(Be),{operator:s}=o,i=a.useMemo(()=>{var m,f;return`${(m=o.operator)==null?void 0:m.CurDeptName} ${(f=o.operator)==null?void 0:f.UserName}`},[(d=o.operator)==null?void 0:d.CurDeptName,(p=o.operator)==null?void 0:p.UserName]),c=a.useMemo(()=>Tn.getHeaderColor(s.Class),[s.Class]),u=a.useCallback(()=>{o.promptDeptSwitch(),t()},[o,t]);return r.jsx(v4,{bgcolor:c,title:i,onClick:u,...n})};j4.propTypes={onMenuClose:l.func};j4.displayName="DeptSwitchMenuItemContainer";const I4=e=>{const{children:t="",...n}=e,o=mD(),s=a.useContext(Be),i=a.useCallback(()=>{o({pathname:"/lab-protected/kitchen-sink"},{replace:!0})},[o]);return s.operator.hasRoot?r.jsxs($h,{onClick:i,...n,children:[r.jsx(jC,{children:r.jsx(uhe,{fontSize:"small"})}),t]}):!1};I4.propTypes={children:l.oneOfType([l.node,l.array])};I4.displayName="GotoKitchenMenuItemContainer";const Uhe=a.memo(a.forwardRef(({open:e,anchorEl:t,headerColor:n,onClose:o,onSignOut:s,gotoSettings:i,gotoKitchen:c,...u},d)=>{const p=a.useCallback(()=>{o(),s()},[o,s]);return r.jsxs(Zpe,{ref:d,anchorEl:t,id:"account-menu",open:e,onClose:o,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:n,transform:"translateY(-50%) rotate(45deg)",zIndex:0},"& .MuiList-root":{paddingTop:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[r.jsx(j4,{onMenuClose:o}),r.jsxs($h,{onClick:i,sx:[m=>({marginBottom:m.spacing(1)})],children:[r.jsx(jC,{children:r.jsx(act,{fontSize:"small"})}),""]}),r.jsx(ta,{}),r.jsxs($h,{onClick:p,children:[r.jsx(jC,{children:r.jsx(ect,{fontSize:"small"})}),""]}),r.jsx(I4,{children:""})]})}));Uhe.propTypes={onSignOut:l.func,onClose:l.func,toSettings:l.func};const qhe=({...e})=>{const t=a.useContext(Be),{operator:n}=t,{gotoSettings:o}=nm(),s=a.useMemo(()=>Tn.getHeaderColor(n.Class),[n.Class]);return r.jsx(Uhe,{onSignOut:t.confirmSignOut,gotoSettings:o,headerColor:s,...e})};qhe.displayName="AccountMenuContainer";const VT=a.createContext();class jb extends Error{constructor(t,n){const o=new.target.prototype;super(`${t}: Status code '${n}'`),this.statusCode=n,this.__proto__=o}}class T4 extends Error{constructor(t="A timeout occurred."){const n=new.target.prototype;super(t),this.__proto__=n}}class Md extends Error{constructor(t="An abort occurred."){const n=new.target.prototype;super(t),this.__proto__=n}}class ict extends Error{constructor(t,n){const o=new.target.prototype;super(t),this.transport=n,this.errorType="UnsupportedTransportError",this.__proto__=o}}class lct extends Error{constructor(t,n){const o=new.target.prototype;super(t),this.transport=n,this.errorType="DisabledTransportError",this.__proto__=o}}class cct extends Error{constructor(t,n){const o=new.target.prototype;super(t),this.transport=n,this.errorType="FailedToStartTransportError",this.__proto__=o}}class Use extends Error{constructor(t){const n=new.target.prototype;super(t),this.errorType="FailedToNegotiateWithServerError",this.__proto__=n}}class uct extends Error{constructor(t,n){const o=new.target.prototype;super(t),this.innerErrors=n,this.__proto__=o}}class Vhe{constructor(t,n,o){this.statusCode=t,this.statusText=n,this.content=o}}class Lw{get(t,n){return this.send({...n,method:"GET",url:t})}post(t,n){return this.send({...n,method:"POST",url:t})}delete(t,n){return this.send({...n,method:"DELETE",url:t})}getCookieString(t){return""}}var cn;(function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Information=2]="Information",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.None=6]="None"})(cn||(cn={}));class aT{constructor(){}log(t,n){}}aT.instance=new aT;const dct="9.0.6";class Va{static isRequired(t,n){if(t==null)throw new Error(`The '${n}' argument is required.`)}static isNotEmpty(t,n){if(!t||t.match(/^\s*$/))throw new Error(`The '${n}' argument should not be empty.`)}static isIn(t,n,o){if(!(t in n))throw new Error(`Unknown ${o} value: ${t}.`)}}class Zs{static get isBrowser(){return!Zs.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!Zs.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!Zs.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}}function iT(e,t){let n="";return Lb(e)?(n=`Binary data of length ${e.byteLength}`,t&&(n+=`. Content: '${pct(e)}'`)):typeof e=="string"&&(n=`String data of length ${e.length}`,t&&(n+=`. Content: '${e}'`)),n}function pct(e){const t=new Uint8Array(e);let n="";return t.forEach(o=>{const s=o<16?"0":"";n+=`0x${s}${o.toString(16)} `}),n.substr(0,n.length-1)}function Lb(e){return e&&typeof ArrayBuffer<"u"&&(e instanceof ArrayBuffer||e.constructor&&e.constructor.name==="ArrayBuffer")}async function zhe(e,t,n,o,s,i){const c={},[u,d]=PC();c[u]=d,e.log(cn.Trace,`(${t} transport) sending data. ${iT(s,i.logMessageContent)}.`);const p=Lb(s)?"arraybuffer":"text",m=await n.post(o,{content:s,headers:{...c,...i.headers},responseType:p,timeout:i.timeout,withCredentials:i.withCredentials});e.log(cn.Trace,`(${t} transport) request complete. Response status: ${m.statusCode}.`)}function mct(e){return e===void 0?new CR(cn.Information):e===null?aT.instance:e.log!==void 0?e:new CR(e)}class fct{constructor(t,n){this._subject=t,this._observer=n}dispose(){const t=this._subject.observers.indexOf(this._observer);t>-1&&this._subject.observers.splice(t,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(n=>{})}}class CR{constructor(t){this._minLevel=t,this.out=console}log(t,n){if(t>=this._minLevel){const o=`[${new Date().toISOString()}] ${cn[t]}: ${n}`;switch(t){case cn.Critical:case cn.Error:this.out.error(o);break;case cn.Warning:this.out.warn(o);break;case cn.Information:this.out.info(o);break;default:this.out.log(o);break}}}}function PC(){let e="X-SignalR-User-Agent";return Zs.isNode&&(e="User-Agent"),[e,hct(dct,gct(),xct(),bct())]}function hct(e,t,n,o){let s="Microsoft SignalR/";const i=e.split(".");return s+=`${i[0]}.${i[1]}`,s+=` (${e}; `,t&&t!==""?s+=`${t}; `:s+="Unknown OS; ",s+=`${n}`,o?s+=`; ${o}`:s+="; Unknown Runtime Version",s+=")",s}function gct(){if(Zs.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function bct(){if(Zs.isNode)return process.versions.node}function xct(){return Zs.isNode?"NodeJS":"Browser"}function $_(e){return e.stack?e.stack:e.message?e.message:`${e}`}function yct(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}class Cct extends Lw{constructor(t){if(super(),this._logger=t,typeof fetch>"u"||Zs.isNode){const n=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._jar=new(n("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=n("node-fetch"):this._fetchType=fetch,this._fetchType=n("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(yct());if(typeof AbortController>"u"){const n=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._abortControllerType=n("abort-controller")}else this._abortControllerType=AbortController}async send(t){if(t.abortSignal&&t.abortSignal.aborted)throw new Md;if(!t.method)throw new Error("No method defined.");if(!t.url)throw new Error("No url defined.");const n=new this._abortControllerType;let o;t.abortSignal&&(t.abortSignal.onabort=()=>{n.abort(),o=new Md});let s=null;if(t.timeout){const d=t.timeout;s=setTimeout(()=>{n.abort(),this._logger.log(cn.Warning,"Timeout from HTTP request."),o=new T4},d)}t.content===""&&(t.content=void 0),t.content&&(t.headers=t.headers||{},Lb(t.content)?t.headers["Content-Type"]="application/octet-stream":t.headers["Content-Type"]="text/plain;charset=UTF-8");let i;try{i=await this._fetchType(t.url,{body:t.content,cache:"no-cache",credentials:t.withCredentials===!0?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...t.headers},method:t.method,mode:"cors",redirect:"follow",signal:n.signal})}catch(d){throw o||(this._logger.log(cn.Warning,`Error from HTTP request. ${d}.`),d)}finally{s&&clearTimeout(s),t.abortSignal&&(t.abortSignal.onabort=null)}if(!i.ok){const d=await qse(i,"text");throw new jb(d||i.statusText,i.status)}const u=await qse(i,t.responseType);return new Vhe(i.status,i.statusText,u)}getCookieString(t){let n="";return Zs.isNode&&this._jar&&this._jar.getCookies(t,(o,s)=>n=s.join("; ")),n}}function qse(e,t){let n;switch(t){case"arraybuffer":n=e.arrayBuffer();break;case"text":n=e.text();break;case"blob":case"document":case"json":throw new Error(`${t} is not supported.`);default:n=e.text();break}return n}class Dct extends Lw{constructor(t){super(),this._logger=t}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new Md):t.method?t.url?new Promise((n,o)=>{const s=new XMLHttpRequest;s.open(t.method,t.url,!0),s.withCredentials=t.withCredentials===void 0?!0:t.withCredentials,s.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.content===""&&(t.content=void 0),t.content&&(Lb(t.content)?s.setRequestHeader("Content-Type","application/octet-stream"):s.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const i=t.headers;i&&Object.keys(i).forEach(c=>{s.setRequestHeader(c,i[c])}),t.responseType&&(s.responseType=t.responseType),t.abortSignal&&(t.abortSignal.onabort=()=>{s.abort(),o(new Md)}),t.timeout&&(s.timeout=t.timeout),s.onload=()=>{t.abortSignal&&(t.abortSignal.onabort=null),s.status>=200&&s.status<300?n(new Vhe(s.status,s.statusText,s.response||s.responseText)):o(new jb(s.response||s.responseText||s.statusText,s.status))},s.onerror=()=>{this._logger.log(cn.Warning,`Error from HTTP request. ${s.status}: ${s.statusText}.`),o(new jb(s.statusText,s.status))},s.ontimeout=()=>{this._logger.log(cn.Warning,"Timeout from HTTP request."),o(new T4)},s.send(t.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class Sct extends Lw{constructor(t){if(super(),typeof fetch<"u"||Zs.isNode)this._httpClient=new Cct(t);else if(typeof XMLHttpRequest<"u")this._httpClient=new Dct(t);else throw new Error("No usable HttpClient found.")}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new Md):t.method?t.url?this._httpClient.send(t):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(t){return this._httpClient.getCookieString(t)}}class qc{static write(t){return`${t}${qc.RecordSeparator}`}static parse(t){if(t[t.length-1]!==qc.RecordSeparator)throw new Error("Message is incomplete.");const n=t.split(qc.RecordSeparator);return n.pop(),n}}qc.RecordSeparatorCode=30;qc.RecordSeparator=String.fromCharCode(qc.RecordSeparatorCode);class vct{writeHandshakeRequest(t){return qc.write(JSON.stringify(t))}parseHandshakeResponse(t){let n,o;if(Lb(t)){const u=new Uint8Array(t),d=u.indexOf(qc.RecordSeparatorCode);if(d===-1)throw new Error("Message is incomplete.");const p=d+1;n=String.fromCharCode.apply(null,Array.prototype.slice.call(u.slice(0,p))),o=u.byteLength>p?u.slice(p).buffer:null}else{const u=t,d=u.indexOf(qc.RecordSeparator);if(d===-1)throw new Error("Message is incomplete.");const p=d+1;n=u.substring(0,p),o=u.length>p?u.substring(p):null}const s=qc.parse(n),i=JSON.parse(s[0]);if(i.type)throw new Error("Expected a handshake response from the server.");return[o,i]}}var eo;(function(e){e[e.Invocation=1]="Invocation",e[e.StreamItem=2]="StreamItem",e[e.Completion=3]="Completion",e[e.StreamInvocation=4]="StreamInvocation",e[e.CancelInvocation=5]="CancelInvocation",e[e.Ping=6]="Ping",e[e.Close=7]="Close",e[e.Ack=8]="Ack",e[e.Sequence=9]="Sequence"})(eo||(eo={}));class jct{constructor(){this.observers=[]}next(t){for(const n of this.observers)n.next(t)}error(t){for(const n of this.observers)n.error&&n.error(t)}complete(){for(const t of this.observers)t.complete&&t.complete()}subscribe(t){return this.observers.push(t),new fct(this,t)}}class Ict{constructor(t,n,o){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=t,this._connection=n,this._bufferSize=o}async _send(t){const n=this._protocol.writeMessage(t);let o=Promise.resolve();if(this._isInvocationMessage(t)){this._totalMessageCount++;let s=()=>{},i=()=>{};Lb(n)?this._bufferedByteCount+=n.byteLength:this._bufferedByteCount+=n.length,this._bufferedByteCount>=this._bufferSize&&(o=new Promise((c,u)=>{s=c,i=u})),this._messages.push(new Tct(n,this._totalMessageCount,s,i))}try{this._reconnectInProgress||await this._connection.send(n)}catch{this._disconnected()}await o}_ack(t){let n=-1;for(let o=0;o<this._messages.length;o++){const s=this._messages[o];if(s._id<=t.sequenceId)n=o,Lb(s._message)?this._bufferedByteCount-=s._message.byteLength:this._bufferedByteCount-=s._message.length,s._resolver();else if(this._bufferedByteCount<this._bufferSize)s._resolver();else break}n!==-1&&(this._messages=this._messages.slice(n+1))}_shouldProcessMessage(t){if(this._waitForSequenceMessage)return t.type!==eo.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(t))return!0;const n=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,n<=this._latestReceivedSequenceId?(n===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=n,this._ackTimer(),!0)}_resetSequence(t){if(t.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=t.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const t=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:eo.Sequence,sequenceId:t}));const n=this._messages;for(const o of n)await this._connection.send(o._message);this._reconnectInProgress=!1}_dispose(t){t??(t=new Error("Unable to reconnect to server."));for(const n of this._messages)n._rejector(t)}_isInvocationMessage(t){switch(t.type){case eo.Invocation:case eo.StreamItem:case eo.Completion:case eo.StreamInvocation:case eo.CancelInvocation:return!0;case eo.Close:case eo.Sequence:case eo.Ping:case eo.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:eo.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}}class Tct{constructor(t,n,o,s){this._message=t,this._id=n,this._resolver=o,this._rejector=s}}const Oct=30*1e3,Ect=15*1e3,Pct=1e5;var fo;(function(e){e.Disconnected="Disconnected",e.Connecting="Connecting",e.Connected="Connected",e.Disconnecting="Disconnecting",e.Reconnecting="Reconnecting"})(fo||(fo={}));class O4{static create(t,n,o,s,i,c,u){return new O4(t,n,o,s,i,c,u)}constructor(t,n,o,s,i,c,u){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(cn.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},Va.isRequired(t,"connection"),Va.isRequired(n,"logger"),Va.isRequired(o,"protocol"),this.serverTimeoutInMilliseconds=i??Oct,this.keepAliveIntervalInMilliseconds=c??Ect,this._statefulReconnectBufferSize=u??Pct,this._logger=n,this._protocol=o,this.connection=t,this._reconnectPolicy=s,this._handshakeProtocol=new vct,this.connection.onreceive=d=>this._processIncomingData(d),this.connection.onclose=d=>this._connectionClosed(d),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=fo.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:eo.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(t){if(this._connectionState!==fo.Disconnected&&this._connectionState!==fo.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!t)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=t}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==fo.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=fo.Connecting,this._logger.log(cn.Debug,"Starting HubConnection.");try{await this._startInternal(),Zs.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=fo.Connected,this._connectionStarted=!0,this._logger.log(cn.Debug,"HubConnection connected successfully.")}catch(t){return this._connectionState=fo.Disconnected,this._logger.log(cn.Debug,`HubConnection failed to start successfully because of error '${t}'.`),Promise.reject(t)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const t=new Promise((n,o)=>{this._handshakeResolver=n,this._handshakeRejecter=o});await this.connection.start(this._protocol.transferFormat);try{let n=this._protocol.version;this.connection.features.reconnect||(n=1);const o={protocol:this._protocol.name,version:n};if(this._logger.log(cn.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(o)),this._logger.log(cn.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await t,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new Ict(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(n){throw this._logger.log(cn.Debug,`Hub handshake failed with error '${n}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(n),n}}async stop(){const t=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await t}catch{}}_stopInternal(t){if(this._connectionState===fo.Disconnected)return this._logger.log(cn.Debug,`Call to HubConnection.stop(${t}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===fo.Disconnecting)return this._logger.log(cn.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const n=this._connectionState;return this._connectionState=fo.Disconnecting,this._logger.log(cn.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(cn.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(n===fo.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=t||new Md("The connection was stopped before the hub handshake could complete."),this.connection.stop(t))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(t,...n){const[o,s]=this._replaceStreamingParams(n),i=this._createStreamInvocation(t,n,s);let c;const u=new jct;return u.cancelCallback=()=>{const d=this._createCancelInvocation(i.invocationId);return delete this._callbacks[i.invocationId],c.then(()=>this._sendWithProtocol(d))},this._callbacks[i.invocationId]=(d,p)=>{if(p){u.error(p);return}else d&&(d.type===eo.Completion?d.error?u.error(new Error(d.error)):u.complete():u.next(d.item))},c=this._sendWithProtocol(i).catch(d=>{u.error(d),delete this._callbacks[i.invocationId]}),this._launchStreams(o,c),u}_sendMessage(t){return this._resetKeepAliveInterval(),this.connection.send(t)}_sendWithProtocol(t){return this._messageBuffer?this._messageBuffer._send(t):this._sendMessage(this._protocol.writeMessage(t))}send(t,...n){const[o,s]=this._replaceStreamingParams(n),i=this._sendWithProtocol(this._createInvocation(t,n,!0,s));return this._launchStreams(o,i),i}invoke(t,...n){const[o,s]=this._replaceStreamingParams(n),i=this._createInvocation(t,n,!1,s);return new Promise((u,d)=>{this._callbacks[i.invocationId]=(m,f)=>{if(f){d(f);return}else m&&(m.type===eo.Completion?m.error?d(new Error(m.error)):u(m.result):d(new Error(`Unexpected message type: ${m.type}`)))};const p=this._sendWithProtocol(i).catch(m=>{d(m),delete this._callbacks[i.invocationId]});this._launchStreams(o,p)})}on(t,n){!t||!n||(t=t.toLowerCase(),this._methods[t]||(this._methods[t]=[]),this._methods[t].indexOf(n)===-1&&this._methods[t].push(n))}off(t,n){if(!t)return;t=t.toLowerCase();const o=this._methods[t];if(o)if(n){const s=o.indexOf(n);s!==-1&&(o.splice(s,1),o.length===0&&delete this._methods[t])}else delete this._methods[t]}onclose(t){t&&this._closedCallbacks.push(t)}onreconnecting(t){t&&this._reconnectingCallbacks.push(t)}onreconnected(t){t&&this._reconnectedCallbacks.push(t)}_processIncomingData(t){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(t=this._processHandshakeResponse(t),this._receivedHandshakeResponse=!0),t){const n=this._protocol.parseMessages(t,this._logger);for(const o of n)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(o)))switch(o.type){case eo.Invocation:this._invokeClientMethod(o).catch(s=>{this._logger.log(cn.Error,`Invoke client method threw error: ${$_(s)}`)});break;case eo.StreamItem:case eo.Completion:{const s=this._callbacks[o.invocationId];if(s){o.type===eo.Completion&&delete this._callbacks[o.invocationId];try{s(o)}catch(i){this._logger.log(cn.Error,`Stream callback threw error: ${$_(i)}`)}}break}case eo.Ping:break;case eo.Close:{this._logger.log(cn.Information,"Close message received from server.");const s=o.error?new Error("Server returned an error on close: "+o.error):void 0;o.allowReconnect===!0?this.connection.stop(s):this._stopPromise=this._stopInternal(s);break}case eo.Ack:this._messageBuffer&&this._messageBuffer._ack(o);break;case eo.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(o);break;default:this._logger.log(cn.Warning,`Invalid message type: ${o.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(t){let n,o;try{[o,n]=this._handshakeProtocol.parseHandshakeResponse(t)}catch(s){const i="Error parsing handshake response: "+s;this._logger.log(cn.Error,i);const c=new Error(i);throw this._handshakeRejecter(c),c}if(n.error){const s="Server returned handshake error: "+n.error;this._logger.log(cn.Error,s);const i=new Error(s);throw this._handshakeRejecter(i),i}else this._logger.log(cn.Debug,"Server handshake complete.");return this._handshakeResolver(),o}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if((!this.connection.features||!this.connection.features.inherentKeepAlive)&&(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),this._pingServerHandle===void 0)){let t=this._nextKeepAlive-new Date().getTime();t<0&&(t=0),this._pingServerHandle=setTimeout(async()=>{if(this._connectionState===fo.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}},t)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(t){const n=t.target.toLowerCase(),o=this._methods[n];if(!o){this._logger.log(cn.Warning,`No client method with the name '${n}' found.`),t.invocationId&&(this._logger.log(cn.Warning,`No result given for '${n}' method and invocation ID '${t.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null)));return}const s=o.slice(),i=!!t.invocationId;let c,u,d;for(const p of s)try{const m=c;c=await p.apply(this,t.arguments),i&&c&&m&&(this._logger.log(cn.Error,`Multiple results provided for '${n}'. Sending error to server.`),d=this._createCompletionMessage(t.invocationId,"Client provided multiple results.",null)),u=void 0}catch(m){u=m,this._logger.log(cn.Error,`A callback for the method '${n}' threw error '${m}'.`)}d?await this._sendWithProtocol(d):i?(u?d=this._createCompletionMessage(t.invocationId,`${u}`,null):c!==void 0?d=this._createCompletionMessage(t.invocationId,null,c):(this._logger.log(cn.Warning,`No result given for '${n}' method and invocation ID '${t.invocationId}'.`),d=this._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(d)):c&&this._logger.log(cn.Error,`Result given for '${n}' method but server is not expecting a result.`)}_connectionClosed(t){this._logger.log(cn.Debug,`HubConnection.connectionClosed(${t}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||t||new Md("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(t||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===fo.Disconnecting?this._completeClose(t):this._connectionState===fo.Connected&&this._reconnectPolicy?this._reconnect(t):this._connectionState===fo.Connected&&this._completeClose(t)}_completeClose(t){if(this._connectionStarted){this._connectionState=fo.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(t??new Error("Connection closed.")),this._messageBuffer=void 0),Zs.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(n=>n.apply(this,[t]))}catch(n){this._logger.log(cn.Error,`An onclose callback called with error '${t}' threw error '${n}'.`)}}}async _reconnect(t){const n=Date.now();let o=0,s=t!==void 0?t:new Error("Attempting to reconnect due to a unknown error."),i=this._getNextRetryDelay(o++,0,s);if(i===null){this._logger.log(cn.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(t);return}if(this._connectionState=fo.Reconnecting,t?this._logger.log(cn.Information,`Connection reconnecting because of error '${t}'.`):this._logger.log(cn.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(c=>c.apply(this,[t]))}catch(c){this._logger.log(cn.Error,`An onreconnecting callback called with error '${t}' threw error '${c}'.`)}if(this._connectionState!==fo.Reconnecting){this._logger.log(cn.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;i!==null;){if(this._logger.log(cn.Information,`Reconnect attempt number ${o} will start in ${i} ms.`),await new Promise(c=>{this._reconnectDelayHandle=setTimeout(c,i)}),this._reconnectDelayHandle=void 0,this._connectionState!==fo.Reconnecting){this._logger.log(cn.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=fo.Connected,this._logger.log(cn.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(c=>c.apply(this,[this.connection.connectionId]))}catch(c){this._logger.log(cn.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${c}'.`)}return}catch(c){if(this._logger.log(cn.Information,`Reconnect attempt failed because of error '${c}'.`),this._connectionState!==fo.Reconnecting){this._logger.log(cn.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===fo.Disconnecting&&this._completeClose();return}s=c instanceof Error?c:new Error(c.toString()),i=this._getNextRetryDelay(o++,Date.now()-n,s)}}this._logger.log(cn.Information,`Reconnect retries have been exhausted after ${Date.now()-n} ms and ${o} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(t,n,o){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:n,previousRetryCount:t,retryReason:o})}catch(s){return this._logger.log(cn.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${t}, ${n}) threw error '${s}'.`),null}}_cancelCallbacksWithError(t){const n=this._callbacks;this._callbacks={},Object.keys(n).forEach(o=>{const s=n[o];try{s(null,t)}catch(i){this._logger.log(cn.Error,`Stream 'error' callback called with '${t}' threw error: ${$_(i)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(t,n,o,s){if(o)return s.length!==0?{target:t,arguments:n,streamIds:s,type:eo.Invocation}:{target:t,arguments:n,type:eo.Invocation};{const i=this._invocationId;return this._invocationId++,s.length!==0?{target:t,arguments:n,invocationId:i.toString(),streamIds:s,type:eo.Invocation}:{target:t,arguments:n,invocationId:i.toString(),type:eo.Invocation}}}_launchStreams(t,n){if(t.length!==0){n||(n=Promise.resolve());for(const o in t)t[o].subscribe({complete:()=>{n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(o)))},error:s=>{let i;s instanceof Error?i=s.message:s&&s.toString?i=s.toString():i="Unknown error",n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(o,i)))},next:s=>{n=n.then(()=>this._sendWithProtocol(this._createStreamItemMessage(o,s)))}})}}_replaceStreamingParams(t){const n=[],o=[];for(let s=0;s<t.length;s++){const i=t[s];if(this._isObservable(i)){const c=this._invocationId;this._invocationId++,n[c]=i,o.push(c.toString()),t.splice(s,1)}}return[n,o]}_isObservable(t){return t&&t.subscribe&&typeof t.subscribe=="function"}_createStreamInvocation(t,n,o){const s=this._invocationId;return this._invocationId++,o.length!==0?{target:t,arguments:n,invocationId:s.toString(),streamIds:o,type:eo.StreamInvocation}:{target:t,arguments:n,invocationId:s.toString(),type:eo.StreamInvocation}}_createCancelInvocation(t){return{invocationId:t,type:eo.CancelInvocation}}_createStreamItemMessage(t,n){return{invocationId:t,item:n,type:eo.StreamItem}}_createCompletionMessage(t,n,o){return n?{error:n,invocationId:t,type:eo.Completion}:{invocationId:t,result:o,type:eo.Completion}}_createCloseMessage(){return{type:eo.Close}}}const Rct=[0,2e3,1e4,3e4,null];class Vse{constructor(t){this._retryDelays=t!==void 0?[...t,null]:Rct}nextRetryDelayInMilliseconds(t){return this._retryDelays[t.previousRetryCount]}}class Ib{}Ib.Authorization="Authorization";Ib.Cookie="Cookie";class wct extends Lw{constructor(t,n){super(),this._innerClient=t,this._accessTokenFactory=n}async send(t){let n=!0;this._accessTokenFactory&&(!this._accessToken||t.url&&t.url.indexOf("/negotiate?")>0)&&(n=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(t);const o=await this._innerClient.send(t);return n&&o.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(t),await this._innerClient.send(t)):o}_setAuthorizationHeader(t){t.headers||(t.headers={}),this._accessToken?t.headers[Ib.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&t.headers[Ib.Authorization]&&delete t.headers[Ib.Authorization]}getCookieString(t){return this._innerClient.getCookieString(t)}}var ti;(function(e){e[e.None=0]="None",e[e.WebSockets=1]="WebSockets",e[e.ServerSentEvents=2]="ServerSentEvents",e[e.LongPolling=4]="LongPolling"})(ti||(ti={}));var sl;(function(e){e[e.Text=1]="Text",e[e.Binary=2]="Binary"})(sl||(sl={}));let kct=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class zse{get pollAborted(){return this._pollAbort.aborted}constructor(t,n,o){this._httpClient=t,this._logger=n,this._pollAbort=new kct,this._options=o,this._running=!1,this.onreceive=null,this.onclose=null}async connect(t,n){if(Va.isRequired(t,"url"),Va.isRequired(n,"transferFormat"),Va.isIn(n,sl,"transferFormat"),this._url=t,this._logger.log(cn.Trace,"(LongPolling transport) Connecting."),n===sl.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[o,s]=PC(),i={[o]:s,...this._options.headers},c={abortSignal:this._pollAbort.signal,headers:i,timeout:1e5,withCredentials:this._options.withCredentials};n===sl.Binary&&(c.responseType="arraybuffer");const u=`${t}&_=${Date.now()}`;this._logger.log(cn.Trace,`(LongPolling transport) polling: ${u}.`);const d=await this._httpClient.get(u,c);d.statusCode!==200?(this._logger.log(cn.Error,`(LongPolling transport) Unexpected response code: ${d.statusCode}.`),this._closeError=new jb(d.statusText||"",d.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,c)}async _poll(t,n){try{for(;this._running;)try{const o=`${t}&_=${Date.now()}`;this._logger.log(cn.Trace,`(LongPolling transport) polling: ${o}.`);const s=await this._httpClient.get(o,n);s.statusCode===204?(this._logger.log(cn.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):s.statusCode!==200?(this._logger.log(cn.Error,`(LongPolling transport) Unexpected response code: ${s.statusCode}.`),this._closeError=new jb(s.statusText||"",s.statusCode),this._running=!1):s.content?(this._logger.log(cn.Trace,`(LongPolling transport) data received. ${iT(s.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(s.content)):this._logger.log(cn.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(o){this._running?o instanceof T4?this._logger.log(cn.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=o,this._running=!1):this._logger.log(cn.Trace,`(LongPolling transport) Poll errored after shutdown: ${o.message}`)}}finally{this._logger.log(cn.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(t){return this._running?zhe(this._logger,"LongPolling",this._httpClient,this._url,t,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(cn.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(cn.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const t={},[n,o]=PC();t[n]=o;const s={headers:{...t,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let i;try{await this._httpClient.delete(this._url,s)}catch(c){i=c}i?i instanceof jb&&(i.statusCode===404?this._logger.log(cn.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(cn.Trace,`(LongPolling transport) Error sending a DELETE request: ${i}`)):this._logger.log(cn.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(cn.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let t="(LongPolling transport) Firing onclose event.";this._closeError&&(t+=" Error: "+this._closeError),this._logger.log(cn.Trace,t),this.onclose(this._closeError)}}}class Act{constructor(t,n,o,s){this._httpClient=t,this._accessToken=n,this._logger=o,this._options=s,this.onreceive=null,this.onclose=null}async connect(t,n){return Va.isRequired(t,"url"),Va.isRequired(n,"transferFormat"),Va.isIn(n,sl,"transferFormat"),this._logger.log(cn.Trace,"(SSE transport) Connecting."),this._url=t,this._accessToken&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((o,s)=>{let i=!1;if(n!==sl.Text){s(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let c;if(Zs.isBrowser||Zs.isWebWorker)c=new this._options.EventSource(t,{withCredentials:this._options.withCredentials});else{const u=this._httpClient.getCookieString(t),d={};d.Cookie=u;const[p,m]=PC();d[p]=m,c=new this._options.EventSource(t,{withCredentials:this._options.withCredentials,headers:{...d,...this._options.headers}})}try{c.onmessage=u=>{if(this.onreceive)try{this._logger.log(cn.Trace,`(SSE transport) data received. ${iT(u.data,this._options.logMessageContent)}.`),this.onreceive(u.data)}catch(d){this._close(d);return}},c.onerror=u=>{i?this._close():s(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},c.onopen=()=>{this._logger.log(cn.Information,`SSE connected to ${this._url}`),this._eventSource=c,i=!0,o()}}catch(u){s(u);return}})}async send(t){return this._eventSource?zhe(this._logger,"SSE",this._httpClient,this._url,t,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(t){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(t))}}class Nct{constructor(t,n,o,s,i,c){this._logger=o,this._accessTokenFactory=n,this._logMessageContent=s,this._webSocketConstructor=i,this._httpClient=t,this.onreceive=null,this.onclose=null,this._headers=c}async connect(t,n){Va.isRequired(t,"url"),Va.isRequired(n,"transferFormat"),Va.isIn(n,sl,"transferFormat"),this._logger.log(cn.Trace,"(WebSockets transport) Connecting.");let o;return this._accessTokenFactory&&(o=await this._accessTokenFactory()),new Promise((s,i)=>{t=t.replace(/^http/,"ws");let c;const u=this._httpClient.getCookieString(t);let d=!1;if(Zs.isNode||Zs.isReactNative){const p={},[m,f]=PC();p[m]=f,o&&(p[Ib.Authorization]=`Bearer ${o}`),u&&(p[Ib.Cookie]=u),c=new this._webSocketConstructor(t,void 0,{headers:{...p,...this._headers}})}else o&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(o)}`);c||(c=new this._webSocketConstructor(t)),n===sl.Binary&&(c.binaryType="arraybuffer"),c.onopen=p=>{this._logger.log(cn.Information,`WebSocket connected to ${t}.`),this._webSocket=c,d=!0,s()},c.onerror=p=>{let m=null;typeof ErrorEvent<"u"&&p instanceof ErrorEvent?m=p.error:m="There was an error with the transport",this._logger.log(cn.Information,`(WebSockets transport) ${m}.`)},c.onmessage=p=>{if(this._logger.log(cn.Trace,`(WebSockets transport) data received. ${iT(p.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(p.data)}catch(m){this._close(m);return}},c.onclose=p=>{if(d)this._close(p);else{let m=null;typeof ErrorEvent<"u"&&p instanceof ErrorEvent?m=p.error:m="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",i(new Error(m))}}})}send(t){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(cn.Trace,`(WebSockets transport) sending data. ${iT(t,this._logMessageContent)}.`),this._webSocket.send(t),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(t){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(cn.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(t)&&(t.wasClean===!1||t.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${t.code} (${t.reason||"no reason given"}).`)):t instanceof Error?this.onclose(t):this.onclose())}_isCloseEvent(t){return t&&typeof t.wasClean=="boolean"&&typeof t.code=="number"}}const Hse=100;class Fct{constructor(t,n={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,Va.isRequired(t,"url"),this._logger=mct(n.logger),this.baseUrl=this._resolveUrl(t),n=n||{},n.logMessageContent=n.logMessageContent===void 0?!1:n.logMessageContent,typeof n.withCredentials=="boolean"||n.withCredentials===void 0)n.withCredentials=n.withCredentials===void 0?!0:n.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");n.timeout=n.timeout===void 0?100*1e3:n.timeout;let o=null,s=null;if(Zs.isNode&&typeof require<"u"){const i=typeof __webpack_require__=="function"?__non_webpack_require__:require;o=i("ws"),s=i("eventsource")}!Zs.isNode&&typeof WebSocket<"u"&&!n.WebSocket?n.WebSocket=WebSocket:Zs.isNode&&!n.WebSocket&&o&&(n.WebSocket=o),!Zs.isNode&&typeof EventSource<"u"&&!n.EventSource?n.EventSource=EventSource:Zs.isNode&&!n.EventSource&&typeof s<"u"&&(n.EventSource=s),this._httpClient=new wct(n.httpClient||new Sct(this._logger),n.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=n,this.onreceive=null,this.onclose=null}async start(t){if(t=t||sl.Binary,Va.isIn(t,sl,"transferFormat"),this._logger.log(cn.Debug,`Starting connection with transfer format '${sl[t]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(t),await this._startInternalPromise,this._connectionState==="Disconnecting"){const n="Failed to start the HttpConnection before stop() was called.";return this._logger.log(cn.Error,n),await this._stopPromise,Promise.reject(new Md(n))}else if(this._connectionState!=="Connected"){const n="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(cn.Error,n),Promise.reject(new Md(n))}this._connectionStarted=!0}send(t){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new E4(this.transport)),this._sendQueue.send(t))}async stop(t){if(this._connectionState==="Disconnected")return this._logger.log(cn.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(cn.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(n=>{this._stopPromiseResolver=n}),await this._stopInternal(t),await this._stopPromise}async _stopInternal(t){this._stopError=t;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(n){this._logger.log(cn.Error,`HttpConnection.transport.stop() threw error '${n}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(cn.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(t){let n=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===ti.WebSockets)this.transport=this._constructTransport(ti.WebSockets),await this._startTransport(n,t);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let o=null,s=0;do{if(o=await this._getNegotiationResponse(n),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new Md("The connection was stopped during negotiation.");if(o.error)throw new Error(o.error);if(o.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(o.url&&(n=o.url),o.accessToken){const i=o.accessToken;this._accessTokenFactory=()=>i,this._httpClient._accessToken=i,this._httpClient._accessTokenFactory=void 0}s++}while(o.url&&s<Hse);if(s===Hse&&o.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(n,this._options.transport,o,t)}this.transport instanceof zse&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(cn.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(o){return this._logger.log(cn.Error,"Failed to start the connection: "+o),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(o)}}async _getNegotiationResponse(t){const n={},[o,s]=PC();n[o]=s;const i=this._resolveNegotiateUrl(t);this._logger.log(cn.Debug,`Sending negotiation request: ${i}.`);try{const c=await this._httpClient.post(i,{content:"",headers:{...n,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(c.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${c.statusCode}'`));const u=JSON.parse(c.content);return(!u.negotiateVersion||u.negotiateVersion<1)&&(u.connectionToken=u.connectionId),u.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new Use("Client didn't negotiate Stateful Reconnect but the server did.")):u}catch(c){let u="Failed to complete negotiation with the server: "+c;return c instanceof jb&&c.statusCode===404&&(u=u+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(cn.Error,u),Promise.reject(new Use(u))}}_createConnectUrl(t,n){return n?t+(t.indexOf("?")===-1?"?":"&")+`id=${n}`:t}async _createTransport(t,n,o,s){let i=this._createConnectUrl(t,o.connectionToken);if(this._isITransport(n)){this._logger.log(cn.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=n,await this._startTransport(i,s),this.connectionId=o.connectionId;return}const c=[],u=o.availableTransports||[];let d=o;for(const p of u){const m=this._resolveTransportOrError(p,n,s,(d==null?void 0:d.useStatefulReconnect)===!0);if(m instanceof Error)c.push(`${p.transport} failed:`),c.push(m);else if(this._isITransport(m)){if(this.transport=m,!d){try{d=await this._getNegotiationResponse(t)}catch(f){return Promise.reject(f)}i=this._createConnectUrl(t,d.connectionToken)}try{await this._startTransport(i,s),this.connectionId=d.connectionId;return}catch(f){if(this._logger.log(cn.Error,`Failed to start the transport '${p.transport}': ${f}`),d=void 0,c.push(new cct(`${p.transport} failed: ${f}`,ti[p.transport])),this._connectionState!=="Connecting"){const h="Failed to select transport before stop() was called.";return this._logger.log(cn.Debug,h),Promise.reject(new Md(h))}}}}return c.length>0?Promise.reject(new uct(`Unable to connect to the server with any of the available transports. ${c.join(" ")}`,c)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(t){switch(t){case ti.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new Nct(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case ti.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new Act(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case ti.LongPolling:return new zse(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${t}.`)}}_startTransport(t,n){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async o=>{let s=!1;if(this.features.reconnect)try{this.features.disconnected(),await this.transport.connect(t,n),await this.features.resend()}catch{s=!0}else{this._stopConnection(o);return}s&&this._stopConnection(o)}:this.transport.onclose=o=>this._stopConnection(o),this.transport.connect(t,n)}_resolveTransportOrError(t,n,o,s){const i=ti[t.transport];if(i==null)return this._logger.log(cn.Debug,`Skipping transport '${t.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${t.transport}' because it is not supported by this client.`);if(Mct(n,i))if(t.transferFormats.map(u=>sl[u]).indexOf(o)>=0){if(i===ti.WebSockets&&!this._options.WebSocket||i===ti.ServerSentEvents&&!this._options.EventSource)return this._logger.log(cn.Debug,`Skipping transport '${ti[i]}' because it is not supported in your environment.'`),new ict(`'${ti[i]}' is not supported in your environment.`,i);this._logger.log(cn.Debug,`Selecting transport '${ti[i]}'.`);try{return this.features.reconnect=i===ti.WebSockets?s:void 0,this._constructTransport(i)}catch(u){return u}}else return this._logger.log(cn.Debug,`Skipping transport '${ti[i]}' because it does not support the requested transfer format '${sl[o]}'.`),new Error(`'${ti[i]}' does not support ${sl[o]}.`);else return this._logger.log(cn.Debug,`Skipping transport '${ti[i]}' because it was disabled by the client.`),new lct(`'${ti[i]}' is disabled by the client.`,i)}_isITransport(t){return t&&typeof t=="object"&&"connect"in t}_stopConnection(t){if(this._logger.log(cn.Debug,`HttpConnection.stopConnection(${t}) called while in state ${this._connectionState}.`),this.transport=void 0,t=this._stopError||t,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(cn.Debug,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(cn.Warning,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${t}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),t?this._logger.log(cn.Error,`Connection disconnected with error '${t}'.`):this._logger.log(cn.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(n=>{this._logger.log(cn.Error,`TransportSendQueue.stop() threw error '${n}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(t)}catch(n){this._logger.log(cn.Error,`HttpConnection.onclose(${t}) threw error '${n}'.`)}}}_resolveUrl(t){if(t.lastIndexOf("https://",0)===0||t.lastIndexOf("http://",0)===0)return t;if(!Zs.isBrowser)throw new Error(`Cannot resolve '${t}'.`);const n=window.document.createElement("a");return n.href=t,this._logger.log(cn.Information,`Normalizing '${t}' to '${n.href}'.`),n.href}_resolveNegotiateUrl(t){const n=new URL(t);n.pathname.endsWith("/")?n.pathname+="negotiate":n.pathname+="/negotiate";const o=new URLSearchParams(n.searchParams);return o.has("negotiateVersion")||o.append("negotiateVersion",this._negotiateVersion.toString()),o.has("useStatefulReconnect")?o.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&o.append("useStatefulReconnect","true"),n.search=o.toString(),n.toString()}}function Mct(e,t){return!e||(t&e)!==0}class E4{constructor(t){this._transport=t,this._buffer=[],this._executing=!0,this._sendBufferedData=new aP,this._transportResult=new aP,this._sendLoopPromise=this._sendLoop()}send(t){return this._bufferData(t),this._transportResult||(this._transportResult=new aP),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(t){if(this._buffer.length&&typeof this._buffer[0]!=typeof t)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof t}`);this._buffer.push(t),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new aP;const t=this._transportResult;this._transportResult=void 0;const n=typeof this._buffer[0]=="string"?this._buffer.join(""):E4._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(n),t.resolve()}catch(o){t.reject(o)}}}static _concatBuffers(t){const n=t.map(i=>i.byteLength).reduce((i,c)=>i+c),o=new Uint8Array(n);let s=0;for(const i of t)o.set(new Uint8Array(i),s),s+=i.byteLength;return o.buffer}}class aP{constructor(){this.promise=new Promise((t,n)=>[this._resolver,this._rejecter]=[t,n])}resolve(){this._resolver()}reject(t){this._rejecter(t)}}const _ct="json";class Lct{constructor(){this.name=_ct,this.version=2,this.transferFormat=sl.Text}parseMessages(t,n){if(typeof t!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!t)return[];n===null&&(n=aT.instance);const o=qc.parse(t),s=[];for(const i of o){const c=JSON.parse(i);if(typeof c.type!="number")throw new Error("Invalid payload.");switch(c.type){case eo.Invocation:this._isInvocationMessage(c);break;case eo.StreamItem:this._isStreamItemMessage(c);break;case eo.Completion:this._isCompletionMessage(c);break;case eo.Ping:break;case eo.Close:break;case eo.Ack:this._isAckMessage(c);break;case eo.Sequence:this._isSequenceMessage(c);break;default:n.log(cn.Information,"Unknown message type '"+c.type+"' ignored.");continue}s.push(c)}return s}writeMessage(t){return qc.write(JSON.stringify(t))}_isInvocationMessage(t){this._assertNotEmptyString(t.target,"Invalid payload for Invocation message."),t.invocationId!==void 0&&this._assertNotEmptyString(t.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(t){if(this._assertNotEmptyString(t.invocationId,"Invalid payload for StreamItem message."),t.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(t){if(t.result&&t.error)throw new Error("Invalid payload for Completion message.");!t.result&&t.error&&this._assertNotEmptyString(t.error,"Invalid payload for Completion message."),this._assertNotEmptyString(t.invocationId,"Invalid payload for Completion message.")}_isAckMessage(t){if(typeof t.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(t){if(typeof t.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(t,n){if(typeof t!="string"||t==="")throw new Error(n)}}const $ct={trace:cn.Trace,debug:cn.Debug,info:cn.Information,information:cn.Information,warn:cn.Warning,warning:cn.Warning,error:cn.Error,critical:cn.Critical,none:cn.None};function Bct(e){const t=$ct[e.toLowerCase()];if(typeof t<"u")return t;throw new Error(`Unknown log level: ${e}`)}class Wct{configureLogging(t){if(Va.isRequired(t,"logging"),Uct(t))this.logger=t;else if(typeof t=="string"){const n=Bct(t);this.logger=new CR(n)}else this.logger=new CR(t);return this}withUrl(t,n){return Va.isRequired(t,"url"),Va.isNotEmpty(t,"url"),this.url=t,typeof n=="object"?this.httpConnectionOptions={...this.httpConnectionOptions,...n}:this.httpConnectionOptions={...this.httpConnectionOptions,transport:n},this}withHubProtocol(t){return Va.isRequired(t,"protocol"),this.protocol=t,this}withAutomaticReconnect(t){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return t?Array.isArray(t)?this.reconnectPolicy=new Vse(t):this.reconnectPolicy=t:this.reconnectPolicy=new Vse,this}withServerTimeout(t){return Va.isRequired(t,"milliseconds"),this._serverTimeoutInMilliseconds=t,this}withKeepAliveInterval(t){return Va.isRequired(t,"milliseconds"),this._keepAliveIntervalInMilliseconds=t,this}withStatefulReconnect(t){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=t==null?void 0:t.bufferSize,this}build(){const t=this.httpConnectionOptions||{};if(t.logger===void 0&&(t.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const n=new Fct(this.url,t);return O4.create(n,this.logger||aT.instance,this.protocol||new Lct,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}function Uct(e){return e.log!==void 0}const qct=e=>{switch(e){case fo.Connected:return"#44b700";case fo.Connecting:return"orange";case fo.Disconnected:default:return"red"}},Vct={getColor:qct},zct=it(Fpe)(({theme:e,state:t})=>{const n=a.useMemo(()=>Vct.getColor(t),[t]),o=a.useMemo(()=>t===fo.Connecting||t===fo.Disconnecting,[t]);return{"& .MuiBadge-badge":{backgroundColor:n,color:n,boxShadow:`0 0 0 2px ${e.palette.background.paper}`,"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",...o&&{animation:"ripple 1.2s infinite ease-in-out"},border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}),P4=a.memo(e=>{const{color:t,state:n,label:o,title:s,children:i,anchorEl:c,handleClick:u,handleMenuClose:d,MenuComponent:p,...m}=e;return r.jsxs(r.Fragment,{children:[r.jsx(jr,{title:s,children:r.jsx(br,{onClick:u,...m,children:r.jsx(zct,{state:n,overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:r.jsx(uGe,{sx:[f=>({width:32,height:32,bgcolor:t,color:f.palette.getContrastText(t),...o.length>1&&{fontSize:"0.9rem"}})],children:o})})})}),p&&r.jsx(p,{open:!!c,anchorEl:c,onClose:d})]})});P4.displayName="AvatarButton";P4.propTypes={label:l.string,Menu:l.object,anchorEl:l.object,handleClick:l.func,handleMenuClose:l.func,MenuComponent:l.oneOfType([l.func,l.elementType])};const Hhe=e=>{const{...t}=e,n=a.useContext(VT),{connectionState:o}=n,[s,i]=a.useState(null),{operator:c}=a.useContext(Be),u=a.useCallback(h=>{i(h.currentTarget)},[]),d=a.useCallback(()=>{i(null)},[]),p=a.useMemo(()=>`${(c==null?void 0:c.CurDeptName)||"?"} ${(c==null?void 0:c.UserName)||"?"}`,[c==null?void 0:c.CurDeptName,c==null?void 0:c.UserName]),m=a.useMemo(()=>{const h=(c==null?void 0:c.UserName)||"?";return/[\u4e00-\u9fff]/.test(h)?h.slice(-2):h[0]},[c==null?void 0:c.UserName]),f=a.useMemo(()=>Tn.getHeaderColor(c.Class),[c.Class]);return r.jsx(P4,{state:o,anchorEl:s,handleClick:u,handleMenuClose:d,title:p,label:m,color:f,MenuComponent:qhe,...t})};Hhe.displayName="AvatarButtonContainer";const R4=a.memo(a.forwardRef((e,t)=>{const{title:n,alt:o,children:s,SearchComponent:i,dense:c,...u}=e,d=a.useMemo(()=>s||!!i,[i,s]),p=a.useMemo(()=>c||i?2:1,[i,c]),m=a.useMemo(()=>d?1.1:2,[d]);return r.jsxs(ve,{ref:t,...u,children:[r.jsx(ve,{flex:m,children:r.jsx(Phe,{children:n})}),r.jsxs(ve,{alignItems:"center",flex:p,px:2,children:[s,i&&r.jsx(i,{})]}),r.jsxs(ve,{alignItems:"center",justifyContent:"flex-end",flex:1,mr:-3,children:[r.jsxs(f3,{spacing:1,direction:"row",alignItems:"center",sx:{color:"action.active"},children:[r.jsx(xlt,{}),r.jsx(Whe,{}),!c&&r.jsx(u4,{variant:"standard",dense:!0,sharedKey:"dept-switch"}),r.jsx(Hhe,{edge:"end"})]}),r.jsx(Ahe,{})]})]})}));R4.displayName="FrameBannerView";R4.propTypes={title:l.string,alt:l.string,dense:l.bool,SearchComponent:l.oneOfType([l.func,l.elementType]),children:l.oneOfType([l.element,l.array])};const _t=e=>{var p,m,f,h;const{...t}=e,n=a.useContext(Sn),{containerRef:o,isMdOrUp:s,isSmOrDown:i}=X3(),c=a.useMemo(()=>{var g,x;return[(g=n.menuItemSelected)==null?void 0:g.JobID,(x=n.menuItemSelected)==null?void 0:x.JobName].filter(Boolean).join(" ")},[(p=n.menuItemSelected)==null?void 0:p.JobID,(m=n.menuItemSelected)==null?void 0:m.JobName]),u=a.useMemo(()=>{var g;return((g=n.menuItemSelected)==null?void 0:g.JobID)||""},[(f=n.menuItemSelected)==null?void 0:f.JobID]),d=a.useMemo(()=>{var g;return i?u:s?c:(g=n.menuItemSelected)==null?void 0:g.JobName},[u,(h=n.menuItemSelected)==null?void 0:h.JobName,c,s,i]);return r.jsx("div",{ref:o,children:r.jsx(R4,{title:d,alt:u,dense:i,...t})})},Hct="/jota-t/assets/Hex-Gradient-OffWhite-CuaeMmLZ.png",Ft=e=>{const{children:t,sx:n=[],backgroundImage:o=Hct,...s}=e,i=a.useContext(Sn),c=qs(),u=a.useMemo(()=>ur.ofHomeBox({theme:c,drawerOpen:i.drawerOpen}),[i.drawerOpen,c]);return r.jsx(jt,{sx:[u,o&&{backgroundImage:`url(${o})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",minHeight:"100vh"},...Array.isArray(n)?n:[n]],...s,children:t})};Ft.displayName="FrameBoxContainer";Ft.propTypes={sx:l.oneOfType([l.object,l.array]),children:l.oneOfType([l.node,l.array,l.func])};var V0={},Gse;function Gct(){if(Gse)return V0;Gse=1;var e=Qn();Object.defineProperty(V0,"__esModule",{value:!0}),V0.default=void 0;var t=e(sr()),n=rr();return V0.default=(0,t.default)((0,n.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),V0}var Kct=Gct();const Qct=qn(Kct);var z0={},Kse;function Yct(){if(Kse)return z0;Kse=1;var e=Qn();Object.defineProperty(z0,"__esModule",{value:!0}),z0.default=void 0;var t=e(sr()),n=rr();return z0.default=(0,t.default)((0,n.jsx)("path",{d:"M3 18h13v-2H3zm0-5h10v-2H3zm0-7v2h13V6zm18 9.59L17.42 12 21 8.41 19.59 7l-5 5 5 5z"}),"MenuOpen"),z0}var Jct=Yct();const Ghe=qn(Jct),w4=a.memo(a.forwardRef((e,t)=>{const{drawerOpen:n,...o}=e;return r.jsx(br,{ref:t,...o,children:n?r.jsx(Ghe,{}):r.jsx(Qct,{})})}));w4.propTypes={drawerOpen:l.bool};w4.displayName="FrameMenuButton";const Khe=e=>{const{...t}=e,{handleToggleDrawerOpen:n}=a.useContext(Sn);return r.jsx(w4,{onClick:n,...t})};Khe.displayName="FrameMenuButtonContainer";const k4=e=>{const{children:t,sx:n=[],...o}=e,s=a.useContext(Sn),i=qs(),c=a.useMemo(()=>ur.ofHomeBox({theme:i,drawerOpen:s.drawerOpen}),[s.drawerOpen,i]);return r.jsx(jt,{sx:[c,...Array.isArray(n)?n:[n]],...o,children:t})};k4.displayName="HomeBoxContainer";k4.propTypes={sx:l.oneOfType([l.object,l.array]),children:l.oneOfType([l.node,l.array,l.func])};const Xct={always:!1,prod:!1},Zct=(e,t,n=Xct)=>{let o=e;const{always:s,prod:i,firstLineOnly:c=!0}=n;return t!=null&&t.message&&(!i||s)?o+=`: ${c?t.message.split(`
`)[0]:t.message}`:t!=null&&t.status&&(o+=`: HTTP ${t.status}`),o},eut={getMessage:Zct};function tut(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}tut(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var zT=e=>typeof e=="number"&&!isNaN(e),$b=e=>typeof e=="string",pf=e=>typeof e=="function",nut=e=>$b(e)||zT(e),I$=e=>$b(e)||pf(e)?e:null,rut=(e,t)=>e===!1||zT(e)&&e>0?e:t,T$=e=>a.isValidElement(e)||$b(e)||pf(e)||zT(e);function out(e,t,n=300){let{scrollHeight:o,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=o+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,n)})})}function sut({enter:e,exit:t,appendPosition:n=!1,collapse:o=!0,collapseDuration:s=300}){return function({children:i,position:c,preventExitTransition:u,done:d,nodeRef:p,isIn:m,playToast:f}){let h=n?`${e}--${c}`:e,g=n?`${t}--${c}`:t,x=a.useRef(0);return a.useLayoutEffect(()=>{let y=p.current,D=h.split(" "),v=T=>{T.target===p.current&&(f(),y.removeEventListener("animationend",v),y.removeEventListener("animationcancel",v),x.current===0&&T.type!=="animationcancel"&&y.classList.remove(...D))};y.classList.add(...D),y.addEventListener("animationend",v),y.addEventListener("animationcancel",v)},[]),a.useEffect(()=>{let y=p.current,D=()=>{y.removeEventListener("animationend",D),o?out(y,d,s):d()};m||(u?D():(x.current=1,y.className+=` ${g}`,y.addEventListener("animationend",D)))},[m]),Dn.createElement(Dn.Fragment,null,i)}}function Qse(e,t){return{content:Qhe(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function Qhe(e,t,n=!1){return a.isValidElement(e)&&!$b(e.type)?a.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):pf(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function aut({closeToast:e,theme:t,ariaLabel:n="close"}){return Dn.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:o=>{o.stopPropagation(),e(!0)},"aria-label":n},Dn.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Dn.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function iut({delay:e,isRunning:t,closeToast:n,type:o="default",hide:s,className:i,controlledProgress:c,progress:u,rtl:d,isIn:p,theme:m}){let f=s||c&&u===0,h={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};c&&(h.transform=`scaleX(${u})`);let g=Nt("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${o}`,{"Toastify__progress-bar--rtl":d}),x=pf(i)?i({rtl:d,type:o,defaultClassName:g}):Nt(g,i),y={[c&&u>=1?"onTransitionEnd":"onAnimationEnd"]:c&&u<1?null:()=>{p&&n()}};return Dn.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},Dn.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${o}`}),Dn.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:x,style:h,...y}))}var lut=1,Yhe=()=>`${lut++}`;function cut(e,t,n){let o=1,s=0,i=[],c=[],u=t,d=new Map,p=new Set,m=T=>(p.add(T),()=>p.delete(T)),f=()=>{c=Array.from(d.values()),p.forEach(T=>T())},h=({containerId:T,toastId:I,updateId:P})=>{let E=T?T!==e:e!==1,k=d.has(I)&&P==null;return E||k},g=(T,I)=>{d.forEach(P=>{var E;(I==null||I===P.props.toastId)&&((E=P.toggle)==null||E.call(P,T))})},x=T=>{var I,P;(P=(I=T.props)==null?void 0:I.onClose)==null||P.call(I,T.removalReason),T.isActive=!1},y=T=>{if(T==null)d.forEach(x);else{let I=d.get(T);I&&x(I)}f()},D=()=>{s-=i.length,i=[]},v=T=>{var I,P;let{toastId:E,updateId:k}=T.props,w=k==null;T.staleId&&d.delete(T.staleId),T.isActive=!0,d.set(E,T),f(),n(Qse(T,w?"added":"updated")),w&&((P=(I=T.props).onOpen)==null||P.call(I))};return{id:e,props:u,observe:m,toggle:g,removeToast:y,toasts:d,clearQueue:D,buildToast:(T,I)=>{if(h(I))return;let{toastId:P,updateId:E,data:k,staleId:w,delay:A}=I,F=E==null;F&&s++;let _={...u,style:u.toastStyle,key:o++,...Object.fromEntries(Object.entries(I).filter(([K,z])=>z!=null)),toastId:P,updateId:E,data:k,isIn:!1,className:I$(I.className||u.toastClassName),progressClassName:I$(I.progressClassName||u.progressClassName),autoClose:I.isLoading?!1:rut(I.autoClose,u.autoClose),closeToast(K){d.get(P).removalReason=K,y(P)},deleteToast(){let K=d.get(P);if(K!=null){if(n(Qse(K,"removed")),d.delete(P),s--,s<0&&(s=0),i.length>0){v(i.shift());return}f()}}};_.closeButton=u.closeButton,I.closeButton===!1||T$(I.closeButton)?_.closeButton=I.closeButton:I.closeButton===!0&&(_.closeButton=T$(u.closeButton)?u.closeButton:!0);let L={content:T,props:_,staleId:w};u.limit&&u.limit>0&&s>u.limit&&F?i.push(L):zT(A)?setTimeout(()=>{v(L)},A):v(L)},setProps(T){u=T},setToggle:(T,I)=>{let P=d.get(T);P&&(P.toggle=I)},isToastActive:T=>{var I;return(I=d.get(T))==null?void 0:I.isActive},getSnapshot:()=>c}}var vl=new Map,lT=[],O$=new Set,uut=e=>O$.forEach(t=>t(e)),Jhe=()=>vl.size>0;function dut(){lT.forEach(e=>Zhe(e.content,e.options)),lT=[]}var put=(e,{containerId:t})=>{var n;return(n=vl.get(t||1))==null?void 0:n.toasts.get(e)};function Xhe(e,t){var n;if(t)return!!((n=vl.get(t))!=null&&n.isToastActive(e));let o=!1;return vl.forEach(s=>{s.isToastActive(e)&&(o=!0)}),o}function mut(e){if(!Jhe()){lT=lT.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||nut(e))vl.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=vl.get(e.containerId);t?t.removeToast(e.id):vl.forEach(n=>{n.removeToast(e.id)})}}var fut=(e={})=>{vl.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function Zhe(e,t){T$(e)&&(Jhe()||lT.push({content:e,options:t}),vl.forEach(n=>{n.buildToast(e,t)}))}function hut(e){var t;(t=vl.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function ege(e,t){vl.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function gut(e){let t=e.containerId||1;return{subscribe(n){let o=cut(t,e,uut);vl.set(t,o);let s=o.observe(n);return dut(),()=>{s(),vl.delete(t)}},setProps(n){var o;(o=vl.get(t))==null||o.setProps(n)},getSnapshot(){var n;return(n=vl.get(t))==null?void 0:n.getSnapshot()}}}function but(e){return O$.add(e),()=>{O$.delete(e)}}function xut(e){return e&&($b(e.toastId)||zT(e.toastId))?e.toastId:Yhe()}function HT(e,t){return Zhe(e,t),t.toastId}function $w(e,t){return{...t,type:t&&t.type||e,toastId:xut(t)}}function Bw(e){return(t,n)=>HT(t,$w(e,n))}function To(e,t){return HT(e,$w("default",t))}To.loading=(e,t)=>HT(e,$w("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function yut(e,{pending:t,error:n,success:o},s){let i;t&&(i=$b(t)?To.loading(t,s):To.loading(t.render,{...s,...t}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(p,m,f)=>{if(m==null){To.dismiss(i);return}let h={type:p,...c,...s,data:f},g=$b(m)?{render:m}:m;return i?To.update(i,{...h,...g}):To(g.render,{...h,...g}),f},d=pf(e)?e():e;return d.then(p=>u("success",o,p)).catch(p=>u("error",n,p)),d}To.promise=yut;To.success=Bw("success");To.info=Bw("info");To.error=Bw("error");To.warning=Bw("warning");To.warn=To.warning;To.dark=(e,t)=>HT(e,$w("default",{theme:"dark",...t}));function Cut(e){mut(e)}To.dismiss=Cut;To.clearWaitingQueue=fut;To.isActive=Xhe;To.update=(e,t={})=>{let n=put(e,t);if(n){let{props:o,content:s}=n,i={delay:100,...o,...t,toastId:t.toastId||e,updateId:Yhe()};i.toastId!==e&&(i.staleId=e);let c=i.render||s;delete i.render,HT(c,i)}};To.done=e=>{To.update(e,{progress:1})};To.onChange=but;To.play=e=>ege(!0,e);To.pause=e=>ege(!1,e);function Dut(e){var t;let{subscribe:n,getSnapshot:o,setProps:s}=a.useRef(gut(e)).current;s(e);let i=(t=a.useSyncExternalStore(n,o,o))==null?void 0:t.slice();function c(u){if(!i)return[];let d=new Map;return e.newestOnTop&&i.reverse(),i.forEach(p=>{let{position:m}=p.props;d.has(m)||d.set(m,[]),d.get(m).push(p)}),Array.from(d,p=>u(p[0],p[1]))}return{getToastToRender:c,isToastActive:Xhe,count:i==null?void 0:i.length}}function Sut(e){let[t,n]=a.useState(!1),[o,s]=a.useState(!1),i=a.useRef(null),c=a.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:u,pauseOnHover:d,closeToast:p,onClick:m,closeOnClick:f}=e;hut({id:e.toastId,containerId:e.containerId,fn:n}),a.useEffect(()=>{if(e.pauseOnFocusLoss)return h(),()=>{g()}},[e.pauseOnFocusLoss]);function h(){document.hasFocus()||v(),window.addEventListener("focus",D),window.addEventListener("blur",v)}function g(){window.removeEventListener("focus",D),window.removeEventListener("blur",v)}function x(w){if(e.draggable===!0||e.draggable===w.pointerType){T();let A=i.current;c.canCloseOnClick=!0,c.canDrag=!0,A.style.transition="none",e.draggableDirection==="x"?(c.start=w.clientX,c.removalDistance=A.offsetWidth*(e.draggablePercent/100)):(c.start=w.clientY,c.removalDistance=A.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function y(w){let{top:A,bottom:F,left:_,right:L}=i.current.getBoundingClientRect();w.nativeEvent.type!=="touchend"&&e.pauseOnHover&&w.clientX>=_&&w.clientX<=L&&w.clientY>=A&&w.clientY<=F?v():D()}function D(){n(!0)}function v(){n(!1)}function T(){c.didMove=!1,document.addEventListener("pointermove",P),document.addEventListener("pointerup",E)}function I(){document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",E)}function P(w){let A=i.current;if(c.canDrag&&A){c.didMove=!0,t&&v(),e.draggableDirection==="x"?c.delta=w.clientX-c.start:c.delta=w.clientY-c.start,c.start!==w.clientX&&(c.canCloseOnClick=!1);let F=e.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;A.style.transform=`translate3d(${F},0)`,A.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function E(){I();let w=i.current;if(c.canDrag&&c.didMove&&w){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){s(!0),e.closeToast(!0),e.collapseAll();return}w.style.transition="transform 0.2s, opacity 0.2s",w.style.removeProperty("transform"),w.style.removeProperty("opacity")}}let k={onPointerDown:x,onPointerUp:y};return u&&d&&(k.onMouseEnter=v,e.stacked||(k.onMouseLeave=D)),f&&(k.onClick=w=>{m&&m(w),c.canCloseOnClick&&p(!0)}),{playToast:D,pauseToast:v,isRunning:t,preventExitTransition:o,toastRef:i,eventHandlers:k}}var vut=typeof window<"u"?a.useLayoutEffect:a.useEffect,Ww=({theme:e,type:t,isLoading:n,...o})=>Dn.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...o});function jut(e){return Dn.createElement(Ww,{...e},Dn.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Iut(e){return Dn.createElement(Ww,{...e},Dn.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function Tut(e){return Dn.createElement(Ww,{...e},Dn.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Out(e){return Dn.createElement(Ww,{...e},Dn.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function Eut(){return Dn.createElement("div",{className:"Toastify__spinner"})}var E$={info:Iut,warning:jut,success:Tut,error:Out,spinner:Eut},Put=e=>e in E$;function Rut({theme:e,type:t,isLoading:n,icon:o}){let s=null,i={theme:e,type:t};return o===!1||(pf(o)?s=o({...i,isLoading:n}):a.isValidElement(o)?s=a.cloneElement(o,i):n?s=E$.spinner():Put(t)&&(s=E$[t](i))),s}var wut=e=>{let{isRunning:t,preventExitTransition:n,toastRef:o,eventHandlers:s,playToast:i}=Sut(e),{closeButton:c,children:u,autoClose:d,onClick:p,type:m,hideProgressBar:f,closeToast:h,transition:g,position:x,className:y,style:D,progressClassName:v,updateId:T,role:I,progress:P,rtl:E,toastId:k,deleteToast:w,isIn:A,isLoading:F,closeOnClick:_,theme:L,ariaLabel:K}=e,z=Nt("Toastify__toast",`Toastify__toast-theme--${L}`,`Toastify__toast--${m}`,{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":_}),J=pf(y)?y({rtl:E,position:x,type:m,defaultClassName:z}):Nt(z,y),Q=Rut(e),V=!!P||!d,W={closeToast:h,type:m,theme:L},U=null;return c===!1||(pf(c)?U=c(W):a.isValidElement(c)?U=a.cloneElement(c,W):U=aut(W)),Dn.createElement(g,{isIn:A,done:w,position:x,preventExitTransition:n,nodeRef:o,playToast:i},Dn.createElement("div",{id:k,tabIndex:0,onClick:p,"data-in":A,className:J,...s,style:D,ref:o,...A&&{role:I,"aria-label":K}},Q!=null&&Dn.createElement("div",{className:Nt("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!F})},Q),Qhe(u,e,!t),U,!e.customProgressBar&&Dn.createElement(iut,{...T&&!V?{key:`p-${T}`}:{},rtl:E,theme:L,delay:d,isRunning:t,isIn:A,closeToast:h,hide:f,type:m,className:v,controlledProgress:V,progress:P||0})))},kut=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),Aut=sut(kut("bounce",!0)),Nut={position:"top-right",transition:Aut,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function Fut(e){let t={...Nut,...e},n=e.stacked,[o,s]=a.useState(!0),i=a.useRef(null),{getToastToRender:c,isToastActive:u,count:d}=Dut(t),{className:p,style:m,rtl:f,containerId:h,hotKeys:g}=t;function x(D){let v=Nt("Toastify__toast-container",`Toastify__toast-container--${D}`,{"Toastify__toast-container--rtl":f});return pf(p)?p({position:D,rtl:f,defaultClassName:v}):Nt(v,I$(p))}function y(){n&&(s(!0),To.play())}return vut(()=>{var D;if(n){let v=i.current.querySelectorAll('[data-in="true"]'),T=12,I=(D=t.position)==null?void 0:D.includes("top"),P=0,E=0;Array.from(v).reverse().forEach((k,w)=>{let A=k;A.classList.add("Toastify__toast--stacked"),w>0&&(A.dataset.collapsed=`${o}`),A.dataset.pos||(A.dataset.pos=I?"top":"bot");let F=P*(o?.2:1)+(o?0:T*w);A.style.setProperty("--y",`${I?F:F*-1}px`),A.style.setProperty("--g",`${T}`),A.style.setProperty("--s",`${1-(o?E:0)}`),P+=A.offsetHeight,E+=.025})}},[o,d,n]),a.useEffect(()=>{function D(v){var T;let I=i.current;g(v)&&((T=I.querySelector('[tabIndex="0"]'))==null||T.focus(),s(!1),To.pause()),v.key==="Escape"&&(document.activeElement===I||I!=null&&I.contains(document.activeElement))&&(s(!0),To.play())}return document.addEventListener("keydown",D),()=>{document.removeEventListener("keydown",D)}},[g]),Dn.createElement("section",{ref:i,className:"Toastify",id:h,onMouseEnter:()=>{n&&(s(!1),To.pause())},onMouseLeave:y,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},c((D,v)=>{let T=v.length?{...m}:{...m,pointerEvents:"none"};return Dn.createElement("div",{tabIndex:-1,className:x(D),"data-stacked":n,style:T,key:`c-${D}`},v.map(({content:I,props:P})=>Dn.createElement(wut,{...P,stacked:n,collapseAll:y,isIn:u(P.toastId,P.containerId),key:`t-${P.key}`},I)))}))}const Mut={autoClose:1e4},_ut={button:{dense:!0}},ae=(e,t={})=>{const{type:n="info",error:o,...s}=t;switch(n){case"success":return ae.success(e,s);case"info":return ae.info(e,s);case"warning":return ae.warn(e,s);case"error":return ae.error(e,o,s);default:return ae.info(e,s)}},Uw=(e,t,n={})=>({...Mut,...!t&&{hideProgressBar:!0},type:e,style:{...!t&&{borderLeft:`6px solid var(--toastify-color-${e})`}},...n}),qw=(e,t={})=>t!=null&&t.onAction?(()=>r.jsx(exe,{message:e||"()",actionText:t==null?void 0:t.actionText,onAction:t==null?void 0:t.onAction,slotProps:{..._ut,...t==null?void 0:t.slotProps}})):e;ae.success=(e,t={})=>{const{actionText:n,onAction:o,slotProps:s,...i}=t,c=qw(e,{actionText:n,onAction:o,slotProps:s});To(c,Uw("success",o,i))};ae.info=(e,t={})=>{const{actionText:n,onAction:o,slotProps:s,...i}=t,c=qw(e,{actionText:n,onAction:o,slotProps:s});To(c,Uw("info",o,i))};ae.warn=(e,t={})=>{const{actionText:n,onAction:o,slotProps:s,...i}=t,c=qw(e,{actionText:n,onAction:o,slotProps:s});To(c,{...Uw("warning",o,i)})};ae.error=(e,t={},n={})=>{let o=t,s=n;n!=null&&n.message&&(s=t,o=n);const i=o?eut.getMessage(e,o):e,{actionText:c,onAction:u,slotProps:d,...p}=s,m=qw(i,{actionText:c,onAction:u,slotProps:d}),f={...Uw("error",u,p),position:"top-center"};To(m,f),o?console.error(i,o):console.warn(i)};const Lut={invalidTimeMessage:"",printError:!1},$ut=()=>{const e=Ju(new Date);return[...Array.from(Array(7)).map((n,o)=>Vd(Yu(e,o),"eeee",{locale:d$})),Vd(Yu(e,7),"eeee",{locale:d$})]},tge=(e,t)=>{const n=pfe(e,t);return Vd(t,n?_o.DATEFNS_TIME:_o.DATEFNS_DATETIME)},But=(e,t)=>`${Vd(e,Wut(e)?_o.DATEFNS_DATE:_o.DATEFNS_DATETIME)} ~ ${tge(e,t)}`,Wut=e=>gf(e)&&cfe(e)===0&&ufe(e)===0&&dfe(e)===0,A4=e=>{switch(e.length){case _o.DATEFNS_DATETIME_SECONDS.length:return _o.DATEFNS_DATETIME_SECONDS;case _o.DATEFNS_DATETIME.length:return _o.DATEFNS_DATETIME;case _o.DATEFNS_DATE.length:default:return _o.DATEFNS_DATE}},Uut=(e,t=_o.DATEFNS_DATE,n=Lut)=>{try{return e?Vd(e,t):n.invalidTimeMessage||""}catch(o){return n.printError&&console.error("_format error",o),n.invalidTimeMessage||""}},N4=(e,t)=>{if(!e)return null;const n=t||A4(e);return B3(e,n,new Date)},qut=e=>{const t=e.indexOf("/");return e.substring(t+1)},Vut=e=>e.endsWith(_o.DATEFNS_TIME_SECONDS)?e.substring(0,e.length-_o.DATEFNS_TIME_SECONDS.length).trimEnd():e.endsWith(_o.DATEFNS_TIME)?e.substring(0,e.length-_o.DATEFNS_TIME.length).trimEnd():e,nge=(e,t)=>{let n=null;if(!e)return null;if(gf(e))n=e;else try{n=N4(e,t)}catch(i){throw new Error(`failed to parse: ${i==null?void 0:i.message}`)}const o=dR(n),s=qut(t||A4(e));return Vd(n,`${o-1911}/${Vd(n,s)}`)},rge=e=>{let t=null;if(!e)return null;if(gf(e))t=e;else try{t=N4(e)}catch(o){throw new Error(`failed to parse: ${o==null?void 0:o.message}`)}const n=Vut(A4(e));return Vd(t,n)},zut=e=>nge(rge(e)),Qd={getWeekdayNames:$ut,formatEndTime:tge,formatDuration:But,parse:N4,format:Uut,formatAsRocDate:nge,formatDateTimeAsRocDate:zut,formatDateTimeAsDate:rge},Vw=(e,t)=>{if(!e)return null;let n=null;return e instanceof Date?n=Qd.format(e,t):typeof e=="string"&&(n=e==null?void 0:e.replace(/\.\s?|\/|-/g,"/")),console.log(`reformat ${e} as ${n}`),n},Hut=(e,t=_o.DATEFNS_DATETIME_SECONDS)=>Vw(e,t),Gut=e=>{if(!e)return null;let t=null;return e instanceof Date?t=Qd.format(e,_o.DATEFNS_YEAR):typeof e=="string"&&(t=e),t},Kut=e=>{if(!e)return null;let t=null;return e instanceof Date?t=Qd.format(e,_o.DATEFNS_YEAR_AND_MONTH):typeof e=="string"&&(t=e),t},Qut=e=>Vw(e,_o.DATEFNS_DATE_DASH),oge=(e,t)=>Qd.parse(e,t),Yut=(e,t=_o.DATEFNS_TIME)=>Qd.parse(e,t),Jut=(e,t,n=_o.DATEFNS_DATETIME)=>Qd.parse(`${e} ${e}`,n),Xut=(e,t="HH:mm")=>{if(!e)return null;let n=null;return e instanceof Date?n=Qd.format(e,t):typeof e=="string"&&(n=e),console.log(`reformat ${e} as ${n}`),n},Zut=(e,t,n=_o.DATEFNS_DATE)=>{if(!t)throw new Error("dateFields not specified!");let o={...e},s=[];Oo.isString(t)?s=t.trim().split(/\s*,\s*/):Array.isArray(t)&&(s=t);for(const i of s)if(!o[i])console.log(`delete empty date field: ${i}`),delete o[i];else try{o[i]=Vw(o[i],n),console.log(`field [${i}] formatted -> ${o[i]}`)}catch{console.error(`failed to format ${o[i]} as a date in pattern[${n}]`)}return o},edt=(e,t,n=_o.DATEFNS_DATE)=>{if(!t)throw new Error("dateFields not specified!");let o={...e},s=[];Oo.isString(t)?s=t.trim().split(/\s*,\s*/):Array.isArray(t)&&(s=t);for(const i of s)if(o[i])try{console.log(`parsing date field[${i}]: ${o[i]}`),o[i]=oge(o[i],n)}catch{console.error(`failed to format ${o[i]} as date in pattern[${n}]`)}return o},tdt=(e,t,n="")=>{let o={...e},s=[];Oo.isString(t)?s=t.trim().split(/\s*,\s*/):Array.isArray(t)&&(s=t);for(const i of s)o[i]||(o[i]=n);return o},ndt=e=>{ae.error(", ")},sge=(e={})=>t=>{const{errorMessage:n="",required:o=!1,fieldName:s="",requiredMessage:i,minDate:c}=e;if(t)if(rf(t)){if(c&&By(t,c))return` ${Re.formatDate(c)} ()`}else return n;else if(o)return s?`${s}`:i||"";return!0},rdt=e=>sge()(e),age=(e={})=>t=>{const{errorMessage:n="",required:o=!1,fieldName:s="",requiredMessage:i}=e;if(t){if(!rf(t))return n}else if(o)return s?`${s}`:i||"";return!0},odt=e=>age()(e),ige=(e,t=0)=>typeof e=="number"?e:typeof e=="string"?Number(e.replace(/,/g,""))??t:t,lge=(e,t=2)=>ige(e).toFixed(t).replace(/\d(?=(\d{3})+\.)/g,"$&,"),sdt=e=>typeof e=="string"?e.trim():typeof e=="number"&&isFinite(e)?Number.isInteger(e)?e.toString():lge(e):typeof e=="boolean"?e?"":"":"",Re={formatDate:Vw,formatDateTime:Hut,parseDate:oge,parseTime:Yut,parseDateAndTime:Jut,processDateFieldsForSubmit:Zut,processDateFieldsForReset:edt,assignDefaultValues:tdt,reformatDateAsDash:Qut,onSubmitError:ndt,getDateValidator:sge,validateDate:rdt,getTimeValidator:age,validateTime:odt,formatTime:Xut,formatYear:Gut,formatYearMonth:Kut,formatMoney:lge,parseNumber:ige,formatLiteral:sdt},GT=a.memo(a.forwardRef((e,t)=>{const{label:n,children:o,labelProps:s,labelStyles:i,emptyText:c="()",sx:u=[],flex:d=!1,stringify:p,inline:m=!1,value:f,slotProps:h,noWrap:g=!1,isNegative:x=!1,dense:y=!0,loading:D=!1}=e,v=a.useMemo(()=>i||(g?ur.FORM_LABEL_STYLES_NOWRAP:ur.DEFAULT_FORM_LABEL_STYLES),[i,g]),T=a.useMemo(()=>D?r.jsx(ji,{variant:"rectangular",width:"100%",height:"24px"}):o!=null?(Oo.isLiteral(o)?Re.formatLiteral(o):o)||c:p?p(f)||c:(Oo.isLiteral(f)?Re.formatLiteral(f):f)||c,[o,c,D,p,f]),I=a.useMemo(()=>m||d?ve:jt,[d,m]),P=a.useMemo(()=>m?{alignItems:"center"}:{},[m]),E=a.useMemo(()=>(f==null||f===""||Array.isArray(f)&&f.length==0)&&(o==null||o===""),[o,f]);return r.jsxs(I,{className:GT.displayName,ref:t,...m&&{inline:!0},...P,...h==null?void 0:h.box,sx:[k=>({...d&&{alignItems:"center"},marginLeft:k.spacing(.5)}),v,...Array.isArray(u)?u:[u]],children:[n&&r.jsx(KT,{inline:m,dense:y,...s,...h==null?void 0:h.label,children:n}),r.jsx(jt,{className:"FormFieldLabelView-bodybox",sx:{minWidth:"40px",...y&&{position:"relative",...!m&&{marginTop:"-8px"}}},...h==null?void 0:h.value,...x&&(h==null?void 0:h.negativeValue),children:Oo.isLiteral(T)?r.jsx(nn,{color:"primary",variant:"body1",...h==null?void 0:h.typography,sx:[k=>{var w;return{fontWeight:400,...E&&{color:k.palette.text.disabled},...(w=h==null?void 0:h.typography)==null?void 0:w.sx}}],children:T==null?void 0:T.split(`
`).map((k,w)=>r.jsxs(a.Fragment,{children:[k,w<T.split(`
`).length-1&&r.jsx("br",{})]},`${k}_${w}`))}):T})]})}));GT.displayName="FormFieldLabelView";GT.propTypes={name:l.string,label:l.oneOfType([l.string,l.node]),children:l.oneOfType([l.node,l.array]),labelProps:l.object,labelStyles:l.object,emptyText:l.string,title:l.string,arrow:l.bool,sx:l.oneOfType([l.object,l.array]),flex:l.bool,noWrap:l.bool,inline:l.bool,stringify:l.func,slotProps:l.object,value:l.oneOfType([l.string,l.array]),format:l.func,isNegative:l.bool,isEmpty:l.bool,dense:l.bool,loading:l.bool};const F4=e=>{const{name:t,children:n,...o}=e,{loadWorking:s,readWorking:i}=a.useContext(cr)||{},c=a.useMemo(()=>s||i,[s,i]),u=Ue({name:t}),d=a.useMemo(()=>{const p=Oo.isNumber(u)?u:Number(u),m=Oo.isNumber(n)?n:Number(n);return p<0||m<0},[n,u]);return r.jsx(GT,{value:u,isNegative:d,loading:c,...o,children:n})};F4.propTypes={name:l.string.isRequired,label:l.string,stringify:l.func,children:l.oneOfType([l.node,l.array,l.func])};F4.displayName="FormFieldLabelContainer";const pn=e=>{const{name:t,...n}=e;return t?r.jsx(F4,{name:t,...n}):r.jsx(GT,{...n})};pn.displayName="FormFieldLabelWrapper";pn.propTypes={name:l.string};const adt=e=>{switch(e){case"sm":return{fontSize:"small"};case"md":default:return{fontSize:"medium"}}},KT=a.memo(e=>{const{size:t="small",IconComponent:n,inline:o,dense:s,children:i,variant:c="subtitle2",slotProps:u,sx:d=[]}=e,p=a.useMemo(()=>s&&!o,[s,o]);return r.jsx(kT,{sx:[m=>({color:m.palette.text.primary,...p&&{top:"-4px"},marginRight:m.spacing(1),"& .MuiTypography-root":{fontWeight:600}}),...Array.isArray(d)?d:[d]],children:r.jsxs(ve,{fullWidth:!0,inline:!0,children:[n&&r.jsx(ve,{alignItems:"center",mr:.5,children:r.jsx(n,{...adt(t)})}),r.jsx(ve,{alignItems:"center",flex:1,children:r.jsx(nn,{variant:c,...u==null?void 0:u.typography,children:i})})]})})});KT.displayName="FormLabelEx";KT.propTypes={children:l.node,size:l.string,sx:l.oneOfType([l.object,l.array]),variant:l.string,dense:l.bool,inline:l.bool,slotProps:l.object,IconComponent:l.element};const Lr=a.createContext(),Yh=a.memo(a.forwardRef((e,t)=>{const{disabled:n,tooltip:o,label:s,slotProps:i,...c}=e,{label:u}=i||{},d=a.useMemo(()=>r.jsx(Lpe,{ref:t,disabled:n,sx:{"&.MuiCheckbox-root":{padding:"8px",position:"relative",zIndex:1},"& .MuiSvgIcon-root":{},"&:not(.Mui-checked)::before":{content:'""',width:"1em",height:"1em",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",borderRadius:"2px",zIndex:-1},"&.Mui-checked::before":{content:'""',width:"1em",height:"1em",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",borderRadius:"2px",zIndex:-1}},...c}),[n,t,c]);return s?r.jsx(Ra,{title:o,children:r.jsx(bw,{label:s,disabled:n,control:d,slotProps:{...u}})}):r.jsx(Ra,{title:o,children:d})}));Yh.displayName="CheckboxExView";Yh.propTypes={disabled:l.bool,shrink:l.bool,fullWidth:l.bool,dense:l.bool,variant:l.string,label:l.string,slotProps:l.object,error:l.object,helperText:l.string,tooltip:l.string};const DR=a.memo(a.forwardRef((e,t)=>{const{shrink:n=!1,variant:o,fullWidth:s=!1,dense:i=!1,label:c,slotProps:u,error:d,helperText:p,disabled:m,tooltip:f,...h}=e,{label:g}=u||{},x=a.useMemo(()=>r.jsx(Yh,{...h}),[h]);return r.jsx(Ra,{title:f,children:r.jsxs(wT,{ref:t,disabled:m,sx:{display:"inline-block",...s&&{width:"100%"},...i&&{"& .MuiCheckbox-root":{padding:"0 !important"}},...o==="outlined"&&{border:y=>`1px solid ${y.palette.grey[400]}`,borderRadius:"4px",padding:"1px 8px 1px 8px ",backgroundColor:"#fff","&:hover":{borderColor:y=>"#000"},"& .MuiCheckbox-root":{padding:"8px"},"&:has(.Mui-focusVisible)":{borderColor:y=>y.palette.primary.main,borderWidth:"2px",padding:"0 7px 0 7px "},...n&&{"&::before":{content:'""',position:"absolute",top:"-1px",left:"8px",width:"40px",height:"2px",background:"#fff"}}}},children:[c?r.jsxs(r.Fragment,{children:[n&&r.jsx(b3,{shrink:!0,children:c}),r.jsx(bw,{label:n?"":c,error:d,disabled:m,control:x,slotProps:{...g}})]}):x,p&&r.jsx(Yp,{error:!!d,children:p})]})})}));DR.displayName="CheckboxExFieldView";DR.propTypes={disabled:l.bool,shrink:l.bool,fullWidth:l.bool,dense:l.bool,variant:l.string,label:l.string,slotProps:l.object,error:l.object,helperText:l.string,tooltip:l.string};const zw=({name:e,readOnly:t,control:n,rules:o,onChange:s,value:i,checkedToValue:c,valueToChecked:u,defaultValue:d=null,focusNextFieldBySpace:p=!0,...m})=>{const{isFieldDisabled:f,handleFocusNextField:h}=a.useContext(Lr)||{},{setFocus:g,setValue:x}=Ke()||{},y=a.useCallback(T=>{console.log("e.target.checked",T.target.checked);const I=c?c(!T.target.checked):!T.target.checked;x(e,I),s&&s(I)},[s,c,e,x]),D=a.useCallback(T=>{if(console.log("handleKeyDown:",`"${T.key}"`),T.key==="Enter"||T.key==="Tab"||T.key===" "){if(T.preventDefault(),T.key===" "&&(y(T),!p))return;h&&(T.preventDefault(),h(e,{setFocus:g,isFieldDisabled:f,forward:!T.shiftKey,e:T}))}},[h,y,p,e,g,f]),v=a.useMemo(()=>u?u(i):i,[i,u]);return e?r.jsx(rm,{name:e,defaultValue:d,control:n,rules:o,render:({field:T,fieldState:{error:I}})=>r.jsx(DR,{inputRef:T.ref,checked:u?u(T.value):T.value,onKeyDown:D,onChange:t?null:P=>{const E=c?c(P.target.checked):P.target.checked;s&&s(E),T.onChange(E)},inputProps:t?{readOnly:!0}:null,error:I,helperText:I==null?void 0:I.message,...m})}):r.jsx(DR,{onKeyDown:D,checked:v,onChange:s,value:i,...m})};zw.propTypes={name:l.string,readOnly:l.bool,control:l.object,rules:l.object,onChange:l.func,onChanged:l.func,checkedToValue:l.func,valueToChecked:l.func,value:l.oneOfType([l.string,l.bool,l.number,l.object]),defaultValue:l.oneOfType([l.string,l.bool,l.number,l.object]),focusNextFieldBySpace:l.bool};const idt=e=>e!=null?e?"":"":"",M4=a.memo(a.forwardRef((e,t)=>{const{label:n,renderText:o,typoVariant:s="body1",typoProps:i,emptyText:c="()",name:u,editing:d=!1,variant:p,size:m="small",getLabel:f=idt,slotProps:h,...g}=e,x=Ue({name:u}),y=a.useMemo(()=>f?f(x):x,[f,x]);return d?r.jsx(zw,{ref:t,label:n,name:u,variant:p,size:m,slotProps:h,...g}):r.jsx(pn,{name:u,label:n,variant:s,emptyText:c,...i,...h==null?void 0:h.label,children:y})}));M4.displayName="TypoCheckboxExField";M4.propTypes={getLabel:l.func,slotProps:l.object};const cge=a.forwardRef(({...e},t)=>{const{editing:n}=a.useContext(cr);return r.jsx(M4,{ref:t,editing:n,...e})});cge.displayName="TypoCheckboxExFieldContainer";const xr=e=>{const{typo:t,getLabel:n,...o}=e;return t?r.jsx(cge,{getLabel:n,...o}):r.jsx(zw,{...o})};xr.propTypes={typo:l.bool,getLabel:l.func};xr.displayName="CheckboxExFieldWrapper";function ldt(e){return $n("MuiLoadingButton",e)}const Bm=Bn("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]),cdt=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],udt=e=>{const{loading:t,loadingPosition:n,classes:o}=e,s={root:["root",t&&"loading"],startIcon:[t&&`startIconLoading${zt(n)}`],endIcon:[t&&`endIconLoading${zt(n)}`],loadingIndicator:["loadingIndicator",t&&`loadingIndicator${zt(n)}`]},i=Ln(s,ldt,o);return $({},o,i)},ddt=e=>e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"&&e!=="classes",pdt=it(fa,{shouldForwardProp:e=>ddt(e)||e==="classes",name:"MuiLoadingButton",slot:"Root",overridesResolver:(e,t)=>[t.root,t.startIconLoadingStart&&{[`& .${Bm.startIconLoadingStart}`]:t.startIconLoadingStart},t.endIconLoadingEnd&&{[`& .${Bm.endIconLoadingEnd}`]:t.endIconLoadingEnd}]})(({ownerState:e,theme:t})=>$({[`& .${Bm.startIconLoadingStart}, & .${Bm.endIconLoadingEnd}`]:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},e.loadingPosition==="center"&&{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${Bm.loading}`]:{color:"transparent"}},e.loadingPosition==="start"&&e.fullWidth&&{[`& .${Bm.startIconLoadingStart}, & .${Bm.endIconLoadingEnd}`]:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0,marginRight:-8}},e.loadingPosition==="end"&&e.fullWidth&&{[`& .${Bm.startIconLoadingStart}, & .${Bm.endIconLoadingEnd}`]:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0,marginLeft:-8}})),mdt=it("span",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.loadingIndicator,t[`loadingIndicator${zt(n.loadingPosition)}`]]}})(({theme:e,ownerState:t})=>$({position:"absolute",visibility:"visible",display:"flex"},t.loadingPosition==="start"&&(t.variant==="outlined"||t.variant==="contained")&&{left:t.size==="small"?10:14},t.loadingPosition==="start"&&t.variant==="text"&&{left:6},t.loadingPosition==="center"&&{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled},t.loadingPosition==="end"&&(t.variant==="outlined"||t.variant==="contained")&&{right:t.size==="small"?10:14},t.loadingPosition==="end"&&t.variant==="text"&&{right:6},t.loadingPosition==="start"&&t.fullWidth&&{position:"relative",left:-10},t.loadingPosition==="end"&&t.fullWidth&&{position:"relative",right:-10})),uge=a.forwardRef(function(t,n){const o=a.useContext(c3),s=bC(o,t),i=Ir({props:s,name:"MuiLoadingButton"}),{children:c,disabled:u=!1,id:d,loading:p=!1,loadingIndicator:m,loadingPosition:f="center",variant:h="text"}=i,g=It(i,cdt),x=rd(d),y=m??r.jsx(RT,{"aria-labelledby":x,color:"inherit",size:16}),D=$({},i,{disabled:u,loading:p,loadingIndicator:y,loadingPosition:f,variant:h}),v=udt(D),T=p?r.jsx(mdt,{className:v.loadingIndicator,ownerState:D,children:y}):null;return r.jsxs(pdt,$({disabled:u||p,id:x,ref:n},g,{variant:h,classes:v,ownerState:D,children:[D.loadingPosition==="end"?c:T,D.loadingPosition==="end"?T:c]}))}),dge=a.createContext(null);function fdt(){const[e,t]=a.useState(null);return a.useEffect(()=>{t(`mui-p-${Math.round(Math.random()*1e5)}`)},[]),e}function xf(e){const{children:t,value:n}=e,o=fdt(),s=a.useMemo(()=>({idPrefix:o,value:n}),[o,n]);return r.jsx(dge.Provider,{value:s,children:t})}function pge(){return a.useContext(dge)}function mge(e,t){const{idPrefix:n}=e;return n===null?null:`${e.idPrefix}-P-${t}`}function fge(e,t){const{idPrefix:n}=e;return n===null?null:`${e.idPrefix}-T-${t}`}const hdt=["children"],yf=a.forwardRef(function(t,n){const{children:o}=t,s=It(t,hdt),i=pge();if(i===null)throw new TypeError("No TabContext provided");const c=a.Children.map(o,u=>a.isValidElement(u)?a.cloneElement(u,{"aria-controls":mge(i,u.props.value),id:fge(i,u.props.value)}):null);return r.jsx(bYe,$({},s,{ref:n,value:i.value,children:c}))});function gdt(e){return $n("MuiTabPanel",e)}Bn("MuiTabPanel",["root"]);const bdt=["children","className","value"],xdt=e=>{const{classes:t}=e;return Ln({root:["root"]},gdt,t)},ydt=it("div",{name:"MuiTabPanel",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({padding:e.spacing(3)})),ga=a.forwardRef(function(t,n){const o=qo({props:t,name:"MuiTabPanel"}),{children:s,className:i,value:c}=o,u=It(o,bdt),d=$({},o),p=xdt(d),m=pge();if(m===null)throw new TypeError("No TabContext provided");const f=mge(m,c),h=fge(m,c);return r.jsx(ydt,$({"aria-labelledby":h,className:Nt(p.root,i),hidden:c!==m.value,id:f,ref:n,role:"tabpanel",ownerState:d},u,{children:c===m.value&&s}))}),_4=a.memo(a.forwardRef((e,t)=>{const{sx:n=[],children:o,responsive:s,loading:i,mobile:c,startIcon:u,endIcon:d,mobileText:p,useIconButton:m=!1,tooltip:f,dense:h=!1,...g}=e,x=a.useMemo(()=>u??d,[d,u]),y=a.useMemo(()=>c&&x&&m,[x,c,m]),D=a.useMemo(()=>u&&(!c||m),[m,c,u]),v=a.useMemo(()=>d&&(!c||m),[d,m,c]),T=a.useMemo(()=>c?m?!1:p||o:o,[o,m,c,p]),I=a.useMemo(()=>i!=null?uge:fa,[i]);return y?r.jsx(Ra,{title:f,children:r.jsx(br,{...g,children:x})}):r.jsx(Ra,{title:f,children:r.jsx(I,{ref:t,size:"small",sx:[P=>({...h&&{padding:0,minWidth:P.spacing(5)}}),...Array.isArray(n)?n:[n]],...D&&{startIcon:u},...v&&{endIcon:d},loading:i,...g,children:T})})}));_4.propTypes={children:l.oneOfType([l.node,l.array]),responsive:l.bool,loading:l.bool,mobile:l.bool,startIcon:l.object,endIcon:l.object,mobileText:l.string,tooltip:l.string,useIconButton:l.bool,sx:l.oneOfType([l.object,l.array]),dense:l.bool};_4.displayName="ButtonExView";const dt=a.forwardRef((e,t)=>{const{size:n="small",autoFocus:o=!1,sx:s=[],...i}=e,c=a.useRef(),[u,d]=a.useState(!1),p=a.useCallback(m=>{c.current=m,d(!!m)},[]);return a.useImperativeHandle(t,()=>c.current),a.useEffect(()=>{u&&o&&(console.log("autoFocus on "+dt.displayName),c.current.focus())},[o,u]),r.jsx(_4,{ref:p,size:n,...i,sx:[()=>({"&:focus":{outline:"2px solid #b0b0b0",outlineOffset:"2px",animation:"colorPulse 1.5s ease-in-out infinite"},"@keyframes colorPulse":{"0%":{outlineColor:"#b0b0b0"},"50%":{outlineColor:"#ffffff"},"100%":{outlineColor:"#b0b0b0"}}}),...Array.isArray(s)?s:[s]]})});dt.displayName="ButtonExContainer";dt.propTypes={buttonComponent:l.element,autoFocus:l.bool,size:l.oneOf(["small","medium","large"]),sx:l.oneOfType([l.object,l.array])};const Cdt=Object.freeze({ELLIPSIS:"white-space: nowrap;overflow: hidden;text-overflow: ellipsis;word-break: break-all",ELLIPSIS_BOX:"overflow: hidden",ONE_LINER:"overflow: hidden;text-overflow: ellipsis;white-space: nowrap",CONSOLE_SUCCESS:"color:rgb(31, 192, 39); font-weight: bold",CONSOLE_INFO:"color: #33daff; font-weight: bold",CONSOLE_WARN:"color:rgb(255, 201, 51); font-weight: bold",CONSOLE_ERROR:"background-color:rgb(255, 51, 102); color: white; font-weight: bold"}),nf={...Cdt},Ddt=e=>!!e,Sdt=e=>e.data,vdt=e=>{console.error("onError",e)},jdt=(e={})=>{const{multiple:t,name:n="NO_ID",url:o,options:s,method:i="get",bearer:c,disableLazy:u,queryParam:d="q",inputParam:p="id",querystring:m,params:f,headers:h,filterByServer:g=!1,queryRequired:x=!1,onChange:y,open:D,onOpen:v,onClose:T,disableOpenOnInput:I,typeToSearchText:P="",noOptionsText:E="",fetchErrorText:k="",triggerDelay:w=500,defaultOptions:A=[],triggerServerFilter:F=Ddt,getOptions:_=Sdt,onError:L=vdt,disableClose:K,disableOnSingleOption:z,debug:J=!1,findByInput:Q,clearOnChange:V=!1,clearValueOnChange:W=!1,clearOptionsOnChange:U=!1,mockDelay:X=0,sharedKey:te,...se}=e,{sendAsync:he}=Zn(),pe=a.useMemo(()=>X>0,[X]),[ue,ge]=a.useState({loading:null,query:null}),[Ce,Te]=Ehe({sharedKey:te,defaultOptions:A,onInit:()=>{ge(Ie=>({...Ie,loading:!1}))}}),[Ne,xe]=a.useState(x?P:E),[me,de]=a.useState(D||!1),ce=a.useCallback(()=>{de(!0)},[]),ee=a.useCallback(()=>{de(!1)},[]),De=a.useCallback((Ie,le)=>{y(Ie,le)},[y]),ke=a.useCallback(Ie=>{me||(!I||Ie.type==="click"||Ie.type==="keydown"&&Ie.key==="ArrowDown")&&(v&&v(Ie),de(!0))},[me,I,v]),He=a.useCallback(Ie=>{console.log("useWebApiOptions.handleClose"),K||de(!1),T&&T(Ie),ge(le=>(le.error&&console.log(" prev.error,  loading  null"),{...le,...le.error&&{loading:null}}))},[K,T]),qe=a.useMemo(()=>(o||pe)&&(u||me&&(!x||ue.query))&&ue.loading==null,[o,pe,u,me,x,ue.query,ue.loading]),Le=a.useCallback(async Ie=>{var Se;if(!Ie)return null;const{status:le,payload:fe,error:Ae}=await he({method:i,url:o,data:{[p]:Ie,...m&&Hr.parse(m),...f},headers:h,...c&&{bearer:c}});if(le.success)return(Se=_(fe))==null?void 0:Se[0];throw Ae??new Error("")},[c,_,h,p,i,f,m,he,o]),_e=a.useCallback(async()=>{ge(Ie=>({...Ie,loading:!0,error:null})),console.log(""),await new Promise(Ie=>setTimeout(Ie,X)),console.log(""),ge(Ie=>({...Ie,loading:!1})),Te(s)},[X,s,Te]),H=a.useCallback(async(Ie,{onError:le}={})=>{console.log(`${n}.loadOptions(${Ie||""})`),ge(Ae=>({...Ae,loading:!0,error:null}));const fe=le??L;try{const{status:Ae,payload:Se,error:be}=await he({method:i,url:o,data:{...Ie&&{[d]:Ie},...m&&Hr.parse(m),...f},headers:h,...c&&{bearer:c}});if(Ae.success){const Me=_(Se),we=Oo.isArray(Me)?Me:[];ge(Ge=>({...Ge,loading:!1})),Te(we),xe(E)}else throw be||"load options failed"}catch(Ae){console.error(`${n}.loadOptions failed`,Ae),fe(Ae),ge(Se=>({...Se,error:{message:"unexpected error"}})),Te([]),xe(k)}finally{ge(Ae=>({...Ae,loading:!1}))}},[n,L,he,i,o,d,m,f,h,c,_,Te,E,k]),re=a.useMemo(()=>pe?_e:H,[H,pe,_e]),q=a.useCallback(()=>{ge(Ie=>({...Ie})),Te([]),xe(x?P:E)},[E,x,Te,P]),Y=a.useRef(),ie=a.useCallback(()=>{ge(Ie=>({...Ie,loading:null,query:null})),Te([])},[Te]),B=a.useCallback((Ie,le,fe)=>{const Ae=Ie.target.value;if(console.log("text changed: ",Ae,le,fe),ge(Se=>({...Se,query:Ae})),g){if(!me){ge(Se=>({...Se,loading:null}));return}Y.current&&clearTimeout(Y.current),Y.current=setTimeout(()=>{re(Ae)},w)}},[g,re,me,w]),Z=a.useMemo(()=>{var Ie;return z&&ue.options&&((Ie=ue.options)==null?void 0:Ie.length)<2},[z,ue.options]);mn(()=>{(V||W)&&(console.log(`%cOptionPicker[${n}] VALUE CLEARED(clearValueOnChange ON) `,nf.CONSOLE_WARN),console.log(`	%c${o}${m?"?"+m:""}${f?`params: ${JSON.stringify(f)}`:""}`,nf.CONSOLE_INFO),y(t?[]:null))},[o,m,f]),mn(()=>{(V||U)&&(console.log(`%cOptionPicker[${n}] LOADING RESET(clearOptionsOnChange ON)  `,nf.CONSOLE_WARN),console.log(`	%c${o}${m?"?"+m:""}${f?`params: ${JSON.stringify(f)}`:""}`,nf.CONSOLE_INFO),ie())},[o,m,f]),mn(()=>{g&&!me&&(console.log(`%cOptionPicker[${n}] LOADING RESET(filterByServer ON, popper closed)`,nf.CONSOLE_WARN),ie())},[g,me]),mn(()=>{J&&console.log(`${n}.[shouldLoadOptions] changed:`,`${qe}`),qe&&re(ue.query)},[qe]);const ye=a.useMemo(()=>{if(Q!=null){if(Oo.isFunction(Q))return Q;if(Oo.isBoolean(Q))return Q?Le:null}return Le},[Q,Le]);return{shouldLoadOptions:qe,loadOptions:re,clearOptions:q,resetLoading:ie,...ue,options:Ce,noOptionsText:Ne,onTextChange:B,onChange:De,disabled:Z,findByInput:ye,open:me,onOpen:ke,onClose:He,openPopper:ce,closePopper:ee,...se}};function Idt(e,t,n){return(t=PUe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yse(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,o)}return n}function Jse(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yse(Object(n),!0).forEach(function(o){Idt(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yse(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function Ql(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Xse=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),Zse=function(){return Math.random().toString(36).substring(7).split("").join(".")},eae={INIT:"@@redux/INIT"+Zse(),REPLACE:"@@redux/REPLACE"+Zse()};function Tdt(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function hge(e,t,n){var o;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ql(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ql(1));return n(hge)(e,t)}if(typeof e!="function")throw new Error(Ql(2));var s=e,i=t,c=[],u=c,d=!1;function p(){u===c&&(u=c.slice())}function m(){if(d)throw new Error(Ql(3));return i}function f(y){if(typeof y!="function")throw new Error(Ql(4));if(d)throw new Error(Ql(5));var D=!0;return p(),u.push(y),function(){if(D){if(d)throw new Error(Ql(6));D=!1,p();var T=u.indexOf(y);u.splice(T,1),c=null}}}function h(y){if(!Tdt(y))throw new Error(Ql(7));if(typeof y.type>"u")throw new Error(Ql(8));if(d)throw new Error(Ql(9));try{d=!0,i=s(i,y)}finally{d=!1}for(var D=c=u,v=0;v<D.length;v++){var T=D[v];T()}return y}function g(y){if(typeof y!="function")throw new Error(Ql(10));s=y,h({type:eae.REPLACE})}function x(){var y,D=f;return y={subscribe:function(T){if(typeof T!="object"||T===null)throw new Error(Ql(11));function I(){T.next&&T.next(m())}I();var P=D(I);return{unsubscribe:P}}},y[Xse]=function(){return this},y}return h({type:eae.INIT}),o={dispatch:h,subscribe:f,getState:m,replaceReducer:g},o[Xse]=x,o}function tae(e,t){return function(){return t(e.apply(this,arguments))}}function nae(e,t){if(typeof e=="function")return tae(e,t);if(typeof e!="object"||e===null)throw new Error(Ql(16));var n={};for(var o in e){var s=e[o];typeof s=="function"&&(n[o]=tae(s,t))}return n}function gge(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(o){return o}:t.length===1?t[0]:t.reduce(function(o,s){return function(){return o(s.apply(void 0,arguments))}})}function Odt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(o){return function(){var s=o.apply(void 0,arguments),i=function(){throw new Error(Ql(15))},c={getState:s.getState,dispatch:function(){return i.apply(void 0,arguments)}},u=t.map(function(d){return d(c)});return i=gge.apply(void 0,u)(s.dispatch),Jse(Jse({},s),{},{dispatch:i})}}}var bge=Dn.createContext(null);function Edt(e){e()}var xge=Edt,Pdt=function(t){return xge=t},Rdt=function(){return xge};function wdt(){var e=Rdt(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e(function(){for(var s=t;s;)s.callback(),s=s.next})},get:function(){for(var s=[],i=t;i;)s.push(i),i=i.next;return s},subscribe:function(s){var i=!0,c=n={callback:s,next:null,prev:n};return c.prev?c.prev.next=c:t=c,function(){!i||t===null||(i=!1,c.next?c.next.prev=c.prev:n=c.prev,c.prev?c.prev.next=c.next:t=c.next)}}}}var rae={notify:function(){},get:function(){return[]}};function yge(e,t){var n,o=rae;function s(f){return d(),o.subscribe(f)}function i(){o.notify()}function c(){m.onStateChange&&m.onStateChange()}function u(){return!!n}function d(){n||(n=t?t.addNestedSub(c):e.subscribe(c),o=wdt())}function p(){n&&(n(),n=void 0,o.clear(),o=rae)}var m={addNestedSub:s,notifyNestedSubs:i,handleChangeWrapper:c,isSubscribed:u,trySubscribe:d,tryUnsubscribe:p,getListeners:function(){return o}};return m}var Cge=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?a.useLayoutEffect:a.useEffect;function kdt(e){var t=e.store,n=e.context,o=e.children,s=a.useMemo(function(){var u=yge(t);return{store:t,subscription:u}},[t]),i=a.useMemo(function(){return t.getState()},[t]);Cge(function(){var u=s.subscription;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),i!==t.getState()&&u.notifyNestedSubs(),function(){u.tryUnsubscribe(),u.onStateChange=null}},[s,i]);var c=n||bge;return Dn.createElement(c.Provider,{value:s},o)}var B_={exports:{}},hs={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oae;function Adt(){if(oae)return hs;oae=1;var e=60103,t=60106,n=60107,o=60108,s=60114,i=60109,c=60110,u=60112,d=60113,p=60120,m=60115,f=60116,h=60121,g=60122,x=60117,y=60129,D=60131;if(typeof Symbol=="function"&&Symbol.for){var v=Symbol.for;e=v("react.element"),t=v("react.portal"),n=v("react.fragment"),o=v("react.strict_mode"),s=v("react.profiler"),i=v("react.provider"),c=v("react.context"),u=v("react.forward_ref"),d=v("react.suspense"),p=v("react.suspense_list"),m=v("react.memo"),f=v("react.lazy"),h=v("react.block"),g=v("react.server.block"),x=v("react.fundamental"),y=v("react.debug_trace_mode"),D=v("react.legacy_hidden")}function T(z){if(typeof z=="object"&&z!==null){var J=z.$$typeof;switch(J){case e:switch(z=z.type,z){case n:case s:case o:case d:case p:return z;default:switch(z=z&&z.$$typeof,z){case c:case u:case f:case m:case i:return z;default:return J}}case t:return J}}}var I=i,P=e,E=u,k=n,w=f,A=m,F=t,_=s,L=o,K=d;return hs.ContextConsumer=c,hs.ContextProvider=I,hs.Element=P,hs.ForwardRef=E,hs.Fragment=k,hs.Lazy=w,hs.Memo=A,hs.Portal=F,hs.Profiler=_,hs.StrictMode=L,hs.Suspense=K,hs.isAsyncMode=function(){return!1},hs.isConcurrentMode=function(){return!1},hs.isContextConsumer=function(z){return T(z)===c},hs.isContextProvider=function(z){return T(z)===i},hs.isElement=function(z){return typeof z=="object"&&z!==null&&z.$$typeof===e},hs.isForwardRef=function(z){return T(z)===u},hs.isFragment=function(z){return T(z)===n},hs.isLazy=function(z){return T(z)===f},hs.isMemo=function(z){return T(z)===m},hs.isPortal=function(z){return T(z)===t},hs.isProfiler=function(z){return T(z)===s},hs.isStrictMode=function(z){return T(z)===o},hs.isSuspense=function(z){return T(z)===d},hs.isValidElementType=function(z){return typeof z=="string"||typeof z=="function"||z===n||z===s||z===y||z===o||z===d||z===p||z===D||typeof z=="object"&&z!==null&&(z.$$typeof===f||z.$$typeof===m||z.$$typeof===i||z.$$typeof===c||z.$$typeof===u||z.$$typeof===x||z.$$typeof===h||z[0]===g)},hs.typeOf=T,hs}var sae;function Ndt(){return sae||(sae=1,B_.exports=Adt()),B_.exports}var Fdt=Ndt(),Mdt=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],_dt=["reactReduxForwardedRef"],Ldt=[],$dt=[null,null];function Bdt(e,t){var n=e[1];return[t.payload,n+1]}function aae(e,t,n){Cge(function(){return e.apply(void 0,t)},n)}function Wdt(e,t,n,o,s,i,c){e.current=o,t.current=s,n.current=!1,i.current&&(i.current=null,c())}function Udt(e,t,n,o,s,i,c,u,d,p){if(e){var m=!1,f=null,h=function(){if(!m){var y=t.getState(),D,v;try{D=o(y,s.current)}catch(T){v=T,f=T}v||(f=null),D===i.current?c.current||d():(i.current=D,u.current=D,c.current=!0,p({type:"STORE_UPDATED",payload:{error:v}}))}};n.onStateChange=h,n.trySubscribe(),h();var g=function(){if(m=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f};return g}}var qdt=function(){return[null,0]};function Vdt(e,t){t===void 0&&(t={});var n=t,o=n.getDisplayName,s=o===void 0?function(I){return"ConnectAdvanced("+I+")"}:o,i=n.methodName,c=i===void 0?"connectAdvanced":i,u=n.renderCountProp,d=u===void 0?void 0:u,p=n.shouldHandleStateChanges,m=p===void 0?!0:p,f=n.storeKey,h=f===void 0?"store":f;n.withRef;var g=n.forwardRef,x=g===void 0?!1:g,y=n.context,D=y===void 0?bge:y,v=It(n,Mdt),T=D;return function(P){var E=P.displayName||P.name||"Component",k=s(E),w=$({},v,{getDisplayName:s,methodName:c,renderCountProp:d,shouldHandleStateChanges:m,storeKey:h,displayName:k,wrappedComponentName:E,WrappedComponent:P}),A=v.pure;function F(J){return e(J.dispatch,w)}var _=A?a.useMemo:function(J){return J()};function L(J){var Q=a.useMemo(function(){var _e=J.reactReduxForwardedRef,H=It(J,_dt);return[J.context,_e,H]},[J]),V=Q[0],W=Q[1],U=Q[2],X=a.useMemo(function(){return V&&V.Consumer&&Fdt.isContextConsumer(Dn.createElement(V.Consumer,null))?V:T},[V,T]),te=a.useContext(X),se=!!J.store&&!!J.store.getState&&!!J.store.dispatch;te&&te.store;var he=se?J.store:te.store,pe=a.useMemo(function(){return F(he)},[he]),ue=a.useMemo(function(){if(!m)return $dt;var _e=yge(he,se?null:te.subscription),H=_e.notifyNestedSubs.bind(_e);return[_e,H]},[he,se,te]),ge=ue[0],Ce=ue[1],Te=a.useMemo(function(){return se?te:$({},te,{subscription:ge})},[se,te,ge]),Ne=a.useReducer(Bdt,Ldt,qdt),xe=Ne[0],me=xe[0],de=Ne[1];if(me&&me.error)throw me.error;var ce=a.useRef(),ee=a.useRef(U),De=a.useRef(),ke=a.useRef(!1),He=_(function(){return De.current&&U===ee.current?De.current:pe(he.getState(),U)},[he,me,U]);aae(Wdt,[ee,ce,ke,U,He,De,Ce]),aae(Udt,[m,he,ge,pe,ee,ce,ke,De,Ce,de],[he,ge,pe]);var qe=a.useMemo(function(){return Dn.createElement(P,$({},He,{ref:W}))},[W,P,He]),Le=a.useMemo(function(){return m?Dn.createElement(X.Provider,{value:Te},qe):qe},[X,qe,Te]);return Le}var K=A?Dn.memo(L):L;if(K.WrappedComponent=P,K.displayName=L.displayName=k,x){var z=Dn.forwardRef(function(Q,V){return Dn.createElement(K,$({},Q,{reactReduxForwardedRef:V}))});return z.displayName=k,z.WrappedComponent=P,Ene(z,P)}return Ene(K,P)}}function iae(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function W_(e,t){if(iae(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(t,n[s])||!iae(e[n[s]],t[n[s]]))return!1;return!0}function zdt(e,t){var n={},o=function(c){var u=e[c];typeof u=="function"&&(n[c]=function(){return t(u.apply(void 0,arguments))})};for(var s in e)o(s);return n}function L4(e){return function(n,o){var s=e(n,o);function i(){return s}return i.dependsOnOwnProps=!1,i}}function lae(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function Dge(e,t){return function(o,s){s.displayName;var i=function(u,d){return i.dependsOnOwnProps?i.mapToProps(u,d):i.mapToProps(u)};return i.dependsOnOwnProps=!0,i.mapToProps=function(u,d){i.mapToProps=e,i.dependsOnOwnProps=lae(e);var p=i(u,d);return typeof p=="function"&&(i.mapToProps=p,i.dependsOnOwnProps=lae(p),p=i(u,d)),p},i}}function Hdt(e){return typeof e=="function"?Dge(e):void 0}function Gdt(e){return e?void 0:L4(function(t){return{dispatch:t}})}function Kdt(e){return e&&typeof e=="object"?L4(function(t){return zdt(e,t)}):void 0}const Qdt=[Hdt,Gdt,Kdt];function Ydt(e){return typeof e=="function"?Dge(e):void 0}function Jdt(e){return e?void 0:L4(function(){return{}})}const Xdt=[Ydt,Jdt];function Zdt(e,t,n){return $({},n,e,t)}function ept(e){return function(n,o){o.displayName;var s=o.pure,i=o.areMergedPropsEqual,c=!1,u;return function(p,m,f){var h=e(p,m,f);return c?(!s||!i(h,u))&&(u=h):(c=!0,u=h),u}}}function tpt(e){return typeof e=="function"?ept(e):void 0}function npt(e){return e?void 0:function(){return Zdt}}const rpt=[tpt,npt];var opt=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function spt(e,t,n,o){return function(i,c){return n(e(i,c),t(o,c),c)}}function apt(e,t,n,o,s){var i=s.areStatesEqual,c=s.areOwnPropsEqual,u=s.areStatePropsEqual,d=!1,p,m,f,h,g;function x(I,P){return p=I,m=P,f=e(p,m),h=t(o,m),g=n(f,h,m),d=!0,g}function y(){return f=e(p,m),t.dependsOnOwnProps&&(h=t(o,m)),g=n(f,h,m),g}function D(){return e.dependsOnOwnProps&&(f=e(p,m)),t.dependsOnOwnProps&&(h=t(o,m)),g=n(f,h,m),g}function v(){var I=e(p,m),P=!u(I,f);return f=I,P&&(g=n(f,h,m)),g}function T(I,P){var E=!c(P,m),k=!i(I,p,P,m);return p=I,m=P,E&&k?y():E?D():k?v():g}return function(P,E){return d?T(P,E):x(P,E)}}function ipt(e,t){var n=t.initMapStateToProps,o=t.initMapDispatchToProps,s=t.initMergeProps,i=It(t,opt),c=n(e,i),u=o(e,i),d=s(e,i),p=i.pure?apt:spt;return p(c,u,d,e,i)}var lpt=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function U_(e,t,n){for(var o=t.length-1;o>=0;o--){var s=t[o](e);if(s)return s}return function(i,c){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+c.wrappedComponentName+".")}}function cpt(e,t){return e===t}function upt(e){var t=e===void 0?{}:e,n=t.connectHOC,o=n===void 0?Vdt:n,s=t.mapStateToPropsFactories,i=s===void 0?Xdt:s,c=t.mapDispatchToPropsFactories,u=c===void 0?Qdt:c,d=t.mergePropsFactories,p=d===void 0?rpt:d,m=t.selectorFactory,f=m===void 0?ipt:m;return function(g,x,y,D){D===void 0&&(D={});var v=D,T=v.pure,I=T===void 0?!0:T,P=v.areStatesEqual,E=P===void 0?cpt:P,k=v.areOwnPropsEqual,w=k===void 0?W_:k,A=v.areStatePropsEqual,F=A===void 0?W_:A,_=v.areMergedPropsEqual,L=_===void 0?W_:_,K=It(v,lpt),z=U_(g,i,"mapStateToProps"),J=U_(x,u,"mapDispatchToProps"),Q=U_(y,p,"mergeProps");return o(f,$({methodName:"connect",getDisplayName:function(W){return"Connect("+W+")"},shouldHandleStateChanges:!!g,initMapStateToProps:z,initMapDispatchToProps:J,initMergeProps:Q,pure:I,areStatesEqual:E,areOwnPropsEqual:w,areStatePropsEqual:F,areMergedPropsEqual:L},K))}}const Sge=upt();Pdt(kb.unstable_batchedUpdates);function dpt(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function vge(e,t){var n=a.useState(function(){return{inputs:t,result:e()}})[0],o=a.useRef(!0),s=a.useRef(n),i=o.current||!!(t&&s.current.inputs&&dpt(t,s.current.inputs)),c=i?s.current:{inputs:t,result:e()};return a.useEffect(function(){o.current=!1,s.current=c},[c]),c.result}function ppt(e,t){return vge(function(){return e},t)}var Wo=vge,Fr=ppt,mpt="Invariant failed";function fpt(e,t){throw new Error(mpt)}var _d=function(t){var n=t.top,o=t.right,s=t.bottom,i=t.left,c=o-i,u=s-n,d={top:n,right:o,bottom:s,left:i,width:c,height:u,x:i,y:n,center:{x:(o+i)/2,y:(s+n)/2}};return d},$4=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},cae=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},hpt=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},q_={top:0,right:0,bottom:0,left:0},B4=function(t){var n=t.borderBox,o=t.margin,s=o===void 0?q_:o,i=t.border,c=i===void 0?q_:i,u=t.padding,d=u===void 0?q_:u,p=_d($4(n,s)),m=_d(cae(n,c)),f=_d(cae(m,d));return{marginBox:p,borderBox:_d(n),paddingBox:m,contentBox:f,margin:s,border:c,padding:d}},Wu=function(t){var n=t.slice(0,-2),o=t.slice(-2);if(o!=="px")return 0;var s=Number(n);return isNaN(s)&&fpt(),s},gpt=function(){return{x:window.pageXOffset,y:window.pageYOffset}},SR=function(t,n){var o=t.borderBox,s=t.border,i=t.margin,c=t.padding,u=hpt(o,n);return B4({borderBox:u,border:s,margin:i,padding:c})},vR=function(t,n){return n===void 0&&(n=gpt()),SR(t,n)},jge=function(t,n){var o={top:Wu(n.marginTop),right:Wu(n.marginRight),bottom:Wu(n.marginBottom),left:Wu(n.marginLeft)},s={top:Wu(n.paddingTop),right:Wu(n.paddingRight),bottom:Wu(n.paddingBottom),left:Wu(n.paddingLeft)},i={top:Wu(n.borderTopWidth),right:Wu(n.borderRightWidth),bottom:Wu(n.borderBottomWidth),left:Wu(n.borderLeftWidth)};return B4({borderBox:t,margin:o,padding:s,border:i})},Ige=function(t){var n=t.getBoundingClientRect(),o=window.getComputedStyle(t);return jge(n,o)},cT=function(t){var n=[],o=null,s=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];n=u,!o&&(o=requestAnimationFrame(function(){o=null,t.apply(void 0,n)}))};return s.cancel=function(){o&&(cancelAnimationFrame(o),o=null)},s};function Tge(e,t){}Tge.bind(null,"warn");Tge.bind(null,"error");function Rh(){}function bpt(e,t){return $({},e,{},t)}function Ku(e,t,n){var o=t.map(function(s){var i=bpt(n,s.options);return e.addEventListener(s.eventName,s.fn,i),function(){e.removeEventListener(s.eventName,s.fn,i)}});return function(){o.forEach(function(i){i()})}}var xpt="Invariant failed";function jR(e){this.message=e}jR.prototype.toString=function(){return this.message};function Vn(e,t){throw new jR(xpt)}var ypt=(function(e){CD(t,e);function t(){for(var o,s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return o=e.call.apply(e,[this].concat(i))||this,o.callbacks=null,o.unbind=Rh,o.onWindowError=function(u){var d=o.getCallbacks();d.isDragging()&&d.tryAbort();var p=u.error;p instanceof jR&&u.preventDefault()},o.getCallbacks=function(){if(!o.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return o.callbacks},o.setCallbacks=function(u){o.callbacks=u},o}var n=t.prototype;return n.componentDidMount=function(){this.unbind=Ku(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(s){if(s instanceof jR){this.setState({});return}throw s},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t})(Dn.Component),Cpt=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,IR=function(t){return t+1},Dpt=function(t){return`
  You have lifted an item in position `+IR(t.source.index)+`
`},Oge=function(t,n){var o=t.droppableId===n.droppableId,s=IR(t.index),i=IR(n.index);return o?`
      You have moved the item from position `+s+`
      to position `+i+`
    `:`
    You have moved the item from position `+s+`
    in list `+t.droppableId+`
    to list `+n.droppableId+`
    in position `+i+`
  `},Ege=function(t,n,o){var s=n.droppableId===o.droppableId;return s?`
      The item `+t+`
      has been combined with `+o.draggableId:`
      The item `+t+`
      in list `+n.droppableId+`
      has been combined with `+o.draggableId+`
      in list `+o.droppableId+`
    `},Spt=function(t){var n=t.destination;if(n)return Oge(t.source,n);var o=t.combine;return o?Ege(t.draggableId,t.source,o):"You are over an area that cannot be dropped on"},uae=function(t){return`
  The item has returned to its starting position
  of `+IR(t.index)+`
`},vpt=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+uae(t.source)+`
    `;var n=t.destination,o=t.combine;return n?`
      You have dropped the item.
      `+Oge(t.source,n)+`
    `:o?`
      You have dropped the item.
      `+Ege(t.draggableId,t.source,o)+`
    `:`
    The item has been dropped while not over a drop area.
    `+uae(t.source)+`
  `},LP={dragHandleUsageInstructions:Cpt,onDragStart:Dpt,onDragUpdate:Spt,onDragEnd:vpt},Oi={x:0,y:0},qi=function(t,n){return{x:t.x+n.x,y:t.y+n.y}},Vc=function(t,n){return{x:t.x-n.x,y:t.y-n.y}},wh=function(t,n){return t.x===n.x&&t.y===n.y},ED=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},Bb=function(t,n,o){var s;return o===void 0&&(o=0),s={},s[t]=n,s[t==="x"?"y":"x"]=o,s},uT=function(t,n){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))},dae=function(t,n){return Math.min.apply(Math,n.map(function(o){return uT(t,o)}))},Pge=function(t){return function(n){return{x:t(n.x),y:t(n.y)}}},jpt=(function(e,t){var n=_d({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}),QT=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},pae=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},Ipt={top:0,right:0,bottom:0,left:0},Tpt=function(t,n){return n?QT(t,n.scroll.diff.displacement):t},Opt=function(t,n,o){if(o&&o.increasedBy){var s;return $({},t,(s={},s[n.end]=t[n.end]+o.increasedBy[n.line],s))}return t},Ept=function(t,n){return n&&n.shouldClipSubject?jpt(n.pageMarginBox,t):_d(t)},RC=(function(e){var t=e.page,n=e.withPlaceholder,o=e.axis,s=e.frame,i=Tpt(t.marginBox,s),c=Opt(i,o,n),u=Ept(c,s);return{page:t,withPlaceholder:n,active:u}}),W4=(function(e,t){e.frame||Vn();var n=e.frame,o=Vc(t,n.scroll.initial),s=ED(o),i=$({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:o,displacement:s},max:n.scroll.max}}),c=RC({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i}),u=$({},e,{frame:i,subject:c});return u});function TR(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function U4(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function Jh(e,t){if(e.find)return e.find(t);var n=U4(e,t);if(n!==-1)return e[n]}function Rge(e){return Array.prototype.slice.call(e)}var wge=Ea(function(e){return e.reduce(function(t,n){return t[n.descriptor.id]=n,t},{})}),kge=Ea(function(e){return e.reduce(function(t,n){return t[n.descriptor.id]=n,t},{})}),Hw=Ea(function(e){return TR(e)}),Ppt=Ea(function(e){return TR(e)}),PD=Ea(function(e,t){var n=Ppt(t).filter(function(o){return e===o.descriptor.droppableId}).sort(function(o,s){return o.descriptor.index-s.descriptor.index});return n});function q4(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Gw(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Kw=Ea(function(e,t){return t.filter(function(n){return n.descriptor.id!==e.descriptor.id})}),Rpt=(function(e){var t=e.isMovingForward,n=e.draggable,o=e.destination,s=e.insideDestination,i=e.previousImpact;if(!o.isCombineEnabled)return null;var c=q4(i);if(!c)return null;function u(y){var D={type:"COMBINE",combine:{draggableId:y,droppableId:o.descriptor.id}};return $({},i,{at:D})}var d=i.displaced.all,p=d.length?d[0]:null;if(t)return p?u(p):null;var m=Kw(n,s);if(!p){if(!m.length)return null;var f=m[m.length-1];return u(f.descriptor.id)}var h=U4(m,function(y){return y.descriptor.id===p});h===-1&&Vn();var g=h-1;if(g<0)return null;var x=m[g];return u(x.descriptor.id)}),RD=(function(e,t){return e.descriptor.droppableId===t.descriptor.id}),Age={point:Oi,value:0},dT={invisible:{},visible:{},all:[]},wpt={displaced:dT,displacedBy:Age,at:null},Xu=(function(e,t){return function(n){return e<=n&&n<=t}}),Nge=(function(e){var t=Xu(e.top,e.bottom),n=Xu(e.left,e.right);return function(o){var s=t(o.top)&&t(o.bottom)&&n(o.left)&&n(o.right);if(s)return!0;var i=t(o.top)||t(o.bottom),c=n(o.left)||n(o.right),u=i&&c;if(u)return!0;var d=o.top<e.top&&o.bottom>e.bottom,p=o.left<e.left&&o.right>e.right,m=d&&p;if(m)return!0;var f=d&&c||p&&i;return f}}),kpt=(function(e){var t=Xu(e.top,e.bottom),n=Xu(e.left,e.right);return function(o){var s=t(o.top)&&t(o.bottom)&&n(o.left)&&n(o.right);return s}}),V4={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Fge={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Apt=(function(e){return function(t){var n=Xu(t.top,t.bottom),o=Xu(t.left,t.right);return function(s){return e===V4?n(s.top)&&n(s.bottom):o(s.left)&&o(s.right)}}}),Npt=function(t,n){var o=n.frame?n.frame.scroll.diff.displacement:Oi;return QT(t,o)},Fpt=function(t,n,o){return n.subject.active?o(n.subject.active)(t):!1},Mpt=function(t,n,o){return o(n)(t)},z4=function(t){var n=t.target,o=t.destination,s=t.viewport,i=t.withDroppableDisplacement,c=t.isVisibleThroughFrameFn,u=i?Npt(n,o):n;return Fpt(u,o,c)&&Mpt(u,s,c)},_pt=function(t){return z4($({},t,{isVisibleThroughFrameFn:Nge}))},Mge=function(t){return z4($({},t,{isVisibleThroughFrameFn:kpt}))},Lpt=function(t){return z4($({},t,{isVisibleThroughFrameFn:Apt(t.destination.axis)}))},$pt=function(t,n,o){if(typeof o=="boolean")return o;if(!n)return!0;var s=n.invisible,i=n.visible;if(s[t])return!1;var c=i[t];return c?c.shouldAnimate:!0};function Bpt(e,t){var n=e.page.marginBox,o={top:t.point.y,right:0,bottom:0,left:t.point.x};return _d($4(n,o))}function pT(e){var t=e.afterDragging,n=e.destination,o=e.displacedBy,s=e.viewport,i=e.forceShouldAnimate,c=e.last;return t.reduce(function(d,p){var m=Bpt(p,o),f=p.descriptor.id;d.all.push(f);var h=_pt({target:m,destination:n,viewport:s,withDroppableDisplacement:!0});if(!h)return d.invisible[p.descriptor.id]=!0,d;var g=$pt(f,c,i),x={draggableId:f,shouldAnimate:g};return d.visible[f]=x,d},{all:[],visible:{},invisible:{}})}function Wpt(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function mae(e){var t=e.insideDestination,n=e.inHomeList,o=e.displacedBy,s=e.destination,i=Wpt(t,{inHomeList:n});return{displaced:dT,displacedBy:o,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:i}}}}function OR(e){var t=e.draggable,n=e.insideDestination,o=e.destination,s=e.viewport,i=e.displacedBy,c=e.last,u=e.index,d=e.forceShouldAnimate,p=RD(t,o);if(u==null)return mae({insideDestination:n,inHomeList:p,displacedBy:i,destination:o});var m=Jh(n,function(y){return y.descriptor.index===u});if(!m)return mae({insideDestination:n,inHomeList:p,displacedBy:i,destination:o});var f=Kw(t,n),h=n.indexOf(m),g=f.slice(h),x=pT({afterDragging:g,destination:o,displacedBy:i,last:c,viewport:s.frame,forceShouldAnimate:d});return{displaced:x,displacedBy:i,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:u}}}}function Bh(e,t){return!!t.effected[e]}var Upt=(function(e){var t=e.isMovingForward,n=e.destination,o=e.draggables,s=e.combine,i=e.afterCritical;if(!n.isCombineEnabled)return null;var c=s.draggableId,u=o[c],d=u.descriptor.index,p=Bh(c,i);return p?t?d:d-1:t?d+1:d}),qpt=(function(e){var t=e.isMovingForward,n=e.isInHomeList,o=e.insideDestination,s=e.location;if(!o.length)return null;var i=s.index,c=t?i+1:i-1,u=o[0].descriptor.index,d=o[o.length-1].descriptor.index,p=n?d:d+1;return c<u||c>p?null:c}),Vpt=(function(e){var t=e.isMovingForward,n=e.isInHomeList,o=e.draggable,s=e.draggables,i=e.destination,c=e.insideDestination,u=e.previousImpact,d=e.viewport,p=e.afterCritical,m=u.at;if(m||Vn(),m.type==="REORDER"){var f=qpt({isMovingForward:t,isInHomeList:n,location:m.destination,insideDestination:c});return f==null?null:OR({draggable:o,insideDestination:c,destination:i,viewport:d,last:u.displaced,displacedBy:u.displacedBy,index:f})}var h=Upt({isMovingForward:t,destination:i,displaced:u.displaced,draggables:s,combine:m.combine,afterCritical:p});return h==null?null:OR({draggable:o,insideDestination:c,destination:i,viewport:d,last:u.displaced,displacedBy:u.displacedBy,index:h})}),zpt=(function(e){var t=e.displaced,n=e.afterCritical,o=e.combineWith,s=e.displacedBy,i=!!(t.visible[o]||t.invisible[o]);return Bh(o,n)?i?Oi:ED(s.point):i?s.point:Oi}),Hpt=(function(e){var t=e.afterCritical,n=e.impact,o=e.draggables,s=Gw(n);s||Vn();var i=s.draggableId,c=o[i].page.borderBox.center,u=zpt({displaced:n.displaced,afterCritical:t,combineWith:i,displacedBy:n.displacedBy});return qi(c,u)}),_ge=function(t,n){return n.margin[t.start]+n.borderBox[t.size]/2},Gpt=function(t,n){return n.margin[t.end]+n.borderBox[t.size]/2},H4=function(t,n,o){return n[t.crossAxisStart]+o.margin[t.crossAxisStart]+o.borderBox[t.crossAxisSize]/2},fae=function(t){var n=t.axis,o=t.moveRelativeTo,s=t.isMoving;return Bb(n.line,o.marginBox[n.end]+_ge(n,s),H4(n,o.marginBox,s))},hae=function(t){var n=t.axis,o=t.moveRelativeTo,s=t.isMoving;return Bb(n.line,o.marginBox[n.start]-Gpt(n,s),H4(n,o.marginBox,s))},Kpt=function(t){var n=t.axis,o=t.moveInto,s=t.isMoving;return Bb(n.line,o.contentBox[n.start]+_ge(n,s),H4(n,o.contentBox,s))},Qpt=(function(e){var t=e.impact,n=e.draggable,o=e.draggables,s=e.droppable,i=e.afterCritical,c=PD(s.descriptor.id,o),u=n.page,d=s.axis;if(!c.length)return Kpt({axis:d,moveInto:s.page,isMoving:u});var p=t.displaced,m=t.displacedBy,f=p.all[0];if(f){var h=o[f];if(Bh(f,i))return hae({axis:d,moveRelativeTo:h.page,isMoving:u});var g=SR(h.page,m.point);return hae({axis:d,moveRelativeTo:g,isMoving:u})}var x=c[c.length-1];if(x.descriptor.id===n.descriptor.id)return u.borderBox.center;if(Bh(x.descriptor.id,i)){var y=SR(x.page,ED(i.displacedBy.point));return fae({axis:d,moveRelativeTo:y,isMoving:u})}return fae({axis:d,moveRelativeTo:x.page,isMoving:u})}),P$=(function(e,t){var n=e.frame;return n?qi(t,n.scroll.diff.displacement):t}),Ypt=function(t){var n=t.impact,o=t.draggable,s=t.droppable,i=t.draggables,c=t.afterCritical,u=o.page.borderBox.center,d=n.at;return!s||!d?u:d.type==="REORDER"?Qpt({impact:n,draggable:o,draggables:i,droppable:s,afterCritical:c}):Hpt({impact:n,draggables:i,afterCritical:c})},Qw=(function(e){var t=Ypt(e),n=e.droppable,o=n?P$(n,t):t;return o}),Lge=(function(e,t){var n=Vc(t,e.scroll.initial),o=ED(n),s=_d({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),i={frame:s,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:o}}};return i});function gae(e,t){return e.map(function(n){return t[n]})}function Jpt(e,t){for(var n=0;n<t.length;n++){var o=t[n].visible[e];if(o)return o}return null}var Xpt=(function(e){var t=e.impact,n=e.viewport,o=e.destination,s=e.draggables,i=e.maxScrollChange,c=Lge(n,qi(n.scroll.current,i)),u=o.frame?W4(o,qi(o.frame.scroll.current,i)):o,d=t.displaced,p=pT({afterDragging:gae(d.all,s),destination:o,displacedBy:t.displacedBy,viewport:c.frame,last:d,forceShouldAnimate:!1}),m=pT({afterDragging:gae(d.all,s),destination:u,displacedBy:t.displacedBy,viewport:n.frame,last:d,forceShouldAnimate:!1}),f={},h={},g=[d,p,m];d.all.forEach(function(y){var D=Jpt(y,g);if(D){h[y]=D;return}f[y]=!0});var x=$({},t,{displaced:{all:d.all,invisible:f,visible:h}});return x}),Zpt=(function(e,t){return qi(e.scroll.diff.displacement,t)}),G4=(function(e){var t=e.pageBorderBoxCenter,n=e.draggable,o=e.viewport,s=Zpt(o,t),i=Vc(s,n.page.borderBox.center);return qi(n.client.borderBox.center,i)}),$ge=(function(e){var t=e.draggable,n=e.destination,o=e.newPageBorderBoxCenter,s=e.viewport,i=e.withDroppableDisplacement,c=e.onlyOnMainAxis,u=c===void 0?!1:c,d=Vc(o,t.page.borderBox.center),p=QT(t.page.borderBox,d),m={target:p,destination:n,withDroppableDisplacement:i,viewport:s};return u?Lpt(m):Mge(m)}),emt=(function(e){var t=e.isMovingForward,n=e.draggable,o=e.destination,s=e.draggables,i=e.previousImpact,c=e.viewport,u=e.previousPageBorderBoxCenter,d=e.previousClientSelection,p=e.afterCritical;if(!o.isEnabled)return null;var m=PD(o.descriptor.id,s),f=RD(n,o),h=Rpt({isMovingForward:t,draggable:n,destination:o,insideDestination:m,previousImpact:i})||Vpt({isMovingForward:t,isInHomeList:f,draggable:n,draggables:s,destination:o,insideDestination:m,previousImpact:i,viewport:c,afterCritical:p});if(!h)return null;var g=Qw({impact:h,draggable:n,droppable:o,draggables:s,afterCritical:p}),x=$ge({draggable:n,destination:o,newPageBorderBoxCenter:g,viewport:c.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(x){var y=G4({pageBorderBoxCenter:g,draggable:n,viewport:c});return{clientSelection:y,impact:h,scrollJumpRequest:null}}var D=Vc(g,u),v=Xpt({impact:h,viewport:c,destination:o,draggables:s,maxScrollChange:D});return{clientSelection:d,impact:v,scrollJumpRequest:D}}),yl=function(t){var n=t.subject.active;return n||Vn(),n},tmt=(function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,o=e.source,s=e.droppables,i=e.viewport,c=o.subject.active;if(!c)return null;var u=o.axis,d=Xu(c[u.start],c[u.end]),p=Hw(s).filter(function(f){return f!==o}).filter(function(f){return f.isEnabled}).filter(function(f){return!!f.subject.active}).filter(function(f){return Nge(i.frame)(yl(f))}).filter(function(f){var h=yl(f);return t?c[u.crossAxisEnd]<h[u.crossAxisEnd]:h[u.crossAxisStart]<c[u.crossAxisStart]}).filter(function(f){var h=yl(f),g=Xu(h[u.start],h[u.end]);return d(h[u.start])||d(h[u.end])||g(c[u.start])||g(c[u.end])}).sort(function(f,h){var g=yl(f)[u.crossAxisStart],x=yl(h)[u.crossAxisStart];return t?g-x:x-g}).filter(function(f,h,g){return yl(f)[u.crossAxisStart]===yl(g[0])[u.crossAxisStart]});if(!p.length)return null;if(p.length===1)return p[0];var m=p.filter(function(f){var h=Xu(yl(f)[u.start],yl(f)[u.end]);return h(n[u.line])});return m.length===1?m[0]:m.length>1?m.sort(function(f,h){return yl(f)[u.start]-yl(h)[u.start]})[0]:p.sort(function(f,h){var g=dae(n,pae(yl(f))),x=dae(n,pae(yl(h)));return g!==x?g-x:yl(f)[u.start]-yl(h)[u.start]})[0]}),bae=function(t,n){var o=t.page.borderBox.center;return Bh(t.descriptor.id,n)?Vc(o,n.displacedBy.point):o},nmt=function(t,n){var o=t.page.borderBox;return Bh(t.descriptor.id,n)?QT(o,ED(n.displacedBy.point)):o},rmt=(function(e){var t=e.pageBorderBoxCenter,n=e.viewport,o=e.destination,s=e.insideDestination,i=e.afterCritical,c=s.filter(function(u){return Mge({target:nmt(u,i),destination:o,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(u,d){var p=uT(t,P$(o,bae(u,i))),m=uT(t,P$(o,bae(d,i)));return p<m?-1:m<p?1:u.descriptor.index-d.descriptor.index});return c[0]||null}),YT=Ea(function(t,n){var o=n[t.line];return{value:o,point:Bb(t.line,o)}}),omt=function(t,n,o){var s=t.axis;if(t.descriptor.mode==="virtual")return Bb(s.line,n[s.line]);var i=t.subject.page.contentBox[s.size],c=PD(t.descriptor.id,o),u=c.reduce(function(m,f){return m+f.client.marginBox[s.size]},0),d=u+n[s.line],p=d-i;return p<=0?null:Bb(s.line,p)},Bge=function(t,n){return $({},t,{scroll:$({},t.scroll,{max:n})})},Wge=function(t,n,o){var s=t.frame;RD(n,t)&&Vn(),t.subject.withPlaceholder&&Vn();var i=YT(t.axis,n.displaceBy).point,c=omt(t,i,o),u={placeholderSize:i,increasedBy:c,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!s){var d=RC({page:t.subject.page,withPlaceholder:u,axis:t.axis,frame:t.frame});return $({},t,{subject:d})}var p=c?qi(s.scroll.max,c):s.scroll.max,m=Bge(s,p),f=RC({page:t.subject.page,withPlaceholder:u,axis:t.axis,frame:m});return $({},t,{subject:f,frame:m})},smt=function(t){var n=t.subject.withPlaceholder;n||Vn();var o=t.frame;if(!o){var s=RC({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return $({},t,{subject:s})}var i=n.oldFrameMaxScroll;i||Vn();var c=Bge(o,i),u=RC({page:t.subject.page,axis:t.axis,frame:c,withPlaceholder:null});return $({},t,{subject:u,frame:c})},amt=(function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,o=e.insideDestination,s=e.draggable,i=e.draggables,c=e.destination,u=e.viewport,d=e.afterCritical;if(!n){if(o.length)return null;var p={displaced:dT,displacedBy:Age,at:{type:"REORDER",destination:{droppableId:c.descriptor.id,index:0}}},m=Qw({impact:p,draggable:s,droppable:c,draggables:i,afterCritical:d}),f=RD(s,c)?c:Wge(c,s,i),h=$ge({draggable:s,destination:f,newPageBorderBoxCenter:m,viewport:u.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return h?p:null}var g=t[c.axis.line]<=n.page.borderBox.center[c.axis.line],x=(function(){var D=n.descriptor.index;return n.descriptor.id===s.descriptor.id||g?D:D+1})(),y=YT(c.axis,s.displaceBy);return OR({draggable:s,insideDestination:o,destination:c,viewport:u,displacedBy:y,last:dT,index:x})}),imt=(function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,o=e.draggable,s=e.isOver,i=e.draggables,c=e.droppables,u=e.viewport,d=e.afterCritical,p=tmt({isMovingForward:t,pageBorderBoxCenter:n,source:s,droppables:c,viewport:u});if(!p)return null;var m=PD(p.descriptor.id,i),f=rmt({pageBorderBoxCenter:n,viewport:u,destination:p,insideDestination:m,afterCritical:d}),h=amt({previousPageBorderBoxCenter:n,destination:p,draggable:o,draggables:i,moveRelativeTo:f,insideDestination:m,viewport:u,afterCritical:d});if(!h)return null;var g=Qw({impact:h,draggable:o,droppable:p,draggables:i,afterCritical:d}),x=G4({pageBorderBoxCenter:g,draggable:o,viewport:u});return{clientSelection:x,impact:h,scrollJumpRequest:null}}),Kc=(function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null}),lmt=function(t,n){var o=Kc(t);return o?n[o]:null},cmt=(function(e){var t=e.state,n=e.type,o=lmt(t.impact,t.dimensions.droppables),s=!!o,i=t.dimensions.droppables[t.critical.droppable.id],c=o||i,u=c.axis.direction,d=u==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||u==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(d&&!s)return null;var p=n==="MOVE_DOWN"||n==="MOVE_RIGHT",m=t.dimensions.draggables[t.critical.draggable.id],f=t.current.page.borderBoxCenter,h=t.dimensions,g=h.draggables,x=h.droppables;return d?emt({isMovingForward:p,previousPageBorderBoxCenter:f,draggable:m,destination:c,draggables:g,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):imt({isMovingForward:p,previousPageBorderBoxCenter:f,draggable:m,isOver:c,draggables:g,droppables:x,viewport:t.viewport,afterCritical:t.afterCritical})});function ob(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function Uge(e){var t=Xu(e.top,e.bottom),n=Xu(e.left,e.right);return function(s){return t(s.y)&&n(s.x)}}function umt(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function dmt(e){var t=e.pageBorderBox,n=e.draggable,o=e.candidates,s=n.page.borderBox.center,i=o.map(function(c){var u=c.axis,d=Bb(c.axis.line,t.center[u.line],c.page.borderBox.center[u.crossAxisLine]);return{id:c.descriptor.id,distance:uT(s,d)}}).sort(function(c,u){return u.distance-c.distance});return i[0]?i[0].id:null}function pmt(e){var t=e.pageBorderBox,n=e.draggable,o=e.droppables,s=Hw(o).filter(function(i){if(!i.isEnabled)return!1;var c=i.subject.active;if(!c||!umt(t,c))return!1;if(Uge(c)(t.center))return!0;var u=i.axis,d=c.center[u.crossAxisLine],p=t[u.crossAxisStart],m=t[u.crossAxisEnd],f=Xu(c[u.crossAxisStart],c[u.crossAxisEnd]),h=f(p),g=f(m);return!h&&!g?!0:h?p<d:m>d});return s.length?s.length===1?s[0].descriptor.id:dmt({pageBorderBox:t,draggable:n,candidates:s}):null}var qge=function(t,n){return _d(QT(t,n))},mmt=(function(e,t){var n=e.frame;return n?qge(t,n.scroll.diff.value):t});function Vge(e){var t=e.displaced,n=e.id;return!!(t.visible[n]||t.invisible[n])}function fmt(e){var t=e.draggable,n=e.closest,o=e.inHomeList;return n?o&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var hmt=(function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,o=e.destination,s=e.insideDestination,i=e.last,c=e.viewport,u=e.afterCritical,d=o.axis,p=YT(o.axis,n.displaceBy),m=p.value,f=t[d.start],h=t[d.end],g=Kw(n,s),x=Jh(g,function(D){var v=D.descriptor.id,T=D.page.borderBox.center[d.line],I=Bh(v,u),P=Vge({displaced:i,id:v});return I?P?h<=T:f<T-m:P?h<=T+m:f<T}),y=fmt({draggable:n,closest:x,inHomeList:RD(n,o)});return OR({draggable:n,insideDestination:s,destination:o,viewport:c,last:i,displacedBy:p,index:y})}),gmt=4,bmt=(function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,o=e.previousImpact,s=e.destination,i=e.insideDestination,c=e.afterCritical;if(!s.isCombineEnabled)return null;var u=s.axis,d=YT(s.axis,t.displaceBy),p=d.value,m=n[u.start],f=n[u.end],h=Kw(t,i),g=Jh(h,function(y){var D=y.descriptor.id,v=y.page.borderBox,T=v[u.size],I=T/gmt,P=Bh(D,c),E=Vge({displaced:o.displaced,id:D});return P?E?f>v[u.start]+I&&f<v[u.end]-I:m>v[u.start]-p+I&&m<v[u.end]-p-I:E?f>v[u.start]+p+I&&f<v[u.end]+p-I:m>v[u.start]+I&&m<v[u.end]-I});if(!g)return null;var x={displacedBy:d,displaced:o.displaced,at:{type:"COMBINE",combine:{draggableId:g.descriptor.id,droppableId:s.descriptor.id}}};return x}),zge=(function(e){var t=e.pageOffset,n=e.draggable,o=e.draggables,s=e.droppables,i=e.previousImpact,c=e.viewport,u=e.afterCritical,d=qge(n.page.borderBox,t),p=pmt({pageBorderBox:d,draggable:n,droppables:s});if(!p)return wpt;var m=s[p],f=PD(m.descriptor.id,o),h=mmt(m,d);return bmt({pageBorderBoxWithDroppableScroll:h,draggable:n,previousImpact:i,destination:m,insideDestination:f,afterCritical:u})||hmt({pageBorderBoxWithDroppableScroll:h,draggable:n,destination:m,insideDestination:f,last:i.displaced,viewport:c,afterCritical:u})}),K4=(function(e,t){var n;return $({},e,(n={},n[t.descriptor.id]=t,n))}),xmt=function(t){var n=t.previousImpact,o=t.impact,s=t.droppables,i=Kc(n),c=Kc(o);if(!i||i===c)return s;var u=s[i];if(!u.subject.withPlaceholder)return s;var d=smt(u);return K4(s,d)},ymt=(function(e){var t=e.draggable,n=e.draggables,o=e.droppables,s=e.previousImpact,i=e.impact,c=xmt({previousImpact:s,impact:i,droppables:o}),u=Kc(i);if(!u)return c;var d=o[u];if(RD(t,d)||d.subject.withPlaceholder)return c;var p=Wge(d,t,n);return K4(c,p)}),OI=(function(e){var t=e.state,n=e.clientSelection,o=e.dimensions,s=e.viewport,i=e.impact,c=e.scrollJumpRequest,u=s||t.viewport,d=o||t.dimensions,p=n||t.current.client.selection,m=Vc(p,t.initial.client.selection),f={offset:m,selection:p,borderBoxCenter:qi(t.initial.client.borderBoxCenter,m)},h={selection:qi(f.selection,u.scroll.current),borderBoxCenter:qi(f.borderBoxCenter,u.scroll.current),offset:qi(f.offset,u.scroll.diff.value)},g={client:f,page:h};if(t.phase==="COLLECTING")return $({phase:"COLLECTING"},t,{dimensions:d,viewport:u,current:g});var x=d.draggables[t.critical.draggable.id],y=i||zge({pageOffset:h.offset,draggable:x,draggables:d.draggables,droppables:d.droppables,previousImpact:t.impact,viewport:u,afterCritical:t.afterCritical}),D=ymt({draggable:x,impact:y,previousImpact:t.impact,draggables:d.draggables,droppables:d.droppables}),v=$({},t,{current:g,dimensions:{draggables:d.draggables,droppables:D},impact:y,viewport:u,scrollJumpRequest:c||null,forceShouldAnimate:c?!1:null});return v});function Cmt(e,t){return e.map(function(n){return t[n]})}var Hge=(function(e){var t=e.impact,n=e.viewport,o=e.draggables,s=e.destination,i=e.forceShouldAnimate,c=t.displaced,u=Cmt(c.all,o),d=pT({afterDragging:u,destination:s,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:i,last:c});return $({},t,{displaced:d})}),Gge=(function(e){var t=e.impact,n=e.draggable,o=e.droppable,s=e.draggables,i=e.viewport,c=e.afterCritical,u=Qw({impact:t,draggable:n,draggables:s,droppable:o,afterCritical:c});return G4({pageBorderBoxCenter:u,draggable:n,viewport:i})}),Kge=(function(e){var t=e.state,n=e.dimensions,o=e.viewport;t.movementMode!=="SNAP"&&Vn();var s=t.impact,i=o||t.viewport,c=n||t.dimensions,u=c.draggables,d=c.droppables,p=u[t.critical.draggable.id],m=Kc(s);m||Vn();var f=d[m],h=Hge({impact:s,viewport:i,destination:f,draggables:u}),g=Gge({impact:h,draggable:p,droppable:f,draggables:u,viewport:i,afterCritical:t.afterCritical});return OI({impact:h,clientSelection:g,state:t,dimensions:c,viewport:i})}),Dmt=(function(e){return{index:e.index,droppableId:e.droppableId}}),Qge=(function(e){var t=e.draggable,n=e.home,o=e.draggables,s=e.viewport,i=YT(n.axis,t.displaceBy),c=PD(n.descriptor.id,o),u=c.indexOf(t);u===-1&&Vn();var d=c.slice(u+1),p=d.reduce(function(g,x){return g[x.descriptor.id]=!0,g},{}),m={inVirtualList:n.descriptor.mode==="virtual",displacedBy:i,effected:p},f=pT({afterDragging:d,destination:n,displacedBy:i,last:null,viewport:s.frame,forceShouldAnimate:!1}),h={displaced:f,displacedBy:i,at:{type:"REORDER",destination:Dmt(t.descriptor)}};return{impact:h,afterCritical:m}}),Smt=(function(e,t){return{draggables:e.draggables,droppables:K4(e.droppables,t)}}),vmt=(function(e){var t=e.draggable,n=e.offset,o=e.initialWindowScroll,s=SR(t.client,n),i=vR(s,o),c=$({},t,{placeholder:$({},t.placeholder,{client:s}),client:s,page:i});return c}),jmt=(function(e){var t=e.frame;return t||Vn(),t}),Imt=(function(e){var t=e.additions,n=e.updatedDroppables,o=e.viewport,s=o.scroll.diff.value;return t.map(function(i){var c=i.descriptor.droppableId,u=n[c],d=jmt(u),p=d.scroll.diff.value,m=qi(s,p),f=vmt({draggable:i,offset:m,initialWindowScroll:o.scroll.initial});return f})}),Tmt=(function(e){var t=e.state,n=e.published,o=n.modified.map(function(I){var P=t.dimensions.droppables[I.droppableId],E=W4(P,I.scroll);return E}),s=$({},t.dimensions.droppables,{},wge(o)),i=kge(Imt({additions:n.additions,updatedDroppables:s,viewport:t.viewport})),c=$({},t.dimensions.draggables,{},i);n.removals.forEach(function(I){delete c[I]});var u={droppables:s,draggables:c},d=Kc(t.impact),p=d?u.droppables[d]:null,m=u.draggables[t.critical.draggable.id],f=u.droppables[t.critical.droppable.id],h=Qge({draggable:m,home:f,draggables:c,viewport:t.viewport}),g=h.impact,x=h.afterCritical,y=p&&p.isCombineEnabled?t.impact:g,D=zge({pageOffset:t.current.page.offset,draggable:u.draggables[t.critical.draggable.id],draggables:u.draggables,droppables:u.droppables,previousImpact:y,viewport:t.viewport,afterCritical:x}),v=$({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:D,onLiftImpact:g,dimensions:u,afterCritical:x,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return v;var T=$({phase:"DROP_PENDING"},v,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return T}),R$=function(t){return t.movementMode==="SNAP"},V_=function(t,n,o){var s=Smt(t.dimensions,n);return!R$(t)||o?OI({state:t,dimensions:s}):Kge({state:t,dimensions:s})};function z_(e){return e.isDragging&&e.movementMode==="SNAP"?$({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var xae={phase:"IDLE",completed:null,shouldFlush:!1},Omt=(function(e,t){if(e===void 0&&(e=xae),t.type==="FLUSH")return $({},xae,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Vn();var n=t.payload,o=n.critical,s=n.clientSelection,i=n.viewport,c=n.dimensions,u=n.movementMode,d=c.draggables[o.draggable.id],p=c.droppables[o.droppable.id],m={selection:s,borderBoxCenter:d.client.borderBox.center,offset:Oi},f={client:m,page:{selection:qi(m.selection,i.scroll.initial),borderBoxCenter:qi(m.selection,i.scroll.initial),offset:qi(m.selection,i.scroll.diff.value)}},h=Hw(c.droppables).every(function(de){return!de.isFixedOnPage}),g=Qge({draggable:d,home:p,draggables:c.draggables,viewport:i}),x=g.impact,y=g.afterCritical,D={phase:"DRAGGING",isDragging:!0,critical:o,movementMode:u,dimensions:c,initial:f,current:f,isWindowScrollAllowed:h,impact:x,afterCritical:y,onLiftImpact:x,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null};return D}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Vn();var v=$({phase:"COLLECTING"},e,{phase:"COLLECTING"});return v}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Vn(),Tmt({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;ob(e)||Vn();var T=t.payload.client;return wh(T,e.current.client.selection)?e:OI({state:e,clientSelection:T,impact:R$(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return z_(e);ob(e)||Vn();var I=t.payload,P=I.id,E=I.newScroll,k=e.dimensions.droppables[P];if(!k)return e;var w=W4(k,E);return V_(e,w,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;ob(e)||Vn();var A=t.payload,F=A.id,_=A.isEnabled,L=e.dimensions.droppables[F];L||Vn(),L.isEnabled===_&&Vn();var K=$({},L,{isEnabled:_});return V_(e,K,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;ob(e)||Vn();var z=t.payload,J=z.id,Q=z.isCombineEnabled,V=e.dimensions.droppables[J];V||Vn(),V.isCombineEnabled===Q&&Vn();var W=$({},V,{isCombineEnabled:Q});return V_(e,W,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;ob(e)||Vn(),e.isWindowScrollAllowed||Vn();var U=t.payload.newScroll;if(wh(e.viewport.scroll.current,U))return z_(e);var X=Lge(e.viewport,U);return R$(e)?Kge({state:e,viewport:X}):OI({state:e,viewport:X})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!ob(e))return e;var te=t.payload.maxScroll;if(wh(te,e.viewport.scroll.max))return e;var se=$({},e.viewport,{scroll:$({},e.viewport.scroll,{max:te})});return $({phase:"DRAGGING"},e,{viewport:se})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Vn();var he=cmt({state:e,type:t.type});return he?OI({state:e,impact:he.impact,clientSelection:he.clientSelection,scrollJumpRequest:he.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var pe=t.payload.reason;e.phase!=="COLLECTING"&&Vn();var ue=$({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:pe});return ue}if(t.type==="DROP_ANIMATE"){var ge=t.payload,Ce=ge.completed,Te=ge.dropDuration,Ne=ge.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Vn();var xe={phase:"DROP_ANIMATING",completed:Ce,dropDuration:Te,newHomeClientOffset:Ne,dimensions:e.dimensions};return xe}if(t.type==="DROP_COMPLETE"){var me=t.payload.completed;return{phase:"IDLE",completed:me,shouldFlush:!1}}return e}),Emt=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},Pmt=function(t){return{type:"LIFT",payload:t}},Rmt=function(t){return{type:"INITIAL_PUBLISH",payload:t}},wmt=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},kmt=function(){return{type:"COLLECTION_STARTING",payload:null}},Amt=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},Nmt=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},Fmt=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},Yge=function(t){return{type:"MOVE",payload:t}},Mmt=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},_mt=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},Lmt=function(){return{type:"MOVE_UP",payload:null}},$mt=function(){return{type:"MOVE_DOWN",payload:null}},Bmt=function(){return{type:"MOVE_RIGHT",payload:null}},Wmt=function(){return{type:"MOVE_LEFT",payload:null}},Q4=function(){return{type:"FLUSH",payload:null}},Umt=function(t){return{type:"DROP_ANIMATE",payload:t}},Y4=function(t){return{type:"DROP_COMPLETE",payload:t}},Jge=function(t){return{type:"DROP",payload:t}},qmt=function(t){return{type:"DROP_PENDING",payload:t}},Xge=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},Vmt=(function(e){return function(t){var n=t.getState,o=t.dispatch;return function(s){return function(i){if(i.type!=="LIFT"){s(i);return}var c=i.payload,u=c.id,d=c.clientSelection,p=c.movementMode,m=n();m.phase==="DROP_ANIMATING"&&o(Y4({completed:m.completed})),n().phase!=="IDLE"&&Vn(),o(Q4()),o(Emt({draggableId:u,movementMode:p}));var f={shouldPublishImmediately:p==="SNAP"},h={draggableId:u,scrollOptions:f},g=e.startPublishing(h),x=g.critical,y=g.dimensions,D=g.viewport;o(Rmt({critical:x,dimensions:y,clientSelection:d,movementMode:p,viewport:D}))}}}}),zmt=(function(e){return function(){return function(t){return function(n){n.type==="INITIAL_PUBLISH"&&e.dragging(),n.type==="DROP_ANIMATE"&&e.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&e.resting(),t(n)}}}}),J4={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},mT={opacity:{drop:0,combining:.7},scale:{drop:.75}},X4={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Hg=X4.outOfTheWay+"s "+J4.outOfTheWay,EI={fluid:"opacity "+Hg,snap:"transform "+Hg+", opacity "+Hg,drop:function(t){var n=t+"s "+J4.drop;return"transform "+n+", opacity "+n},outOfTheWay:"transform "+Hg,placeholder:"height "+Hg+", width "+Hg+", margin "+Hg},yae=function(t){return wh(t,Oi)?null:"translate("+t.x+"px, "+t.y+"px)"},w$={moveTo:yae,drop:function(t,n){var o=yae(t);return o?n?o+" scale("+mT.scale.drop+")":o:null}},k$=X4.minDropTime,Zge=X4.maxDropTime,Hmt=Zge-k$,Cae=1500,Gmt=.6,Kmt=(function(e){var t=e.current,n=e.destination,o=e.reason,s=uT(t,n);if(s<=0)return k$;if(s>=Cae)return Zge;var i=s/Cae,c=k$+Hmt*i,u=o==="CANCEL"?c*Gmt:c;return Number(u.toFixed(2))}),Qmt=(function(e){var t=e.impact,n=e.draggable,o=e.dimensions,s=e.viewport,i=e.afterCritical,c=o.draggables,u=o.droppables,d=Kc(t),p=d?u[d]:null,m=u[n.descriptor.droppableId],f=Gge({impact:t,draggable:n,draggables:c,afterCritical:i,droppable:p||m,viewport:s}),h=Vc(f,n.client.borderBox.center);return h}),Ymt=(function(e){var t=e.draggables,n=e.reason,o=e.lastImpact,s=e.home,i=e.viewport,c=e.onLiftImpact;if(!o.at||n!=="DROP"){var u=Hge({draggables:t,impact:c,destination:s,viewport:i,forceShouldAnimate:!0});return{impact:u,didDropInsideDroppable:!1}}if(o.at.type==="REORDER")return{impact:o,didDropInsideDroppable:!0};var d=$({},o,{displaced:dT});return{impact:d,didDropInsideDroppable:!0}}),Jmt=(function(e){var t=e.getState,n=e.dispatch;return function(o){return function(s){if(s.type!=="DROP"){o(s);return}var i=t(),c=s.payload.reason;if(i.phase==="COLLECTING"){n(qmt({reason:c}));return}if(i.phase!=="IDLE"){var u=i.phase==="DROP_PENDING"&&i.isWaiting;u&&Vn(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||Vn();var d=i.critical,p=i.dimensions,m=p.draggables[i.critical.draggable.id],f=Ymt({reason:c,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),h=f.impact,g=f.didDropInsideDroppable,x=g?q4(h):null,y=g?Gw(h):null,D={index:d.draggable.index,droppableId:d.droppable.id},v={draggableId:m.descriptor.id,type:m.descriptor.type,source:D,reason:c,mode:i.movementMode,destination:x,combine:y},T=Qmt({impact:h,draggable:m,dimensions:p,viewport:i.viewport,afterCritical:i.afterCritical}),I={critical:i.critical,afterCritical:i.afterCritical,result:v,impact:h},P=!wh(i.current.client.offset,T)||!!v.combine;if(!P){n(Y4({completed:I}));return}var E=Kmt({current:i.current.client.offset,destination:T,reason:c}),k={newHomeClientOffset:T,dropDuration:E,completed:I};n(Umt(k))}}}}),ebe=(function(){return{x:window.pageXOffset,y:window.pageYOffset}});function Xmt(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(n){n.target!==window&&n.target!==window.document||e()}}}function Zmt(e){var t=e.onWindowScroll;function n(){t(ebe())}var o=cT(n),s=Xmt(o),i=Rh;function c(){return i!==Rh}function u(){c()&&Vn(),i=Ku(window,[s])}function d(){c()||Vn(),o.cancel(),i(),i=Rh}return{start:u,stop:d,isActive:c}}var eft=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},tft=(function(e){var t=Zmt({onWindowScroll:function(o){e.dispatch(Mmt({newScroll:o}))}});return function(n){return function(o){!t.isActive()&&o.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&eft(o)&&t.stop(),n(o)}}}),nft=(function(e){var t=!1,n=!1,o=setTimeout(function(){n=!0}),s=function(c){t||n||(t=!0,e(c),clearTimeout(o))};return s.wasCalled=function(){return t},s}),rft=(function(){var e=[],t=function(i){var c=U4(e,function(p){return p.timerId===i});c===-1&&Vn();var u=e.splice(c,1),d=u[0];d.callback()},n=function(i){var c=setTimeout(function(){return t(c)}),u={timerId:c,callback:i};e.push(u)},o=function(){if(e.length){var i=[].concat(e);e.length=0,i.forEach(function(c){clearTimeout(c.timerId),c.callback()})}};return{add:n,flush:o}}),oft=function(t,n){return t==null&&n==null?!0:t==null||n==null?!1:t.droppableId===n.droppableId&&t.index===n.index},sft=function(t,n){return t==null&&n==null?!0:t==null||n==null?!1:t.draggableId===n.draggableId&&t.droppableId===n.droppableId},aft=function(t,n){if(t===n)return!0;var o=t.draggable.id===n.draggable.id&&t.draggable.droppableId===n.draggable.droppableId&&t.draggable.type===n.draggable.type&&t.draggable.index===n.draggable.index,s=t.droppable.id===n.droppable.id&&t.droppable.type===n.droppable.type;return o&&s},H0=function(t,n){n()},iP=function(t,n){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:n}},H_=function(t,n,o,s){if(!t){o(s(n));return}var i=nft(o),c={announce:i};t(n,c),i.wasCalled()||o(s(n))},ift=(function(e,t){var n=rft(),o=null,s=function(h,g){o&&Vn(),H0("onBeforeCapture",function(){var x=e().onBeforeCapture;if(x){var y={draggableId:h,mode:g};x(y)}})},i=function(h,g){o&&Vn(),H0("onBeforeDragStart",function(){var x=e().onBeforeDragStart;x&&x(iP(h,g))})},c=function(h,g){o&&Vn();var x=iP(h,g);o={mode:g,lastCritical:h,lastLocation:x.source,lastCombine:null},n.add(function(){H0("onDragStart",function(){return H_(e().onDragStart,x,t,LP.onDragStart)})})},u=function(h,g){var x=q4(g),y=Gw(g);o||Vn();var D=!aft(h,o.lastCritical);D&&(o.lastCritical=h);var v=!oft(o.lastLocation,x);v&&(o.lastLocation=x);var T=!sft(o.lastCombine,y);if(T&&(o.lastCombine=y),!(!D&&!v&&!T)){var I=$({},iP(h,o.mode),{combine:y,destination:x});n.add(function(){H0("onDragUpdate",function(){return H_(e().onDragUpdate,I,t,LP.onDragUpdate)})})}},d=function(){o||Vn(),n.flush()},p=function(h){o||Vn(),o=null,H0("onDragEnd",function(){return H_(e().onDragEnd,h,t,LP.onDragEnd)})},m=function(){if(o){var h=$({},iP(o.lastCritical,o.mode),{combine:null,destination:null,reason:"CANCEL"});p(h)}};return{beforeCapture:s,beforeStart:i,start:c,update:u,flush:d,drop:p,abort:m}}),lft=(function(e,t){var n=ift(e,t);return function(o){return function(s){return function(i){if(i.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){var c=i.payload.critical;n.beforeStart(c,i.payload.movementMode),s(i),n.start(c,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){var u=i.payload.completed.result;n.flush(),s(i),n.drop(u);return}if(s(i),i.type==="FLUSH"){n.abort();return}var d=o.getState();d.phase==="DRAGGING"&&n.update(d.critical,d.impact)}}}}),cft=(function(e){return function(t){return function(n){if(n.type!=="DROP_ANIMATION_FINISHED"){t(n);return}var o=e.getState();o.phase!=="DROP_ANIMATING"&&Vn(),e.dispatch(Y4({completed:o.completed}))}}}),uft=(function(e){var t=null,n=null;function o(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return function(s){return function(i){if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&o(),s(i),i.type==="DROP_ANIMATE"){var c={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var d=e.getState();d.phase==="DROP_ANIMATING"&&e.dispatch(Xge())}};n=requestAnimationFrame(function(){n=null,t=Ku(window,[c])})}}}}),dft=(function(e){return function(){return function(t){return function(n){(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&e.stopPublishing(),t(n)}}}}),pft=(function(e){var t=!1;return function(){return function(n){return function(o){if(o.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(o.payload.critical.draggable.id),n(o),e.tryRestoreFocusRecorded();return}if(n(o),!!t){if(o.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(o.type==="DROP_COMPLETE"){t=!1;var s=o.payload.completed.result;s.combine&&e.tryShiftRecord(s.draggableId,s.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}),mft=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},fft=(function(e){return function(t){return function(n){return function(o){if(mft(o)){e.stop(),n(o);return}if(o.type==="INITIAL_PUBLISH"){n(o);var s=t.getState();s.phase!=="DRAGGING"&&Vn(),e.start(s);return}n(o),e.scroll(t.getState())}}}}),hft=(function(e){return function(t){return function(n){if(t(n),n.type==="PUBLISH_WHILE_DRAGGING"){var o=e.getState();o.phase==="DROP_PENDING"&&(o.isWaiting||e.dispatch(Jge({reason:o.reason})))}}}}),gft=gge,bft=(function(e){var t=e.dimensionMarshal,n=e.focusMarshal,o=e.styleMarshal,s=e.getResponders,i=e.announce,c=e.autoScroller;return hge(Omt,gft(Odt(zmt(o),dft(t),Vmt(t),Jmt,cft,uft,hft,fft(c),tft,pft(n),lft(s,i))))}),G_=function(){return{additions:{},removals:{},modified:{}}};function xft(e){var t=e.registry,n=e.callbacks,o=G_(),s=null,i=function(){s||(n.collectionStarting(),s=requestAnimationFrame(function(){s=null;var m=o,f=m.additions,h=m.removals,g=m.modified,x=Object.keys(f).map(function(v){return t.draggable.getById(v).getDimension(Oi)}).sort(function(v,T){return v.descriptor.index-T.descriptor.index}),y=Object.keys(g).map(function(v){var T=t.droppable.getById(v),I=T.callbacks.getScrollWhileDragging();return{droppableId:v,scroll:I}}),D={additions:x,removals:Object.keys(h),modified:y};o=G_(),n.publish(D)}))},c=function(m){var f=m.descriptor.id;o.additions[f]=m,o.modified[m.descriptor.droppableId]=!0,o.removals[f]&&delete o.removals[f],i()},u=function(m){var f=m.descriptor;o.removals[f.id]=!0,o.modified[f.droppableId]=!0,o.additions[f.id]&&delete o.additions[f.id],i()},d=function(){s&&(cancelAnimationFrame(s),s=null,o=G_())};return{add:c,remove:u,stop:d}}var tbe=(function(e){var t=e.scrollHeight,n=e.scrollWidth,o=e.height,s=e.width,i=Vc({x:n,y:t},{x:s,y:o}),c={x:Math.max(0,i.x),y:Math.max(0,i.y)};return c}),nbe=(function(){var e=document.documentElement;return e||Vn(),e}),rbe=(function(){var e=nbe(),t=tbe({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t}),yft=(function(){var e=ebe(),t=rbe(),n=e.y,o=e.x,s=nbe(),i=s.clientWidth,c=s.clientHeight,u=o+i,d=n+c,p=_d({top:n,left:o,right:u,bottom:d}),m={frame:p,scroll:{initial:e,current:e,max:t,diff:{value:Oi,displacement:Oi}}};return m}),Cft=(function(e){var t=e.critical,n=e.scrollOptions,o=e.registry,s=yft(),i=s.scroll.current,c=t.droppable,u=o.droppable.getAllByType(c.type).map(function(f){return f.callbacks.getDimensionAndWatchScroll(i,n)}),d=o.draggable.getAllByType(t.draggable.type).map(function(f){return f.getDimension(i)}),p={draggables:kge(d),droppables:wge(u)},m={dimensions:p,critical:t,viewport:s};return m});function Dae(e,t,n){if(n.descriptor.id===t.id||n.descriptor.type!==t.type)return!1;var o=e.droppable.getById(n.descriptor.droppableId);return o.descriptor.mode==="virtual"}var Dft=(function(e,t){var n=null,o=xft({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),s=function(g,x){e.droppable.exists(g)||Vn(),n&&t.updateDroppableIsEnabled({id:g,isEnabled:x})},i=function(g,x){n&&(e.droppable.exists(g)||Vn(),t.updateDroppableIsCombineEnabled({id:g,isCombineEnabled:x}))},c=function(g,x){n&&(e.droppable.exists(g)||Vn(),t.updateDroppableScroll({id:g,newScroll:x}))},u=function(g,x){n&&e.droppable.getById(g).callbacks.scroll(x)},d=function(){if(n){o.stop();var g=n.critical.droppable;e.droppable.getAllByType(g.type).forEach(function(x){return x.callbacks.dragStopped()}),n.unsubscribe(),n=null}},p=function(g){n||Vn();var x=n.critical.draggable;g.type==="ADDITION"&&Dae(e,x,g.value)&&o.add(g.value),g.type==="REMOVAL"&&Dae(e,x,g.value)&&o.remove(g.value)},m=function(g){n&&Vn();var x=e.draggable.getById(g.draggableId),y=e.droppable.getById(x.descriptor.droppableId),D={draggable:x.descriptor,droppable:y.descriptor},v=e.subscribe(p);return n={critical:D,unsubscribe:v},Cft({critical:D,registry:e,scrollOptions:g.scrollOptions})},f={updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:i,scrollDroppable:u,updateDroppableScroll:c,startPublishing:m,stopPublishing:d};return f}),obe=(function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"}),Sft=(function(e){window.scrollBy(e.x,e.y)}),vft=Ea(function(e){return Hw(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),jft=function(t,n){var o=Jh(vft(n),function(s){return s.frame||Vn(),Uge(s.frame.pageMarginBox)(t)});return o},Ift=(function(e){var t=e.center,n=e.destination,o=e.droppables;if(n){var s=o[n];return s.frame?s:null}var i=jft(t,o);return i}),kh={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},Tft=(function(e,t){var n=e[t.size]*kh.startFromPercentage,o=e[t.size]*kh.maxScrollAtPercentage,s={startScrollingFrom:n,maxScrollValueAt:o};return s}),sbe=(function(e){var t=e.startOfRange,n=e.endOfRange,o=e.current,s=n-t;if(s===0)return 0;var i=o-t,c=i/s;return c}),Z4=1,Oft=(function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return kh.maxPixelScroll;if(e===t.startScrollingFrom)return Z4;var n=sbe({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=1-n,s=kh.maxPixelScroll*kh.ease(o);return Math.ceil(s)}),Sae=kh.durationDampening.accelerateAt,vae=kh.durationDampening.stopDampeningAt,Eft=(function(e,t){var n=t,o=vae,s=Date.now(),i=s-n;if(i>=vae)return e;if(i<Sae)return Z4;var c=sbe({startOfRange:Sae,endOfRange:o,current:i}),u=e*kh.ease(c);return Math.ceil(u)}),jae=(function(e){var t=e.distanceToEdge,n=e.thresholds,o=e.dragStartTime,s=e.shouldUseTimeDampening,i=Oft(t,n);return i===0?0:s?Math.max(Eft(i,o),Z4):i}),Iae=(function(e){var t=e.container,n=e.distanceToEdges,o=e.dragStartTime,s=e.axis,i=e.shouldUseTimeDampening,c=Tft(t,s),u=n[s.end]<n[s.start];return u?jae({distanceToEdge:n[s.end],thresholds:c,dragStartTime:o,shouldUseTimeDampening:i}):-1*jae({distanceToEdge:n[s.start],thresholds:c,dragStartTime:o,shouldUseTimeDampening:i})}),Pft=(function(e){var t=e.container,n=e.subject,o=e.proposedScroll,s=n.height>t.height,i=n.width>t.width;return!i&&!s?o:i&&s?null:{x:i?0:o.x,y:s?0:o.y}}),Rft=Pge(function(e){return e===0?0:e}),abe=(function(e){var t=e.dragStartTime,n=e.container,o=e.subject,s=e.center,i=e.shouldUseTimeDampening,c={top:s.y-n.top,right:n.right-s.x,bottom:n.bottom-s.y,left:s.x-n.left},u=Iae({container:n,distanceToEdges:c,dragStartTime:t,axis:V4,shouldUseTimeDampening:i}),d=Iae({container:n,distanceToEdges:c,dragStartTime:t,axis:Fge,shouldUseTimeDampening:i}),p=Rft({x:d,y:u});if(wh(p,Oi))return null;var m=Pft({container:n,subject:o,proposedScroll:p});return m?wh(m,Oi)?null:m:null}),wft=Pge(function(e){return e===0?0:e>0?1:-1}),eW=(function(){var e=function(n,o){return n<0?n:n>o?n-o:0};return function(t){var n=t.current,o=t.max,s=t.change,i=qi(n,s),c={x:e(i.x,o.x),y:e(i.y,o.y)};return wh(c,Oi)?null:c}})(),ibe=function(t){var n=t.max,o=t.current,s=t.change,i={x:Math.max(o.x,n.x),y:Math.max(o.y,n.y)},c=wft(s),u=eW({max:i,current:o,change:c});return!u||c.x!==0&&u.x===0||c.y!==0&&u.y===0},tW=function(t,n){return ibe({current:t.scroll.current,max:t.scroll.max,change:n})},kft=function(t,n){if(!tW(t,n))return null;var o=t.scroll.max,s=t.scroll.current;return eW({current:s,max:o,change:n})},nW=function(t,n){var o=t.frame;return o?ibe({current:o.scroll.current,max:o.scroll.max,change:n}):!1},Aft=function(t,n){var o=t.frame;return!o||!nW(t,n)?null:eW({current:o.scroll.current,max:o.scroll.max,change:n})},Nft=(function(e){var t=e.viewport,n=e.subject,o=e.center,s=e.dragStartTime,i=e.shouldUseTimeDampening,c=abe({dragStartTime:s,container:t.frame,subject:n,center:o,shouldUseTimeDampening:i});return c&&tW(t,c)?c:null}),Fft=(function(e){var t=e.droppable,n=e.subject,o=e.center,s=e.dragStartTime,i=e.shouldUseTimeDampening,c=t.frame;if(!c)return null;var u=abe({dragStartTime:s,container:c.pageMarginBox,subject:n,center:o,shouldUseTimeDampening:i});return u&&nW(t,u)?u:null}),Tae=(function(e){var t=e.state,n=e.dragStartTime,o=e.shouldUseTimeDampening,s=e.scrollWindow,i=e.scrollDroppable,c=t.current.page.borderBoxCenter,u=t.dimensions.draggables[t.critical.draggable.id],d=u.page.marginBox;if(t.isWindowScrollAllowed){var p=t.viewport,m=Nft({dragStartTime:n,viewport:p,subject:d,center:c,shouldUseTimeDampening:o});if(m){s(m);return}}var f=Ift({center:c,destination:Kc(t.impact),droppables:t.dimensions.droppables});if(f){var h=Fft({dragStartTime:n,droppable:f,subject:d,center:c,shouldUseTimeDampening:o});h&&i(f.descriptor.id,h)}}),Mft=(function(e){var t=e.scrollWindow,n=e.scrollDroppable,o=cT(t),s=cT(n),i=null,c=function(m){i||Vn();var f=i,h=f.shouldUseTimeDampening,g=f.dragStartTime;Tae({state:m,scrollWindow:o,scrollDroppable:s,dragStartTime:g,shouldUseTimeDampening:h})},u=function(m){i&&Vn();var f=Date.now(),h=!1,g=function(){h=!0};Tae({state:m,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:g,scrollDroppable:g}),i={dragStartTime:f,shouldUseTimeDampening:h},h&&c(m)},d=function(){i&&(o.cancel(),s.cancel(),i=null)};return{start:u,stop:d,scroll:c}}),_ft=(function(e){var t=e.move,n=e.scrollDroppable,o=e.scrollWindow,s=function(p,m){var f=qi(p.current.client.selection,m);t({client:f})},i=function(p,m){if(!nW(p,m))return m;var f=Aft(p,m);if(!f)return n(p.descriptor.id,m),null;var h=Vc(m,f);n(p.descriptor.id,h);var g=Vc(m,h);return g},c=function(p,m,f){if(!p||!tW(m,f))return f;var h=kft(m,f);if(!h)return o(f),null;var g=Vc(f,h);o(g);var x=Vc(f,g);return x},u=function(p){var m=p.scrollJumpRequest;if(m){var f=Kc(p.impact);f||Vn();var h=i(p.dimensions.droppables[f],m);if(h){var g=p.viewport,x=c(p.isWindowScrollAllowed,g,h);x&&s(p,x)}}};return u}),Lft=(function(e){var t=e.scrollDroppable,n=e.scrollWindow,o=e.move,s=Mft({scrollWindow:n,scrollDroppable:t}),i=_ft({move:o,scrollWindow:n,scrollDroppable:t}),c=function(p){if(p.phase==="DRAGGING"){if(p.movementMode==="FLUID"){s.scroll(p);return}p.scrollJumpRequest&&i(p)}},u={scroll:c,start:s.start,stop:s.stop};return u}),wC="data-rbd",kC=(function(){var e=wC+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}})(),A$=(function(){var e=wC+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}})(),$ft=(function(){var e=wC+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}})(),Oae={contextId:wC+"-scroll-container-context-id"},Bft=function(t){return function(n){return"["+n+'="'+t+'"]'}},G0=function(t,n){return t.map(function(o){var s=o.styles[n];return s?o.selector+" { "+s+" }":""}).join(" ")},Wft="pointer-events: none;",Uft=(function(e){var t=Bft(e),n=(function(){var u=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(kC.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:u,dragging:Wft,dropAnimating:u}}})(),o=(function(){var u=`
      transition: `+EI.outOfTheWay+`;
    `;return{selector:t(A$.contextId),styles:{dragging:u,dropAnimating:u,userCancel:u}}})(),s={selector:t($ft.contextId),styles:{always:"overflow-anchor: none;"}},i={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},c=[o,n,s,i];return{always:G0(c,"always"),resting:G0(c,"resting"),dragging:G0(c,"dragging"),dropAnimating:G0(c,"dropAnimating"),userCancel:G0(c,"userCancel")}}),Qc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?a.useLayoutEffect:a.useEffect,K_=function(){var t=document.querySelector("head");return t||Vn(),t},Eae=function(t){var n=document.createElement("style");return t&&n.setAttribute("nonce",t),n.type="text/css",n};function qft(e,t){var n=Wo(function(){return Uft(e)},[e]),o=a.useRef(null),s=a.useRef(null),i=Fr(Ea(function(f){var h=s.current;h||Vn(),h.textContent=f}),[]),c=Fr(function(f){var h=o.current;h||Vn(),h.textContent=f},[]);Qc(function(){!o.current&&!s.current||Vn();var f=Eae(t),h=Eae(t);return o.current=f,s.current=h,f.setAttribute(wC+"-always",e),h.setAttribute(wC+"-dynamic",e),K_().appendChild(f),K_().appendChild(h),c(n.always),i(n.resting),function(){var g=function(y){var D=y.current;D||Vn(),K_().removeChild(D),y.current=null};g(o),g(s)}},[t,c,i,n.always,n.resting,e]);var u=Fr(function(){return i(n.dragging)},[i,n.dragging]),d=Fr(function(f){if(f==="DROP"){i(n.dropAnimating);return}i(n.userCancel)},[i,n.dropAnimating,n.userCancel]),p=Fr(function(){s.current&&i(n.resting)},[i,n.resting]),m=Wo(function(){return{dragging:u,dropping:d,resting:p}},[u,d,p]);return m}var lbe=(function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window});function Yw(e){return e instanceof lbe(e).HTMLElement}function Vft(e,t){var n="["+kC.contextId+'="'+e+'"]',o=Rge(document.querySelectorAll(n));if(!o.length)return null;var s=Jh(o,function(i){return i.getAttribute(kC.draggableId)===t});return!s||!Yw(s)?null:s}function zft(e){var t=a.useRef({}),n=a.useRef(null),o=a.useRef(null),s=a.useRef(!1),i=Fr(function(h,g){var x={id:h,focus:g};return t.current[h]=x,function(){var D=t.current,v=D[h];v!==x&&delete D[h]}},[]),c=Fr(function(h){var g=Vft(e,h);g&&g!==document.activeElement&&g.focus()},[e]),u=Fr(function(h,g){n.current===h&&(n.current=g)},[]),d=Fr(function(){o.current||s.current&&(o.current=requestAnimationFrame(function(){o.current=null;var h=n.current;h&&c(h)}))},[c]),p=Fr(function(h){n.current=null;var g=document.activeElement;g&&g.getAttribute(kC.draggableId)===h&&(n.current=h)},[]);Qc(function(){return s.current=!0,function(){s.current=!1;var h=o.current;h&&cancelAnimationFrame(h)}},[]);var m=Wo(function(){return{register:i,tryRecordFocus:p,tryRestoreFocusRecorded:d,tryShiftRecord:u}},[i,p,d,u]);return m}function Hft(){var e={draggables:{},droppables:{}},t=[];function n(f){return t.push(f),function(){var g=t.indexOf(f);g!==-1&&t.splice(g,1)}}function o(f){t.length&&t.forEach(function(h){return h(f)})}function s(f){return e.draggables[f]||null}function i(f){var h=s(f);return h||Vn(),h}var c={register:function(h){e.draggables[h.descriptor.id]=h,o({type:"ADDITION",value:h})},update:function(h,g){var x=e.draggables[g.descriptor.id];x&&x.uniqueId===h.uniqueId&&(delete e.draggables[g.descriptor.id],e.draggables[h.descriptor.id]=h)},unregister:function(h){var g=h.descriptor.id,x=s(g);x&&h.uniqueId===x.uniqueId&&(delete e.draggables[g],o({type:"REMOVAL",value:h}))},getById:i,findById:s,exists:function(h){return!!s(h)},getAllByType:function(h){return TR(e.draggables).filter(function(g){return g.descriptor.type===h})}};function u(f){return e.droppables[f]||null}function d(f){var h=u(f);return h||Vn(),h}var p={register:function(h){e.droppables[h.descriptor.id]=h},unregister:function(h){var g=u(h.descriptor.id);g&&h.uniqueId===g.uniqueId&&delete e.droppables[h.descriptor.id]},getById:d,findById:u,exists:function(h){return!!u(h)},getAllByType:function(h){return TR(e.droppables).filter(function(g){return g.descriptor.type===h})}};function m(){e.draggables={},e.droppables={},t.length=0}return{draggable:c,droppable:p,subscribe:n,clean:m}}function Gft(){var e=Wo(Hft,[]);return a.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var rW=Dn.createContext(null),ER=(function(){var e=document.body;return e||Vn(),e}),Kft={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Qft=function(t){return"rbd-announcement-"+t};function Yft(e){var t=Wo(function(){return Qft(e)},[e]),n=a.useRef(null);a.useEffect(function(){var i=document.createElement("div");return n.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),$(i.style,Kft),ER().appendChild(i),function(){setTimeout(function(){var d=ER();d.contains(i)&&d.removeChild(i),i===n.current&&(n.current=null)})}},[t]);var o=Fr(function(s){var i=n.current;if(i){i.textContent=s;return}},[]);return o}var Jft=0,Xft={separator:"::"};function oW(e,t){return t===void 0&&(t=Xft),Wo(function(){return""+e+t.separator+Jft++},[t.separator,e])}function Zft(e){var t=e.contextId,n=e.uniqueId;return"rbd-hidden-text-"+t+"-"+n}function eht(e){var t=e.contextId,n=e.text,o=oW("hidden-text",{separator:"-"}),s=Wo(function(){return Zft({contextId:t,uniqueId:o})},[o,t]);return a.useEffect(function(){var c=document.createElement("div");return c.id=s,c.textContent=n,c.style.display="none",ER().appendChild(c),function(){var d=ER();d.contains(c)&&d.removeChild(c)}},[s,n]),s}var Jw=Dn.createContext(null);function cbe(e){var t=a.useRef(e);return a.useEffect(function(){t.current=e}),t}function tht(){var e=null;function t(){return!!e}function n(c){return c===e}function o(c){e&&Vn();var u={abandon:c};return e=u,u}function s(){e||Vn(),e=null}function i(){e&&(e.abandon(),s())}return{isClaimed:t,isActive:n,claim:o,release:s,tryAbandon:i}}var nht=9,rht=13,sW=27,ube=32,oht=33,sht=34,aht=35,iht=36,lht=37,cht=38,uht=39,dht=40,lP,pht=(lP={},lP[rht]=!0,lP[nht]=!0,lP),dbe=(function(e){pht[e.keyCode]&&e.preventDefault()}),Xw=(function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],n=Jh(t,function(o){return"on"+o in document});return n||e})(),pbe=0,Pae=5;function mht(e,t){return Math.abs(t.x-e.x)>=Pae||Math.abs(t.y-e.y)>=Pae}var Rae={type:"IDLE"};function fht(e){var t=e.cancel,n=e.completed,o=e.getPhase,s=e.setPhase;return[{eventName:"mousemove",fn:function(c){var u=c.button,d=c.clientX,p=c.clientY;if(u===pbe){var m={x:d,y:p},f=o();if(f.type==="DRAGGING"){c.preventDefault(),f.actions.move(m);return}f.type!=="PENDING"&&Vn();var h=f.point;if(mht(h,m)){c.preventDefault();var g=f.actions.fluidLift(m);s({type:"DRAGGING",actions:g})}}}},{eventName:"mouseup",fn:function(c){var u=o();if(u.type!=="DRAGGING"){t();return}c.preventDefault(),u.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:function(c){o().type==="DRAGGING"&&c.preventDefault(),t()}},{eventName:"keydown",fn:function(c){var u=o();if(u.type==="PENDING"){t();return}if(c.keyCode===sW){c.preventDefault(),t();return}dbe(c)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){o().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(c){var u=o();if(u.type==="IDLE"&&Vn(),u.actions.shouldRespectForcePress()){t();return}c.preventDefault()}},{eventName:Xw,fn:t}]}function hht(e){var t=a.useRef(Rae),n=a.useRef(Rh),o=Wo(function(){return{eventName:"mousedown",fn:function(f){if(!f.defaultPrevented&&f.button===pbe&&!(f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)){var h=e.findClosestDraggableId(f);if(h){var g=e.tryGetLock(h,c,{sourceEvent:f});if(g){f.preventDefault();var x={x:f.clientX,y:f.clientY};n.current(),p(g,x)}}}}}},[e]),s=Wo(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(f){if(!f.defaultPrevented){var h=e.findClosestDraggableId(f);if(h){var g=e.findOptionsForDraggable(h);g&&(g.shouldRespectForcePress||e.canGetLock(h)&&f.preventDefault())}}}}},[e]),i=Fr(function(){var f={passive:!1,capture:!0};n.current=Ku(window,[s,o],f)},[s,o]),c=Fr(function(){var m=t.current;m.type!=="IDLE"&&(t.current=Rae,n.current(),i())},[i]),u=Fr(function(){var m=t.current;c(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[c]),d=Fr(function(){var f={capture:!0,passive:!1},h=fht({cancel:u,completed:c,getPhase:function(){return t.current},setPhase:function(x){t.current=x}});n.current=Ku(window,h,f)},[u,c]),p=Fr(function(f,h){t.current.type!=="IDLE"&&Vn(),t.current={type:"PENDING",point:h,actions:f},d()},[d]);Qc(function(){return i(),function(){n.current()}},[i])}var Iy;function ght(){}var bht=(Iy={},Iy[sht]=!0,Iy[oht]=!0,Iy[iht]=!0,Iy[aht]=!0,Iy);function xht(e,t){function n(){t(),e.cancel()}function o(){t(),e.drop()}return[{eventName:"keydown",fn:function(i){if(i.keyCode===sW){i.preventDefault(),n();return}if(i.keyCode===ube){i.preventDefault(),o();return}if(i.keyCode===dht){i.preventDefault(),e.moveDown();return}if(i.keyCode===cht){i.preventDefault(),e.moveUp();return}if(i.keyCode===uht){i.preventDefault(),e.moveRight();return}if(i.keyCode===lht){i.preventDefault(),e.moveLeft();return}if(bht[i.keyCode]){i.preventDefault();return}dbe(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Xw,fn:n}]}function yht(e){var t=a.useRef(ght),n=Wo(function(){return{eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==ube)return;var c=e.findClosestDraggableId(i);if(!c)return;var u=e.tryGetLock(c,m,{sourceEvent:i});if(!u)return;i.preventDefault();var d=!0,p=u.snapLift();t.current();function m(){d||Vn(),d=!1,t.current(),o()}t.current=Ku(window,xht(p,m),{capture:!0,passive:!1})}}},[e]),o=Fr(function(){var i={passive:!1,capture:!0};t.current=Ku(window,[n],i)},[n]);Qc(function(){return o(),function(){t.current()}},[o])}var Q_={type:"IDLE"},Cht=120,Dht=.15;function Sht(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(s){s.preventDefault()}},{eventName:"keydown",fn:function(s){if(n().type!=="DRAGGING"){t();return}s.keyCode===sW&&s.preventDefault(),t()}},{eventName:Xw,fn:t}]}function vht(e){var t=e.cancel,n=e.completed,o=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(i){var c=o();if(c.type!=="DRAGGING"){t();return}c.hasMoved=!0;var u=i.touches[0],d=u.clientX,p=u.clientY,m={x:d,y:p};i.preventDefault(),c.actions.move(m)}},{eventName:"touchend",fn:function(i){var c=o();if(c.type!=="DRAGGING"){t();return}i.preventDefault(),c.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:function(i){if(o().type!=="DRAGGING"){t();return}i.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(i){var c=o();c.type==="IDLE"&&Vn();var u=i.touches[0];if(u){var d=u.force>=Dht;if(d){var p=c.actions.shouldRespectForcePress();if(c.type==="PENDING"){p&&t();return}if(p){if(c.hasMoved){i.preventDefault();return}t();return}i.preventDefault()}}}},{eventName:Xw,fn:t}]}function jht(e){var t=a.useRef(Q_),n=a.useRef(Rh),o=Fr(function(){return t.current},[]),s=Fr(function(g){t.current=g},[]),i=Wo(function(){return{eventName:"touchstart",fn:function(g){if(!g.defaultPrevented){var x=e.findClosestDraggableId(g);if(x){var y=e.tryGetLock(x,u,{sourceEvent:g});if(y){var D=g.touches[0],v=D.clientX,T=D.clientY,I={x:v,y:T};n.current(),f(y,I)}}}}}},[e]),c=Fr(function(){var g={capture:!0,passive:!1};n.current=Ku(window,[i],g)},[i]),u=Fr(function(){var h=t.current;h.type!=="IDLE"&&(h.type==="PENDING"&&clearTimeout(h.longPressTimerId),s(Q_),n.current(),c())},[c,s]),d=Fr(function(){var h=t.current;u(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[u]),p=Fr(function(){var g={capture:!0,passive:!1},x={cancel:d,completed:u,getPhase:o},y=Ku(window,vht(x),g),D=Ku(window,Sht(x),g);n.current=function(){y(),D()}},[d,o,u]),m=Fr(function(){var g=o();g.type!=="PENDING"&&Vn();var x=g.actions.fluidLift(g.point);s({type:"DRAGGING",actions:x,hasMoved:!1})},[o,s]),f=Fr(function(g,x){o().type!=="IDLE"&&Vn();var y=setTimeout(m,Cht);s({type:"PENDING",point:x,actions:g,longPressTimerId:y}),p()},[p,o,s,m]);Qc(function(){return c(),function(){n.current();var x=o();x.type==="PENDING"&&(clearTimeout(x.longPressTimerId),s(Q_))}},[o,c,s]),Qc(function(){var g=Ku(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return g},[])}var Iht={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function mbe(e,t){if(t==null)return!1;var n=!!Iht[t.tagName.toLowerCase()];if(n)return!0;var o=t.getAttribute("contenteditable");return o==="true"||o===""?!0:t===e?!1:mbe(e,t.parentElement)}function Tht(e,t){var n=t.target;return Yw(n)?mbe(e,n):!1}var Oht=(function(e){return _d(e.getBoundingClientRect()).center});function Eht(e){return e instanceof lbe(e).Element}var Pht=(function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],n=Jh(t,function(o){return o in Element.prototype});return n||e})();function fbe(e,t){return e==null?null:e[Pht](t)?e:fbe(e.parentElement,t)}function Rht(e,t){return e.closest?e.closest(t):fbe(e,t)}function wht(e){return"["+kC.contextId+'="'+e+'"]'}function kht(e,t){var n=t.target;if(!Eht(n))return null;var o=wht(e),s=Rht(n,o);return!s||!Yw(s)?null:s}function Aht(e,t){var n=kht(e,t);return n?n.getAttribute(kC.draggableId):null}function Nht(e,t){var n="["+A$.contextId+'="'+e+'"]',o=Rge(document.querySelectorAll(n)),s=Jh(o,function(i){return i.getAttribute(A$.id)===t});return!s||!Yw(s)?null:s}function Fht(e){e.preventDefault()}function cP(e){var t=e.expected,n=e.phase,o=e.isLockActive;return e.shouldWarn,!(!o()||t!==n)}function hbe(e){var t=e.lockAPI,n=e.store,o=e.registry,s=e.draggableId;if(t.isClaimed())return!1;var i=o.draggable.findById(s);return!(!i||!i.options.isEnabled||!obe(n.getState(),s))}function Mht(e){var t=e.lockAPI,n=e.contextId,o=e.store,s=e.registry,i=e.draggableId,c=e.forceSensorStop,u=e.sourceEvent,d=hbe({lockAPI:t,store:o,registry:s,draggableId:i});if(!d)return null;var p=s.draggable.getById(i),m=Nht(n,p.descriptor.id);if(!m||u&&!p.options.canDragInteractiveElements&&Tht(m,u))return null;var f=t.claim(c||Rh),h="PRE_DRAG";function g(){return p.options.shouldRespectForcePress}function x(){return t.isActive(f)}function y(k,w){cP({expected:k,phase:h,isLockActive:x,shouldWarn:!0})&&o.dispatch(w())}var D=y.bind(null,"DRAGGING");function v(k){function w(){t.release(),h="COMPLETED"}h!=="PRE_DRAG"&&(w(),h!=="PRE_DRAG"&&Vn()),o.dispatch(Pmt(k.liftActionArgs)),h="DRAGGING";function A(F,_){if(_===void 0&&(_={shouldBlockNextClick:!1}),k.cleanup(),_.shouldBlockNextClick){var L=Ku(window,[{eventName:"click",fn:Fht,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(L)}w(),o.dispatch(Jge({reason:F}))}return $({isActive:function(){return cP({expected:"DRAGGING",phase:h,isLockActive:x,shouldWarn:!1})},shouldRespectForcePress:g,drop:function(_){return A("DROP",_)},cancel:function(_){return A("CANCEL",_)}},k.actions)}function T(k){var w=cT(function(F){D(function(){return Yge({client:F})})}),A=v({liftActionArgs:{id:i,clientSelection:k,movementMode:"FLUID"},cleanup:function(){return w.cancel()},actions:{move:w}});return $({},A,{move:w})}function I(){var k={moveUp:function(){return D(Lmt)},moveRight:function(){return D(Bmt)},moveDown:function(){return D($mt)},moveLeft:function(){return D(Wmt)}};return v({liftActionArgs:{id:i,clientSelection:Oht(m),movementMode:"SNAP"},cleanup:Rh,actions:k})}function P(){var k=cP({expected:"PRE_DRAG",phase:h,isLockActive:x,shouldWarn:!0});k&&t.release()}var E={isActive:function(){return cP({expected:"PRE_DRAG",phase:h,isLockActive:x,shouldWarn:!1})},shouldRespectForcePress:g,fluidLift:T,snapLift:I,abort:P};return E}var _ht=[hht,yht,jht];function Lht(e){var t=e.contextId,n=e.store,o=e.registry,s=e.customSensors,i=e.enableDefaultSensors,c=[].concat(i?_ht:[],s||[]),u=a.useState(function(){return tht()})[0],d=Fr(function(T,I){T.isDragging&&!I.isDragging&&u.tryAbandon()},[u]);Qc(function(){var T=n.getState(),I=n.subscribe(function(){var P=n.getState();d(T,P),T=P});return I},[u,n,d]),Qc(function(){return u.tryAbandon},[u.tryAbandon]);for(var p=Fr(function(v){return hbe({lockAPI:u,registry:o,store:n,draggableId:v})},[u,o,n]),m=Fr(function(v,T,I){return Mht({lockAPI:u,registry:o,contextId:t,store:n,draggableId:v,forceSensorStop:T,sourceEvent:I&&I.sourceEvent?I.sourceEvent:null})},[t,u,o,n]),f=Fr(function(v){return Aht(t,v)},[t]),h=Fr(function(v){var T=o.draggable.findById(v);return T?T.options:null},[o.draggable]),g=Fr(function(){u.isClaimed()&&(u.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(Q4()))},[u,n]),x=Fr(u.isClaimed,[u]),y=Wo(function(){return{canGetLock:p,tryGetLock:m,findClosestDraggableId:f,findOptionsForDraggable:h,tryReleaseLock:g,isLockClaimed:x}},[p,m,f,h,g,x]),D=0;D<c.length;D++)c[D](y)}var $ht=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function K0(e){return e.current||Vn(),e.current}function Bht(e){var t=e.contextId,n=e.setCallbacks,o=e.sensors,s=e.nonce,i=e.dragHandleUsageInstructions,c=a.useRef(null),u=cbe(e),d=Fr(function(){return $ht(u.current)},[u]),p=Yft(t),m=eht({contextId:t,text:i}),f=qft(t,s),h=Fr(function(F){K0(c).dispatch(F)},[]),g=Wo(function(){return nae({publishWhileDragging:wmt,updateDroppableScroll:Amt,updateDroppableIsEnabled:Nmt,updateDroppableIsCombineEnabled:Fmt,collectionStarting:kmt},h)},[h]),x=Gft(),y=Wo(function(){return Dft(x,g)},[x,g]),D=Wo(function(){return Lft($({scrollWindow:Sft,scrollDroppable:y.scrollDroppable},nae({move:Yge},h)))},[y.scrollDroppable,h]),v=zft(t),T=Wo(function(){return bft({announce:p,autoScroller:D,dimensionMarshal:y,focusMarshal:v,getResponders:d,styleMarshal:f})},[p,D,y,v,d,f]);c.current=T;var I=Fr(function(){var F=K0(c),_=F.getState();_.phase!=="IDLE"&&F.dispatch(Q4())},[]),P=Fr(function(){var F=K0(c).getState();return F.isDragging||F.phase==="DROP_ANIMATING"},[]),E=Wo(function(){return{isDragging:P,tryAbort:I}},[P,I]);n(E);var k=Fr(function(F){return obe(K0(c).getState(),F)},[]),w=Fr(function(){return ob(K0(c).getState())},[]),A=Wo(function(){return{marshal:y,focus:v,contextId:t,canLift:k,isMovementAllowed:w,dragHandleUsageInstructionsId:m,registry:x}},[t,y,m,v,k,w,x]);return Lht({contextId:t,store:T,registry:x,customSensors:o,enableDefaultSensors:e.enableDefaultSensors!==!1}),a.useEffect(function(){return I},[I]),Dn.createElement(Jw.Provider,{value:A},Dn.createElement(kdt,{context:rW,store:T},e.children))}var Wht=0;function Uht(){return Wo(function(){return""+Wht++},[])}function gbe(e){var t=Uht(),n=e.dragHandleUsageInstructions||LP.dragHandleUsageInstructions;return Dn.createElement(ypt,null,function(o){return Dn.createElement(Bht,{nonce:e.nonce,contextId:t,setCallbacks:o,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var bbe=function(t){return function(n){return t===n}},qht=bbe("scroll"),Vht=bbe("auto"),wae=function(t,n){return n(t.overflowX)||n(t.overflowY)},zht=function(t){var n=window.getComputedStyle(t),o={overflowX:n.overflowX,overflowY:n.overflowY};return wae(o,qht)||wae(o,Vht)},Hht=function(){return!1},Ght=function e(t){return t==null?null:t===document.body?Hht()?t:null:t===document.documentElement?null:zht(t)?t:e(t.parentElement)},N$=(function(e){return{x:e.scrollLeft,y:e.scrollTop}}),Kht=function e(t){if(!t)return!1;var n=window.getComputedStyle(t);return n.position==="fixed"?!0:e(t.parentElement)},Qht=(function(e){var t=Ght(e),n=Kht(e);return{closestScrollable:t,isFixedOnPage:n}}),Yht=(function(e){var t=e.descriptor,n=e.isEnabled,o=e.isCombineEnabled,s=e.isFixedOnPage,i=e.direction,c=e.client,u=e.page,d=e.closest,p=(function(){if(!d)return null;var g=d.scrollSize,x=d.client,y=tbe({scrollHeight:g.scrollHeight,scrollWidth:g.scrollWidth,height:x.paddingBox.height,width:x.paddingBox.width});return{pageMarginBox:d.page.marginBox,frameClient:x,scrollSize:g,shouldClipSubject:d.shouldClipSubject,scroll:{initial:d.scroll,current:d.scroll,max:y,diff:{value:Oi,displacement:Oi}}}})(),m=i==="vertical"?V4:Fge,f=RC({page:u,withPlaceholder:null,axis:m,frame:p}),h={descriptor:t,isCombineEnabled:o,isFixedOnPage:s,axis:m,isEnabled:n,client:c,page:u,frame:p,subject:f};return h}),Jht=function(t,n){var o=Ige(t);if(!n||t!==n)return o;var s=o.paddingBox.top-n.scrollTop,i=o.paddingBox.left-n.scrollLeft,c=s+n.scrollHeight,u=i+n.scrollWidth,d={top:s,right:u,bottom:c,left:i},p=$4(d,o.border),m=B4({borderBox:p,margin:o.margin,border:o.border,padding:o.padding});return m},Xht=(function(e){var t=e.ref,n=e.descriptor,o=e.env,s=e.windowScroll,i=e.direction,c=e.isDropDisabled,u=e.isCombineEnabled,d=e.shouldClipSubject,p=o.closestScrollable,m=Jht(t,p),f=vR(m,s),h=(function(){if(!p)return null;var x=Ige(p),y={scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth};return{client:x,page:vR(x,s),scroll:N$(p),scrollSize:y,shouldClipSubject:d}})(),g=Yht({descriptor:n,isEnabled:!c,isCombineEnabled:u,isFixedOnPage:o.isFixedOnPage,direction:i,client:m,page:f,closest:h});return g}),Zht={passive:!1},egt={passive:!0},kae=(function(e){return e.shouldPublishImmediately?Zht:egt});function PR(e){var t=a.useContext(e);return t||Vn(),t}var uP=function(t){return t&&t.env.closestScrollable||null};function tgt(e){var t=a.useRef(null),n=PR(Jw),o=oW("droppable"),s=n.registry,i=n.marshal,c=cbe(e),u=Wo(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),d=a.useRef(u),p=Wo(function(){return Ea(function(P,E){t.current||Vn();var k={x:P,y:E};i.updateDroppableScroll(u.id,k)})},[u.id,i]),m=Fr(function(){var P=t.current;return!P||!P.env.closestScrollable?Oi:N$(P.env.closestScrollable)},[]),f=Fr(function(){var P=m();p(P.x,P.y)},[m,p]),h=Wo(function(){return cT(f)},[f]),g=Fr(function(){var P=t.current,E=uP(P);P&&E||Vn();var k=P.scrollOptions;if(k.shouldPublishImmediately){f();return}h()},[h,f]),x=Fr(function(P,E){t.current&&Vn();var k=c.current,w=k.getDroppableRef();w||Vn();var A=Qht(w),F={ref:w,descriptor:u,env:A,scrollOptions:E};t.current=F;var _=Xht({ref:w,descriptor:u,env:A,windowScroll:P,direction:k.direction,isDropDisabled:k.isDropDisabled,isCombineEnabled:k.isCombineEnabled,shouldClipSubject:!k.ignoreContainerClipping}),L=A.closestScrollable;return L&&(L.setAttribute(Oae.contextId,n.contextId),L.addEventListener("scroll",g,kae(F.scrollOptions))),_},[n.contextId,u,g,c]),y=Fr(function(){var P=t.current,E=uP(P);return P&&E||Vn(),N$(E)},[]),D=Fr(function(){var P=t.current;P||Vn();var E=uP(P);t.current=null,E&&(h.cancel(),E.removeAttribute(Oae.contextId),E.removeEventListener("scroll",g,kae(P.scrollOptions)))},[g,h]),v=Fr(function(P){var E=t.current;E||Vn();var k=uP(E);k||Vn(),k.scrollTop+=P.y,k.scrollLeft+=P.x},[]),T=Wo(function(){return{getDimensionAndWatchScroll:x,getScrollWhileDragging:y,dragStopped:D,scroll:v}},[D,x,y,v]),I=Wo(function(){return{uniqueId:o,descriptor:u,callbacks:T}},[T,u,o]);Qc(function(){return d.current=I.descriptor,s.droppable.register(I),function(){t.current&&D(),s.droppable.unregister(I)}},[T,u,D,I,i,s.droppable]),Qc(function(){t.current&&i.updateDroppableIsEnabled(d.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),Qc(function(){t.current&&i.updateDroppableIsCombineEnabled(d.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function Y_(){}var Aae={width:0,height:0,margin:Ipt},ngt=function(t){var n=t.isAnimatingOpenOnMount,o=t.placeholder,s=t.animate;return n||s==="close"?Aae:{height:o.client.borderBox.height,width:o.client.borderBox.width,margin:o.client.margin}},rgt=function(t){var n=t.isAnimatingOpenOnMount,o=t.placeholder,s=t.animate,i=ngt({isAnimatingOpenOnMount:n,placeholder:o,animate:s});return{display:o.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:s!=="none"?EI.placeholder:null}};function ogt(e){var t=a.useRef(null),n=Fr(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),o=e.animate,s=e.onTransitionEnd,i=e.onClose,c=e.contextId,u=a.useState(e.animate==="open"),d=u[0],p=u[1];a.useEffect(function(){return d?o!=="open"?(n(),p(!1),Y_):t.current?Y_:(t.current=setTimeout(function(){t.current=null,p(!1)}),n):Y_},[o,d,n]);var m=Fr(function(h){h.propertyName==="height"&&(s(),o==="close"&&i())},[o,i,s]),f=rgt({isAnimatingOpenOnMount:d,animate:e.animate,placeholder:e.placeholder});return Dn.createElement(e.placeholder.tagName,{style:f,"data-rbd-placeholder-context-id":c,onTransitionEnd:m,ref:e.innerRef})}var sgt=Dn.memo(ogt),aW=Dn.createContext(null),agt=(function(e){CD(t,e);function t(){for(var o,s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return o=e.call.apply(e,[this].concat(i))||this,o.state={isVisible:!!o.props.on,data:o.props.on,animate:o.props.shouldAnimate&&o.props.on?"open":"none"},o.onClose=function(){o.state.animate==="close"&&o.setState({isVisible:!1})},o}t.getDerivedStateFromProps=function(s,i){return s.shouldAnimate?s.on?{isVisible:!0,data:s.on,animate:"open"}:i.isVisible?{isVisible:!0,data:i.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!s.on,data:s.on,animate:"none"}};var n=t.prototype;return n.render=function(){if(!this.state.isVisible)return null;var s={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(s)},t})(Dn.PureComponent),Nae={dragging:5e3,dropAnimating:4500},igt=function(t,n){return n?EI.drop(n.duration):t?EI.snap:EI.fluid},lgt=function(t,n){return t?n?mT.opacity.drop:mT.opacity.combining:null},cgt=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function ugt(e){var t=e.dimension,n=t.client,o=e.offset,s=e.combineWith,i=e.dropping,c=!!s,u=cgt(e),d=!!i,p=d?w$.drop(o,c):w$.moveTo(o),m={position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:igt(u,i),transform:p,opacity:lgt(c,d),zIndex:d?Nae.dropAnimating:Nae.dragging,pointerEvents:"none"};return m}function dgt(e){return{transform:w$.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function pgt(e){return e.type==="DRAGGING"?ugt(e):dgt(e)}function mgt(e,t,n){n===void 0&&(n=Oi);var o=window.getComputedStyle(t),s=t.getBoundingClientRect(),i=jge(s,o),c=vR(i,n),u={client:i,tagName:t.tagName.toLowerCase(),display:o.display},d={x:i.marginBox.width,y:i.marginBox.height},p={descriptor:e,placeholder:u,displaceBy:d,client:i,page:c};return p}function fgt(e){var t=oW("draggable"),n=e.descriptor,o=e.registry,s=e.getDraggableRef,i=e.canDragInteractiveElements,c=e.shouldRespectForcePress,u=e.isEnabled,d=Wo(function(){return{canDragInteractiveElements:i,shouldRespectForcePress:c,isEnabled:u}},[i,u,c]),p=Fr(function(g){var x=s();return x||Vn(),mgt(n,x,g)},[n,s]),m=Wo(function(){return{uniqueId:t,descriptor:n,options:d,getDimension:p}},[n,p,d,t]),f=a.useRef(m),h=a.useRef(!0);Qc(function(){return o.draggable.register(f.current),function(){return o.draggable.unregister(f.current)}},[o.draggable]),Qc(function(){if(h.current){h.current=!1;return}var g=f.current;f.current=m,o.draggable.update(m,g)},[m,o.draggable])}function hgt(e){e.preventDefault()}function ggt(e){var t=a.useRef(null),n=Fr(function(F){t.current=F},[]),o=Fr(function(){return t.current},[]),s=PR(Jw),i=s.contextId,c=s.dragHandleUsageInstructionsId,u=s.registry,d=PR(aW),p=d.type,m=d.droppableId,f=Wo(function(){return{id:e.draggableId,index:e.index,type:p,droppableId:m}},[e.draggableId,e.index,p,m]),h=e.children,g=e.draggableId,x=e.isEnabled,y=e.shouldRespectForcePress,D=e.canDragInteractiveElements,v=e.isClone,T=e.mapped,I=e.dropAnimationFinished;if(!v){var P=Wo(function(){return{descriptor:f,registry:u,getDraggableRef:o,canDragInteractiveElements:D,shouldRespectForcePress:y,isEnabled:x}},[f,u,o,D,y,x]);fgt(P)}var E=Wo(function(){return x?{tabIndex:0,role:"button","aria-describedby":c,"data-rbd-drag-handle-draggable-id":g,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:hgt}:null},[i,c,g,x]),k=Fr(function(F){T.type==="DRAGGING"&&T.dropping&&F.propertyName==="transform"&&I()},[I,T]),w=Wo(function(){var F=pgt(T),_=T.type==="DRAGGING"&&T.dropping?k:null,L={innerRef:n,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":g,style:F,onTransitionEnd:_},dragHandleProps:E};return L},[i,E,g,T,k,n]),A=Wo(function(){return{draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}},[f.droppableId,f.id,f.index,f.type]);return h(w,T.snapshot,A)}var xbe=(function(e,t){return e===t}),ybe=(function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null}),bgt=function(t){return t.combine?t.combine.draggableId:null},xgt=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function ygt(){var e=Ea(function(s,i){return{x:s,y:i}}),t=Ea(function(s,i,c,u,d){return{isDragging:!0,isClone:i,isDropAnimating:!!d,dropAnimation:d,mode:s,draggingOver:c,combineWith:u,combineTargetFor:null}}),n=Ea(function(s,i,c,u,d,p,m){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:d,combineWith:p,mode:i,offset:s,dimension:c,forceShouldAnimate:m,snapshot:t(i,u,d,p,null)}}}),o=function(i,c){if(i.isDragging){if(i.critical.draggable.id!==c.draggableId)return null;var u=i.current.client.offset,d=i.dimensions.draggables[c.draggableId],p=Kc(i.impact),m=xgt(i.impact),f=i.forceShouldAnimate;return n(e(u.x,u.y),i.movementMode,d,c.isClone,p,m,f)}if(i.phase==="DROP_ANIMATING"){var h=i.completed;if(h.result.draggableId!==c.draggableId)return null;var g=c.isClone,x=i.dimensions.draggables[c.draggableId],y=h.result,D=y.mode,v=ybe(y),T=bgt(y),I=i.dropDuration,P={duration:I,curve:J4.drop,moveTo:i.newHomeClientOffset,opacity:T?mT.opacity.drop:null,scale:T?mT.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:x,dropping:P,draggingOver:v,combineWith:T,mode:D,forceShouldAnimate:null,snapshot:t(D,g,v,T,P)}}}return null};return o}function Cbe(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var Cgt={mapped:{type:"SECONDARY",offset:Oi,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Cbe(null)}};function Dgt(){var e=Ea(function(c,u){return{x:c,y:u}}),t=Ea(Cbe),n=Ea(function(c,u,d){return u===void 0&&(u=null),{mapped:{type:"SECONDARY",offset:c,combineTargetFor:u,shouldAnimateDisplacement:d,snapshot:t(u)}}}),o=function(u){return u?n(Oi,u,!0):null},s=function(u,d,p,m){var f=p.displaced.visible[u],h=!!(m.inVirtualList&&m.effected[u]),g=Gw(p),x=g&&g.draggableId===u?d:null;if(!f){if(!h)return o(x);if(p.displaced.invisible[u])return null;var y=ED(m.displacedBy.point),D=e(y.x,y.y);return n(D,x,!0)}if(h)return o(x);var v=p.displacedBy.point,T=e(v.x,v.y);return n(T,x,f.shouldAnimate)},i=function(u,d){if(u.isDragging)return u.critical.draggable.id===d.draggableId?null:s(d.draggableId,u.critical.draggable.id,u.impact,u.afterCritical);if(u.phase==="DROP_ANIMATING"){var p=u.completed;return p.result.draggableId===d.draggableId?null:s(d.draggableId,p.result.draggableId,p.impact,p.afterCritical)}return null};return i}var Sgt=function(){var t=ygt(),n=Dgt(),o=function(i,c){return t(i,c)||n(i,c)||Cgt};return o},vgt={dropAnimationFinished:Xge},jgt=Sge(Sgt,vgt,null,{context:rW,pure:!0,areStatePropsEqual:xbe})(ggt);function Dbe(e){var t=PR(aW),n=t.isUsingCloneFor;return n===e.draggableId&&!e.isClone?null:Dn.createElement(jgt,e)}function Zw(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,o=!!e.shouldRespectForcePress;return Dn.createElement(Dbe,$({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:o}))}function Igt(e){var t=a.useContext(Jw);t||Vn();var n=t.contextId,o=t.isMovementAllowed,s=a.useRef(null),i=a.useRef(null),c=e.children,u=e.droppableId,d=e.type,p=e.mode,m=e.direction,f=e.ignoreContainerClipping,h=e.isDropDisabled,g=e.isCombineEnabled,x=e.snapshot,y=e.useClone,D=e.updateViewportMaxScroll,v=e.getContainerForClone,T=Fr(function(){return s.current},[]),I=Fr(function(L){s.current=L},[]);Fr(function(){return i.current},[]);var P=Fr(function(L){i.current=L},[]),E=Fr(function(){o()&&D({maxScroll:rbe()})},[o,D]);tgt({droppableId:u,type:d,mode:p,direction:m,isDropDisabled:h,isCombineEnabled:g,ignoreContainerClipping:f,getDroppableRef:T});var k=Dn.createElement(agt,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(L){var K=L.onClose,z=L.data,J=L.animate;return Dn.createElement(sgt,{placeholder:z,onClose:K,innerRef:P,animate:J,contextId:n,onTransitionEnd:E})}),w=Wo(function(){return{innerRef:I,placeholder:k,droppableProps:{"data-rbd-droppable-id":u,"data-rbd-droppable-context-id":n}}},[n,u,k,I]),A=y?y.dragging.draggableId:null,F=Wo(function(){return{droppableId:u,type:d,isUsingCloneFor:A}},[u,A,d]);function _(){if(!y)return null;var L=y.dragging,K=y.render,z=Dn.createElement(Dbe,{draggableId:L.draggableId,index:L.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(J,Q){return K(J,Q,L)});return yj.createPortal(z,v())}return Dn.createElement(aW.Provider,{value:F},c(w,x),_())}var J_=function(t,n){return t===n.droppable.type},Fae=function(t,n){return n.draggables[t.draggable.id]},Tgt=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n=$({},t,{shouldAnimatePlaceholder:!1}),o=Ea(function(c){return{draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}}}),s=Ea(function(c,u,d,p,m,f){var h=m.descriptor.id,g=m.descriptor.droppableId===c;if(g){var x=f?{render:f,dragging:o(m.descriptor)}:null,y={isDraggingOver:d,draggingOverWith:d?h:null,draggingFromThisWith:h,isUsingPlaceholder:!0};return{placeholder:m.placeholder,shouldAnimatePlaceholder:!1,snapshot:y,useClone:x}}if(!u)return n;if(!p)return t;var D={isDraggingOver:d,draggingOverWith:h,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:m.placeholder,shouldAnimatePlaceholder:!0,snapshot:D,useClone:null}}),i=function(u,d){var p=d.droppableId,m=d.type,f=!d.isDropDisabled,h=d.renderClone;if(u.isDragging){var g=u.critical;if(!J_(m,g))return n;var x=Fae(g,u.dimensions),y=Kc(u.impact)===p;return s(p,f,y,y,x,h)}if(u.phase==="DROP_ANIMATING"){var D=u.completed;if(!J_(m,D.critical))return n;var v=Fae(D.critical,u.dimensions);return s(p,f,ybe(D.result)===p,Kc(D.impact)===p,v,h)}if(u.phase==="IDLE"&&u.completed&&!u.shouldFlush){var T=u.completed;if(!J_(m,T.critical))return n;var I=Kc(T.impact)===p,P=!!(T.impact.at&&T.impact.at.type==="COMBINE"),E=T.critical.droppable.id===p;return I?P?t:n:E?t:n}return n};return i},Ogt={updateViewportMaxScroll:_mt};function Egt(){return document.body||Vn(),document.body}var Pgt={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Egt},JT=Sge(Tgt,Ogt,null,{context:rW,pure:!0,areStatePropsEqual:xbe})(Igt);JT.defaultProps=Pgt;const iW=a.memo(a.forwardRef((e,t)=>{const{children:n,loading:o=!1,elevation:s=8,HeaderComponent:i,...c}=e;return r.jsxs(_s,{ref:t,elevation:s,...c,children:[!o&&r.jsx(i,{}),r.jsx(jt,{sx:[u=>({...!o&&{"& .MuiAutocomplete-listbox":{}}})],children:n})]})}));iW.propTypes={children:l.oneOfType([l.node,l.array]),loading:l.bool,HeaderComponent:l.elementType,elevation:l.oneOfType([l.string,l.number])};iW.displayName="OptionGridPaper";const Rgt=it(jt,{shouldForwardProp:e=>!["focusedBackgroundColor","size","hideBorders","hideControls","disableFadeOut"].includes(e)})(({theme:e,focusedBackgroundColor:t,size:n,hideBorders:o,width:s,hideControls:i,disableFadeOut:c})=>({...o&&{"& fieldset":{border:"none"}},...i&&{"& .MuiAutocomplete-popupIndicator":{opacity:0},"& .MuiAutocomplete-hasPopupIcon .MuiOutlinedInput-root, & .MuiAutocomplete-hasClearIcon .MuiOutlinedInput-root":{paddingRight:0}},...i&&{pointerEvents:"none"},...c&&{"& .MuiInputBase-input.Mui-disabled":{color:"initial",textFillColor:"initial"}},"& .MuiAutocomplete-groupLabel":{backgroundColor:e.palette.primary.main,...n==="small"&&{lineHeight:"30px"}},"& .MuiAutocomplete-option[data-focus=true]":{backgroundColor:t||"#b6f0ff"},"& .MuiOutlinedInput-root.MuiInputBase-root.MuiInputBase-sizeSmall":{},"& .MuiInputBase-root .MuiChip-root":{marginTop:"1px",marginBottom:"-1px",marginRight:"2px"},"& ::-webkit-scrollbar":{width:"8px",borderRadius:e.spacing(.5),backgroundColor:"rgba(0, 0, 0, .03)"},"& ::-webkit-scrollbar-thumb":{borderRadius:e.spacing(.5),backgroundColor:"rgba(0, 0, 0, .2)"},...!s&&{width:"100%"}})),Sbe=a.createContext({}),vbe=a.forwardRef((e,t)=>{const n=a.useContext(Sbe);return r.jsx("div",{ref:t,...e,...n})});vbe.displayName="RWOuterElementType";const jbe=a.createContext(),X_=8,wgt=48,kgt=36,Agt=e=>{const t=a.useRef(null);return a.useEffect(()=>{t.current!=null&&t.current.resetAfterIndex(0,!0)},[e]),t},Ngt="???",ek=a.memo(a.forwardRef((e,t)=>{const{children:n,...o}=e,s=a.useContext(jbe),{GridRowComponent:i,renderOptionLabel:c}=s,u=a.useCallback(D=>{const{data:v,index:T,style:I}=D,P=v[T],{key:E,...k}=P[0],w=P[1],A={...I,top:I.top+X_};return P.group!==void 0?r.jsx(uw,{component:"div",style:A,children:P.group},P.key):r.jsx(nn,{component:"li",...k,noWrap:!0,style:A,children:i?r.jsx(i,{value:w}):c?c(w):Ngt},E)},[i,c]),d=a.useMemo(()=>{let D=[];return n.forEach(v=>{D.push(v),D.push(...v.children||[])}),D},[n]),p=qs(),m=Xl(p.breakpoints.up("sm"),{noSsr:!0}),f=a.useMemo(()=>d.length,[d==null?void 0:d.length]),h=a.useMemo(()=>m?kgt:wgt,[m]),g=a.useCallback(D=>D.group!==void 0?48:h,[h]),x=Agt(f),y=a.useMemo(()=>f>8?8*h+2*X_:d.map(g).reduce((D,v)=>D+v,0)+2*X_,[g,f,d,h]);return r.jsx(jt,{ref:t,sx:{"& ul":{margin:0}},children:r.jsx(Sbe.Provider,{value:o,children:r.jsx(Nlt,{itemData:d,height:y,width:"100%",ref:x,outerElementType:vbe,innerElementType:"ul",itemSize:D=>g(d[D]),overscanCount:5,itemCount:f,children:u})})})}));ek.displayName="VirtualizedPickerListbox";ek.propTypes={children:l.oneOfType([l.node,l.array]),renderRow:l.func};const lW=a.forwardRef((e,t)=>{const{open:n}=e,o=a.useRef(null),s=a.useCallback(i=>{console.log("OptionPickerPopper.setRef invoked"),o.current=i,typeof t=="function"?t(i):t&&(t.current=i)},[t]);return a.useEffect(()=>{n&&setTimeout(()=>{console.log("OptionPickerPopper "),o.current&&o.current.focus()},0)},[n]),r.jsx(Xp,{...e,ref:s})});lW.displayName="OptionPickerPopper";lW.propTypes={open:l.bool};const Kn=a.createContext();Kn.displayName="DSGContext";const Fgt={autoHighlight:!0},Mgt="${input} ",_gt=e=>e,Lgt="???",Wh=a.memo(a.forwardRef((e,t)=>{const{tagDisabled:n,onChange:o,dense:s=!1,dnd:i=!1,size:c="small",hideBorders:u=!1,hideControls:d=!1,disableFadeOut:p=!1,name:m,dontFilterOptions:f,stringify:h,options:g,sx:x=[],noOptionsText:y="",clearText:D="",closeText:v="",openText:T="",TextFieldProps:I,value:P,loading:E=!1,loadingText:k="...",multiple:w=!1,getOptionLabel:A,getTitle:F,renderOptionLabel:_,autoFocus:L,placeholder:K,inputRef:z,label:J,fullWidth:Q,variant:V,InputProps:W,inputProps:U,InputLabelProps:X,required:te,error:se=!1,helperText:he,disabled:pe=!1,onTextChange:ue,renderTagLabel:ge,getOptionKey:Ce,labelShrink:Te=!1,width:Ne,BoxProps:xe,focusedBackgroundColor:me="#b6f0ff",open:de,onOpen:ce,onClose:ee,disableClose:De,disableOpenOnInput:ke,findByInput:He,getError:qe,setError:Le,clearErrors:_e,notFoundText:H=Mgt,toastError:re,virtualize:q,renderOption:Y,renderGroup:ie,optionLabelSize:B,PaperComponent:Z,GridHeaderComponent:ye,GridRowComponent:Ie,cellComponentRef:le,handleFocusNextCell:fe,handleFocusPrevCell:Ae,cell:Se,inFormMeta:be,handleFocusNextField:Me,disableEnter:we,emptyId:Ge,isFieldDisabled:We,setFocus:Ee,supressEvents:Xe,isTouched:ot,isDirty:ze,blurToLookup:tt=!1,blurToClearErrors:ft=!0,slotProps:ht,borderless:en,focusNextCellOnChange:un=!0,focusNextFieldOnChange:Je=!0,filterOptions:qt,freeSolo:Tt=!1,...Jt}=e,st=a.useContext(Kn),Dt=a.useMemo(()=>!!st,[st]),Gt=a.useCallback(Zt=>{if(Oo.isFunction(H))return H(Zt);if(Oo.isString(H))return vo.template(H)(Zt)},[H]),An=a.useMemo(()=>f||qt||h,[f,qt,h]),_n=a.useMemo(()=>f?_gt:qt??(h?Ub({stringify:h}):null),[f,qt,h]),pt=a.useRef({dirty:!1,skipBlur:!1,performFocusNext:!1}),Rt=a.useRef();a.useImperativeHandle(z,()=>Rt.current);const Ze=a.useMemo(()=>w?[]:null,[w]),dn=a.useCallback(()=>{o(Ze)},[Ze,o]),Yt=a.useCallback((Zt,on,an)=>{!Zt.target.value&&P&&(dn(),m&&_e&&_e(m)),pt.current.dirty=!0,ue&&ue(Zt,on,an),m&&_e&&_e(m)},[_e,dn,m,ue,P]),[lt,Qe]=a.useState(de||!1),rn=a.useCallback((Zt,on={})=>{const{override:an=!1}=on;lt||(!ke||Zt.type==="click"||an)&&(console.log("OptionPicker.handleOpen",Zt),ce&&ce(Zt),Qe(!0))},[lt,ke,ce]),Cn=a.useCallback(Zt=>{ee&&ee(Zt),De||Qe(!1)},[De,ee]),gr=a.useMemo(()=>de??lt,[de,lt]),sn=a.useCallback((Zt,on={})=>{const{forward:an,nextCell:vr=!1}=on;Dt?vr&&fe(Se,{forward:an||!(Zt!=null&&Zt.shiftKey)}):be&&Me&&Je&&(console.log(`${Wh.displayName}.handleFocusNextCellOrField preventDefault`),Zt==null||Zt.preventDefault(),Me(m,{setFocus:Ee,isFieldDisabled:We,forward:an||!(Zt!=null&&Zt.shiftKey),e:Zt}))},[Dt,be,fe,Se,Me,Je,m,Ee,We]),Sr=a.useCallback((Zt,on,an)=>{console.log(`OptionPickerView.handleChange(value: ${on}, reason: ${an}), event:`,Zt),pt.current.dirty=!1,o&&(console.log(`	triggered from parent, reason: ${an}, event: `,Zt),o(on,an)),m&&_e&&_e(m)},[_e,m,o]),ts=a.useCallback(()=>{var Zt;(Zt=Rt.current)==null||Zt.select()},[]),ds=a.useCallback((Zt=!0)=>{var on,an;console.log("refocus",Zt),Dt&&Ae(),(on=Rt.current)==null||on.focus(),Zt&&((an=Rt.current)==null||an.select())},[Ae,Dt]),ra=a.useCallback((Zt,on={})=>{const{error:an}=on;if(m&&re)ae.error(Gt({input:Zt,error:an}));else if(m&&Le){Le(m,{type:"manual",message:Gt({input:Zt,error:an})});return}else console.warn("findByInput not found, but [name] or [setError] is not set")},[Gt,m,Le,re]),ro=a.useCallback(async(Zt,on={})=>{const{validate:an=!1}=on;if(m&&_e&&_e(m),gr||!be&&!Dt)return;console.log(`${Wh.displayName}.handleLookup.preventDefault+stopPropagation`),Zt.preventDefault(),Zt.stopPropagation();const vr=Zt.target.value;if(pt.current.dirty&&He&&(vr||Ge)){console.log("handleLookup",Zt.key);let mr,Jr;try{mr=vr||Ge?await He(vr):null}catch(Ro){Jr=Ro}if(mr)pt.current.dirty=!1;else{ra(vr,{error:Jr}),ts();return}w?o([...P,mr]):(vo.isEqual(mr,P)&&(pt.current.dirty=!1,sn(Zt,on)),o(mr))}else{if(an){const mr=await qe();if(mr){console.log("error:",mr),m&&Le?Le(m,mr):console.warn("getError failed, but [name] or [setError] is not set");return}}sn(Zt,{...on,nextCell:!0})}},[m,_e,gr,be,Dt,He,Ge,w,ra,ts,o,P,sn,qe,Le]),hc=a.useCallback(Zt=>{Zt.preventDefault(),rn(Zt,{override:!0})},[rn]),ci=a.useCallback(Zt=>{switch(Zt.key){case"Enter":if(we||Zt.shiftKey||Zt.ctrlKey||!ro)return;ro(Zt,{validate:!0,forward:!0});break;case"Tab":if(Tt||!ro)return;ro(Zt,{validate:!1});break;case"ArrowDown":hc(Zt);break}},[we,Tt,hc,ro]),Pf=a.useCallback(Zt=>{switch(Zt.key){case"ArrowUp":case"ArrowDown":case"Enter":!Zt.shiftKey&&!Zt.ctrlKey&&(console.log("handleAutocompleteKeyDown.stopPropagation",Zt.key),Zt.stopPropagation());break}},[]),wi=a.useCallback(async(Zt,on)=>{if(ft&&m&&_e&&_e(m),gr||!be&&!Dt)return;Zt.preventDefault();const an=Zt.target.value;if(tt&&pt.current.dirty&&He&&(an||Ge)){if(Tt)return;console.log("handleBlur: ",an);let vr;vr=an||Ge?await He(an):null,vr?(pt.current.dirty=!1,w?o([...P,vr]):(vo.isEqual(vr,P)&&(pt.current.dirty=!1,sn(Zt,on)),o(vr))):(ra(an),ds())}},[ft,m,_e,gr,be,Dt,tt,He,Ge,Tt,w,o,P,sn,ra,ds]),Du=a.useMemo(()=>en?"":J,[en,J]),wl=a.useCallback(Zt=>r.jsx(SD,{required:te,label:Du,size:c,fullWidth:Q,error:se,helperText:he,inputRef:Rt,variant:V,placeholder:d?"":K,autoFocus:L,onChange:Yt,onKeyDown:ci,onBlur:wi,...Zt,sx:[{...te&&!se&&{"& .MuiInputLabel-root:not(.Mui-focused)":{color:Nn.REQUIRED},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:Nn.REQUIRED}}},...en&&{"& .MuiFilledInput-root":{paddingTop:0,paddingLeft:"4px",paddingRight:0,...ur.GRADIENT_INPUT_BG,...ur.GRADIENT_INPUT_BG_HOVER,...ur.GRADIENT_INPUT_BG_FOCUSED}}}],InputProps:{...Zt.InputProps,...en&&{disableUnderline:!0},...W,...ht==null?void 0:ht.input,endAdornment:r.jsxs(r.Fragment,{children:[E?r.jsx(RT,{color:"inherit",size:20}):null,Zt.InputProps.endAdornment]})},inputProps:{...Zt.inputProps,...U},...I,...ht==null?void 0:ht.textField,...en&&{variant:"filled"},InputLabelProps:{...ur.DEFAULT_OPTION_PICKER_INPUT_LABEL_PROPS,...Zt.InputLabelProps,...X,...Te&&{shrink:!0}}}),[X,W,I,Du,L,en,se,Q,wi,ci,Yt,he,d,U,Te,E,K,te,c,ht==null?void 0:ht.input,ht==null?void 0:ht.textField,V]),ul=a.useCallback(Zt=>r.jsx(JT,{droppableId:m,direction:"horizontal",children:on=>r.jsxs("div",{...on.droppableProps,ref:on.innerRef,children:[wl(Zt),on.placeholder]})}),[m,wl]),ui=a.useCallback(Zt=>i?ul(Zt):wl(Zt),[i,ul,wl]),Su=a.useCallback((Zt,on)=>Zt==null?void 0:Zt.map((an,vr)=>{const mr=Ce?Ce(an):an,Jr=ge?ge(an):A?A(an):an;return r.jsx(XI,{label:Jr,size:"small",color:"primary",...on({index:vr}),...n&&{disabled:n(an)}},mr)}),[Ce,A,ge,n]),di=a.useCallback((Zt,on)=>Zt==null?void 0:Zt.map((an,vr)=>{const mr=Ce?Ce(an):an,Jr=ge?ge(an):A?A(an):null;return r.jsx(Zw,{draggableId:mr,index:vr,children:Ro=>r.jsx(XI,{label:Jr,size:"small",color:"primary",ref:Ro.innerRef,...Ro.draggableProps,...Ro.dragHandleProps,...on({index:vr}),...n&&{disabled:n(an)}})},mr)}),[Ce,A,ge,n]),Rf=a.useCallback((Zt,on,an)=>i?di(Zt,on,an,n):Su(Zt,on,an),[i,di,Su,n]),wf=a.useMemo(()=>F?F(P):w?null:P?A?A(P):P:null,[A,F,w,P]),dm=a.useMemo(()=>{switch(B){case"xs":return{fontSize:"70%"};case"sm":return{fontSize:"80%"};case"md":return{fontSize:"90%"};default:return{}}},[B]),gc=a.useCallback(Zt=>Zt,[]),dd=a.useCallback((Zt,on)=>{const{key:an,style:vr,...mr}=Zt,Jr=_||A||gc;return r.jsx("li",{style:{...vr,...dm},...mr,children:Ie?r.jsx(Ie,{value:on}):Jr?Jr(on):Lgt},an)},[Ie,gc,A,dm,_]),kl=a.useCallback((Zt,on,an)=>{let vr;return B==="small"?vr="body2":B==="medium"&&(vr="body1"),[{...Zt,...vr&&{variant:vr}},on,an.index]},[B]),bc=a.useMemo(()=>q?kl:Y||dd,[q,Y,dd,kl]),Hi=a.useCallback(Zt=>Zt,[]),xt=a.useMemo(()=>q?Hi:ie,[ie,Hi,q]),Fn=a.useMemo(()=>Ie?iW:Z||_s,[Ie,Z]),Wn=a.useMemo(()=>Q?"100%":Ne||"fill-available",[Q,Ne]);mn(()=>{console.log(`[${m}].value changed`,P),P&&ot!==!0&&!w&&!Xe&&!pe?(console.log(`	handleFocusNextCellOrField triggered, inFormMeta: ${be}, isTouched: ${ot}, inDSG: ${Dt}`),pt.current.performFocusNext=!1,sn()):console.log("	handleFocusNextCellOrField not triggered")},[P]);const vn=a.useMemo(()=>P??Ze,[Ze,P]),kr=a.useMemo(()=>((!g||!Array.isArray(g))&&Ad.warn(`options  ${g},  []`),!g||!Array.isArray(g)?[]:g),[g]);return r.jsx(jbe.Provider,{value:{GridRowComponent:Ie,renderOptionLabel:_||A},children:r.jsx(Rgt,{hideBorders:u,focusedBackgroundColor:me,hideControls:d,disableFadeOut:p,size:c,title:wf,width:Wn,...xe,children:r.jsx(Npe,{onKeyDown:Pf,onChange:Sr,ref:t,size:c,PaperComponent:({...Zt})=>r.jsx(Fn,{elevation:8,...ye&&{HeaderComponent:ye},...Zt,...ht==null?void 0:ht.paper}),disabled:pe,noOptionsText:y,clearText:D,closeText:v,openText:T,multiple:w,renderInput:ui,renderTags:Rf,loading:E,loadingText:k,value:vn,options:kr,getOptionLabel:A,renderOption:bc,renderGroup:xt,...An&&{filterOptions:_n},onOpen:rn,onClose:Cn,PopperComponent:lW,open:gr,freeSolo:Tt,sx:[{...pe&&{"&.MuiAutocomplete-root .MuiAutocomplete-popupIndicator":{display:"none"},"&.MuiAutocomplete-root.MuiAutocomplete-hasPopupIcon .MuiInputBase-root.Mui-disabled ":{paddingRight:0,paddingTop:0}},...s&&{"&.MuiAutocomplete-root .MuiInputBase-root.MuiInputBase-sizeSmall":{paddingTop:"2px",paddingBottom:"2px",paddingLeft:"2px"}},"& .MuiFormHelperText-root":{marginTop:0}},...Array.isArray(x)?x:[x]],...!Tt&&Fgt,...Jt,...q&&{ListboxComponent:ek},...q&&{disableListWrap:!0}})})})}));Wh.displayName="OptionPickerView";Wh.propTypes={onChange:l.func,dnd:l.bool,dense:l.bool,size:l.string,hideBorders:l.bool,hideControls:l.bool,disablePointerEvents:l.bool,disableFadeOut:l.bool,name:l.string,options:l.array,sx:l.oneOfType([l.array,l.object]),noOptionsText:l.string,openText:l.string,clearText:l.string,closeText:l.string,TextFieldProps:l.object,loading:l.bool,loadingText:l.string,multiple:l.bool,ChipProps:l.object,placeholder:l.string,autoFocus:l.bool,inputRef:l.oneOfType([l.func,l.object]),label:l.string,fullWidth:l.bool,variant:l.string,InputProps:l.object,inputProps:l.object,InputLabelProps:l.object,required:l.bool,error:l.bool,helperText:l.string,disabled:l.bool,onTextChange:l.func,getOptionLabel:l.func,BoxProps:l.object,focusedBackgroundColor:l.string,width:l.oneOfType([l.string,l.number]),value:l.oneOfType([l.string,l.number,l.object,l.array]),renderTagLabel:l.func,getOptionKey:l.func,getTitle:l.func,virtualize:l.bool,labelShrink:l.bool,renderOption:l.func,renderGroup:l.func,dontFilterOptions:l.bool,stringify:l.func,renderOptionLabel:l.func,optionLabelSize:l.string,GridHeaderComponent:l.elementType,GridRowComponent:l.elementType,PaperComponent:l.elementType,tagDisabled:l.func,findByInput:l.func,onOpen:l.func,onClose:l.func,open:l.bool,focusDelay:l.number,disableOpenOnInput:l.bool,getError:l.func,setError:l.func,clearErrors:l.func,notFoundText:l.oneOfType([l.string,l.func]),handleFocusNextCell:l.func,handleFocusPrevCell:l.func,cell:l.object,toastError:l.bool,disableClose:l.bool,getNextField:l.func,handleFocusNextField:l.func,isFieldDisabled:l.func,setFocus:l.func,inDSG:l.bool,inFormMeta:l.bool,disableEnter:l.bool,emptyId:l.bool,supressEvents:l.bool,cellComponentRef:l.oneOfType([l.func,l.object]),isTouched:l.bool,isDirty:l.bool,borderless:l.bool,slotProps:l.object,focusNextCellOnChange:l.bool,focusNextFieldOnChange:l.bool,filterOptions:l.func};const RR=a.memo(a.forwardRef((e,t)=>{const{multiple:n,name:o,open:s,options:i,onOpen:c,onClose:u,onChange:d,disabled:p=!1,url:m,method:f="get",disableLazy:h=!1,queryParam:g="q",querystring:x,params:y,headers:D,filterByServer:v=!1,queryRequired:T=!1,bearer:I,typeToSearchText:P,noOptionsText:E,fetchErrorText:k,triggerDelay:w,defaultOptions:A=[],triggerServerFilter:F,getOptions:_,onError:L,disableClose:K,disableOnSingleOption:z,inputParam:J,findByInput:Q,disableOpenOnInput:V,clearOnChange:W,clearOptionsOnChange:U,clearValueOnChange:X,mockDelay:te,sharedKey:se,...he}=e,{open:pe,onOpen:ue,onClose:ge,onChange:Ce,loading:Te,options:Ne,noOptionsText:xe,onInputChange:me,disabled:de,findByInput:ce,openPopper:ee,closePopper:De,onTextChange:ke}=jdt({name:o,disableOnSingleOption:z,disableClose:K,multiple:n,url:m,options:i,method:f,bearer:I,disableLazy:h,queryParam:g,querystring:x,params:y,headers:D,filterByServer:v,queryRequired:T,typeToSearchText:P,noOptionsText:E,fetchErrorText:k,triggerDelay:w,defaultOptions:A,triggerServerFilter:F,getOptions:_,onError:L,open:s,onOpen:c,onClose:u,onChange:d,inputParam:J,findByInput:Q,disableOpenOnInput:V,clearOnChange:W,clearOptionsOnChange:U,clearValueOnChange:X,mockDelay:te,sharedKey:se});return a.useImperativeHandle(t,()=>({openPopper:ee,closePopper:De})),r.jsx(Wh,{multiple:n,ref:t,name:o,loading:Te,options:Ne,noOptionsText:xe,disabled:p||de,onInputChange:me,open:pe,onOpen:ue,onClose:ge,onChange:Ce,findByInput:ce,disableOpenOnInput:V,onTextChange:ke,...he})}));RR.displayName="WebApiOptionPicker";RR.propTypes={disabled:l.bool,name:l.string,bearer:l.string,onChange:l.func,ChipProps:l.object,filterByServer:l.bool,queryRequired:l.bool,url:l.string,method:l.oneOf(["get","post"]),disableLazy:l.bool,queryParam:l.string,querystring:l.string,headers:l.object,params:l.object,typeToSearchText:l.string,noOptionsText:l.string,fetchErrorText:l.string,triggerDelay:l.number,defaultOptions:l.array,triggerServerFilter:l.func,getOptions:l.func,onError:l.func,onClose:l.func,onOpen:l.func,multiple:l.bool,disableClose:l.bool,disableOnSingleOption:l.bool,autoSelectSingleOption:l.bool,open:l.bool,disableOpenOnInput:l.bool,clearOnChange:l.bool,clearValueOnChange:l.bool,clearOptionsOnChange:l.bool,findByInput:l.func,inputParam:l.string,options:l.array,mockDelay:l.number,sharedKey:l.string};const $gt={np:1},XT=a.memo(a.forwardRef((e,t)=>{const{name:n,control:o,rules:s,labelShrink:i=!1,defaultValue:c=null,sx:u=[],onChange:d,onChanged:p,params:m=$gt,...f}=e,h=Ke(),{setFocus:g}=h||{},x=a.useContext(Lr),{handleFocusNextField:y,isFieldDisabled:D,disableEnter:v}=x||{},T=!!x,I=a.useRef(),P=a.useCallback(async(E={debug:!1})=>{if(!n)return;if(await h.trigger(n))return!1;const w=h.getFieldState(n);return console.error(`${n}.fieldState.error`,w.error),w.error},[h,n]);return n?r.jsx(rm,{name:n,defaultValue:c,control:o,rules:s,render:({field:E,fieldState:{isTouched:k,isDirty:w,error:A}})=>(I.current=JSON.stringify(E.value),r.jsx(RR,{name:n,ref:t,inputRef:E.ref,value:E.value,sx:[{},...Array.isArray(u)?u:[u]],getError:P,setError:h.setError,clearErrors:h.clearErrors,inFormMeta:T,isTouched:k,isDirty:w,setFocus:g,disableEnter:v,handleFocusNextField:y,isFieldDisabled:D,params:m,onChange:async(F,_)=>{let L;d&&(L=await d(F,_)),L!==void 0?E.onChange(L):E.onChange(F);const K=JSON.stringify(F);p&&K!==I.current&&(p(F),I.current=K,console.log(`[${n}].changed`,F))},InputLabelProps:{...i&&{shrink:!0}},error:!!A,helperText:A==null?void 0:A.message,...f}))}):r.jsx(RR,{sx:[{},...Array.isArray(u)?u:[u]],InputLabelProps:{...i&&{shrink:!0}},defaultValue:c,...f})}));XT.displayName="ControlledWebApiOptionPicker";XT.propTypes={name:l.string,control:l.object,rules:l.object,labelShrink:l.bool,defaultValue:l.oneOfType([l.string,l.number,l.object]),sx:l.oneOfType([l.object,l.array]),onChange:l.func,onChanged:l.func,params:l.object};const Bgt=Object.freeze({ERROR:"error",WARNING:"warning",INFO:"info",SUCCESS:"success"}),bh={...Bgt},Wgt=({condition:e,wrapper:t,children:n})=>e?t(n):n,Mae="default",Ugt="outlined",qgt=()=>({root:{},defaultError:{backgroundColor:"#f44336",color:"#fff"},defaultWarning:{backgroundColor:"#ff9800",color:"#fff"},defaultInfo:{backgroundColor:"#2196f3",color:"#fff"},defaultSuccess:{backgroundColor:"#4caf50",color:"#fff"},outlinedError:{color:"#f44336",borderColor:"#f44336",backgroundColor:"rgb(253, 236, 234)"},outlinedWarning:{color:"#ff9800",borderColor:"#ff9800",backgroundColor:"rgb(255, 244, 229)"},outlinedInfo:{color:"#2196f3",borderColor:"#2196f3",backgroundColor:"rgb(232, 244, 253)"},outlinedSuccess:{color:"#4caf50",borderColor:"#4caf50",backgroundColor:"rgb(237, 247, 237)"},square:{borderRadius:0}}),Vgt=Gd("div",{shouldForwardProp:e=>![].includes(e)})(({theme:e})=>({position:"relative"})),zgt=Gd("div",{shouldForwardProp:e=>![].includes(e)})(({theme:e,color:t})=>({top:0,right:28,position:"absolute",zIndex:1e4})),AC=a.memo(a.forwardRef((e,t)=>{const{variant:n=Mae,color:o="default",square:s=!1,severity:i,className:c,children:u,htmlColor:d,htmlTextColor:p,borderRadius:m,fullWidth:f=!1,secondIcon:h,sx:g=[],...x}=e,y=a.useMemo(()=>qgt(),[m,d,p]),D=a.useMemo(()=>{let v;if(i){if(n===Ugt)switch(i){case bh.ERROR:v=y.outlinedError;break;case bh.WARNING:v=y.outlinedWarning;break;case bh.INFO:v=y.outlinedInfo;break;case bh.SUCCESS:v=y.outlinedSuccess;break}else if(n===Mae)switch(i){case bh.ERROR:v=y.defaultError;break;case bh.WARNING:v=y.defaultWarning;break;case bh.INFO:v=y.defaultInfo;break;case bh.SUCCESS:v=y.defaultSuccess;break}}return v},[y.defaultError,y.defaultInfo,y.defaultSuccess,y.defaultWarning,y.outlinedError,y.outlinedInfo,y.outlinedSuccess,y.outlinedWarning,i,n]);return r.jsx(Wgt,{condition:h,wrapper:v=>r.jsxs(Vgt,{children:[v,r.jsx(zgt,{color:o,children:h})]}),children:r.jsx(XI,{ref:t,color:o,variant:n,sx:[D,!!s&&y.square,{...d&&{backgroundColor:d},...p&&{color:p},...m&&{borderRadius:m},...f&&{width:"100%"}},...Array.isArray(g)?g:[g]],...x})})})),cW=a.memo(e=>{const{value:t,getOptionLabel:n,getOptionKey:o,sx:s=[],...i}=e;return r.jsx(jt,{sx:[c=>({"& .MuiChip-root":{marginTop:"4px",marginRight:"2px"}}),...Array.isArray(s)?s:[s]],children:t==null?void 0:t.map(c=>r.jsx(AC,{label:n?n(c):c,...i},o?o(c):c))})});cW.propTypes={value:l.array,getOptionLabel:l.func,getOptionKey:l.func,sx:l.oneOfType([l.object,l.array])};cW.displayName="TypoChips";const uW=a.memo(a.forwardRef((e,t)=>{const{label:n,multiple:o,children:s,readOnly:i=!1,typoVariant:c="body1",typoProps:u,emptyText:d,name:p,editing:m=!0,size:f="small",variant:h="outlined",typoChip:g=!1,getOptionLabel:x,renderTagLabel:y,getOptionKey:D,disableClose:v,...T}=e,I=Ue({name:p}),P=a.useMemo(()=>{const E=y||x;return s||(o?!I||!Oo.isArray(I)||I.length===0?d:I==null?void 0:I.map(k=>E?E(k):k).join(", "):x?x(I):I)},[s,d,x,o,y,I]);return m?r.jsx(XT,{name:p,label:n,multiple:o,ref:t,variant:h,size:f,getOptionLabel:x,getOptionKey:D,disabled:i,renderTagLabel:y,disableClose:v,...T}):r.jsx(pn,{name:p,label:n,variant:c,emptyText:d,...u,children:g?r.jsx(cW,{value:I,getOptionLabel:x,getOptionKey:D}):P})}));uW.displayName="TypoWebApiOptionPicker";uW.propTypes={value:l.oneOfType([l.object,l.array]),readOnly:l.bool,variant:l.string,multiple:l.bool,getOptionKey:l.func,getOptionLabel:l.func,renderTagLabel:l.func,children:l.oneOfType([l.node,l.array]),label:l.string,typoVariant:l.string,typoProps:l.object,emptyText:l.string,typoChip:l.bool,name:l.string,size:l.string,editing:l.bool,disableClose:l.bool};const Ibe=a.forwardRef(({...e},t)=>{const{editing:n}=a.useContext(cr);return r.jsx(uW,{ref:t,editing:n,...e})});Ibe.displayName="TypoWebApiOptionPickerContainer";const Gr=(e,t=100)=>{const[n,o]=a.useState(e);return a.useEffect(()=>{const s=setTimeout(()=>{o(e)},t);return()=>{clearTimeout(s)}},[e,t]),n},wD=a.forwardRef((e,t)=>{const{name:n,control:o,rules:s,defaultValue:i=null,sx:c=[],onChange:u,onChanged:d,debounce:p=800,readOnly:m,...f}=e,h=Ke(),{setFocus:g}=h||{},x=a.useContext(Lr),{isFieldDisabled:y,handleFocusNextField:D,disableEnter:v}=x||{},T=!!x,[I,P]=a.useState(),E=Gr(I,p);mn(()=>{!m&&d&&d(E)},[E],{debug:!0});const k=a.useCallback(async(w={})=>{const{debug:A=!1}=w;if(!n)return;if(await h.trigger(n))return!1;const _=h.getFieldState(n);return console.error(`${n}.fieldState.error`,_.error),_.error},[h,n]);return n?r.jsx(rm,{name:n,defaultValue:i,control:o,rules:s,render:({field:w,fieldState:{isTouched:A,isDirty:F,error:_}})=>r.jsx(Wh,{name:n,ref:t,inputRef:w.ref,value:w.value,sx:[{},...Array.isArray(c)?c:[c]],getError:k,setError:h.setError,clearErrors:h.clearErrors,onChange:async L=>{P(L),console.log(`${wD.displayName}.onChange`,L),u&&await u(L),w.onChange(L)},error:!!_,helperText:_==null?void 0:_.message,inFormMeta:T,isTouched:A,isDirty:F,setFocus:g,handleFocusNextField:D,isFieldDisabled:y,disableEnter:v,readOnly:m,...f})}):r.jsx(Wh,{ref:t,setFocus:g,onChange:u,...f})});wD.displayName="ControlledOptionPicker";wD.propTypes={name:l.string,control:l.object,onChange:l.func,onChanged:l.func,rules:l.object,defaultValue:l.oneOfType([l.string,l.number,l.object]),sx:l.oneOfType([l.array,l.object])};const dW=a.memo(a.forwardRef((e,t)=>{const{multiple:n,readOnly:o=!1,name:s,children:i,label:c,typoVariant:u="body1",typoProps:d,emptyText:p="()",editing:m=!0,size:f="small",variant:h="outlined",getOptionLabel:g,...x}=e,y=Ue({name:s}),D=a.useMemo(()=>i||(n?y==null?void 0:y.map(v=>g?g(v):v).join(", "):g?g(y):y),[i,g,n,y]);return m?r.jsx(wD,{disabled:o,name:s,ref:t,label:c,variant:h,size:f,getOptionLabel:g,...x}):r.jsx(pn,{name:s,label:c,variant:u,emptyText:p,...d,children:D})}));dW.displayName="TypoOptionPicker";dW.propTypes={children:l.oneOfType([l.node,l.array]),readOnly:l.bool};const Tbe=a.forwardRef(({...e},t)=>{const{editing:n}=a.useContext(cr);return r.jsx(dW,{ref:t,editing:n,...e})});Tbe.displayName="TypoOptionPickerContainer";const bt=a.memo(a.forwardRef((e,t)=>{const{typo:n=!1,url:o,blurToLookup:s,select:i,...c}=e,d=!!a.useContext(Kn),p=a.useMemo(()=>s??!d,[s,d]);return i?r.jsx(yW,{...o&&{url:o},...c}):n?o?r.jsx(Ibe,{ref:t,url:o,blurToLookup:p,...c}):r.jsx(Tbe,{ref:t,blurToLookup:p,...c}):o?r.jsx(XT,{ref:t,url:o,blurToLookup:p,...c}):r.jsx(wD,{ref:t,blurToLookup:p,...c})}));bt.displayName="OptionPickerWrapper";bt.propTypes={select:l.bool,typo:l.bool,blurToLookup:l.bool,url:l.string};const tk=e=>{const{name:t,control:n,defaultValue:o,rules:s,children:i}=e;if(typeof i!="function")throw new Error("children  function({value, onChange, error})");return t?r.jsx(rm,{name:t,defaultValue:o,control:n,rules:s,render:({field:{value:c,onChange:u,ref:d},fieldState:{error:p}})=>i({value:c,onChange:u,ref:d,error:p})}):i({defaultValue:o,onChange:()=>{},ref:null,error:null})};tk.propTypes={name:l.string,control:l.object,defaultValue:l.any,rules:l.object,children:l.oneOfType([l.node,l.array,l.func]),onChange:l.func};var Q0={},_ae;function Hgt(){if(_ae)return Q0;_ae=1;var e=Qn();Object.defineProperty(Q0,"__esModule",{value:!0}),Q0.default=void 0;var t=e(sr()),n=rr();return Q0.default=(0,t.default)((0,n.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),Q0}var Ggt=Hgt();const Cf=qn(Ggt),nk=a.memo(e=>{const{value:t,onChange:n,IconComponent:o=Cf,IconProps:s,clearText:i="",...c}=e,u=a.useCallback(d=>{d==null||d.stopPropagation(),n("")},[n]);return r.jsx(jr,{title:t?i:"",children:r.jsx(br,{onClick:u,color:"inherit",size:"small",sx:[d=>({visibility:"hidden",opacity:0,transition:d.transitions.create("opacity",{easing:d.transitions.easing.sharp,duration:d.transitions.duration.leavingScreen}),...t&&{opacity:100,visibility:"visible"}})],...c,children:r.jsx(o,{color:"action",fontSize:"small",position:"end",...s})})})});nk.propTypes={value:l.string,onChange:l.func,IconComponent:l.oneOfType([l.func,l.elementType]),IconProps:l.object};nk.displayName="ClearInputButton";var Y0={},Lae;function Kgt(){if(Lae)return Y0;Lae=1;var e=Qn();Object.defineProperty(Y0,"__esModule",{value:!0}),Y0.default=void 0;var t=e(sr()),n=rr();return Y0.default=(0,t.default)((0,n.jsx)("path",{d:"M12 6c3.79 0 7.17 2.13 8.82 5.5-.59 1.22-1.42 2.27-2.41 3.12l1.41 1.41c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l1.65 1.65C10.66 6.09 11.32 6 12 6m-1.07 1.14L13 9.21c.57.25 1.03.71 1.28 1.28l2.07 2.07c.08-.34.14-.7.14-1.07C16.5 9.01 14.48 7 12 7c-.37 0-.72.05-1.07.14M2.01 3.87l2.68 2.68C3.06 7.83 1.77 9.53 1 11.5 2.73 15.89 7 19 12 19c1.52 0 2.98-.29 4.32-.82l3.42 3.42 1.41-1.41L3.42 2.45zm7.5 7.5 2.61 2.61c-.04.01-.08.02-.12.02-1.38 0-2.5-1.12-2.5-2.5 0-.05.01-.08.01-.13m-3.4-3.4 1.75 1.75c-.23.55-.36 1.15-.36 1.78 0 2.48 2.02 4.5 4.5 4.5.63 0 1.23-.13 1.77-.36l.98.98c-.88.24-1.8.38-2.75.38-3.79 0-7.17-2.13-8.82-5.5.7-1.43 1.72-2.61 2.93-3.53"}),"VisibilityOffOutlined"),Y0}var Qgt=Kgt();const Ygt=qn(Qgt);var J0={},$ae;function Jgt(){if($ae)return J0;$ae=1;var e=Qn();Object.defineProperty(J0,"__esModule",{value:!0}),J0.default=void 0;var t=e(sr()),n=rr();return J0.default=(0,t.default)((0,n.jsx)("path",{d:"M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4m0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7"}),"VisibilityOutlined"),J0}var Xgt=Jgt();const Bae=qn(Xgt),Z_={fontSize:"small",sx:{padding:0}},pW=e=>{const{label:t,passwordToggle:n=!1,passwordPressed:o=!1,type:s,inline:i,disabled:c,required:u,dense:d,error:p,borderless:m,disabledBackgroundColor:f="rgba(0,0,0,0.05)",hideSpinButtons:h,sx:g=[],endAdornment:x,...y}=e,[D,v]=a.useState(!1),T=a.useCallback(()=>{v(A=>!A)},[]),I=a.useCallback(()=>{v(!0)},[]),P=a.useCallback(()=>{v(!1)},[]),E=a.useMemo(()=>s==="password"&&D?"text":s,[D,s]),k=a.useMemo(()=>i||m?"":t,[m,i,t]),w=a.useMemo(()=>n||o||m||x,[m,x,o,n]);return r.jsxs(ve,{block:!i,sx:{fontWeight:700},children:[i&&t,r.jsx(SD,{label:k,type:E,disabled:c,required:u,error:p,sx:[()=>({"&:has(.MuiInputBase-input:focus)":{},...c&&!m&&{backgroundColor:f},"& .clearable":{visibility:"hidden"},"&:hover .clearable":{visibility:"visible"},...d&&{"& .MuiInputBase-input":{paddingLeft:1,paddingTop:.2,paddingBottom:.2,paddingRight:0}},"& .MuiFormHelperText-root":{marginTop:0},...u&&!p&&{"& .MuiInputLabel-root:not(.Mui-focused)":{color:Nn.REQUIRED},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:Nn.REQUIRED}}},...m&&{"& input":{padding:0,paddingLeft:"4px"},"& .MuiFilledInput-root":{...ur.GRADIENT_INPUT_BG,...!c&&ur.GRADIENT_INPUT_BG_HOVER,...!c&&ur.GRADIENT_INPUT_BG_FOCUSED,...c&&ur.TRANSPARENT_INPUT_BG}},...h&&{'& input[type="number"]::-webkit-inner-spin-button, & input[type="number"]::-webkit-outer-spin-button':{display:"none",paddingRight:"8px"},'& input[type="number"]':{MozAppearance:"textfield",paddingRight:"8px"}}}),...Array.isArray(g)?g:[g]],...y,...w&&{InputProps:{...n&&{endAdornment:r.jsx(Il,{position:"end",children:r.jsx(br,{onClick:T,edge:"end",children:D?r.jsx(Bae,{...Z_}):r.jsx(Ygt,{...Z_})})})},...o&&{endAdornment:r.jsx(Il,{position:"end",children:r.jsx(br,{onMouseDown:I,onMouseUp:P,edge:"end",size:"small",children:r.jsx(Bae,{...Z_})})})},...typeof x=="string"&&{endAdornment:r.jsx(Il,{position:"end",children:x})},...m&&{disableUnderline:!0}}},...m&&{variant:"filled"}})]})};pW.propTypes={label:l.string,passwordToggle:l.bool,passwordPressed:l.bool,type:l.string,dense:l.bool,borderless:l.bool,hideSpinButtons:l.bool,inline:l.bool,disabled:l.bool,required:l.bool,error:l.bool,disabledBackgroundColor:l.string,sx:l.oneOfType([l.object,l.array]),endAdornment:l.oneOfType([l.object,l.string])};pW.displayName="TextFieldExView";const Ud=({name:e,multiline:t,placeholder:n,label:o,readOnly:s=!1,control:i,onChange:c,rules:u,labelShrink:d=!1,defaultValue:p="",InputProps:m,inputProps:f,clearable:h,EndAdornmentComponent:g,InputLabelProps:x,inline:y,slotProps:D,...v})=>{const T=a.useContext(Lr),{isFieldDisabled:I,handleFocusNextField:P,disableEnter:E}=T||{},k=Ke(),{endAdornment:w,...A}=m||{},{endAdornment:F,..._}=(D==null?void 0:D.input)||{},L=a.useMemo(()=>g||h||w||F,[g,h,w,F]),K=a.useCallback(async(Q={debug:!1})=>{if(!e)return;if(await k.trigger(e))return!1;const W=k.getFieldState(e);return Q.debug&&console.error(`${e}.fieldState.error`,W.error),W.error},[k,e]),z=a.useCallback(async Q=>{if(T&&!Q.ctrlKey&&(Q.key==="Enter"&&!E||Q.key==="Tab")){if(t&&Q.shiftKey)return;if(Q.key==="Enter"){const V=await K();if(V){k.setError(e,V);return}}Q.preventDefault(),T&&P(e,{setFocus:k.setFocus,isFieldDisabled:I,forward:!Q.shiftKey,e:Q})}},[E,t,T,K,k,e,P,I]),J=a.useMemo(()=>!n&&t?" Shift+Enter ":n,[t,n]);return r.jsx(tk,{name:e,control:i,defaultValue:p,rules:u,children:({value:Q,onChange:V,ref:W,error:U})=>r.jsx(pW,{value:Q,multiline:t,...J&&{placeholder:J},label:o,inline:y,inputRef:W,onChange:X=>{s||(V(X.target.value),c&&c(X.target.value))},onKeyDown:z,InputLabelProps:{...ur.DEFAULT_INPUT_LABEL_PROPS,...x,...d&&{shrink:!0}},InputProps:{...A,..._,...s&&{readOnly:!0},...L&&{endAdornment:r.jsxs(r.Fragment,{children:[h&&r.jsx(nk,{className:"clearable",value:Q,onChange:V}),w,F,g&&r.jsx(g,{})]})}},inputProps:{...f,...D==null?void 0:D.htmlInput},error:!!U,helperText:U==null?void 0:U.message,...D==null?void 0:D.textField,...v})})};Ud.propTypes={name:l.string,label:l.string,multiline:l.bool,readOnly:l.bool,control:l.object,onChange:l.func,rules:l.object,labelShrink:l.bool,defaultValue:l.string,sx:l.oneOfType([l.array,l.object]),slotProps:l.object,inputProps:l.object,InputProps:l.object,clearable:l.bool,disabledBackgroundColor:l.string,EndAdornmentComponent:l.oneOfType([l.func,l.elementType]),InputLabelProps:l.object,inline:l.bool,placeholder:l.string};const mW=a.memo(a.forwardRef((e,t)=>{const{type:n,label:o,slotProps:s,typoProps:i,emptyText:c="()",maskedText:u="()",typoVariant:d="body1",renderLabel:p,name:m,editing:f=!1,size:h="small",variant:g="outlined",inline:x=!1,endAdornment:y,...D}=e,v=Ue({name:m}),T=a.useMemo(()=>Oo.isLiteral(y)?y:"",[y]),I=a.useMemo(()=>v&&n==="password"?u:p?(p(v)??"")+T:((v==null?void 0:v.toString())??"")+T,[T,u,p,n,v]);return f?r.jsx(Ud,{ref:t,label:o,type:n,name:m,variant:g,size:h,inline:x,slotProps:s,endAdornment:y,...D}):r.jsx(pn,{name:m,label:o,variant:d,emptyText:c,inline:x,endAdornment:y,...s==null?void 0:s.label,...i,children:I})}));mW.displayName="TypoTextField";mW.propTypes={children:l.oneOfType([l.node,l.array]),type:l.string,label:l.string,typoProps:l.object,emptyText:l.string,maskedText:l.string,typoVariant:l.string,name:l.string,editing:l.bool,loading:l.bool,inline:l.bool,size:l.string,variant:l.string,InputLabelProps:l.object,slotProps:l.object,renderLabel:l.func,endAdornment:l.oneOfType([l.element,l.string])};const fW=a.forwardRef((e,t)=>{const{editing:n,...o}=e,{editing:s}=a.useContext(cr),i=a.useMemo(()=>n??s,[s,n]);return r.jsx(mW,{ref:t,editing:i,...o})});fW.displayName="TypoTextFieldContainer";fW.propTypes={editing:l.bool};const $e=e=>{const{typo:t=!1,...n}=e;return t?r.jsx(fW,{...n}):r.jsx(Ud,{...n})};$e.displayName="TextFieldWrapper";$e.propTypes={typo:l.bool,inputRef:l.object};const Zgt={size:"small",InputLabelProps:{shrink:!0}},hW=({label:e="",name:t,control:n,readOnly:o,dense:s,borderless:i,clearable:c=!0,defaultValue:u,onChange:d,onChanged:p,mask:m="____/__/__",format:f=_o.DATEFNS_DATE,invalidDateMessage:h="",placeholder:g="//",required:x=!1,rules:y,onBlur:D,debounce:v=800,inline:T=!1,clearText:I="",fullWidth:P,slotProps:E,minDate:k,...w})=>{const{isFieldDisabled:A,handleFocusNextField:F,disableEnter:_}=a.useContext(Lr)||{},L=Ke(),{clearErrors:K}=L,{InputProps:z,...J}=Zgt,[Q,V]=a.useState(),W=Gr(Q,v);mn(()=>{!o&&p&&p(W)},[W],{debug:!0});const U=a.useCallback(async(pe={debug:!1})=>{if(!t)return;if(await L.trigger(t))return!1;const ge=L.getFieldState(t);return pe.debug&&console.error(`${t}.fieldState.error`,ge.error),ge.error},[L,t]),X=a.useCallback(async pe=>{if(!pe.ctrlKey&&(pe.key==="Enter"&&!_&&!pe.shiftKey||pe.key==="Tab")){pe.preventDefault();const ue=await U();if(ue){L.setError(t,ue);return}F&&(pe.preventDefault(),F(t,{setFocus:L.setFocus,isFieldDisabled:A,forward:!pe.shiftKey,e:pe}))}},[_,U,F,L,t,A]),te=a.useMemo(()=>({...y,validate:{...y==null?void 0:y.validate,validateDate:Re.getDateValidator({fieldName:e,required:x,minDate:k})}}),[e,k,x,y]),se=a.useMemo(()=>i||!e?"":`${e}${x?"*":""}`,[i,e,x]),he=a.useMemo(()=>T?ve:Ns,[T]);return r.jsx(tk,{name:t,control:n,defaultValue:u,rules:te,children:({value:pe,onChange:ue,ref:ge,error:Ce})=>r.jsxs(he,{...T&&{inline:T},sx:{fontWeight:700},children:[T&&e,r.jsx(Zet,{inputRef:ge,label:se,mask:m,format:f,slotProps:{clearButton:{...I&&{title:I}},inputAdornment:{sx:{...s&&{"& .MuiSvgIcon-root":{fontSize:"18px"}}}},textField:{size:"small",onKeyDown:X,InputLabelProps:{...ur.DEFAULT_INPUT_LABEL_PROPS,...s&&{shrink:!0}},error:!!Ce,helperText:Ce==null?void 0:Ce.message,onBlur:D,sx:{...x&&!Ce&&{"& .MuiInputLabel-root:not(.Mui-focused)":{color:Nn.REQUIRED},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:Nn.REQUIRED}}},...i&&{"& input":{paddingTop:0,paddingLeft:"8px",paddingRight:0},"& .MuiInputBase-root.MuiFilledInput-root":{...ur.GRADIENT_INPUT_BG,...ur.GRADIENT_INPUT_BG_HOVER,...ur.GRADIENT_INPUT_BG_FOCUSED}}},fullWidth:P,...i&&{variant:"filled",InputProps:{disableUnderline:!0}},...E==null?void 0:E.textField},sx:{...s&&{"& .MuiInputBase-input":{paddingTop:"4px",paddingBottom:"4px"}}},field:{clearable:c,placeholder:g}},sx:{...i&&{}},value:pe,onChange:o?null:Te=>{K(),d&&d(Te),ue(Te),p&&V(Te)},onKeyDown:X,InputProps:{...z,...o&&{readOnly:!0}},...J,disabled:o,invalidDateMessage:h,fullWidth:P,minDate:k,...w})]})})};hW.propTypes={label:l.string,clearText:l.string,name:l.string,control:l.object,dense:l.bool,readOnly:l.bool,defaultValue:l.oneOfType([l.string,l.number,l.object]),onChange:l.func,onBlur:l.func,onChanged:l.func,mask:l.string,format:l.string,invalidDateMessage:l.string,required:l.bool,rules:l.object,clearable:l.bool,validate:l.bool,inline:l.bool,fullWidth:l.bool,debounce:l.number,slotProps:l.object,borderless:l.bool,placeholder:l.string,minDate:l.object};const gW=a.memo(a.forwardRef((e,t)=>{const{children:n,label:o,dateFormat:s=_o.DATEFNS_DATE,emptyText:i="()",typoVariant:c="body1",typoProps:u,name:d,editing:p=!1,inline:m=!1,size:f="small",variant:h="filled",...g}=e,x=Ue({name:d}),y=a.useMemo(()=>n||(x?Qd.format(x,s):null),[n,s,x]);return p?r.jsx(hW,{ref:t,label:o,name:d,variant:h,size:f,inline:m,...g}):r.jsx(pn,{name:d,label:o,variant:c,emptyText:i,inline:m,...u,children:y})}));gW.propTypes={children:l.oneOfType([l.node,l.array]),type:l.string,label:l.string,typoProps:l.object,emptyText:l.string,maskedText:l.string,typoVariant:l.string,name:l.string,editing:l.bool,inline:l.bool,size:l.string,variant:l.string,InputLabelProps:l.object,renderLabel:l.func,dateFormat:l.string};gW.displayName="TypoDatePicker";const bW=a.forwardRef((e,t)=>{const{editing:n,...o}=e,{editing:s}=a.useContext(cr),i=a.useMemo(()=>n??s,[s,n]);return r.jsx(gW,{ref:t,editing:i,...o})});bW.propTypes={editing:l.bool};bW.displayName="TypoDatePickerContainer";const et=e=>{const{typo:t=!1,size:n="small",...o}=e;return t?r.jsx(bW,{size:n,...o}):r.jsx(hW,{size:n,...o})};et.displayName="DatePickerWrapper";et.propTypes={typo:l.bool,size:l.string};const rk=a.memo(a.forwardRef((e,t)=>{const{name:n,value:o,fullWidth:s,label:i,options:c,getOptionKey:u,getOptionLabel:d,...p}=e,m=a.useCallback(y=>y,[]),f=a.useCallback(y=>(u||m)(y),[m,u]),h=a.useCallback(y=>y,[]),g=a.useCallback(y=>(d||h)(y),[h,d]),x=a.useMemo(()=>`label_${n}`,[n]);return r.jsxs(wT,{fullWidth:s,children:[r.jsx(b3,{id:x,children:i}),r.jsx(v3,{id:n,ref:t,labelId:x,label:i,value:o,...p,children:c.map(y=>{const D=f(y),v=g(y);return r.jsx($h,{value:D,children:v},D)})})]})}));rk.propTypes={name:l.string,label:l.string,fullWidth:l.bool,children:l.oneOfType([l.node,l.array,l.func]),options:l.array,getOptionKey:l.func,getOptionLabel:l.func,value:l.oneOfType([l.object,l.string,l.number,l.bool])};rk.displayName="SelectExView";const xW=({name:e,control:t,rules:n,defaultValue:o=null,onChange:s,...i})=>r.jsx(rm,{name:e,defaultValue:o,control:t,rules:n,render:({field:{ref:c,value:u,onChange:d},fieldState:{error:p}})=>r.jsx(rk,{name:e,ref:c,value:u,onChange:m=>{d(m.target.value),s&&s(m.target.value)},error:!!p,helperText:p==null?void 0:p.message,...i})});xW.displayName="ControlledSelectEx";xW.propTypes={name:l.string.isRequired,control:l.object,rules:l.object,defaultValue:l.string,onChange:l.func,getOptionKey:l.func};const yW=e=>{const{name:t,...n}=e;return t?r.jsx(xW,{name:t,...n}):r.jsx(rk,{...n})};yW.propTypes={name:l.string};yW.displayName="SelectExWrapper";const ebt={size:"small",InputLabelProps:{shrink:!0}},CW=({label:e="",name:t,control:n,readOnly:o,dense:s,views:i=["hours","minutes"],ampm:c=!1,clearable:u=!1,defaultValue:d,onChange:p,onChanged:m,required:f=!1,rules:h,onBlur:g,debounce:x=800,borderless:y,clearText:D="",fullWidth:v,slotProps:T,...I})=>{const{isFieldDisabled:P,handleFocusNextField:E,disableEnter:k}=a.useContext(Lr)||{},w=Ke(),{InputProps:A,...F}=ebt,[_,L]=a.useState(),K=Gr(_,x);mn(()=>{!o&&m&&m(K)},[K],{debug:!0});const z=a.useCallback(async(W={debug:!1})=>{if(!t)return;if(await w.trigger(t))return!1;const X=w.getFieldState(t);return W.debug&&console.error(`${t}.fieldState.error`,X.error),X.error},[w,t]),J=a.useCallback(async W=>{if(!W.ctrlKey&&(W.key==="Enter"&&!k&&!W.shiftKey||W.key==="Tab")){W.preventDefault();const U=await z();if(U){w.setError(t,U);return}E&&(W.preventDefault(),E(t,{setFocus:w.setFocus,isFieldDisabled:P,forward:!W.shiftKey,e:W}))}},[k,z,E,w,t,P]),Q=a.useMemo(()=>({...h,validate:{...h==null?void 0:h.validate,validateTime:Re.getTimeValidator({fieldName:e,required:f})}}),[e,f,h]),V=a.useMemo(()=>y||!e?"":`${e}${f?"*":""}`,[y,e,f]);return t?r.jsx(rm,{name:t,defaultValue:d||null,control:n,rules:Q,render:({field:{ref:W,value:U,onChange:X},fieldState:{error:te}})=>r.jsx(koe,{inputRef:W,label:V,views:i,ampm:c,slotProps:{inputAdornment:{sx:{...s&&{"& .MuiSvgIcon-root":{fontSize:"18px"}}}},textField:{size:"small",onKeyDown:J,InputLabelProps:{...ur.DEFAULT_INPUT_LABEL_PROPS,...s&&{shrink:!0}},error:!!te,helperText:te==null?void 0:te.message,onBlur:g,...y&&{variant:"filled",InputProps:{disableUnderline:!0}},sx:{...f&&!te&&{"& .MuiInputLabel-root:not(.Mui-focused)":{color:Nn.REQUIRED},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:Nn.REQUIRED}}},...y&&{"& input":{paddingTop:0,paddingLeft:"4px",paddingRight:0}}},fullWidth:v,...y&&{variant:"filled",InputProps:{disableUnderline:!0}},...T==null?void 0:T.textField},sx:{...s&&{"& .MuiInputBase-input":{paddingTop:"4px",paddingBottom:"4px"}}},field:{clearable:u}},value:U,onChange:o?null:se=>{p&&p(se),X(se),m&&L(se)},onKeyDown:J,InputProps:{...A,...o&&{readOnly:!0}},...F,disabled:o,...I})}):r.jsx(koe,{views:i,ampm:c,...I})};CW.propTypes={label:l.string,name:l.string,control:l.object,dense:l.bool,readOnly:l.bool,defaultValue:l.oneOfType([l.string,l.number,l.object]),onChange:l.func,onBlur:l.func,onChanged:l.func,mask:l.string,format:l.string,invalidDateMessage:l.string,required:l.bool,rules:l.object,clearable:l.bool,validate:l.bool,debounce:l.number,views:l.array,ampm:l.bool,borderless:l.bool,slotProps:l.object,clearText:l.string,fullWidth:l.bool};const DW=a.memo(a.forwardRef((e,t)=>{const{children:n,label:o,timeFormat:s=_o.DATEFNS_TIME,emptyText:i="()",typoVariant:c="body1",typoProps:u,name:d,editing:p=!1,size:m="small",variant:f="filled",...h}=e,g=Ue({name:d}),x=a.useMemo(()=>n||(g?Qd.format(g,s):null),[n,s,g]);return p?r.jsx(CW,{ref:t,label:o,name:d,variant:f,size:m,...h}):r.jsx(pn,{name:d,label:o,variant:c,emptyText:i,...u,children:x})}));DW.propTypes={children:l.oneOfType([l.node,l.array]),type:l.string,label:l.string,typoProps:l.object,emptyText:l.string,maskedText:l.string,typoVariant:l.string,name:l.string,editing:l.bool,size:l.string,variant:l.string,InputLabelProps:l.object,renderLabel:l.func,timeFormat:l.string};DW.displayName="TypoTimePicker";const Obe=a.forwardRef(({...e},t)=>{const{editing:n}=a.useContext(cr);return r.jsx(DW,{ref:t,editing:n,...e})});Obe.displayName="TypoTimePickerContainer";const Wb=e=>{const{typo:t=!1,size:n="small",...o}=e;return t?r.jsx(Obe,{size:n,...o}):r.jsx(CW,{size:n,...o})};Wb.displayName="TimePickerWrapper";Wb.propTypes={typo:l.bool,size:l.string};const Ct=({children:e,...t})=>r.jsx(Lr.Provider,{value:{...t},children:e});Ct.propTypes={children:l.oneOfType([l.array,l.object])};Ct.displayName="FormMetaProvider";var X0={},Wae;function tbt(){if(Wae)return X0;Wae=1;var e=Qn();Object.defineProperty(X0,"__esModule",{value:!0}),X0.default=void 0;var t=e(sr()),n=rr();return X0.default=(0,t.default)((0,n.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),X0}var nbt=tbt();const Ebe=qn(nbt);var Z0={},Uae;function rbt(){if(Uae)return Z0;Uae=1;var e=Qn();Object.defineProperty(Z0,"__esModule",{value:!0}),Z0.default=void 0;var t=e(sr()),n=rr();return Z0.default=(0,t.default)((0,n.jsx)("path",{d:"M17.77 3.77 16 2 6 12l10 10 1.77-1.77L9.54 12z"}),"ArrowBackIosNew"),Z0}var obt=rbt();const sbt=qn(obt),qae=Gd(ve)(({theme:e})=>({position:"relative",display:"flex",gap:e.spacing(1)})),ok=a.memo(a.forwardRef((e,t)=>{const{size:n="medium",hideCloseButton:o,children:s,onClose:i,closeTooltip:c="",onReturn:u,returnText:d="",returnIcon:p,buttons:m,ButtonsComponent:f,closebuttonProps:h={size:"small"},padding:g="8px 24px",sx:x=[],yOffset:y=4,xOffset:D=4,...v}=e,T=a.useMemo(()=>f&&!m,[f,m]);a.useMemo(()=>(h==null?void 0:h.size)||"small",[h==null?void 0:h.size]);const I=a.useMemo(()=>!o&&!!i,[o,i]),P=a.useMemo(()=>!s,[s]);return r.jsxs(r.Fragment,{children:[r.jsx(t7e,{ref:t,sx:[E=>({display:"flex",...P&&{position:"absolute"},...g&&{padding:g},...u&&{paddingLeft:"50px"},minHeight:`calc(${E.spacing(5)} + ${y*2}px)`}),...Array.isArray(x)?x:[x]],...v,children:s}),!!u&&r.jsx(ve,{sx:[E=>({position:"absolute",left:D,top:y})],children:r.jsx(jr,{title:d||"",children:r.jsx(br,{"aria-label":"back",onClick:u,size:n,sx:E=>({color:k=>k.palette.grey[500]}),children:r.jsx(sbt,{})})})}),r.jsxs(ve,{alignItems:"center",sx:[E=>({position:"absolute",right:D,top:y,minHeight:"40px",...!I&&{paddingRight:"20px"}})],children:[m&&r.jsx(qae,{children:m}),T&&r.jsx(qae,{alignItems:"center",children:r.jsx(f,{})}),I&&r.jsx(Ra,{title:c,children:r.jsx(br,{"aria-label":"close",onClick:i,sx:E=>({color:k=>k.palette.grey[500],marginLeft:E.spacing(1)}),size:n,children:r.jsx(Ebe,{})})})]})]})}));ok.propTypes={size:l.oneOf(["medium","small"]),hideCloseButton:l.bool};ok.displayName="DialogTitleEx";const SW=a.memo(e=>{const{title:t,slotProps:n,...o}=e;return r.jsx(ve,{alignItems:"center",justifyContent:"center",height:"72vh",children:r.jsx(nu,{variant:"filled",minWidth:"20em",title:t,...n==null?void 0:n.alert,...o})})});SW.propTypes={slotProps:l.object,title:l.string};SW.displayName="FormAlertBox";const abt={type:"submit",variant:"contained",color:"primary"},ibt={variant:"outlined",color:"primary"},lbt={closeTooltip:" (Esc)"},vW=a.memo(a.forwardRef((e={},t)=>{var Ae;const{slotProps:n,dense:o=!1,sx:s=[],title:i,titleSx:c=[],contentSx:u=[],message:d,placeholder:p,children:m,confirmText:f="",cancelText:h="",minWidth:g="20em",contentProps:x,buttonProps:y,confirmButtonProps:D=abt,cancelButtonProps:v=ibt,loading:T=!1,working:I=!1,cancelDisabled:P,confirmDisabled:E=!1,titleButtons:k,TitleButtonsComponent:w,titleProps:A,otherActionButtons:F,OtherActionButtonsComponent:_,triggerCancelOnClose:L=!1,responsive:K=!1,fullScreen:z,hideCloseButton:J,onConfirm:Q,onCancel:V,onClose:W,onReturn:U,prompt:X=!1,defaultPromptValue:te="",promptTextFieldProps:se,check:he=!1,defaultChecked:pe=!1,checkedValue:ue="ON",checkLabel:ge,onSubmit:Ce,confirmTooltip:Te="",cancelTooltip:Ne="",id:xe,mask:me=!1,confirmButton:de,tooSmall:ce,...ee}=e,De=a.useMemo(()=>P??I,[P,I]),ke=a.useMemo(()=>J&&!ce,[J,ce]),He=a.useRef(),qe=a.useCallback(Se=>{Se&&(He.current=Se)},[]),Le=a.useMemo(()=>i||k||w,[i,k,w]),_e=a.useMemo(()=>ce?"":i,[i,ce]),H=a.useMemo(()=>{var Se;return{...A==null?void 0:A.sx,...(Se=n==null?void 0:n.title)==null?void 0:Se.sx}},[(Ae=n==null?void 0:n.title)==null?void 0:Ae.sx,A==null?void 0:A.sx]),re=a.useMemo(()=>_||F,[_,F]),q=a.useContext(lc),{mobile:Y}=q,ie=a.useMemo(()=>!!Q||!!Ce||!!de,[de,Q,Ce]),B=a.useMemo(()=>z?!0:(K&&!q&&console.error(" responsive  ResponsiveContext "),!!q&&K&&Y),[z,Y,K,q]),Z=a.useCallback(()=>{var Se,be,Me,we;if(Q&&Q({...((Se=He.current)==null?void 0:Se.value)!=null&&{value:(be=He.current)==null?void 0:be.value},...((Me=He.current)==null?void 0:Me.checked)!=null&&{checked:(we=He.current)==null?void 0:we.checked},id:xe}),Ce){Ce();return}},[xe,Q,Ce]),ye=a.useCallback(()=>{V&&V(),W&&W({id:xe})},[xe,V,W]),Ie=a.useCallback(()=>{L&&V&&V(),W&&W({id:xe})},[L,V,W,xe]),le=a.useCallback(Se=>{Se.key==="Enter"&&(Se.preventDefault(),Z())},[Z]),fe=a.useMemo(()=>!T&&(re||ie||V),[re,T,V,ie]);return r.jsxs(Wpe,{ref:t,onClose:Ie,fullScreen:B,sx:[{"& .MuiDialog-paper":{zIndex:1300}},...Array.isArray(s)?s:[s]],...ee,children:[r.jsx(ok,{onClose:W,hideCloseButton:ke,onReturn:U,...!ce&&{buttons:k,ButtonsComponent:w},...A,...lbt,...n==null?void 0:n.title,sx:[Se=>({fontWeight:600,...!Le&&{minHeight:Se.spacing(3)},...H}),...Array.isArray(c)?c:[c]],children:_e}),r.jsxs(tm,{sx:[()=>({...g&&{minWidth:g},...o&&{paddingBottom:0,paddingLeft:0,paddingRight:0},paddingTop:0}),...Array.isArray(u)?u:[u]],...n==null?void 0:n.content,...x,children:[ce&&r.jsx(SW,{slotProps:{alert:{severity:"warning"}},children:", "}),!ce&&(d==null?void 0:d.split(`
`).map((Se,be)=>r.jsx(J8e,{children:Se},`line-${be}`))),!ce&&X&&r.jsx(jt,{py:1,children:r.jsx(SD,{inputRef:qe,placeholder:p,...me&&{type:"password"},size:"small",autoFocus:!0,fullWidth:!0,InputLabelProps:ur.DEFAULT_INPUT_LABEL_PROPS,defaultValue:te,onKeyDown:le,...se})}),!ce&&he&&r.jsx(jt,{py:1,children:r.jsx(Yh,{inputRef:qe,autoFocus:!0,label:ge,defaultChecked:pe,value:ue})}),!ce&&m]}),fe&&r.jsxs(em,{...n==null?void 0:n.actions,children:[F,_&&r.jsx(_,{}),ie&&de?r.jsx(jr,{title:Te,children:de}):r.jsx(jr,{title:Te,children:r.jsx(dt,{responsive:!0,onClick:Z,loading:I,...!X&&{autoFocus:!0},disabled:E,...y,...D,...n==null?void 0:n.confirmButton,children:f})}),V&&r.jsx(jr,{title:Ne,children:r.jsx(dt,{responsive:!0,color:"primary",onClick:ye,disabled:De,...y,...v,children:h})})]})]})}));vW.displayName="DialogEx";vW.propTypes={sx:l.oneOfType([l.array,l.object]),title:l.string,message:l.string,placeholder:l.string,children:l.node,confirmText:l.string,cancelText:l.string,onConfirm:l.func,onCancel:l.func,onClose:l.func,onReturn:l.func,loading:l.bool,working:l.bool,contentProps:l.object,buttonProps:l.object,confirmButtonProps:l.object,cancelButtonProps:l.object,titleButtons:l.element,confirmButton:l.element,TitleButtonsComponent:l.oneOfType([l.func,l.elementType]),titleProps:l.object,otherActionButtons:l.element,OtherActionButtonsComponent:l.oneOfType([l.func,l.elementType]),fullScreen:l.bool,responsive:l.bool,titleSx:l.oneOfType([l.array,l.object]),contentSx:l.oneOfType([l.array,l.object]),actionsStyle:l.oneOfType([l.array,l.object]),minWidth:l.oneOfType([l.string,l.number]),prompt:l.bool,mask:l.bool,defaultPromptValue:l.string,promptTextFieldProps:l.object,onSubmit:l.func,dense:l.bool,hideCloseButton:l.bool,triggerCancelOnClose:l.bool,confirmTooltip:l.string,cancelTooltip:l.string,close:l.func,id:l.string,confirmDisabled:l.bool,cancelDisabled:l.bool,slotProps:l.object,check:l.bool,tooSmall:l.bool,defaultChecked:l.bool,checkLabel:l.string,checkedValue:l.oneOfType([l.string,l.number])};const Er=e=>{const{minWidth:t,...n}=e,o=a.useContext(cr),s=qs(),i=typeof t=="string"&&s.breakpoints.keys.includes(t)?s.breakpoints.up(t):typeof t=="number"?`(min-width:${t}px)`:typeof t=="string"&&/^\d+px$/.test(t)?`(min-width:${t})`:"(min-width:0px)",c=Xl(i),u=!!t&&!c,d=a.useMemo(()=>(o==null?void 0:o.editing)&&!(o!=null&&o.readingFailed),[o==null?void 0:o.editing,o==null?void 0:o.readingFailed]);return r.jsx(vW,{disableEscapeKeyDown:d,hideCloseButton:d,tooSmall:u,...n})};Er.propTypes={minWidth:l.oneOfType([l.string,l.number])};Er.displayName="DialogExContainer";const Pbe=a.createContext(),Rbe=e=>{const{children:t,rowHeight:n,border:o=0,padding:s,cellProps:i,sx:c=[],...u}=e,d=a.useMemo(()=>{if(typeof o=="number"&&o>0)return`${o}px solid #ccc`;if(typeof o=="string")return o},[o]),p=a.useMemo(()=>({border:d,rowHeight:n,padding:s,cellProps:i}),[d,i,s,n]);return r.jsx(jt,{sx:{width:"100%"},...u,children:r.jsx(ve,{inline:!0,fullWidth:!0,sx:[m=>({display:"table",borderCollapse:"collapse",...d&&{border:d}}),...Array.isArray(c)?c:[c]],children:r.jsx(Pbe.Provider,{value:p,children:t})})})};Rbe.propTypes={children:l.oneOfType([l.array,l.func,l.element]),border:l.oneOfType([l.string,l.number]),padding:l.oneOfType([l.string,l.number]),rowHeight:l.oneOfType([l.string,l.number]),sx:l.oneOfType([l.object,l.array]),cellProps:l.object};const sk=a.memo(Rbe),wbe=a.createContext(),kbe=e=>{var V;const{children:t,sx:n=[],slotProps:o,border:s,height:i,h:c,width:u,w:d,align:p,alignItems:m,justifyContent:f,padding:h,p:g,...x}=e,{rowHeight:y,alignItems:D,border:v,padding:T,cellProps:I}=a.useContext(Pbe)||{},{rowHeight:P,alignItems:E,justifyContent:k}=a.useContext(wbe)||{},w=a.useMemo(()=>i??c??P??y,[c,i,P,y]),A=a.useMemo(()=>u??d,[d,u]),F=a.useMemo(()=>m??E??D,[m,E,D]),_=a.useMemo(()=>p?p==="right"?"flex-end":"flex-start":f??k,[p,f,k]),L=a.useMemo(()=>{if(typeof s=="number"&&s>0)return`${s}px solid #ccc`;if(typeof s=="string")return s},[s]),K=a.useMemo(()=>L??v,[L,v]),z=a.useMemo(()=>h??g??T,[g,h,T]),J=a.useMemo(()=>({...I,...x}),[I,x]),Q=a.useMemo(()=>!!t,[t]);return r.jsx(jt,{...w&&{height:w},...A&&{width:A},p:z,...o==null?void 0:o.box,sx:{display:"table-cell",...K&&{border:K},...(V=o==null?void 0:o.box)==null?void 0:V.sx},children:r.jsx(ve,{fullWidth:!0,...Q&&{fullHeight:!0},...F&&{alignItems:F},..._&&{justifyContent:_},sx:[W=>({...p&&{textAlign:p}}),...Array.isArray(n)?n:[n]],...J,children:t||" "})})};kbe.propTypes={children:l.oneOfType([l.node,l.array,l.func,l.element]),border:l.string,sx:l.oneOfType([l.object,l.array]),height:l.oneOfType([l.string,l.number]),h:l.oneOfType([l.string,l.number]),width:l.oneOfType([l.string,l.number]),w:l.oneOfType([l.string,l.number]),padding:l.oneOfType([l.string,l.number]),p:l.oneOfType([l.string,l.number]),alignItems:l.string,justifyContent:l.string,align:l.string,slotProps:l.object};const vs=a.memo(kbe),Abe=e=>{const{children:t,height:n,border:o,sx:s=[],...i}=e,c=a.useMemo(()=>({height:n}),[n]);return r.jsx(ve,{inline:!0,fullWidth:!0,sx:[u=>({display:"table-row"}),...Array.isArray(s)?s:[s]],...i,children:r.jsx(wbe.Provider,{value:c,children:t})})};Abe.propTypes={children:l.oneOfType([l.array,l.func,l.element]),height:l.oneOfType([l.string,l.number]),sx:l.oneOfType([l.object,l.array]),border:l.oneOfType([l.string,l.number])};const ak=a.memo(Abe),Nbe=e=>{const{height:t="24px",width:n="1px",backgroundColor:o="rgba(0, 0, 0, 0.12)",...s}=e;return r.jsx(jt,{sx:{width:n,height:t,backgroundColor:o},...s})};Nbe.propTypes={height:l.oneOfType([l.string,l.number]),width:l.oneOfType([l.string,l.number]),backgroundColor:l.string};const cbt=a.memo(Nbe),jW=a.memo(a.forwardRef((e,t)=>{const{label:n,children:o,labelProps:s,labelStyles:i,emptyText:c="()",sx:u=[],flex:d=!1,stringify:p,inline:m=!1,value:f,slotProps:h,noWrap:g=!1,isNegative:x=!1,dense:y=!0}=e,D=a.useMemo(()=>i||(g?ur.FORM_LABEL_STYLES_NOWRAP:ur.DEFAULT_FORM_LABEL_STYLES),[i,g]),v=a.useMemo(()=>o!=null?(Oo.isLiteral(o)?Re.formatLiteral(o):o)||c:p?p(f):(Oo.isLiteral(f)?Re.formatLiteral(f):f)||c,[o,c,p,f]),T=a.useMemo(()=>m||d?ve:jt,[d,m]),I=a.useMemo(()=>m?{alignItems:"center"}:{},[m]),P=a.useMemo(()=>(f==null||f===""||Array.isArray(f)&&f.length==0)&&(o==null||o===""),[o,f]);return r.jsxs(T,{className:jW.displayName,ref:t,inline:m,...I,...h==null?void 0:h.box,sx:[E=>({...d&&{alignItems:"center"},marginLeft:E.spacing(.5)}),D,...Array.isArray(u)?u:[u]],children:[n&&r.jsx(KT,{dense:y,...s,...h==null?void 0:h.label,children:n}),r.jsx(jt,{className:"TypoLabelView-bodybox",sx:{...y&&{position:"relative"}},...h==null?void 0:h.value,...x&&(h==null?void 0:h.negativeValue),children:Oo.isLiteral(v)?r.jsx(r.Fragment,{children:r.jsx(nn,{color:"primary",variant:"body1",sx:[E=>{var k;return{fontWeight:400,...P&&{color:E.palette.text.disabled},...(k=h==null?void 0:h.typography)==null?void 0:k.sx}}],children:v==null?void 0:v.split(`
`).map((E,k)=>r.jsxs(a.Fragment,{children:[E,k<v.split(`
`).length-1&&r.jsx("br",{})]},`${E}_${k}`))})}):v})]})}));jW.displayName="TypoLabelView";jW.propTypes={name:l.string,label:l.oneOfType([l.string,l.node]),children:l.oneOfType([l.node,l.array]),labelProps:l.object,labelStyles:l.object,emptyText:l.string,title:l.string,arrow:l.bool,sx:l.oneOfType([l.object,l.array]),flex:l.bool,noWrap:l.bool,inline:l.bool,stringify:l.func,slotProps:l.object,value:l.oneOfType([l.string,l.array]),format:l.func,isNegative:l.bool,isEmpty:l.bool,dense:l.bool};l.string.isRequired,l.string,l.func,l.oneOfType([l.node,l.array,l.func]);l.string;const Fbe=e=>{const{children:t,label:n,...o}=e;return n?r.jsx(bw,{control:t,label:n,...o}):a.cloneElement(t,o)};Fbe.propTypes={label:l.string,children:l.oneOfType([l.node,l.array,l.func])};const IW=a.memo(e=>{const{label:t,...n}=e;return r.jsx(Fbe,{label:t,children:r.jsx(o$,{...n})})});IW.propTypes={label:l.string};IW.displayName="RadioExView";const Mbe=e=>{const{children:t,label:n}=e;return r.jsxs(wT,{children:[n&&r.jsx(kT,{children:n}),t]})};Mbe.propTypes={label:l.string,children:l.oneOfType([l.element,l.array,l.func])};const _be=e=>{const{children:t,label:n,options:o,getOptionLabel:s,error:i,helperText:c,RadioComponent:u=IW,getOptionKey:d,...p}=e;if(!t&&!o)throw new Error("children  options ");const m=a.useCallback((x,y)=>{if(typeof x=="object"){const{label:D}=x;return[D].filter(Boolean).join(" ")}return x},[]),f=a.useCallback((x,y)=>{if(typeof x=="object"){const{id:D}=x;return D}return x},[]),h=a.useCallback((x,y)=>s?s(x,y):m(x,y),[m,s]),g=a.useCallback((x,y)=>d?d(x,y):f(x,y),[f,d]);return r.jsxs(Mbe,{label:n,children:[r.jsx(YKe,{...p,children:o?o.map((x,y)=>{const D=h(x,y),v=g(x,y);return r.jsx(u,{label:D,value:v},v)}):t}),c&&r.jsx(Yp,{error:!!i,children:c})]})};_be.propTypes={label:l.string,helperText:l.string,children:l.oneOfType([l.element,l.array,l.func]),options:l.array,getOptionLabel:l.func,getOptionKey:l.func,RadioComponent:l.element,error:l.oneOfType([l.object,l.bool])};const ubt=a.memo(_be),TW=({name:e,control:t,rules:n,defaultValue:o=null,onChange:s,...i})=>r.jsx(tk,{name:e,control:t,defaultValue:o,rules:n,children:({value:c,onChange:u,ref:d,error:p})=>r.jsx(ubt,{ref:d,value:c,onChange:m=>{u(m.target.value),s&&s(m.target.value)},error:!!p,helperText:p==null?void 0:p.message,...i})});TW.displayName="ControlledRadioGroupEx";TW.propTypes={name:l.string.isRequired,control:l.object,rules:l.object,defaultValue:l.string,onChange:l.func};var eL={},Rc={},tL={},Vae;function dbt(){return Vae||(Vae=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.useColumnWidths=e.getColumnWidths=void 0;const t=is(),n=(s,i)=>{const c=i.map(({basis:d,minWidth:p,maxWidth:m})=>({basis:d,minWidth:p,maxWidth:m,size:d,violation:0,frozen:!1,factor:0}));let u=c.reduce((d,p)=>d-p.size,s);u>0?i.forEach(({grow:d},p)=>{c[p].factor=d}):u<0&&i.forEach(({shrink:d},p)=>{c[p].factor=d});for(const d of c)d.factor===0&&(d.frozen=!0);for(;c.some(({frozen:d})=>!d);){const d=c.reduce((m,f)=>m+(f.frozen?0:f.factor),0);let p=0;for(const m of c)m.frozen||(m.size+=u*m.factor/d,m.size<m.minWidth?m.violation=m.minWidth-m.size:m.maxWidth!==void 0&&m.size>m.maxWidth?m.violation=m.maxWidth-m.size:m.violation=0,m.size+=m.violation,p+=m.violation);if(p>0)for(const m of c)m.violation>0&&(m.frozen=!0);else if(p<0)for(const m of c)m.violation<0&&(m.frozen=!0);else break;u=c.reduce((m,f)=>m-f.size,s)}return c.map(({size:d})=>d)};e.getColumnWidths=n;const o=(s,i)=>{const c=s.map(({basis:u,minWidth:d,maxWidth:p,grow:m,shrink:f})=>[u,d,p,m,f].join(",")).join("|");return(0,t.useMemo)(()=>{if(i===void 0)return{fullWidth:!1,columnWidths:void 0,columnRights:void 0,totalWidth:void 0};const u=(0,e.getColumnWidths)(i,s);let d=0;const p=u.map((m,f)=>(d+=m,f===u.length-1?1/0:d));return{fullWidth:Math.abs(i-d)<.1,columnWidths:u,columnRights:p,totalWidth:d}},[i,c])};e.useColumnWidths=o})(tL)),tL}var F$=function(e,t){return F$=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},F$(e,t)};function Lbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");F$(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var cC=function(){return cC=Object.assign||function(t){for(var n,o=1,s=arguments.length;o<s;o++){n=arguments[o];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},cC.apply(this,arguments)};function $be(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(e);s<o.length;s++)t.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(e,o[s])&&(n[o[s]]=e[o[s]]);return n}var dP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pbt(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var OW=pbt,mbt=typeof dP=="object"&&dP&&dP.Object===Object&&dP,fbt=mbt,hbt=fbt,gbt=typeof self=="object"&&self&&self.Object===Object&&self,bbt=hbt||gbt||Function("return this")(),Bbe=bbt,xbt=Bbe,ybt=function(){return xbt.Date.now()},Cbt=ybt,Dbt=/\s/;function Sbt(e){for(var t=e.length;t--&&Dbt.test(e.charAt(t)););return t}var vbt=Sbt,jbt=vbt,Ibt=/^\s+/;function Tbt(e){return e&&e.slice(0,jbt(e)+1).replace(Ibt,"")}var Obt=Tbt,Ebt=Bbe,Pbt=Ebt.Symbol,Wbe=Pbt,zae=Wbe,Ube=Object.prototype,Rbt=Ube.hasOwnProperty,wbt=Ube.toString,ev=zae?zae.toStringTag:void 0;function kbt(e){var t=Rbt.call(e,ev),n=e[ev];try{e[ev]=void 0;var o=!0}catch{}var s=wbt.call(e);return o&&(t?e[ev]=n:delete e[ev]),s}var Abt=kbt,Nbt=Object.prototype,Fbt=Nbt.toString;function Mbt(e){return Fbt.call(e)}var _bt=Mbt,Hae=Wbe,Lbt=Abt,$bt=_bt,Bbt="[object Null]",Wbt="[object Undefined]",Gae=Hae?Hae.toStringTag:void 0;function Ubt(e){return e==null?e===void 0?Wbt:Bbt:Gae&&Gae in Object(e)?Lbt(e):$bt(e)}var qbt=Ubt;function Vbt(e){return e!=null&&typeof e=="object"}var zbt=Vbt,Hbt=qbt,Gbt=zbt,Kbt="[object Symbol]";function Qbt(e){return typeof e=="symbol"||Gbt(e)&&Hbt(e)==Kbt}var Ybt=Qbt,Jbt=Obt,Kae=OW,Xbt=Ybt,Qae=NaN,Zbt=/^[-+]0x[0-9a-f]+$/i,ext=/^0b[01]+$/i,txt=/^0o[0-7]+$/i,nxt=parseInt;function rxt(e){if(typeof e=="number")return e;if(Xbt(e))return Qae;if(Kae(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Kae(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Jbt(e);var n=ext.test(e);return n||txt.test(e)?nxt(e.slice(2),n?2:8):Zbt.test(e)?Qae:+e}var oxt=rxt,sxt=OW,nL=Cbt,Yae=oxt,axt="Expected a function",ixt=Math.max,lxt=Math.min;function cxt(e,t,n){var o,s,i,c,u,d,p=0,m=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(axt);t=Yae(t)||0,sxt(n)&&(m=!!n.leading,f="maxWait"in n,i=f?ixt(Yae(n.maxWait)||0,t):i,h="trailing"in n?!!n.trailing:h);function g(k){var w=o,A=s;return o=s=void 0,p=k,c=e.apply(A,w),c}function x(k){return p=k,u=setTimeout(v,t),m?g(k):c}function y(k){var w=k-d,A=k-p,F=t-w;return f?lxt(F,i-A):F}function D(k){var w=k-d,A=k-p;return d===void 0||w>=t||w<0||f&&A>=i}function v(){var k=nL();if(D(k))return T(k);u=setTimeout(v,y(k))}function T(k){return u=void 0,h&&o?g(k):(o=s=void 0,c)}function I(){u!==void 0&&clearTimeout(u),p=0,o=d=s=u=void 0}function P(){return u===void 0?c:T(nL())}function E(){var k=nL(),w=D(k);if(o=arguments,s=this,d=k,w){if(u===void 0)return x(d);if(f)return clearTimeout(u),u=setTimeout(v,t),g(d)}return u===void 0&&(u=setTimeout(v,t)),c}return E.cancel=I,E.flush=P,E}var qbe=cxt,uxt=qbe,dxt=OW,pxt="Expected a function";function mxt(e,t,n){var o=!0,s=!0;if(typeof e!="function")throw new TypeError(pxt);return dxt(n)&&(o="leading"in n?!!n.leading:o,s="trailing"in n?!!n.trailing:s),uxt(e,t,{leading:o,maxWait:t,trailing:s})}var fxt=mxt,Vbe=function(e,t,n,o){switch(t){case"debounce":return qbe(e,n,o);case"throttle":return fxt(e,n,o);default:return e}},M$=function(e){return typeof e=="function"},Sh=function(){return typeof window>"u"},Jae=function(e){return e instanceof Element||e instanceof HTMLDocument},zbe=function(e,t,n,o){return function(s){var i=s.width,c=s.height;t(function(u){return u.width===i&&u.height===c||u.width===i&&!o||u.height===c&&!n?u:(e&&M$(e)&&e(i,c),{width:i,height:c})})}},Hbe=(function(e){Lbe(t,e);function t(n){var o=e.call(this,n)||this;o.cancelHandler=function(){o.resizeHandler&&o.resizeHandler.cancel&&(o.resizeHandler.cancel(),o.resizeHandler=null)},o.attachObserver=function(){var p=o.props,m=p.targetRef,f=p.observerOptions;if(!Sh()){m&&m.current&&(o.targetRef.current=m.current);var h=o.getElement();h&&(o.observableElement&&o.observableElement===h||(o.observableElement=h,o.resizeObserver.observe(h,f)))}},o.getElement=function(){var p=o.props,m=p.querySelector,f=p.targetDomEl;if(Sh())return null;if(m)return document.querySelector(m);if(f&&Jae(f))return f;if(o.targetRef&&Jae(o.targetRef.current))return o.targetRef.current;var h=kb.findDOMNode(o);if(!h)return null;var g=o.getRenderType();switch(g){case"renderProp":return h;case"childFunction":return h;case"child":return h;case"childArray":return h;default:return h.parentElement}},o.createResizeHandler=function(p){var m=o.props,f=m.handleWidth,h=f===void 0?!0:f,g=m.handleHeight,x=g===void 0?!0:g,y=m.onResize;if(!(!h&&!x)){var D=zbe(y,o.setState.bind(o),h,x);p.forEach(function(v){var T=v&&v.contentRect||{},I=T.width,P=T.height,E=!o.skipOnMount&&!Sh();E&&D({width:I,height:P}),o.skipOnMount=!1})}},o.getRenderType=function(){var p=o.props,m=p.render,f=p.children;return M$(m)?"renderProp":M$(f)?"childFunction":a.isValidElement(f)?"child":Array.isArray(f)?"childArray":"parent"};var s=n.skipOnMount,i=n.refreshMode,c=n.refreshRate,u=c===void 0?1e3:c,d=n.refreshOptions;return o.state={width:void 0,height:void 0},o.skipOnMount=s,o.targetRef=a.createRef(),o.observableElement=null,Sh()||(o.resizeHandler=Vbe(o.createResizeHandler,i,u,d),o.resizeObserver=new window.ResizeObserver(o.resizeHandler)),o}return t.prototype.componentDidMount=function(){this.attachObserver()},t.prototype.componentDidUpdate=function(){this.attachObserver()},t.prototype.componentWillUnmount=function(){Sh()||(this.observableElement=null,this.resizeObserver.disconnect(),this.cancelHandler())},t.prototype.render=function(){var n=this.props,o=n.render,s=n.children,i=n.nodeType,c=i===void 0?"div":i,u=this.state,d=u.width,p=u.height,m={width:d,height:p,targetRef:this.targetRef},f=this.getRenderType(),h;switch(f){case"renderProp":return o&&o(m);case"childFunction":return h=s,h(m);case"child":if(h=s,h.type&&typeof h.type=="string"){m.targetRef;var g=$be(m,["targetRef"]);return a.cloneElement(h,g)}return a.cloneElement(h,m);case"childArray":return h=s,h.map(function(x){return!!x&&a.cloneElement(x,m)});default:return a.createElement(c,null)}},t})(a.PureComponent);function hxt(e,t){t===void 0&&(t={});var n=(function(i){Lbe(c,i);function c(){var u=i!==null&&i.apply(this,arguments)||this;return u.ref=a.createRef(),u}return c.prototype.render=function(){var u=this.props,d=u.forwardedRef,p=$be(u,["forwardedRef"]),m=d??this.ref;return a.createElement(Hbe,cC({},t,{targetRef:m}),a.createElement(e,cC({targetRef:m},p)))},c})(a.Component);function o(i,c){return a.createElement(n,cC({},i,{forwardedRef:c}))}var s=e.displayName||e.name;return o.displayName="withResizeDetector(".concat(s,")"),a.forwardRef(o)}var gxt=Sh()?a.useEffect:a.useLayoutEffect;function bxt(e){e===void 0&&(e={});var t=e.skipOnMount,n=t===void 0?!1:t,o=e.refreshMode,s=e.refreshRate,i=s===void 0?1e3:s,c=e.refreshOptions,u=e.handleWidth,d=u===void 0?!0:u,p=e.handleHeight,m=p===void 0?!0:p,f=e.targetRef,h=e.observerOptions,g=e.onResize,x=a.useRef(n),y=a.useRef(null),D=f??y,v=a.useRef(),T=a.useState({width:void 0,height:void 0}),I=T[0],P=T[1];return gxt(function(){if(!Sh()){var E=zbe(g,P,d,m),k=function(A){!d&&!m||A.forEach(function(F){var _=F&&F.contentRect||{},L=_.width,K=_.height,z=!x.current&&!Sh();z&&E({width:L,height:K}),x.current=!1})};v.current=Vbe(k,o,i,c);var w=new window.ResizeObserver(v.current);return D.current&&w.observe(D.current,h),function(){w.disconnect();var A=v.current;A&&A.cancel&&A.cancel()}}},[o,i,c,d,m,g,h,D.current]),cC({ref:D},I)}const xxt=Object.freeze(Object.defineProperty({__proto__:null,default:Hbe,useResizeDetector:bxt,withResizeDetector:hxt},Symbol.toStringTag,{value:"Module"})),yxt=Ei(xxt);var Wm={},Xae;function Cxt(){return Xae||(Xae=1,(function(e){var t=Wm&&Wm.__createBinding||(Object.create?(function(x,y,D,v){v===void 0&&(v=D);var T=Object.getOwnPropertyDescriptor(y,D);(!T||("get"in T?!y.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return y[D]}}),Object.defineProperty(x,v,T)}):(function(x,y,D,v){v===void 0&&(v=D),x[v]=y[D]})),n=Wm&&Wm.__setModuleDefault||(Object.create?(function(x,y){Object.defineProperty(x,"default",{enumerable:!0,value:y})}):function(x,y){x.default=y}),o=Wm&&Wm.__importStar||function(x){if(x&&x.__esModule)return x;var y={};if(x!=null)for(var D in x)D!=="default"&&Object.prototype.hasOwnProperty.call(x,D)&&t(y,x,D);return n(y,x),y};Object.defineProperty(e,"__esModule",{value:!0}),e.useColumns=e.parseFlexValue=void 0;const s=o(is()),i=()=>s.default.createElement(s.default.Fragment,null),c=()=>!1,u=({rowData:x})=>x,d=()=>null,p=({rowIndex:x})=>s.default.createElement(s.default.Fragment,null,x+1),m=()=>!0,f=x=>x,h=x=>{if(typeof x=="number")return{basis:0,grow:x,shrink:1};if(x.match(/^ *\d+(\.\d*)? *$/))return{basis:0,grow:parseFloat(x.trim()),shrink:1};if(x.match(/^ *\d+(\.\d*)? *px *$/))return{basis:parseFloat(x.trim()),grow:1,shrink:1};if(x.match(/^ *\d+(\.\d*)? \d+(\.\d*)? *$/)){const[y,D]=x.trim().split(" ");return{basis:0,grow:parseFloat(y),shrink:parseFloat(D)}}if(x.match(/^ *\d+(\.\d*)? \d+(\.\d*)? *px *$/)){const[y,D]=x.trim().split(" ");return{basis:parseFloat(D),grow:parseFloat(y),shrink:1}}if(x.match(/^ *\d+(\.\d*)? \d+(\.\d*)? \d+(\.\d*)? *px *$/)){const[y,D,v]=x.trim().split(" ");return{basis:parseFloat(v),grow:parseFloat(y),shrink:parseFloat(D)}}return{basis:0,grow:1,shrink:1}};e.parseFlexValue=h;const g=(x,y,D)=>(0,s.useMemo)(()=>{var v,T,I,P,E,k,w,A,F,_;const L=[y===!1?{basis:0,grow:0,shrink:0,minWidth:0,component:()=>s.default.createElement(s.default.Fragment,null),headerClassName:"dsg-hidden-cell",cellClassName:"dsg-hidden-cell",isCellEmpty:m}:Object.assign(Object.assign({},y),{basis:(v=y==null?void 0:y.basis)!==null&&v!==void 0?v:40,grow:(T=y==null?void 0:y.grow)!==null&&T!==void 0?T:0,shrink:(I=y==null?void 0:y.shrink)!==null&&I!==void 0?I:0,minWidth:(P=y==null?void 0:y.minWidth)!==null&&P!==void 0?P:0,title:(E=y==null?void 0:y.title)!==null&&E!==void 0?E:s.default.createElement("div",{className:"dsg-corner-indicator"}),component:(k=y==null?void 0:y.component)!==null&&k!==void 0?k:p,isCellEmpty:m}),...x];return D&&L.push(Object.assign(Object.assign({},D),{basis:(w=D==null?void 0:D.basis)!==null&&w!==void 0?w:40,grow:(A=D==null?void 0:D.grow)!==null&&A!==void 0?A:0,shrink:(F=D==null?void 0:D.shrink)!==null&&F!==void 0?F:0,minWidth:(_=D.minWidth)!==null&&_!==void 0?_:0,isCellEmpty:m})),L.map(K=>{var z,J,Q,V,W,U,X,te,se,he,pe,ue,ge,Ce,Te,Ne;const xe=K.width!==void 0?(0,e.parseFlexValue)(K.width):{basis:void 0,grow:void 0,shrink:void 0};return Object.assign(Object.assign({},K),{basis:(J=(z=K.basis)!==null&&z!==void 0?z:xe.basis)!==null&&J!==void 0?J:0,grow:(V=(Q=K.grow)!==null&&Q!==void 0?Q:xe.grow)!==null&&V!==void 0?V:1,shrink:(U=(W=K.shrink)!==null&&W!==void 0?W:xe.shrink)!==null&&U!==void 0?U:1,minWidth:(X=K.minWidth)!==null&&X!==void 0?X:100,component:(te=K.component)!==null&&te!==void 0?te:i,disableKeys:(se=K.disableKeys)!==null&&se!==void 0?se:!1,disabled:(he=K.disabled)!==null&&he!==void 0?he:!1,keepFocus:(pe=K.keepFocus)!==null&&pe!==void 0?pe:!1,deleteValue:(ue=K.deleteValue)!==null&&ue!==void 0?ue:u,copyValue:(ge=K.copyValue)!==null&&ge!==void 0?ge:d,pasteValue:(Ce=K.pasteValue)!==null&&Ce!==void 0?Ce:u,prePasteValues:(Te=K.prePasteValues)!==null&&Te!==void 0?Te:f,isCellEmpty:(Ne=K.isCellEmpty)!==null&&Ne!==void 0?Ne:c})})},[y,D,x]);e.useColumns=g})(Wm)),Wm}var tv={},nv={},Zae;function EW(){if(Zae)return nv;Zae=1,Object.defineProperty(nv,"__esModule",{value:!0});function e(n,o,s,i){var c,u=!1,d=0;function p(){c&&clearTimeout(c)}function m(){p(),u=!0}typeof o!="boolean"&&(i=s,s=o,o=void 0);function f(){for(var h=arguments.length,g=new Array(h),x=0;x<h;x++)g[x]=arguments[x];var y=this,D=Date.now()-d;if(u)return;function v(){d=Date.now(),s.apply(y,g)}function T(){c=void 0}i&&!c&&v(),p(),i===void 0&&D>n?v():o!==!0&&(c=setTimeout(i?T:v,i===void 0?n-D:n))}return f.cancel=m,f}function t(n,o,s){return s===void 0?e(n,o,!1):e(n,s,o!==!1)}return nv.debounce=t,nv.throttle=e,nv}var Gg={},eie;function Gbe(){if(eie)return Gg;eie=1;var e=Gg&&Gg.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Gg,"__esModule",{value:!0}),Gg.useDeepEqualState=void 0;const t=is(),n=e(H3()),o=s=>{const[i,c]=(0,t.useState)(s),u=(0,t.useCallback)(d=>{c(p=>{const m=typeof d=="function"?d(p):d;return(0,n.default)(m,p)?p:m})},[c]);return[i,u]};return Gg.useDeepEqualState=o,Gg}var tie;function Dxt(){if(tie)return tv;tie=1,Object.defineProperty(tv,"__esModule",{value:!0}),tv.useEdges=void 0;const e=is(),t=EW(),n=Gbe(),o=(s,i,c)=>{const[u,d]=(0,n.useDeepEqualState)({top:!0,right:!0,bottom:!0,left:!0});return(0,e.useEffect)(()=>{const p=(0,t.throttle)(100,()=>{var f,h,g,x,y,D,v,T,I,P;d({top:((f=s.current)===null||f===void 0?void 0:f.scrollTop)===0,right:((g=(h=s.current)===null||h===void 0?void 0:h.scrollLeft)!==null&&g!==void 0?g:0)>=((y=(x=s.current)===null||x===void 0?void 0:x.scrollWidth)!==null&&y!==void 0?y:0)-(i??0)-1,bottom:((v=(D=s.current)===null||D===void 0?void 0:D.scrollTop)!==null&&v!==void 0?v:0)>=((I=(T=s.current)===null||T===void 0?void 0:T.scrollHeight)!==null&&I!==void 0?I:0)-(c??0)-1,left:((P=s.current)===null||P===void 0?void 0:P.scrollLeft)===0})}),m=s.current;return m==null||m.addEventListener("scroll",p),setTimeout(p,100),()=>{m==null||m.removeEventListener("scroll",p),p.cancel()}},[c,i,s,d]),u};return tv.useEdges=o,tv}var rv={},nie;function Kbe(){if(nie)return rv;nie=1,Object.defineProperty(rv,"__esModule",{value:!0}),rv.useDocumentEventListener=void 0;const e=is(),t=(n,o)=>{(0,e.useEffect)(()=>(document.addEventListener(n,o),()=>{document.removeEventListener(n,o)}),[o,n])};return rv.useDocumentEventListener=t,rv}var ov={},rie;function Sxt(){if(rie)return ov;rie=1,Object.defineProperty(ov,"__esModule",{value:!0}),ov.useGetBoundingClientRect=void 0;const e=is(),t=EW(),n=(o,s=200)=>{const i=(0,e.useRef)(null),c=(0,e.useMemo)(()=>(0,t.throttle)(s,!0,()=>{setTimeout(()=>{var u;return i.current=((u=o.current)===null||u===void 0?void 0:u.getBoundingClientRect())||null},0)}),[o,s]);return(0,e.useCallback)((u=!1)=>{var d;return u?i.current=((d=o.current)===null||d===void 0?void 0:d.getBoundingClientRect())||null:c(),i.current},[o,c])};return ov.useGetBoundingClientRect=n,ov}var Um={},oie;function Qbe(){return oie||(oie=1,(function(e){var t=Um&&Um.__createBinding||(Object.create?(function(c,u,d,p){p===void 0&&(p=d);var m=Object.getOwnPropertyDescriptor(u,d);(!m||("get"in m?!u.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return u[d]}}),Object.defineProperty(c,p,m)}):(function(c,u,d,p){p===void 0&&(p=d),c[p]=u[d]})),n=Um&&Um.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),o=Um&&Um.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var d in c)d!=="default"&&Object.prototype.hasOwnProperty.call(c,d)&&t(u,c,d);return n(u,c),u};Object.defineProperty(e,"__esModule",{value:!0}),e.AddRows=e.createAddRowsComponent=void 0;const s=o(is()),i=(c={})=>({addRows:u})=>{var d,p;const[m,f]=(0,s.useState)(1),[h,g]=(0,s.useState)(String(m));return s.default.createElement("div",{className:"dsg-add-row"},s.default.createElement("button",{type:"button",className:"dsg-add-row-btn",onClick:()=>u(m)},(d=c.button)!==null&&d!==void 0?d:"Add")," ",s.default.createElement("input",{className:"dsg-add-row-input",value:h,onBlur:()=>g(String(m)),type:"number",min:1,onChange:x=>{g(x.target.value),f(Math.max(1,Math.round(parseInt(x.target.value)||0)))},onKeyDown:x=>{x.key==="Enter"&&u(m)}})," ",(p=c.unit)!==null&&p!==void 0?p:"rows")};e.createAddRowsComponent=i,e.AddRows=(0,e.createAddRowsComponent)(),e.AddRows.displayName="AddRows"})(Um)),Um}var sv={},sie;function vxt(){if(sie)return sv;sie=1,Object.defineProperty(sv,"__esModule",{value:!0}),sv.useDebounceState=void 0;const e=is(),t=EW(),n=(o,s)=>{const[i,c]=(0,e.useState)(o),u=(0,e.useRef)();(0,e.useEffect)(()=>()=>{var p;return(p=u.current)===null||p===void 0?void 0:p.cancel()},[]);const d=(0,e.useMemo)(()=>u.current=(0,t.debounce)(s,p=>{c(p)}),[s]);return[i,d]};return sv.useDebounceState=n,sv}var qm={},aie;function Ybe(){return aie||(aie=1,(function(e){var t=qm&&qm.__createBinding||(Object.create?(function(p,m,f,h){h===void 0&&(h=f);var g=Object.getOwnPropertyDescriptor(m,f);(!g||("get"in g?!m.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return m[f]}}),Object.defineProperty(p,h,g)}):(function(p,m,f,h){h===void 0&&(h=f),p[h]=m[f]})),n=qm&&qm.__setModuleDefault||(Object.create?(function(p,m){Object.defineProperty(p,"default",{enumerable:!0,value:m})}):function(p,m){p.default=m}),o=qm&&qm.__importStar||function(p){if(p&&p.__esModule)return p;var m={};if(p!=null)for(var f in p)f!=="default"&&Object.prototype.hasOwnProperty.call(p,f)&&t(m,p,f);return n(m,p),m};Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenu=e.createContextMenuComponent=e.defaultRenderItem=void 0;const s=o(is()),i=is(),c=Kbe(),u=p=>p.type==="CUT"?s.createElement(s.Fragment,null,"Cut"):p.type==="COPY"?s.createElement(s.Fragment,null,"Copy"):p.type==="PASTE"?s.createElement(s.Fragment,null,"Paste"):p.type==="DELETE_ROW"?s.createElement(s.Fragment,null,"Delete row"):p.type==="DELETE_ROWS"?s.createElement(s.Fragment,null,"Delete rows ",s.createElement("b",null,p.fromRow)," to ",s.createElement("b",null,p.toRow)):p.type==="INSERT_ROW_BELLOW"?s.createElement(s.Fragment,null,"Insert row below"):p.type==="DUPLICATE_ROW"?s.createElement(s.Fragment,null,"Duplicate row"):p.type==="DUPLICATE_ROWS"?s.createElement(s.Fragment,null,"Duplicate rows ",s.createElement("b",null,p.fromRow)," to ",s.createElement("b",null,p.toRow)):p.type;e.defaultRenderItem=u;const d=(p=e.defaultRenderItem)=>({clientX:m,clientY:f,items:h,close:g})=>{const x=(0,i.useRef)(null),y=(0,i.useCallback)(D=>{var v;((v=x.current)===null||v===void 0?void 0:v.contains(D.target))||g()},[g]);return(0,c.useDocumentEventListener)("mousedown",y),s.createElement("div",{className:"dsg-context-menu",style:{left:m+"px",top:f+"px"},ref:x},h.map(D=>s.createElement("div",{key:D.type,onClick:D.action,className:"dsg-context-menu-item"},p(D))))};e.createContextMenuComponent=d,e.ContextMenu=(0,e.createContextMenuComponent)(e.defaultRenderItem),e.ContextMenu.displayName="ContextMenu"})(qm)),qm}var Pd={},av={},iie;function jxt(){if(iie)return av;iie=1,Object.defineProperty(av,"__esModule",{value:!0}),av.parseDom=void 0;const e=typeof DOMParser<"u"?new DOMParser:{parseFromString:()=>null},t=n=>e.parseFromString(n,"text/html");return av.parseDom=t,av}var lie;function Ixt(){if(lie)return Pd;lie=1,Object.defineProperty(Pd,"__esModule",{value:!0}),Pd.isPrintableUnicode=Pd.encodeHtml=Pd.parseTextPlainData=Pd.parseTextHtmlData=void 0;const e=jxt(),t=i=>{var c,u;const d=(0,e.parseDom)(i.replace(/<br\/?>/g,`
`)),p=d.getElementsByTagName("table")[0];if(p){const f=[];for(let h=0;h<p.rows.length;h++){const g=[];f.push(g);for(let x=0;x<p.rows[h].cells.length;x++)g.push((c=p.rows[h].cells[x].textContent)!==null&&c!==void 0?c:"")}return f}const m=d.getElementsByTagName("span")[0];return m?[[(u=m.textContent)!==null&&u!==void 0?u:""]]:[[""]]};Pd.parseTextHtmlData=t;const n=i=>{const c=i.replace(/\r|\n$/g,""),u=[[]];let d=0,p=0,m=!1,f=0;const h=()=>{let g=c.slice(p,d);g[0]==='"'&&g[g.length-1]==='"'&&(m=!0),m&&g[g.length-1]==='"'&&g.includes(`
`)&&(g=g.slice(1,g.length-1).replace(/""/g,'"'),m=!1),m&&g[g.length-1]!=='"'?g.split(`
`).forEach((x,y,{length:D})=>{u[f].push(x),y<D-1&&(u.push([]),f++)}):u[f].push(g)};for(;d<c.length;)m&&c[d]==='"'&&![void 0,"	",'"'].includes(c[d+1])&&(m=!1),m&&c[d]==='"'&&c[d+1]==='"'&&d++,d===p&&c[d]==='"'&&(m=!0),c[d]==="	"&&(h(),p=d+1,m=!1),c[d]===`
`&&!m&&(h(),u.push([]),p=d+1,f++),d++;return h(),u};Pd.parseTextPlainData=n;const o=i=>i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");Pd.encodeHtml=o;const s=i=>i.match(/^[^\x00-\x20\x7F-\x9F]$/)!==null;return Pd.isPrintableUnicode=s,Pd}var rL={},cie;function Txt(){return cie||(cie=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getSelectionWithId=e.getSelection=e.getCellWithId=e.getCell=void 0;const t=(i,c,u,d)=>{if(i===null||!c||!u)return null;if(typeof i!="object")throw new Error("Value must be an object or null");const p=d.findIndex(f=>f.id===i.col),m={col:Math.max(0,Math.min(c-1,p===-1?Number(i.col):p-1)),row:Math.max(0,Math.min(u-1,Number(i.row)))};if(isNaN(m.col)||isNaN(m.row))throw new Error("col or cell are not valid positive numbers");return m};e.getCell=t;const n=(i,c)=>{var u;return i?{col:i.col,row:i.row,colId:(u=c[i.col+1])===null||u===void 0?void 0:u.id}:null};e.getCellWithId=n;const o=(i,c,u,d)=>{if(i===null||!c||!u)return null;if(typeof i!="object")throw new Error("Value must be an object or null");const p={min:(0,e.getCell)(i.min,c,u,d),max:(0,e.getCell)(i.max,c,u,d)};if(!p.min||!p.max)throw new Error("min and max must be defined");return p};e.getSelection=o;const s=(i,c)=>i?{min:(0,e.getCellWithId)(i.min,c),max:(0,e.getCellWithId)(i.max,c)}:null;e.getSelectionWithId=s})(rL)),rL}var iv={},uie;function Oxt(){if(uie)return iv;uie=1,Object.defineProperty(iv,"__esModule",{value:!0}),iv.getAllTabbableElements=void 0;const e=()=>Array.from(document.querySelectorAll("*")).filter(t=>t instanceof HTMLElement&&typeof t.tabIndex=="number"&&t.tabIndex>=0&&!t.disabled&&(!(t instanceof HTMLAnchorElement)||!!t.href||t.getAttribute("tabIndex")!==null)&&getComputedStyle(t).visibility!=="collapse");return iv.getAllTabbableElements=e,iv}var wc={},oL={},sL={},aL={},die;function Ext(){return die||(die=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(i,c,u){let d=u.initialDeps??[],p;function m(){var f,h,g,x;let y;u.key&&((f=u.debug)!=null&&f.call(u))&&(y=Date.now());const D=i();if(!(D.length!==d.length||D.some((I,P)=>d[P]!==I)))return p;d=D;let T;if(u.key&&((h=u.debug)!=null&&h.call(u))&&(T=Date.now()),p=c(...D),u.key&&((g=u.debug)!=null&&g.call(u))){const I=Math.round((Date.now()-y)*100)/100,P=Math.round((Date.now()-T)*100)/100,E=P/16,k=(w,A)=>{for(w=String(w);w.length<A;)w=" "+w;return w};console.info(`%c ${k(P,5)} /${k(I,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*E,120))}deg 100% 31%);`,u==null?void 0:u.key)}return(x=u==null?void 0:u.onChange)==null||x.call(u,p),p}return m.updateDeps=f=>{d=f},m}function n(i,c){if(i===void 0)throw new Error(`Unexpected undefined${c?`: ${c}`:""}`);return i}const o=(i,c)=>Math.abs(i-c)<1.01,s=(i,c,u)=>{let d;return function(...p){i.clearTimeout(d),d=i.setTimeout(()=>c.apply(this,p),u)}};e.approxEqual=o,e.debounce=s,e.memo=t,e.notUndefined=n})(aL)),aL}var pie;function Pxt(){return pie||(pie=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ext(),n=v=>{const{offsetWidth:T,offsetHeight:I}=v;return{width:T,height:I}},o=v=>v,s=v=>{const T=Math.max(v.startIndex-v.overscan,0),I=Math.min(v.endIndex+v.overscan,v.count-1),P=[];for(let E=T;E<=I;E++)P.push(E);return P},i=(v,T)=>{const I=v.scrollElement;if(!I)return;const P=v.targetWindow;if(!P)return;const E=w=>{const{width:A,height:F}=w;T({width:Math.round(A),height:Math.round(F)})};if(E(n(I)),!P.ResizeObserver)return()=>{};const k=new P.ResizeObserver(w=>{const A=()=>{const F=w[0];if(F!=null&&F.borderBoxSize){const _=F.borderBoxSize[0];if(_){E({width:_.inlineSize,height:_.blockSize});return}}E(n(I))};v.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(A):A()});return k.observe(I,{box:"border-box"}),()=>{k.unobserve(I)}},c={passive:!0},u=(v,T)=>{const I=v.scrollElement;if(!I)return;const P=()=>{T({width:I.innerWidth,height:I.innerHeight})};return P(),I.addEventListener("resize",P,c),()=>{I.removeEventListener("resize",P)}},d=typeof window>"u"?!0:"onscrollend"in window,p=(v,T)=>{const I=v.scrollElement;if(!I)return;const P=v.targetWindow;if(!P)return;let E=0;const k=v.options.useScrollendEvent&&d?()=>{}:t.debounce(P,()=>{T(E,!1)},v.options.isScrollingResetDelay),w=L=>()=>{const{horizontal:K,isRtl:z}=v.options;E=K?I.scrollLeft*(z&&-1||1):I.scrollTop,k(),T(E,L)},A=w(!0),F=w(!1);F(),I.addEventListener("scroll",A,c);const _=v.options.useScrollendEvent&&d;return _&&I.addEventListener("scrollend",F,c),()=>{I.removeEventListener("scroll",A),_&&I.removeEventListener("scrollend",F)}},m=(v,T)=>{const I=v.scrollElement;if(!I)return;const P=v.targetWindow;if(!P)return;let E=0;const k=v.options.useScrollendEvent&&d?()=>{}:t.debounce(P,()=>{T(E,!1)},v.options.isScrollingResetDelay),w=L=>()=>{E=I[v.options.horizontal?"scrollX":"scrollY"],k(),T(E,L)},A=w(!0),F=w(!1);F(),I.addEventListener("scroll",A,c);const _=v.options.useScrollendEvent&&d;return _&&I.addEventListener("scrollend",F,c),()=>{I.removeEventListener("scroll",A),_&&I.removeEventListener("scrollend",F)}},f=(v,T,I)=>{if(T!=null&&T.borderBoxSize){const P=T.borderBoxSize[0];if(P)return Math.round(P[I.options.horizontal?"inlineSize":"blockSize"])}return v[I.options.horizontal?"offsetWidth":"offsetHeight"]},h=(v,{adjustments:T=0,behavior:I},P)=>{var E,k;const w=v+T;(k=(E=P.scrollElement)==null?void 0:E.scrollTo)==null||k.call(E,{[P.options.horizontal?"left":"top"]:w,behavior:I})},g=(v,{adjustments:T=0,behavior:I},P)=>{var E,k;const w=v+T;(k=(E=P.scrollElement)==null?void 0:E.scrollTo)==null||k.call(E,{[P.options.horizontal?"left":"top"]:w,behavior:I})};class x{constructor(T){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let I=null;const P=()=>I||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:I=new this.targetWindow.ResizeObserver(E=>{E.forEach(k=>{const w=()=>{this._measureElement(k.target,k)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(w):w()})}));return{disconnect:()=>{var E;(E=P())==null||E.disconnect(),I=null},observe:E=>{var k;return(k=P())==null?void 0:k.observe(E,{box:"border-box"})},unobserve:E=>{var k;return(k=P())==null?void 0:k.unobserve(E)}}})(),this.range=null,this.setOptions=I=>{Object.entries(I).forEach(([P,E])=>{typeof E>"u"&&delete I[P]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:o,rangeExtractor:s,onChange:()=>{},measureElement:f,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...I}},this.notify=I=>{var P,E;(E=(P=this.options).onChange)==null||E.call(P,this,I)},this.maybeNotify=t.memo(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),I=>{this.notify(I)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(I=>I()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var I;const P=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==P){if(this.cleanup(),!P){this.maybeNotify();return}this.scrollElement=P,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((I=this.scrollElement)==null?void 0:I.window)??null,this.elementsCache.forEach(E=>{this.observer.observe(E)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,E=>{this.scrollRect=E,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(E,k)=>{this.scrollAdjustments=0,this.scrollDirection=k?this.getScrollOffset()<E?"forward":"backward":null,this.scrollOffset=E,this.isScrolling=k,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(I,P)=>{const E=new Map,k=new Map;for(let w=P-1;w>=0;w--){const A=I[w];if(E.has(A.lane))continue;const F=k.get(A.lane);if(F==null||A.end>F.end?k.set(A.lane,A):A.end<F.end&&E.set(A.lane,!0),E.size===this.options.lanes)break}return k.size===this.options.lanes?Array.from(k.values()).sort((w,A)=>w.end===A.end?w.index-A.index:w.end-A.end)[0]:void 0},this.getMeasurementOptions=t.memo(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(I,P,E,k,w)=>(this.pendingMeasuredCacheIndexes=[],{count:I,paddingStart:P,scrollMargin:E,getItemKey:k,enabled:w}),{key:!1}),this.getMeasurements=t.memo(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:I,paddingStart:P,scrollMargin:E,getItemKey:k,enabled:w},A)=>{if(!w)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(L=>{this.itemSizeCache.set(L.key,L.size)}));const F=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const _=this.measurementsCache.slice(0,F);for(let L=F;L<I;L++){const K=k(L),z=this.options.lanes===1?_[L-1]:this.getFurthestMeasurement(_,L),J=z?z.end+this.options.gap:P+E,Q=A.get(K),V=typeof Q=="number"?Q:this.options.estimateSize(L),W=J+V,U=z?z.lane:L%this.options.lanes;_[L]={index:L,start:J,size:V,end:W,key:K,lane:U}}return this.measurementsCache=_,_},{key:!1,debug:()=>this.options.debug}),this.calculateRange=t.memo(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(I,P,E,k)=>this.range=I.length>0&&P>0?D({measurements:I,outerSize:P,scrollOffset:E,lanes:k}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=t.memo(()=>{let I=null,P=null;const E=this.calculateRange();return E&&(I=E.startIndex,P=E.endIndex),this.maybeNotify.updateDeps([this.isScrolling,I,P]),[this.options.rangeExtractor,this.options.overscan,this.options.count,I,P]},(I,P,E,k,w)=>k===null||w===null?[]:I({startIndex:k,endIndex:w,overscan:P,count:E}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=I=>{const P=this.options.indexAttribute,E=I.getAttribute(P);return E?parseInt(E,10):(console.warn(`Missing attribute name '${P}={index}' on measured element.`),-1)},this._measureElement=(I,P)=>{const E=this.indexFromElement(I),k=this.measurementsCache[E];if(!k)return;const w=k.key,A=this.elementsCache.get(w);A!==I&&(A&&this.observer.unobserve(A),this.observer.observe(I),this.elementsCache.set(w,I)),I.isConnected&&this.resizeItem(E,this.options.measureElement(I,P,this))},this.resizeItem=(I,P)=>{const E=this.measurementsCache[I];if(!E)return;const k=this.itemSizeCache.get(E.key)??E.size,w=P-k;w!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(E,w,this):E.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=w,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(E.index),this.itemSizeCache=new Map(this.itemSizeCache.set(E.key,P)),this.notify(!1))},this.measureElement=I=>{if(!I){this.elementsCache.forEach((P,E)=>{P.isConnected||(this.observer.unobserve(P),this.elementsCache.delete(E))});return}this._measureElement(I,void 0)},this.getVirtualItems=t.memo(()=>[this.getVirtualIndexes(),this.getMeasurements()],(I,P)=>{const E=[];for(let k=0,w=I.length;k<w;k++){const A=I[k],F=P[A];E.push(F)}return E},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=I=>{const P=this.getMeasurements();if(P.length!==0)return t.notUndefined(P[y(0,P.length-1,E=>t.notUndefined(P[E]).start,I)])},this.getOffsetForAlignment=(I,P,E=0)=>{const k=this.getSize(),w=this.getScrollOffset();P==="auto"&&(P=I>=w+k?"end":"start"),P==="center"?I+=(E-k)/2:P==="end"&&(I-=k);const A=this.getTotalSize()+this.options.scrollMargin-k;return Math.max(Math.min(A,I),0)},this.getOffsetForIndex=(I,P="auto")=>{I=Math.max(0,Math.min(I,this.options.count-1));const E=this.measurementsCache[I];if(!E)return;const k=this.getSize(),w=this.getScrollOffset();if(P==="auto")if(E.end>=w+k-this.options.scrollPaddingEnd)P="end";else if(E.start<=w+this.options.scrollPaddingStart)P="start";else return[w,P];const A=P==="end"?E.end+this.options.scrollPaddingEnd:E.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(A,P,E.size),P]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(I,{align:P="start",behavior:E}={})=>{E==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(I,P),{adjustments:void 0,behavior:E})},this.scrollToIndex=(I,{align:P="auto",behavior:E}={})=>{E==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),I=Math.max(0,Math.min(I,this.options.count-1));let k=0;const w=10,A=_=>{if(!this.targetWindow)return;const L=this.getOffsetForIndex(I,_);if(!L){console.warn("Failed to get offset for index:",I);return}const[K,z]=L;this._scrollToOffset(K,{adjustments:void 0,behavior:E}),this.targetWindow.requestAnimationFrame(()=>{const J=this.getScrollOffset(),Q=this.getOffsetForIndex(I,z);if(!Q){console.warn("Failed to get offset for index:",I);return}t.approxEqual(Q[0],J)||F(z)})},F=_=>{this.targetWindow&&(k++,k<w?this.targetWindow.requestAnimationFrame(()=>A(_)):console.warn(`Failed to scroll to index ${I} after ${w} attempts.`))};A(P)},this.scrollBy=(I,{behavior:P}={})=>{P==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+I,{adjustments:void 0,behavior:P})},this.getTotalSize=()=>{var I;const P=this.getMeasurements();let E;if(P.length===0)E=this.options.paddingStart;else if(this.options.lanes===1)E=((I=P[P.length-1])==null?void 0:I.end)??0;else{const k=Array(this.options.lanes).fill(null);let w=P.length-1;for(;w>=0&&k.some(A=>A===null);){const A=P[w];k[A.lane]===null&&(k[A.lane]=A.end),w--}E=Math.max(...k.filter(A=>A!==null))}return Math.max(E-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(I,{adjustments:P,behavior:E})=>{this.options.scrollToFn(I,{behavior:E,adjustments:P},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(T)}}const y=(v,T,I,P)=>{for(;v<=T;){const E=(v+T)/2|0,k=I(E);if(k<P)v=E+1;else if(k>P)T=E-1;else return E}return v>0?v-1:0};function D({measurements:v,outerSize:T,scrollOffset:I,lanes:P}){const E=v.length-1,k=F=>v[F].start;if(v.length<=P)return{startIndex:0,endIndex:E};let w=y(0,E,k,I),A=w;if(P===1)for(;A<E&&v[A].end<I+T;)A++;else if(P>1){const F=Array(P).fill(0);for(;A<E&&F.some(L=>L<I+T);){const L=v[A];F[L.lane]=L.end,A++}const _=Array(P).fill(I+T);for(;w>=0&&_.some(L=>L>=I);){const L=v[w];_[L.lane]=L.start,w--}w=Math.max(0,w-w%P),A=Math.min(E,A+(P-1-A%P))}return{startIndex:w,endIndex:A}}e.approxEqual=t.approxEqual,e.debounce=t.debounce,e.memo=t.memo,e.notUndefined=t.notUndefined,e.Virtualizer=x,e.defaultKeyExtractor=o,e.defaultRangeExtractor=s,e.elementScroll=g,e.measureElement=f,e.observeElementOffset=p,e.observeElementRect=i,e.observeWindowOffset=m,e.observeWindowRect=u,e.windowScroll=h})(sL)),sL}var mie;function Rxt(){return mie||(mie=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=is(),n=FB(),o=Pxt();function s(m){const f=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(m){for(const h in m)if(h!=="default"){const g=Object.getOwnPropertyDescriptor(m,h);Object.defineProperty(f,h,g.get?g:{enumerable:!0,get:()=>m[h]})}}return f.default=m,Object.freeze(f)}const i=s(t),c=typeof document<"u"?i.useLayoutEffect:i.useEffect;function u(m){const f=i.useReducer(()=>({}),{})[1],h={...m,onChange:(x,y)=>{var D;y?n.flushSync(f):f(),(D=m.onChange)==null||D.call(m,x,y)}},[g]=i.useState(()=>new o.Virtualizer(h));return g.setOptions(h),c(()=>g._didMount(),[]),c(()=>g._willUpdate()),g}function d(m){return u({observeElementRect:o.observeElementRect,observeElementOffset:o.observeElementOffset,scrollToFn:o.elementScroll,...m})}function p(m){return u({getScrollElement:()=>typeof document<"u"?window:null,observeElementRect:o.observeWindowRect,observeElementOffset:o.observeWindowOffset,scrollToFn:o.windowScroll,initialOffset:()=>typeof document<"u"?window.scrollY:0,...m})}e.useVirtualizer=d,e.useWindowVirtualizer=p,Object.keys(o).forEach(m=>{m!=="default"&&!Object.prototype.hasOwnProperty.call(e,m)&&Object.defineProperty(e,m,{enumerable:!0,get:()=>o[m]})})})(oL)),oL}var iL={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var fie;function Gb(){return fie||(fie=1,(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var i="",c=0;c<arguments.length;c++){var u=arguments[c];u&&(i=s(i,o(u)))}return i}function o(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var c="";for(var u in i)t.call(i,u)&&i[u]&&(c=s(c,u));return c}function s(i,c){return c?i?i+" "+c:i+c:i}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(iL)),iL.exports}var Kg={},hie;function wxt(){if(hie)return Kg;hie=1;var e=Kg&&Kg.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Kg,"__esModule",{value:!0}),Kg.Cell=void 0;const t=e(is()),n=e(Gb()),o=({children:s,gutter:i,stickyRight:c,active:u,disabled:d,className:p,width:m,left:f})=>t.default.createElement("div",{className:(0,n.default)("dsg-cell",i&&"dsg-cell-gutter",d&&"dsg-cell-disabled",i&&u&&"dsg-cell-gutter-active",c&&"dsg-cell-sticky-right",p),style:{width:m,left:c?void 0:f}},s);return Kg.Cell=o,Kg}var lv={},gie;function kxt(){if(gie)return lv;gie=1,Object.defineProperty(lv,"__esModule",{value:!0}),lv.useMemoizedIndexCallback=void 0;const e=is(),t=(n,o)=>(0,e.useMemo)(()=>{const s=new Map;return i=>(s.has(i)||s.set(i,(...c)=>{n(i,...c.slice(0,o))}),s.get(i))},[o,n]);return lv.useMemoizedIndexCallback=t,lv}var bie;function Axt(){if(bie)return wc;bie=1;var e=wc&&wc.__createBinding||(Object.create?(function(m,f,h,g){g===void 0&&(g=h);var x=Object.getOwnPropertyDescriptor(f,h);(!x||("get"in x?!f.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return f[h]}}),Object.defineProperty(m,g,x)}):(function(m,f,h,g){g===void 0&&(g=h),m[g]=f[h]})),t=wc&&wc.__setModuleDefault||(Object.create?(function(m,f){Object.defineProperty(m,"default",{enumerable:!0,value:f})}):function(m,f){m.default=f}),n=wc&&wc.__importStar||function(m){if(m&&m.__esModule)return m;var f={};if(m!=null)for(var h in m)h!=="default"&&Object.prototype.hasOwnProperty.call(m,h)&&e(f,m,h);return t(f,m),f},o=wc&&wc.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(wc,"__esModule",{value:!0}),wc.Grid=void 0;const s=Rxt(),i=n(is()),c=o(Gb()),u=wxt(),d=kxt(),p=({data:m,columns:f,outerRef:h,innerRef:g,columnWidths:x,hasStickyRightColumn:y,displayHeight:D,headerRowHeight:v,rowHeight:T,rowKey:I,fullWidth:P,selection:E,activeCell:k,rowClassName:w,cellClassName:A,children:F,editing:_,getContextMenuItems:L,setRowData:K,deleteRows:z,duplicateRows:J,insertRowAfter:Q,stopEditing:V,onScroll:W})=>{var U,X,te,se;const he=(0,s.useVirtualizer)({count:m.length,getScrollElement:()=>h.current,paddingStart:v,estimateSize:ce=>T(ce).height,getItemKey:ce=>{if(I&&ce>0){const ee=m[ce-1];if(typeof I=="function")return I({rowData:ee,rowIndex:ce});if(typeof I=="string"&&ee instanceof Object&&I in ee){const De=ee[I];if(typeof De=="string"||typeof De=="number")return De}}return ce},overscan:5}),pe=(0,s.useVirtualizer)({count:f.length,getScrollElement:()=>h.current,estimateSize:ce=>{var ee;return(ee=x==null?void 0:x[ce])!==null&&ee!==void 0?ee:100},horizontal:!0,getItemKey:ce=>{var ee;return(ee=f[ce].id)!==null&&ee!==void 0?ee:ce},overscan:1,rangeExtractor:ce=>{const ee=(0,s.defaultRangeExtractor)(ce);return ee[0]!==0&&ee.unshift(0),y&&ee[ee.length-1]!==f.length-1&&ee.push(f.length-1),ee}});(0,i.useEffect)(()=>{pe.measure()},[pe,x]);const ue=(0,d.useMemoizedIndexCallback)(K,1),ge=(0,d.useMemoizedIndexCallback)(z,0),Ce=(0,d.useMemoizedIndexCallback)(J,0),Te=(0,d.useMemoizedIndexCallback)(Q,0),Ne=(U=E==null?void 0:E.min.col)!==null&&U!==void 0?U:k==null?void 0:k.col,xe=(X=E==null?void 0:E.max.col)!==null&&X!==void 0?X:k==null?void 0:k.col,me=(te=E==null?void 0:E.min.row)!==null&&te!==void 0?te:k==null?void 0:k.row,de=(se=E==null?void 0:E.max.row)!==null&&se!==void 0?se:k==null?void 0:k.row;return i.default.createElement("div",{ref:h,className:"dsg-container",onScroll:W,style:{height:D}},i.default.createElement("div",{ref:g,style:{width:P?"100%":pe.getTotalSize(),height:he.getTotalSize()}},v>0&&i.default.createElement("div",{className:(0,c.default)("dsg-row","dsg-row-header"),style:{width:P?"100%":pe.getTotalSize(),height:v}},pe.getVirtualItems().map(ce=>i.default.createElement(u.Cell,{key:ce.key,gutter:ce.index===0,stickyRight:y&&ce.index===f.length-1,width:ce.size,left:ce.start,className:(0,c.default)("dsg-cell-header",Ne!==void 0&&xe!==void 0&&Ne<=ce.index-1&&xe>=ce.index-1&&"dsg-cell-header-active",f[ce.index].headerClassName)},i.default.createElement("div",{className:"dsg-cell-header-container"},f[ce.index].title)))),he.getVirtualItems().map(ce=>{const ee=ce.index>=(me??1/0)&&ce.index<=(de??-1/0);return i.default.createElement("div",{key:ce.key,className:(0,c.default)("dsg-row",typeof w=="string"?w:null,typeof w=="function"?w({rowData:m[ce.index],rowIndex:ce.index}):null),style:{height:ce.size,top:ce.start,width:P?"100%":pe.getTotalSize()}},pe.getVirtualItems().map(De=>{const ke=f[De.index].cellClassName,He=f[De.index].disabled,qe=f[De.index].component,Le=He===!0||typeof He=="function"&&He({rowData:m[ce.index],rowIndex:ce.index}),_e=(k==null?void 0:k.row)===ce.index&&k.col===De.index-1;return i.default.createElement(u.Cell,{key:De.key,gutter:De.index===0,stickyRight:y&&De.index===f.length-1,active:De.index===0&&ee,disabled:Le,className:(0,c.default)(typeof ke=="function"?ke({rowData:m[ce.index],rowIndex:ce.index,columnId:f[De.index].id}):ke,typeof A=="function"?A({rowData:m[ce.index],rowIndex:ce.index,columnId:f[De.index].id}):A),width:De.size,left:De.start},i.default.createElement(qe,{rowData:m[ce.index],getContextMenuItems:L,disabled:Le,active:_e,columnIndex:De.index-1,rowIndex:ce.index,focus:_e&&_,deleteRow:ge(ce.index),duplicateRow:Ce(ce.index),stopEditing:V,insertRowBelow:Te(ce.index),setRowData:ue(ce.index),columnData:f[De.index].columnData}))}))}),F))};return wc.Grid=p,wc}var Rd={},xie;function Nxt(){return xie||(xie=1,(function(e){var t=Rd&&Rd.__createBinding||(Object.create?(function(p,m,f,h){h===void 0&&(h=f);var g=Object.getOwnPropertyDescriptor(m,f);(!g||("get"in g?!m.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return m[f]}}),Object.defineProperty(p,h,g)}):(function(p,m,f,h){h===void 0&&(h=f),p[h]=m[f]})),n=Rd&&Rd.__setModuleDefault||(Object.create?(function(p,m){Object.defineProperty(p,"default",{enumerable:!0,value:m})}):function(p,m){p.default=m}),o=Rd&&Rd.__importStar||function(p){if(p&&p.__esModule)return p;var m={};if(p!=null)for(var f in p)f!=="default"&&Object.prototype.hasOwnProperty.call(p,f)&&t(m,p,f);return n(m,p),m},s=Rd&&Rd.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionRect=void 0;const i=o(is()),c=s(Gb()),u=(p,m,f,h)=>[[h,p],[m,p],[m,f],[h,f],[h,p]],d=(p,m,f,h)=>`polygon(evenodd, ${[...u(0,"100%","100%",0),...u(p,m,f,h)].map(x=>x.map(y=>typeof y=="number"&&y!==0?y+"px":y).join(" ")).join(",")})`;e.SelectionRect=i.default.memo(({columnWidths:p,columnRights:m,headerRowHeight:f,selection:h,rowHeight:g,activeCell:x,hasStickyRightColumn:y,dataLength:D,viewWidth:v,viewHeight:T,contentWidth:I,edges:P,isCellDisabled:E,editing:k,expandSelection:w})=>{var A,F,_,L;const K=x?E(x):!1,z=(0,i.useMemo)(()=>{if(!h)return K;for(let he=h.min.col;he<=h.max.col;++he)for(let pe=h.min.row;pe<=h.max.row;++pe)if(!E({col:he,row:pe}))return!1;return!0},[K,E,h]);if(!p||!m)return null;const J=he=>he<D-1?1:0,Q=he=>he<p.length-(y?3:2)?1:0,V=x&&{width:p[x.col+1]+Q(x.col),height:g(x.row).height+J(x.row),left:m[x.col],top:g(x.row).top+f},W=h&&{width:p.slice(h.min.col+1,h.max.col+2).reduce((he,pe)=>he+pe)+Q(h.max.col),height:g(h.max.row).top+g(h.max.row).height-g(h.min.row).top+J(h.max.row),left:m[h.min.col],top:g(h.min.row).top+f},U=(h==null?void 0:h.min)||x,X=(h==null?void 0:h.max)||x,te=X&&w!==null&&{left:m[X.col]+p[X.col+1],top:g(X.row).top+g(X.row).height+f,transform:`translate(-${X.col<p.length-(y?3:2)?50:100}%, -${X.row<D-1?50:100}%)`},se=U&&X&&w!==null&&{width:p.slice(U.col+1,X.col+2).reduce((he,pe)=>he+pe)+Q(X.col),height:g(X.row+w).top+g(X.row+w).height-g(X.row+1).top+J(X.row+w)-1,left:m[U.col],top:g(X.row).top+g(X.row).height+f+1};return i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"dsg-scrollable-view-container",style:{height:g(D-1).top+g(D-1).height+f,width:I||"100%"}},i.default.createElement("div",{className:(0,c.default)({"dsg-scrollable-view":!0,"dsg-scrollable-view-t":!P.top,"dsg-scrollable-view-r":!P.right,"dsg-scrollable-view-b":!P.bottom,"dsg-scrollable-view-l":!P.left}),style:{top:f,left:p[0],height:T?T-f:0,width:I&&v?v-p[0]-(y?p[p.length-1]:0):`calc(100% - ${p[0]+(y?p[p.length-1]:0)}px)`}})),(W||V)&&i.default.createElement("div",{className:"dsg-selection-col-marker-container",style:{left:(A=W==null?void 0:W.left)!==null&&A!==void 0?A:V==null?void 0:V.left,width:(F=W==null?void 0:W.width)!==null&&F!==void 0?F:V==null?void 0:V.width,height:g(D-1).top+g(D-1).height+f}},i.default.createElement("div",{className:(0,c.default)("dsg-selection-col-marker",z&&"dsg-selection-col-marker-disabled"),style:{top:f}})),(W||V)&&i.default.createElement("div",{className:"dsg-selection-row-marker-container",style:{top:(_=W==null?void 0:W.top)!==null&&_!==void 0?_:V==null?void 0:V.top,height:(L=W==null?void 0:W.height)!==null&&L!==void 0?L:V==null?void 0:V.height,width:I||"100%"}},i.default.createElement("div",{className:(0,c.default)("dsg-selection-row-marker",z&&"dsg-selection-row-marker-disabled"),style:{left:p[0]}})),V&&x&&i.default.createElement("div",{className:(0,c.default)("dsg-active-cell",{"dsg-active-cell-focus":k,"dsg-active-cell-disabled":K}),style:V}),W&&V&&i.default.createElement("div",{className:(0,c.default)("dsg-selection-rect",z&&"dsg-selection-rect-disabled"),style:Object.assign(Object.assign({},W),{clipPath:d(V.top-W.top,V.left-W.left,V.top+V.height-W.top,V.left+V.width-W.left)})}),se&&i.default.createElement("div",{className:(0,c.default)("dsg-expand-rows-rect"),style:se}),te&&i.default.createElement("div",{className:(0,c.default)("dsg-expand-rows-indicator",z&&"dsg-expand-rows-indicator-disabled"),style:te}))}),e.SelectionRect.displayName="SelectionRect"})(Rd)),Rd}var cv={},yie;function Fxt(){if(yie)return cv;yie=1,Object.defineProperty(cv,"__esModule",{value:!0}),cv.useRowHeights=void 0;const e=is(),t=({value:n,rowHeight:o})=>{const s=(0,e.useRef)([]),[,i]=(0,e.useState)(0);return(0,e.useMemo)(()=>{const c=u=>{if(typeof o=="number")return Math.min(n.length-1,Math.max(-1,Math.floor(u/o)));let d=0,p=s.current.length-1;for(;d<=p;){const m=Math.floor((d+p)/2);if(s.current[m].top<u)d=m+1;else if(s.current[m].top>u)p=m-1;else return m}if(p===s.current.length-1&&n.length>s.current.length&&(!s.current.length||u>=s.current[p].top+s.current[p].height)){let m=p===-1?0:s.current[p].top+s.current[p].height;do{p++;const f=o({rowIndex:p,rowData:n[p]});s.current.push({height:f,top:m}),m+=f}while(m<=u&&p<s.current.length-1)}return p};return{resetAfter:u=>{s.current=s.current.slice(0,u),i(d=>d+1)},getRowSize:u=>{if(typeof o=="number")return{height:o,top:o*u};if(u>=n.length)return{height:0,top:0};if(u<s.current.length)return s.current[u];let d=s.current[s.current.length-1].top+s.current[s.current.length-1].height;for(let p=s.current.length;p<=u;p++){const m=o({rowIndex:p,rowData:n[p]});s.current.push({height:m,top:d}),d+=m}return s.current[u]},getRowIndex:c,totalSize:u=>{if(typeof o=="number")return n.length*o;const d=c(u);return s.current[d].top+s.current[d].height}}},[o,n])};return cv.useRowHeights=t,cv}var Cie;function Jbe(){return Cie||(Cie=1,(function(e){var t=Rc&&Rc.__createBinding||(Object.create?(function(z,J,Q,V){V===void 0&&(V=Q);var W=Object.getOwnPropertyDescriptor(J,Q);(!W||("get"in W?!J.__esModule:W.writable||W.configurable))&&(W={enumerable:!0,get:function(){return J[Q]}}),Object.defineProperty(z,V,W)}):(function(z,J,Q,V){V===void 0&&(V=Q),z[V]=J[Q]})),n=Rc&&Rc.__setModuleDefault||(Object.create?(function(z,J){Object.defineProperty(z,"default",{enumerable:!0,value:J})}):function(z,J){z.default=J}),o=Rc&&Rc.__importStar||function(z){if(z&&z.__esModule)return z;var J={};if(z!=null)for(var Q in z)Q!=="default"&&Object.prototype.hasOwnProperty.call(z,Q)&&t(J,z,Q);return n(J,z),J},s=Rc&&Rc.__awaiter||function(z,J,Q,V){function W(U){return U instanceof Q?U:new Q(function(X){X(U)})}return new(Q||(Q=Promise))(function(U,X){function te(pe){try{he(V.next(pe))}catch(ue){X(ue)}}function se(pe){try{he(V.throw(pe))}catch(ue){X(ue)}}function he(pe){pe.done?U(pe.value):W(pe.value).then(te,se)}he((V=V.apply(z,J||[])).next())})},i=Rc&&Rc.__importDefault||function(z){return z&&z.__esModule?z:{default:z}};Object.defineProperty(e,"__esModule",{value:!0}),e.DataSheetGrid=void 0;const c=o(is()),u=dbt(),d=yxt,p=Cxt(),m=Dxt(),f=Gbe(),h=Kbe(),g=Sxt(),x=Qbe(),y=vxt(),D=i(H3()),v=Ybe(),T=Ixt(),I=Txt(),P=Oxt(),E=Axt(),k=Nxt(),w=Fxt(),A=[],F=[],_=()=>({}),L=()=>null,K=({rowData:z})=>Object.assign({},z);e.DataSheetGrid=c.default.memo(c.default.forwardRef(({value:z=A,className:J,style:Q,height:V=400,onChange:W=L,columns:U=F,rowHeight:X=40,headerRowHeight:te=typeof X=="number"?X:40,gutterColumn:se,stickyRightColumn:he,rowKey:pe,addRowsComponent:ue=x.AddRows,createRow:ge=_,autoAddRow:Ce=!1,lockRows:Te=!1,disableExpandSelection:Ne=!1,disableSmartDelete:xe=!1,duplicateRow:me=K,contextMenuComponent:de=v.ContextMenu,disableContextMenu:ce=!1,onFocus:ee=L,onBlur:De=L,onActiveCellChange:ke=L,onSelectionChange:He=L,rowClassName:qe,cellClassName:Le,onScroll:_e},H)=>{var re,q,Y,ie,B,Z;const ye=(0,c.useRef)(null),Ie=ce||Te,le=(0,p.useColumns)(U,se,he),fe=!!he,Ae=(0,c.useRef)(null),Se=(0,c.useRef)(null),be=(0,c.useRef)(null),Me=(0,c.useRef)(null),[we,Ge]=(0,y.useDebounceState)(1,100),{getRowSize:We,totalSize:Ee,getRowIndex:Xe}=(0,w.useRowHeights)({value:z,rowHeight:X}),ot=Math.min(V,te+Ee(V)+we),{width:ze,height:tt}=(0,d.useResizeDetector)({targetRef:Se,refreshMode:"throttle",refreshRate:100});Ge(tt?ot-tt:0);const ft=(0,m.useEdges)(Se,ze,tt),{fullWidth:ht,totalWidth:en,columnWidths:un,columnRights:Je}=(0,u.useColumnWidths)(le,ze),[qt,Tt]=(0,c.useState)(null),[Jt,st]=(0,c.useState)([]),[Dt,Gt]=(0,c.useState)(!1),[An,_n]=(0,c.useState)(0),[pt,Rt]=(0,c.useState)(null),[Ze,dn]=(0,f.useDeepEqualState)(null),[Yt,lt]=(0,f.useDeepEqualState)(null),Qe=(0,c.useMemo)(()=>Ze&&Yt&&{min:{col:Math.min(Ze.col,Yt.col),row:Math.min(Ze.row,Yt.row)},max:{col:Math.max(Ze.col,Yt.col),row:Math.max(Ze.row,Yt.row)}},[Ze,Yt]),[rn,Cn]=(0,f.useDeepEqualState)({columns:!1,rows:!1,active:!1}),gr=Ne||Dt||rn.active||(Ze==null?void 0:Ze.row)===(z==null?void 0:z.length)-1||(Qe==null?void 0:Qe.max.row)===(z==null?void 0:z.length)-1||Ze&&le.slice(((re=Qe==null?void 0:Qe.min.col)!==null&&re!==void 0?re:Ze.col)+1,((q=Qe==null?void 0:Qe.max.col)!==null&&q!==void 0?q:Ze.col)+2).every(xt=>xt.disabled===!0)?null:An,sn=(0,g.useGetBoundingClientRect)(Ae),Sr=(0,g.useGetBoundingClientRect)(Se);(0,c.useEffect)(()=>{var xt;Ze!==null&&(document.activeElement.blur(),(xt=window.getSelection())===null||xt===void 0||xt.removeAllRanges())},[Ze!==null]);const ts=(0,c.useCallback)((xt,Fn=!1,Wn=!1)=>{const vn=sn(Fn),kr=Wn&&Sr(Fn);if(vn&&Je&&un){let Zt=xt.clientX-vn.left,on=xt.clientY-vn.top;return kr&&(xt.clientY-kr.top<=te&&(on=0),xt.clientX-kr.left<=un[0]&&(Zt=0),fe&&kr.right-xt.clientX<=un[un.length-1]&&(Zt=Je[Je.length-2]+1)),{col:Je.findIndex(an=>Zt<an)-1,row:Xe(on-te)}}return null},[Je,un,z.length,sn,Sr,te,fe,Xe]),ds=(0,c.useRef)(z);ds.current=z;const ra=(0,c.useCallback)(xt=>{const Fn=le[xt.col+1].disabled;return!!(typeof Fn=="function"?Fn({rowData:ds.current[xt.row],rowIndex:xt.row}):Fn)},[le]),ro=(0,c.useCallback)((xt,Fn=1)=>{Te||(lt(null),Gt(!1),W([...ds.current.slice(0,xt+1),...new Array(Fn).fill(0).map(ge),...ds.current.slice(xt+1)],[{type:"CREATE",fromRowIndex:xt+1,toRowIndex:xt+1+Fn}]),dn(Wn=>({col:(Wn==null?void 0:Wn.col)||0,row:xt+Fn,doNotScrollX:!0})))},[ge,Te,W,dn,lt]),hc=(0,c.useCallback)((xt,Fn=xt)=>{Te||(W([...ds.current.slice(0,Fn+1),...ds.current.slice(xt,Fn+1).map((Wn,vn)=>me({rowData:Wn,rowIndex:vn+xt})),...ds.current.slice(Fn+1)],[{type:"CREATE",fromRowIndex:Fn+1,toRowIndex:Fn+2+Fn-xt}]),dn({col:0,row:Fn+1,doNotScrollX:!0}),lt({col:le.length-(fe?3:2),row:2*Fn-xt+1,doNotScrollX:!0}),Gt(!1))},[le.length,me,Te,W,dn,lt,fe]),ci=(0,c.useCallback)(xt=>{if(!(!tt||!ze)){if(!xt.doNotScrollY){const Fn=We(xt.row).top,Wn=We(xt.row).top+We(xt.row).height+te-tt+1,vn=Se.current.scrollTop;vn>Fn?Se.current.scrollTop=Fn:vn<Wn&&(Se.current.scrollTop=Wn)}if(Je&&un&&Se.current&&!xt.doNotScrollX){const Fn=Je[xt.col]-Je[0],Wn=Je[xt.col]+un[xt.col+1]+(fe?un[un.length-1]:0)-ze+1,vn=Se.current.scrollLeft;vn>Fn?Se.current.scrollLeft=Fn:vn<Wn&&(Se.current.scrollLeft=Wn)}}},[tt,ze,te,Je,un,We,fe]);(0,c.useEffect)(()=>{Yt&&ci(Yt)},[Yt,ci]),(0,c.useEffect)(()=>{Ze&&ci(Ze)},[Ze,ci]);const Pf=(0,c.useCallback)((xt,Fn)=>{var Wn,vn;W([...(Wn=ds.current)===null||Wn===void 0?void 0:Wn.slice(0,xt),Fn,...(vn=ds.current)===null||vn===void 0?void 0:vn.slice(xt+1)],[{type:"UPDATE",fromRowIndex:xt,toRowIndex:xt+1}])},[W]),wi=(0,c.useCallback)((xt,Fn=xt)=>{Te||(Gt(!1),dn(Wn=>{const vn=Math.min(ds.current.length-2-Fn+xt,xt);return vn<0?null:Wn&&{col:Wn.col,row:vn}}),lt(null),W([...ds.current.slice(0,xt),...ds.current.slice(Fn+1)],[{type:"DELETE",fromRowIndex:xt,toRowIndex:Fn+1}]))},[Te,W,dn,lt]),Du=(0,c.useCallback)((xt=!0)=>{const Fn=xt&&!xe;if(!Ze)return;const Wn=(Qe==null?void 0:Qe.min)||Ze,vn=(Qe==null?void 0:Qe.max)||Ze;if(z.slice(Wn.row,vn.row+1).every((Zt,on)=>le.every(an=>an.isCellEmpty({rowData:Zt,rowIndex:on+Wn.row})))){Fn&&wi(Wn.row,vn.row);return}const kr=[...z];for(let Zt=Wn.row;Zt<=vn.row;++Zt)for(let on=Wn.col;on<=vn.col;++on)if(!ra({col:on,row:Zt})){const{deleteValue:an=({rowData:vr})=>vr}=le[on+1];kr[Zt]=an({rowData:kr[Zt],rowIndex:Zt})}if(Fn&&(0,D.default)(kr,z)){dn({col:0,row:Wn.row,doNotScrollX:!0}),lt({col:le.length-(fe?3:2),row:vn.row,doNotScrollX:!0});return}W(kr,[{type:"UPDATE",fromRowIndex:Wn.row,toRowIndex:vn.row+1}])},[Ze,le,z,wi,ra,W,Qe==null?void 0:Qe.max,Qe==null?void 0:Qe.min,dn,lt,fe]),wl=(0,c.useCallback)(({nextRow:xt=!0}={})=>{(Ze==null?void 0:Ze.row)===ds.current.length-1?xt&&Ce?ro(Ze.row):Gt(!1):(Gt(!1),xt&&dn(Fn=>Fn&&{col:Fn.col,row:Fn.row+1}))},[Ze==null?void 0:Ze.row,Ce,ro,dn]),ul=(0,c.useCallback)(xt=>s(void 0,void 0,void 0,function*(){var Fn,Wn;if(!Dt&&Ze){const vn=[],kr=(Qe==null?void 0:Qe.min)||Ze,Zt=(Qe==null?void 0:Qe.max)||Ze;for(let mr=kr.row;mr<=Zt.row;++mr){vn.push([]);for(let Jr=kr.col;Jr<=Zt.col;++Jr){const{copyValue:Ro=()=>null}=le[Jr+1];vn[mr-kr.row].push(Ro({rowData:z[mr],rowIndex:mr}))}}const on=vn.map(mr=>mr.join("	")).join(`
`),an=`<table>${vn.map(mr=>`<tr>${mr.map(Jr=>`<td>${(0,T.encodeHtml)(String(Jr??"")).replace(/\n/g,"<br/>")}</td>`).join("")}</tr>`).join("")}</table>`;if(xt!==void 0){(Fn=xt.clipboardData)===null||Fn===void 0||Fn.setData("text/plain",on),(Wn=xt.clipboardData)===null||Wn===void 0||Wn.setData("text/html",an),xt.preventDefault();return}let vr=!1;if(navigator.clipboard.write!==void 0){const mr=new Blob([on],{type:"text/plain"}),Jr=new Blob([an],{type:"text/html"}),Ro=[new ClipboardItem({"text/plain":mr,"text/html":Jr})];yield navigator.clipboard.write(Ro).then(()=>{vr=!0})}else navigator.clipboard.writeText!==void 0?yield navigator.clipboard.writeText(on).then(()=>{vr=!0}):document.execCommand!==void 0&&document.execCommand("copy")&&(vr=!0);vr||alert("This action is unavailable in your browser, but you can still use Ctrl+C for copy or Ctrl+X for cut")}}),[Ze,le,z,Dt,Qe]);(0,h.useDocumentEventListener)("copy",ul);const ui=(0,c.useCallback)(xt=>{!Dt&&Ze&&(ul(xt),Du(!1))},[Ze,Du,Dt,ul]);(0,h.useDocumentEventListener)("cut",ui);const Su=(0,c.useCallback)(xt=>s(void 0,void 0,void 0,function*(){var Fn,Wn;if(!Dt&&Ze){const vn=(Qe==null?void 0:Qe.min)||Ze,kr=(Qe==null?void 0:Qe.max)||Ze,Zt=yield Promise.all(xt[0].map((on,an)=>{var vr,mr;const Jr=(vr=le[vn.col+an+1])===null||vr===void 0?void 0:vr.prePasteValues,Ro=xt.map(Ka=>Ka[an]);return(mr=Jr==null?void 0:Jr(Ro))!==null&&mr!==void 0?mr:Ro}));if(xt=xt.map((on,an)=>Zt.map(vr=>vr[an])),xt.length===1){const on=[...z];for(let an=0;an<xt[0].length;an++){const vr=(Fn=le[vn.col+an+1])===null||Fn===void 0?void 0:Fn.pasteValue;if(vr)for(let mr=vn.row;mr<=kr.row;mr++)ra({col:an+vn.col,row:mr})||(on[mr]=yield vr({rowData:on[mr],value:xt[0][an],rowIndex:mr}))}W(on,[{type:"UPDATE",fromRowIndex:vn.row,toRowIndex:kr.row+1}]),dn({col:vn.col,row:vn.row}),lt({col:Math.min(vn.col+xt[0].length-1,le.length-(fe?3:2)),row:kr.row})}else{let on=[...z];const an=vn.row+xt.length-z.length;an>0&&(Te?xt.splice(xt.length-an,an):on=[...on,...new Array(an).fill(0).map(()=>ge())]);for(let mr=0;mr<xt[0].length&&vn.col+mr<le.length-(fe?2:1);mr++){const Jr=(Wn=le[vn.col+mr+1])===null||Wn===void 0?void 0:Wn.pasteValue;if(Jr)for(let Ro=0;Ro<xt.length;Ro++)ra({col:vn.col+mr,row:vn.row+Ro})||(on[vn.row+Ro]=yield Jr({rowData:on[vn.row+Ro],value:xt[Ro][mr],rowIndex:vn.row+Ro}))}const vr=[{type:"UPDATE",fromRowIndex:vn.row,toRowIndex:vn.row+xt.length-(!Te&&an>0?an:0)}];an>0&&!Te&&vr.push({type:"CREATE",fromRowIndex:vn.row+xt.length-an,toRowIndex:vn.row+xt.length}),W(on,vr),dn({col:vn.col,row:vn.row}),lt({col:Math.min(vn.col+xt[0].length-1,le.length-(fe?3:2)),row:vn.row+xt.length-1})}}}),[Ze,le,ge,z,Dt,fe,ra,Te,W,Qe==null?void 0:Qe.max,Qe==null?void 0:Qe.min,dn,lt]),di=(0,c.useCallback)(xt=>{var Fn,Wn,vn,kr,Zt,on;if(Ze&&!Dt){let an=[[""]];!((Fn=xt.clipboardData)===null||Fn===void 0)&&Fn.types.includes("text/html")?an=(0,T.parseTextHtmlData)((Wn=xt.clipboardData)===null||Wn===void 0?void 0:Wn.getData("text/html")):!((vn=xt.clipboardData)===null||vn===void 0)&&vn.types.includes("text/plain")?an=(0,T.parseTextPlainData)((kr=xt.clipboardData)===null||kr===void 0?void 0:kr.getData("text/plain")):!((Zt=xt.clipboardData)===null||Zt===void 0)&&Zt.types.includes("text")&&(an=(0,T.parseTextPlainData)((on=xt.clipboardData)===null||on===void 0?void 0:on.getData("text"))),Su(an),xt.preventDefault()}},[Ze,Su,Dt]);(0,h.useDocumentEventListener)("paste",di);const Rf=(0,c.useCallback)(xt=>{var Fn,Wn,vn;if(qt&&Jt.length)return;const kr=xt.button===2||xt.button===0&&xt.ctrlKey,Zt=((Fn=Ae.current)===null||Fn===void 0?void 0:Fn.contains(xt.target))||!1,on=Zt?ts(xt,!0,!0):null;if(!Zt&&Dt&&Ze&&le[Ze.col+1].keepFocus)return;if(xt.target instanceof HTMLElement&&xt.target.className.includes("dsg-expand-rows-indicator")){Rt(Math.max((Wn=Ze==null?void 0:Ze.row)!==null&&Wn!==void 0?Wn:0,(vn=Qe==null?void 0:Qe.max.row)!==null&&vn!==void 0?vn:0));return}const an=on&&Ze&&Ze.col===on.col&&Ze.row===on.row&&!ra(Ze);if(an&&Dt)return;const vr=(on==null?void 0:on.col)===le.length-2&&fe,mr=kr&&Qe&&on&&on.row>=Qe.min.row&&on.row<=Qe.max.row&&on.col>=Qe.min.col&&on.col<=Qe.max.col,Jr=kr&&Qe&&on&&on.row===-1&&on.col>=Qe.min.col&&on.col<=Qe.max.col,Ro=kr&&Qe&&on&&on.row>=Qe.min.row&&on.row<=Qe.max.row&&on.col===-1,Ka=vr&&Qe&&on&&on.row>=Qe.min.row&&on.row<=Qe.max.row;if(kr&&!Ie&&Tt({x:xt.clientX,y:xt.clientY,cursorIndex:on}),(!(xt.shiftKey&&Ze)||kr)&&z.length>0&&dn(on&&{col:(mr||Jr)&&Ze?Ze.col:Math.max(0,vr?0:on.col),row:(mr||Ro||Ka)&&Ze?Ze.row:Math.max(0,on.row),doNotScrollX:!!(mr&&Ze||vr||on.col===-1),doNotScrollY:!!(mr&&Ze||on.row===-1)}),an&&!kr&&(ye.current=Ze),Gt(!!(an&&!kr)),Cn(on&&!kr?{columns:on.col!==-1&&!vr||!!(xt.shiftKey&&Ze),rows:on.row!==-1||!!(xt.shiftKey&&Ze),active:!0}:{columns:!1,rows:!1,active:!1}),xt.shiftKey&&Ze&&!kr)lt(on&&{col:Math.max(0,on.col-(vr?1:0)),row:Math.max(0,on.row)});else if(!mr){if(on&&((on==null?void 0:on.col)===-1||(on==null?void 0:on.row)===-1||vr)){let Fa=on.col,Ma=on.row,oa=!1,zs=!1;(on.col===-1||vr)&&(Fa=le.length-(fe?3:2),oa=!0),on.row===-1&&(Ma=z.length-1,zs=!0),Jr&&Yt&&(Fa=Yt.col,zs=!0),(Ro||Ka)&&Yt&&(Ma=Yt.row,oa=!0),lt({col:Fa,row:Ma,doNotScrollX:oa,doNotScrollY:zs})}else lt(null);Zt&&xt.preventDefault()}},[qt,Jt.length,ts,Dt,Ze,le,ra,Qe,fe,Ie,Cn,dn,lt,Yt,z.length]);(0,h.useDocumentEventListener)("mousedown",Rf);const wf=(0,c.useCallback)(()=>{var xt,Fn,Wn,vn,kr,Zt,on,an,vr;if(pt!==null){if(An>0&&Ze){let mr=[];const Jr=(Qe==null?void 0:Qe.min)||Ze,Ro=(Qe==null?void 0:Qe.max)||Ze;for(let Ka=Jr.row;Ka<=Ro.row;++Ka){mr.push([]);for(let Fa=Jr.col;Fa<=Ro.col;++Fa){const{copyValue:Ma=()=>null}=le[Fa+1];mr[Ka-Jr.row].push(String((xt=Ma({rowData:z[Ka],rowIndex:Ka}))!==null&&xt!==void 0?xt:""))}}Promise.all(mr[0].map((Ka,Fa)=>{var Ma,oa;const zs=(Ma=le[Jr.col+Fa+1])===null||Ma===void 0?void 0:Ma.prePasteValues,Hs=mr.map(vu=>vu[Fa]);return(oa=zs==null?void 0:zs(Hs))!==null&&oa!==void 0?oa:Hs})).then(Ka=>{var Fa;mr=mr.map((oa,zs)=>Ka.map(Hs=>Hs[zs]));const Ma=[...z];for(let oa=0;oa<mr[0].length;oa++){const zs=(Fa=le[Jr.col+oa+1])===null||Fa===void 0?void 0:Fa.pasteValue;if(zs)for(let Hs=Ro.row+1;Hs<=Ro.row+An;Hs++)ra({col:oa+Jr.col,row:Hs})||(Ma[Hs]=zs({rowData:Ma[Hs],value:mr[(Hs-Ro.row-1)%mr.length][oa],rowIndex:Hs}))}W(Ma,[{type:"UPDATE",fromRowIndex:Ro.row+1,toRowIndex:Ro.row+1+An}])}),_n(0),dn({col:Math.min((Fn=Ze==null?void 0:Ze.col)!==null&&Fn!==void 0?Fn:1/0,(Wn=Qe==null?void 0:Qe.min.col)!==null&&Wn!==void 0?Wn:1/0),row:Math.min((vn=Ze==null?void 0:Ze.row)!==null&&vn!==void 0?vn:1/0,(kr=Qe==null?void 0:Qe.min.row)!==null&&kr!==void 0?kr:1/0),doNotScrollX:!0,doNotScrollY:!0}),lt({col:Math.max((Zt=Ze==null?void 0:Ze.col)!==null&&Zt!==void 0?Zt:0,(on=Qe==null?void 0:Qe.max.col)!==null&&on!==void 0?on:0),row:Math.max((an=Ze==null?void 0:Ze.row)!==null&&an!==void 0?an:0,(vr=Qe==null?void 0:Qe.max.row)!==null&&vr!==void 0?vr:0)+An})}Rt(null)}Cn({columns:!1,rows:!1,active:!1})},[pt,Cn,An,Ze,Qe==null?void 0:Qe.min,Qe==null?void 0:Qe.max,z,W,dn,lt,le,ra]);(0,h.useDocumentEventListener)("mouseup",wf);const dm=(0,c.useCallback)(xt=>{if(pt!==null){const Fn=ts(xt);Fn&&(_n(Math.max(0,Fn.row-pt)),ci({col:Fn.col,row:Math.max(Fn.row,pt)}))}if(rn.active){const Fn=ts(xt),Wn=le.length-(fe?3:2);lt(Fn&&{col:rn.columns?Math.max(0,Math.min(Wn,Fn.col)):Wn,row:rn.rows?Math.max(0,Fn.row):z.length-1,doNotScrollX:!rn.columns,doNotScrollY:!rn.rows}),Gt(!1)}},[ci,rn.active,rn.columns,rn.rows,ts,le.length,fe,lt,z.length,pt]);(0,h.useDocumentEventListener)("mousemove",dm);const gc=(0,c.useCallback)(xt=>{var Fn;if(Ze&&!xt.isComposing){if(xt.key==="Tab"&&!xt.shiftKey&&Ze.col===le.length-(fe?3:2)&&!le[Ze.col+1].disableKeys)if(Ze.row===z.length-1){if(Me.current){xt.preventDefault(),dn(null),lt(null),Gt(!1);const Wn=(0,P.getAllTabbableElements)(),vn=Wn.indexOf(Me.current);Wn[(vn+1)%Wn.length].focus();return}}else{dn(Wn=>{var vn;return{col:0,row:((vn=Wn==null?void 0:Wn.row)!==null&&vn!==void 0?vn:0)+1}}),lt(null),Gt(!1),xt.preventDefault();return}if(xt.key==="Tab"&&xt.shiftKey&&Ze.col===0&&!le[Ze.col+1].disableKeys)if(Ze.row===0){if(be.current){xt.preventDefault(),dn(null),lt(null),Gt(!1);const Wn=(0,P.getAllTabbableElements)(),vn=Wn.indexOf(be.current);Wn[(vn-1+Wn.length)%Wn.length].focus();return}}else{dn(Wn=>{var vn;return{col:le.length-(fe?3:2),row:((vn=Wn==null?void 0:Wn.row)!==null&&vn!==void 0?vn:1)-1}}),lt(null),Gt(!1),xt.preventDefault();return}if(!((Fn=xt.key)===null||Fn===void 0)&&Fn.startsWith("Arrow")||xt.key==="Tab"){if(Dt&&le[Ze.col+1].disableKeys||Dt&&["ArrowLeft","ArrowRight"].includes(xt.key))return;const Wn=([vn,kr],Zt)=>Zt&&{col:Math.max(0,Math.min(le.length-(fe?3:2),Zt.col+vn)),row:Math.max(0,Math.min(z.length-1,Zt.row+kr))};if(xt.key==="Tab"&&xt.shiftKey)dn(vn=>Wn([-1,0],vn)),lt(null);else{const vn={ArrowDown:[0,1],ArrowUp:[0,-1],ArrowLeft:[-1,0],ArrowRight:[1,0],Tab:[1,0]}[xt.key];(xt.ctrlKey||xt.metaKey)&&(vn[0]*=le.length,vn[1]*=z.length),xt.shiftKey?lt(kr=>Wn(vn,kr||Ze)):(dn(kr=>Wn(vn,kr)),lt(null))}Gt(!1),xt.preventDefault()}else xt.key==="Escape"?(!Dt&&!Yt&&dn(null),lt(null),Gt(!1)):(xt.key==="Enter"||xt.key==="F2")&&!xt.ctrlKey&&!xt.metaKey&&!xt.altKey&&!xt.shiftKey?(lt(null),Dt?le[Ze.col+1].disableKeys||(wl(),xt.preventDefault()):ra(Ze)||(ye.current=Ze,Gt(!0),ci(Ze),xt.preventDefault())):xt.key==="Enter"&&!xt.ctrlKey&&!xt.metaKey&&!xt.altKey&&xt.shiftKey?ro((Qe==null?void 0:Qe.max.row)||Ze.row):xt.key==="d"&&(xt.ctrlKey||xt.metaKey)&&!xt.altKey&&!xt.shiftKey?(hc((Qe==null?void 0:Qe.min.row)||Ze.row,Qe==null?void 0:Qe.max.row),xt.preventDefault()):((0,T.isPrintableUnicode)(xt.key)||xt.code.match(/Key[A-Z]$/))&&!xt.ctrlKey&&!xt.metaKey&&!xt.altKey?!Dt&&!ra(Ze)&&(ye.current=Ze,lt(null),Gt(!0),ci(Ze)):["Backspace","Delete"].includes(xt.key)?Dt||(Du(),xt.preventDefault()):xt.key==="a"&&(xt.ctrlKey||xt.metaKey)&&(Dt||(dn({col:0,row:0,doNotScrollY:!0,doNotScrollX:!0}),lt({col:le.length-(fe?3:2),row:z.length-1,doNotScrollY:!0,doNotScrollX:!0}),xt.preventDefault()))}},[Ze,le,z.length,Du,hc,Dt,ro,ra,ci,Qe==null?void 0:Qe.max.row,Qe==null?void 0:Qe.min.row,Yt,dn,lt,wl,fe]);(0,h.useDocumentEventListener)("keydown",gc);const dd=(0,c.useCallback)(xt=>{var Fn;const Wn=((Fn=Ae.current)===null||Fn===void 0?void 0:Fn.contains(xt.target))||!1,vn=Wn?ts(xt,!0,!0):null,kr=vn&&Ze&&Ze.col===vn.col&&Ze.row===vn.row&&Dt;Wn&&!kr&&xt.preventDefault()},[ts,Ze,Dt]);(0,h.useDocumentEventListener)("contextmenu",dd),(0,c.useEffect)(()=>{const xt=[];(Ze==null?void 0:Ze.row)!==void 0&&xt.push({type:"COPY",action:()=>{ul(),Tt(null)}},{type:"CUT",action:()=>{ui(),Tt(null)}},{type:"PASTE",action:()=>s(void 0,void 0,void 0,function*(){if(navigator.clipboard.read!==void 0)(yield navigator.clipboard.read()).forEach(Wn=>s(void 0,void 0,void 0,function*(){let vn=[[""]];if(Wn.types.includes("text/html")){const kr=yield Wn.getType("text/html");vn=(0,T.parseTextHtmlData)(yield kr.text())}else if(Wn.types.includes("text/plain")){const kr=yield Wn.getType("text/plain");vn=(0,T.parseTextPlainData)(yield kr.text())}else if(Wn.types.includes("text")){const kr=yield Wn.getType("text");vn=(0,T.parseTextHtmlData)(yield kr.text())}Su(vn)}));else if(navigator.clipboard.readText!==void 0){const Fn=yield navigator.clipboard.readText();Su((0,T.parseTextPlainData)(Fn))}else alert("This action is unavailable in your browser, but you can still use Ctrl+V for paste");Tt(null)})}),(Qe==null?void 0:Qe.max.row)!==void 0?xt.push({type:"INSERT_ROW_BELLOW",action:()=>{Tt(null),ro(Qe.max.row)}}):(Ze==null?void 0:Ze.row)!==void 0&&xt.push({type:"INSERT_ROW_BELLOW",action:()=>{Tt(null),ro(Ze.row)}}),(Qe==null?void 0:Qe.min.row)!==void 0&&Qe.min.row!==Qe.max.row?xt.push({type:"DUPLICATE_ROWS",fromRow:Qe.min.row+1,toRow:Qe.max.row+1,action:()=>{Tt(null),hc(Qe.min.row,Qe.max.row)}}):(Ze==null?void 0:Ze.row)!==void 0&&xt.push({type:"DUPLICATE_ROW",action:()=>{Tt(null),hc(Ze.row)}}),(Qe==null?void 0:Qe.min.row)!==void 0&&Qe.min.row!==Qe.max.row?xt.push({type:"DELETE_ROWS",fromRow:Qe.min.row+1,toRow:Qe.max.row+1,action:()=>{Tt(null),wi(Qe.min.row,Qe.max.row)}}):(Ze==null?void 0:Ze.row)!==void 0&&xt.push({type:"DELETE_ROW",action:()=>{Tt(null),wi(Ze.row)}}),st(xt),xt.length||Tt(null)},[Qe,Ze,wi,hc,ro,ui,ul,Su]);const kl=(0,c.useRef)(Jt);kl.current=Jt;const bc=(0,c.useCallback)(()=>kl.current,[]);(0,c.useImperativeHandle)(H,()=>({activeCell:(0,I.getCellWithId)(Ze,le),selection:(0,I.getSelectionWithId)(Qe??(Ze?{min:Ze,max:Ze}:null),le),setSelection:xt=>{const Fn=(0,I.getSelection)(xt,le.length-(fe?2:1),z.length,le);dn((Fn==null?void 0:Fn.min)||null),Gt(!1),Cn({columns:!1,active:!1,rows:!1}),lt((Fn==null?void 0:Fn.max)||null)},setActiveCell:xt=>{const Fn=(0,I.getCell)(xt,le.length-(fe?2:1),z.length,le);dn(Fn),Gt(!1),Cn({columns:!1,active:!1,rows:!1}),lt(null)}}));const Hi=(0,c.useRef)({onFocus:ee,onBlur:De,onActiveCellChange:ke,onSelectionChange:He});return Hi.current.onFocus=ee,Hi.current.onBlur=De,Hi.current.onActiveCellChange=ke,Hi.current.onSelectionChange=He,(0,c.useEffect)(()=>{ye.current&&(Dt?Hi.current.onFocus({cell:(0,I.getCellWithId)(ye.current,le)}):Hi.current.onBlur({cell:(0,I.getCellWithId)(ye.current,le)}))},[Dt,le]),(0,c.useEffect)(()=>{Hi.current.onActiveCellChange({cell:(0,I.getCellWithId)(Ze,le)})},[Ze==null?void 0:Ze.col,Ze==null?void 0:Ze.row,le]),(0,c.useEffect)(()=>{Hi.current.onSelectionChange({selection:(0,I.getSelectionWithId)(Qe??(Ze?{min:Ze,max:Ze}:null),le)})},[(Y=Qe==null?void 0:Qe.min.col)!==null&&Y!==void 0?Y:Ze==null?void 0:Ze.col,(ie=Qe==null?void 0:Qe.min.row)!==null&&ie!==void 0?ie:Ze==null?void 0:Ze.row,(B=Qe==null?void 0:Qe.max.col)!==null&&B!==void 0?B:Ze==null?void 0:Ze.col,(Z=Qe==null?void 0:Qe.max.row)!==null&&Z!==void 0?Z:Ze==null?void 0:Ze.row,Ze==null?void 0:Ze.col,Ze==null?void 0:Ze.row,le]),c.default.createElement("div",{className:J,style:Q},c.default.createElement("div",{ref:be,tabIndex:U.length&&z.length?0:void 0,onFocus:xt=>{xt.target.blur(),dn({col:0,row:0})}}),c.default.createElement(E.Grid,{columns:le,outerRef:Se,columnWidths:un,hasStickyRightColumn:fe,displayHeight:ot,data:z,fullWidth:ht,headerRowHeight:te,activeCell:Ze,innerRef:Ae,rowHeight:We,rowKey:pe,selection:Qe,rowClassName:qe,editing:Dt,getContextMenuItems:bc,setRowData:Pf,deleteRows:wi,insertRowAfter:ro,duplicateRows:hc,stopEditing:wl,cellClassName:Le,onScroll:_e},c.default.createElement(k.SelectionRect,{columnRights:Je,columnWidths:un,activeCell:Ze,selection:Qe,headerRowHeight:te,rowHeight:We,hasStickyRightColumn:fe,dataLength:z.length,viewHeight:tt,viewWidth:ze,contentWidth:ht?void 0:en,edges:ft,editing:Dt,isCellDisabled:ra,expandSelection:gr})),c.default.createElement("div",{ref:Me,tabIndex:U.length&&z.length?0:void 0,onFocus:xt=>{xt.target.blur(),dn({col:le.length-(fe?3:2),row:z.length-1})}}),!Te&&ue&&c.default.createElement(ue,{addRows:xt=>ro(z.length-1,xt)}),qt&&Jt.length>0&&c.default.createElement(de,{clientX:qt.x,clientY:qt.y,cursorIndex:qt.cursorIndex,items:Jt,close:()=>Tt(null)}))})),e.DataSheetGrid.displayName="DataSheetGrid"})(Rc)),Rc}var Vm={},Die;function Mxt(){if(Die)return Vm;Die=1;var e=Vm&&Vm.__rest||function(i,c){var u={};for(var d in i)Object.prototype.hasOwnProperty.call(i,d)&&c.indexOf(d)<0&&(u[d]=i[d]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,d=Object.getOwnPropertySymbols(i);p<d.length;p++)c.indexOf(d[p])<0&&Object.prototype.propertyIsEnumerable.call(i,d[p])&&(u[d[p]]=i[d[p]]);return u},t=Vm&&Vm.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Vm,"__esModule",{value:!0}),Vm.StaticDataSheetGrid=void 0;const n=is(),o=Jbe(),s=t(is());return Vm.StaticDataSheetGrid=s.default.forwardRef((i,c)=>{var{columns:u,gutterColumn:d,stickyRightColumn:p,addRowsComponent:m,createRow:f,duplicateRow:h,style:g,rowKey:x,onFocus:y,onBlur:D,onActiveCellChange:v,onSelectionChange:T,rowClassName:I,rowHeight:P}=i,E=e(i,["columns","gutterColumn","stickyRightColumn","addRowsComponent","createRow","duplicateRow","style","rowKey","onFocus","onBlur","onActiveCellChange","onSelectionChange","rowClassName","rowHeight"]);const[k]=(0,n.useState)({columns:u,gutterColumn:d,stickyRightColumn:p,addRowsComponent:m,createRow:f,duplicateRow:h,style:g,rowKey:x,onFocus:y,onBlur:D,onActiveCellChange:v,onSelectionChange:T,rowClassName:I,rowHeight:P});return s.default.createElement(o.DataSheetGrid,Object.assign({},k,E,{rowHeight:typeof P=="number"?P:k.rowHeight,ref:c}))}),Vm}var Cl={},uv={},Sie;function _xt(){if(Sie)return uv;Sie=1,Object.defineProperty(uv,"__esModule",{value:!0}),uv.useFirstRender=void 0;const e=is(),t=()=>{const n=(0,e.useRef)(!0),o=n.current;return n.current=!1,o};return uv.useFirstRender=t,uv}var vie;function ik(){if(vie)return Cl;vie=1;var e=Cl&&Cl.__createBinding||(Object.create?(function(p,m,f,h){h===void 0&&(h=f);var g=Object.getOwnPropertyDescriptor(m,f);(!g||("get"in g?!m.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return m[f]}}),Object.defineProperty(p,h,g)}):(function(p,m,f,h){h===void 0&&(h=f),p[h]=m[f]})),t=Cl&&Cl.__setModuleDefault||(Object.create?(function(p,m){Object.defineProperty(p,"default",{enumerable:!0,value:m})}):function(p,m){p.default=m}),n=Cl&&Cl.__importStar||function(p){if(p&&p.__esModule)return p;var m={};if(p!=null)for(var f in p)f!=="default"&&Object.prototype.hasOwnProperty.call(p,f)&&e(m,p,f);return t(m,p),m},o=Cl&&Cl.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(Cl,"__esModule",{value:!0}),Cl.createTextColumn=Cl.textColumn=void 0;const s=n(is()),i=o(Gb()),c=_xt(),u=s.default.memo(({active:p,focus:m,rowData:f,setRowData:h,columnData:{placeholder:g,alignRight:x,formatInputOnFocus:y,formatBlurredInput:D,parseUserInput:v,continuousUpdates:T}})=>{const I=(0,s.useRef)(null),P=(0,c.useFirstRender)(),E=(0,s.useRef)({rowData:f,formatInputOnFocus:y,formatBlurredInput:D,setRowData:h,parseUserInput:v,continuousUpdates:T,firstRender:P,focusedAt:0,changedAt:0,escPressed:!1});return E.current={rowData:f,formatInputOnFocus:y,formatBlurredInput:D,setRowData:h,parseUserInput:v,continuousUpdates:T,firstRender:P,focusedAt:E.current.focusedAt,changedAt:E.current.changedAt,escPressed:E.current.escPressed},(0,s.useLayoutEffect)(()=>{m?(I.current&&(I.current.value=E.current.formatInputOnFocus(E.current.rowData),I.current.focus(),I.current.select()),E.current.escPressed=!1,E.current.focusedAt=Date.now()):I.current&&(!E.current.escPressed&&!E.current.continuousUpdates&&!E.current.firstRender&&E.current.changedAt>=E.current.focusedAt&&E.current.setRowData(E.current.parseUserInput(I.current.value)),I.current.blur())},[m]),(0,s.useEffect)(()=>{!m&&I.current&&(I.current.value=E.current.formatBlurredInput(f))},[m,f]),s.default.createElement("input",{defaultValue:D(f),className:(0,i.default)("dsg-input",x&&"dsg-input-align-right"),placeholder:p?g:void 0,tabIndex:-1,ref:I,style:{pointerEvents:m?"auto":"none"},onChange:k=>{E.current.changedAt=Date.now(),T&&h(v(k.target.value))},onKeyDown:k=>{k.key==="Escape"&&(E.current.escPressed=!0)}})});u.displayName="TextComponent",Cl.textColumn=d();function d({placeholder:p,alignRight:m=!1,continuousUpdates:f=!0,deletedValue:h=null,parseUserInput:g=T=>T.trim()||null,formatBlurredInput:x=T=>String(T??""),formatInputOnFocus:y=T=>String(T??""),formatForCopy:D=T=>String(T??""),parsePastedValue:v=T=>T.replace(/[\n\r]+/g," ").trim()||null}={}){return{component:u,columnData:{placeholder:p,alignRight:m,continuousUpdates:f,formatInputOnFocus:y,formatBlurredInput:x,parseUserInput:g},deleteValue:()=>h,copyValue:({rowData:T})=>D(T),pasteValue:({value:T})=>v(T),isCellEmpty:({rowData:T})=>T==null}}return Cl.createTextColumn=d,Cl}var wd={},jie;function Lxt(){if(jie)return wd;jie=1;var e=wd&&wd.__createBinding||(Object.create?(function(c,u,d,p){p===void 0&&(p=d);var m=Object.getOwnPropertyDescriptor(u,d);(!m||("get"in m?!u.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return u[d]}}),Object.defineProperty(c,p,m)}):(function(c,u,d,p){p===void 0&&(p=d),c[p]=u[d]})),t=wd&&wd.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),n=wd&&wd.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var d in c)d!=="default"&&Object.prototype.hasOwnProperty.call(c,d)&&e(u,c,d);return t(u,c),u};Object.defineProperty(wd,"__esModule",{value:!0}),wd.checkboxColumn=void 0;const o=n(is()),s=["","false","no","off","disabled","0","n","f","unchecked","undefined","null","wrong","negative"],i=o.default.memo(({focus:c,rowData:u,setRowData:d,active:p,stopEditing:m,disabled:f})=>{const h=(0,o.useRef)(null);return(0,o.useLayoutEffect)(()=>{c&&(d(!u),m({nextRow:!1}))},[c,m]),o.default.createElement("input",{className:"dsg-checkbox",tabIndex:-1,type:"checkbox",ref:h,disabled:f,checked:!!u,onMouseDown:()=>!p&&d(!u),onChange:()=>null})});return i.displayName="CheckboxComponent",wd.checkboxColumn={component:i,deleteValue:()=>!1,copyValue:({rowData:c})=>c?"YES":"NO",pasteValue:({value:c})=>!s.includes(c.toLowerCase()),isCellEmpty:({rowData:c})=>!c},wd}var dv={},Iie;function $xt(){if(Iie)return dv;Iie=1,Object.defineProperty(dv,"__esModule",{value:!0}),dv.floatColumn=void 0;const e=ik();return dv.floatColumn=(0,e.createTextColumn)({alignRight:!0,formatBlurredInput:t=>typeof t=="number"?new Intl.NumberFormat().format(t):"",parseUserInput:t=>{const n=parseFloat(t);return isNaN(n)?null:n},parsePastedValue:t=>{const n=parseFloat(t);return isNaN(n)?null:n}}),dv}var pv={},Tie;function Bxt(){if(Tie)return pv;Tie=1,Object.defineProperty(pv,"__esModule",{value:!0}),pv.intColumn=void 0;const e=ik();return pv.intColumn=(0,e.createTextColumn)({alignRight:!0,formatBlurredInput:t=>typeof t=="number"?new Intl.NumberFormat().format(t):"",parseUserInput:t=>{const n=parseFloat(t);return isNaN(n)?null:Math.round(n)},parsePastedValue:t=>{const n=parseFloat(t);return isNaN(n)?null:Math.round(n)}}),pv}var mv={},Oie;function Wxt(){if(Oie)return mv;Oie=1,Object.defineProperty(mv,"__esModule",{value:!0}),mv.percentColumn=void 0;const e=ik(),t=1e12,n=1e10;return mv.percentColumn=(0,e.createTextColumn)({alignRight:!0,formatBlurredInput:o=>typeof o=="number"?new Intl.NumberFormat(void 0,{style:"percent"}).format(o):"",formatInputOnFocus:o=>typeof o=="number"&&!isNaN(o)?String(Math.round(o*t)/n):"",parseUserInput:o=>{const s=parseFloat(o);return isNaN(s)?null:s/100},parsePastedValue:o=>{const s=parseFloat(o);return isNaN(s)?null:s}}),mv}var kc={},Eie;function Uxt(){if(Eie)return kc;Eie=1;var e=kc&&kc.__createBinding||(Object.create?(function(u,d,p,m){m===void 0&&(m=p);var f=Object.getOwnPropertyDescriptor(d,p);(!f||("get"in f?!d.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return d[p]}}),Object.defineProperty(u,m,f)}):(function(u,d,p,m){m===void 0&&(m=p),u[m]=d[p]})),t=kc&&kc.__setModuleDefault||(Object.create?(function(u,d){Object.defineProperty(u,"default",{enumerable:!0,value:d})}):function(u,d){u.default=d}),n=kc&&kc.__importStar||function(u){if(u&&u.__esModule)return u;var d={};if(u!=null)for(var p in u)p!=="default"&&Object.prototype.hasOwnProperty.call(u,p)&&e(d,u,p);return t(d,u),d},o=kc&&kc.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(kc,"__esModule",{value:!0}),kc.dateColumn=void 0;const s=n(is()),i=o(Gb()),c=s.default.memo(({focus:u,active:d,rowData:p,setRowData:m})=>{var f;const h=(0,s.useRef)(null);return(0,s.useLayoutEffect)(()=>{var g,x;u?(g=h.current)===null||g===void 0||g.select():(x=h.current)===null||x===void 0||x.blur()},[u]),s.default.createElement("input",{className:(0,i.default)("dsg-input",!d&&"dsg-hide-date-picker"),type:"date",tabIndex:-1,max:"9999-12-31",ref:h,style:{pointerEvents:u?"auto":"none",opacity:p||d?void 0:0},value:(f=p==null?void 0:p.toISOString().substr(0,10))!==null&&f!==void 0?f:"",onChange:g=>{const x=new Date(g.target.value);m(isNaN(x.getTime())?null:x)}})});return c.displayName="DateComponent",kc.dateColumn={component:c,deleteValue:()=>null,copyValue:({rowData:u})=>u?u.toISOString().substr(0,10):null,pasteValue:({value:u})=>{const d=new Date(u.replace(/\.\s?|\//g,"-"));return isNaN(d.getTime())?null:d},minWidth:170,isCellEmpty:({rowData:u})=>!u},kc}var Ac={},Pie;function qxt(){if(Pie)return Ac;Pie=1;var e=Ac&&Ac.__createBinding||(Object.create?(function(u,d,p,m){m===void 0&&(m=p);var f=Object.getOwnPropertyDescriptor(d,p);(!f||("get"in f?!d.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return d[p]}}),Object.defineProperty(u,m,f)}):(function(u,d,p,m){m===void 0&&(m=p),u[m]=d[p]})),t=Ac&&Ac.__setModuleDefault||(Object.create?(function(u,d){Object.defineProperty(u,"default",{enumerable:!0,value:d})}):function(u,d){u.default=d}),n=Ac&&Ac.__importStar||function(u){if(u&&u.__esModule)return u;var d={};if(u!=null)for(var p in u)p!=="default"&&Object.prototype.hasOwnProperty.call(u,p)&&e(d,u,p);return t(d,u),d},o=Ac&&Ac.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Ac,"__esModule",{value:!0}),Ac.isoDateColumn=void 0;const s=n(is()),i=o(Gb()),c=s.default.memo(({focus:u,active:d,rowData:p,setRowData:m})=>{const f=(0,s.useRef)(null);return(0,s.useLayoutEffect)(()=>{var h,g;u?(h=f.current)===null||h===void 0||h.select():(g=f.current)===null||g===void 0||g.blur()},[u]),s.default.createElement("input",{className:(0,i.default)("dsg-input",!d&&"dsg-hide-date-picker"),type:"date",tabIndex:-1,max:"9999-12-31",ref:f,style:{pointerEvents:u?"auto":"none",opacity:p||d?void 0:0},value:p??"",onChange:h=>{const g=new Date(h.target.value);m(isNaN(g.getTime())?null:g.toISOString().substr(0,10))}})});return c.displayName="IsoDateComponent",Ac.isoDateColumn={component:c,deleteValue:()=>null,copyValue:({rowData:u})=>u,pasteValue:({value:u})=>{const d=new Date(u.replace(/\.\s?|\//g,"-"));return isNaN(d.getTime())?null:d.toISOString().substr(0,10)},minWidth:170,isCellEmpty:({rowData:u})=>!u},Ac}var Nc={},Rie;function Vxt(){if(Rie)return Nc;Rie=1;var e=Nc&&Nc.__createBinding||(Object.create?(function(u,d,p,m){m===void 0&&(m=p);var f=Object.getOwnPropertyDescriptor(d,p);(!f||("get"in f?!d.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return d[p]}}),Object.defineProperty(u,m,f)}):(function(u,d,p,m){m===void 0&&(m=p),u[m]=d[p]})),t=Nc&&Nc.__setModuleDefault||(Object.create?(function(u,d){Object.defineProperty(u,"default",{enumerable:!0,value:d})}):function(u,d){u.default=d}),n=Nc&&Nc.__importStar||function(u){if(u&&u.__esModule)return u;var d={};if(u!=null)for(var p in u)p!=="default"&&Object.prototype.hasOwnProperty.call(u,p)&&e(d,u,p);return t(d,u),d},o=Nc&&Nc.__rest||function(u,d){var p={};for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&d.indexOf(m)<0&&(p[m]=u[m]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,m=Object.getOwnPropertySymbols(u);f<m.length;f++)d.indexOf(m[f])<0&&Object.prototype.propertyIsEnumerable.call(u,m[f])&&(p[m[f]]=u[m[f]]);return p};Object.defineProperty(Nc,"__esModule",{value:!0}),Nc.keyColumn=void 0;const s=n(is()),i=u=>{var{columnData:{key:d,original:p},rowData:m,setRowData:f}=u,h=o(u,["columnData","rowData","setRowData"]);const g=(0,s.useRef)(m);g.current=m;const x=(0,s.useCallback)(D=>{f(Object.assign(Object.assign({},g.current),{[d]:D}))},[d,f]);if(!p.component)return s.default.createElement(s.default.Fragment,null);const y=p.component;return s.default.createElement(y,Object.assign({columnData:p.columnData,setRowData:x,rowData:m[d]},h))},c=(u,d)=>Object.assign(Object.assign({id:u},d),{columnData:{key:u,original:d},component:i,copyValue:({rowData:p,rowIndex:m})=>{var f,h;return(h=(f=d.copyValue)===null||f===void 0?void 0:f.call(d,{rowData:p[u],rowIndex:m}))!==null&&h!==void 0?h:null},deleteValue:({rowData:p,rowIndex:m})=>{var f,h;return Object.assign(Object.assign({},p),{[u]:(h=(f=d.deleteValue)===null||f===void 0?void 0:f.call(d,{rowData:p[u],rowIndex:m}))!==null&&h!==void 0?h:null})},pasteValue:({rowData:p,value:m,rowIndex:f})=>{var h,g;return Object.assign(Object.assign({},p),{[u]:(g=(h=d.pasteValue)===null||h===void 0?void 0:h.call(d,{rowData:p[u],value:m,rowIndex:f}))!==null&&g!==void 0?g:null})},disabled:typeof d.disabled=="function"?({rowData:p,rowIndex:m})=>{var f;return typeof d.disabled=="function"?d.disabled({rowData:p[u],rowIndex:m}):(f=d.disabled)!==null&&f!==void 0?f:!1}:d.disabled,cellClassName:typeof d.cellClassName=="function"?({rowData:p,rowIndex:m,columnId:f})=>{var h;return typeof d.cellClassName=="function"?d.cellClassName({rowData:p[u],rowIndex:m,columnId:f}):(h=d.cellClassName)!==null&&h!==void 0?h:void 0}:d.cellClassName,isCellEmpty:({rowData:p,rowIndex:m})=>{var f,h;return(h=(f=d.isCellEmpty)===null||f===void 0?void 0:f.call(d,{rowData:p[u],rowIndex:m}))!==null&&h!==void 0?h:!1}});return Nc.keyColumn=c,Nc}var wie;function zxt(){return wie||(wie=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.renderContextMenuItem=e.createContextMenuComponent=e.createAddRowsComponent=e.keyColumn=e.isoDateColumn=e.dateColumn=e.percentColumn=e.intColumn=e.floatColumn=e.checkboxColumn=e.createTextColumn=e.textColumn=e.DataSheetGrid=e.DynamicDataSheetGrid=void 0;const t=Jbe(),n=Mxt();e.DynamicDataSheetGrid=t.DataSheetGrid,e.DataSheetGrid=n.StaticDataSheetGrid;var o=ik();Object.defineProperty(e,"textColumn",{enumerable:!0,get:function(){return o.textColumn}}),Object.defineProperty(e,"createTextColumn",{enumerable:!0,get:function(){return o.createTextColumn}});var s=Lxt();Object.defineProperty(e,"checkboxColumn",{enumerable:!0,get:function(){return s.checkboxColumn}});var i=$xt();Object.defineProperty(e,"floatColumn",{enumerable:!0,get:function(){return i.floatColumn}});var c=Bxt();Object.defineProperty(e,"intColumn",{enumerable:!0,get:function(){return c.intColumn}});var u=Wxt();Object.defineProperty(e,"percentColumn",{enumerable:!0,get:function(){return u.percentColumn}});var d=Uxt();Object.defineProperty(e,"dateColumn",{enumerable:!0,get:function(){return d.dateColumn}});var p=qxt();Object.defineProperty(e,"isoDateColumn",{enumerable:!0,get:function(){return p.isoDateColumn}});var m=Vxt();Object.defineProperty(e,"keyColumn",{enumerable:!0,get:function(){return m.keyColumn}});var f=Qbe();Object.defineProperty(e,"createAddRowsComponent",{enumerable:!0,get:function(){return f.createAddRowsComponent}});var h=Ybe();Object.defineProperty(e,"createContextMenuComponent",{enumerable:!0,get:function(){return h.createContextMenuComponent}}),Object.defineProperty(e,"renderContextMenuItem",{enumerable:!0,get:function(){return h.defaultRenderItem}})})(eL)),eL}var Pe=zxt();const Hxt=Object.freeze({GROUP_ROW:"group",ROW_SELECTED:"row-selected",LINE_THROUGH:"line-through",RED:"red",STAR:"star"}),yh={CssClasses:Hxt},Gxt=it(jt,{shouldForwardProp:e=>!["bgcolor","disableAddRow","dense"].includes(e)})(({theme:e,groupColor:t=YP[700],disableAddRows:n,dense:o=!0})=>({[`& .${yh.CssClasses.ROW_SELECTED} .dsg-cell-gutter`]:{backgroundColor:e.palette.primary.main,color:e.palette.getContrastText(e.palette.primary.main)},[`& .dsg-row.${yh.CssClasses.GROUP_ROW} .dsg-cell`]:{backgroundColor:t,color:e.palette.getContrastText(t)},[`& .dsg-row.${yh.CssClasses.GROUP_ROW} .dsg-cell input`]:{color:e.palette.getContrastText(t)},[`& .dsg-cell.${yh.CssClasses.LINE_THROUGH} *`]:{textDecoration:"line-through"},[`& .dsg-cell.${yh.CssClasses.RED} *`]:{color:"red"},[`& .dsg-cell.${yh.CssClasses.STAR} input`]:{padding:"0 12px",fontSize:"xx-large",marginTop:"12px",color:e.palette.secondary.main},"& .dsg-add-row *":{},"& .dsg-add-row > button":{},...n&&{"& .dsg-add-row .add-control":{opacity:0}},borderTop:"1px solid rgba(0,0,0,0.1)",borderLeft:"1px solid rgba(0,0,0,0.1)",borderRight:"1px solid rgba(0,0,0,0.25)",borderBottom:"1px solid rgba(0,0,0,0.25)",...o&&{"& .dsg-add-row":{padding:"1px 1px 0 1px"},"& .dsg-add-row-btn":{padding:"4px 10px",marginRight:"2px",backgroundColor:$c[200]}}})),_$=e=>{const{...t}=e;return r.jsx(Gxt,{className:"DSGBox",...t})};_$.propTypes={className:l.string};const Ko=a.memo(e=>{const{hideTitle:t=!1,height:n=300,variant:o="rectangular",animation:s="pulse",headerHeight:i=34,rows:c}=e;return r.jsxs(f3,{spacing:.2,children:[!t&&r.jsx(jt,{children:r.jsx(ji,{variant:o,animation:s,height:i})}),c?Array.from({length:c}).map((u,d)=>r.jsx(ji,{variant:o,animation:s,height:n,style:{marginBottom:c>1?"8px":"0"}},d)):r.jsx(ji,{variant:o,animation:s,height:n,style:{marginBottom:c>1?"8px":"0"}})]})});Ko.propTypes={hideTitle:l.bool,headerHeight:l.oneOfType([l.string,l.number]),height:l.number,rows:l.number,variant:l.string,animation:l.string};Ko.displayName="DSGLoading";const Kxt={rowHeight:34},PW=a.memo(a.forwardRef((e,t)=>{const{children:n,loading:o=!1,height:s,loadingHeight:i,rowClassName:c,columns:u,value:d,lockRows:p,slotProps:m,...f}=e,h=a.useContext(Kn),g=a.useMemo(()=>c||(h==null?void 0:h.getRowClassName),[h==null?void 0:h.getRowClassName,c]),x=a.useMemo(()=>u||(h==null?void 0:h.columns),[u,h==null?void 0:h.columns]);return o?r.jsx(_$,{...m==null?void 0:m.box,children:r.jsx(Ko,{height:i??s})}):r.jsxs(_$,{...m==null?void 0:m.box,children:[r.jsx(Pe.DynamicDataSheetGrid,{ref:t,columns:x,rowClassName:g,value:d,lockRows:p,height:s,...Kxt,...f}),n]})}));PW.propTypes={columns:l.array,children:l.oneOfType([l.node,l.array]),rowClassName:l.oneOfType([l.func,l.string]),value:l.array,lockRows:l.bool,slotProps:l.object,loading:l.bool,height:l.oneOfType([l.string,l.number]),loadingHeight:l.oneOfType([l.string,l.number])};PW.displayName="DSGGridView";const dr=a.forwardRef((e,t)=>{const{...n}=e,{loadWorking:o,readWorking:s}=a.useContext(cr)||{},i=a.useMemo(()=>o||s,[o,s]);return r.jsx(PW,{ref:t,loading:i,...n})});dr.propTypes={};dr.displayName="DSGGridContainer";const Qxt=xs(r.jsx("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"CheckCircleOutline"),Yxt=xs(r.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline"),Xbe=xs(r.jsx("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"InfoOutlined"),Jxt=xs(r.jsx("path",{d:"M12 5.99 19.53 19H4.47zM12 2 1 21h22zm1 14h-2v2h2zm0-6h-2v4h2z"}),"WarningAmberOutlined"),Xxt={success:Qxt,info:Xbe,warning:Jxt,error:Yxt},kD=({severity:e="info",label:t,children:n,icon:o,height:s="auto",fullWidth:i=!1,noBackground:c=!0,title:u,sx:d,slotProps:p={}})=>{var D,v,T;const m=qs(),f=I=>{switch(e){case"success":return m.palette.success[I];case"info":switch(I){case"main":return m.palette.grey[500];case"light":return m.palette.grey[200];case"contrastText":return m.palette.grey[900];default:return m.palette.grey[500]}case"warning":return m.palette.warning[I];case"error":return m.palette.error[I];default:switch(I){case"main":return m.palette.grey[500];case"light":return m.palette.grey[200];case"contrastText":return m.palette.grey[900];default:return m.palette.grey[500]}}},h=f("main"),g=f("light"),x=a.useMemo(()=>c?{backgroundColor:"transparent",border:"none"}:{backgroundColor:m.palette.mode==="dark"?g:`${h}1A`,border:`1px solid ${h}`},[c,m.palette.mode,h,g]),y=o||(e?Xxt[e]:Xbe);return r.jsxs(jt,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:2,borderRadius:1,textAlign:"center",...i&&{width:"100%"},height:s,boxSizing:"border-box",...x,...d},children:[r.jsx(y,{sx:{fontSize:200,color:h,...(D=p.icon)==null?void 0:D.sx},...p.icon}),u&&r.jsx(nn,{variant:"h6",sx:{mt:1,color:m.palette.text.primary,fontWeight:"bold",...(v=p.title)==null?void 0:v.sx},...p.title,children:u}),r.jsx(nn,{variant:"subtitle1",sx:{mt:u?1:2,color:m.palette.text.secondary,fontWeight:"medium",...(T=p.label)==null?void 0:T.sx},...p.label,children:n||t})]})},Zbe=a.createContext(),RW=a.memo(e=>{const{message:t,onAction:n,actionText:o,slotProps:s,theme:i,...c}=e,u=a.useMemo(()=>o||"()",[o]),d=a.useMemo(()=>i&&i!="light",[i]);return r.jsxs(ve,{...c,children:[r.jsx(ve,{flex:1,children:t}),r.jsx(dt,{onClick:n,...s==null?void 0:s.button,...d&&{color:"white"},children:u})]})});RW.propTypes={};RW.displayName="ToastExView";const exe=e=>{const{...t}=e,n=a.useContext(Zbe);return r.jsx(RW,{theme:n.theme,...t})};exe.displayName="ToastExContainer";const lk=a.memo(a.forwardRef((e,t)=>{const{children:n,title:o,items:s,slotProps:i,negativeColor:c=VI[200],valueSeperator:u="",...d}=e,p=a.useMemo(()=>(i==null?void 0:i.containerStyles)??{padding:0,margin:0,listStyle:"none",display:"table"},[i==null?void 0:i.containerStyles]),m=a.useMemo(()=>(i==null?void 0:i.labelStyles)??{display:"table-cell",whiteSpace:"nowrap",pr:1,textAlign:"right",fontWeight:"bold"},[i==null?void 0:i.labelStyles]),f=a.useCallback(({value:g})=>i!=null&&i.valueStyles?Oo.isFunction(i==null?void 0:i.valueStyles)?i==null?void 0:i.valueStyles(g):i==null?void 0:i.valueStyles:{display:"table-cell",textAlign:"right",color:g&&g<0?c:"inherit"},[c,i]),h=a.useMemo(()=>s&&Oo.isArray(s)&&s.length>0?r.jsx(Ns,{component:"ul",sx:{...p},children:s.map(g=>{const x=Number(g.value);return r.jsxs(Ns,{component:"li",sx:{display:"table-row"},children:[r.jsxs(Ns,{component:"span",sx:{...m},children:[g.label,u]}),r.jsx(Ns,{component:"span",sx:{...f({label:g.label,value:x})},children:g.value})]},g.label)})}):o,[m,f,p,s,o,u]);return r.jsx(jr,{ref:t,title:h,...d,children:n})}));lk.propTypes={title:l.string,negativeColor:l.string,valueSeperator:l.string,items:l.array,slotProps:l.object,children:l.oneOfType([l.node,l.array,l.func])};lk.displayName="TooltipExView";var fv={},kie;function Zxt(){if(kie)return fv;kie=1;var e=Qn();Object.defineProperty(fv,"__esModule",{value:!0}),fv.default=void 0;var t=e(sr()),n=rr();return fv.default=(0,t.default)((0,n.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy"),fv}var eyt=Zxt();const fT=qn(eyt),txe=({version:e,loading:t,apiVersion:n,handleCopyVersion:o,handleCopyApiVersion:s,connState:i})=>{const c=a.useContext(ln);return r.jsxs(r.Fragment,{children:[r.jsxs(nn,{variant:"subtitle2",color:"textSecondary",align:"center",children:["copyrightcdsys, APP: ",e,c.PROFILE?`[${c.PROFILE}]`:"[no profile]"]}),r.jsx(jr,{title:"",arrow:!0,slotProps:{popper:{modifiers:[{name:"offset",options:{offset:[0,-8]}}]}},children:r.jsx(br,{onClick:o,disableFocusRipple:!0,disableRipple:!0,sx:{padding:0,marginLeft:.5,marginRight:1},children:r.jsx(fT,{fontSize:"small",sx:{width:14}})})}),r.jsxs(nn,{variant:"subtitle2",color:"textSecondary",align:"center",children:[`API: ${n||(t?"(...)":"(N/A)")}`,"[",i,"]"]}),r.jsx(jr,{title:"API",arrow:!0,slotProps:{popper:{modifiers:[{name:"offset",options:{offset:[0,-8]}}]}},children:r.jsx(br,{onClick:s,disableFocusRipple:!0,disableRipple:!0,sx:{padding:0,marginLeft:.5,marginRight:1},children:r.jsx(fT,{fontSize:"small",sx:{width:14}})})})]})};txe.propTypes={version:l.string,loading:l.bool,apiVersion:l.string,handleCopyVersion:l.func,handleCopyApiVersion:l.func,connState:l.string};const nxe=e=>{const{...t}=e,{version:n,apiVersion:o,loadAppInfo:s,loading:i,profile:c}=a.useContext(Qh),u=a.useContext(VT),{connectionState:d}=u,p=a.useCallback(async()=>{await navigator.clipboard.writeText(n),ae.info("APP ")},[n]),m=a.useCallback(async()=>{await navigator.clipboard.writeText(o),ae.info("API ")},[o]),f=a.useMemo(()=>{switch(d){case fo.Connected:return c||"V";case fo.Connecting:return"...";case fo.Disconnected:default:return"X"}},[d,c]);return En(()=>{s()},[]),r.jsx(txe,{loading:i,version:n,apiVersion:o,handleCopyVersion:p,handleCopyApiVersion:m,connState:f,...t})},wW=a.memo(e=>{const{title:t="",...n}=e;return r.jsxs(jt,{sx:{backgroundImage:`url(${pit})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",minHeight:"100vh"},children:[r.jsxs(k4,{...n,children:[r.jsx(_t,{title:t}),r.jsx(jt,{pt:3,children:r.jsx(j,{container:!0,spacing:3,children:r.jsx(j,{item:!0,xl:3,lg:4,md:6,sm:12,xs:12,children:r.jsx(che,{})})})})]}),r.jsx(ve,{fullWidth:!0,mt:1,px:2,justifyContent:"flex-end",children:r.jsx(nxe,{})})]})});wW.displayName="Home";wW.propTypes={drawerOpen:l.bool};const rxe=()=>{const e=Hd(),t=new URLSearchParams(e.search),n=a.useContext(Be),{token:o,loadAuthorities:s}=n,i=t.get("reload")==="1",{detectDrawerState:c}=a.useContext(Sn),u=a.useMemo(()=>`${n.operator.UserName}, `,[n.operator.UserName]);return En(()=>{c()},[]),En(()=>{i&&s({token:o})},[]),G3(),r.jsx(wW,{title:u})};rxe.displayName="HomeContainer";const tyt="",nyt={SESSION_EXPIRED:tyt},va=Object.freeze({PROMPT:Symbol("PROMPT"),WORKING:Symbol("WORKING"),DONE:Symbol("DONE"),FAILED:Symbol("FAILED")});function Or(e=null){const[t,n]=a.useState({state:e,message:null,error:null}),o=a.useCallback(({message:g,params:x}={})=>{console.log("prompt",g),n(y=>({...y,state:va.PROMPT,message:g,params:x}))},[]),s=a.useCallback(({message:g,params:x}={})=>{n(y=>({...y,state:va.WORKING,error:null,message:g,...x}))},[]),i=a.useCallback(({message:g,params:x}={})=>{n(y=>({...y,state:va.DONE,message:g,...x}))},[]),c=a.useCallback(({error:g,message:x}={})=>{n(y=>({...y,state:va.FAILED,message:x,error:g}))},[]),u=a.useCallback(()=>{n({state:null,message:null,error:null,params:null,supressLoading:!1})},[]),d=a.useMemo(()=>t.state===va.WORKING,[t.state]),p=a.useMemo(()=>t.state===va.PROMPT,[t.state]),m=a.useMemo(()=>t.state===va.DONE,[t.state]),f=a.useMemo(()=>t.state===va.FAILED,[t.state]),h=a.useMemo(()=>!!t.state,[t.state]);return{...t,prompt:o,start:s,finish:i,fail:c,clear:u,active:h,working:d,prompting:p,finished:m,failed:f}}new TextEncoder;const oxe=new TextDecoder,ryt=e=>{const t=atob(e),n=new Uint8Array(t.length);for(let o=0;o<t.length;o++)n[o]=t.charCodeAt(o);return n},oyt=e=>{let t=e;t instanceof Uint8Array&&(t=oxe.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return ryt(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class syt extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(t){var n;super(t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(n=Error.captureStackTrace)===null||n===void 0||n.call(Error,this,this.constructor)}}class Qg extends syt{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function ayt(e){return typeof e=="object"&&e!==null}function iyt(e){if(!ayt(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}const lyt=oyt;function cyt(e){if(typeof e!="string")throw new Qg("JWTs must use Compact JWS serialization, JWT must be a string");const{1:t,length:n}=e.split(".");if(n===5)throw new Qg("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new Qg("Invalid JWT");if(!t)throw new Qg("JWTs must contain a payload");let o;try{o=lyt(t)}catch{throw new Qg("Failed to base64url decode the payload")}let s;try{s=JSON.parse(oxe.decode(o))}catch{throw new Qg("Failed to parse the decoded payload as JSON")}if(!iyt(s))throw new Qg("Invalid JWT Claims Set");return s}const pP="LogKey",uyt={toLanding:!0},dyt=()=>{var Ne,xe,me;const{toLogin:e,toLanding:t,toRenew:n}=nm(),{httpGetAsync:o,httpPutAsync:s}=Zn(),i=a.useContext(Mr),c=Or(),u=Hd(),d=mD(),{getSessionCookie:p}=a.useContext(Qh),m=a.useContext(VT),{connectionId:f}=m,h=a.useContext(Fw),[g,x]=a.useState({validating:null,operator:null,token:null,roles:null,error:null}),[y,D]=a.useState({authorities:null,authoritiesError:null,authoritiesLoading:null}),v=a.useMemo(()=>{var de;return Ua.get(Tn.COOKIE_IMPERSONATE)==1||((de=g.operator)==null?void 0:de.hasRoot)},[(Ne=g.operator)==null?void 0:Ne.hasRoot]),T=a.useCallback(async({token:de})=>{console.log("loading authorities..."),D(ce=>({...ce,authoritiesLoading:!0}));try{const{status:ce,payload:ee}=await o({url:"v1/auth/modules",bearer:de});if(ce.success)D(De=>({...De,authorities:ee,authoritiesLoading:!1}));else switch(ce.code){case 401:ae.error(nyt.SESSION_EXPIRED),e()}}catch(ce){console.error("loadAuthorities",ce),D(ee=>({...ee,authoritiesLoading:!1}))}},[o,e]),I=a.useCallback(de=>{Ua.set(Tn.COOKIE_LOGKEY,de||"",Tn.ROOT_COOKIE_OPTS)},[]),P=a.useCallback(async({queryParams:de,switching:ce=!1,doRedirect:ee=!1}={})=>{console.log("recoverIdentity..."),x(qe=>({...qe,validating:!0}));let De=sessionStorage.getItem(Tn.COOKIE_LOGKEY),ke=Ua.get(Tn.COOKIE_LOGKEY);const He=De||ke;if(!He){ae.error(""),ee&&e();return}try{const{status:qe,payload:Le,error:_e}=await o({url:"v1/auth/token",params:{logKey:He}});if(De?console.log("recovering from logKey in session",De):console.log("recovering from logKey in cookie",ke),qe.success){h.resetOptions({excludes:["dept-switch"]});const H=Le.token,re=cyt(H);console.log("jwtPayload",re);const q=new Date(re.exp*1e3);if(Date.now()>q?console.log("token expired"):console.log("token is valid"),console.log("jwtPayload.entity",re.entity),x(Y=>{var ie,B,Z,ye,Ie,le,fe,Ae;return{...Y,token:H,operator:{...re.entity,hasRoot:((ie=re.entity)==null?void 0:ie.Class)>=Tn.SCOPES.ROOT,isRoot:((B=re.entity)==null?void 0:B.Class)==Tn.SCOPES.ROOT,hasSys:((Z=re.entity)==null?void 0:Z.Class)>=Tn.SCOPES.SYS,isSys:((ye=re.entity)==null?void 0:ye.Class)==Tn.SCOPES.SYS,isHQ:((Ie=re.entity)==null?void 0:Ie.Class)==Tn.SCOPES.HQ,hasHQ:((le=re.entity)==null?void 0:le.Class)>=Tn.SCOPES.HQ,isBranchHQ:((fe=re.entity)==null?void 0:fe.Class)==Tn.SCOPES.BRANCH_HQ,hasBranchHQ:((Ae=re.entity)==null?void 0:Ae.Class)>=Tn.SCOPES.BRANCH_HQ},roles:re.roles}}),T({token:H}),re.entity.MustChange==="1")throw{status:426};if(ee){const Y=sessionStorage.getItem(Tn.COOKIE_SPAWN);ae.success(`${re.entity.LoginName||"()"}/${re.entity.UserName||""}${Y?"":""}${ce?"":""}${re.entity.CurDeptName}`)}}else throw _e??new Error("")}catch(qe){switch(console.error("token restore failed",qe),qe.status){case 426:ae.error(""),n();break;case 401:ee&&e();break;default:ae.error("",qe),ee&&e();break}}finally{x(qe=>({...qe,validating:!1})),de&&de.get(pP)&&(de.delete(pP),d({search:de.toString()},{replace:!0}))}},[o,T,d,e,n]);a.useEffect(()=>{var ce;const de=async()=>{var De,ke;console.log(`connectionId ${f} connected, registering to LogKey ${(De=g.operator)==null?void 0:De.LoginName}(${(ke=g.operator)==null?void 0:ke.LogKey})`);const{status:ee}=await s({url:"v1/auth/register",bearer:g.token,data:{connectionId:f}});ee.success?console.log("	success."):Ad.error("	failed")};f&&((ce=g.operator)!=null&&ce.LogKey)&&de()},[f,s,(xe=g.operator)==null?void 0:xe.LogKey,(me=g.operator)==null?void 0:me.LoginName,g.token]);const E=a.useCallback(()=>{x(de=>({...de,validating:null}))},[]),k=a.useCallback(async({spawn:de=!1})=>{try{await o({url:"v1/auth/signout",bearer:g.token}),ae.success(""),de&&window.close(),sessionStorage.removeItem(Tn.COOKIE_SPAWN),e()}catch(ce){console.error("handleSignOut.failed",ce)}},[o,e,g.token]),w=a.useCallback(()=>{const de=sessionStorage.getItem(Tn.COOKIE_SPAWN)==1;let ce="?";de&&(ce="?"),i.confirm({message:ce,onConfirm:()=>{k({spawn:de})}})},[i,k]),A=a.useCallback(async(de,ce=uyt)=>{de||ae.error("");try{c.start();const{status:ee,error:De}=await o({url:"v1/auth/switch-dept",bearer:g.token,params:{id:de==null?void 0:de.DeptID}});if(ee.success)P({switching:!0,doRedirect:!1}),ce.toLanding&&t({reloadAuthorities:!0}),ae.success(` ${(de==null?void 0:de.AbbrName)||(de==null?void 0:de.DeptName)}`);else throw De||new Error("")}catch(ee){console.error("onDeptSwitchSubmit.failed",ee),ae.error(""),e()}finally{c.clear()}},[c,o,P,g.token,t,e]),F=a.useCallback(de=>{console.log("onDeptSwitchSubmit",de),A(de==null?void 0:de.newDept)},[A]),_=a.useCallback(de=>{console.error("onDeptSwitchSubmitError",de)},[]),L=a.useCallback(()=>{c.prompt()},[c]),K=a.useMemo(()=>c.state===va.PROMPT,[c.state]),z=a.useMemo(()=>c.state===va.WORKING,[c.state]),J=a.useCallback(()=>{c.clear()},[c]),Q=a.useCallback(de=>{console.error("onError",de),(de==null?void 0:de.status)===401&&e()},[e]),{httpPatchAsync:V}=Zn(),W=Or(),{prompt:U,start:X,finish:te,fail:se,working:he,prompting:pe}=W,ue=a.useCallback(({setError:de,doRedirect:ce})=>async ee=>{if(console.log("onChangeSubmit",ee),(ee==null?void 0:ee.newPword)!==(ee==null?void 0:ee.newPword2)){de("newPword2",{type:"manual",message:""});return}try{X();const{status:De,payload:ke,error:He}=await V({url:"v1/auth/change-pword",bearer:g.token,data:{newPword:ee.newPword}});if(De.success)ae.success(""),te(),ce&&(Ua.set(Tn.COOKIE_LOGKEY,ke.LogKey??"",Tn.ROOT_COOKIE_OPTS),t({reloadAuthorities:!0}));else throw He??new Error("")}catch(De){ae.error("",De),se(De)}},[se,te,V,X,g.token,t]),ge=a.useCallback(de=>{console.error("onChangeSubmitError",de)},[]),Ce=a.useCallback(de=>{sessionStorage.setItem(pP,de)},[]),Te=a.useCallback(()=>{e(),ae.warn("")},[e]);return a.useEffect(()=>{if(console.log("state.validating",g.validating),g.validating===null){const de=new URLSearchParams(u.search),ce=de.get(pP),ee=Ua.get(Tn.COOKIE_LOGKEY);ce?(sessionStorage.setItem(Tn.COOKIE_SPAWN,1),Ce(ce)):(sessionStorage.setItem(Tn.COOKIE_SPAWN,0),ee&&(console.log("recover from COOKIE"),Ce(ee))),P({doRedirect:!0,queryParams:de})}},[g.validating,P,u.search,Ce]),{...g,...y,recoverIdentity:P,invalidate:E,confirmSignOut:w,onDeptSwitchSubmit:F,onDeptSwitchSubmitError:_,deptSwitching:K,cancelDeptSwitch:J,promptDeptSwitch:L,deptSwitchWorking:z,handleError:Q,renewCookie:I,loadAuthorities:T,promptChanging:U,startChanging:X,failChanging:se,changing:he,onChangeSubmit:ue,onChangeSubmitError:ge,changePrompting:pe,switchDept:A,renewLogKey:Ce,loadModules:T,debugEnabled:v,handleSessionExpired:Te}},sxe=e=>{const{children:t}=e,n=dyt();return r.jsx(Be.Provider,{value:{...n},children:t})};sxe.propTypes={children:l.element};const so=(e={})=>{const{url:t,params:n,bearer:o,initialFetchSize:s=50,debounce:i=0}=e,c=a.useContext(Xc),u=a.useMemo(()=>new Object,[]),[d,p]=a.useState(),[m,f]=a.useState({listLoading:null}),[h,g]=a.useState(0),[x,y]=a.useState(),D=Gr(m.listLoading,i),[v,T]=a.useState(),[I,P]=a.useState({visibleStartIndex:0,visibleStopIndex:0,bottomReached:!1}),{httpGetAsync:E}=Zn(),k=a.useCallback(pe=>pe.data||[],[]),w=a.useCallback(pe=>{var ue;return(ue=pe==null?void 0:pe.Select)==null?void 0:ue.SaveKey},[]),A=a.useCallback(pe=>{var ue;return(ue=pe==null?void 0:pe.Select)==null?void 0:ue.TotalRecord},[]),F=a.useCallback(pe=>({visibleStartIndex:ue,visibleStopIndex:ge,...Ce})=>{P({visibleStartIndex:ue,visibleStopIndex:ge,bottomReached:ge===h-1}),pe({visibleStartIndex:ue,visibleStopIndex:ge,...Ce})},[h]),_=a.useCallback(async({start:pe,stop:ue,saveKey:ge,params:Ce,getOptions:Te=k,getSaveKey:Ne=w,getItemCount:xe=A,refresh:me=!1,usePrevParams:de=!1,supressLoading:ce=!1}={})=>{var qe;let ee=pe!==void 0?pe:0,De=ue!==void 0?ue:ee+s;me&&(Object.keys(u).forEach(Le=>{delete u[Le]}),console.log("loadingMap cleared",u));for(let Le=ee;Le<=De;Le++)u[Le]=!0;let ke;c?me||de?ke=(qe=c.paramsRef)==null?void 0:qe.current:(c.paramsRef.current=Ce,ke=Ce):(console.warn("InfiniteLoaderContext not found, params cannot be memorized"),ke=Ce),console.log(`loadList(${ee} ~ ${De}), params:`,ke),ge&&console.log("saveKey",ge);const He=(!v||me)&&!ce;console.log("loading",He),y(null),f(Le=>({...Le,listLoading:He}));try{const{status:Le,payload:_e,error:H}=await E({bearer:o,url:t,params:{...n,...ke,st:ee,sp:De,...ge&&{sk:ge}}});if(Le.success){const re=Ne(_e);p(re);const q=xe(_e);q!==void 0&&g(q);const Y=Te(_e),ie=Ii.toObject(Y,pe);T(me?ie:B=>({...B,...ie})),console.log(`mark ${ee}~${De} as loaded`);for(let B=ee;B<=De;B++)u[B]=!1}else throw H}catch(Le){console.error(Le),y(Le)}finally{f(Le=>({...Le,listLoading:!1}))}},[k,w,A,s,c,v,u,E,o,t,n]),L=a.useCallback(()=>{m.listLoading===null&&_()},[_,m.listLoading]),K=a.useCallback(()=>{f(pe=>({...pe,listLoading:null}))},[]),z=a.useCallback((pe,ue)=>(console.log(`loadMoreItems(${pe}, ${ue})`),new Promise(ge=>{_({start:pe,stop:ue,usePrevParams:!0,...d&&{saveKey:d}}),ge()})),[_,d]),J=a.useCallback(pe=>u[pe]===!0,[u]),Q=a.useCallback(pe=>u[pe]===!1,[u]),V=a.useMemo(()=>!1,[]),W=a.useMemo(()=>i===0?m.listLoading:D,[i,D,m.listLoading]),U=a.useCallback(({key:pe,id:ue})=>{if(!v)return null;const ge=Object.entries(v).find(([Te,Ne])=>Ne[pe]===ue);return ge?parseInt(ge[0],10):null},[v]),X=a.useCallback(({key:pe,id:ue,reverse:ge=!1}={})=>{const Ce=Object.entries(v).find(([Ne,xe])=>xe[pe]===ue),Te=Ce?parseInt(Ce[0],10):null;if(Te!==null&&!isNaN(Te)){const Ne=ge?Te-1:Te+1,xe=v[Ne];if(xe)return xe[pe]}return null},[v]),te=a.useCallback(({...pe})=>X({...pe}),[X]),se=a.useCallback(({key:pe,id:ue})=>X({key:pe,id:ue,reverse:!0}),[X]),he=a.useCallback(pe=>pe.map(ue=>v[ue]),[v]);return{saveKey:d,listData:v,...m,debouncedListLoading:W,listFiltered:V,listError:x,itemCount:h,...I,isItemLoaded:Q,loadList:_,isItemLoading:J,loadMoreItems:z,handleItemsRendered:F,refreshList:L,clearListLoading:K,findNextId:te,findPrevId:se,getIndexById:U,getItemDataByIndex:he}},pyt=()=>{const[e,t]=a.useState(null),n=a.useCallback(c=>{t(c.currentTarget)},[]),o=a.useCallback(c=>{t(e?null:c.currentTarget)},[e]),s=a.useCallback(()=>{t(null)},[]),i=a.useMemo(()=>!!e,[e]);return{popoverAnchorEl:e,handlePopoverOpen:n,togglePopoverOpen:o,handlePopoverClose:s,popoverOpen:i}},myt=e=>(e==null?void 0:e.toLowerCase())||"info",fyt={asToastifyType:myt},hyt=()=>{var y;const e=a.useContext(Be),t=a.useContext(VT),{connection:n,connectionState:o}=t,{httpGetAsync:s}=Zn(),i=so({url:"v1/my/messages",bearer:e.token,initialFetchSize:30,params:{ur:1}}),[c,u]=a.useState({unreadCount:0,unreadCountError:null,unreadCountLoading:null}),d=pyt(),{handlePopoverClose:p}=d,{selectJobById:m}=a.useContext(Sn),f=a.useCallback(async()=>{if(e.token){u(D=>({...D,unreadCountLoading:!0}));try{const{status:D,payload:v,error:T}=await s({url:"v1/my/messages/unread-count",bearer:e.token});if(D.success)u(I=>({...I,unreadCount:v,unreadCountError:null}));else throw T||new Error("")}catch(D){u(v=>({...v,unreadCountError:D}))}finally{u(D=>({...D,unreadCountLoading:!1}))}}},[e.token,s]),h=a.useCallback(D=>{var I;console.log("handleGotoJob",D);const v=(D==null?void 0:D.jobID)||(D==null?void 0:D.JobID),T=(D==null?void 0:D.id)||(D==null?void 0:D.ID);if(p(),v){const P=(D==null?void 0:D.DeptID)??(D==null?void 0:D.deptID),E=(D==null?void 0:D.AbbrName)??(D==null?void 0:D.deptName);if(((I=e.operator)==null?void 0:I.CurDeptID)!==P){ae.error(`[${E}]`);return}m(v,{...T&&{target:T}})}},[(y=e.operator)==null?void 0:y.CurDeptID,p,m]),g=a.useCallback(D=>{console.log('"notify" signal received',D);const v=`${D.msgBody}
 - ${D.sendName}`;ae(v,{type:fyt.asToastifyType(D.type),onClick:()=>h(D)}),f(),i.clearListLoading()},[h,f,i]),x=a.useCallback(()=>{console.log('"refresh" signal received'),f(),i.clearListLoading()},[f,i]);return a.useEffect(()=>(n==null||n.on("notify",g),()=>{n==null||n.off("notify")}),[n,g,x]),a.useEffect(()=>(n==null||n.on("refresh",x),()=>{n==null||n.off("refresh")}),[n,g,x]),mn(()=>{switch(o){case fo.Connected:e.token&&(f(),i.clearListLoading());break}},[o,e.token]),{...d,...i,...c,loadUnreadCount:f,handleGotoJob:h}},axe=({children:e})=>{const t=hyt();return r.jsx(EC.Provider,{value:{...t},children:e})};axe.propTypes={children:l.oneOfType([l.array,l.object])};const kW=a.createContext();var hv={},Aie;function gyt(){if(Aie)return hv;Aie=1;var e=Qn();Object.defineProperty(hv,"__esModule",{value:!0}),hv.default=void 0;var t=e(sr()),n=rr();return hv.default=(0,t.default)((0,n.jsx)("path",{d:"M14.67 5v14H9.33V5zm1 14H21V5h-5.33zm-7.34 0V5H3v14z"}),"ViewColumn"),hv}var byt=gyt();const xyt=qn(byt),mP=1e3,yyt=Object.freeze({Z_INDEX_POPPER:mP+10,Z_INDEX_DIALOG:mP+300,Z_INDEX_PICKER_POPPER:mP+300,Z_INDEX_LISTVIEW_HEADER:mP,Z_INDEX_INPUT_ICON:100}),Cyt=Object.freeze({WIDTH_DRAWER:"200px",WIDTH_DRAWER_BAR:"56px"}),ixe={...yyt,...Cyt};var gv={},Nie;function Dyt(){if(Nie)return gv;Nie=1;var e=Qn();Object.defineProperty(gv,"__esModule",{value:!0}),gv.default=void 0;var t=e(sr()),n=rr();return gv.default=(0,t.default)((0,n.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),gv}var Syt=Dyt();const Kb=qn(Syt);var bv={},Fie;function vyt(){if(Fie)return bv;Fie=1;var e=Qn();Object.defineProperty(bv,"__esModule",{value:!0}),bv.default=void 0;var t=e(sr()),n=rr();return bv.default=(0,t.default)((0,n.jsx)("path",{d:"M3 17v2h6v-2zM3 5v2h10V5zm10 16v-2h8v-2h-8v-2h-2v6zM7 9v2H3v2h4v2h2V9zm14 4v-2H11v2zm-6-4h2V7h4V5h-4V3h-2z"}),"Tune"),bv}var jyt=vyt();const lxe=qn(jyt),Iyt=it(PT,{shouldForwardProp:e=>!"width,square,shadowStyle,shadow,backgroundColor,hoverBackgroundColor,focusBackgroundColor,searchIconPlacement".trim().split(/\s*,\s*/).includes(e)})(({theme:e,width:t,square:n=!1,shadowStyle:o,shadow:s="always",backgroundColor:i="rgb(0 0 0 / 5%)",hoverBackgroundColor:c,focusBackgroundColor:u,breakpoint:d="md",searchIconPlacement:p})=>{const m=a.useMemo(()=>o==="in"&&s==="always",[s,o]),f=a.useMemo(()=>o==="out"&&s==="always",[s,o]),h=a.useMemo(()=>o==="in"&&s==="focus",[s,o]),g=a.useMemo(()=>o==="out"&&s==="focus",[s,o]);return{color:"inherit",border:"rgba(0, 0, 0, 0.12)","& .MuiInputBase-input":{padding:e.spacing(1,1,1,0),...!p||p==="none"&&{paddingLeft:e.spacing(2)},...p==="left"&&{paddingLeft:`calc(1em + ${e.spacing(4)})`},paddingRight:e.spacing(2),...p==="right"&&{paddingRight:`calc(1em + ${e.spacing(4)})`},transition:e.transitions.create(["box-shadow","width","background-color"]),width:"100%",...t&&{[e.breakpoints.up(d)]:{width:t}},...m&&{boxShadow:ur.IN_BOX_SHADOW},...f&&{boxShadow:ur.OUT_BOX_SHADOW},borderRadius:n?e.shape.borderRadius:"36px"},"& input":{backgroundColor:i},"& .MuiInputBase-input:hover":{backgroundColor:c||i},"& .MuiInputBase-input:focus":{backgroundColor:u||i,...h&&{boxShadow:ur.IN_BOX_SHADOW},...g&&{boxShadow:ur.OUT_BOX_SHADOW}}}});var xv={},Mie;function Tyt(){if(Mie)return xv;Mie=1;var e=Qn();Object.defineProperty(xv,"__esModule",{value:!0}),xv.default=void 0;var t=e(sr()),n=rr();return xv.default=(0,t.default)((0,n.jsx)("path",{d:"M7 6h10l-5.01 6.3zm-2.75-.39C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAltOutlined"),xv}var Oyt=Tyt();const Eyt=qn(Oyt),Pyt=it("div")(({theme:e,placement:t="left"})=>({padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",...t==="right"&&{right:0}})),Ryt=it("div")(({theme:e})=>({position:"relative",marginRight:0,marginLeft:e.spacing(.5),width:"100%"})),cxe=a.memo(a.forwardRef((e,t)=>{const{selectOnFocus:n,focusShadow:o=!1,inputRef:s,name:i="q",value:c="",placeholder:u,extraEndAdorment:d,filtered:p,SearchIconComponent:m=Eyt,searchIconPlacement:f="none",onChange:h,onClear:g,onSubmit:x,clearText:y=" (Esc)",PopperComponent:D,popper:v,popperId:T,popperClickAway:I=!0,onPopperOpen:P,onPopperClose:E,popperOpen:k,...w}=e,A=a.useMemo(()=>v||D,[D,v]),F=a.useMemo(()=>c!==""&&!k,[k,c]),_=a.useMemo(()=>!!m&&(f==="left"||f==="right"),[m,f]),L=a.useCallback(K=>{K.target.select()},[]);return r.jsxs("div",{ref:t,children:[r.jsxs(Ryt,{focusShadow:o,children:[_&&r.jsx(Pyt,{placement:f,children:r.jsx(m,{color:"action",onClick:x})}),r.jsx(Iyt,{id:i,searchIconPlacement:f,name:i,value:c,onChange:h,autoComplete:"off",inputRef:s,inputProps:{"aria-label":"search"},placeholder:u,...n&&{onFocus:L},endAdornment:r.jsxs(jt,{sx:{whiteSpace:"nowrap",position:"absolute",right:"4px",...f==="right"&&{right:"36px"}},className:"right-box",children:[d,r.jsx(jr,{title:c?y:"",children:r.jsx(br,{onClick:g,color:"inherit",size:"small",sx:[K=>({visibility:"hidden",opacity:0,transition:K.transitions.create("opacity",{easing:K.transitions.easing.sharp,duration:K.transitions.duration.leavingScreen})}),F&&{opacity:100,visibility:"visible"}],children:r.jsx(Cf,{color:"action",fontSize:"small",position:"end"})})}),P&&r.jsx(jr,{title:k?"":"",children:r.jsx(br,{color:"inherit",size:"small",onClick:P,children:r.jsx(lxe,{position:"end",color:p?"primary":"inherit"})})})]}),...w}),r.jsx("input",{type:"submit",style:{display:"none"}})]}),A&&r.jsx(d3,{onClickAway:()=>{I&&(E?E():console.error("onPopperClose not specified"))},mouseEvent:"onMouseDown",children:r.jsx(Xp,{sx:{zIndex:ixe.Z_INDEX_POPPER},id:T,open:k,anchorEl:s.current,disablePortal:!0,placement:"bottom-start",children:({TransitionProps:K})=>r.jsx(Kh,{...K,children:r.jsx(D,{})})})})]})}));cxe.propTypes={inputRef:l.object,searchIconPlacement:l.oneOf(["left","right","none"])};const uxe=({name:e,defaultValue:t="",rules:n,...o})=>r.jsx(rm,{name:e,defaultValue:t,rules:n,render:({field:{ref:s,value:i,onChange:c}})=>r.jsx(cxe,{ref:s,value:i,onChange:c,...o})});uxe.propTypes={name:l.string.isRequired,defaultValue:l.string,onChange:l.func,rules:l.object};const dxe=a.memo(a.forwardRef((e,t)=>{const{name:n,inputRef:o,onToggleDrawerOpen:s,onClear:i,onHomeClick:c,gotoMessages:u,...d}=e;return r.jsx(GVe,{position:"sticky",color:"white",ref:t,elevation:0,...d,children:r.jsxs(ve,{py:1,pl:1,children:[r.jsx(br,{color:"primary",onClick:c,children:r.jsx(xyt,{})}),r.jsx(uxe,{name:n,inputRef:o,onClear:i,placeholder:" (ctrl+F9)",shadowStyle:"in",focusBackgroundColor:"rgb(0 0 0 / 10%)",hoverBackgroundColor:"rgb(0 0 0 / 6%)",selectOnFocus:!0}),u&&r.jsx(br,{color:"primary",onClick:u,children:r.jsx(Bhe,{})}),s&&r.jsx(br,{onClick:s,children:r.jsx(Ghe,{})})]})})}));dxe.propTypes={name:l.string.isRequired,inputRef:l.object,onToggleDrawerOpen:l.func};const ru=({onChange:e,inputRef:t,doubleFocusToClear:n=!1})=>{const o=a.useCallback(()=>{console.log("handleClear"),e("")},[e]),s=a.useCallback(i=>{i==null||i.preventDefault(),t!=null&&t.current&&(document.activeElement===t.current&&n?o():t.current.focus())},[n,o,t]);return{handleClear:o,handleFocus:s}};function L$(){return L$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},L$.apply(null,arguments)}var pxe=["shift","alt","meta","mod","ctrl"],wyt={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function Oh(e){return(e&&wyt[e]||e||"").trim().toLowerCase().replace(/key|digit|numpad|arrow/,"")}function kyt(e){return pxe.includes(e)}function lL(e,t){return t===void 0&&(t=","),e.split(t)}function cL(e,t,n){t===void 0&&(t="+");var o=e.toLocaleLowerCase().split(t).map(function(c){return Oh(c)}),s={alt:o.includes("alt"),ctrl:o.includes("ctrl")||o.includes("control"),shift:o.includes("shift"),meta:o.includes("meta"),mod:o.includes("mod")},i=o.filter(function(c){return!pxe.includes(c)});return L$({},s,{keys:i,description:n,hotkey:e})}(function(){typeof document<"u"&&(document.addEventListener("keydown",function(e){e.key!==void 0&&mxe([Oh(e.key),Oh(e.code)])}),document.addEventListener("keyup",function(e){e.key!==void 0&&fxe([Oh(e.key),Oh(e.code)])})),typeof window<"u"&&window.addEventListener("blur",function(){Eh.clear()})})();var Eh=new Set;function AW(e){return Array.isArray(e)}function Ayt(e,t){t===void 0&&(t=",");var n=AW(e)?e:e.split(t);return n.every(function(o){return Eh.has(o.trim().toLowerCase())})}function mxe(e){var t=Array.isArray(e)?e:[e];Eh.has("meta")&&Eh.forEach(function(n){return!kyt(n)&&Eh.delete(n.toLowerCase())}),t.forEach(function(n){return Eh.add(n.toLowerCase())})}function fxe(e){var t=Array.isArray(e)?e:[e];e==="meta"?Eh.clear():t.forEach(function(n){return Eh.delete(n.toLowerCase())})}function Nyt(e,t,n){(typeof n=="function"&&n(e,t)||n===!0)&&e.preventDefault()}function Fyt(e,t,n){return typeof n=="function"?n(e,t):n===!0||n===void 0}function Myt(e){return hxe(e,["input","textarea","select"])}function hxe(e,t){t===void 0&&(t=!1);var n=e.target,o=e.composed,s=null;return _yt(n)&&o?s=e.composedPath()[0]&&e.composedPath()[0].tagName:s=n&&n.tagName,AW(t)?!!(s&&t&&t.some(function(i){var c;return i.toLowerCase()===((c=s)==null?void 0:c.toLowerCase())})):!!(s&&t&&t)}function _yt(e){return!!e.tagName&&!e.tagName.startsWith("-")&&e.tagName.includes("-")}function Lyt(e,t){return e.length===0&&t?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):t?e.some(function(n){return t.includes(n)})||e.includes("*"):!0}var $yt=function(t,n,o){o===void 0&&(o=!1);var s=n.alt,i=n.meta,c=n.mod,u=n.shift,d=n.ctrl,p=n.keys,m=t.key,f=t.code,h=t.ctrlKey,g=t.metaKey,x=t.shiftKey,y=t.altKey,D=Oh(f),v=m.toLowerCase();if(!(p!=null&&p.includes(D))&&!(p!=null&&p.includes(v))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(D))return!1;if(!o){if(s===!y&&v!=="alt"||u===!x&&v!=="shift")return!1;if(c){if(!g&&!h)return!1}else if(i===!g&&v!=="meta"&&v!=="os"||d===!h&&v!=="ctrl"&&v!=="control")return!1}return p&&p.length===1&&(p.includes(v)||p.includes(D))?!0:p?Ayt(p):!p},Byt=a.createContext(void 0),Wyt=function(){return a.useContext(Byt)};function gxe(e,t){return e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).reduce(function(n,o){return n&&gxe(e[o],t[o])},!0):e===t}var Uyt=a.createContext({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}}),qyt=function(){return a.useContext(Uyt)};function Vyt(e){var t=a.useRef(void 0);return gxe(t.current,e)||(t.current=e),t.current}var _ie=function(t){t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation()},zyt=typeof window<"u"?a.useLayoutEffect:a.useEffect;function $t(e,t,n,o){var s=a.useState(null),i=s[0],c=s[1],u=a.useRef(!1),d=n instanceof Array?o instanceof Array?void 0:o:n,p=AW(e)?e.join(d==null?void 0:d.splitKey):e,m=n instanceof Array?n:o instanceof Array?o:void 0,f=a.useCallback(t,m??[]),h=a.useRef(f);m?h.current=f:h.current=t;var g=Vyt(d),x=qyt(),y=x.enabledScopes,D=Wyt();return zyt(function(){if(!((g==null?void 0:g.enabled)===!1||!Lyt(y,g==null?void 0:g.scopes))){var v=function(k,w){var A;if(w===void 0&&(w=!1),!(Myt(k)&&!hxe(k,g==null?void 0:g.enableOnFormTags))){if(i!==null){var F=i.getRootNode();if((F instanceof Document||F instanceof ShadowRoot)&&F.activeElement!==i&&!i.contains(F.activeElement)){_ie(k);return}}(A=k.target)!=null&&A.isContentEditable&&!(g!=null&&g.enableOnContentEditable)||lL(p,g==null?void 0:g.splitKey).forEach(function(_){var L,K=cL(_,g==null?void 0:g.combinationKey);if($yt(k,K,g==null?void 0:g.ignoreModifiers)||(L=K.keys)!=null&&L.includes("*")){if(g!=null&&g.ignoreEventWhen!=null&&g.ignoreEventWhen(k)||w&&u.current)return;if(Nyt(k,K,g==null?void 0:g.preventDefault),!Fyt(k,K,g==null?void 0:g.enabled)){_ie(k);return}h.current(k,K),w||(u.current=!0)}})}},T=function(k){k.key!==void 0&&(mxe(Oh(k.code)),((g==null?void 0:g.keydown)===void 0&&(g==null?void 0:g.keyup)!==!0||g!=null&&g.keydown)&&v(k))},I=function(k){k.key!==void 0&&(fxe(Oh(k.code)),u.current=!1,g!=null&&g.keyup&&v(k,!0))},P=i||(d==null?void 0:d.document)||document;return P.addEventListener("keyup",I,d==null?void 0:d.eventListenerOptions),P.addEventListener("keydown",T,d==null?void 0:d.eventListenerOptions),D&&lL(p,g==null?void 0:g.splitKey).forEach(function(E){return D.addHotkey(cL(E,g==null?void 0:g.combinationKey,g==null?void 0:g.description))}),function(){P.removeEventListener("keyup",I,d==null?void 0:d.eventListenerOptions),P.removeEventListener("keydown",T,d==null?void 0:d.eventListenerOptions),D&&lL(p,g==null?void 0:g.splitKey).forEach(function(E){return D.removeHotkey(cL(E,g==null?void 0:g.combinationKey,g==null?void 0:g.description))})}}},[i,p,g,y]),c}const NW=a.forwardRef((e,t)=>{const{name:n="q",...o}=e,s=a.useRef(null),i=a.useContext(kW),{onAuthoritiesChange:c}=i,u=a.useContext(Be),{authorities:d}=u,p=Ke(),{handleHomeClick:m,handleToggleDrawerOpen:f}=a.useContext(Sn),h=ru({inputRef:s,onChange:y=>{p.setValue(n,y)}});$t("ctrl+F9",h.handleFocus,{enableOnFormTags:!0});const g=$t("esc",h.handleClear,{enableOnFormTags:!0}),x=Ue({name:n});return a.useEffect(()=>{console.log(`q:${x}`)},[x]),a.useEffect(()=>{c(d,x)},[d,c,x]),r.jsx("div",{ref:g,children:r.jsx("form",{onSubmit:p.handleSubmit(i.onSubmit,i.onSubmitError),children:r.jsx(dxe,{name:n,ref:t,inputRef:s,onClear:h.handleClear,onHomeClick:m,onToggleDrawerOpen:f,...o})})})});NW.displayName="SideMenuSearchBarContainer";NW.propTypes={name:l.string};const bxe="/jota-t/assets/LightGreenWaves-Db1VvW9s.png",FW=a.memo(({size:e="lg",children:t,...n})=>{a.useMemo(()=>{switch(e){case"md":return"h4";case"sm":return"h5";case"lg":default:return"h3"}},[e]);const o=a.useMemo(()=>{switch(e){case"md":return 60;default:return 32}},[e]);return r.jsx(ve,{inline:!0,alignItems:"center",sx:{position:"absolute"},children:r.jsx(ve,{children:r.jsx("img",{height:o,src:"/jota-t/banner.png",alt:"logo"})})})});FW.propTypes={size:l.oneOf(["sm","md","lg"]),children:l.string};FW.displayName="AppBanner";const xxe=({children:e,sx:t=[]})=>r.jsx(jt,{sx:[...Array.isArray(t)?t:[t]],children:r.jsx(jt,{children:e})});xxe.propTypes={children:l.oneOfType([l.node,l.array,l.func]),sx:l.oneOfType([l.object,l.array])};const MW=a.memo(({children:e,height:t,title:n,sx:o=[],boxProps:s,...i})=>r.jsx(xxe,{sx:[...Array.isArray(o)?o:[o]],...i,children:r.jsxs(jt,{pt:2,px:2,children:[r.jsx(FW,{size:"md"}),r.jsx(ve,{justifyContent:"center",sx:{minHeight:t-50},...s,children:e}),r.jsx(ve,{fullWidth:!0,mt:1,justifyContent:"flex-end",children:r.jsx(nxe,{})})]})}));MW.propTypes={height:l.oneOfType([l.string,l.number]),title:l.string,children:l.node,sx:l.oneOfType([l.object,l.array])};MW.displayName="PublicPage";const _W=({title:e,...t})=>{const{height:n}=Wt();return a.useEffect(()=>{document.title=e?`() - ${e}`:"()"},[e]),r.jsx(MW,{title:e,height:n,...t})};_W.propTypes={title:l.string};const ck=a.memo(a.forwardRef((e,t)=>{const{title:n="",...o}=e;return r.jsx(_W,{ref:t,sx:{backgroundImage:`url(${bxe})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",minHeight:"100vh"},boxProps:{alignItems:"center"},...o,children:r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:n})})})})}));ck.propTypes={title:l.string};ck.displayName="LoadingFrame";const Hyt=it("main",{shouldForwardProp:e=>!["menuFloating","drawerWidth"].includes(e)})(({theme:e,menuFloating:t,drawerWidth:n})=>({flexGrow:1,overflow:"hidden",transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:`-${n}px`,...t&&{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}})),yxe=a.memo(a.forwardRef((e,t)=>{const{children:n,menuFloating:o=!0,drawerWidth:s=260,...i}=e;return r.jsx(Hyt,{ref:t,menuFloating:o,drawerWidth:s,...i,children:n})}));yxe.propTypes={children:l.oneOfType([l.element,l.array]),menuFloating:l.bool,drawerWidth:l.number,loading:l.bool};const Cxe=e=>{const{...t}=e,{drawerWidth:n,menuFloating:o}=a.useContext(Sn);return r.jsx(yxe,{menuFloating:o,drawerWidth:n,...t})};Cxe.displayName="AppFrameContainer";const LW=a.memo(a.forwardRef((e,t)=>{const{children:n,variant:o,width:s=260,open:i=!1,bgcolor:c,...u}=e,{mobile:d}=a.useContext(lc),p=a.useMemo(()=>o||d?"temporary":"persistent",[d,o]);return r.jsx(kQe,{ref:t,open:i,variant:p,sx:{width:s,flexShrink:0,"& .MuiDrawer-paper":{width:s,boxSizing:"border-box",...c&&{backgroundColor:c},overflow:"hidden"}},...u,children:n})}));LW.displayName="ResponsiveDrawer";LW.propTypes={children:l.oneOfType([l.element,l.array]),variant:l.oneOf(["persistent","temporary"]),width:l.number,open:l.bool,bgcolor:l.string};const Gyt=({bgcolor:e="#fff"}={})=>{const t=qs(),n=a.useMemo(()=>t.palette.getContrastText(e),[e,t.palette]),o=a.useContext(Sn),{handleSelect:s}=o,[i,c]=a.useState(),[u,d]=a.useState({visibleStartIndex:0,visibleStopIndex:0,bottomReached:!1}),p=a.useCallback(x=>{d({visibleStartIndex:x.visibleStartIndex,visibleStopIndex:x.visibleStopIndex,bottomReached:x.visibleStopIndex==((i==null?void 0:i.length)||1)-1})},[i==null?void 0:i.length]),m=a.useCallback((x,y)=>{var v,T;if(!y)return!0;const D=y.trim().toLowerCase();return((v=x.JobID)==null?void 0:v.toLowerCase().startsWith(D))||((T=x.JobName)==null?void 0:T.toLowerCase().includes(D))},[]),f=a.useCallback(x=>{console.log("onSubmit",x),(i==null?void 0:i.length)>0&&s(i[0])},[s,i]),h=a.useCallback(x=>{console.error("onSubmitError",x)},[]),g=a.useCallback((x,y)=>{c(y?x==null?void 0:x.filter(D=>m(D,y)).sort((D,v)=>{var T,I,P,E;return((T=D.JobID)==null?void 0:T.length)<((I=v.JobID)==null?void 0:I.length)?-1:((P=D.JobID)==null?void 0:P.length)>((E=v.JobID)==null?void 0:E.length)?1:D.Seq<v.Seq?-1:D.Seq>v.Seq?1:0}):x==null?void 0:x.filter(D=>m(D,y)))},[m]);return{filteredAuthorities:i,onAuthoritiesChange:g,onSubmit:f,onSubmitError:h,handleItemsRendered:p,...u,bgcolor:e,textColor:n}},Dxe=({children:e,bgcolor:t})=>{const n=Gyt({bgcolor:t}),o=at();return r.jsx(kW.Provider,{value:{...n},children:r.jsx(Ye,{...o,children:e})})};Dxe.propTypes={children:l.oneOfType([l.element,l.array]),bgcolor:l.string};const Sxe=e=>{const{drawerOpen:t,onDrawerClose:n,onDrawerOpen:o,drawerWidth:s=260,SearchBarComponent:i,menu:c}=e;return r.jsxs(ve,{sx:{overflow:"hidden"},children:[r.jsx(LW,{bgcolor:$c[100],anchor:"left",width:s,open:t,onClose:n,onOpen:o,children:r.jsxs(Dxe,{children:[i&&r.jsx(i,{}),c]})}),r.jsx(Cxe,{drawerWidth:s,children:r.jsx(Tde,{})})]})};Sxe.propTypes={drawerOpen:l.bool,onDrawerClose:l.func,onDrawerOpen:l.func,height:l.number,drawerWidth:l.number,SearchBarComponent:l.elementType,MenuComponent:l.elementType};const Kyt=({debounce:e=0}={})=>{const[t,n]=a.useState({scrollOffset:0,scrollDirection:null,yOffset:0}),o=Gr(t.scrollOffset,e),s=Gr(t.yOffset,e),i=a.useCallback(u=>{const d=(u==null?void 0:u.scrollOffset)||0;n(p=>({scrollOffset:d,yOffset:p.scrollOffset-d}))},[]),c=a.useCallback(()=>{n({scrollOffset:0,yOffset:0})},[]);return{scrollOffset:e>0?o:t.scrollOffset,yOffset:e>0?s:t.yOffset,onScroll:i,onReset:c}};var yv={},Lie;function Qyt(){if(Lie)return yv;Lie=1;var e=Qn();Object.defineProperty(yv,"__esModule",{value:!0}),yv.default=void 0;var t=e(sr()),n=rr();return yv.default=(0,t.default)((0,n.jsx)("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard"),yv}var Yyt=Qyt();const Jyt=qn(Yyt);var Cv={},$ie;function Xyt(){if($ie)return Cv;$ie=1;var e=Qn();Object.defineProperty(Cv,"__esModule",{value:!0}),Cv.default=void 0;var t=e(sr()),n=rr();return Cv.default=(0,t.default)((0,n.jsx)("path",{d:"M11 17h2v-1h1c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1h-3v-1h4V8h-2V7h-2v1h-1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h3v1H9v2h2zm9-13H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4V6h16z"}),"LocalAtm"),Cv}var Zyt=Xyt();const eCt=qn(Zyt);var Dv={},Bie;function tCt(){if(Bie)return Dv;Bie=1;var e=Qn();Object.defineProperty(Dv,"__esModule",{value:!0}),Dv.default=void 0;var t=e(sr()),n=rr();return Dv.default=(0,t.default)((0,n.jsx)("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8m0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4z"}),"Sync"),Dv}var nCt=tCt();const rCt=qn(nCt);var Sv={},Wie;function oCt(){if(Wie)return Sv;Wie=1;var e=Qn();Object.defineProperty(Sv,"__esModule",{value:!0}),Sv.default=void 0;var t=e(sr()),n=rr();return Sv.default=(0,t.default)((0,n.jsx)("path",{d:"m19.93 8.21-3.6 1.68L14 7.7V6.3l2.33-2.19 3.6 1.68c.38.18.82.01 1-.36.18-.38.01-.82-.36-1L16.65 2.6c-.38-.18-.83-.1-1.13.2l-1.74 1.6c-.18-.24-.46-.4-.78-.4-.55 0-1 .45-1 1v1H8.82C8.34 4.65 6.98 3.73 5.4 4.07c-1.16.25-2.15 1.25-2.36 2.43-.22 1.32.46 2.47 1.48 3.08L7.08 18H4v3h13v-3h-3.62L8.41 8.77c.17-.24.31-.49.41-.77H12v1c0 .55.45 1 1 1 .32 0 .6-.16.78-.4l1.74 1.6c.3.3.75.38 1.13.2l3.92-1.83c.38-.18.54-.62.36-1-.18-.37-.62-.54-1-.36M6 8c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1"}),"PrecisionManufacturing"),Sv}var sCt=oCt();const aCt=qn(sCt);var vv={},Uie;function iCt(){if(Uie)return vv;Uie=1;var e=Qn();Object.defineProperty(vv,"__esModule",{value:!0}),vv.default=void 0;var t=e(sr()),n=rr();return vv.default=(0,t.default)((0,n.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-7h2zm4 0h-2V7h2zm4 0h-2v-4h2z"}),"Assessment"),vv}var lCt=iCt();const cCt=qn(lCt);var jv={},qie;function uCt(){if(qie)return jv;qie=1;var e=Qn();Object.defineProperty(jv,"__esModule",{value:!0}),jv.default=void 0;var t=e(sr()),n=rr();return jv.default=(0,t.default)((0,n.jsx)("path",{d:"M4 16c0 .88.39 1.67 1 2.22V20c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h8v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1.78c.61-.55 1-1.34 1-2.22V6c0-3.5-3.58-4-8-4s-8 .5-8 4zm3.5 1c-.83 0-1.5-.67-1.5-1.5S6.67 14 7.5 14s1.5.67 1.5 1.5S8.33 17 7.5 17m9 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m1.5-6H6V6h12z"}),"DirectionsBus"),jv}var dCt=uCt();const pCt=qn(dCt);var Iv={},Vie;function mCt(){if(Vie)return Iv;Vie=1;var e=Qn();Object.defineProperty(Iv,"__esModule",{value:!0}),Iv.default=void 0;var t=e(sr()),n=rr();return Iv.default=(0,t.default)((0,n.jsx)("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2M1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2"}),"ShoppingCart"),Iv}var fCt=mCt();const hCt=qn(fCt);var Tv={},zie;function gCt(){if(zie)return Tv;zie=1;var e=Qn();Object.defineProperty(Tv,"__esModule",{value:!0}),Tv.default=void 0;var t=e(sr()),n=rr();return Tv.default=(0,t.default)((0,n.jsx)("path",{d:"m2 19.99 7.5-7.51 4 4 7.09-7.97L22 9.92l-8.5 9.56-4-4-6 6.01zm1.5-4.5 6-6.01 4 4L22 3.92l-1.41-1.41-7.09 7.97-4-4L2 13.99z"}),"StackedLineChart"),Tv}var bCt=gCt();const xCt=qn(bCt);var Ov={},Hie;function yCt(){if(Hie)return Ov;Hie=1;var e=Qn();Object.defineProperty(Ov,"__esModule",{value:!0}),Ov.default=void 0;var t=e(sr()),n=rr();return Ov.default=(0,t.default)([(0,n.jsx)("path",{d:"M5 8h2v8H5zm7 0H9c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1m-1 6h-1v-4h1zm7-6h-3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1m-1 6h-1v-4h1z"},"0"),(0,n.jsx)("path",{d:"M2 4v16h20V4zm2 14V6h16v12z"},"1")],"Money"),Ov}var CCt=yCt();const DCt=qn(CCt);var Ev={},Gie;function SCt(){if(Gie)return Ev;Gie=1;var e=Qn();Object.defineProperty(Ev,"__esModule",{value:!0}),Ev.default=void 0;var t=e(sr()),n=rr();return Ev.default=(0,t.default)([(0,n.jsx)("path",{d:"M5 5h2v3h10V5h2v5h2V5c0-1.1-.9-2-2-2h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h5v-2H5zm7-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1"},"0"),(0,n.jsx)("path",{d:"M20.3 18.9c.4-.7.7-1.5.7-2.4 0-2.5-2-4.5-4.5-4.5S12 14 12 16.5s2 4.5 4.5 4.5c.9 0 1.7-.3 2.4-.7l2.7 2.7 1.4-1.4zm-3.8.1c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5"},"1")],"ContentPasteSearch"),Ev}var vCt=SCt();const jCt=qn(vCt);var Pv={},Kie;function ICt(){if(Kie)return Pv;Kie=1;var e=Qn();Object.defineProperty(Pv,"__esModule",{value:!0}),Pv.default=void 0;var t=e(sr()),n=rr();return Pv.default=(0,t.default)((0,n.jsx)("path",{d:"M17 2H7c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m0 4H7V4h10zm3 16H4c-1.1 0-2-.9-2-2v-1h20v1c0 1.1-.9 2-2 2m-1.47-11.81C18.21 9.47 17.49 9 16.7 9H7.3c-.79 0-1.51.47-1.83 1.19L2 18h20zM9.5 16h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5m0-2h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5m0-2h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5m3 4h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5m0-2h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5m0-2h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5m3 4h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5m0-2h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5m0-2h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5"}),"PointOfSale"),Pv}var TCt=ICt();const OCt=qn(TCt);var Rv={},Qie;function ECt(){if(Qie)return Rv;Qie=1;var e=Qn();Object.defineProperty(Rv,"__esModule",{value:!0}),Rv.default=void 0;var t=e(sr()),n=rr();return Rv.default=(0,t.default)((0,n.jsx)("path",{d:"m3.5 18.49 6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"}),"ShowChart"),Rv}var PCt=ECt();const RCt=qn(PCt),wCt="menu-item",vxe={A00:Jyt,B00:eCt,C00:rCt,D00:aCt,E00:OCt,F00:jCt,G00:DCt,H00:xCt,H20:RCt,P00:hCt,PH01:pCt,U00:cCt},kCt=e=>e!=null&&e.JobID?vxe[e==null?void 0:e.JobID]:lhe,ACt=e=>{if(!e)return!1;const t=/^[a-zA-Z]00$/;return!!(!e.JobID||typeof e.JobID=="string"&&t.test(e.JobID)||typeof e.JobName=="string"&&e.JobName.startsWith(""))},NCt=e=>e?!!(!e.JobID&&e.JobName):!1,Tb={isHeader:ACt,isCustomHeader:NCt,GROUP_ICONS:vxe,getHeaderIcon:kCt,ITEM_CLASSNAME:wCt},jxe=a.createContext(),$W=a.memo(a.forwardRef((e,t)=>{const{disabled:n,value:o,sx:s=[],onClick:i,selected:c=!1,dense:u=!1,...d}=e;return r.jsx(Gpe,{ref:t,sx:[p=>({paddingTop:0,paddingBottom:0}),...Array.isArray(s)?s:[s]],selected:c,onClick:p=>i(p,o),disabled:n,...d,children:r.jsxs(ve,{inline:!0,fullWidth:!0,alignItems:"flex-start",children:[r.jsx(ve,{pt:u?"0px":"5px",pr:1,justifyContent:"flex-end",sx:{width:"2.5rem"},children:r.jsx(nn,{sx:{...u&&{fontSize:"14px"}},fontWeight:c?700:200,children:o.JobID})}),r.jsx(ve,{flex:1,sx:[{borderBottom:"1px solid rgba(0, 0, 0, 0.2)"}],children:r.jsx(y3,{primary:o.JobName,primaryTypographyProps:{fontSize:u?14:16},sx:[{color:n?"text.secondary":"text.primary","& .MuiTypography-root":{fontWeight:c?800:400},...u&&{marginTop:0,marginBottom:0}},ur.ELLIPSIS]})})]})})}));$W.propTypes={value:l.object.isRequired,sx:l.oneOfType([l.array,l.object]),onClick:l.func,selected:l.bool,dense:l.bool};$W.displayName="FrameMenuItemButton";const BW=e=>{const{value:t,...n}=e,{handleMenuItemClick:o,menuItemSelected:s}=a.useContext(Sn),i=a.useMemo(()=>(s==null?void 0:s.JobID)===t.JobID,[s,t.JobID]);return r.jsx($W,{value:t,onClick:o,selected:i,disabled:!t.WebName,...n})};BW.displayName="FrameMenuItemButtonContainer";BW.propTypes={value:l.object.isRequired};const WW=a.memo(a.forwardRef((e,t)=>{const{index:n,style:o,data:s}=e,i=s[n],c=a.useMemo(()=>Tb.isHeader(i),[i]),u=a.useContext(jxe),{dense:d}=u;return r.jsx("div",{ref:t,className:Tb.ITEM_CLASSNAME,style:{...o},children:r.jsx(Qpe,{dense:!0,disablePadding:!0,children:c?r.jsx(Mw,{iconComponent:Tb.getHeaderIcon(i),text:i.JobName,dense:d}):r.jsx(BW,{value:i,dense:d})})})}));WW.propTypes={index:l.number,style:l.object,data:l.array};WW.displayName="RWFrameMenuRow";const FCt=8;a.forwardRef(({style:e,...t},n)=>r.jsx("div",{ref:n,style:{...e,height:`${parseFloat(e.height)+FCt*2}px`},...t}));const UW=a.memo(e=>{const{height:t=300,width:n=260,data:o,loading:s,error:i,itemCount:c,bottomReached:u,scrollOffset:d,onScroll:p,onItemsRendered:m,dense:f=!1}=e,h=a.useMemo(()=>f?26:34,[f]);return s?r.jsx(Cr,{children:"..."}):i?r.jsx(TD,{error:i}):r.jsx("div",{className:_b("rw-shadow",{"rw-bottom-shadow":!u}),children:r.jsx(Lhe,{onScroll:p,className:_b("rw-scrollable",{"rw-top-shadow":d>0}),height:t,itemCount:c,itemSize:h,itemData:o,width:n-1,onItemsRendered:m,children:WW})})});UW.propTypes={height:l.number,width:l.number,itemCount:l.number,data:l.array,loading:l.bool,bottomReached:l.bool,error:l.object,dense:l.bool};UW.displayName="RWFrameMenuView";const Ixe=e=>{var f;const{dense:t=!1,...n}=e,{authoritiesLoading:o,authoritiesError:s}=a.useContext(Be),{height:i}=Wt(),c=a.useContext(kW),{drawerWidth:u}=a.useContext(Sn),{scrollOffset:d,onScroll:p}=Kyt({debounce:0}),m=a.useMemo(()=>({dense:t}),[t]);return r.jsx(jxe.Provider,{value:m,children:r.jsx(UW,{dense:t,onScroll:p,scrollOffset:d,height:i-56,data:c.filteredAuthorities,loading:o,error:s,width:u,itemCount:((f=c.filteredAuthorities)==null?void 0:f.length)||0,onItemsRendered:c.handleItemsRendered,bottomReached:c.bottomReached,...n})})};Ixe.displayName="RWFrameMenuContainer";const MCt=e=>{const{...t}=e,{drawerWidth:n,drawerOpen:o,handleDrawerClose:s,handleDrawerOpen:i}=a.useContext(Sn),{validating:c}=a.useContext(Be);return c!==!1?r.jsx(ck,{title:"..."}):r.jsx(Sxe,{onDrawerClose:s,onDrawerOpen:i,drawerOpen:o,drawerWidth:n,SearchBarComponent:NW,menu:r.jsx(Ixe,{}),...t})},_Ct=8,LCt=()=>{const[e,t]=a.useState({}),n=a.useCallback((u,d)=>{t(p=>({...p,[u]:d})),Ad.info(`[${u}] ${(d==null?void 0:d.length)??0} shared option(s) set`)},[]),o=a.useCallback(u=>e[u]||[],[e]),s=a.useCallback(u=>{const d=e[u];return!!d&&d.length>0},[e]),i=a.useCallback(({includes:u,excludes:d}={})=>{u!=null&&d!=null&&Ad.warn("resetOptions(): cannot use includes and excludes at the same time, excludes will be ignored"),t(p=>{if(Array.isArray(u)&&u.length>0){const m={...p};return u.forEach(f=>{delete m[f],Ad.warn(`shared option(s) [${f}] cleared, others are keeped`)}),m}if(Array.isArray(d)&&d.length>0){const m={};return d.forEach(f=>{Object.prototype.hasOwnProperty.call(p,f)&&(m[f]=p[f],Ad.warn(`shared options [${f}] keeped, others are cleared`))}),m}return Ad.warn("all shared options cleared"),{}})},[]);return{renderRow:a.useCallback(u=>{const{data:d,index:p,style:m}=u,f=d[p],h=f[0],g=f[1],x={...m,top:m.top+_Ct};return f.group!==void 0?r.jsx(uw,{component:"div",style:x,children:f.group},f.key):r.jsx(nn,{component:"li",...h,noWrap:!0,style:x,children:g})},[]),getOptions:o,updateOptions:n,hasOptions:s,resetOptions:i}},qW=({children:e,...t})=>{const n=LCt();return r.jsx(Fw.Provider,{value:{...n,...t},children:e})};qW.propTypes={children:l.oneOfType([l.array,l.object])};const Txe=(e={})=>{var Q,V,W,U;const{drawerWidth:t=300}=e,n=a.useContext(Be),{mobile:o}=a.useContext(lc),{toModule:s,toLanding:i}=nm(),c=Hd(),u=a.useMemo(()=>new URLSearchParams(c.search).get("drawer"),[c.search]),{httpPostAsync:d}=Zn(),[p,m]=a.useState({drawerOpen:null,drawerWidth:t}),[f,h]=a.useState({menuItems:null,menuLoading:null,menuItemSelected:null}),g=a.useCallback(()=>{var X,te;(X=f.menuItemSelected)!=null&&X.WebName&&s((te=f.menuItemSelected)==null?void 0:te.WebName)},[(Q=f.menuItemSelected)==null?void 0:Q.WebName,s]),x=a.useCallback(async()=>{var he;const{status:X,payload:te,error:se}=await d({url:"v1/auth/spawn",bearer:n.token,data:{dept:(he=n.operator)==null?void 0:he.CurDeptID}});if(X.success)return console.log("spawn result",te),te==null?void 0:te.LogKey;throw se??new Error("")},[(V=n.operator)==null?void 0:V.CurDeptID,n.token,d]),y=X=>{X==null||X.stopPropagation(),m(te=>({...te,drawerOpen:!te.drawerOpen}))},D=(X=!0)=>{m(te=>({...te,drawerOpen:X}))},v=a.useCallback(()=>{D(!1)},[]),T=a.useMemo(()=>o&&p.drawerOpen,[p.drawerOpen,o]),I=a.useCallback((X,te)=>{h(se=>({...se,menuItemSelected:X})),console.log(`handleSelect module ${(X==null?void 0:X.JobID)||null} selected`),X!=null&&X.WebName&&(s(X==null?void 0:X.WebName,te),T&&v())},[T,v,s]),P=a.useCallback(async(X,te)=>{if(console.log("handleMenuItemClick",te),X.ctrlKey||X.shiftKey){console.log("module",te),X.preventDefault(),X.stopPropagation();try{const se=await x();console.log("newLogKey",se);const he=`/jota-t/modules/${te.WebName}`,pe=Hr.stringify({drawer:0,...se&&{LogKey:se}}),ue=he+(pe?`?${pe}`:"");console.log("finalUrl",ue);const ge=window.open(ue,"_blank");ge?ge.focus():ae.error("")}catch(se){ae.error("",se)}}else I(te)},[I,x]),E=a.useCallback((X,te)=>{const se=n.authorities.find(he=>he.JobID===X);se&&I(se,te)},[n.authorities,I]),k=a.useCallback(()=>{h(X=>({...X,menuItemSelected:null})),console.log("home clicked"),i()},[i]),w=a.useCallback(()=>{const X=!o&&u!=0;console.log(`drawer default to ${X?"opened":"closed"}`),m(te=>({...te,drawerOpen:X}))},[u,o]),A=a.useMemo(()=>o||p.drawerOpen,[p.drawerOpen,o]),F=a.useMemo(()=>o||!p.drawerOpen,[p.drawerOpen,o]);a.useEffect(()=>{console.log(`mobile: ${o}`)},[o]),a.useEffect(()=>{p.drawerOpen===null&&w()},[w,p.drawerOpen,o]);const _=Z4e("/modules/:moduleId"),L=a.useMemo(()=>{var X;return(X=_==null?void 0:_.params)==null?void 0:X.moduleId},[(W=_==null?void 0:_.params)==null?void 0:W.moduleId]),K=a.useCallback(()=>{console.log("resetMenuState"),h(X=>({...X,menuItemSelected:null}))},[]),z=a.useCallback((X,te)=>[`[${n.operator.CurDeptName}]`,X,te==null?void 0:te.JobName].filter(Boolean).join("-"),[(U=n.operator)==null?void 0:U.CurDeptName]),J=a.useCallback(X=>{var se;console.log(`recoverMenuItemSelected(${X})`);const te=X?(se=n.authorities)==null?void 0:se.find(he=>he.JobID===X):null;h(he=>({...he,menuItemSelected:te})),document.title=z(X,te)},[n.authorities,z]);return a.useEffect(()=>{n.authorities&&J(L)},[n.authorities,L,J]),{...p,drawerFloating:T,handleToggleDrawerOpen:y,handleDrawerOpen:D,handleDrawerClose:v,menuFloating:A,isFrameMenuButtonVisibled:F,mobile:o,...f,handleMenuItemClick:P,handleHomeClick:k,resetMenuState:K,handleSelect:I,selectJobById:E,detectDrawerState:w,clearParams:g}},Oxe=e=>{const{children:t,drawerWidth:n}=e,o=Txe({drawerWidth:n});return r.jsx(Sn.Provider,{value:{...o},children:t})};Oxe.propTypes={children:l.oneOfType([l.element,l.array]),drawerWidth:l.number};const Exe=()=>r.jsx(qW,{children:r.jsx(sxe,{children:r.jsx(Oxe,{drawerWidth:300,children:r.jsx(axe,{children:r.jsx(MCt,{})})})})}),ZT=a.memo(a.forwardRef((e,t)=>{const{children:n,justifyContent:o,alignItems:s,fullHeight:i=!1,sx:c=[],...u}=e,d=a.useMemo(()=>({display:"flex",...o&&{justifyContent:o},...s&&{alignItems:s},...i&&{height:"100vh"}}),[s,i,o]);return r.jsx(Br,{ref:t,sx:[d,...Array.isArray(c)?c:[c]],...u,children:n})}));ZT.propTypes={children:l.oneOfType([l.array,l.object]),sx:l.oneOfType([l.array,l.object]),justifyContent:l.oneOf(["flex-start","center","flex-end"]),alignItems:l.oneOf(["flex-start","center","flex-end"]),fullHeight:l.bool};ZT.displayName="FlexContainer";const hT=a.memo(({title:e,message:t,severity:n="info",alertProps:o,containerProps:s})=>r.jsx(ZT,{maxWidth:"sm",alignItems:"center",justifyContent:"center",fullHeight:!0,...s,children:r.jsx(jt,{children:r.jsxs(nu,{severity:n,...o,sx:{boxShadow:`
								1px 1px 8px rgb(0 0 0 / 9%)
								, -2px 0px 5px rgb(0 0 0 / 0%)
							`,paddingLeft:4,paddingRight:6},children:[r.jsx(lw,{children:e}),t]})})}));hT.displayName="InfoPage";hT.propTypes={title:l.string,message:l.string,severity:l.string,alertProps:l.object,containerProps:l.object};const $Ct=()=>{const{httpGetAsync:e}=Zn(),{token:t}=a.useContext(Be),n=Txe(),{selectJobById:o}=n,[s,i]=a.useState({reviewData:null,reviewDataError:null,reviewLoading:null}),c=a.useCallback(async()=>{try{i(f=>({...f,reviewLoading:!0}));const{status:d,payload:p,error:m}=await e({url:"v1/auth/to-review",bearer:t});if(d.success)i(f=>({...f,reviewDataError:null,reviewData:p}));else throw m||new Error("")}catch(d){i(p=>({...p,reviewDataError:d}))}finally{i(d=>({...d,reviewLoading:!1}))}},[e,t]),u=a.useCallback(d=>{o(d.module,d.params)},[o]);return{...s,getReview:c,handleReviewItemClick:u}},Pxe=({children:e})=>{const t=$Ct();return r.jsx(Q3.Provider,{value:{...t},children:e})};Pxe.propTypes={children:l.oneOfType([l.array,l.object])};const BCt=()=>{var s;const e=a.useContext(Be),t=a.useContext(Sn),n=so({url:"v1/my/messages",bearer:e.token,initialFetchSize:50}),o=a.useCallback(i=>{var d;console.log("handleGotoJob",i);const c=(i==null?void 0:i.jobID)||(i==null?void 0:i.JobID),u=(i==null?void 0:i.id)||(i==null?void 0:i.ID);if(c){const p=i==null?void 0:i.DeptID,m=i==null?void 0:i.AbbrName;if(((d=e.operator)==null?void 0:d.CurDeptID)!==p){ae.error(`[${m}]`);return}t.selectJobById(c,{...u&&{target:u}})}},[t,(s=e.operator)==null?void 0:s.CurDeptID]);return{...n,handleGotoJob:o}},uk=a.createContext(),Rxe=({children:e})=>{const t=BCt();return r.jsx(uk.Provider,{value:{...t},children:e})};Rxe.propTypes={children:l.oneOfType([l.array,l.object])};const WCt=Object.freeze({PARAM_TAB:"tab"}),UCt=Object.freeze({COOKIE_DOWNLOAD_PROMPT:"downloadPrompt"}),qCt="/",VCt="",zCt=Object.freeze({CHANGE_PWORD:"pwd",INSTRUCTION:"noti",MENU:"menu"}),al={Keys:UCt,Tabs:zCt,MSG_INSTRUCT:VCt,MSG_REMIND:qCt,...WCt},HCt=()=>{const{token:e,operator:t,renewLogKey:n}=a.useContext(Be),[o,s]=Ode(),{httpPostAsync:i,httpPatchAsync:c}=Zn(),[u,d]=a.useState(!1),p=Or(),{working:m}=p,f=Or(),{prompt:h,start:g,finish:x,fail:y,working:D,prompting:v}=f,T=a.useCallback((_,L)=>{s(K=>({...K,tab:L}))},[s]),I=a.useCallback(({setError:_,reset:L})=>async K=>{console.log("onVerifySubmit",K),console.log("operator",t),p.start();try{const{status:z,payload:J,error:Q}=await i({mode:"form",url:"/v1/auth/signin",data:{ac:t.LoginName,pw:K.ogPword}});if(z.success)n(J.LogKey),d(!0),p.finish(),L({newPword:"",newPword2:""});else throw Q||new Error("")}catch(z){ae.error("",z),_("ogPword",{type:"manual",message:""}),p.fail({error:z})}},[i,t,n,p]),P=a.useCallback(_=>{console.error("onVerifySubmitError",_)},[]),E=a.useCallback(({setError:_,reset:L})=>async K=>{if(console.log("onChangePwordSubmit",K),(K==null?void 0:K.newPword)!==(K==null?void 0:K.newPword2)){_("newPword2",{type:"manual",message:""});return}try{g();const{status:z,payload:J,error:Q}=await c({url:"v1/auth/change-pword",bearer:e,data:{newPword:K.newPword}});if(z.success)ae.success(""),x(),n(J.LogKey),L({newPword:"",newPword2:""});else throw Q??new Error("")}catch(z){ae.error("",z),y(z)}},[y,x,c,n,g,e]),k=a.useCallback(_=>{console.error("onChangePwordSubmitError",_)},[]),w=a.useMemo(()=>u?D:m,[D,u,m]),A=a.useCallback(_=>{console.log("handleDownloadPromptChange",_),Ua.set(al.Keys.COOKIE_DOWNLOAD_PROMPT,_?1:0)},[]),F=a.useCallback(()=>Ua.get(al.Keys.COOKIE_DOWNLOAD_PROMPT)==0,[]);return a.useEffect(()=>{o.has("tab")||s(_=>({..._,tab:al.Tabs.CHANGE_PWORD}))},[o,s]),{searchParams:o,handleTabChange:T,verified:u,promptChanging:h,verifying:m,onVerifySubmit:I,onVerifySubmitError:P,onChangePwordSubmit:E,onChangePwordSubmitError:k,loading:w,handleDownloadPromptChange:A,isDownloadPromptDisabled:F}},dk=a.createContext(),wxe=({children:e})=>{const t=a.useContext(Be),{token:n,operator:o}=t,s=HCt();return r.jsx(dk.Provider,{value:{...t,...s},children:e})};wxe.propTypes={children:l.oneOfType([l.array,l.object])};var wv={},Yie;function GCt(){if(Yie)return wv;Yie=1;var e=Qn();Object.defineProperty(wv,"__esModule",{value:!0}),wv.default=void 0;var t=e(sr()),n=rr();return wv.default=(0,t.default)((0,n.jsx)("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8z"}),"Login"),wv}var KCt=GCt();const pk=qn(KCt),Et=it(Br,{shouldForwardProp:e=>!["alignLeft"].includes(e)})(({alignLeft:e=!1})=>({...e&&{"&":{marginLeft:0,paddingLeft:0},"& .MuiPaper-root":{justifyContent:"flex-start"}}}));Et.displayName="ContainerEx";const VW=a.memo(e=>{const{loading:t=!1,verified:n,...o}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(jt,{pt:3,children:r.jsxs("form",{...o,noValidate:!0,children:[n?r.jsxs(r.Fragment,{children:[r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,children:r.jsx(Ud,{name:"newPword",fullWidth:!0,label:"",type:"password",autoFocus:!0,placeholder:"",required:!0,size:"small",rules:{required:""},sx:{"& .MuiInputBase-root":{backgroundColor:"#fff"}}})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(Ud,{name:"newPword2",fullWidth:!0,label:"",type:"password",placeholder:"",required:!0,size:"small",rules:{required:""},sx:{"& .MuiInputBase-root":{backgroundColor:"#fff"}}})})]}),r.jsx(Yp,{children:"* "})]}):r.jsxs(r.Fragment,{children:[r.jsx(j,{container:!0,spacing:2,children:r.jsx(j,{item:!0,xs:12,children:r.jsx(Ud,{name:"ogPword",type:"password",fullWidth:!0,label:"",autoFocus:!0,placeholder:"",required:!0,size:"small",rules:{required:""},sx:{"& .MuiInputBase-root":{backgroundColor:"#fff"}}})})}),r.jsx(Yp,{children:"* "})]}),r.jsx(ve,{fullWidth:!0,justifyContent:"flex-end",mt:2,mb:1,sx:{"& button":{marginLeft:1}},children:r.jsx(dt,{responsive:!0,type:"submit",variant:"contained",size:"small",loading:t,endIcon:r.jsx(pk,{}),children:""})})]})})})});VW.propTypes={loading:l.bool,verified:l.bool};VW.displayName="ChangePwordForm";const kxe=()=>{const e=a.useContext(dk),t=at({defaultValues:{newPword:"",newPword2:""}}),{setError:n,reset:o}=t;return r.jsx(Ye,{...t,children:r.jsx(VW,{verified:e.verified,loading:e.loading,onSubmit:e.verified?t.handleSubmit(e.onChangePwordSubmit({setError:n,reset:o}),e.onChangePwordSubmitError):t.handleSubmit(e.onVerifySubmit({setError:n,reset:o}),e.onVerifySubmitError)})})};kxe.displayName="ChangePwordFormContainer";const zW=a.memo(e=>{const{handleDownloadPromptChange:t,...n}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(jt,{pt:3,children:r.jsx("form",{...n,noValidate:!0,children:r.jsx(xr,{name:"downloadPrompt",label:"",onChange:t})})})})});zW.propTypes={handleDownloadPromptChange:l.func,loading:l.bool,verified:l.bool};zW.displayName="InstructionForm";const Axe=()=>{const e=a.useContext(dk),t=at({defaultValues:{downloadPrompt:!0}}),{reset:n}=t;return En(()=>{n({downloadPrompt:!e.isDownloadPromptDisabled()})},[]),r.jsx(Ye,{...t,children:r.jsx(zW,{handleDownloadPromptChange:e.handleDownloadPromptChange})})};Axe.displayName="InstructionFormContainer";const Df=a.createContext(),QCt="active",YCt="unused",Ld={SELECTED:QCt,UNUSED:YCt};var kv={},Jie;function JCt(){if(Jie)return kv;Jie=1;var e=Qn();Object.defineProperty(kv,"__esModule",{value:!0}),kv.default=void 0;var t=e(sr()),n=rr();return kv.default=(0,t.default)((0,n.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5 11h-4v4h-2v-4H7v-2h4V7h2v4h4z"}),"AddCircle"),kv}var XCt=JCt();const Nxe=qn(XCt);var Av={},Xie;function ZCt(){if(Xie)return Av;Xie=1;var e=Qn();Object.defineProperty(Av,"__esModule",{value:!0}),Av.default=void 0;var t=e(sr()),n=rr();return Av.default=(0,t.default)((0,n.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),Av}var eDt=ZCt();const eO=qn(eDt),uC=a.memo(e=>{const{item:t,type:n,onHeaderEdit:o,sx:s=[],...i}=e,c=a.useMemo(()=>Tb.isHeader(t),[t]),u=a.useMemo(()=>Tb.isCustomHeader(t),[t]),d=a.useMemo(()=>{const{JobID:f,JobName:h}=t;return c?h:[f,h].filter(Boolean).join(" ")},[c,t]),p=a.useMemo(()=>n===Ld.UNUSED?r.jsx(Nxe,{}):null,[n]),m=a.useMemo(()=>u?r.jsx(br,{size:"small",onClick:o,sx:f=>{const h=f.palette.getContrastText(f.palette.primary.main);return{color:Ti(h,.6),"&:hover":{color:h}}},children:r.jsx(eO,{fontSize:"small"})}):null,[o,u]);return r.jsx(AC,{square:!0,label:d,fullWidth:!0,...c&&{color:"primary"},sx:[f=>({}),...Array.isArray(s)?s:[s]],...i,deleteIcon:p,secondIcon:m})});uC.propTypes={item:l.object,name:l.string.isRequired,type:l.string,onHeaderEdit:l.func};uC.displayName="JobField";const HW=e=>{const{item:t,...n}=e,{handleDelete:o,handleHeaderEdit:s}=a.useContext(Df),i=a.useCallback(u=>{u.preventDefault(),u.stopPropagation(),o(t)},[o,t]),c=a.useCallback(u=>{u.preventDefault(),u.stopPropagation(),s(t)},[s,t]);return r.jsx(uC,{item:t,onDelete:i,onHeaderEdit:c,...n})};HW.propTypes={item:l.object};HW.displayName="JobMenuItemContainer";const tDt=it("ul")(({theme:e})=>({listStyle:"none",width:"100%",padding:"0 4px 0 4px",margin:0,flexWrap:"wrap"})),nDt=it("li")(({theme:e})=>({marginTop:"4px",marginBottom:"4px","& .MuiChip-label":{flexGrow:1}})),GW=a.memo(e=>{const{items:t,droppableId:n,onDelete:o,height:s,loading:i=!1,...c}=e,u=Qr({height:s,alwaysShowTrack:!0,alwaysShowThumb:!0});return r.jsx(_s,{elevation:2,sx:[d=>({"& .drag-item":{}}),u.scroller],...c,children:r.jsx(JT,{droppableId:n,children:d=>i?r.jsxs(jt,{ref:d.innerRef,m:2,children:[r.jsx(Cr,{children:"..."})," "]}):r.jsx("div",{ref:d.innerRef,...d.droppableProps,style:{minHeight:"100%"},children:r.jsx(ve,{fullWidth:!0,children:r.jsxs(tDt,{children:[t==null?void 0:t.map((p,m)=>r.jsx(Zw,{draggableId:p.id,index:m,children:f=>r.jsx("div",{ref:f.innerRef,className:"drag-item",children:r.jsx(nDt,{children:r.jsx(HW,{...f.draggableProps,...f.dragHandleProps,item:p,type:Ld.SELECTED})})})},p.id)),d.placeholder]})})})})})});GW.propTypes={droppableId:l.string.isRequired,items:l.array,onDelete:l.func,height:l.number,loading:l.bool};GW.displayName="JobMenuActiveItems";const Fxe=e=>{const{...t}=e,n=a.useContext(Df);return r.jsx(GW,{items:n.selectedFields,droppableId:Ld.SELECTED,loading:n.menuLoading,onDelete:n.handleDelete,...t})};Fxe.displayName="JobMenuActiveItemsContainer";const rDt=it("ul")(({theme:e})=>({listStyle:"none",width:"100%",padding:"0 4px 0 4px",margin:0,flexWrap:"wrap"})),uL=it("li")(({theme:e})=>({marginTop:"4px",marginBottom:"4px","& .MuiChip-label":{flexGrow:1}})),KW=a.memo(e=>{const{onDelete:t,items:n,isAdded:o,droppableId:s,height:i,loading:c=!1,...u}=e,d=Qr({height:i,alwaysShowTrack:!0,alwaysShowThumb:!0}),p=a.useCallback((m,f,h)=>{const g=n[h.source.index];return r.jsx("div",{ref:m.innerRef,children:r.jsx(uL,{children:r.jsx(uC,{...m.draggableProps,...m.dragHandleProps,className:f.isDragging?"dragging":"",item:g,type:Ld.UNUSED})})})},[n]);return r.jsx(_s,{elevation:2,sx:[d.scroller],...u,children:r.jsx(JT,{droppableId:s,isDropDisabled:!0,renderClone:p,children:(m,f)=>c?r.jsxs(jt,{ref:m.innerRef,m:2,children:[r.jsx(Cr,{children:"..."})," "]}):r.jsx("div",{ref:m.innerRef,...m.droppableProps,style:{minHeight:"100%"},children:r.jsx(ve,{fullWidth:!0,children:r.jsxs(rDt,{children:[n==null?void 0:n.map((h,g)=>{const x=h.id===f.draggingFromThisWith,y=o(h);return r.jsx(a.Fragment,{children:x?r.jsx(uL,{children:r.jsx(uC,{...m.draggableProps,...m.dragHandleProps,item:h,type:Ld.UNUSED})}):r.jsx(Zw,{draggableId:h.id,index:g,children:D=>r.jsx("div",{ref:D.innerRef,children:r.jsx(uL,{children:r.jsx(uC,{...D.draggableProps,...D.dragHandleProps,item:h,type:Ld.UNUSED,onDelete:y?null:v=>{v.preventDefault(),v.stopPropagation(),t(h)}})})})})},h.id)}),m.placeholder]})})})})})});KW.propTypes={droppableId:l.string.isRequired,items:l.array,onDelete:l.func,isAdded:l.func,height:l.number,loading:l.bool};KW.displayName="JobMenuAuthItems";const Mxe=e=>{const t=a.useContext(Df),{...n}=e,o=a.useCallback(s=>t.selectedFields.some(i=>i.JobID===s.JobID),[t.selectedFields]);return r.jsx(KW,{items:t.fields,isAdded:o,droppableId:Ld.UNUSED,loading:t.fieldsLoading,onDelete:t.handleAdd,...n})};Mxe.displayName="JobMenuAuthItemsContainer";const $$=a.memo(e=>{const{...t}=e;return r.jsx(nn,{variant:"subtitle2",sx:{fontWeight:600},...t})});$$.displayName="SectionLabel";const QW=a.memo(e=>{const{onDragEnd:t,height:n}=e;return r.jsx(gbe,{onDragEnd:t,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsxs(j,{item:!0,xs:6,children:[r.jsx($$,{children:""}),r.jsx(Mxe,{height:n})]}),r.jsxs(j,{item:!0,xs:6,children:[r.jsx($$,{children:""}),r.jsx(Fxe,{height:n})]})]})})});QW.propTypes={onDragEnd:l.func,height:l.number,onSubmit:l.func};QW.displayName="JobMenuForm";const _xe=e=>{const{...t}=e,n=a.useContext(Df);return En(()=>{n.loadDef()},[]),r.jsx(QW,{onDragEnd:n.handleDragEnd,...t})};_xe.displayName="JobMenuFormContainer";const kn=a.memo(a.forwardRef((e,t)=>{const{alignItems:n="center",align:o="left",children:s,leftComponents:i,LeftComponent:c,RightComponent:u,rightComponents:d,componentProps:p={},LeftProps:m,RightProps:f,boxSx:h=[],bgcolor:g,minHeight:x=37,borderRadius:y=1,...D}=e,v=a.useMemo(()=>c||i,[c,i]),T=a.useMemo(()=>u||d,[u,d]),I=a.useMemo(()=>v&&!T?1:null,[v,T]),P=a.useMemo(()=>T&&!v?1:null,[v,T]);return r.jsxs(ve,{ref:t,inline:!0,fullWidth:!0,alignItems:n,p:.5,sx:[E=>({...x&&{minHeight:x},...g&&{backgroundColor:g},...y&&{borderRadius:y},"& .MuiInputBase-root":{backgroundColor:"rgb(255,255,255)"},"& .MuiInputBase-root, .MuiButton-outlined":{backgroundColor:"rgba(255,255,255, 0.8)"}}),...Array.isArray(h)?h:[h]],...D,children:[r.jsxs(ve,{pr:1,alignItems:"center",justifyContent:"flex-start",...I&&{flex:I},sx:[E=>({gap:E.spacing(.5)})],...m,children:[c&&r.jsx(c,{...p}),i,o==="left"&&s]}),r.jsxs(ve,{pl:1,alignItems:"center",justifyContent:"flex-end",flex:1,...P&&{flex:P},sx:[E=>({gap:E.spacing(.5)})],...f,children:[u&&r.jsx(u,{...p}),d,o==="right"&&s]})]})}));kn.displayName="FlexToolbar";kn.propTypes={align:l.oneOf(["left","right","center"]),bgcolor:l.string,borderRadius:l.oneOfType([l.string,l.number]),minHeight:l.oneOfType([l.string,l.number]),leftComponents:l.element,LeftComponent:l.oneOfType([l.func,l.elementType]),RightComponent:l.oneOfType([l.func,l.elementType]),rightComponents:l.element,componentProps:l.object,LeftProps:l.object,RightProps:l.object,boxSx:l.oneOfType([l.array,l.object])};var Nv={},Zie;function oDt(){if(Zie)return Nv;Zie=1;var e=Qn();Object.defineProperty(Nv,"__esModule",{value:!0}),Nv.default=void 0;var t=e(sr()),n=rr();return Nv.default=(0,t.default)([(0,n.jsx)("path",{d:"M17.59 18 19 16.59 14.42 12 19 7.41 17.59 6l-6 6z"},"0"),(0,n.jsx)("path",{d:"m11 18 1.41-1.41L7.83 12l4.58-4.59L11 6l-6 6z"},"1")],"KeyboardDoubleArrowLeft"),Nv}var sDt=oDt();const Lxe=qn(sDt),YW=e=>{const{children:t="",...n}=e,o=a.useContext(Df);return r.jsx(dt,{responsive:!0,variant:"contained",color:"neutral",endIcon:r.jsx(Lxe,{}),onClick:o.handleRemoveAllFields,...n,children:t})};YW.propTypes={children:l.oneOfType([l.node,l.array])};YW.displayName="JobMenuRemoveAllFieldsButtonContainer";var Fv={},ele;function aDt(){if(ele)return Fv;ele=1;var e=Qn();Object.defineProperty(Fv,"__esModule",{value:!0}),Fv.default=void 0;var t=e(sr()),n=rr();return Fv.default=(0,t.default)((0,n.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save"),Fv}var iDt=aDt();const AD=qn(iDt),$xe=()=>{const e=a.useContext(Df);return r.jsx(dt,{responsive:!0,variant:"contained",color:"warning",startIcon:r.jsx(AD,{}),onClick:e.handleSave,loading:e.saveWorking,children:""})};$xe.displayName="JobMenuSaveButtonContainer";const lDt=()=>r.jsx(YW,{}),cDt=()=>r.jsx(r.Fragment,{children:r.jsx($xe,{})}),JW=e=>{const{...t}=e;return r.jsx(kn,{bgcolor:Nn.TOOLBAR,LeftComponent:lDt,RightComponent:cDt,...t})};JW.propTypes={};JW.displayName="JobMenuFrameToolbar";const uDt="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let zn=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=uDt[n[e]&63];return t};const dDt=()=>{const{httpGetAsync:e,httpPutAsync:t}=Zn(),n=a.useContext(Be),o=a.useContext(Mr),{operator:s,token:i}=n,[c,u]=a.useState({displayName:null,fields:null,fieldsLoading:null,fieldsError:null,selectedFields:null,menuLoading:!1}),d=Or(),p=a.useMemo(()=>!!d.state,[d.state]),m=a.useCallback(()=>{d.prompt()},[d]),f=a.useCallback(()=>{d.clear()},[d]),h=a.useCallback(async _=>{u(L=>({...L,menuLoading:!0}));try{const{status:L,payload:K,error:z}=await e({url:"v1/user/settings/menu",bearer:i});if(L.success){const J=K.map(Q=>{if(Q.startsWith("@"))return{id:zn(),JobName:Q.slice(1)};const V=_.find(W=>W.JobID===Q);return V?{...V,id:zn()}:null}).filter(Boolean);u(Q=>({...Q,selectedFields:J,menuLoading:!1}))}else throw z||new Error("")}catch(L){console.error(L),L.status==404?ae.info(""):ae.error("")}finally{u(L=>({...L,menuLoading:!1}))}},[e,i]),g=a.useCallback(async()=>{u(_=>({..._,fieldsLoading:!0,fields:[]}));try{const{status:_,payload:L,error:K}=await e({url:"v1/auth/authorities",bearer:i});if(_.success){const z=L.map(J=>({...J,id:zn()}))||[];u(J=>({...J,fields:z,selectedFields:[]})),h(z)}else throw K||new Error("")}catch(_){u(L=>({...L,fieldsError:_}))}finally{u(_=>({..._,fieldsLoading:!1}))}},[e,h,i]),x=a.useCallback(_=>{console.log("handleDragEnd",_);const{source:L,destination:K}=_;if(K){if(K.droppableId===Ld.SELECTED&&L.droppableId===Ld.UNUSED){const z=L.index,J=K.index,Q=c.fields,V=c.selectedFields,W={...Q[z],id:zn()};V.splice(J,0,W),u(U=>({...U,selectedFields:V}))}if(K.droppableId===Ld.SELECTED&&L.droppableId===Ld.SELECTED){const z=L.index,J=K.index;if(z===J)return;const Q=c.selectedFields,[V]=Q.splice(z,1);Q.splice(J,0,V),u(W=>({...W,selectedFields:Q}))}}},[c.fields,c.selectedFields]),y=a.useCallback(_=>{console.log("handleDelete",_),u(L=>({...L,selectedFields:[...L.selectedFields.filter(K=>K.id!==_.id)]}))},[]),D=a.useCallback(()=>{o.confirm({message:", ?",onConfirm:()=>{n.loadModules({token:i})},onCancel:()=>{ae.warn("")}})},[n,o,i]),v=a.useCallback(_=>{console.log("handleHeaderEdit",_),o.prompt({title:"",message:"",defaultPromptValue:_.JobName,onConfirm:({value:L})=>{L&&u(K=>({...K,selectedFields:K.selectedFields.map(z=>z.id===_.id?{...z,JobName:L}:z)}))}})},[o]),T=a.useCallback(_=>{if(console.log("handleAdd",_),Tb.isHeader(_)){const K=[];let z=!1,J=!1;u(Q=>{const V=Q.fields;for(let W=0;W<V.length;W++){const U=V[W];if(U.JobID===_.JobID&&(z=!0),z){if(J&&Tb.isHeader(U))break;K.push({...U,id:zn()}),J=!0}}return{...Q,selectedFields:[...Q.selectedFields,...K]}})}else u(K=>({...K,selectedFields:[...K.selectedFields,{..._,id:zn()}]}))},[]),I=a.useCallback(()=>{u(_=>({..._,selectedFields:_.fields.map(L=>({...L,id:zn()}))}))},[]),P=a.useCallback(()=>{u(_=>({..._,fields:[..._.fields],selectedFields:[]}))},[]),E=a.useCallback(()=>{g()},[g]),k=a.useCallback(_=>{console.error("onSubmitError",_)},[]),w=Or(),A=a.useCallback(async()=>{var L;const _=((L=c.selectedFields)==null?void 0:L.map(K=>!K.JobID&&!K.JobName?null:K.JobName&&!K.JobID?`@${K.JobName}`:K.JobID).filter(Boolean))||[];console.log("selectedFields",_);try{w.start();const{status:K,error:z}=await t({url:"v1/user/settings/menu",bearer:i,data:_});if(K.success)D(),w.finish();else throw z??new Error("")}catch(K){w.fail({error:K}),console.error("handleSave",K),ae.error("",K)}},[D,t,w,c.selectedFields,i]),F=a.useCallback(()=>{o.prompt({title:"",message:"",onConfirm:({value:_})=>{u(L=>({...L,selectedFields:[...L.selectedFields,{id:zn(),JobName:_}]}))}})},[o]);return{...c,loadDef:g,handleDragEnd:x,handleDelete:y,handleAdd:T,printing:p,promptPrint:m,cancelPrint:f,handleAddAllFields:I,handleRemoveAllFields:P,handleReset:E,onSubmitError:k,handleSave:A,saveWorking:w.working,handleAddGroup:F,handleHeaderEdit:v}},Bxe=({children:e})=>{const t=dDt();return r.jsx(Df.Provider,{value:{...t},children:e})};Bxe.propTypes={children:l.oneOfType([l.array,l.object])};var Mv={},tle;function pDt(){if(tle)return Mv;tle=1;var e=Qn();Object.defineProperty(Mv,"__esModule",{value:!0}),Mv.default=void 0;var t=e(sr()),n=rr();return Mv.default=(0,t.default)([(0,n.jsx)("path",{d:"M6.41 6 5 7.41 9.58 12 5 16.59 6.41 18l6-6z"},"0"),(0,n.jsx)("path",{d:"m13 6-1.41 1.41L16.17 12l-4.58 4.59L13 18l6-6z"},"1")],"KeyboardDoubleArrowRight"),Mv}var mDt=pDt();const Wxe=qn(mDt),XW=e=>{const{children:t="",...n}=e,o=a.useContext(Df);return r.jsx(dt,{responsive:!0,variant:"contained",color:"neutral",startIcon:r.jsx(Wxe,{}),onClick:o.handleAddAllFields,...n,children:t})};XW.propTypes={children:l.oneOfType([l.node,l.array])};XW.displayName="JobMenuAddAllFieldsButtonContainer";var _v={},nle;function fDt(){if(nle)return _v;nle=1;var e=Qn();Object.defineProperty(_v,"__esModule",{value:!0}),_v.default=void 0;var t=e(sr()),n=rr();return _v.default=(0,t.default)((0,n.jsx)("path",{d:"M20 6h-8l-2-2H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2m-1 8h-3v3h-2v-3h-3v-2h3V9h2v3h3z"}),"CreateNewFolder"),_v}var hDt=fDt();const gDt=qn(hDt),ZW=e=>{const{children:t="",...n}=e,o=a.useContext(Df);return r.jsx(dt,{responsive:!0,variant:"contained",color:"info",startIcon:r.jsx(gDt,{}),onClick:o.handleAddGroup,...n,children:t})};ZW.propTypes={children:l.oneOfType([l.node,l.array])};ZW.displayName="JobMenuAddGroupButtonContainer";const bDt=()=>r.jsx(r.Fragment,{children:r.jsx(XW,{})}),xDt=()=>r.jsx(r.Fragment,{children:r.jsx(ZW,{})}),e5=e=>{const{...t}=e;return r.jsx(kn,{bgcolor:Nn.TOOLBAR,LeftComponent:bDt,RightComponent:xDt,...t})};e5.propTypes={};e5.displayName="JobMenuTopToolbar";const Uxe=()=>{const{height:e}=Wt(),t=a.useMemo(()=>e-280,[e]);return r.jsx(Bxe,{children:r.jsxs(Et,{maxWidth:"sm",alignLeft:!0,children:[r.jsx(e5,{}),r.jsx(_xe,{height:t}),r.jsx(JW,{})]})})};Uxe.displayName="JobMenuFrameContainer";const t5=a.memo(e=>{const{handleTabChange:t,...n}=e;return r.jsxs(jt,{children:[r.jsx(jt,{sx:{borderBottom:1,borderColor:"divider"},children:r.jsxs(yf,{onChange:t,children:[r.jsx(Si,{label:"",value:al.Tabs.CHANGE_PWORD}),r.jsx(Si,{label:"",value:al.Tabs.INSTRUCTION}),r.jsx(Si,{label:"",value:al.Tabs.MENU})]})}),r.jsx(ga,{value:al.Tabs.CHANGE_PWORD,children:r.jsx(kxe,{})}),r.jsx(ga,{value:al.Tabs.INSTRUCTION,children:r.jsx(Axe,{})}),r.jsx(ga,{value:al.Tabs.MENU,sx:o=>({paddingTop:o.spacing(1)}),children:r.jsx(Uxe,{})})]})});t5.propTypes={handleTabChange:l.func};t5.displayName="SettingsFrame";const qxe=()=>{const e=a.useContext(dk),{promptChanging:t}=e,n=e.searchParams.get(al.PARAM_TAB);return En(()=>{t()},[]),r.jsxs(Ft,{children:[r.jsx(_t,{title:""}),r.jsx(xf,{value:n??al.Tabs.CHANGE_PWORD,children:r.jsx(t5,{handleTabChange:e.handleTabChange})})]})};qxe.displayName="SettingsFrameContainer";var Lv={},rle;function yDt(){if(rle)return Lv;rle=1;var e=Qn();Object.defineProperty(Lv,"__esModule",{value:!0}),Lv.default=void 0;var t=e(sr()),n=rr();return Lv.default=(0,t.default)((0,n.jsx)("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l4 4 4-4H6c0-3.86 3.14-7 7-7s7 3.14 7 7-3.14 7-7 7c-1.9 0-3.62-.76-4.88-1.99L6.7 18.42C8.32 20.01 10.55 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m2 8v-1c0-1.1-.9-2-2-2s-2 .9-2 2v1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1m-1 0h-2v-1c0-.55.45-1 1-1s1 .45 1 1z"}),"LockReset"),Lv}var CDt=yDt();const DDt=qn(CDt),n5=a.memo(e=>{const{loading:t,toLogin:n}=e;return r.jsx(ZT,{maxWidth:"xs",justifyContent:"center",alignItems:"center",sx:{minHeight:"80vh"},children:r.jsx(ve,{px:3,sx:{maxWidth:"25rem"},children:r.jsxs(ve,{sx:{flexDirection:"column"},children:[r.jsx(ve,{mb:1,justifyContent:"flex-start",children:r.jsx(K3,{size:"md",icon:DDt,text:"",iconColor:Nn.PRIMARY})}),r.jsxs(jt,{component:_s,elevation:4,px:3,pt:3,pb:2,children:[r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,children:r.jsx(Ud,{fullWidth:!0,label:"",type:"password",autoFocus:!0,placeholder:"",name:"newPword",required:!0,size:"small",rules:{required:""},sx:{"& .MuiInputBase-root":{backgroundColor:"#fff"}}})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(Ud,{fullWidth:!0,label:"",type:"password",placeholder:"",name:"newPword2",required:!0,size:"small",rules:{required:""},sx:{"& .MuiInputBase-root":{backgroundColor:"#fff"}}})})]}),r.jsxs(ve,{fullWidth:!0,justifyContent:"flex-end",mt:2,mb:1,sx:{"& button":{marginLeft:1}},children:[r.jsx(dt,{onClick:n,children:""}),r.jsx(dt,{type:"submit",variant:"contained",size:"small",loading:t,endIcon:r.jsx(pk,{}),children:""})]}),r.jsx(Yp,{error:!0,children:"*"})]})]})})})});n5.propTypes={loading:l.bool,toLogin:l.func};n5.displayName="RenewFrame";const Vxe=()=>{const e=a.useContext(Sn),t=a.useContext(Be),{changing:n}=t,{handleDrawerClose:o}=e,{toLogin:s}=nm(),i=at({defaultValues:{}}),{setError:c}=i;return En(()=>{o()},[]),r.jsx(Ft,{children:r.jsx(Ye,{...i,children:r.jsx("form",{noValidate:!0,onSubmit:i.handleSubmit(t.onChangeSubmit({setError:c,doRedirect:!0}),t.onChangeSubmitError),children:r.jsx(n5,{toLogin:s,loading:n})})})})};Vxe.displayName="RenewFrameContainer";const mk=a.memo(e=>{const{children:t,...n}=e;return r.jsx(jt,{sx:{"& button":{marginLeft:"4px"}},...n,children:t})});mk.propTypes={children:l.oneOfType([l.element,l.array])};mk.displayName="ModuleToolbar";const SDt=({startIndex:e,endIndex:t,totalElements:n,loading:o,mobile:s=!1})=>{let i="",c="";return o||!n?"":(!s&&e!==void 0&&(i=` ${e+1} ~ ${t+1} `),n&&n>0&&(c+=`${i?", ":""}`,s?c+=`${n}`:c+=` ${n} `),i+c)},ao=a.memo(a.forwardRef((e,t)=>{const{startIndex:n,endIndex:o,totalElements:s,loading:i,render:c=SDt,...u}=e,{mobile:d}=a.useContext(lc);return r.jsx(nn,{ref:t,variant:"body2",sx:{display:"flex",alignItems:"center"},...u,children:c({startIndex:n,endIndex:o,totalElements:s,loading:i,mobile:d})})}));ao.displayName="FetchResultLabel";ao.propTypes={startIndex:l.number,endIndex:l.number,totalElements:l.number,mobile:l.bool,loading:l.bool,render:l.func};const zxe=()=>{const e=a.useContext(uk);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};zxe.displayName="AllMessagesFetchResultLabelContainer";const Hxe=a.memo(()=>r.jsx(mk,{}));Hxe.displayName="LeftButtons";const Gxe=a.memo(a.forwardRef(({...e},t)=>r.jsx(kn,{pb:1,ref:t,LeftComponent:Hxe,RightComponent:zxe,...e})));Gxe.displayName="MsgToolbar";const Hn=a.memo(a.forwardRef(({children:e,sx:t=[],...n},o)=>r.jsx(wt,{ref:o,item:!0,xs:1,sx:[{display:"flex",alignItems:"center",justifyContent:"center","& *":{color:"rgb(0 0 0 / 50%)"}},...Array.isArray(t)?t:[t]],...n,children:e})));Hn.propTypes={children:l.oneOfType([l.element,l.array]),sx:l.oneOfType([l.array,l.object])};const io=a.memo(a.forwardRef(({children:e,visible:t=!0,sx:n=[],columns:o=24,...s},i)=>r.jsx(ve,{fullWidth:!0,ref:i,sx:[c=>({border:"1px solid rgba(0, 0, 0, 0.12)",borderBottom:0,backgroundColor:"rgb(0 0 0 / 40%)",color:"#fff",borderTopLeftRadius:"4px",borderTopRightRadius:"4px",paddingRight:"16px",transition:c.transitions.create("backgroundColor",{easing:c.transitions.easing.sharp,duration:c.transitions.duration.leavingScreen}),...!t&&{backgroundColor:"#fff"},"& *":{fontWeight:600,whiteSpace:"noWrap"}}),...Array.isArray(n)?n:[n]],children:r.jsx(j,{container:!0,columns:o,...s,children:e})})));io.propTypes={children:l.node,visible:l.bool,sx:l.oneOfType([l.array,l.object]),columns:l.number};const fk=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:3,...t})};fk.propTypes={loading:l.bool,children:l.oneOfType([l.node])};fk.displayName="MsgIDColumn";const hk=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:11,...t})};hk.propTypes={loading:l.bool,children:l.oneOfType([l.node])};hk.displayName="MsgNameColumn";const gk=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:4,...t})};gk.propTypes={loading:l.bool,children:l.oneOfType([l.node])};gk.displayName="MsgTimeColumn";const bk=e=>{const{...t}=e;return r.jsx(wt,{item:!0,flex:!0,pr:1,xs:2,justifyContent:"center",...t})};bk.propTypes={loading:l.bool,children:l.oneOfType([l.node])};bk.displayName="MsgJobColumn";const xk=e=>{const{...t}=e;return r.jsx(wt,{flex:!0,item:!0,justifyContent:"center",pr:1,xs:1,...t})};xk.propTypes={loading:l.bool,children:l.oneOfType([l.node])};xk.displayName="MsgNewColumn";const yk=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:2,...t})};yk.propTypes={loading:l.bool,children:l.oneOfType([l.node])};yk.displayName="MsgDeptColumn";const r5=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsxs(io,{ref:t,...n,children:[r.jsx(Hn,{}),r.jsx(xk,{children:""}),r.jsx(yk,{children:""}),r.jsx(bk,{children:""}),r.jsx(fk,{children:""}),r.jsx(hk,{children:""}),r.jsx(gk,{children:""})]})}));r5.propTypes={};r5.displayName="MsgListHeader";var $v={},ole;function vDt(){if(ole)return $v;ole=1;var e=Qn();Object.defineProperty($v,"__esModule",{value:!0}),$v.default=void 0;var t=e(sr()),n=rr();return $v.default=(0,t.default)((0,n.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),$v}var jDt=vDt();const IDt=qn(jDt);var Bv={},sle;function TDt(){if(sle)return Bv;sle=1;var e=Qn();Object.defineProperty(Bv,"__esModule",{value:!0}),Bv.default=void 0;var t=e(sr()),n=rr();return Bv.default=(0,t.default)((0,n.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"RadioButtonUnchecked"),Bv}var ODt=TDt();const EDt=qn(ODt),jj=e=>{const{children:t,unread:n,...o}=e;return r.jsx(nn,{variant:"body2",color:n?"text.primary":"text.secondary",sx:{...n&&{fontWeight:600}},...o,children:t})};jj.propTypes={children:l.oneOfType([l.node,l.array]),unread:l.bool};const o5=a.memo(e=>{const{index:t,style:n,value:o,loading:s,handleGotoJob:i,linkEnabled:c}=e,u=a.useMemo(()=>!(o!=null&&o.RecdTime),[o==null?void 0:o.RecdTime]),d=a.useMemo(()=>c?` ${o==null?void 0:o.JobID} `:"",[c,o==null?void 0:o.JobID]);return r.jsx("div",{style:n,children:r.jsx(yo,{transparent:!0,borderBottom:!0,children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t}),r.jsx(xk,{loading:s,children:u?r.jsx(EDt,{fontSize:"small",color:"warning"}):r.jsx(IDt,{fontSize:"small",color:"success"})}),r.jsx(yk,{children:r.jsx(jj,{unread:u,children:o==null?void 0:o.AbbrName})}),r.jsx(bk,{children:(o==null?void 0:o.JobID)&&r.jsx(jr,{title:d,arrow:!0,placement:"right-start",children:r.jsx(dt,{onClick:i,children:o==null?void 0:o.JobID})})}),r.jsx(fk,{loading:s,children:r.jsx(jj,{unread:u,children:o==null?void 0:o.SendName})}),r.jsx(hk,{loading:s,children:r.jsx(jj,{unread:u,children:o==null?void 0:o.MsgBody})}),r.jsx(gk,{loading:s,children:r.jsx(jj,{unread:u,children:o==null?void 0:o.SendTime})})]})})})});o5.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,linkEnabled:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func,handleGotoJob:l.func};o5.displayName="MsgListRow";const s5=e=>{var d;const t=a.useContext(uk),n=a.useContext(Be),{index:o,...s}=e,i=a.useMemo(()=>t.listData[o],[t.listData,o]),c=a.useMemo(()=>!i,[i]),u=a.useMemo(()=>{var p;return((p=n.operator)==null?void 0:p.CurDeptID)===(i==null?void 0:i.DeptID)},[(d=n.operator)==null?void 0:d.CurDeptID,i==null?void 0:i.DeptID]);return r.jsx(o5,{index:o,loading:c,value:i,handleGotoJob:()=>t.handleGotoJob(i),linkEnabled:u,...s})};s5.propTypes={index:l.number,data:l.object};s5.displayName="MsgListRowContainer";const Kxe=()=>{const e=a.useContext(uk),t=Ke(),{getValues:n,setValue:o}=t,{height:s}=Wt(),i=Ue({name:"qs",control:t.control}),c=Gr(i,300);En(()=>{e.loadList()},[]),mn(()=>{if(console.log(`debouncedQs: ${c}`),c!==void 0){const d=n();e.loadList({params:{...d,qs:c},supressLoading:!0}),o("qs",c)}},[c]);const u=a.useMemo(()=>s?s-162:300,[s]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:s5,height:u,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};Kxe.displayName="MsgListViewContainer";const Qxe=()=>{const e=at();return r.jsx(Ye,{...e,children:r.jsxs(Ft,{children:[r.jsx(_t,{title:"",alt:""}),r.jsx(Gxe,{}),r.jsx(r5,{}),r.jsx(Kxe,{})]})})};Qxe.displayName="MessagesFrameContainer";const Yxe=e=>{const{...t}=e,n=a.useContext(Qh),{unloadAppInfo:o}=n;return En(()=>{o()},[]),r.jsx(hT,{severity:"error",alertProps:{},title:"",message:"",...t})};Yxe.displayName="ForbiddenPageContainer";const a5=()=>a.useContext(Qh).getSessionCookie(Tn.COOKIE_LOGKEY)?r.jsx(YM,{to:"/home",replace:!0}):sessionStorage.getItem(Tn.COOKIE_IMPERSONATE)==1?r.jsx(YM,{to:"/auth/signinx",replace:!0}):r.jsx(YM,{to:"/auth/signin",replace:!0});a5.propTypes={};a5.displayName="CheckAuthRoute";const PDt=Object.freeze({ELLIPSIS:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",wordBreak:"break-all"},ELLIPSIS_BOX:{overflow:"hidden"},ONE_LINER:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},MSG_WARN:{color:"orange",fontWeight:"bold"},MSG_ERROR:{backgroundColor:"red",color:"white",fontWeight:"bold"},CONSOLE_SUCCESS:"color:rgb(31, 192, 39); font-weight: bold",CONSOLE_INFO:"color: #33daff; font-weight: bold",CONSOLE_WARN:"color:rgb(255, 201, 51); font-weight: bold",CONSOLE_ERROR:"background-color:rgb(255, 51, 102); color: white; font-weight: bold"}),Ob={...PDt},RDt={ignoresEmpty:!0,debug:!1,debugValues:!1,header:"",nullishEquivalent:!0},wDt=(e,t)=>{if(!e)throw"obj  null";return t?Ii.parse(t).every(o=>e[o]!=null):Object.keys(e).filter(o=>e[o]==null).length===0},kDt=(e,t)=>{if(!e)throw"obj  null";return t?Ii.parse(t).every(o=>e[o]!==void 0):Object.keys(e).filter(o=>e[o]!==void 0).length===0},ADt=(e,t)=>{if(!e)throw"obj cabnot be null";return t?Ii.parse(t).every(o=>e[o]===null):Object.keys(e).filter(o=>e[o]!==null).length===0},NDt=(e,t)=>{if(!e)throw"obj cabnot be null";return t?Ii.parse(t).every(o=>{const s=e[o];return s==null||s===""}):Object.keys(e).filter(o=>!!e[o]).length===0},FDt=(e,t)=>{if(!e)throw"obj cabnot be null";return t?Ii.parse(t).every(o=>!e[o]):Object.keys(e).filter(o=>!!e[o]).length===0},MDt=(e,t,n={})=>{const{nullAsNotEmpty:o=!1}=n;if(!e)throw new Error("obj cannot be null");const s=c=>o&&c===null||c!==void 0&&c!=="";return t?(Array.isArray(t)?t:t.split(",")).every(c=>s(e[c])):Object.values(e).every(s)},_Dt=(e,t)=>{if(!e)throw"obj cabnot be null";return t?Ii.parse(t).every(o=>{const s=e[o];return s!=null&&s!==""}):Object.keys(e).filter(o=>{const s=e[o];return s==null||s===""}).length===0},Jxe=e=>Object.keys(e).length===0,LDt=e=>!Jxe(e),$Dt=(e,t)=>{if(!e)throw"obj cabnot be null";if(!t)throw"";const n=Ii.parse(t);return Object.keys(e).includes(...n)},BDt=(e,t)=>{if(!e)throw"obj cabnot be null";if(!t){for(const o of Object.keys(e))if(e[o])return!0;return!1}const n=Ii.parse(t);for(const o of n)if(e[o])return!0;return!1},WDt=(e,t,n=RDt)=>{const{fields:o,ignoreFields:s,ignoresEmpty:i,debug:c,debugValues:u,header:d,nullishEquivalent:p,deepCompare:m=!1}=n;if(p){if(e==null&&(t!==null||t!==void 0))return!1;if((e!==null||e!==void 0)&&t==null)return!1;if(e==null&&t==null)return!0}else{if(e===null&&t!==null)return!1;if(e===void 0&&t!==void 0)return!1;if(e!==null&&t===null)return!1;if(e!==void 0&&t===void 0)return!1;if(e===null&&t===null)return!0;if(e===void 0&&t===void 0)return!0}let f=o?Ii.parse(o):Object.keys(e),h=o?Ii.parse(o):Object.keys(t);if(s){const g=Ii.parse(s);f=f.filter(x=>!g.includes(x)),h=h.filter(x=>!g.includes(x))}if(f.length!==h.length)return!1;for(const g of f){const x=i?vo.get(e,g)??"":vo.get(e,g),y=i?vo.get(t,g)??"":vo.get(t,g);if(m?!vo.isEqual(x,y):x!==y)return c&&console.warn(`%C${d?d+".":""}${g} mismatched ${m?"(deepCompare)":""}: ${x}  `,Ob.CONSOLE_WARN,y),u&&(console.log("	old",x),console.log("	new",y)),!1}return!0};function UDt(e){if(typeof e!="object"||e===null)throw new Error("Invalid input: Expected an object.");for(const t in e)Object.hasOwnProperty.call(e,t)&&(e[t]="")}const Gn={isAllPropsNullOrEmpty:NDt,isAllPropsNotNull:wDt,isAllPropsNull:ADt,isAllPropsEmpty:FDt,isAllPropsNotNullOrEmpty:_Dt,hasAllProps:$Dt,isAnyPropNotEmpty:BDt,hasNoProps:Jxe,hasAnyProp:LDt,arePropsEqual:WDt,isAllPropsNotEmpty:MDt,isAllPropsNotUndefined:kDt,clearAllProps:UDt},i5=[{id:"1",label:""},{id:"2",label:""},{id:"3",label:""},{id:"4",label:""},{id:"5",label:""},{id:"6",label:""},{id:"7",label:""}],qDt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},VDt=(e,t)=>(e==null?void 0:e.id)==(t==null?void 0:t.id),zDt=e=>i5.find(t=>t.id==e),HDt=e=>i5.find(t=>t.id==e),Ky={findById:zDt,findByInput:HDt,options:i5,getOptionLabel:qDt,isOptionEqualToValue:VDt},GDt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},KDt=(e,t)=>(e==null?void 0:e.id)==(t==null?void 0:t.id),l5=[{id:"1",label:""},{id:"2",label:""}],QDt=e=>l5.find(t=>t.id==e),YDt=e=>l5.find(t=>t.id==e),Qy={findById:QDt,findByInput:YDt,options:l5,getOptionLabel:GDt,isOptionEqualToValue:KDt},JDt=(e,t,n)=>({ShowName:e,OpCode:t,CondData:n}),ale={addParam:JDt},XDt=Object.freeze({T:"",M:""}),c5=[{id:"T",label:""},{id:"M",label:""}],ZDt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},eSt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),tSt=e=>c5.find(t=>t.id===e),nSt=e=>c5.find(t=>{var n;return((n=t.id)==null?void 0:n.toLowerCase())===(e==null?void 0:e.toLowerCase())}),hb={data:XDt,options:c5,getOptionLabel:ZDt,isOptionEqualToValue:eSt,findById:tSt,findByInput:nSt},rSt=Object.freeze({INFO:"INFO",TRANS:"TRANS",COMBO:"COMBO",CMS:"CMS"}),oSt=Object.freeze({PROD:Symbol("PROD"),NEW_PROD:Symbol("NEW_PROD"),STORE:Symbol("STORE")}),sSt=e=>!e.q,aSt=e=>e.map((t,n)=>({id:zn(),dept:{DeptID:t.SDeptID,DeptName:t.SDept_N},SDept_N:t.SDept_N,SCost:t.SCost})),iSt=e=>e.map((t,n)=>({id:zn(),prod:{ProdID:t.SProdID,ProdData:t.Prod_N},SProdData:t.Prod_N,SProdQty:t.SProdQty})),lSt=e=>e.map((t,n)=>({id:zn(),dept:{DeptID:t.SDeptID,DeptName:t.SDept_N},SDept_N:t.SDept_N,cmsType:{CodeID:t.SCmsID,CodeData:t.SCms_N}})),cSt=e=>{const{BUnit:t,BUnit_N:n,LClas:o,LClas_N:s,MClas:i,MClas_N:c,SClas:u,SClas_N:d,CmsID:p,Cms_N:m,CaseID:f,Case_N:h,SUnit:g,SUnit_N:x,IUnit:y,IUnit_N:D,MUnit:v,MUnit_N:T,Tax:I,TypeA:P,TypeB:E,StoreTrans_S:k,StoreCom_S:w,StoreCms_S:A,...F}=e;return{catL:o?{LClas:o,ClassData:s}:null,catM:i?{MClas:i,ClassData:c}:null,catS:u?{SClas:u,ClassData:d}:null,cmsType:p?{CodeID:p,CodeData:m}:null,counter:f?{CodeID:f,CodeData:h}:null,bunit:t?{CodeID:t,CodeData:n}:null,iunit:y?{CodeID:y,CodeData:D}:null,sunit:g?{CodeID:g,CodeData:x}:null,munit:v?{CodeID:v,CodeData:T}:null,taxType:I?hb.findById(I):null,typeA:P?Ky.findById(P):null,typeB:E?Qy.findById(E):null,...k&&{trans:aSt(k)},...w&&{combo:iSt(w)},...A&&{cms:lSt(A)},...F}},uSt=e=>e,dSt=e=>{const{ProdID:t,counter:n,SafeQty:o,cmsType:s}=e;return{ProdID:t,SafeQty:o,NewCaseID:(n==null?void 0:n.CodeID)??"",CmsID:(s==null?void 0:s.CodeID)??""}},pSt=e=>e.filter(t=>!!t.dept).map((t,n)=>{var o,s;return{Seq:n,SDeptID:(o=t.dept)==null?void 0:o.DeptID,SCost:((s=t.SCost)==null?void 0:s.toString())||""}}),mSt=e=>e.filter(t=>{var n;return(n=t.dept)==null?void 0:n.DeptID}).map((t,n)=>{var o,s;return{Seq:n,SDeptID:(o=t.dept)==null?void 0:o.DeptID,SCmsID:((s=t.cmsType)==null?void 0:s.CodeID)??""}}),fSt=e=>e.filter(t=>!!t.prod).map((t,n)=>{var o,s;return{Seq:n,SProdID:(o=t.prod)==null?void 0:o.ProdID,SProdQty:((s=t.SProdQty)==null?void 0:s.toString())||""}}),hSt=(e,t,n,o)=>{const{catL:s,catM:i,catS:c,cmsType:u,counter:d,bunit:p,iunit:m,sunit:f,munit:h,taxType:g,typeA:x,typeB:y,dept:D,combo:v,trans:T,cms:I,Clas_N:P,Checker_N:E,GroupKey_N:k,Using_N:w,WriteDate_N:A,Writer_N:F,..._}=e;return console.log("omitProps",{Clas_N:P,Checker_N:E,GroupKey_N:k,combo:v,trans:T,cms:I,dept:D,Using_N:w,WriteDate_N:A,Writer_N:F}),{...{..._},LClas:(s==null?void 0:s.LClas)||"",MClas:(i==null?void 0:i.MClas)||"",SClas:(c==null?void 0:c.SClas)||"",CmsID:(u==null?void 0:u.CodeID)||"",CaseID:(d==null?void 0:d.CodeID)||"",BUnit:(p==null?void 0:p.CodeID)||"",IUnit:(m==null?void 0:m.CodeID)||"",SUnit:(f==null?void 0:f.CodeID)||"",MUnit:(h==null?void 0:h.CodeID)||"",Tax:(g==null?void 0:g.id)||"",TypeA:(x==null?void 0:x.id)||"",TypeB:(y==null?void 0:y.id)||"",...t&&{StoreTrans_S:pSt(t)},...n&&{StoreCom_S:fSt(n)},...o&&{StoreCms_S:mSt(o)}}},gSt=e=>Gn.isAnyPropNotEmpty(e,"lvId,lvName,lvBarcode,lvCatL,lvCatM,lvCatS,lvCounter,lvCmsType"),bSt=e=>t=>{console.log("params",t);const n=e===zr.Mode.NEW_PROD?[ale.addParam("","=","")]:[ale.addParam("","<>","")];return t!=null&&t.pi&&n.push({ShowName:"",OpCode:"LIKE",CondData:`%${t.pi}%`}),t!=null&&t.bc&&n.push({ShowName:"",OpCode:"LIKE",CondData:`%${t.bc}%`}),t!=null&&t.pn&&n.push({ShowName:"",OpCode:"LIKE",CondData:`%${t.pn}%`}),t!=null&&t.catL&&n.push({ShowName:"",OpCode:"=",CondData:t.catL}),t!=null&&t.catM&&n.push({ShowName:"",OpCode:"=",CondData:t.catM}),t!=null&&t.catS&&n.push({ShowName:"",OpCode:"=",CondData:t.catS}),t!=null&&t.counter&&n.push({ShowName:"",OpCode:"=",CondData:t.counter}),t!=null&&t.cms&&n.push({ShowName:"",OpCode:"=",CondData:t.cmsType}),console.log("where",n),{StdWhere:n,...(t==null?void 0:t.qs)&&{CondData:{QS_ID:`%${t.qs}%`,QS_NAME:`%${t.qs}%`}}}},xSt=e=>{const{qs:t,lvId:n,lvName:o,lvBarcode:s,lvCatL:i,lvCatM:c,lvCatS:u,lvCounter:d,lvCmsType:p,...m}=e;return{qs:t,...n&&{pi:n},...s&&{bc:s},...o&&{pn:o},...i&&{catL:i.LClas},...c&&{catM:c.MClas},...u&&{catS:u.SClas},...d&&{counter:d.CodeID},...p&&{cms:p.CodeID},...m}},zr={hasEmptyError:sSt,transformForReading:cSt,processForDefaultSubmit:uSt,transformForEditorSubmit:hSt,transformForCounterSubmit:dSt,isFiltered:gSt,Mode:oSt,paramsToJsonData:bSt,Tabs:rSt,transformAsQueryParams:xSt},ii=()=>{var t,n;const e=a.useContext(Kn);return e?{getNextCell:e.getNextCell,lastCell:e.lastCell,isLastRow:e.isLastRow,setActiveCell:e.setActiveCell,handleFocusPrevCell:e.handleFocusPrevCell,skipDisabled:e.skipDisabled,inDSG:!!e,readOnly:e.readOnly,supressEvents:((n=(t=e.asyncRef)==null?void 0:t.current)==null?void 0:n.supressEvents)||!1}:null},Xn=Object.freeze({CREATE_ROW:Symbol("CREATE_ROW"),BLUR:Symbol("BLUR"),STOP_EDITING:Symbol("STOP_EDITING")}),Pi=(e={})=>{const{getNextCell:t,lastCell:n,isLastRow:o,setActiveCell:s,toFirstColumn:i,stopEditing:c,insertRowBelow:u}=e;return{handleFocusNextCell:a.useCallback((p,m={})=>{if(console.log("handleFocusNextCell from: ",p),!t)throw new Error("useCellComponent  getNextCell ");const f=t(p,m);if(f.field)s(f.field);else{if(!o(p))return;if(typeof n=="string")ae.warn(n);else if(typeof n=="function")n(m);else switch(n){case Xn.BLUR:s(null);break;case Xn.CREATE_ROW:f.isForward&&u();break}}},[t,u,o,n,s])}},zi=e=>{const{rowIndex:t,rowData:n,focus:o,active:s,disabled:i,columnIndex:c,setRowData:u,stopEditing:d,handleFocusNextCell:p,skipDisabled:m,readOnly:f,focusOnDisabled:h=!1,name:g,hideControlsOnActive:x,selectOnFocus:y,multiple:D=!1}=e;Object.entries({rowIndex:t,rowData:n,focus:o,active:s,disabled:i,columnIndex:c,setRowData:u,stopEditing:d}).forEach(([F,_])=>{_===void 0&&Ad.warn(`[props].${F}`)}),Object.entries({handleFocusNextCell:p,skipDisabled:m,readOnly:f,focusOnDisabled:h}).forEach(([F,_])=>{_===void 0&&Ad.warn(`[cellFocus].${F}`)}),Object.entries({name:g}).forEach(([F,_])=>{_===void 0&&console.warn(`%c[columnData].${F}`,Ob.CONSOLE_WARN)});const v=a.useRef(),T=a.useRef({popperOpen:null}),I=a.useMemo(()=>({row:t,col:c}),[c,t]),P=a.useMemo(()=>i||x?!o:!s,[s,x,i,o]),E=a.useCallback(F=>{console.log(`[${g}]useOptionPickerComponent.handleChange`,F),u(F),setTimeout(()=>{var _;d({nextRow:!1}),console.log("stopEditing invoked"),(_=v.current)==null||_.blur()})},[g,u,d]),k=a.useCallback(()=>{console.log("onOpen callback fired"),T.current.popperOpen=!0},[]),w=a.useCallback(()=>{console.log("onClose callback fired"),T.current.popperOpen=!1},[]);a.useLayoutEffect(()=>{var F,_,L;o?((F=v.current)==null||F.focus(),y&&((_=v.current)==null||_.select())):T.current.popperOpen||(L=v.current)==null||L.blur()},[o,y]),a.useLayoutEffect(()=>{console.log("useOptionPickerComponent.active",s)},[s,d]),a.useLayoutEffect(()=>{m&&s&&i&&!h&&!f&&(p?p(I):console.log("handleFocusNextCell is null"))},[s,I,c,i,p,h,f,t,m]),mn(()=>{console.log(`[${g}].rowData changed`,n),n&&!D&&!i&&s&&(console.log("	handleFocusNextCell triggered"),T.current.performFocusNext=!1,p(I,{forward:!0}))},[n]);const A=a.useMemo(()=>({toastError:!0,blurToLookup:!1,hideBorders:!0,disableFadeOut:!0,dense:!0,autoHighlight:!0,selectOnFocus:!0,label:""}),[]);return{name:g,inputRef:v,hideControls:P,cell:I,onChange:E,onOpen:k,onClose:w,disabled:i,multiple:D,value:n,handleFocusNextCell:p,...A}},Uo=a.memo(e=>{const{label:t="",uid:n,scope:o=Tn.SCOPES.HQ,excludesSelf:s,forId:i=!1,...c}=e,u=a.useContext(Be),d=a.useCallback(f=>f.data,[]),p=a.useMemo(()=>Hr.stringify({uid:n,sp:o,...s&&{es:1}}),[s,o,n]),m=a.useCallback(f=>i?vi.getOptionLabelForId(f):vi.getOptionLabel(f),[i]);return r.jsx(bt,{label:t,url:"v1/ou/depts",bearer:u.token,getOptionLabel:m,renderOptionLabel:vi.getOptionLabel,isOptionEqualToValue:vi.isOptionEqualToValue,getOptions:d,querystring:p,notFoundText:" ${input} ",...c})});Uo.propTypes={label:l.string,uid:l.string,scope:l.number,excludesSelf:l.bool,forId:l.bool};Uo.displayName="DeptPicker";const ySt=(e,t)=>Gn.arePropsEqual(e,t,{fields:"rowData.DeptID,active,disabled,focus"}),Ck=a.memo(e=>{const{rowData:t,setRowData:n,rowIndex:o,columnIndex:s,columnData:i,active:c,focus:u,disabled:d,stopEditing:p,insertRowBelow:m}=e,f=a.useRef(t);f.current=t;const{name:h,hideControlsOnActive:g,selectOnFocus:x,lastCell:y,isLastRow:D,getNextCell:v,skipDisabled:T,setActiveCell:I,readOnly:P,focusOnDisabled:E,multiple:k,...w}=i,{handleFocusNextCell:A}=Pi({getNextCell:v,lastCell:y,isLastRow:D,setActiveCell:I,insertRowBelow:m}),F=zi({name:h,rowIndex:o,rowData:t,columnIndex:s,focus:u,active:c,disabled:d,hideControlsOnActive:g,selectOnFocus:x,setRowData:n,stopEditing:p,readOnly:P,skipDisabled:T,handleFocusNextCell:A,focusOnDisabled:E,multiple:k});return r.jsx(Uo,{queryParam:"qs",...F,...w})},ySt);Ck.propTypes={name:l.string,rowData:l.oneOfType([l.string,l.number,l.object]),setRowData:l.func,rowIndex:l.number,columnIndex:l.number,columnData:l.object,active:l.bool,focus:l.bool,disabled:l.bool,stopEditing:l.func,insertRowBelow:l.func,duplicateRow:l.func,deleteRow:l.func,getContextMenuItems:l.func};Ck.propTypes={};Ck.displayName="DeptPickerComponent";const NC=e=>{const{columnData:t,...n}=e,o=ii(),s=a.useMemo(()=>({...t,...o}),[o,t]);return r.jsx(Ck,{columnData:s,...n})};NC.displayName="DeptPickerComponentContainer";NC.propTypes={columnData:l.object};var CSt=Gb();const DSt=qn(CSt),u5=()=>{const e=a.useRef(!0),t=e.current;return e.current=!1,t},SSt=(e,t)=>Gn.arePropsEqual(e,t,{header:Dk.displayName,fields:"rowData,active,disabled,focus"}),Dk=a.memo(({active:e,focus:t,disabled:n,rowData:o,setRowData:s,rowIndex:i,columnIndex:c,columnData:u,cellControls:d,stopEditing:p,insertRowBelow:m})=>{const f=a.useRef(null),h=u5(),{placeholder:g,alignRight:x,formatInputOnFocus:y,formatBlurredInput:D,parseUserInput:v,continuousUpdates:T,style:I,type:P,...E}=u,{skipDisabled:k,getNextCell:w,lastCell:A,isLastRow:F,setActiveCell:_,readOnly:L}=ii(),K=a.useRef({rowData:o,formatInputOnFocus:y,formatBlurredInput:D,setRowData:s,parseUserInput:v,continuousUpdates:T,firstRender:h,focusedAt:0,changedAt:0,escPressed:!1});K.current={rowData:o,formatInputOnFocus:y,formatBlurredInput:D,setRowData:s,parseUserInput:v,continuousUpdates:T,firstRender:h,focusedAt:K.current.focusedAt,changedAt:K.current.changedAt,escPressed:K.current.escPressed};const z=a.useCallback(se=>{K.current.changedAt=Date.now(),T&&s(v(se.target.value))},[T,v,s]),J=a.useMemo(()=>({row:i,col:c}),[c,i]),{handleFocusNextCell:Q}=Pi({getNextCell:w,lastCell:A,isLastRow:F,setActiveCell:_,stopEditing:p,insertRowBelow:m}),V=a.useCallback(se=>{switch(se.key){case"Escape":K.current.escPressed=!0;break;case"Tab":case"Enter":se.preventDefault(),se.stopPropagation(),setTimeout(()=>{p({nextRow:!1}),Q&&Q(J,{forward:!0,e:se})});break;case"ArrowDown":case"ArrowUp":se.stopPropagation();break}},[J,Q,p]);a.useLayoutEffect(()=>{t?(f.current&&(f.current.value=K.current.formatInputOnFocus(K.current.rowData),f.current.focus(),f.current.select()),K.current.escPressed=!1,K.current.focusedAt=Date.now()):f.current&&(!K.current.escPressed&&!K.current.continuousUpdates&&!K.current.firstRender&&K.current.changedAt>=K.current.focusedAt&&K.current.setRowData(K.current.parseUserInput(f.current.value)),f.current.blur())},[t]),a.useEffect(()=>{!t&&f.current&&(f.current.value=K.current.formatBlurredInput(o))},[t,o]),a.useLayoutEffect(()=>{k&&n&&!L&&e&&(Q?Q(J):console.log("handleFocusNextCell is null"))},[e,J,c,n,Q,L,i,k]);const W=a.useMemo(()=>e?g:void 0,[e,g]),U=a.useMemo(()=>DSt("dsg-input",x&&"dsg-input-align-right"),[x]),X=a.useMemo(()=>({pointerEvents:t?"auto":"none",...I&&{...I}}),[t,I]),te=a.useMemo(()=>D(o),[D,o]);return r.jsx("input",{defaultValue:te,title:te,className:U,placeholder:W,tabIndex:-1,ref:f,style:X,onChange:z,onKeyDown:V,type:P,...E})},SSt);Dk.propTypes={active:l.bool,focus:l.bool,disabled:l.bool,rowData:l.oneOfType([l.string,l.number]),setRowData:l.func,stopEditing:l.func,insertRowBelow:l.func,columnData:l.object,skipDisabled:l.bool,handleFocusNextCell:l.func,getNextCell:l.func,setActiveCell:l.func,lastCell:l.symbol,rowIndex:l.number,columnIndex:l.number};Dk.displayName="TextComponentEx";const d5=e=>{const{columnData:t,...n}=e;return r.jsx(Dk,{columnData:t,...n})};d5.displayName="TextComponentExContainer";d5.propTypes={columnData:l.object};const kt=({placeholder:e,alignRight:t=!1,continuousUpdates:n=!1,deletedValue:o="",parseUserInput:s=m=>m.trim()||null,formatBlurredInput:i=m=>String(m??""),formatInputOnFocus:c=m=>String(m??""),formatForCopy:u=m=>String(m??""),parsePastedValue:d=m=>m.replace(/[\n\r]+/g," ").trim()||null,...p}={})=>({component:d5,columnData:{placeholder:e,alignRight:t,continuousUpdates:n,formatInputOnFocus:c,formatBlurredInput:i,parseUserInput:s,...p},deleteValue:()=>o,copyValue:({rowData:m})=>u(m),pasteValue:({value:m})=>d(m),isCellEmpty:({rowData:m})=>m==null}),Jn=(e=1,t)=>kt({alignRight:!0,continuousUpdates:!1,formatBlurredInput:n=>{if(n===""||n==null)return"";let o=Number(n);return isNaN(o)?"":o.toFixed(e)},parseUserInput:n=>{const o=Number(n);return isNaN(o)?null:o},parsePastedValue:n=>{const o=Number(n);return isNaN(o)?null:o},type:"number",style:{padding:0},...t}),or=(e,t={})=>({component:e,columnData:t,disableKeys:!1,keepFocus:!0,deleteValue:({rowData:n})=>null,copyValue:({rowData:n})=>JSON.stringify(n),pasteValue:({value:n})=>JSON.parse(n),isCellEmpty:({rowData:n})=>!1}),us=(e=!1)=>{const[t,n]=a.useState(e),o=a.useCallback(()=>{n(!t)},[t]),s=a.useCallback(()=>{n(!0)},[]),i=a.useCallback(()=>{n(!1)},[]);return[t,o,s,i]};function vSt(e){return e.replace(/(\w+)\s*:/g,function(t,n){return`"${n}":`})}const jSt=(e,t={})=>{const{includeComments:n=!1,defaultProps:o}=t;if(!e)return{};let s=e.trim().split(/\s*,\s*(?![^{]*\})/).filter(Boolean);return n||(s=s.filter(i=>!i.startsWith("//"))),s.reduce((i,c)=>{const[u,d]=c.split(/\s*:\s*(?=\{)/);if(d){let p=null;try{p=JSON.parse(vSt(d))}catch(m){console.error(`failed to parse extra props for "${u}"`,m)}i[u]={...o,...p}}else i[u]={...o};return i},{})},ISt={parse:jSt},TSt={reset:!1,commit:!1,prev:null,doDirtyCheck:!1,doDirtyCheckByIndex:!1,debug:!1,init:!1,supressEvents:!1},OSt=({fromRowIndex:e,updateResult:t})=>(n,o)=>{const s=e+o;t.rowIndex=s,console.log(` ${s+1} ...`,n),t.rows++},yr=({gridId:e="NO_NAME",keyColumn:t,otherColumns:n,initialLockRows:o=!0,createRow:s,onUpdateRow:i,onGridChanged:c,doDirtyCheck:u=!1,doDirtyCheckByIndex:d=!1})=>{const p=a.useRef({supressEvents:!1}),[m,f,h,g]=us(o),x=a.useMemo(()=>new Set,[]),y=a.useMemo(()=>new Set,[]),D=a.useMemo(()=>new Set,[]),[v,T]=a.useState(null),I=a.useRef([]),P=a.useCallback(qe=>{console.log("prevGridDataRef.current=",qe),I.current=qe},[]),[E,k]=a.useState([]),w=a.useMemo(()=>ISt.parse(n),[n]),A=a.useMemo(()=>Object.keys(w),[w]),F=a.useMemo(()=>Object.keys(w).filter(qe=>{var Le;return((Le=w[qe])==null?void 0:Le.nullble)!==!0}),[w]),_=a.useCallback((qe,Le)=>{const _e=Gn.arePropsEqual(qe,Le,{ignoresEmpty:!0,deepCompare:!0});return console.log(`isRowDataEquals: ${_e}`,qe,Le),_e},[]),L=a.useCallback((qe,Le)=>{if(!d&&!t){console.error(" doDirtyCheckByIndex  keyColumn,  getRowKey");return}return d?Le:vo.get(qe,t)},[d,t]),K=a.useCallback((qe,Le,_e,H={})=>{const{debug:re}=H,q=L(Le,_e),Y=!_(qe,Le);return Y?y.has(q)||(y.add(q),re&&console.log(`dirtyId ${q} added`)):y.has(q)&&(y.delete(q),re&&console.log(`dirtyId ${q} removed`)),Y},[y,L,_]),z=a.useCallback(({createRow:qe,data:Le,length:_e=10})=>{const H=qe||s;if(!H)throw console.error("useDSG  fillRow  createRow"),new Error("fillRows failed");if(Le){if(!Oo.isArray(Le))throw new Error("data  array");return Le.length>=_e?Le:[...Le,...Array.from({length:_e-Le.length},H)]}else return Array.from({length:_e},H)},[s]),J=a.useCallback((qe,Le)=>{const{reset:_e=!1,prev:H=null,commit:re=!1,init:q,debug:Y,createRow:ie,length:B=10,supressEvents:Z,fillRows:ye,doDirtyCheck:Ie,doDirtyCheckByIndex:le}=Le||TSt;Z&&(p.current.supressEvents=!0);const fe=!!ye,Ae=Oo.isNumber(ye)?ye:B;k(Se=>{let be;Oo.isFunction(qe)?be=qe(Se):be=qe;let Me;return fe&&(Me=z({createRow:ie,data:be,length:Ae}),be=Me),_e||q?(y.clear(),x.clear(),D.clear(),be==null||be.map(we=>{const Ge=vo.get(we,t);Ge&&x.add(Ge)})):(Ie||le)&&be.forEach((we,Ge)=>{let We=I.current[Ge];if(Ie){const Ee=vo.get(we,t);We=I.current.find(Xe=>vo.get(Xe,t)===Ee)}K(we,We,Ge,{debug:Y})}),re||q?(P(be),console.log("prevGridData after commit/init",be)):H&&(P(H),console.log("prevGridData of prev",H)),T(!1),Y&&console.log("_setGridData",be),be})},[z,y,x,D,t,K,P]),Q=a.useCallback(qe=>{console.log(`${e}.onDataLoaded`,qe),J(qe,{reset:!0,commit:!0})},[e,J]),V=a.useCallback((qe,Le)=>{console.log(`${e}.onDataLoaded`,qe),J(qe,{...Le,reset:!0,commit:!0,supressEvents:!0})},[e,J]),W=a.useCallback(qe=>E[qe],[E]),U=a.useCallback(qe=>{const Le=I.current.filter(_e=>vo.get(_e,t)!==qe);J(Le)},[t,I,J]),X=a.useCallback((qe,Le)=>{console.log("removeRowByIndex",qe,Le);const _e=I.filter((H,re)=>re<qe||re>=Le);J(_e)},[J]),te=a.useCallback(qe=>{const Le=qe??E;console.log(`${e}.commitChanges`,Le),x.clear(),Le.map(_e=>{const H=vo.get(_e,t);x.add(H)}),P(Le)},[E,e,t,x,P]),se=a.useCallback(()=>{console.log(`${e}.rollbackChanges`,I.current),k(I.current),T(!1),y.clear()},[y,e,I]),he=a.useCallback((qe,Le,_e)=>qe.filter(H=>vo.get(H,_e||t)===Le).length>1,[t]),pe=a.useCallback((qe,Le)=>{const{key:_e}=Le,H=_e||t,re=vo.get(qe,H);if(!re)throw new Error(`key ${t} `,qe);return E.filter(q=>vo.get(q,H)===re).length>1},[E,t]),ue=a.useCallback((qe,Le,_e={})=>{const{key:H}=_e,re=H||t,q=vo.get(qe,re);if(!q)throw new Error(`key ${t} `,qe);return Le.filter(Y=>vo.get(Y,re)===q).length>1},[t]),ge=a.useCallback(qe=>{console.log(`${e}.propagateGridChange`),k(qe)},[e,k]),Ce=a.useCallback((qe,Le)=>{console.log(`${e}.handleGridChange`,qe);const _e=Le[0];if(console.log("operation",_e),_e.type==="CREATE")k(qe);else if(_e.type==="UPDATE"){const H=_e.fromRowIndex,re=qe[H],q=I.current[H];console.log("[DSG UPDATE]",re);const Y=K(q,re,H);console.log("dirty",Y),k(qe)}else k(qe)},[e,I,K]),Te=a.useCallback(({setValue:qe,getValues:Le,gridMeta:_e,onUpdateRow:H,onDeleteRow:re=OSt,isRowDeletable:q,onDeleteRowFailed:Y,onGridChanged:ie,isRowCreatable:B=!0,...Z})=>async(ye,Ie)=>{const{focusFirstColumnOnCreate:le=!0,dirtyCheckOpts:fe={}}=Z,Ae=H||i;console.log("onGridChange.operations",Ie),console.log("newValue",ye);const Se=Le?Le():null,be=[...ye];let Me=!1,we={rows:0,rowIndex:-1,cols:[]};for(const We of Ie)if(we.type=We.type,We.type==="UPDATE")if(p.current.supressEvents)console.log("grid.asyncRef.supressEvents is TRUE, grid changes not triggered");else{const Ee=ye.slice(We.fromRowIndex,We.toRowIndex),Xe=Ae?await Promise.all(Ee.map(async(ot,ze)=>await Ae({formData:Se,setValue:qe,fromRowIndex:We.fromRowIndex,newValue:ye,oldValue:E,gridMeta:_e,updateResult:we})(ot,ze))):Ee;(u||d)&&Xe.forEach((ot,ze)=>{const tt=We.fromRowIndex+ze;let ft=I.current[tt];if(u){const en=vo.get(Xe,t);ft=I.current.find(un=>vo.get(un,t)===en)}const ht=K(ot,ft,tt,{...fe});console.log("dirty",ht)}),be.splice(We.fromRowIndex,Xe.length,...Xe)}else if(We.type==="DELETE"){const Ee=E.slice(We.fromRowIndex,We.toRowIndex);if(Me=Ee.some((Xe,ot)=>{const ze=vo.get(Xe,t);if(q&&!q({key:ze,rowData:Xe})){const tt=We.fromRowIndex+ot;return ae.error(` ${tt+1} `),!0}return!1}),!Me){const Xe=Ee.map(async(ot,ze)=>{const tt=We.fromRowIndex+ze,ft=L(ot,tt);if(!ft)console.error(`key(${t}) `);else{if(re)try{await re({fromRowIndex:We.fromRowIndex,toRowIndex:We.toRowIndex,updateResult:we})(ot,ze)}catch{Y&&await Y({fromRowIndex:We.fromRowIndex,toRowIndex:We.toRowIndex,updateResult:we})(ot,ze)}D.has(ft)||(D.add(ft),console.log(`deletedIds added: ${ft}`))}});await Promise.all(Xe)}}else if(We.type==="CREATE")if(B)console.log("dsg.CREATE"),le&&(_e||console.warn("focusFirstColumnOnCreate is TRUE, but gridMeta is not provided in buildGridChangeHandler method"),_e==null||_e.toFirstColumn({nextRow:!0}));else{Me=!0,_e||console.warn("isRowCreatable is FALSE, but gridMeta is not provided, setActiveCell failed");const Ee=_e.getActiveCell();console.log("getActiveCell",Ee),ae.error("",{position:"top-right"}),setTimeout(()=>{_e.setActiveCell(Ee)})}console.log("Promise.all after changed",be);let Ge=null;ie&&!p.current.supressEvents&&(we.rows>0||we.cols.length>0||we.type==="DELETE")&&(console.log("onGridChanged",be),Ge=await ie({prevGridData:I.current,gridData:be,formData:Se,setValue:qe,updateResult:we})),Me||(Ge?(console.log("%conGridChanged:",Ob.CONSOLE_INFO,Ge),k(Ge)):k(be))},[i,u,d,E,K,t,D]),Ne=a.useCallback((qe,Le,_e={})=>{const re=(_e.data||E).map((q,Y)=>Y===qe?{...q,...Le}:q);console.log(`spreadOnRow(${qe})`,re),k(re)},[E]),xe=a.useCallback(({rowData:qe,rowIndex:Le})=>{if(!t)throw new Error(" keyColumn,  isPersisted");if(!qe)return!1;const _e=vo.get(qe,t);return _e?[...x].indexOf(_e)===Le:!1},[t,x]),me=a.useCallback(()=>{k([])},[k]),de=a.useCallback(()=>{if(!u&&!d)throw new Error("cannot getDirtyRows without doDirtyCheck OR doDirtyCheckByIndex");return!y||y.size===0?[]:d?Array.from(y).map(qe=>E[qe]).filter(qe=>qe!==void 0):E.filter(qe=>{if(y&&y.size>0){const Le=vo.get(qe,t);return y.has(Le)}return!1})},[y,u,d,E,t]),ce=a.useCallback(()=>I.current.filter(qe=>{if(D&&D.size>0){const Le=vo.get(qe,t);return D.has(Le)}return!1}),[D,t,I]),ee=a.useCallback(()=>{se(),f()},[se,f]),De=a.useCallback(()=>{p.current.supressEvents=!0,console.log(`%c****** ${Kn.displayName}.supressEvent ON ******`,nf.CONSOLE_WARN)},[]),ke=a.useCallback(()=>{p.current.supressEvents=!1,console.log(`%c****** ${Kn.displayName}.supressEvent OFF ******`,nf.CONSOLE_SUCCESS)},[]),He=a.useCallback(()=>(y==null?void 0:y.length)>0,[y==null?void 0:y.length]);return a.useEffect(()=>{p.current.supressEvents&&(p.current.supressEvents=!1,console.log("supressEvents reset to false"))},[E]),{gridData:E,prevGridData:I.current,gridLoading:v,setGridData:J,initGridData:V,gridId:e,keyColumn:t,setGridLoading:T,handleGridDataLoaded:Q,propagateGridChange:ge,commitChanges:te,rollbackChanges:se,clearGridData:me,handleGridChange:Ce,buildGridChangeHandler:Te,isPersisted:xe,removeRowByKey:U,removeRowByIndex:X,getRowDataByIndex:W,spreadOnRow:Ne,readOnly:m,toggleReadOnly:ee,dirtyIds:y,deletedIds:D,getDirtyRows:de,getDeletedRows:ce,isKeyDuplicated:he,isDuplicated:pe,isDuplicating:ue,isDirty:y&&y.size>0||D&&D.size>0,handleDirtyCheck:K,otherColumns:w,otherColumnNames:A,checkColumnNames:F,fillRows:z,asyncRef:p,handleUnlock:g,handleLock:h,supressEvents:De,enableEvents:ke,onUpdateRow:i,onGridChanged:c,checkDirty:He}},p5=e=>{if(!e)return"";const{ProdID:t,ProdData:n}=e;return t==="*"?"*":[t,n].filter(Boolean).join(" ")},ESt=e=>{if(!e)return"";const{ProdID:t}=e;return`${t}`},PSt=e=>{if(!e)return"";const{ProdData:t}=e;return`${t}`},RSt=e=>e?p5(e):" Enter, //, Esc ",wSt=e=>p5(e),kSt=(e,t)=>(e==null?void 0:e.ProdID)===(t==null?void 0:t.ProdID),ASt=e=>`${e.ProdID} ${e.ProdData}`,Gm={getOptionLabel:p5,getOptionLabelForId:ESt,getOptionLabelForName:PSt,isOptionEqualToValue:kSt,stringify:ASt,getTitle:RSt,renderOptionLabel:wSt},fn=e=>{const{label:t="",packageType:n,forName:o=!1,withStock:s=!1,withPrice:i=!1,withQuotes:c=!1,forId:u=!1,retail:d,cst:p,slotProps:m={},...f}=e,{token:h}=a.useContext(Be),{paper:g,...x}=m,y=a.useMemo(()=>Hr.stringify({tp:1e4,...n&&{pkg:n},...s&&{ws:1},...i&&{wp:1},...c&&{wq:1},fuzzy:1,opts:1,...d!=null&&{retail:d?1:0},cst:p}),[p,n,d,i,c,s]),D=a.useCallback((_,L)=>Gm.isOptionEqualToValue(_,L),[]),v=a.useCallback(_=>u?Gm.getOptionLabelForId(_):o?Gm.getOptionLabelForName(_):Gm.getOptionLabel(_),[u,o]),T=a.useCallback(_=>Gm.getTitle(_),[]),I=a.useCallback(_=>Gm.stringify(_),[]),P=a.useCallback(_=>Gm.renderOptionLabel(_),[]),E=a.useCallback(_=>_.data,[]),k=a.useCallback((_={})=>{const{error:L}=_,z=vo.template(" ${input} ")(_);return(L==null?void 0:L.message)||z},[]),w=a.useMemo(()=>d!=null?k:" ${input} ",[k,d]),A=a.useMemo(()=>Ub({stringify:_=>`${_.ProdID} ${_.ProdData} ${_.Barcode}`}),[]),F=a.useCallback((_,L)=>{let K=A(_,L);return L.inputValue&&(K=Ii.sortByFoundIndex(K,["ProdID","ProdData","Barcode"],L.inputValue)),K},[A]);return r.jsx(bt,{label:t,url:"v1/prods",bearer:h,queryParam:"qs",querystring:y,getOptionLabel:v,isOptionEqualToValue:D,renderOptionLabel:P,getOptions:E,getTitle:T,stringify:I,notFoundText:w,placeholder:"",typeToSearchText:"...",filterOptions:F,slotProps:{...x,paper:{sx:{width:300},...g}},...f})};fn.propTypes={label:l.string,packageType:l.string,children:l.oneOfType([l.node,l.array]),withBomPackageName:l.bool,withSalesPackageName:l.bool,withPurchasePackageName:l.bool,withStock:l.bool,withPrice:l.bool,withQuotes:l.bool,forId:l.bool,fuzzy:l.bool,retail:l.bool,cst:l.string,slotProps:l.object};fn.displayName="ProdPicker";const NSt=(e,t)=>Gn.arePropsEqual(e,t,{header:ND.displayName,fields:"rowData.ProdID,active,disabled,focus"}),ND=a.memo(e=>{const{rowData:t,setRowData:n,rowIndex:o,columnIndex:s,columnData:i,active:c,focus:u,disabled:d,stopEditing:p,insertRowBelow:m}=e,f=a.useRef(t);f.current=t;const{name:h,hideControlsOnActive:g,selectOnFocus:x=!0,lastCell:y,isLastRow:D,getNextCell:v,skipDisabled:T,setActiveCell:I,readOnly:P,focusOnDisabled:E,multiple:k,...w}=i,{handleFocusNextCell:A}=Pi({getNextCell:v,lastCell:y,isLastRow:D,setActiveCell:I,insertRowBelow:m}),F=zi({name:h,rowIndex:o,rowData:t,columnIndex:s,focus:u,active:c,disabled:d,hideControlsOnActive:g,selectOnFocus:x,setRowData:n,stopEditing:p,readOnly:P,skipDisabled:T,handleFocusNextCell:A,focusOnDisabled:E,multiple:k});return r.jsx(fn,{queryParam:"qs",disableOpenOnInput:!0,virtualize:!0,...F,...w})},NSt);ND.propTypes={rowData:l.oneOfType([l.string,l.number,l.object]),setRowData:l.func,rowIndex:l.number,columnIndex:l.number,columnData:l.object,active:l.bool,focus:l.bool,disabled:l.bool,stopEditing:l.func,insertRowBelow:l.func,duplicateRow:l.func,deleteRow:l.func,getContextMenuItems:l.func,handleFocusNextCell:l.func,skipDisabled:l.bool,lastCell:l.symbol};ND.propTypes={};ND.displayName="ProdPickerComponent";const ls=e=>{const{columnData:t,...n}=e,o=ii(),s=a.useMemo(()=>({...t,...o}),[o,t]);return r.jsx(ND,{columnData:s,...n})};ls.displayName="ProdPickerComponentContainer";ls.propTypes={columnData:l.object};const hr=({columns:e,skipDisabled:t=!1,lastCell:n,data:o,setGridData:s,createRow:i,defaultCell:c,grid:u,setValue:d})=>{const p=a.useMemo(()=>o??(u==null?void 0:u.gridData),[o,u==null?void 0:u.gridData]),m=a.useRef(),f=a.useRef({refAssigned:!1}),h=a.useCallback(xe=>{xe&&(m.current=xe,!f.current.refAssigned&&c&&(m.current.setActiveCell(c),console.log("defaultCell assigned",c)),f.current.refAssigned=!0)},[c]),g=a.useRef({prevCell:null,cell:null,forward:!0,activeCell:null,refocus:!1}),x=a.useRef(),y=a.useRef(),D=a.useRef(),v=a.useRef(),T=a.useCallback(xe=>{console.log("setSelectedRow(row)",xe),D.current=xe},[]),I=a.useCallback(()=>D.current,[]),P=a.useCallback(xe=>{T(xe)},[T]),E=a.useCallback((xe={})=>{var de;const{rowIndex:me}=xe;return me===void 0||me==null?!1:me===((de=D.current)==null?void 0:de.rowIndex)},[]),k=a.useCallback(xe=>E(xe)?yh.CssClasses.ROW_SELECTED:void 0,[E]),w=a.useCallback(({selection:xe})=>{xe&&(console.log("handleSelectionChange",xe),v.current=xe)},[]),A=a.useCallback(({onRowSelectionChange:xe=P}={})=>({selection:me})=>{var de,ce,ee;if(console.log("buildSelectionChangeHandler, selection:",me),me)if(((de=me==null?void 0:me.min)==null?void 0:de.row)===((ce=me==null?void 0:me.max)==null?void 0:ce.row)){const De=(ee=me==null?void 0:me.min)==null?void 0:ee.row,ke=p[De];xe({rowIndex:De,rowData:ke})}else xe(void 0)},[p,P]),F=a.useCallback((xe={})=>{if(m.current)return m.current.activeCell;xe.debug&&console.log("getActiveCell failed, gridRef.current is null")},[]),_=a.useCallback((xe,me={})=>{var de;if(console.log("setActiveCell",xe),m.current){(de=m.current)==null||de.setActiveCell(xe);return}else console.error("setActiveCell failed, gridRef is null");me.debug&&console.log("setActiveCell failed: gridRef.current is null",xe)},[]),L=a.useCallback(xe=>{const me=e[xe.col].disabled;return!!(typeof me=="function"?me({rowData:p[xe.row],rowIndex:xe.row}):me)},[e,p]),K=a.useCallback((xe,me)=>me?xe?(me==null?void 0:me.row)===xe.row?me.col>=xe.col:me.row>xe.row:!0:null,[]),z=a.useCallback(xe=>{console.log("handleFocusPrevCell, prevCell:",xe||g.current.prevCell),g.current.prevCell&&(g.current.refocus=!0,_(xe||g.current.prevCell))},[_]),J=a.useCallback(({cell:xe})=>{var me,de,ce,ee,De,ke,He,qe;(((de=(me=g.current)==null?void 0:me.cell)==null?void 0:de.col)!=(xe==null?void 0:xe.col)||((ee=(ce=g.current)==null?void 0:ce.cell)==null?void 0:ee.row)!=(xe==null?void 0:xe.row))&&(console.log(`ActiveCellChange(prev->new), refocus: ${(De=g.current)==null?void 0:De.refocus}`,(ke=g.current)==null?void 0:ke.cell,xe),g.current.refocus?g.current.refocus=!1:(g.current={prevCell:(He=g.current)==null?void 0:He.cell,cell:xe,forward:K((qe=g.current)==null?void 0:qe.cell,xe),refocus:!1},console.log("forward",g.current.forward)))},[K]),Q=a.useCallback((xe,me={forward:void 0})=>{if(!xe)throw new Error(" cell");let de=xe.col,ce=xe.row,ee=me.forward!=null?me.forward:K(g.current.cell,xe),De=ee!==null&&ee!=null;for(;De;){if(ee){if(de++,de>=e.length&&(de=0,ce++,ce>=p.length))return me.forward==null&&ee?(console.log("cannot find next cell while using direction auto detection and result is reversing, try force forwarding..."),Q(xe,{forward:!1})):{field:null,isForward:ee}}else if(de--,de<0&&(de=e.length-1,ce--,ce<0))return me.forward==null&&!ee?(console.log("cannot find next cell while using direction auto detection and result is reversing, try force forwarding..."),Q(xe,{forward:!0})):{field:null,isForward:ee};const ke={row:ce,col:de};if(!L(ke))return{field:ke,isForward:ee}}return{field:null,isForward:ee}},[e==null?void 0:e.length,p==null?void 0:p.length,L,K]),V=a.useCallback((xe,me={})=>{var ee,De;const{nextRow:de=!0}=me,ce=de?p.length-1:(De=(ee=g.current)==null?void 0:ee.cell)==null?void 0:De.row;_({row:ce,col:xe})},[p==null?void 0:p.length,_]),W=a.useCallback((xe={})=>{V(0,xe)},[V]),U=a.useCallback((xe={})=>v.current,[]),X=a.useCallback((xe,me={})=>{if(m.current&&xe)return m.current.setSelection(xe);me.debug&&console.log("setSelection failed: gridRef.current is null",xe)},[]),te=a.useCallback(()=>{x.current=null,y.current=null},[]),se=a.useCallback(()=>{x.current=F(),y.current=U(),console.log("prevActiveCellRef",x.current),console.log("prevSelectionRef",y.current),_(null)},[F,U,_]),he=a.useCallback(()=>{const xe=p.length-1;if(x.current){let me=x.current;me.row>xe&&(me.row=xe,_(me)),x.current=null}if(y.current){let me=y.current;me.min.row>xe&&(me.min.row=xe),me.max.row>xe&&(me.max.row=xe),X(me),y.current=null}},[p==null?void 0:p.length,_,X]),pe=a.useCallback(xe=>{if(!xe)throw new Error("current cell cannot be null");return xe.row===p.length-1&&xe.col===e.length-1},[e==null?void 0:e.length,p==null?void 0:p.length]),ue=a.useCallback(xe=>xe.row==p.length-1,[p==null?void 0:p.length]),ge=a.useCallback(xe=>{if(!u){console.warn(" grid  DSGMeta, toggleCheckbox ");return}const me=u.gridData,de=me.map((ce,ee)=>ee===xe.row?{...ce,[xe.colId]:!ce[xe.colId]}:ce);if(u.onUpdateRow){const ce=u.gridData.map((ke,He)=>He===xe.row?{...ke,[xe.colId]:!ke[xe.colId]}:ke);let ee={rows:0,rowIndex:xe.row,cols:[],type:"UPDATE"};const De=ce[xe.row];u.onUpdateRow({updateResult:ee,fromRowIndex:0,oldValue:me,newValue:ce,setValue:d})(De,xe.row),u.onGridChanged&&(ee.rows>0||ee.cols.length>0||ee.type==="DELETE")&&(console.log("onGridChanged",ce),u.onGridChanged({gridData:ce,setValue:d,updateResult:ee}))}u==null||u.setGridData(de)},[u,d]),Ce=a.useCallback(xe=>{if(!i)throw new Error(" createRow  DSGMeta");console.log("insertRowBelow below",xe),s(me=>{const de=[...me];return de.splice(xe.row+1,0,i()),de}),setTimeout(()=>{const me={row:xe.row+1,col:0};_(me)})},[i,_,s]),Te=a.useCallback((xe,me={})=>{console.log("handleFocusNextCell from: ",xe);const de=Q(xe,me);if(de.field)_(de.field);else{if(!ue(xe))return;if(typeof n=="string")ae.warn(n);else if(typeof n=="function")n(me);else switch(n){case Xn.BLUR:_(null);break;case Xn.CREATE_ROW:de.isForward&&Ce(xe);break}}},[Q,Ce,ue,n,_]),Ne=a.useCallback(xe=>{if(xe.key===" "){const me=F();if(console.log("activeCell: ",me),me!=null){const de=e[me.col];console.log("column",de),de.toggleBySpace&&(xe.preventDefault(),ge(me),de.focusNextCellOnSpace&&Te(me,{forward:!0}))}}},[e,F,Te,ge]);return a.useEffect(()=>(document.addEventListener("keydown",Ne),()=>{document.removeEventListener("keydown",Ne)}),[Ne]),{gridRef:m,setGridRef:h,columns:e,isLastCell:pe,skipDisabled:t,lastCell:n,isLastRow:ue,getNextCell:Q,handleActiveCellChange:J,setActiveCell:_,getActiveCell:F,getSelection:U,setSelection:X,isCellDisabled:L,toFirstColumn:W,isRowSelected:E,getRowClassName:k,setSelectedRow:T,getSelectedRow:I,selectedRowRef:D,handleSelectionChange:w,buildSelectionChangeHandler:A,saveSelection:se,restoreSelection:he,resetSelection:te,handleFocusPrevCell:z,handleFocusNextCell:Te}},Bt=(e={})=>{const{token:t}=a.useContext(Be),{moduleId:n}=e,[o,s]=a.useState(),[i,c]=a.useState({moduleAuthorityLoading:null,moduleAuthority:null,canRead:!1,canCreate:!1,canUpdate:!1,canPrint:!1,canDelete:!1,canManage:!1,canReview:!1,canReject:!1,canRun:!1,canExport:!1,canImport:!1}),{httpGetAsync:u}=Zn(),d=a.useCallback(async()=>{c(p=>({...p,moduleAuthorityLoading:!0}));try{const{status:p,payload:m,error:f}=await u({url:`v1/auth/authorities/${n}`,bearer:t});if(p.success)c(h=>({...h,moduleAuthority:m,...Tn.transformPayloadToAuthority(m)}));else throw f||new Error(` ${n} `)}catch(p){console.error(p),s(p)}finally{c(p=>({...p,moduleAuthorityLoading:!1}))}},[u,n,t]);return En(()=>{d()},[]),{...i,getModuleAuthority:d,error:o}},Xxe=2,Zxe=4,FSt=e=>Oo.isNumber(e)?e==null?void 0:e.toFixed(Xxe):e,MSt=e=>Oo.isNumber(e)?e==null?void 0:e.toFixed(Zxe):e,_St=e=>/^\d+$/.test(e);function LSt(e){return e==null||e===""}function $St(e){return e&&e.split(`
`)[0]}const wo={PRICE_DIGITS:Xxe,RATE_DIGITS:Zxe,formatPrice:FSt,formatRate:MSt,containsNumberOnly:_St,isNullOrEmpty:LSt,getFirstLine:$St},BSt=e=>{if(!e)return"";const{CodeID:t,CodeData:n,Other1:o}=e;return`${t} ${n}${o!=null?": "+wo.formatPrice(o??0)+"%":""}`},WSt=(e,t)=>(e==null?void 0:e.CodeID)===(t==null?void 0:t.CodeID),ile={getOptionLabel:BSt,isOptionEqualToValue:WSt},FD=a.forwardRef((e,t)=>{const{label:n="",...o}=e,{token:s}=a.useContext(Be);return r.jsx(bt,{label:n,ref:t,bearer:s,url:"v1/prod/cms-types",getOptionLabel:ile.getOptionLabel,isOptionEqualToValue:ile.isOptionEqualToValue,notFoundText:" ${input} ",...o})});FD.propTypes={label:l.string,children:l.node};FD.displayName="CmsTypePicker";const USt=(e,t)=>Gn.arePropsEqual(e,t,{fields:"rowData.CodeID,active,disabled,focus"}),Sk=a.memo(e=>{const{rowData:t,setRowData:n,rowIndex:o,columnIndex:s,columnData:i,active:c,focus:u,disabled:d,stopEditing:p,insertRowBelow:m}=e,f=a.useRef(t);f.current=t;const{name:h,hideControlsOnActive:g,selectOnFocus:x,lastCell:y,isLastRow:D,getNextCell:v,skipDisabled:T,setActiveCell:I,readOnly:P,focusOnDisabled:E,multiple:k,...w}=i,{handleFocusNextCell:A}=Pi({getNextCell:v,lastCell:y,isLastRow:D,setActiveCell:I,insertRowBelow:m}),F=zi({name:h,rowIndex:o,rowData:t,columnIndex:s,focus:u,active:c,disabled:d,hideControlsOnActive:g,selectOnFocus:x,setRowData:n,stopEditing:p,readOnly:P,skipDisabled:T,handleFocusNextCell:A,focusOnDisabled:E,multiple:k});return r.jsx(FD,{queryParam:"qs",...F,...w})},USt);Sk.propTypes={name:l.string,rowData:l.oneOfType([l.string,l.number,l.object]),setRowData:l.func,rowIndex:l.number,columnIndex:l.number,columnData:l.object,active:l.bool,focus:l.bool,disabled:l.bool,stopEditing:l.func,insertRowBelow:l.func,duplicateRow:l.func,deleteRow:l.func,getContextMenuItems:l.func};Sk.propTypes={};Sk.displayName="CmsTypePickerComponent";const m5=e=>{const{columnData:t,...n}=e,o=ii(),s=a.useMemo(()=>({...t,...o}),[o,t]);return r.jsx(Sk,{columnData:s,...n})};m5.displayName="CmsTypePickerComponentContainer";m5.propTypes={columnData:l.object};const Co=()=>{const[e,t]=a.useState(),n=a.useCallback(()=>{t(!0)},[]),o=a.useCallback(()=>{t(!1)},[]);return{sideDrawerOpen:e,handleSideDrawerOpen:n,handleSideDrawerClose:o}},f5=({mode:e})=>{var Tt,Jt;const[t,n]=a.useState(zr.Tabs.INFO),o=a.useContext(Be),{token:s}=o,i=a.useContext(cr),c=a.useContext(ln),u=a.useMemo(()=>{var st;return!!((st=c==null?void 0:c.CMS)!=null&&st.A01)},[(Tt=c==null?void 0:c.CMS)==null?void 0:Tt.A01]),d=a.useRef(),p=a.useMemo(()=>{switch(e){case zr.Mode.NEW_PROD:return"A010";case zr.Mode.STORE:return"AA01";default:return"A01"}},[e]),m=Bt({moduleId:p}),f=Co(),{clearParams:h}=a.useContext(Sn),g=a.useRef({dirty:!1}),{httpGetAsync:x,httpPostAsync:y,httpPutAsync:D,httpPatchAsync:v,httpDeleteAsync:T}=Zn(),[I,P]=a.useState(),E=a.useContext(Mr),[k,w,A,F]=us(!1),_=a.useMemo(()=>{switch(e){case zr.Mode.NEW_PROD:return"v1/new-prods";default:return"v1/prods"}},[e]),L=a.useMemo(()=>e===zr.Mode.NEW_PROD?"":"",[e]),K=so({url:_,bearer:s,initialFetchSize:50});if(!e)throw"mode ";const z=a.useCallback(({rowData:st})=>{var Dt;return{...st,SDept_N:((Dt=st==null?void 0:st.dept)==null?void 0:Dt.DeptName)||""}},[]),J=a.useCallback(()=>({dept:null,SCost:""}),[]),Q=a.useMemo(()=>!i.editing||e===zr.Mode.STORE,[i.editing,e]),V=a.useMemo(()=>[{...Pe.keyColumn("dept",or(NC,{name:"dept",disableOpenOnInput:!0,forId:!0,disableClearable:!0,selectOnFocus:!0,autoHighlight:!0,slotProps:{paper:{sx:{width:200}}}})),title:"",minWidth:120,maxWidth:120,disabled:Q},{...Pe.keyColumn("SDept_N",kt({continuousUpdates:!1})),title:"",disabled:!0,grow:2},{...Pe.keyColumn("SCost",Jn(2,{})),title:"",minWidth:110,disabled:Q}],[Q]),W=yr({gridId:"trans",keyColumn:"dept.DeptID",createRow:J}),U=hr({data:W.gridData,columns:V,skipDisabled:!0,lastCell:Xn.CREATE_ROW}),X=a.useMemo(()=>i.editing&&e===zr.Mode.STORE,[i.editing,e]),te=a.useCallback(()=>({dept:null,cmsType:null}),[]),se=a.useMemo(()=>!i.editing||e===zr.Mode.STORE,[i.editing,e]),he=a.useMemo(()=>[{...Pe.keyColumn("dept",or(NC,{name:"dept",disableOpenOnInput:!0,forId:!0,disableClearable:!0,selectOnFocus:!0,autoHighlight:!0,slotProps:{paper:{sx:{width:200}}}})),title:"",minWidth:120,maxWidth:120,disabled:Q},{...Pe.keyColumn("SDept_N",kt({continuousUpdates:!1})),title:"",disabled:!0,grow:2},{...Pe.keyColumn("cmsType",or(m5,{name:"dept",disableOpenOnInput:!0,forId:!0,disableClearable:!0,selectOnFocus:!0,autoHighlight:!0,slotProps:{paper:{sx:{width:200}}}})),title:"",minWidth:300,maxWidth:300,disabled:Q}],[Q]),pe=yr({gridId:"cms",keyColumn:"dept.DeptID",createRow:te}),ue=hr({data:pe.gridData,columns:he,skipDisabled:!0,lastCell:Xn.CREATE_ROW}),ge=a.useCallback((st,Dt)=>{const Gt=[...st];let An=!1;for(const _n of Dt)_n.type==="UPDATE"?(console.log("dsg.UPDATE"),st.slice(_n.fromRowIndex,_n.toRowIndex).forEach((pt,Rt)=>{var lt,Qe,rn;const Ze=_n.fromRowIndex+Rt,dn=pe.gridData[Ze];let Yt={...pt};((lt=pt.dept)==null?void 0:lt.DeptID)!==((Qe=dn.dept)==null?void 0:Qe.DeptID)&&(Yt=z({rowData:Yt}),pt.dept&&pe.isDuplicating(pt,st)&&(ae.error(`${(rn=pt.dept)==null?void 0:rn.DeptName}, `),setTimeout(()=>{ue.setActiveCell({col:0,row:Ze})}),An=!0)),Gt[Ze]=Yt})):_n.type==="DELETE"?(console.log("dsg.DELETE"),An=pe.gridData.slice(_n.fromRowIndex,_n.toRowIndex).some((pt,Rt)=>!1)):_n.type==="CREATE"&&(console.log("dsg.CREATE"),ue.toFirstColumn({nextRow:!0}));An||pe.setGridData(Gt)},[pe,ue,z]),Ce=a.useMemo(()=>i.editing&&e===zr.Mode.STORE,[i.editing,e]),Te=a.useCallback(()=>({prod:null,SProdQty:""}),[]),Ne=a.useMemo(()=>!i.editing||e===zr.Mode.STORE,[i.editing,e]),xe=a.useMemo(()=>[{...Pe.keyColumn("prod",or(ls,{name:"prod",placeholder:"",typeToSearchText:"",forId:!0,disableClearable:!0,slotProps:{paper:{sx:{width:360}}}})),title:"",minWidth:130,maxWidth:150,disabled:Ne},{...Pe.keyColumn("SProdData",kt({continuousUpdates:!1})),title:"",disabled:!0,grow:2},{...Pe.keyColumn("SProdQty",Jn(2)),title:"",minWidth:90,disabled:Ne}],[Ne]),me=yr({gridId:"combo",keyColumn:"prod.ProdID",createRow:Te}),de=hr({data:me.gridData,columns:xe,skipDisabled:!0,lastCell:Xn.CREATE_ROW}),ce=a.useCallback(async({id:st,refresh:Dt=!1}={})=>{const Gt=Dt?d.current:st;if(!Gt)throw new Error(" id");Dt||(d.current=st,i.startReading("...",{id:st}));try{const{status:An,payload:_n,error:pt}=await x({url:_,params:{id:Gt},bearer:s});if(console.log("payload",_n),An.success){g.current.dirty=!1;const Rt=zr.transformForReading(_n.data[0]);W.initGridData(Rt.trans),me.initGridData(Rt.combo),pe.initGridData(Rt.cms),i.finishedReading({data:Rt})}else throw pt??new Error("")}catch(An){An.status==404?i.failedReading({...An,message:`${e===zr.Mode.NEW_PROD?"":""} ${st}`}):i.failedReading(An)}},[i,x,_,s,W,me,pe,e]),ee=a.useCallback(()=>{E.confirm({message:"?",onConfirm:()=>{i.cancelUpdating(),g.current.dirty&&ce({refresh:!0}),g.current.dirty=!1}})},[i,E,ce]),De=a.useCallback(()=>{i.cancelAction(),h()},[h,i]),ke=a.useCallback(async(st,Dt)=>{st==null||st.stopPropagation(),n(zr.Tabs.INFO),De(),P(Dt),ce({id:Dt.ProdID})},[De,ce]),He=a.useCallback(async st=>{n(zr.Tabs.INFO),P({ProdID:st}),ce({id:st})},[ce]),qe=a.useCallback(()=>{E.confirm({message:"?",onConfirm:()=>{De()}})},[De,E]),Le=a.useCallback(()=>{E.confirm({message:"?",onConfirm:()=>{De()}})},[De,E]),_e=a.useCallback(()=>{De()},[De]),H=a.useCallback(async({data:st})=>{try{i.creating?i.startCreating():i.startUpdating();const Dt=i.creating?y:D,{status:Gt,error:An}=await Dt({url:_,data:st,bearer:s});if(Gt.success)ae.success(`${e===zr.Mode.NEW_PROD?"":""}${st==null?void 0:st.ProdData}${i.creating?"":""}`),i.creating?(i.finishedCreating(),i.cancelReading()):(i.finishedUpdating(),ce({id:st==null?void 0:st.ProdID})),K.loadList({refresh:!0});else{if(An.code)switch(An.code){case 410:n(zr.Tabs.TRANS);break;case 420:n(zr.Tabs.COMBO);break;case 430:n(zr.Tabs.CMS);break;case 409:case 422:default:n(zr.Tabs.INFO);break}throw An||new Error("")}}catch(Dt){i.creating?(i.failedCreating(Dt),console.error("handleCreate.failed",Dt),ae.error("",Dt)):(i.failedUpdating(Dt),g.current.dirty=!0,console.error("handleUpdate.failed",Dt),ae.error("",Dt))}},[_,i,y,D,K,ce,e,s]),re=a.useCallback(async st=>{console.log("A01.onCounterSubmit()",st);const Dt=zr.transformForCounterSubmit(st);console.log("processed",Dt);try{i.startUpdating();const{status:Gt,error:An}=await v({url:"v1/prods/counter",data:Dt,bearer:s});if(Gt.success)ae.success(`${st==null?void 0:st.ProdData}`),i.finishedUpdating(),ce({id:Dt==null?void 0:Dt.ProdID});else throw An||new Error("")}catch(Gt){i.failedUpdating(Gt),console.error("onCounterSubmit.failed",Gt),ae.error("",Gt)}},[i,v,ce,s]),q=a.useCallback(st=>{console.error("A01.onCounterSubmitError",st),ae.error(", (*)")},[]),Y=a.useCallback(async st=>{console.log("A01.onEditorSubmit()",st),console.log("transGrid.gridData",W.gridData),console.log("comboGrid.gridData",me.gridData);const Dt=zr.transformForEditorSubmit(st,W.gridData,me.gridData,u?pe.gridData:null);console.log("processed",Dt),H({data:Dt})},[pe.gridData,me.gridData,u,H,W.gridData]),ie=a.useCallback(st=>{console.error("A01.onSubmitError",st),ae.error(", ")},[]),B=a.useCallback(st=>{W.setGridData((st==null?void 0:st.trans)||[],{reset:!0,commit:!0}),me.setGridData((st==null?void 0:st.combo)||[],{reset:!0,commit:!0})},[me,W]),Z=a.useCallback(st=>{st==null||st.stopPropagation(),n(zr.Tabs.INFO);const Dt={taxType:hb.findById("T"),trans:W.fillRows({}),combo:me.fillRows({}),cms:pe.fillRows({})};i.promptCreating({data:Dt}),W.initGridData(Dt.trans),me.initGridData(Dt.combo),pe.initGridData(Dt.cms)},[pe,me,i,W]),ye=a.useCallback(()=>{var st;E.confirm({message:`${(st=i.itemData)==null?void 0:st.ProdData}?`,onConfirm:async()=>{var Dt;try{i.startDeleting(i.itemData);const{status:Gt,error:An}=await T({url:_,bearer:s,params:{id:(Dt=i.itemData)==null?void 0:Dt.ProdID}});if(De(),Gt.success)ae.success(`${L}${i.itemData.ProdData}`),K.loadList({refresh:!0});else throw An||""}catch(Gt){i.failedDeleting(Gt),console.error("confirmDelete.failed",Gt),ae.error("",Gt)}}})},[_,L,De,i,E,T,K,s]),Ie=Or(),le=a.useMemo(()=>!!Ie.state,[Ie.state]),fe=a.useCallback(()=>{Ie.prompt()},[Ie]),Ae=a.useCallback(()=>{Ie.clear()},[Ie]),Se=Or(),be=a.useMemo(()=>!!Se.state,[Se.state]),Me=a.useCallback(async({value:st})=>{var Dt;console.log("handleReview",st);try{const{status:Gt,error:An}=await v({url:`${_}/reviewed`,data:{...i.itemData,OfficialProdID:st},bearer:s});if(Gt.success)Se.clear(),De(),K.loadList({refresh:!0}),ae.success(`${(Dt=i.itemData)==null?void 0:Dt.ProdData}`);else throw An||new Error("")}catch(Gt){ae.error("",Gt)}},[_,De,i.itemData,v,K,Se,s]),we=a.useCallback(()=>{var st;E.prompt({title:"",label:"",message:"",onConfirm:Me,value:((st=i.itemData)==null?void 0:st.ProdID)||"",confirmText:""}),Se.prompt()},[(Jt=i.itemData)==null?void 0:Jt.ProdID,E,Me,Se]),Ge=a.useCallback(()=>{Se.cancel()},[Se]),We=a.useCallback(()=>{Se.start()},[Se]),Ee=a.useCallback(()=>{Se.finish()},[Se]),Xe=a.useCallback(()=>{Se.fail()},[Se]),ot=a.useCallback(st=>{F(),console.log("onSearchSubmit",st),K.loadList({params:zr.transformAsQueryParams(st)})},[F,K]),ze=a.useCallback(st=>{console.error("onSearchSubmitError",st)},[]),tt=a.useCallback((st,Dt)=>{n(Dt)},[]),ft=a.useCallback((st,Dt)=>{const Gt=[...st];let An=!1;for(const _n of Dt)_n.type==="UPDATE"?(console.log("dsg.UPDATE"),st.slice(_n.fromRowIndex,_n.toRowIndex).forEach((pt,Rt)=>{var lt,Qe,rn;const Ze=_n.fromRowIndex+Rt,dn=W.gridData[Ze];let Yt={...pt};((lt=pt.dept)==null?void 0:lt.DeptID)!==((Qe=dn.dept)==null?void 0:Qe.DeptID)&&(Yt=z({rowData:Yt}),pt.dept&&W.isDuplicating(pt,st)&&(ae.error(`${(rn=pt.dept)==null?void 0:rn.DeptName}, `),setTimeout(()=>{U.setActiveCell({col:0,row:Ze})}),An=!0)),Gt[Ze]=Yt})):_n.type==="DELETE"?(console.log("dsg.DELETE"),An=W.gridData.slice(_n.fromRowIndex,_n.toRowIndex).some((pt,Rt)=>!1)):_n.type==="CREATE"&&(console.log("dsg.CREATE"),U.toFirstColumn({nextRow:!0}));An||W.setGridData(Gt)},[z,W,U]),ht=a.useCallback(({rowData:st})=>{const{prod:Dt}=st;return{...st,SProdData:(Dt==null?void 0:Dt.ProdData)||""}},[]),en=a.useCallback((st,Dt)=>{const Gt=[...st];let An=!1;for(const _n of Dt)_n.type==="UPDATE"?(console.log("dsg.UPDATE"),st.slice(_n.fromRowIndex,_n.toRowIndex).forEach((pt,Rt)=>{var lt,Qe,rn;const Ze=_n.fromRowIndex+Rt,dn=me.gridData[Ze];let Yt={...pt};((lt=pt.prod)==null?void 0:lt.ProdID)!==((Qe=dn.prod)==null?void 0:Qe.ProdID)&&(Yt=ht({rowData:Yt}),pt.prod&&me.isDuplicating(pt,st)&&(ae.error(`${(rn=pt.prod)==null?void 0:rn.ProdData}, `),setTimeout(()=>{de.setActiveCell({col:0,row:Ze})}),An=!0)),Gt[Ze]=Yt})):_n.type==="DELETE"?(console.log("dsg.DELETE"),An=me.gridData.slice(_n.fromRowIndex,_n.toRowIndex).some((pt,Rt)=>!1)):_n.type==="CREATE"&&(console.log("dsg.CREATE"),de.toFirstColumn({nextRow:!0}));An||me.setGridData(Gt)},[me,de,ht]),un=a.useCallback(({reset:st})=>()=>{st({lvId:"",lvBarcode:"",lvName:"",lvCatL:null,lvCatM:null,lvCatS:null,lvCounter:null,lvCmsType:null})},[]),Je=a.useMemo(()=>i.editing&&e===zr.Mode.STORE,[i.editing,e]),qt=a.useCallback(({setValue:st,getValues:Dt})=>Gt=>{if(console.log("handleInvDataFocused",Gt),!Gt.target.value){const An=Dt("ProdData");st("InvData",An)}},[]);return En(()=>{i.cancelAction()},[]),{...K,selectById:He,popperOpen:k,handlePopperToggle:w,handlePopperOpen:A,handlePopperClose:F,onSearchSubmit:ot,onSearchSubmitError:ze,mode:e,handleSelect:ke,selectedItem:I,...i,cancelAction:De,handleDialogClose:_e,confirmDialogClose:Le,confirmQuitCreating:qe,onEditorSubmit:Y,onEditorSubmitError:ie,confirmReturn:ee,resetGridData:B,handlePromptCreating:Z,confirmDelete:ye,reviewing:be,promptReview:we,cancelReview:Ge,startReview:We,finishReview:Ee,failReview:Xe,transGrid:W,transMeta:U,handleTransGridChange:ft,transGridDisabled:Q,createTransRow:J,transTabDisabled:X,cmsGrid:pe,cmsMeta:ue,handleCmsGridChange:ge,cmsGridDisabled:se,createCmsRow:te,cmsTabDisabled:Ce,comboGrid:me,comboMeta:de,setComboGridRef:me.setGridRef,comboGridData:me.gridData,handleComboGridChange:en,comboGridDisabled:Ne,onCounterSubmit:re,onCounterSubmitError:q,...m,printing:le,promptPrint:fe,cancelPrint:Ae,selectedTab:t,handleTabChange:tt,setSelectedTab:n,handleReset:un,createComboRow:Te,comboTabDisabled:Je,...f,handleInvDataFocused:qt,doCms:u}},Ri=a.createContext(),eye=({children:e})=>{const t=a.useContext(Be),n=at(),o=f5({token:t.token,mode:zr.Mode.NEW_PROD});return r.jsx(Ri.Provider,{value:{...o},children:r.jsx(Ye,{...n,children:e})})};eye.propTypes={children:l.oneOfType([l.array,l.object])};const qSt=e=>e.data[0].A011_W1,VSt=(e,t)=>(console.log("data",e),console.log("dirtyIds",t),e.filter(n=>t&&t.size>0?t.has(n.ProdID):!1).map(n=>{var s,i,c,u,d,p;const{...o}=n;return{...o,Price:((s=n.Price)==null?void 0:s.toString())||"",PriceA:((i=n.PriceA)==null?void 0:i.toString())||"",PriceB:((c=n.PriceB)==null?void 0:c.toString())||"",PriceC:((u=n.PriceC)==null?void 0:u.toString())||"",PriceD:((d=n.PriceD)==null?void 0:d.toString())||"",PriceE:((p=n.PriceE)==null?void 0:p.toString())||""}})),lle={transformForReading:qSt,transformForSubmitting:VSt},zSt=e=>{var t,n,o,s,i,c;return{pi:e.prodId,pn:e.prodName,cl:(t=e.catL)==null?void 0:t.LClas,cm:(n=e.catM)==null?void 0:n.MClas,cs:(o=e.catS)==null?void 0:o.SClas,ta:(s=e.typeA)==null?void 0:s.id,tb:(i=e.typeB)==null?void 0:i.id,tx:(c=e.taxType)==null?void 0:c.id,sq:e.safeQty}},tO={transformAsQueryParams:zSt},cle={select:!0};function HSt(e){return e.replace(/(\w+)\s*:/g,function(t,n){return`"${n}":`})}const GSt=(e,t={})=>{const{includeComments:n=!1}=t;let o=e.trim().split(/\s*,\s*(?![^{]*\})/).filter(Boolean);return n||(o=o.filter(s=>!s.startsWith("//"))),o.map(s=>{const[i,c]=s.split(/\s*:\s*(?=\{)/);if(c){let u=null;try{u=JSON.parse(HSt(c))}catch(d){console.error(`failed to parse extra props for "${i}"`,d)}return{name:i,...cle,...u}}else return{name:i,...cle}})},KSt={parse:GSt},B$=Object.freeze({BLUR:Symbol("BLUR"),PROMPT:Symbol("PROMPT"),CYCLE:Symbol("CYCLE")}),vt=(e,t={})=>{const n=a.useRef({supressEvents:!1}),o=Ke(),{setFocus:s}=o||{},{disableEnter:i=!1,lastField:c=null,lastFieldMessage:u="",firstFieldMessage:d="",includeComments:p=!1}=t,m=a.useMemo(()=>KSt.parse(e,{includeComments:p}),[p,e]),f=a.useCallback((T,I={})=>{const{forward:P=!0,isFieldDisabled:E,e:k}=I,w=T?m.findIndex(_=>_.name===T):-1;if(w===-1&&(!m||m.length===0))return null;function A(_,L){return(L==null?void 0:L.key)==="Enter"&&_.skipEnter}function F(_,L){return!L||!L(_)?!0:(console.log(`field [${_.name}] is disabled`,_),!1)}if(P)for(let _=w+1;_<m.length;_++){const L=m[_];if(!A(L,k)&&F(L,E))return L}else for(let _=w-1;_>=0;_--){const L=m[_];if(!A(L,k)&&F(L,E))return L}return null},[m]),h=a.useCallback((T,I={})=>{const{shouldSelect:P=!0}=I,E=f(T,I);console.log("nextField:",E),E&&s?s(E,{shouldSelect:P}):console.warn("nextField not found or setFocus is undefined, checks formMetaProvider")},[f,s]),g=a.useCallback((T,I={})=>{const{setFocus:P,forward:E=!0}=I,k=P||s,w=f(T,I);if(console.log("handleFocusNextField.nextField",w),console.log("handleFocusNextField.opts",I),w)k(w.name,{shouldSelect:w.select});else if(typeof c=="string"){ae.warn(c);return}else if(typeof c=="function")E&&setTimeout(()=>{c(T,I)});else switch(c){case B$.PROMPT:ae.warn(E?u:d);break;case B$.BLUR:document.activeElement.blur();break}},[d,f,c,u,s]),x=a.useCallback(()=>{n.current.supressEvents=!0,console.log(`%c****** ${Ct.displayName}.supressEvent ON ******`,nf.CONSOLE_WARN)},[]),y=a.useCallback(()=>{n.current.supressEvents=!1,console.log(`%c****** ${Ct.displayName}.supressEvent OFF ******`,nf.CONSOLE_SUCCESS)},[]),D=a.useCallback(()=>f(),[f]),v=a.useCallback(()=>{const T=D();T&&setTimeout(()=>{s(T.name,{shouldSelect:T.select})},200)},[D,s]);return{fields:m,getNextField:f,nextEnabled:h,handleFocusNextField:g,disableEnter:i,asyncRef:n,supressEvents:x,enableEvents:y,getFirstField:D,handleFocusFirstField:v}},nO=({grid:e,baseUri:t,transformAsQueryParams:n,transformForSubmitting:o,transformForReading:s,safeQty:i})=>{const{token:c}=a.useContext(Be),u=a.useContext(Mr),{httpGetAsync:d,httpPutAsync:p}=Zn(),[m,f]=us(!0),h=Or(),g=a.useContext(Sn),x=a.useRef({drawerOpen:null,expanded:null}),[y,D]=a.useState(),[v,T]=a.useState({criteria:null,saveKey:null,totalElements:null}),{gridData:I,dirtyIds:P}=e,E=vt(i?`
		prod,
		prod2,
		catL,
		catM,
		catS,
		typeA,
		typeB,
		taxType,
		safeQty
		`:`
		prod,
		prod2,
		catL,
		catM,
		catS,
		typeA,
		typeB,
		taxType
		`),k=a.useCallback(()=>{e.readOnly?(x.current={drawerOpen:g.drawerOpen,expanded:m},console.log("og drawer opened memoised"),g.handleDrawerClose(),m&&f()):(x.current.drawerOpen&&g.handleDrawerOpen(),x.current.expanded&&f()),e.toggleReadOnly()},[g,m,e,f]),w=a.useCallback(async Q=>{if(console.log("peek",Q),!c)throw new Error("token not specified");if(Gn.isAllPropsEmpty(Q)){console.log("criteria is empty"),T(V=>({...V,saveKey:null,totalElements:null}));return}D(!0);try{const{status:V,payload:W,error:U}=await d({url:t,bearer:c,params:{...n(Q),pk:1}});if(V.success)T(X=>{var te,se;return{...X,saveKey:(te=W.Select)==null?void 0:te.SaveKey,totalElements:(se=W.Select)==null?void 0:se.TotalRecord}});else throw U??new Error("")}catch(V){console.error("peek failed",V),ae.error("",V)}finally{D(!1)}},[t,d,c,n]),A=a.useCallback(()=>{e.handleGridDataLoaded(null)},[e]),F=a.useCallback(async(Q={})=>{const{criteria:V,reload:W=!1}=Q;if(console.log("saveKey",v.saveKey),!c)throw new Error("token not specified");W||(e.setGridLoading(!0),T(U=>({...U,criteria:V})));try{const{status:U,payload:X}=await d({url:t,bearer:c,params:{...n(V),...v.saveKey&&{sk:v.saveKey}}});if(U.success)e.handleGridDataLoaded(s(X));else switch(U.code){default:ae.error(` ${U.code}`);break}}catch(U){console.error("load",U)}finally{e.setGridLoading(!1),T(U=>({...U,saveKey:null}))}},[t,e,d,v.saveKey,c,n,s]),_=a.useCallback(()=>{F({criteria:v.criteria,reload:!0})},[F,v.criteria]),L=a.useCallback(()=>{u.confirm({message:"?",onConfirm:e.rollbackChanges})},[u,e.rollbackChanges]),K=a.useCallback(Q=>{console.log("onSubmit",Q),F({criteria:Q})},[F]),z=a.useCallback(Q=>{console.error("onSubmitError",Q)},[]),J=a.useCallback(async()=>{console.log("handleSave",I);const Q=o(I,P);console.log("collected",Q);try{h.start();const{status:V,error:W}=await p({url:t,data:Q,bearer:c});if(V.success)ae.success(`${Q.length}`),_(),h.finish();else throw W??new Error("")}catch(V){h.fail({error:V}),ae.error("",V)}},[t,P,I,p,_,h,c,o]);return{load:F,reload:_,unload:A,onSubmit:K,onSubmitError:z,...v,peek:w,expanded:m,toggleExpanded:f,saveWorking:h.working,handleSave:J,toggleEditorLock:k,loading:y,confirmCancelChanges:L,formMeta:E}},QSt=()=>{const e=Bt({moduleId:"A011"}),t=yr({gridId:"A011",keyColumn:"ProdID",otherColumns:"ProdData_N,Price,PriceA,PriceB,PriceC,PriceD,PriceE"}),n=a.useMemo(()=>[{...Pe.keyColumn("ProdID",kt({continuousUpdates:!1})),disabled:!0,grow:2,title:""},{...Pe.keyColumn("ProdData_N",kt({continuousUpdates:!1})),title:"",grow:4,disabled:!0},{...Pe.keyColumn("Price",Jn(2)),title:"",grow:1,disabled:t.readOnly},{...Pe.keyColumn("PriceA",Jn(2)),title:"A",grow:1,disabled:t.readOnly},{...Pe.keyColumn("PriceB",Jn(2)),title:"B",grow:1,disabled:t.readOnly},{...Pe.keyColumn("PriceC",Jn(2)),title:"C",grow:1,disabled:t.readOnly},{...Pe.keyColumn("PriceD",Jn(2)),title:"D",grow:1,disabled:t.readOnly},{...Pe.keyColumn("PriceE",Jn(2)),title:"E",grow:1,disabled:t.readOnly}],[t.readOnly]),o=hr({columns:n,data:t.gridData,lastCell:Xn.STOP_EDITING,skipDisabled:!0}),s=nO({grid:t,baseUri:"v1/prod/data-grid/A011",transformAsQueryParams:tO.transformAsQueryParams,transformForSubmitting:lle.transformForSubmitting,transformForReading:lle.transformForReading});return{...e,...s,...t,...o,gridMeta:o}},Vs=a.createContext(),tye=e=>{const{children:t}=e,n=a.useContext(Be),o=QSt({token:n.token});return r.jsx(Vs.Provider,{value:{...o},children:t})};tye.propTypes={children:l.oneOfType([l.array,l.object])};const YSt=e=>e.data?e.data[0].A012_W1.map(t=>{const{BUnit:n,BUnit_N:o,IUnit:s,IUnit_N:i,SUnit:c,SUnit_N:u,MUnit:d,MUnit_N:p,...m}=t;return{bunit:n?{CodeID:n,CodeData:o}:null,iunit:s?{CodeID:s,CodeData:i}:null,sunit:c?{CodeID:c,CodeData:u}:null,munit:d?{CodeID:d,CodeData:p}:null,...m}}):[],JSt=(e,t)=>e.filter(n=>t&&t.size>0?t.has(n.ProdID):!1).map(n=>{var p,m;const{ProdID:o,ProdData:s,bunit:i,sunit:c,iunit:u,munit:d}=n;return{ProdID:o,ProdData:s,StdCost:((p=n.StdCost)==null?void 0:p.toString())||"",SafeQty:((m=n.SafeQty)==null?void 0:m.toString())||"",BUnit:(i==null?void 0:i.CodeID)||"",SUnit:(c==null?void 0:c.CodeID)||"",IUnit:(u==null?void 0:u.CodeID)||"",MUnit:(d==null?void 0:d.CodeID)||""}}),ule={transformForReading:YSt,transformForSubmitting:JSt},XSt=e=>{if(!e)return"";const{CodeID:t,CodeData:n}=e;return[t,n].filter(Boolean).join(" ")},ZSt=(e,t)=>(e==null?void 0:e.CodeID)===(t==null?void 0:t.CodeID),dle={getOptionLabel:XSt,isOptionEqualToValue:ZSt},gb=e=>{const{name:t,label:n="",...o}=e,{token:s}=a.useContext(Be),i=a.useCallback((u,d)=>dle.isOptionEqualToValue(u,d),[]),c=a.useCallback(u=>dle.getOptionLabel(u),[]);return r.jsx(bt,{name:t,label:n,bearer:s,url:"v1/prod/pkg-types",queryParam:"qs",getOptionLabel:c,isOptionEqualToValue:i,notFoundText:" ${input} ",...o})};gb.propTypes={name:l.string,label:l.string};gb.displayName="PkgTypePicker";const e0t=(e,t)=>Gn.arePropsEqual(e,t,{fields:"rowData.CodeID,active,disabled,focus"}),vk=a.memo(e=>{const{rowData:t,setRowData:n,rowIndex:o,columnIndex:s,columnData:i,active:c,focus:u,disabled:d,stopEditing:p,insertRowBelow:m}=e,f=a.useRef(t);f.current=t;const{name:h,hideControlsOnActive:g,selectOnFocus:x,lastCell:y,isLastRow:D,getNextCell:v,skipDisabled:T,setActiveCell:I,readOnly:P,focusOnDisabled:E,multiple:k,...w}=i,{handleFocusNextCell:A}=Pi({getNextCell:v,lastCell:y,isLastRow:D,setActiveCell:I,insertRowBelow:m}),F=zi({name:h,rowIndex:o,rowData:t,columnIndex:s,focus:u,active:c,disabled:d,hideControlsOnActive:g,selectOnFocus:x,setRowData:n,stopEditing:p,readOnly:P,skipDisabled:T,handleFocusNextCell:A,focusOnDisabled:E,multiple:k});return r.jsx(gb,{queryParam:"qs",...F,...w})},e0t);vk.propTypes={name:l.string,rowData:l.oneOfType([l.string,l.number,l.object]),setRowData:l.func,rowIndex:l.number,columnIndex:l.number,columnData:l.object,active:l.bool,focus:l.bool,disabled:l.bool,stopEditing:l.func,insertRowBelow:l.func,duplicateRow:l.func,deleteRow:l.func,getContextMenuItems:l.func};vk.propTypes={};vk.displayName="PkgTypePickerComponent";const Yy=e=>{const{columnData:t,...n}=e,o=ii(),s=a.useMemo(()=>({...t,...o}),[o,t]);return r.jsx(vk,{columnData:s,...n})};Yy.displayName="PkgTypePickerComponentContainer";Yy.propTypes={columnData:l.object};const t0t=()=>{const e=Bt({moduleId:"A012"}),t=yr({gridId:"A012",keyColumn:"ProdID",otherColumns:"ProdData,SafeQty,StdCost,bunit,sunit,iunit,munit"}),n=a.useMemo(()=>[{...Pe.keyColumn("ProdID",kt({continuousUpdates:!1})),disabled:!0,grow:2,title:""},{...Pe.keyColumn("StdCost",Jn(2)),title:"",grow:1,disabled:t.readOnly},{...Pe.keyColumn("SafeQty",Jn(2)),title:"",grow:1,disabled:t.readOnly},{...Pe.keyColumn("bunit",or(Yy,{name:"bunit",disableOpenOnInput:!0,disableClearable:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:160}}}})),title:"",grow:2,disabled:t.readOnly},{...Pe.keyColumn("sunit",or(Yy,{name:"sunit",disableOpenOnInput:!0,disableClearable:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:160}}}})),title:"",grow:2,disabled:t.readOnly},{...Pe.keyColumn("iunit",or(Yy,{name:"iunit",disableOpenOnInput:!0,disableClearable:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:160}}}})),title:"",grow:2,disabled:t.readOnly},{...Pe.keyColumn("munit",or(Yy,{name:"munit",disableOpenOnInput:!0,disableClearable:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:160}}}})),title:"BOM",grow:2,disabled:t.readOnly},{...Pe.keyColumn("ProdData",kt({continuousUpdates:!1})),title:"",grow:3,disabled:t.readOnly}],[t.readOnly]),o=hr({columns:n,data:t.gridData,lastCell:Xn.STOP_EDITING,skipDisabled:!0}),s=nO({grid:t,baseUri:"v1/prod/data-grid/A012",transformAsQueryParams:tO.transformAsQueryParams,transformForSubmitting:ule.transformForSubmitting,transformForReading:ule.transformForReading});return{...e,...s,...t,...o,gridMeta:o}},nye=e=>{const{children:t}=e,n=a.useContext(Be),o=t0t({token:n.token});return r.jsx(Vs.Provider,{value:{...o},children:t})};nye.propTypes={children:l.oneOfType([l.array,l.object])};const n0t=e=>e.data[0].A013_W1,r0t=(e,t)=>e.filter(n=>t&&t.size>0?t.has(n.ProdID):!1).map(n=>{var i,c,u;const{ProdID:o,ProdData:s}=n;return{ProdID:o,ProdData:s,SRate:((i=n.SRate)==null?void 0:i.toString())||"",IRate:((c=n.IRate)==null?void 0:c.toString())||"",MRate:((u=n.MRate)==null?void 0:u.toString())||""}}),ple={transformForReading:n0t,transformForSubmitting:r0t},o0t=()=>{const e=Bt({moduleId:"A013"}),t=yr({gridId:"A013",keyColumn:"ProdID",otherColumns:"ProdData,SRate,IRate,MRate"}),n=a.useMemo(()=>[{...Pe.keyColumn("ProdID",kt({continuousUpdates:!1})),disabled:!0,grow:2,title:""},{...Pe.keyColumn("ProdData",kt({continuousUpdates:!1})),title:"",grow:4,disabled:t.readOnly},{...Pe.keyColumn("SRate",Jn(4)),title:"/",grow:1,disabled:t.readOnly},{...Pe.keyColumn("IRate",Jn(4)),title:"/",grow:1,disabled:t.readOnly},{...Pe.keyColumn("MRate",Jn(4)),title:"BOM/",grow:1,disabled:t.readOnly}],[t.readOnly]),o=hr({columns:n,data:t.gridData,lastCell:Xn.STOP_EDITING,skipDisabled:!0}),s=nO({grid:t,baseUri:"v1/prod/data-grid/A013",transformAsQueryParams:tO.transformAsQueryParams,transformForSubmitting:ple.transformForSubmitting,transformForReading:ple.transformForReading});return{...e,...s,...t,...o,gridMeta:o}},rye=e=>{const{children:t}=e,n=a.useContext(Be),o=o0t({token:n.token});return r.jsx(Vs.Provider,{value:{...o},children:t})};rye.propTypes={children:l.oneOfType([l.array,l.object])};const s0t=e=>{if(!e)return"";const{MClas:t,ClassData:n}=e;return[t,n].filter(Boolean).join(" ")},a0t=(e,t)=>(e==null?void 0:e.MClas)===(t==null?void 0:t.MClas),mle={getOptionLabel:s0t,isOptionEqualToValue:a0t},El=e=>{const{name:t,label:n="",catLName:o="catL",catL:s,readOnly:i=!1,...c}=e,{token:u}=a.useContext(Be),d=Ke(),{setValue:p}=d,m=Ue({name:o}),f=a.useMemo(()=>s||(m==null?void 0:m.LClas),[s,m==null?void 0:m.LClas]),h=a.useMemo(()=>!f||i,[f,i]),g=a.useMemo(()=>`v1/prod/m-cats/${f}`,[f]);return mn(()=>{f==null&&p(t,null)},[s]),r.jsx(bt,{name:t,label:n,bearer:u,disabled:h,url:g,getOptionLabel:mle.getOptionLabel,isOptionEqualToValue:mle.isOptionEqualToValue,notFoundText:" ${input} ",clearOnChange:!0,readOnly:i,...c})};El.propTypes={catLName:l.string,name:l.string,label:l.string,catL:l.string,readOnly:l.bool};El.displayName="ProdCatMPicker";const i0t=(e,t)=>Gn.arePropsEqual(e,t,{fields:"rowData.catM.MClas,active,disabled,focus"}),h5=a.memo(e=>{var V;const{rowData:t,setRowData:n,rowIndex:o,columnIndex:s,columnData:i,active:c,focus:u,disabled:d,stopEditing:p,insertRowBelow:m}=e,f=a.useMemo(()=>d,[d]),h=a.useRef(t);h.current=t;const{name:g,hideControlsOnActive:x,selectOnFocus:y,lastCell:D,isLastRow:v,getNextCell:T,skipDisabled:I,setActiveCell:P,readOnly:E,focusOnDisabled:k,multiple:w,...A}=i,{handleFocusNextCell:F}=Pi({getNextCell:T,lastCell:D,isLastRow:v,setActiveCell:P,insertRowBelow:m}),{onChange:_,value:L,...K}=zi({name:g,rowIndex:o,rowData:t,columnIndex:s,focus:u,active:c,disabled:f,hideControlsOnActive:x,selectOnFocus:y,setRowData:n,stopEditing:p,readOnly:E,skipDisabled:I,handleFocusNextCell:F,focusOnDisabled:k,multiple:w});console.log("ignores props",L);const z=a.useCallback(W=>{const U=t[g];W!==U&&_({...t,[g]:W})},[_,g,t]),J=a.useMemo(()=>{var W;return(W=t.catL)==null?void 0:W.LClas},[(V=t.catL)==null?void 0:V.LClas]),Q=a.useMemo(()=>t[g],[g,t]);return r.jsx(El,{name:g,label:"",disabled:f,value:Q,onChange:z,catL:J,multiple:w,...K,...A})},i0t);h5.propTypes={name:l.string,rowData:l.oneOfType([l.string,l.number,l.object]),setRowData:l.func,rowIndex:l.number,columnIndex:l.number,columnData:l.object,active:l.bool,focus:l.bool,disabled:l.bool,stopEditing:l.func,insertRowBelow:l.func,duplicateRow:l.func,deleteRow:l.func,getContextMenuItems:l.func};h5.displayName="RowProdCatMPickerComponent";const g5=e=>{const{columnData:t,...n}=e,o=ii(),s=a.useMemo(()=>({...t,...o}),[o,t]);return r.jsx(h5,{columnData:s,...n})};g5.displayName="RowProdCatMPickerComponentContainer";g5.propTypes={columnData:l.object};const l0t=e=>{if(!e)return"";const{SClas:t,ClassData:n}=e;return`${t} ${n}`},c0t=(e,t)=>(e==null?void 0:e.SClas)===(t==null?void 0:t.SClas),fle={getOptionLabel:l0t,isOptionEqualToValue:c0t},ou=e=>{const{name:t,label:n="",readOnly:o=!1,catL:s,catLName:i="catL",catM:c,catMName:u="catM",...d}=e,{token:p}=a.useContext(Be),m=Ke(),{setValue:f}=m,h=Ue({name:i}),g=Ue({name:u}),x=a.useMemo(()=>s||(h==null?void 0:h.LClas),[s,h==null?void 0:h.LClas]),y=a.useMemo(()=>c||(g==null?void 0:g.MClas),[c,g==null?void 0:g.MClas]),D=a.useMemo(()=>!x||!y||o,[x,y,o]),v=a.useMemo(()=>`v1/prod/s-cats/${x},${y}`,[x,y]);return mn(()=>{y==null&&f(t,null)},[y]),r.jsx(bt,{name:t,label:n,bearer:p,disabled:D,url:v,getOptionLabel:fle.getOptionLabel,isOptionEqualToValue:fle.isOptionEqualToValue,notFoundText:" ${input} ",clearOnChange:!0,...d})};ou.propTypes={name:l.string,label:l.string,catL:l.string,catM:l.string,readOnly:l.bool,catLName:l.string,catMName:l.string};ou.displayName="ProdCatSPicker";const u0t=(e,t)=>Gn.arePropsEqual(e,t,{fields:"rowData.catS.SClas,active,disabled,focus"}),b5=a.memo(e=>{var z,J;const{rowData:t,setRowData:n,rowIndex:o,columnIndex:s,columnData:i,active:c,focus:u,disabled:d,stopEditing:p,insertRowBelow:m}=e,f=a.useRef(t);f.current=t;const{name:h,hideControlsOnActive:g,selectOnFocus:x,lastCell:y,isLastRow:D,getNextCell:v,skipDisabled:T,setActiveCell:I,readOnly:P,...E}=i,{value:k,onChange:w,...A}=zi({name:h,rowIndex:o,columnIndex:s,focus:u,active:c,disabled:d,hideControlsOnActive:g,selectOnFocus:x,setRowData:n,stopEditing:p,readOnly:P,skipDisabled:T});console.log("ignores props",k);const F=a.useCallback(Q=>{const V=t[h];Q!==V&&w({...t,[h]:Q})},[w,h,t]),_=a.useMemo(()=>{var Q;return(Q=t.catL)==null?void 0:Q.LClas},[(z=t.catL)==null?void 0:z.LClas]),L=a.useMemo(()=>{var Q;return(Q=t.catM)==null?void 0:Q.MClas},[(J=t.catM)==null?void 0:J.MClas]),K=a.useMemo(()=>t[h],[h,t]);return r.jsx(ou,{name:h,label:"",catL:_,catM:L,value:K,onChange:F,dense:!0,...A,...E})},u0t);b5.propTypes={rowData:l.oneOfType([l.string,l.number,l.object]),setRowData:l.func,rowIndex:l.number,columnIndex:l.number,columnData:l.object,active:l.bool,focus:l.bool,disabled:l.bool,stopEditing:l.func,insertRowBelow:l.func,duplicateRow:l.func,deleteRow:l.func,getContextMenuItems:l.func};b5.displayName="RowProdCatSPickerComponent";const x5=e=>{const{columnData:t,...n}=e,o=ii(),s=a.useMemo(()=>({...t,...o}),[o,t]);return r.jsx(b5,{columnData:s,...n})};x5.displayName="RowProdCatSPickerComponentContainer";x5.propTypes={columnData:l.object};const d0t=e=>{if(!e)return"";const{LClas:t,ClassData:n}=e;return[t,n].filter(Boolean).join(" ")},p0t=(e,t)=>(e==null?void 0:e.LClas)===(t==null?void 0:t.LClas),hle={getOptionLabel:d0t,isOptionEqualToValue:p0t},Pl=a.memo(e=>{const{name:t,label:n="",...o}=e,{token:s}=a.useContext(Be);return r.jsx(bt,{name:t,label:n,bearer:s,url:"v1/prod/l-cats",getOptionLabel:hle.getOptionLabel,isOptionEqualToValue:hle.isOptionEqualToValue,notFoundText:" ${input} ",...o})});Pl.propTypes={name:l.string,label:l.string,children:l.node};Pl.displayName="ProdCatLPicker";const m0t=(e,t)=>Gn.arePropsEqual(e,t,{header:rO.displayName,fields:"rowData.LClas,active,disabled,focus"}),rO=a.memo(e=>{const{rowData:t,setRowData:n,rowIndex:o,columnIndex:s,columnData:i,active:c,focus:u,disabled:d,stopEditing:p,insertRowBelow:m}=e,f=a.useRef(t);f.current=t;const{name:h,hideControlsOnActive:g,selectOnFocus:x,lastCell:y,isLastRow:D,getNextCell:v,skipDisabled:T,setActiveCell:I,readOnly:P,focusOnDisabled:E,multiple:k,...w}=i,{handleFocusNextCell:A}=Pi({getNextCell:v,lastCell:y,isLastRow:D,setActiveCell:I,insertRowBelow:m}),F=zi({name:h,rowIndex:o,rowData:t,columnIndex:s,focus:u,active:c,disabled:d,hideControlsOnActive:g,selectOnFocus:x,setRowData:n,stopEditing:p,readOnly:P,skipDisabled:T,handleFocusNextCell:A,focusOnDisabled:E,multiple:k});return r.jsx(Pl,{...F,...w})},m0t);rO.propTypes={name:l.string,rowData:l.oneOfType([l.string,l.number,l.object]),setRowData:l.func,rowIndex:l.number,columnIndex:l.number,columnData:l.object,active:l.bool,focus:l.bool,disabled:l.bool,stopEditing:l.func,insertRowBelow:l.func,duplicateRow:l.func,deleteRow:l.func,getContextMenuItems:l.func};rO.propTypes={};rO.displayName="ProdCatLPickerComponent";const y5=e=>{const{columnData:t,...n}=e,o=ii(),s=a.useMemo(()=>({...t,...o}),[o,t]);return r.jsx(rO,{columnData:s,...n})};y5.displayName="ProdCatLPickerComponentContainer";y5.propTypes={columnData:l.object};const f0t=100,h0t={noOptionsText:".",loadingText:"..."},Pn={POPPER_DELAY:f0t,STATIC_PICKER_OPTS:h0t},Yd=a.memo(a.forwardRef((e,t)=>{const{label:n="",...o}=e;return r.jsx(bt,{ref:t,label:n,options:Ky.options,getOptionLabel:Ky.getOptionLabel,isOptionEqualToValue:Ky.isOptionEqualToValue,findByInput:Ky.findByInput,notFoundText:" ${input} ",...o,...Pn.STATIC_PICKER_OPTS})}));Yd.propTypes={name:l.string,label:l.string,children:l.node,readOnly:l.bool};Yd.displayName="ProdTypeAPicker";const g0t=(e,t)=>Gn.arePropsEqual(e,t,{fields:"rowData.id,active,disabled,focus",debug:!0}),C5=a.memo(e=>{const{rowData:t,setRowData:n,rowIndex:o,columnIndex:s,columnData:i,active:c,focus:u,disabled:d,stopEditing:p,insertRowBelow:m}=e,{name:f,hideControlsOnActive:h,selectOnFocus:g,lastCell:x,isLastRow:y,getNextCell:D,skipDisabled:v,setActiveCell:T,readOnly:I,focusOnDisabled:P,multiple:E,...k}=i,{handleFocusNextCell:w}=Pi({getNextCell:D,lastCell:x,isLastRow:y,setActiveCell:T,insertRowBelow:m}),A=zi({name:f,rowIndex:o,rowData:t,columnIndex:s,focus:u,active:c,disabled:d,hideControlsOnActive:h,selectOnFocus:g,setRowData:n,stopEditing:p,readOnly:I,skipDisabled:v,handleFocusNextCell:w,focusOnDisabled:P,multiple:E});return r.jsx(Yd,{...A,...k,mockDelay:Pn.POPPER_DELAY})},g0t);C5.propTypes={rowData:l.oneOfType([l.string,l.number,l.object]),setRowData:l.func,rowIndex:l.number,columnIndex:l.number,columnData:l.object,active:l.bool,focus:l.bool,disabled:l.bool,stopEditing:l.func,insertRowBelow:l.func,duplicateRow:l.func,deleteRow:l.func,getContextMenuItems:l.func};C5.displayName="ProdTypeAPickerComponent";const oO=e=>{const{columnData:t,...n}=e,o=ii(),s=a.useMemo(()=>({...t,...o}),[o,t]);return r.jsx(C5,{columnData:s,...n})};oO.displayName="ProdTypeAPickerComponentContainer";oO.propTypes={columnData:l.object};const MD=a.memo(a.forwardRef((e,t)=>{const{label:n="",...o}=e;return r.jsx(bt,{ref:t,label:n,options:Qy.options,getOptionLabel:Qy.getOptionLabel,isOptionEqualToValue:Qy.isOptionEqualToValue,findByInput:Qy.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...o})}));MD.propTypes={name:l.string,label:l.string,children:l.node};MD.displayName="ProdTypeBPicker";const b0t=(e,t)=>Gn.arePropsEqual(e,t,{header:"typeB",fields:"rowData.id,active,disabled,focus",debug:!0}),D5=a.memo(e=>{const{rowData:t,setRowData:n,rowIndex:o,columnIndex:s,columnData:i,active:c,focus:u,disabled:d,stopEditing:p,insertRowBelow:m}=e,{name:f,hideControlsOnActive:h,selectOnFocus:g,lastCell:x,isLastRow:y,getNextCell:D,skipDisabled:v,setActiveCell:T,readOnly:I,focusOnDisabled:P,multiple:E,...k}=i,{handleFocusNextCell:w}=Pi({getNextCell:D,lastCell:x,isLastRow:y,setActiveCell:T,insertRowBelow:m}),A=zi({rowIndex:o,rowData:t,columnIndex:s,focus:u,active:c,disabled:d,setRowData:n,stopEditing:p,readOnly:I,skipDisabled:v,focusOnDisabled:P,name:f,multiple:E,selectOnFocus:g,hideControlsOnActive:h,handleFocusNextCell:w});return r.jsx(MD,{...A,...k,mockDelay:Pn.POPPER_DELAY})},b0t);D5.propTypes={rowData:l.oneOfType([l.string,l.number,l.object]),setRowData:l.func,rowIndex:l.number,columnIndex:l.number,columnData:l.object,active:l.bool,focus:l.bool,disabled:l.bool,stopEditing:l.func,insertRowBelow:l.func,duplicateRow:l.func,deleteRow:l.func,getContextMenuItems:l.func};D5.displayName="ProdTypeBPickerComponent";const S5=e=>{const{columnData:t,...n}=e,o=ii(),s=a.useMemo(()=>({...t,...o}),[o,t]);return r.jsx(D5,{columnData:s,...n})};S5.displayName="ProdTypeBPickerComponentContainer";S5.propTypes={columnData:l.object};const sO=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:hb.options,getOptionLabel:hb.getOptionLabel,isOptionEqualToValue:hb.isOptionEqualToValue,findByInput:hb.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});sO.propTypes={name:l.string,label:l.string,children:l.node};sO.displayName="TaxTypePicker";const x0t=(e,t)=>Gn.arePropsEqual(e,t,{fields:"rowData.id,active,disabled,focus"}),v5=a.memo(e=>{const{rowData:t,setRowData:n,rowIndex:o,columnIndex:s,columnData:i,active:c,focus:u,disabled:d,stopEditing:p,insertRowBelow:m}=e,f=a.useRef(t);f.current=t;const{name:h,hideControlsOnActive:g,selectOnFocus:x,lastCell:y,isLastRow:D,getNextCell:v,skipDisabled:T,setActiveCell:I,readOnly:P,focusOnDisabled:E,multiple:k,...w}=i,{handleFocusNextCell:A}=Pi({getNextCell:v,lastCell:y,isLastRow:D,setActiveCell:I,insertRowBelow:m}),F=zi({name:h,rowIndex:o,rowData:t,columnIndex:s,focus:u,active:c,disabled:d,hideControlsOnActive:g,selectOnFocus:x,setRowData:n,stopEditing:p,readOnly:P,skipDisabled:T,handleFocusNextCell:A,focusOnDisabled:E,multiple:k});return r.jsx(sO,{...F,...w,mockDelay:Pn.POPPER_DELAY})},x0t);v5.propTypes={rowData:l.oneOfType([l.string,l.number,l.object]),setRowData:l.func,rowIndex:l.number,columnIndex:l.number,columnData:l.object,active:l.bool,focus:l.bool,disabled:l.bool,stopEditing:l.func,insertRowBelow:l.func,duplicateRow:l.func,deleteRow:l.func,getContextMenuItems:l.func};v5.displayName="TaxTypePickerComponent";const j5=e=>{const{columnData:t,...n}=e,o=ii(),s=a.useMemo(()=>({...t,...o}),[o,t]);return r.jsx(v5,{columnData:s,...n})};j5.displayName="TaxTypePickerComponentContainer";j5.propTypes={columnData:l.object};const y0t=e=>e.data[0].A014_W1.map(t=>{const{LClas:n,LClas_N:o,MClas:s,MClas_N:i,SClas:c,SClas_N:u,CmsID:d,Cms_N:p,Tax:m,TypeA:f,TypeB:h,...g}=t;return{catL:n?{LClas:n,MClas:"",SClas:"",ClassData:o}:null,catM:s?{LClas:n,MClas:s,SClas:"",ClassData:i}:null,catS:c?{LClas:n,MClas:s,SClas:c,ClassData:u}:null,cmsType:d?{CodeID:d,CodeData:p}:null,taxType:m?hb.findById(m):null,typeA:f?Ky.findById(f):null,typeB:h?Qy.findById(h):null,...g}}),C0t=(e,t)=>e.filter(n=>t&&t.size>0?t.has(n.ProdID):!1).map(n=>{const{catL:o,catM:s,catS:i,cmsType:c,taxType:u,typeA:d,typeB:p,...m}=n;return{LClas:(o==null?void 0:o.LClas)||"",MClas:(s==null?void 0:s.MClas)||"",SClas:(i==null?void 0:i.SClas)||"",CmsID:(c==null?void 0:c.CodeID)||"",Tax:(u==null?void 0:u.id)||"",TypeA:(d==null?void 0:d.id)||"",TypeB:(p==null?void 0:p.id)||"",...m}}),gle={transformForReading:y0t,transformForSubmitting:C0t},ble=(e,t={})=>({component:e,columnData:t,disableKeys:!1,keepFocus:!0,deleteValue:({rowData:n})=>({...n,[t.name]:null}),copyValue:({rowData:n})=>JSON.stringify(n[t.name]),pasteValue:({rowData:n,value:o})=>{const s=JSON.parse(o);return{...n,[t.name]:s}},isCellEmpty:({rowData:n})=>!1}),D0t=()=>{const e=Bt({moduleId:"A014"}),t=yr({gridId:"A014",keyColumn:"ProdID",doDirtyCheckByIndex:!0}),n=a.useMemo(()=>[{...Pe.keyColumn("ProdData_N",kt({continuousUpdates:!1})),title:"",grow:3,disabled:!0},{...Pe.keyColumn("catL",{...or(y5,{name:"catL",disableOpenOnInput:!0,selectOnFocus:!0,hideControlsOnActive:!1,slotProps:{paper:{sx:{width:240}}}})}),title:"",grow:3,disabled:t.readOnly},{...ble(g5,{name:"catM",disableOpenOnInput:!0,selectOnFocus:!0,hideControlsOnActive:!1,slotProps:{paper:{sx:{width:240}}}}),title:"",grow:3,disabled:t.readOnly},{...ble(x5,{name:"catS",disableOpenOnInput:!0,selectOnFocus:!0,hideControlsOnActive:!1,slotProps:{paper:{sx:{width:160}}}}),title:"",grow:2,disabled:t.readOnly},{...Pe.keyColumn("typeA",or(oO,{name:"typeA",disableOpenOnInput:!0,disableClearable:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:160}}}})),disabled:t.readOnly,title:"",minWidth:120,maxWidth:120},{...Pe.keyColumn("typeB",or(S5,{name:"typeB",disableOpenOnInput:!0,disableClearable:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:140}}}})),disabled:t.readOnly,title:""},{...Pe.keyColumn("taxType",or(j5,{name:"taxType",disableOpenOnInput:!0,disableClearable:!0,selectOnFocus:!0,hideControlsOnActive:!1,slotProps:{paper:{sx:{width:120}}}})),disabled:t.readOnly,title:"",minWidth:120,maxWidth:120}],[t.readOnly]),o=hr({columns:n,data:t.gridData,lastCell:Xn.STOP_EDITING,skipDisabled:!0}),s=nO({grid:t,baseUri:"v1/prod/data-grid/A014",transformAsQueryParams:tO.transformAsQueryParams,transformForSubmitting:gle.transformForSubmitting,transformForReading:gle.transformForReading}),i=a.useCallback(({fromRowIndex:c,formData:u})=>async(d,p)=>{const m=c+p,f=t.gridData[m],{catL:h,catM:g}=d,{catL:x,catM:y}=f;console.log(` ${m+1} ...`,d);let D={...d};return(h==null?void 0:h.LClas)!==(x==null?void 0:x.LClas)?(D.catM=null,D.catS=null):(g==null?void 0:g.MClas)!==(y==null?void 0:y.MClas)&&(D.catS=null),D},[t.gridData]);return{...e,...s,...t,grid:t,...o,gridMeta:o,onUpdateRow:i}},oye=e=>{const{children:t}=e,n=a.useContext(Be),o=D0t({token:n.token});return r.jsx(Vs.Provider,{value:{...o},children:t})};oye.propTypes={children:l.oneOfType([l.array,l.object])};const S0t=e=>e.data[0].A015_W1,v0t=(e,t)=>e.filter(n=>t&&t.size>0?t.has(n.ProdID):!1).map(n=>{var s;const{...o}=n;return{...o,SafeQty:((s=n.SafeQty)==null?void 0:s.toString())||""}}),xle={transformForReading:S0t,transformForSubmitting:v0t},j0t=()=>{const e=Bt({moduleId:"A015"}),t=yr({gridId:"A015",keyColumn:"ProdID",otherColumns:"ProdData,Price,PriceA,PriceB,PriceC,PriceD,PriceE"}),n=a.useMemo(()=>[{...Pe.keyColumn("ProdID",kt({continuousUpdates:!1})),grow:1,title:"",disabled:!0},{...Pe.keyColumn("PackData_N",kt({continuousUpdates:!1})),title:"",grow:1,disabled:!0},{...Pe.keyColumn("ProdData_N",kt({continuousUpdates:!1})),title:"",grow:4,disabled:!0},{...Pe.keyColumn("SafeQty",Jn(2)),title:"",grow:1,disabled:t.readOnly}],[t.readOnly]),o=hr({columns:n,data:t.gridData,lastCell:Xn.STOP_EDITING,skipDisabled:!0}),s=nO({grid:t,baseUri:"v1/prod/data-grid/A015",transformAsQueryParams:tO.transformAsQueryParams,transformForSubmitting:xle.transformForSubmitting,transformForReading:xle.transformForReading});return{...e,...s,...t,...o,gridMeta:o}},sye=e=>{const{children:t}=e,n=a.useContext(Be),o=j0t({token:n.token});return r.jsx(Vs.Provider,{value:{...o},children:t})};sye.propTypes={children:l.oneOfType([l.array,l.object])};const jk=a.createContext(),I0t=e=>(e==null?void 0:e.data)||[],T0t=e=>e,O0t={np:1},Ga=({grid:e,gridMeta:t,baseUri:n,displayName:o="",params:s=O0t,autoDelete:i=!1,transformForReading:c=I0t,transformForSubmitting:u=T0t,onLoaded:d})=>{const{token:p}=a.useContext(Be),{httpGetAsync:m,httpPostAsync:f,httpPutAsync:h,httpDeleteAsync:g}=Zn(),x=a.useContext(Mr),[y,D]=a.useState({baseUri:n}),v=a.useCallback(async({params:J,baseUri:Q,supressLoading:V=!1}={})=>{V||e.setGridLoading(!0),await new Promise(X=>setTimeout(X,300)),Q&&D(X=>({...X,baseUri:Q}));const W=J??s,U=Q||y.baseUri;try{const{status:X,payload:te}=await m({url:U,bearer:p,...W&&{params:W}});if(X.success)d&&d(te),e.handleGridDataLoaded(c(te));else switch(X.code){default:ae.error(` ${X.code}`,{position:"top-right"});break}}catch(X){console.error("load",X)}finally{e.setGridLoading(!1)}},[s,e,m,d,y.baseUri,p,c]),T=a.useCallback(()=>{v({supressLoading:!0})},[v]),I=a.useCallback(async({rowIndex:J,rowData:Q},V)=>{console.log("CREATE",Q);try{const{status:W,payload:U,error:X}=await f({url:y.baseUri,bearer:p,data:u(Q)});if(console.log("handleCreate response.payload",U),W.success)e.commitChanges(V),ae.success(`${o} ${Q[e.keyColumn]} `);else throw X??new Error("")}catch(W){ae.error(`${o}`,W),T(),setTimeout(()=>{t.setActiveCell(null)})}},[o,e,t,f,T,y.baseUri,p,u]),P=a.useCallback(async({rowData:J},Q)=>{console.log("UPDATE",J);try{const{status:V,payload:W,error:U}=await h({url:y.baseUri,data:u(J),bearer:p});if(console.log("handleUpdate response.payload",W),V.success)e.commitChanges(Q),ae.success(`${o} ${J[e.keyColumn]} `);else throw(U==null?void 0:U.message)||new Error("")}catch(V){ae.error(`${o}`,V),T()}},[o,e,h,T,y.baseUri,p,u]),E=a.useCallback(async(J,Q={})=>{const{onDeleted:V,disableToast:W=!1}=Q;console.log("DELETE",J);try{let U=0,X;await Promise.all(J.map(async te=>{const se=te[e.keyColumn];try{const{status:he,error:pe}=await g({url:`${y.baseUri}`,bearer:p,params:{id:se}});if(he.success)U++;else throw pe||new Error}catch(he){X=he}})),U>0?(W||ae.success(` ${U} ${o||""}`),V&&V(J)):W||ae.warn(""+(X==null?void 0:X.message)?": "+X.message:"",{position:"top-right"})}catch(U){console.error(U),W||ae.error(`${o}`,U)}finally{T()}},[o,e.keyColumn,g,T,y.baseUri,p]),k=a.useCallback(({rowData:J})=>e.prevGridData.some(Q=>{const V=vo.get(Q,e.keyColumn),W=vo.get(J,e.keyColumn);return V===W}),[e==null?void 0:e.keyColumn,e==null?void 0:e.prevGridData]),w=a.useCallback(({rowData:J,rowIndex:Q})=>{const V=e.prevGridData[Q],W=vo.get(V,e.keyColumn),U=vo.get(J,e.keyColumn);if(W!==U)throw`keys mismatched ${W}  ${U}`;return Gn.arePropsEqual(V,J,{fields:e.otherColumnNames})},[e==null?void 0:e.keyColumn,e==null?void 0:e.otherColumnNames,e==null?void 0:e.prevGridData]),A=a.useCallback(async(J,Q={})=>{const{onDeleted:V}=Q;if(!J||J.length===0)throw new Error(" rows");let W;const U=J[0];if(J.length>1){const X=J[J.length-1];W=` ${J.length} ${o} (${U[e.keyColumn]} ~ ${X[e.keyColumn]})`}else{const X=U[e.keyColumn];W=`${o}${X?""+X+"":""}`}t.saveSelection(),x.create({title:"",message:`${W}?`,triggerCancelOnClose:!0,onConfirm:()=>{E(J,{onDeleted:V}),x.closeLatest(),t.resetSelection()},onCancel:()=>{e.rollbackChanges(),t.restoreSelection()}})},[x,o,e,t,E]),F=a.useCallback((J,Q)=>{ae.error(`${o} ${J.rowData[e.keyColumn]} `),Q[J.rowIndex][e.keyColumn]="";const V=Q.reduce((W,U)=>(U.CodeID!==""&&W.push(U),W),[]);e.setGridData(V,{commit:!0})},[o,e]),_=a.useCallback(({operation:J,newValue:Q,onDelete:V,onDeleted:W})=>{const X=e.gridData.slice(J.fromRowIndex,J.toRowIndex).filter(se=>se[e.keyColumn]);let te=!0;V&&X&&X.length>0&&(te=!!V(X,{onDeleted:W})),te||e.setGridData(Q,{commit:!0})},[e]),L=a.useCallback(({operation:J,newValue:Q,onDuplicatedError:V,onPatch:W,onBeforeUpdate:U,onUpdate:X,onBeforeCreate:te,onCreate:se,onDelete:he,onDeleted:pe})=>{const ue={rowIndex:J.fromRowIndex,rowData:Q[J.fromRowIndex]},ge=e.prevGridData[J.fromRowIndex];if(Gn.isAllPropsNotNull(ue.rowData,[e.keyColumn,...e.checkColumnNames])){e.handleDirtyCheck(ue.rowData,ge),console.log("CREATE or UPDATE",ue.rowData);const Ce=vo.get(ue.rowData,e.keyColumn);e.isKeyDuplicated(Q,Ce)?(console.log(`[DSG]${Ce} duplicated`,ue),V&&V(ue,Q)):k(ue)?(w(ue)?W&&W(ue,Q):(U&&U(ue),X&&X(ue,Q)),e.setGridData(Q,{commit:!0})):(te&&te(ue),se&&se(ue,Q),e.setGridData(Q))}else if(i&&Gn.isAllPropsNull(ue.rowData,[...e.checkColumnNames])){const Ce=e.prevGridData.slice(J.fromRowIndex,J.toRowIndex);console.log("DELETE",Ce),he&&he(Ce,{onDeleted:pe})}else e.setGridData(Q)},[i,e,k,w]),K=a.useCallback(({onBeforeCreate:J,onCreate:Q,onBeforeUpdate:V,onUpdate:W,onPatch:U,onDelete:X,onDeleted:te,onDuplicatedError:se}={})=>(he,pe)=>{console.log(`${e.gridId}.handleGridChange`,he);const ue=pe[0];if(console.log("operation",ue),ue.type==="DELETE")_({operation:ue,newValue:he,onDelete:X,onDeleted:te});else if(ue.type==="CREATE"){e.setGridData(he);const ge=ue.fromRowIndex;setTimeout(()=>{t==null||t.setActiveCell({row:ge,col:0})})}else ue.type==="UPDATE"?L({operation:ue,newValue:he,onDuplicatedError:se,onPatch:U,onBeforeUpdate:V,onUpdate:W,onBeforeCreate:J,onCreate:Q,onDelete:X,onDeleted:te}):e.setGridData(he)},[e,t,_,L]),z=a.useCallback(()=>({id:zn()}),[]);return{load:v,handleCreate:I,handleUpdate:P,handleConfirmDelete:A,handleDelete:E,handleDuplicatedError:F,buildGridChangeHandler:K,createRow:z}},E0t=()=>{const{token:e}=a.useContext(Be),t=a.useContext(cr),n=Bt({moduleId:"A02"}),o=yr({gridId:"A02",keyColumn:"CodeID",otherColumns:"CodeData"}),s=a.useMemo(()=>[{...Pe.keyColumn("CodeID",kt({continuousUpdates:!1,maxLength:3})),disabled:o.isPersisted,title:""},{...Pe.keyColumn("CodeData",kt({continuousUpdates:!1})),title:"",grow:4,disabled:o.readOnly}],[o.isPersisted,o.readOnly]),i=hr({columns:s,data:o.gridData,lastCell:Xn.CREATE_ROW}),c=Ga({baseUri:"v1/prod/pkg-types",token:e,grid:o,gridMeta:i});return En(()=>{t.cancelAction(),c.load()},[]),{...t,...n,grid:o,gridMeta:i,codeEditor:c}},aye=e=>{const{children:t}=e,n=E0t();return r.jsx(jk.Provider,{value:{...n},children:t})};aye.propTypes={children:l.oneOfType([l.array,l.object])};const Sf=a.createContext(),P0t=()=>{const[e,t]=us(!0),{token:n}=a.useContext(Be),o=Bt({moduleId:"A03"}),[s,i]=a.useState({lgId:null,mgId:null,smId:null}),c=a.useCallback(p=>{i(m=>({...m,lgId:p,mgId:null,smId:null}))},[]),u=a.useCallback(p=>{i(m=>({...m,mdId:p,smId:null}))},[]),d=a.useCallback(p=>{i(m=>({...m,smId:p}))},[]);return{...o,readOnly:e,toggleReadOnly:t,...s,setLgId:c,setMdId:u,setSmId:d}},iye=e=>{const{children:t}=e,n=P0t();return r.jsx(Sf.Provider,{value:{...n},children:t})};iye.propTypes={children:l.oneOfType([l.array,l.object])};const R0t=()=>{const{token:e}=a.useContext(Be),t=a.useContext(cr),n=Bt({moduleId:"A04"}),o=yr({gridId:"A04",keyColumn:"CodeID",otherColumns:"CodeData"}),s=a.useMemo(()=>[{...Pe.keyColumn("CodeID",kt({continuousUpdates:!1,maxLength:3})),disabled:o.isPersisted,title:""},{...Pe.keyColumn("CodeData",kt({continuousUpdates:!1})),title:"",grow:4,disabled:o.readOnly}],[o.isPersisted,o.readOnly]),i=hr({columns:s,data:o.gridData,lastCell:Xn.CREATE_ROW}),c=Ga({baseUri:"v1/prod/counters",token:e,grid:o,gridMeta:i});return En(()=>{t.cancelAction(),c.load()},[]),{...t,...n,...o,...i,gridMeta:i,...c}},Ik=a.createContext(),lye=e=>{const{children:t}=e,n=R0t();return r.jsx(Ik.Provider,{value:{...n},children:t})};lye.propTypes={children:l.oneOfType([l.array,l.object])};const cc=a.createContext(),w0t=Object.freeze({CUSTOMER:Symbol("CUSTOMER"),NEW_CUSTOMER:Symbol("NEW_CUSTOMER")}),k0t=e=>{const{EmplID:t,EmplData_N:n,BankID:o,BankData_N:s,RecvID:i,RecvData_N:c,LineID:u,LineData_N:d,TrafID:p,TrafData_N:m,AreaID:f,AreaData_N:h,Class:g,MainProd:x=[],Remark:y=[],...D}=e;return{...D,level:g?{CodeID:g,CodeData:g}:null,employee:t?{CodeID:t,CodeData:n}:null,bank:o?{CodeID:o,CodeData:s}:null,area:f?{CodeID:f,CodeData:h}:null,channel:u?{CodeID:u,CodeData:d}:null,payment:i?{CodeID:i,CodeData:c}:null,transport:p?{CodeID:p,CodeData:m}:null,mainProd:x.join(`
`),remark:y.join(`
`)}},A0t=e=>{const{employee:t,bank:n,area:o,channel:s,payment:i,transport:c,level:u,mainProd:d,remark:p,...m}=e;return{EmplID:(t==null?void 0:t.CodeID)||"",BankID:(n==null?void 0:n.CodeID)||"",AreaID:(o==null?void 0:o.CodeID)||"",LineID:(s==null?void 0:s.CodeID)||"",RecvID:(i==null?void 0:i.CodeID)||"",TrafID:(c==null?void 0:c.CodeID)||"",MainProd:(d==null?void 0:d.split(`
`))||[],Remark:(p==null?void 0:p.split(`
`))||[],Class:(u==null?void 0:u.CodeID)||"",...m}},N0t=e=>{const t=[];return e!=null&&e.ci&&t.push({ShowName:"",OpCode:"LIKE",CondData:"%"+e.ci+"%"}),e!=null&&e.cn&&t.push({ShowName:"",OpCode:"LIKE",CondData:"%"+e.cn+"%"}),e!=null&&e.bank&&t.push({ShowName:"",OpCode:"=",CondData:e.bank}),e!=null&&e.area&&t.push({ShowName:"",OpCode:"=",CondData:e.area}),e!=null&&e.emp&&t.push({ShowName:"",OpCode:"=",CondData:e.emp}),e!=null&&e.paym&&t.push({ShowName:"",OpCode:"=",CondData:e.paym}),{StdWhere:t,...(e==null?void 0:e.qs)&&{CondData:{QS_ID:`${e.qs}%`,QS_NAME:`%${e.qs}%`}}}},F0t=e=>Gn.isAnyPropNotEmpty(e,"lvId,lvName,lvEmployee,lvArea,lvPaymentType,lvBank"),M0t=e=>{const{lvId:t,lvName:n,lvEmployee:o,lvBank:s,lvArea:i,lvPaymentType:c,...u}=e;return{ci:t,cn:n,...o&&{emp:o==null?void 0:o.CodeID},...s&&{bank:s==null?void 0:s.CodeID},...i&&{area:i.CodeID},...c&&{paym:c.CodeID},...u}},ni={Mode:w0t,transformForReading:k0t,transformForEditorSubmit:A0t,paramsToJsonData:N0t,isFiltered:F0t,transformAsQueryParams:M0t},cye=({token:e,mode:t})=>{var xe;const n=a.useRef(),o=vt(`
		CustID,
		CustData,
		AbbrName,
		employee,
		TaxType,
		level,
		area,
		channel,
		RecGroup,
		payment,
		bank,
		BankAcct,
		Boss,
		Contact,
		UniForm,
		CompTel,
		CompFax,
		Cel,
		RecAddr,
		RecTel,
		InvAddr,
		InvTel,
		transport,
		mainProd,
		remark
	`),s=a.useContext(cr),i=Bt({moduleId:t===ni.Mode.NEW_CUSTOMER?"A07":"A06"}),c=Co(),{clearParams:u}=a.useContext(Sn),{httpGetAsync:d,httpPostAsync:p,httpPutAsync:m,httpPatchAsync:f,httpDeleteAsync:h}=Zn(),[g,x]=a.useState(),y=a.useContext(Mr),[D,v,T,I]=us(!1),P=so({url:t===ni.Mode.NEW_CUSTOMER?"v1/sales/new-customers":"v1/sales/customers",bearer:e,initialFetchSize:50,params:{acc:1}});if(!t)throw"mode ";const E=a.useCallback(async({id:me,refresh:de})=>{const ce=de?n.current:me;if(!ce)throw new Error(" id");de||(n.current=me,s.startReading("...",{id:me}));try{const{status:ee,payload:De,error:ke}=await d({url:t===ni.Mode.NEW_CUSTOMER?"v1/sales/new-customers":"v1/sales/customers",bearer:e,params:{id:ce}});if(console.log("payload",De),ee.success){const He=ni.transformForReading(De.data[0]);s.finishedReading({data:He})}else throw ke||new Error("")}catch(ee){s.failedReading(ee)}},[s,d,t,e]),k=a.useCallback(()=>{y.confirm({message:"?",onConfirm:()=>{s.cancelUpdating(),E({refresh:!0})}})},[s,y,E]),w=a.useCallback(async(me,de)=>{me==null||me.stopPropagation(),s.cancelAction(),x(de),s.startReading("...",{id:de.CustID}),E({id:de.CustID})},[s,E]),A=a.useCallback(()=>{y.confirm({message:"?",onConfirm:()=>{s.cancelAction()}})},[s,y]),F=a.useCallback(()=>{y.confirm({message:"?",onConfirm:()=>{s.cancelAction()}})},[s,y]),_=a.useCallback(()=>{s.cancelAction()},[s]),L=a.useCallback(async({data:me})=>{try{s.startCreating();const{status:de,error:ce}=await p({url:t===ni.Mode.NEW_CUSTOMER?"v1/sales/new-customers":"v1/sales/customers",data:me,bearer:e});if(de.success)ae.success(`${t===ni.Mode.NEW_CUSTOMER?"":""}${me==null?void 0:me.CustData}`),s.finishedCreating(),s.cancelReading(),P.loadList({refresh:!0});else throw ce||new Error("")}catch(de){s.failedCreating(de),console.error("handleCreate.failed",de),ae.error("",de)}},[s,p,P,t,e]),K=a.useCallback(async({data:me})=>{try{s.startUpdating();const{status:de,error:ce}=await m({url:t===ni.Mode.NEW_CUSTOMER?"v1/sales/new-customers":"v1/sales/customers",data:me,bearer:e});if(de.success)ae.success(`${t===ni.Mode.NEW_CUSTOMER?"":""}${me==null?void 0:me.CustData}`),s.finishedUpdating(),E({id:me==null?void 0:me.CustID}),P.loadList({refresh:!0});else throw ce||new Error("")}catch(de){s.failedUpdating(de),console.error("handleUpdate.failed",de),ae.error("",de)}},[s,m,E,P,t,e]),z=a.useCallback(async me=>{console.log("A06.onEditorSubmit()",me);const de=ni.transformForEditorSubmit(me);console.log("processed",de),s.creating?L({data:de}):s.updating?K({data:de}):console.error("UNKNOWN SUBMIT TYPE")},[s.creating,s.updating,L,K]),J=a.useCallback(me=>{console.error("A06.onSubmitError",me),ae.error(", (*)",{position:"top-right"})},[]),Q=a.useCallback(me=>{me==null||me.stopPropagation();const de={trans:[],combo:[]};s.promptCreating({data:de})},[s]),V=a.useCallback(()=>{var me;y.confirm({message:`${(me=s.itemData)==null?void 0:me.CustData}?`,onConfirm:async()=>{var de;try{s.startDeleting(s.itemData);const{status:ce,error:ee}=await h({url:t===ni.Mode.NEW_CUSTOMER?"v1/sales/new-customers":"v1/sales/customers",bearer:e,params:{id:(de=s.itemData)==null?void 0:de.CustID}});if(ce.success)s.cancelAction(),ae.success(`${t===ni.Mode.NEW_CUSTOMER?"":""}${s.itemData.CustData}`),P.loadList({refresh:!0});else throw ee||""}catch(ce){s.failedDeleting(ce),console.error("confirmDelete.failed",ce),ae.error("",ce)}}})},[s,y,h,P,t,e]),W=Or(),U=a.useMemo(()=>!!W.state,[W.state]),X=a.useCallback(async({value:me})=>{var de;console.log("handleReview",me);try{const{status:ce,error:ee}=await f({url:"v1/sales/new-customers/reviewed",data:{...s.itemData,OfficialCustID:me},bearer:e});if(ce.success)W.clear(),s.cancelAction(),P.loadList({refresh:!0}),ae.success(`${(de=s.itemData)==null?void 0:de.CustData}`);else throw ee||new Error("")}catch(ce){ae.error("",ce)}},[s,f,P,W,e]),te=a.useCallback(()=>{var me;y.prompt({title:"",label:"",message:"",onConfirm:X,value:((me=s.itemData)==null?void 0:me.CustID)||"",confirmText:""}),W.prompt()},[(xe=s.itemData)==null?void 0:xe.CustID,y,X,W]),se=a.useCallback(()=>{W.cancel()},[W]),he=a.useCallback(()=>{W.start()},[W]),pe=a.useCallback(()=>{W.finish()},[W]),ue=a.useCallback(()=>{W.fail()},[W]),ge=a.useCallback(me=>{I(),console.log("onSearchSubmit",me),P.loadList({params:ni.transformAsQueryParams(me)})},[I,P]),Ce=a.useCallback(me=>{console.error("onSearchSubmitError",me)},[]),Te=a.useCallback(({reset:me})=>()=>{me({lvId:"",lvName:"",lvEmployee:null,lvArea:null,lvPaymentType:null,lvBank:null})},[]),Ne=a.useCallback(()=>{s.cancelAction(),u()},[u,s]);return En(()=>{s.cancelAction()},[]),{...P,popperOpen:D,handlePopperToggle:v,handlePopperOpen:T,handlePopperClose:I,onSearchSubmit:ge,onSearchSubmitError:Ce,mode:t,handleSelect:w,selectedItem:g,...s,handleDialogClose:_,confirmDialogClose:A,confirmQuitCreating:F,onEditorSubmit:z,onEditorSubmitError:J,confirmReturn:k,handlePromptCreating:Q,confirmDelete:V,reviewing:U,promptReview:te,cancelReview:se,startReview:he,finishReview:pe,failReview:ue,...i,formMeta:o,handleReset:Te,cancelAction:Ne,...c}},uye=({children:e})=>{const t=a.useContext(Be),n=cye({token:t.token,mode:ni.Mode.CUSTOMER});return r.jsx(cc.Provider,{value:{...n},children:e})};uye.propTypes={children:l.oneOfType([l.array,l.object])};const dye=({children:e})=>{const t=a.useContext(Be),n=cye({token:t.token,mode:ni.Mode.NEW_CUSTOMER});return r.jsx(cc.Provider,{value:{...n},children:e})};dye.propTypes={children:l.oneOfType([l.array,l.object])};const _0t=({token:e})=>{const t=Bt({moduleId:"A08"});return{grid:yr({gridId:"A08",keyColumn:"CodeID",otherColumns:`
			areaType: {nullble: true},
			CodeData
		`}),...t}},Tk=a.createContext(),pye=e=>{const{children:t}=e,n=a.useContext(Be),o=_0t({token:n.token});return r.jsx(Tk.Provider,{value:{...o},children:t})};pye.propTypes={children:l.oneOfType([l.array,l.object])};const L0t=({token:e})=>{const t=Bt({moduleId:"A09"}),n=yr({gridId:"A09",keyColumn:"CodeID",otherColumns:"CodeData"}),o=a.useMemo(()=>[{...Pe.keyColumn("CodeID",kt({continuousUpdates:!1,maxLength:3})),disabled:n.isPersisted,title:""},{...Pe.keyColumn("CodeData",kt({continuousUpdates:!1})),title:"",grow:4,disabled:n.readOnly}],[n.isPersisted,n.readOnly]),s=hr({columns:o,data:n.gridData,lastCell:Xn.CREATE_ROW}),i=Ga({baseUri:"v1/sales/customer/channels",token:e,grid:n,gridMeta:s});return En(()=>{i.load()},[]),{...t,grid:n,gridMeta:s,codeEditor:i}},Ok=a.createContext(),mye=e=>{const{children:t}=e,n=a.useContext(Be),o=L0t({token:n.token});return r.jsx(Ok.Provider,{value:{...o},children:t})};mye.propTypes={children:l.oneOfType([l.array,l.object])};const $0t=({token:e})=>{const t=Bt({moduleId:"A10"}),n=yr({gridId:"A10",keyColumn:"CodeID",otherColumns:"CodeData"}),o=a.useMemo(()=>[{...Pe.keyColumn("CodeID",kt({continuousUpdates:!1,maxLength:3})),disabled:n.isPersisted,title:""},{...Pe.keyColumn("CodeData",kt({continuousUpdates:!1})),title:"",grow:4,disabled:n.readOnly}],[n.isPersisted,n.readOnly]),s=hr({columns:o,data:n.gridData,lastCell:Xn.CREATE_ROW}),i=Ga({baseUri:"v1/sales/customer/transports",token:e,grid:n,gridMeta:s});return En(()=>{i.load()},[]),{...t,grid:n,gridMeta:s,codeEditor:i}},Ek=a.createContext(),fye=e=>{const{children:t}=e,n=a.useContext(Be),o=$0t({token:n.token});return r.jsx(Ek.Provider,{value:{...o},children:t})};fye.propTypes={children:l.oneOfType([l.array,l.object])};const B0t=({token:e})=>{const t=Bt({moduleId:"A11"}),n=yr({gridId:"A11",keyColumn:"CodeID",otherColumns:"CodeData"}),o=a.useMemo(()=>[{...Pe.keyColumn("CodeID",kt({continuousUpdates:!1,maxLength:3})),disabled:n.isPersisted,title:""},{...Pe.keyColumn("CodeData",kt({continuousUpdates:!1})),title:"",grow:4,disabled:n.readOnly}],[n.isPersisted,n.readOnly]),s=hr({columns:o,data:n.gridData,lastCell:Xn.CREATE_ROW}),i=Ga({baseUri:"v1/banks",token:e,grid:n,gridMeta:s});return En(()=>{i.load()},[]),{gridMeta:s,...n,...t,...i}},Pk=a.createContext(),hye=e=>{const{children:t}=e,n=a.useContext(Be),o=B0t({token:n.token});return r.jsx(Pk.Provider,{value:{...o},children:t})};hye.propTypes={children:l.oneOfType([l.array,l.object])};const W0t=({token:e})=>{const t=Bt({moduleId:"A12"}),n=yr({gridId:"A12",keyColumn:"CodeID",otherColumns:"CodeData"}),o=a.useMemo(()=>[{...Pe.keyColumn("CodeID",kt({continuousUpdates:!1,maxLength:2})),disabled:n.isPersisted,title:""},{...Pe.keyColumn("CodeData",kt({continuousUpdates:!1})),title:"",grow:4,disabled:n.readOnly}],[n.isPersisted,n.readOnly]),s=hr({columns:o,data:n.gridData,lastCell:Xn.CREATE_ROW}),i=Ga({baseUri:"v1/sales/customer/payments",token:e,grid:n,gridMeta:s});return En(()=>{i.load()},[]),{...t,...n,gridMeta:s,...s,...i}},Rk=a.createContext(),gye=e=>{const{children:t}=e,n=a.useContext(Be),o=W0t({token:n.token});return r.jsx(Rk.Provider,{value:{...o},children:t})};gye.propTypes={children:l.oneOfType([l.array,l.object])};const U0t=({token:e})=>{const t=Bt({moduleId:"A13"}),n=yr({gridId:"A13",keyColumn:"CodeID",otherColumns:"CodeData"}),o=a.useMemo(()=>[{...Pe.keyColumn("CodeID",kt({continuousUpdates:!1,maxLength:3})),disabled:n.isPersisted,title:""},{...Pe.keyColumn("CodeData",kt({continuousUpdates:!1})),title:"",grow:4,disabled:n.readOnly}],[n.isPersisted,n.readOnly]),s=hr({columns:o,data:n.gridData,lastCell:Xn.CREATE_ROW}),i=Ga({baseUri:"v1/prod/pdlines",token:e,grid:n,gridMeta:s});return En(()=>{i.load()},[]),{...t,...n,gridMeta:s,...s,...i}},wk=a.createContext(),bye=e=>{const{children:t}=e,n=a.useContext(Be),o=U0t({token:n.token});return r.jsx(wk.Provider,{value:{...o},children:t})};bye.propTypes={children:l.oneOfType([l.array,l.object])};const q0t=({token:e})=>{const t=Bt({moduleId:"A14"}),n=yr({gridId:"A14",keyColumn:"CodeID",otherColumns:"CodeData"}),o=a.useMemo(()=>[{...Pe.keyColumn("CodeID",kt({continuousUpdates:!1,maxLength:3})),disabled:n.isPersisted,title:""},{...Pe.keyColumn("CodeData",kt({continuousUpdates:!1})),title:"/",grow:4,disabled:n.readOnly}],[n.isPersisted,n.readOnly]),s=hr({columns:o,data:n.gridData,lastCell:Xn.CREATE_ROW}),i=Ga({baseUri:"v1/prod/outbound-types",token:e,grid:n,gridMeta:s});return En(()=>{i.load()},[]),{...t,...n,...s,gridMeta:s,...i}},kk=a.createContext(),xye=e=>{const{children:t}=e,n=a.useContext(Be),o=q0t({token:n.token});return r.jsx(kk.Provider,{value:{...o},children:t})};xye.propTypes={children:l.oneOfType([l.array,l.object])};const V0t=({token:e})=>{const t=Bt({moduleId:"A15"}),n=yr({gridId:"A15",keyColumn:"CodeID",otherColumns:"CodeData"}),o=a.useMemo(()=>[{...Pe.keyColumn("CodeID",kt({continuousUpdates:!1,maxLength:6})),disabled:n.isPersisted,title:""},{...Pe.keyColumn("CodeData",kt({continuousUpdates:!1})),title:"",grow:4,disabled:n.readOnly}],[n.isPersisted,n.readOnly]),s=hr({columns:o,data:n.gridData,lastCell:Xn.CREATE_ROW}),i=Ga({baseUri:"v1/ou/employees",token:e,grid:n,gridMeta:s});return En(()=>{i.load()},[]),{...t,...n,...s,gridMeta:s,...i}},Ak=a.createContext(),yye=e=>{const{children:t}=e,n=a.useContext(Be),o=V0t({token:n.token});return r.jsx(Ak.Provider,{value:{...o},children:t})};yye.propTypes={children:l.oneOfType([l.array,l.object])};const z0t=e=>{const{FlagShip:t,HeadOffice:n,...o}=e;return{flagship:t==1,headOffice:n==1,...o}},H0t=e=>{const{flagship:t,headOffice:n,...o}=e;return{FlagShip:t?"1":"",HeadOffice:n?"1":"",...o}},G0t=e=>Gn.isAnyPropNotEmpty(e,"lvId,lvName,lvBank"),K0t=e=>{const{lvId:t,lvName:n,lvBank:o,...s}=e;return{si:t,sn:n,...o&&{bank:o==null?void 0:o.CodeID},...s}},Q0t=(e,t)=>({StdWhere:[],...(t==null?void 0:t.GroupKey)&&{CondData:{GROUP:t.GroupKey.substring(0,1)}}}),$P={transformForReading:z0t,transformForEditorSubmit:H0t,paramsToJsonData:Q0t,isFiltered:G0t,transformAsQueryParams:K0t},Y0t=({token:e})=>{const t=a.useRef(),n=vt(`
		DeptID,
		GroupKey,
		Seq,
		AbbrName,
		DeptName,
		Address,
		Tel,
		Contact,
		headOffice,
		flagship
		`),o=a.useContext(cr),s=Bt({moduleId:"A16"}),i=Co(),{httpGetAsync:c,httpPostAsync:u,httpPutAsync:d,httpDeleteAsync:p}=Zn(),[m,f]=a.useState(),h=a.useContext(Mr),[g,x,y,D]=us(!1),v=so({url:"v1/ou/depts",bearer:e,initialFetchSize:50,params:{acc:1}}),T=a.useCallback(async({id:W,refresh:U})=>{const X=U?t.current:W;if(!X)throw new Error(" id");U||(t.current=W,o.startReading("...",{id:W}));try{const{status:te,payload:se,error:he}=await c({url:"v1/ou/depts",bearer:e,params:{id:X}});if(console.log("payload",se),te.success){const pe=$P.transformForReading(se.data[0]);o.finishedReading({data:pe})}else throw he||new Error("")}catch(te){o.failedReading(te)}},[o,c,e]),I=a.useCallback(async(W,U)=>{W==null||W.stopPropagation(),o.cancelAction(),f(U),o.startReading("...",{id:U.DeptID}),T({id:U.DeptID})},[o,T]),P=a.useCallback(()=>{h.confirm({message:"?",onConfirm:()=>{o.cancelUpdating(),T({refresh:!0})}})},[o,h,T]),E=a.useCallback(()=>{h.confirm({message:"?",onConfirm:()=>{o.cancelAction()}})},[o,h]),k=a.useCallback(()=>{h.confirm({message:"?",onConfirm:()=>{o.cancelAction()}})},[o,h]),w=a.useCallback(()=>{o.cancelAction()},[o]),A=a.useCallback(async({data:W})=>{try{o.startCreating();const{status:U,error:X}=await u({url:"v1/ou/depts",data:W,bearer:e});if(U.success)ae.success(`${W==null?void 0:W.DeptID} ${W==null?void 0:W.AbbrName}`),o.finishedCreating(),o.cancelReading(),v.loadList({refresh:!0});else throw X||new Error("")}catch(U){o.failedCreating(U),console.error("handleCreate.failed",U),ae.error("",U)}},[o,u,v,e]),F=a.useCallback(async({data:W})=>{try{o.startUpdating();const{status:U,error:X}=await d({url:"v1/ou/depts",data:W,bearer:e});if(U.success)ae.success(`${W==null?void 0:W.DeptID} ${W==null?void 0:W.AbbrName}`),o.finishedUpdating(),T({id:W==null?void 0:W.DeptID}),v.loadList({refresh:!0});else throw X||new Error("")}catch(U){o.failedUpdating(U),console.error("handleUpdate.failed",U),ae.error("",U)}},[o,d,T,v,e]),_=a.useCallback(async W=>{console.log("A16.onEditorSubmit()",W);const U=$P.transformForEditorSubmit(W);console.log("processed",U),o.creating?A({data:U}):o.updating?F({data:U}):console.error("UNKNOWN SUBMIT TYPE")},[o.creating,o.updating,A,F]),L=a.useCallback(W=>{console.error("A16.onSubmitError",W),ae.error(", (*)",{position:"top-right"})},[]),K=a.useCallback(W=>{W==null||W.stopPropagation();const U={trans:[],combo:[]};o.promptCreating({data:U})},[o]),z=a.useCallback(()=>{var W,U;h.confirm({message:`${(W=o.itemData)==null?void 0:W.DeptID} ${(U=o.itemData)==null?void 0:U.AbbrName}?`,onConfirm:async()=>{var X,te;try{o.startDeleting(o.itemData);const{status:se,error:he}=await p({url:"v1/ou/depts",bearer:e,params:{id:(X=o.itemData)==null?void 0:X.DeptID}});if(se.success)o.cancelAction(),ae.success(` ${(te=o.itemData)==null?void 0:te.DeptID} ${o.itemData.AbbrName}`),v.loadList({refresh:!0});else throw he||""}catch(se){o.failedDeleting(se),console.error("confirmDelete.failed",se),ae.error("",se)}}})},[o,h,p,v,e]),J=a.useCallback(W=>{D(),console.log("onSearchSubmit",W),v.loadList({params:$P.transformAsQueryParams(W)})},[D,v]),Q=a.useCallback(W=>{console.error("onSearchSubmitError",W)},[]),V=a.useCallback(({reset:W})=>()=>{W({lvId:"",lvName:"",lvBank:null})},[]);return En(()=>{o.cancelAction()},[]),{...v,...o,onSearchSubmit:J,onSearchSubmitError:Q,handleSelect:I,selectedItem:m,handleDialogClose:w,confirmDialogClose:E,confirmQuitCreating:k,onEditorSubmit:_,onEditorSubmitError:L,confirmReturn:P,promptCreating:K,confirmDelete:z,...s,formMeta:n,...i,popperOpen:g,handlePopperToggle:x,handlePopperOpen:y,handlePopperClose:D,handleReset:V}},vf=a.createContext(),Cye=({children:e})=>{const t=a.useContext(Be),n=Y0t({token:t.token});return r.jsx(vf.Provider,{value:{...n},children:e})};Cye.propTypes={children:l.oneOfType([l.array,l.object])};const J0t=(e,t)=>Gn.arePropsEqual(e,t,{header:"CheckboxCellCompoent",fields:"rowData,active,focus,disabled"}),I5=a.memo(({columnData:e,focus:t,rowData:n,rowIndex:o,columnIndex:s,setRowData:i,active:c,stopEditing:u,insertRowBelow:d,disabled:p})=>{const m=a.useRef(null),{size:f,valueToChecked:h,checkedToValue:g,skipDisabled:x,getNextCell:y,lastCell:D,isLastRow:v,setActiveCell:T,readOnly:I,focusNextCellOnChange:P=!1,color:E="default"}=e,k=a.useMemo(()=>h?h(n):n,[n,h]),w=a.useMemo(()=>({row:o,col:s}),[s,o]),{handleFocusNextCell:A}=Pi({getNextCell:y,lastCell:D,isLastRow:v,setActiveCell:T,stopEditing:u,insertRowBelow:d}),F=a.useCallback(K=>{console.log("handleKeyDown",K)},[]),_=a.useCallback(K=>{i(!n)},[n,i]),L=a.useCallback(()=>{},[]);return a.useLayoutEffect(()=>{t&&(u({nextRow:!1}),A&&P&&setTimeout(()=>{A(w,{forward:!0})}))},[t,u]),a.useLayoutEffect(()=>{x&&c&&p&&!I&&(A?A(w):console.log("handleFocusNextCell is null"))},[c,w,s,P,p,A,I,o,x]),r.jsx(Lpe,{color:E,className:"dsg-checkbox",style:{...p&&{pointerEvents:"none"},cursor:"pointer"},sx:{"&.MuiCheckbox-root":{padding:0,position:"relative",zIndex:1},"& .MuiSvgIcon-root":{},...!p&&{"&:not(.Mui-checked)::before":{content:'""',width:"1em",height:"1em",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",borderRadius:"2px",zIndex:-1},"&.Mui-checked::before":{content:'""',width:"1em",height:"1em",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",borderRadius:"2px",zIndex:-1}}},disableRipple:!0,tabIndex:-1,type:"checkbox",ref:m,disabled:p,checked:k,onMouseDown:_,onChange:L,onKeyDown:F})},J0t);I5.propTypes={columnData:l.object,rowData:l.bool,focus:l.bool,active:l.bool,disabled:l.bool,stopEditing:l.func,setRowData:l.func,insertRowBelow:l.func,rowIndex:l.number,columnIndex:l.number};I5.displayName="CheckboxComponent";const T5=e=>{const{columnData:t,...n}=e,o=ii(),s=a.useMemo(()=>({...t,...o}),[o,t]);return r.jsx(I5,{columnData:s,...n})};T5.propTypes={columnData:l.object};T5.displayName="CheckboxComponentContainer";const X0t=["1","y","true","chekced","on"],Wi=e=>{const{toggleBySpace:t=!0,focusNextCellOnSpace:n=!0,...o}=e;return{component:T5,columnData:o,deleteValue:()=>!1,copyValue:({rowData:s})=>s?"1":"0",pasteValue:({value:s})=>X0t.includes(s.toLowerCase()),isCellEmpty:({rowData:s})=>s==null||s==null,toggleBySpace:t,focusNextCellOnSpace:n}},Z0t=()=>{const{token:e}=a.useContext(Be),t=Bt({moduleId:"A16"}),{httpPatchAsync:n}=Zn(),o=a.useCallback(()=>({id:zn(),Using_N:"1"}),[]),s=yr({gridId:"A16",keyColumn:"DeptID",otherColumns:"GroupKey,DeptName,AbbrName",createRow:o}),i=a.useMemo(()=>[{...Pe.keyColumn("Using_N",Wi({trueValue:"1",falseValue:"0",size:"medium"})),title:"",minWidth:60,disabled:s.readOnly},{...Pe.keyColumn("DeptID",kt({continuousUpdates:!1})),disabled:s.isPersisted,title:"",grow:2},{...Pe.keyColumn("GroupKey",kt({continuousUpdates:!1})),title:"",grow:1,disabled:s.readOnly},{...Pe.keyColumn("DeptName",kt({continuousUpdates:!1})),title:"",grow:4,disabled:s.readOnly},{...Pe.keyColumn("AbbrName",kt({continuousUpdates:!1})),title:"",grow:2,disabled:s.readOnly}],[s.isPersisted,s.readOnly]),c=hr({columns:i,data:s.gridData,lastCell:Xn.CREATE_ROW}),u=Ga({baseUri:"v1/ou/depts",token:e,displayName:"",querystring:Hr.stringify({all:1}),grid:s,gridMeta:c}),{load:d,reload:p}=u,m=a.useCallback(async({rowData:f})=>{const h=f.Using_N==="1";try{const{status:g,error:x}=await n({url:"v1/ou/depts/enabled",bearer:e,data:{DeptID:f.DeptID,Using_N:f.Using_N}});if(g.success)ae.success(`${f.DeptName}  ${h?"":""}`);else throw x||new Error("")}catch(g){p(),ae.error("",g)}},[n,p,e]);return En(()=>{d()},[]),{...t,...s,...c,gridMeta:c,...u,createRow:o,handlePatch:m}},Nk=a.createContext(),Dye=e=>{const{children:t}=e,{token:n}=a.useContext(Be),o=Z0t();return r.jsx(Nk.Provider,{value:{...o},children:t})};Dye.propTypes={children:l.oneOfType([l.array,l.object])};a.createContext();const evt=e=>{const{DeptID:t,DeptName_N:n,...o}=e;return{dept:t?{DeptID:t,DeptName:n}:null,...o}},tvt=e=>{const{dept:t,...n}=e;return{DeptID:(t==null?void 0:t.DeptID)||"",...n}},dL={transformForReading:evt,transformForEditorSubmit:tvt},nvt=()=>{const e=a.useContext(cr),{token:t}=a.useContext(Be),n=Bt({moduleId:"A17"}),{httpGetAsync:o,httpPutAsync:s}=Zn(),i=a.useCallback(async({id:p})=>{try{e.startLoading("...");const{status:m,payload:f,error:h}=await o({url:"v2/ou/dept/params/pword",bearer:t,params:{dp:p}});if(console.log("payload",f),m.success){const g=dL.transformForReading(f);e.finishedLoading({data:g})}else throw h||new Error("")}catch(m){e.failedLoading(m)}},[e,o,t]),c=a.useCallback(p=>{p!=null&&p.DeptID&&i({id:p==null?void 0:p.DeptID})},[i]),u=a.useCallback(async p=>{console.log("onEditorSubmit",p),e.startUpdating();try{const{status:m,payload:f,error:h}=await s({url:"v2/ou/dept/params/pword",bearer:t,data:dL.transformForEditorSubmit(p)});if(m.success){e.finishedUpdating();const g=dL.transformForReading(f);e.finishedLoading({data:g}),ae.success("")}else throw h??new Error("")}catch(m){e.failedUpdating(m),ae.error("",m)}},[e,s,t]),d=a.useCallback(p=>{console.log("onEditorSubmitError",p)},[]);return En(()=>{e.cancelAction()},[]),{...e,...n,loadItem:i,onEditorSubmit:u,onEditorSubmitError:d,handleDeptChanged:c}},Fk=a.createContext(),Sye=({children:e})=>{const t=nvt(),n=at({defaultValues:{}});return r.jsx(Ye,{...n,children:r.jsx(Fk.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onEditorSubmit,t.onEditorSubmitError)},children:e})})};Sye.propTypes={children:l.oneOfType([l.array,l.object])};const rvt=e=>{const{job:t,SDate:n,EDate:o,outputType:s,dept:i,action:c,table:u,operator:d,ipAddr:p,orderBy:m,...f}=e;return{...n&&{SDate:Re.formatDate(n)},...o&&{EDate:Re.formatDate(o)},DeptID:(i==null?void 0:i.DeptID)||"",Action:(s==null?void 0:s.id)||"",...t&&{JobID:t.JobID},...c&&{Doing:c||""},...u&&{RealFile:(u==null?void 0:u.RealFile)||""},...(d==null?void 0:d.LoginName)&&{LoginName:d==null?void 0:d.LoginName},...p&&{IP:p},...m&&{OrderBy:(m==null?void 0:m.id)||""},...f}},ovt=["","","","","",""],W$={transformForSubmitting:rvt,Actions:ovt};function Un(){const e=a.useContext(Mr),t=a.useCallback(o=>{navigator.clipboard.writeText(o),ae.info("")},[]);return{show:a.useCallback(({data:o,url:s,title:i=""})=>{const c=`:
	${s}
 
:
`+JSON.stringify(o,null,2);e.create({title:i,onConfirm:()=>{t(c)},confirmText:"",confirmButtonProps:{startIcon:r.jsx(fT,{})},buttonProps:{color:"secondary"},children:r.jsxs("div",{children:[r.jsx("b",{children:":"}),r.jsx("ul",{style:{listStyle:"none"},children:r.jsx("li",{children:s})}),r.jsx("br",{}),r.jsx("b",{children:":"}),r.jsx("ul",{style:{listStyle:"none"},children:r.jsx("li",{children:r.jsx("pre",{children:JSON.stringify(o,null,2)})})})]})})},[t,e])}}const yle={target:"_blank"},svt=()=>{const e=a.useCallback((o,s,i={})=>{const{target:c=yle.target}=i;var u=document.createElement("form");u.target=c,u.method="POST",u.action=o,u.style.display="none";for(var d in s){var p=document.createElement("input");p.type="hidden",p.name=d,p.value=s[d],u.appendChild(p)}document.body.appendChild(u),u.submit(),document.body.removeChild(u)},[]),t=a.useCallback((o,s,i)=>{e(o,s,{...i,target:yle.target})},[e]),n=a.useCallback((o,s,i)=>{e(o,s,{...i,target:"_self"})},[e]);return{postTo:e,postToBlank:t,postToSelf:n}},avt={checkEvery:!1,name:""};function yn(e,t=avt){const n=a.useMemo(()=>{if(Array.isArray(e))return e;{const{from:m,to:f}=e||{};return m&&f?[{from:m,to:f}]:[]}},[e]),o=a.useMemo(()=>{if(!Array.isArray(e))return e==null?void 0:e.month},[e]),s=a.useContext(Mr),{postToBlank:i}=svt(),{operator:c}=a.useContext(Be),u=a.useCallback((m,f)=>{const h=Ua.get(al.Keys.COOKIE_DOWNLOAD_PROMPT)==0;i(Hr.stringifyUrl({url:m,query:{LogKey:c.LogKey,...!h&&{DontClose:1}}}),{jsonData:JSON.stringify(f)}),!h&&f.Action!=1&&f.Action!=null&&s.confirm({message:"?",checkLabel:"",check:!0,defaultChecked:!1,confirmText:"",cancelText:"",onConfirm:g=>{g.checked&&(Ua.set(al.Keys.COOKIE_DOWNLOAD_PROMPT,0),s.alert({message:al.MSG_REMIND,confirmText:""}))},onCancel:()=>{ae.warn(al.MSG_INSTRUCT)}})},[s,c.LogKey,i]),d=a.useCallback((m,f,h)=>{let g=!1,x=null,y=[];for(const D of n){const v=f[D.from],T=f[D.to];if(!v&&!T){y.push(D);continue}if(g=!0,v&&T){const I=Re.parseDate(v),P=Re.parseDate(T);if(!I||Xme(P,I)>0){x={from:v,to:T};break}}}return x?(s.confirm({message:`${x.from} - ${x.to}?`,onConfirm:()=>{u(m,f,h)}}),!1):n.length>0&&!t.checkEvery&&!g||t.checkEvery&&y.length>0?(s.confirm({message:`${t.name}${n.length>1?"":""}?`,onConfirm:()=>{u(m,f,h)}}),!1):o&&!f[o]?(s.confirm({message:"?",onConfirm:()=>{u(m,f,h)}}),!1):!0},[s,n,o,t.name,t.checkEvery,u]);return{open:a.useCallback((m,f,h)=>{d(m,f,h)&&u(m,f,h)},[d,u])}}const ivt=()=>{var f,h;const{token:e}=a.useContext(Be),t=a.useContext(ln),n=Bt({moduleId:"A18"}),o=a.useContext(Sn),s=Un(),i=vt(`
		dept,
		SDate,
		EDate,
		table,
		job,
		operator,
		ipAddr,
		action,
		orderBy,
		outputType,
		`),c=a.useMemo(()=>`${t.REPORT_URL}/WebA18Rep.aspx`,[t.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x=W$.transformForSubmitting(g);s.show({data:x,url:c,title:`${(y=o.menuItemSelected)==null?void 0:y.JobID} ${(D=o.menuItemSelected)==null?void 0:D.JobName}`})},[(f=o.menuItemSelected)==null?void 0:f.JobID,(h=o.menuItemSelected)==null?void 0:h.JobName,s,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x=W$.transformForSubmitting(g);console.log("data",x),u.open(c,x)},[c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...n,onSubmit:p,onSubmitError:m,formMeta:i,onDebugSubmit:d}},vye=a.createContext(),jye=({children:e})=>{const t=ivt();return r.jsx(vye.Provider,{value:{...t},children:e})};jye.propTypes={children:l.oneOfType([l.array,l.element])};const bb=Object.freeze({PURCHASE:1,SALE:2,STOCK:3,OWN_BRAND:4}),Iye=[{id:bb.PURCHASE,label:""},{id:bb.SALE,label:""},{id:bb.STOCK,label:""},{id:bb.OWN_BRAND,label:""}],lvt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},cvt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),uvt=e=>Iye.find(t=>t.id===e),dvt=e=>{var h,g;const{outputType:t,SDate:n,EDate:o,sdept:s,edept:i,sprod:c,eprod:u,dataType:d,InclInv:p,InclTest:m,...f}=e;return{JobName:"A19",Action:((h=t==null?void 0:t.id)==null?void 0:h.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",SDeptID:(s==null?void 0:s.DeptID)||"",EDeptID:(i==null?void 0:i.DeptID)||"",SProdID:(c==null?void 0:c.ProdID)||"",EProdID:(u==null?void 0:u.ProdID)||"",DataType:((g=d==null?void 0:d.id)==null?void 0:g.toString())||"3",InclInv:p||(d==null?void 0:d.id)!=bb.SALE?"Y":"N",InclTest:m||(d==null?void 0:d.id)!=bb.SALE?"Y":"N",...f}},pvt=["","","","","",""],of={transformForSubmitting:dvt,Actions:pvt,DataType:bb,dataTypeOptions:Iye,getOptionLabel:lvt,isOptionEqualToValue:cvt,getDataTypeById:uvt},mvt=()=>{var f,h;const{token:e}=a.useContext(Be),t=a.useContext(ln),n=Bt({moduleId:"A19"}),o=a.useContext(Sn),s=Un(),i=vt(`
		sprod,
		eprod,
		sdept,
		edept,
		SDate,
		EDate,
		dataType,
		InclInv,
		InclTest,
		outputType,
		`),c=a.useMemo(()=>`${t.REPORT_URL}/WebA19Rep.aspx`,[t.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x=of.transformForSubmitting(g);s.show({data:x,url:c,title:`${(y=o.menuItemSelected)==null?void 0:y.JobID} ${(D=o.menuItemSelected)==null?void 0:D.JobName}`})},[(f=o.menuItemSelected)==null?void 0:f.JobID,(h=o.menuItemSelected)==null?void 0:h.JobName,s,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x=of.transformForSubmitting(g);console.log("data",x),u.open(c,x)},[c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...n,onSubmit:p,onSubmitError:m,onDebugSubmit:d,formMeta:i}},Tye=a.createContext(),Oye=({children:e})=>{const t=mvt(),{operator:n}=a.useContext(Be),o=at({defaultValues:{sdept:{DeptID:n.CurDeptID,AbbrName:n.CurDeptName},outputType:jn.getDefaultOption(),dataType:of.getDataTypeById(of.DataType.STOCK)}});return r.jsx(Ye,{...o,children:r.jsx(Tye.Provider,{value:{...t,handleSubmit:o.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};Oye.propTypes={children:l.oneOfType([l.array,l.element])};const fvt=e=>!e.q,hvt=e=>{const{ProdID:t,ProdData_N:n,BomFile_S:o,...s}=e;return{prod:t?{ProdID:t,ProdData:n}:null,...o&&{materials:o.map(i=>({id:zn(),sprod:{ProdID:i.SProdID,ProdData:i.SProdData_N},SProdData:i.SProdData_N,SProdQty:i.SProdQty,SPackData_N:i.SPackData_N}))},...s}},gvt=e=>e,bvt=(e,t)=>{const{prod:n,GroupKey_N:o,Using_N:s,WriteDate_N:i,Writer_N:c,...u}=e;return console.log("omitProps",{GroupKey_N:o,Using_N:s,WriteDate_N:i,Writer_N:c}),{...u,ProdID:(n==null?void 0:n.ProdID)||"",ProdData:n==null?void 0:n.ProdData,...t&&{BomFile_S:t.filter(p=>p.sprod).map((p,m)=>{var f,h;return{Seq:m,SProdID:(f=p.sprod)==null?void 0:f.ProdID,SProdQty:((h=p.SProdQty)==null?void 0:h.toString())||""}})}}},xvt=e=>Gn.isAnyPropNotEmpty(e,"pi,pn,bc"),yvt=e=>({StdWhere:[],...(e==null?void 0:e.qs)&&{CondData:{QS_ID:`${e.qs}%`,QS_NAME:`%${e.qs}%`}}}),U$={hasEmptyError:fvt,transformForReading:hvt,processForDefaultSubmit:gvt,transformForEditorSubmit:bvt,isFiltered:xvt,paramsToJsonData:yvt},Cvt=({token:e})=>{const t=a.useRef(),n=a.useContext(cr),o=Bt({moduleId:"A20"}),s=Co(),{httpGetAsync:i,httpPostAsync:c,httpPutAsync:u,httpDeleteAsync:d}=Zn(),[p,m]=a.useState(),f=a.useContext(Mr),h=so({url:"v1/prod/boms",bearer:e,initialFetchSize:50}),g=a.useCallback(()=>({sprod:null}),[]),x=yr({gridId:"prods",keyColumn:"sprod.ProdID",createRow:g}),y=a.useCallback(async({id:V,refresh:W})=>{const U=W?t.current:V;if(!U)throw new Error(" id");W||(t.current=V,n.startReading("...",{id:V}));try{const{status:X,payload:te,error:se}=await i({url:"v1/prod/boms",bearer:e,params:{id:U}});if(console.log("payload",te),X.success){const he=U$.transformForReading(te);x.handleGridDataLoaded(he.materials),n.finishedReading({data:he})}else throw se||new Error("")}catch(X){n.failedReading(X)}},[n,i,x,e]),D=a.useCallback(()=>{f.confirm({message:"?",onConfirm:()=>{n.cancelUpdating(),y({refresh:!0})}})},[n,f,y]),v=a.useCallback(async(V,W)=>{V==null||V.stopPropagation(),n.cancelAction(),m(W),n.startReading("...",{id:W.ProdID}),y({id:W.ProdID})},[n,y]),T=a.useCallback(()=>{f.confirm({message:"?",onConfirm:()=>{n.cancelAction()}})},[n,f]),I=a.useCallback(()=>{f.confirm({message:"?",onConfirm:()=>{n.cancelAction()}})},[n,f]),P=a.useCallback(()=>{n.cancelAction()},[n]),E=a.useCallback(async({data:V})=>{try{n.startCreating();const{status:W,error:U}=await c({url:"v1/prod/boms",data:V,bearer:e});if(W.success)ae.success(`BOM${V==null?void 0:V.ProdID} ${V==null?void 0:V.ProdData}`),n.finishedCreating(),n.cancelReading(),h.loadList({refresh:!0});else throw U||new Error("")}catch(W){n.failedCreating(W),console.error("handleCreate.failed",W),ae.error("",W)}},[n,c,h,e]),k=a.useCallback(async({data:V})=>{try{n.startUpdating();const{status:W,error:U}=await u({url:"v1/prod/boms",data:V,bearer:e});if(W.success)ae.success(`BOM${V==null?void 0:V.ProdID} ${V==null?void 0:V.ProdData}`),n.finishedUpdating(),y({id:V==null?void 0:V.ProdID}),h.loadList({refresh:!0});else throw U||new Error("")}catch(W){n.failedUpdating(W),console.error("handleUpdate.failed",W),ae.error("",W)}},[n,u,y,h,e]),w=a.useCallback(async V=>{console.log("A20.onEditorSubmit()",V),console.log("grid.gridData",x.gridData);const W=U$.transformForEditorSubmit(V,x.gridData);console.log("processed",W),n.creating?E({data:W}):n.updating?k({data:W}):console.error("UNKNOWN SUBMIT TYPE")},[n.creating,n.updating,E,k,x.gridData]),A=a.useCallback(V=>{console.error("A20.onSubmitError",V),ae.error(", (*)",{position:"top-right"})},[]),F=a.useCallback(V=>{V==null||V.stopPropagation();const W={materials:[]};n.promptCreating({data:W}),x.initGridData(W.materials,{fillRows:!0})},[n,x]),_=a.useCallback(()=>{var V,W,U,X;f.confirm({message:`${(W=(V=n.itemData)==null?void 0:V.prod)==null?void 0:W.ProdID} ${(X=(U=n.itemData)==null?void 0:U.prod)==null?void 0:X.ProdData}?`,onConfirm:async()=>{var te,se,he,pe,ue;try{n.startDeleting(n.itemData);const{status:ge,error:Ce}=await d({url:`v1/prod/boms/${(te=n.itemData)==null?void 0:te.prod.ProdID}`,bearer:e});if(ge.success)n.cancelAction(),ae.success(` BOM ${(he=(se=n.itemData)==null?void 0:se.prod)==null?void 0:he.ProdID} ${(ue=(pe=n.itemData)==null?void 0:pe.prod)==null?void 0:ue.ProdData}`),h.loadList({refresh:!0});else throw Ce||""}catch(ge){n.failedDeleting(ge),console.error("confirmDelete.failed",ge),ae.error("",ge)}}})},[n,f,d,h,e]),L=a.useCallback(V=>{console.log("onSearchSubmit",V),h.loadList({params:V})},[h]),K=a.useCallback(V=>{console.error("onSearchSubmitError",V)},[]),z=a.useCallback(({rowData:V,rowIndex:W})=>{var U;return((U=V==null?void 0:V.prod)==null?void 0:U.ProdID)||W},[]),J=a.useCallback(({rowData:V})=>{const{sprod:W}=V;return{...V,SProdData:(W==null?void 0:W.ProdData)||"",SPackData_N:(W==null?void 0:W.PackData_N)||"",SProdQty:""}},[]),Q=a.useCallback(({fromRowIndex:V,formData:W,newValue:U,setValue:X,gridMeta:te,updateResult:se})=>async(he,pe)=>{var Te,Ne,xe;const ue=V+pe,ge=x.gridData[ue];console.log(` ${ue+1} ...`,he);let Ce={...he};return((Te=Ce.sprod)==null?void 0:Te.ProdID)!=((Ne=ge.sprod)==null?void 0:Ne.ProdID)&&(console.log(`sprod[${ue}] changed`,Ce==null?void 0:Ce.sprod),Ce=await J({rowData:Ce,formData:W}),he.sprod&&x.isDuplicating(he,U)&&(ae.error(`${(xe=he.sprod)==null?void 0:xe.ProdData}, `,{position:"top-right"}),Ce={...Ce,sprod:null,SProdData:"",SPackData_N:""})),Ce},[x,J]);return En(()=>{n.cancelAction()},[]),{...h,...n,onSearchSubmit:L,onSearchSubmitError:K,handleSelect:v,selectedItem:p,handleDialogClose:P,confirmDialogClose:T,confirmQuitCreating:I,onEditorSubmit:w,onEditorSubmitError:A,confirmReturn:D,promptCreating:F,confirmDelete:_,grid:x,...x,getRowKey:z,...o,createRow:g,onUpdateRow:Q,...s}},Jd=a.createContext(),Eye=({children:e})=>{const t=a.useContext(Be),n=Cvt({token:t.token});return r.jsx(Jd.Provider,{value:{...n},children:e})};Eye.propTypes={children:l.oneOfType([l.array,l.object])};const q$=Object.freeze({HTML:1,TXT:2}),Pye=[{id:q$.HTML,name:""},{id:q$.TXT,name:"(.txt)"}],Dvt=e=>{if(!e)return"";const{name:t}=e;return`${t}`},Svt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),vvt=e=>Pye.find(t=>t.id===e),jvt=e=>{const{outputType:t,dept:n,withTrackingNumber:o,...s}=e;return{DeptID:(n==null?void 0:n.DeptID)||"",Action:(t==null?void 0:t.id)||"",DelyNo:o?"Y":"N",...s&&Re.processDateFieldsForSubmit(s,"SDate,EDate")}},Ivt=["","","","","",""],Cle={transformForSubmitting:jvt,Actions:Ivt,OutputModes:q$,options:Pye,getOptionLabel:Dvt,isOptionEqualToValue:Svt,findById:vvt},Tvt=({form:e})=>{var h,g;const{token:t}=a.useContext(Be),n=a.useContext(ln),o=Bt({moduleId:"A21"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${n.REPORT_URL}/WebA21Rep.aspx`,[n.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(x=>{var D,v;console.log("onSubmit",x);const y=Cle.transformForSubmitting(x);i.show({data:y,url:c,title:`${(D=s.menuItemSelected)==null?void 0:D.JobID} ${(v=s.menuItemSelected)==null?void 0:v.JobName}`})},[(h=s.menuItemSelected)==null?void 0:h.JobID,(g=s.menuItemSelected)==null?void 0:g.JobName,i,c]),p=a.useCallback(x=>{console.log("onSubmit",x);const y=Cle.transformForSubmitting(x);console.log("data",y),u.open(c,y)},[c,u]),m=a.useCallback(x=>{console.error("onSubmitError",x)},[]),f=vt(`
		dept,
		SDate,
		EDate,
		Name,
		Tel,
		InvAddr,
		ToAddr,
		SalesID,
		InvNo,
		DelyNo
		`,{lastField:e.handleSubmit(p,m)});return{...o,onDebugSubmit:d,onSubmit:p,onSubmitError:m,formMeta:f}},Rye=a.createContext(),wye=({children:e})=>{const{operator:t}=a.useContext(Be),n=at({defaultValues:{dept:{DeptID:t.CurDeptID,AbbrName:t.CurDeptName},Name:"Y",Tel:"Y",InvAddr:"Y",ToAddr:"Y",SalesID:"Y",InvNo:"Y",DelyNo:"Y",outputType:jn.getDefaultOption()}}),o=Tvt({form:n});return r.jsx(Ye,{...n,children:r.jsx(Rye.Provider,{value:{...o},children:e})})};wye.propTypes={children:l.oneOfType([l.array,l.element])};const Ovt=e=>e.data?e.data[0].A22_W1.map(t=>({prod:{ProdID:t.ProdID,ProdData:t.ProdData,Barcode:t.Barcode,PackData:t.PackData},ProdData:t.ProdData,Barcode:t.Barcode,Qty:t.Qty,PackData:t.PackData})):[],Evt=e=>{const{prod1:t,prod2:n,catL:o,catM:s,catS:i,...c}=e;return{pi1:(t==null?void 0:t.ProdID)||"",pi2:(n==null?void 0:n.ProdID)||"",ctl:(o==null?void 0:o.LClas)||"",ctm:(s==null?void 0:s.MClas)||"",cts:(i==null?void 0:i.SClas)||"",...c}},Pvt=(e,t)=>{var n;return{Action:((n=t==null?void 0:t.outputType)==null?void 0:n.id)||"1",JobName:"A22",A22_W1:e.filter(o=>{const{prod:s}=o;return!!s}).map(o=>{const{prod:s,...i}=o;return{ProdID:s.ProdID,ProdData:s.ProdData,Barcode:s.Barcode,PackData:s.PackData,...i}})}},Wv={transformAsQueryParams:Evt,transformForReading:Ovt,transformForSubmitting:Pvt},Rvt=()=>kt({alignRight:!0,continuousUpdates:!1,formatBlurredInput:e=>{if(e===""||e===null||e===void 0)return"";let t=Number(e);return isNaN(t)?"":Math.round(t)},parseUserInput:e=>{const t=Number(e);return isNaN(t)?null:Math.round(t)},parsePastedValue:e=>{const t=Number(e);return isNaN(t)?null:Math.round(t)}}),wvt=({form:e})=>{var W,U;const{operator:t,token:n}=a.useContext(Be),o=a.useContext(ln),{httpGetAsync:s}=Zn(),[i,c]=us(!0),u=a.useContext(Sn),d=Un(),p=a.useRef(),[m,f]=a.useState({saveKey:null,totalElements:null,loading:null}),h=yr({gridId:"A22",keyColumn:"ProdID",otherColumns:"ProdData,Barcode,Qty"}),g=a.useMemo(()=>[{...Pe.keyColumn("prod",or(ls,{name:"prod",selectOnFocus:!0,triggerDelay:300,placeholder:"",typeToSearchText:"",forId:!0,disableClearable:!0,autoHighlight:!0,slotProps:{paper:{sx:{width:360}}}})),title:"",minWidth:130,maxWidth:150,disabled:h.readOnly},{...Pe.keyColumn("ProdData",kt({continuousUpdates:!1})),title:"",disabled:!0,grow:2},{...Pe.keyColumn("Barcode",kt({continuousUpdates:!1})),title:"",minWidth:220,maxWidth:220,disabled:!0},{...Pe.keyColumn("Qty",Rvt()),title:"",minWidth:80,disabled:h.readOnly}],[h.readOnly]),x=hr({data:h.gridData,columns:g,skipDisabled:!0,lastCell:Xn.CREATE_ROW}),y=a.useCallback(()=>{h.readOnly?(p.current=u.drawerOpen,console.log("og drawer opened memoised"),u.handleDrawerClose()):p.current===!0&&u.handleDrawerOpen(),h.toggleReadOnly()},[u,h]),D=a.useCallback(async X=>{if(console.log("criteria",X),!n)throw new Error("token not specified");if(Gn.isAllPropsEmpty(X,"prod1,prod2,catL,catM,catS")){f(te=>({...te,saveKey:null,totalElements:null}));return}f(te=>({...te,loading:!0}));try{const{status:te,payload:se,error:he}=await s({url:"v1/prod/barcodes",bearer:n,params:{...Wv.transformAsQueryParams(X),pk:1}});if(te.success)f(pe=>{var ue,ge;return{...pe,saveKey:(ue=se.Select)==null?void 0:ue.SaveKey,totalElements:(ge=se.Select)==null?void 0:ge.TotalRecord}});else throw he}catch(te){console.error("peek failed",te),ae.error("",te)}finally{f(te=>({...te,loading:!1}))}},[s,n]),v=a.useCallback(()=>{h.handleGridDataLoaded(null)},[h]),T=a.useCallback(async X=>{if(console.log("saveKey",m.saveKey),console.log("criteria",X),!n)throw new Error("token not specified");h.setGridLoading(!0);try{const{status:te,payload:se}=await s({url:"v1/prod/barcodes",bearer:n,params:{...Wv.transformAsQueryParams(X),...m.saveKey&&{sk:m.saveKey}}});if(te.success)h.handleGridDataLoaded(Wv.transformForReading(se));else switch(te.code){default:ae.error(` ${te.code}`);break}}catch(te){console.error("load",te)}finally{h.setGridLoading(!1),f(te=>({...te,saveKey:null}))}},[h,s,m.saveKey,n]),I=a.useCallback(({rowData:X,rowIndex:te})=>{var se;return((se=X==null?void 0:X.prod)==null?void 0:se.ProdID)||te},[]),P=a.useMemo(()=>`${o.REPORT_URL}/WebA22Rep.aspx`,[o.REPORT_URL]),E=yn(),k=a.useCallback(X=>{var he,pe;console.log("onSubmit",X);const se={...Wv.transformForSubmitting(h.gridData,X),DeptId:t.CurDeptID};d.show({data:se,url:P,title:`${(he=u.menuItemSelected)==null?void 0:he.JobID} ${(pe=u.menuItemSelected)==null?void 0:pe.JobName}`})},[(W=u.menuItemSelected)==null?void 0:W.JobID,(U=u.menuItemSelected)==null?void 0:U.JobName,d,h.gridData,t.CurDeptID,P]),w=a.useCallback(X=>{console.log("onGenReportSubmit",X);const te={...Wv.transformForSubmitting(h.gridData,X),DeptId:t.CurDeptID};console.log("data",te),E.open(P,te)},[h.gridData,t.CurDeptID,P,E]),A=a.useCallback(X=>{console.error("onGenReportSubmitError",X)},[]),F=a.useCallback((X,te)=>{const{rowIndex:se}=X,{rowIndex:he}=te||{};h.removeRowByIndex(se,he)},[h]),_=a.useCallback(()=>({prod:null}),[]),L=a.useCallback(({rowData:X})=>{const{prod:te}=X;return{...X,ProdData:(te==null?void 0:te.ProdData)||"",Barcode:(te==null?void 0:te.Barcode)||"",PackData:(te==null?void 0:te.PackData_N)||""}},[]),K=a.useCallback(({fromRowIndex:X,formData:te,newValue:se,setValue:he,gridMeta:pe,updateResult:ue})=>async(ge,Ce)=>{var me,de;const Te=X+Ce,Ne=h.gridData[Te];console.log(` ${Te+1} ...`,ge);let xe={...ge};return((me=xe.prod)==null?void 0:me.ProdID)!=((de=Ne.prod)==null?void 0:de.ProdID)&&(console.log(`prod[${Te}] changed`,xe==null?void 0:xe.prod),xe=await L({rowData:xe,formData:te})),xe},[h.gridData,L]),z=a.useCallback(X=>{console.log("onSubmit",X),T(X)},[T]),J=a.useCallback(X=>{console.error("onSubmitError",X)},[]),Q=a.useMemo(()=>e.handleSubmit(z,J),[e,z,J]),V=vt(`
		prod1,
		prod2,
		qty,
		catL,
		catM,
		catS
		`,{lastField:Q});return{load:T,unload:v,...h,...x,gridMeta:x,onSubmit:z,onSubmitError:J,...m,peek:D,expanded:i,toggleExpanded:c,toggleEditorLock:y,getRowKey:I,onGenReportSubmit:w,onGenReportSubmitError:A,handleDeleteRow:F,handleCreateRow:_,formMeta:V,onUpdateRow:K,onDebugSubmit:k}},om=a.createContext(),kye=e=>{const{children:t}=e,n=at({defaultValues:{qty:"1"}}),o=wvt({form:n});return r.jsx(Ye,{...n,children:r.jsx(om.Provider,{value:{...o},children:t})})};kye.propTypes={children:l.oneOfType([l.array,l.object])};const kvt=({token:e})=>{const t=Bt({moduleId:"A26"}),n=yr({gridId:"A26",keyColumn:"CodeID",otherColumns:"CodeData,Other1"}),o=a.useMemo(()=>[{...Pe.keyColumn("CodeID",kt({continuousUpdates:!1,maxLength:3})),minWidth:70,title:"",disabled:n.isPersisted},{...Pe.keyColumn("CodeData",kt({continuousUpdates:!1})),title:"",grow:5,disabled:n.readOnly},{...Pe.keyColumn("Other1",Jn(1)),title:"",minWidth:120,disabled:n.readOnly}],[n.isPersisted,n.readOnly]),s=hr({columns:o,data:n.gridData,lastCell:Xn.CREATE_ROW}),i=Ga({baseUri:"v1/prod/cms-types",token:e,grid:n,gridMeta:s});return En(()=>{i.load()},[]),{...t,...i,...n,...s,...i,grid:n,gridMeta:s}},aO=a.createContext(),Aye=e=>{const{children:t}=e,n=a.useContext(Be),o=kvt({token:n.token});return r.jsx(aO.Provider,{value:{...o},children:t})};Aye.propTypes={children:l.oneOfType([l.array,l.object])};const Nye=({children:e})=>{const t=a.useContext(Be),n=at(),o=f5({token:t.token,mode:zr.Mode.STORE});return r.jsx(Ri.Provider,{value:{...o},children:r.jsx(Ye,{...n,children:e})})};Nye.propTypes={children:l.oneOfType([l.array,l.object])};const Avt={clearParams:!1},Nvt=()=>{const e=a.useRef({}),t=Hd(),n=mD(),[o,s]=a.useState({itemId:null,itemData:null,itemInitialized:!1}),i=Or(),c=Or(),u=Or(),d=Or(),p=Or(),m=a.useCallback(q=>{s(Y=>({...Y,itemData:q}))},[]),f=a.useCallback((q=Avt)=>{console.log("crud.cancelAction"),i.clear(),c.clear(),u.clear(),d.clear(),p.clear(),s(Y=>({...Y,itemInitialized:!0})),q.clearParams&&t.search&&n({pathname:t.pathname,search:""},{replace:!0})},[i,d,p,t.pathname,t.search,n,c,u]),h=a.useCallback(()=>{f({clearParams:!0})},[f]),g=a.useCallback(q=>{const{id:Y,data:ie,...B}=q||{};s(Z=>({...Z,...Y&&{itemId:Y},...ie&&{itemData:ie},itemInitialized:!1,...B}))},[]),x=a.useCallback(q=>{i.prompt(),g(q)},[i,g]),y=a.useCallback(()=>{i.clear()},[i]),D=a.useCallback((q,Y)=>{i.start({message:q}),g(Y)},[i,g]),v=a.useCallback(q=>{i.clear(),g(q)},[i,g]),T=a.useCallback((q,Y)=>{i.fail({error:q}),g(Y)},[i,g]),I=a.useMemo(()=>!!i.state,[i]),P=a.useMemo(()=>i.state===va.WORKING,[i.state]),E=a.useMemo(()=>i.failed||!!i.error,[i.error,i.failed]),k=a.useCallback((q,Y)=>{console.log(`startReading[${q}]`,Y);const{params:ie,...B}=Y||{};c.start({message:q,params:ie}),g(B)},[c,g]),w=a.useCallback(q=>{console.log("finishedReading",q);const{params:Y,...ie}=q||{};c.finish({params:Y}),g(ie)},[c,g]),A=a.useCallback(()=>{c.clear()},[c]),F=a.useCallback((q,Y)=>{console.error("failedReading",q),c.fail({error:q}),g(Y)},[c,g]),_=a.useMemo(()=>!!c.state,[c.state]),L=a.useMemo(()=>c.state===va.WORKING&&!c.supressLoading,[c.state,c.supressLoading]),K=a.useMemo(()=>c.failed||!!c.error,[c.error,c.failed]),z=a.useCallback((q,Y)=>{console.log(`startLoading[${q}]`,Y);const{params:ie}=Y||{};p.start({message:q,params:ie}),g(Y)},[p,g]),J=a.useCallback(q=>{console.log("finishedLoading",q),p.finish(),g(q)},[p,g]),Q=a.useCallback(()=>{p.clear()},[p]),V=a.useCallback((q,Y)=>{console.log("failedLoading",q),p.fail({error:q}),g(Y)},[p,g]),W=a.useMemo(()=>!!p.state,[p.state]),U=a.useMemo(()=>p.state===va.WORKING&&!p.supressLoading,[p.state,p.supressLoading]),X=a.useMemo(()=>p.failed||!!p.error,[p.error,p.failed]),te=a.useCallback((q,Y)=>{u.prompt({message:q}),g(Y)},[g,u]),se=a.useCallback((q,Y)=>{u.start({message:q}),g(Y)},[g,u]),he=a.useCallback(()=>{u.clear()},[u]),pe=a.useCallback(()=>{u.clear()},[u]),ue=a.useCallback((q,Y)=>{u.fail({error:q}),g(Y)},[g,u]),ge=a.useMemo(()=>!!u.state,[u]),Ce=a.useMemo(()=>u.state===va.WORKING,[u.state]),Te=a.useMemo(()=>u.failed||!!u.error,[u.error,u.failed]),Ne=a.useCallback((q,Y)=>{d.prompt({message:q}),g(Y)},[d,g]),xe=a.useCallback((q,Y)=>{d.start({message:q}),g(Y)},[d,g]),me=a.useCallback(()=>{d.finish()},[d]),de=a.useCallback(()=>{d.clear()},[d]),ce=a.useCallback((q,Y)=>{d.fail({error:q}),g(Y)},[d,g]),ee=a.useMemo(()=>!!d.state,[d.state]),De=a.useMemo(()=>d.state===va.WORKING,[d.state]),ke=a.useMemo(()=>d.failed||!!d.error,[d.error,d.failed]),He=a.useMemo(()=>!!o.itemData&&!L&&!U,[U,L,o.itemData]),qe=a.useMemo(()=>W&&p.state!==va.WORKING&&!X||_&&c.state!==va.WORKING&&!K||I&&c.state!==va.WORKING&&!K||ge&&c.state!==va.WORKING&&!K,[I,p.state,W,X,c.state,_,K,ge]),Le=a.useMemo(()=>!!i.state||!!u.state,[i.state,u.state]),_e=a.useMemo(()=>P||Ce,[P,Ce]),H=a.useMemo(()=>_||I||ge,[I,_,ge]),re=a.useCallback(()=>{i.clear(),u.clear()},[i,u]);return{...o,cancelAction:f,reset:h,setItemData:m,createMessage:i.message,createState:i.state,createError:i.error,createFailed:E,creating:I,createWorking:P,promptCreating:x,startCreating:D,finishedCreating:v,cancelCreating:y,failedCreating:T,readMessage:c.message,readState:c.state,readError:c.error,readingFailed:K,reading:_,readWorking:L,startReading:k,finishedReading:w,cancelReading:A,failedReading:F,loadMessage:p.message,loadState:p.state,loadError:p.error,loadingFailed:X,loading:W,loadWorking:U,startLoading:z,finishedLoading:J,cancelLoading:Q,failedLoading:V,updateMessage:u.message,updateState:u.state,updateError:u.error,updatingFailed:Te,updating:ge,updateWorking:Ce,promptUpdating:te,startUpdating:se,finishedUpdating:he,cancelUpdating:pe,failedUpdating:ue,deleteMessage:d.message,deleteState:d.state,deleteError:d.error,deletingFailed:ke,deleting:ee,deleteWorking:De,promptDeleting:Ne,startDeleting:xe,finishedDeleting:me,cancelDeleting:de,failedDeleting:ce,itemDataLoaded:He,editing:Le,itemDataReady:qe,editWorking:_e,itemViewOpen:H,cancelEditing:re,saveWorking:P||Ce,paramsRef:e}},Mt=({children:e})=>{const t=Nvt();return r.jsx(cr.Provider,{value:{...t},children:e})};Mt.propTypes={children:l.oneOfType([l.array,l.object])};const Fvt=({token:e})=>{const t=Bt({moduleId:"A27"});return{grid:yr({gridId:"P16",keyColumn:"PosNo",otherColumns:"dept,Remark"}),...t}},O5=a.createContext(),Fye=e=>{const{children:t}=e,n=a.useContext(Be),o=Fvt({token:n.token});return r.jsx(O5.Provider,{value:{...o},children:t})};Fye.propTypes={children:l.oneOfType([l.array,l.object])};const Vo=a.createContext();var Uv={},Dle;function Mvt(){if(Dle)return Uv;Dle=1;var e=Qn();Object.defineProperty(Uv,"__esModule",{value:!0}),Uv.default=void 0;var t=e(sr()),n=rr();return Uv.default=(0,t.default)((0,n.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"OpenInNew"),Uv}var _vt=Mvt();const Mye=qn(_vt),_ye=()=>{const e=a.useContext(Vo);return r.jsx(dt,{responsive:!0,variant:"contained",color:"neutral",startIcon:r.jsx(Wxe,{}),onClick:e.handleAddAllFields,children:""})};_ye.displayName="StdPrintAddAllFieldsButtonContainer";const E5=e=>{const{children:t="",...n}=e,o=a.useContext(Vo);return r.jsx(dt,{variant:"contained",color:"neutral",endIcon:r.jsx(Lxe,{}),onClick:o.handleRemoveAllFields,...n,children:t})};E5.propTypes={children:l.oneOfType([l.node,l.array])};E5.displayName="StdPrintRemoveAllFieldsButtonContainer";const P5=()=>r.jsxs(r.Fragment,{children:[r.jsx(E5,{}),r.jsx(_ye,{}),r.jsx(ve,{flexGrow:1})]});P5.propTypes={};P5.displayName="StdPrintActionButtons";const R5=a.memo(e=>{const{name:t,type:n,...o}=e;return r.jsx(AC,{label:t,fullWidth:!0,borderRadius:2,...o,deleteIcon:n===jn.UNUSED?r.jsx(Nxe,{}):null})});R5.propTypes={name:l.string.isRequired};R5.displayName="StdField";const Lvt=it("li")(({theme:e})=>({margin:"8px","& .MuiChip-label":{flexGrow:1}})),Mk=a.memo(e=>{const{fields:t,droppableId:n,onDelete:o,height:s,loading:i=!1,...c}=e,u=Qr({height:s,alwaysShowTrack:!0,alwaysShowThumb:!0}),d=a.useMemo(()=>jn.droppableIdToType(n),[n]);return r.jsx(JT,{droppableId:n,children:p=>r.jsx(_s,{elevation:2,...c,children:r.jsx(ve,{fullWidth:!0,sx:[u.scroller],children:r.jsxs("ul",{ref:p.innerRef,...p.droppableProps,style:{listStyle:"none",width:"100%",padding:"4px 4px 4px 4px",margin:0,flexWrap:"wrap"},children:[t==null?void 0:t.map((m,f)=>r.jsx(Zw,{draggableId:m,index:f,children:h=>r.jsx(Lvt,{draggableId:m,ref:h.innerRef,children:r.jsx(R5,{...h.draggableProps,...h.dragHandleProps,name:m,onDelete:()=>{o(m)},type:d})})},m)),p.placeholder]})})})})});Mk.propTypes={droppableId:l.string.isRequired,fields:l.array,onDelete:l.func,height:l.number,loading:l.bool};Mk.displayName="StdFields";const Lye=e=>{const{...t}=e,n=a.useContext(Vo);return r.jsx(Mk,{fields:n.selectedFields,droppableId:jn.SELECTED,loading:n.fieldsLoading,onDelete:n.handleDelete,...t})};Lye.displayName="StdPrintActiveFieldsContainer";const $ye=e=>{const t=a.useContext(Vo),{...n}=e;return r.jsx(Mk,{fields:t.fields,droppableId:jn.UNUSED,loading:t.fieldsLoading,onDelete:t.handleAdd,...n})};$ye.displayName="StdPrintUnusedFieldsContainer";const V$=a.memo(e=>{const{...t}=e;return r.jsx(nn,{variant:"subtitle2",sx:{fontWeight:600},...t})});V$.displayName="SectionLabel";const w5=a.memo(e=>{const{onDragEnd:t,height:n}=e;return r.jsx(gbe,{onDragEnd:t,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsxs(j,{item:!0,xs:6,children:[r.jsx(V$,{children:""}),r.jsx($ye,{height:n})]}),r.jsxs(j,{item:!0,xs:6,children:[r.jsx(V$,{children:""}),r.jsx(Lye,{height:n})]})]})})});w5.propTypes={onDragEnd:l.func,height:l.number,onSubmit:l.func};w5.displayName="StdPrintForm";const Bye=()=>{const e=a.useContext(Vo),{height:t}=Wt();return r.jsx(w5,{height:t-190,onDragEnd:e.handleDragEnd})};Bye.displayName="StdPrintFormContainer";const Is=a.forwardRef((e,t)=>{const{...n}=e,{height:o}=Wt(),s=a.useContext(Xc),i=a.useContext(Vo),{loadDef:c,printing:u}=i,d=at(),p=a.useMemo(()=>(i.displayName||"")+"",[i.displayName]),m=a.useMemo(()=>d.handleSubmit(i.onDebugSubmit,i.onSubmitError),[d,i.onDebugSubmit,i.onSubmitError]),f=a.useMemo(()=>d.handleSubmit(i.onSubmit,i.onSubmitError),[d,i.onSubmit,i.onSubmitError]);return a.useEffect(()=>{u&&c({params:s.paramsRef.current})},[s.paramsRef,c,u]),r.jsx(Ye,{...d,children:r.jsx("form",{...n,children:r.jsx(Er,{open:u,title:p,ref:t,responsive:!0,fullWidth:!0,maxWidth:"sm",onClose:i.cancelPrint,confirmText:"",onSubmit:f,titleSx:{backgroundColor:$c[100]},contentSx:{backgroundColor:$c[100],height:o,paddingBottom:0},actionsSx:{backgroundColor:$c[100]},buttonProps:{size:"small"},confirmButtonProps:{endIcon:r.jsx(Mye,{}),variant:"contained"},otherActionButtons:r.jsx(P5,{}),confirmButton:r.jsx(xn,{onDebugSubmit:m,onSubmit:f,variant:"contained",color:"primary"}),...n,children:r.jsx(Bye,{})})})})});Is.propTypes={title:l.string};Is.displayName="A01PrintDialogContainer";const $vt=({token:e,tableName:t,deptId:n,paramsToJsonData:o})=>{var Q,V;const{httpGetAsync:s}=Zn(),i=a.useContext(Be),c=a.useContext(ln),{operator:u}=i,d=a.useContext(Xc),[p,m]=a.useState({displayName:null,fields:null,fieldsLoading:null,fieldsError:null,selectedFields:null}),f=Or(),h=a.useMemo(()=>!!f.state,[f.state]),g=a.useCallback(()=>{f.prompt()},[f]),x=a.useCallback(()=>{f.clear()},[f]),y=a.useCallback(async()=>{m(W=>({...W,fieldsLoading:!0}));try{const{status:W,payload:U,error:X}=await s({url:"v1/app/entities",bearer:e,params:{id:t}});if(W.success)m(te=>({...te,displayName:U.info.RealName||t,fields:U.data.map(se=>se.ShowName)||[],selectedFields:[]}));else throw X||new Error("")}catch(W){m(U=>({...U,fieldsError:W}))}finally{m(W=>({...W,fieldsLoading:!1}))}},[s,t,e]),D=a.useCallback(W=>{if(W.destination)if(W.source.droppableId!==W.destination.droppableId){const U=W.source.index,X=W.destination.index,te=W.source.droppableId===jn.SELECTED?p.selectedFields:p.fields,se=W.destination.droppableId===jn.SELECTED?p.selectedFields:p.fields,[he]=te.splice(U,1);se.splice(X,0,he),m(pe=>({...pe,selectedFields:W.source.droppableId===jn.SELECTED?te:se,fields:W.source.droppableId===jn.SELECTED?se:te}))}else{const U=W.source.index,X=W.destination.index;if(U===X)return;const te=W.source.droppableId===jn.SELECTED?p.selectedFields:p.fields,[se]=te.splice(U,1);te.splice(X,0,se),W.source.droppableId===jn.SELECTED?m(he=>({...he,selectedFields:te})):m(he=>({...he,fields:te}))}},[p.fields,p.selectedFields]),v=a.useCallback(W=>{console.log("handleDelete",W),m(U=>({...U,selectedFields:[...U.selectedFields.filter(X=>X!==W)],fields:[...U.fields,W]}))},[]),T=a.useCallback(W=>{console.log("handleAdd",W),m(U=>({...U,selectedFields:[...U.selectedFields,W],fields:[...U.fields.filter(X=>X!==W)]}))},[]),I=a.useMemo(()=>`${c.REPORT_URL}/WebStdReport.aspx`,[c.REPORT_URL]),P=yn(),E=a.useCallback(W=>{var te;if(!p.selectedFields||p.selectedFields.length===0){ae.error("");return}const U=o?o((te=d==null?void 0:d.paramsRef)==null?void 0:te.current,u):null;console.log("where",U);const X={...W&&{Action:W},RealFile:t,DeptID:n,StdOut:p.selectedFields.join(","),...U};console.log("data",X),P.open(I,X)},[n,d==null?void 0:d.paramsRef,u,o,I,P,p.selectedFields,t]),k=a.useCallback(()=>{m(W=>({...W,selectedFields:[...W.selectedFields,...W.fields],fields:[]}))},[]),w=a.useCallback(()=>{m(W=>({...W,fields:[...W.selectedFields,...W.fields],selectedFields:[]}))},[]),A=a.useCallback(()=>{y()},[y]),F=a.useContext(Sn),_=Un(),L=a.useCallback(W=>{var te,se,he;console.log("onDebugSubmit",W);const U=o?o((te=d==null?void 0:d.paramsRef)==null?void 0:te.current,u):null;console.log("where",U);const X={RealFile:t,DeptID:n,StdOut:p.selectedFields.join(","),...U};console.log("data",X),_.show({data:X,url:I,title:`${(se=F.menuItemSelected)==null?void 0:se.JobID} ${(he=F.menuItemSelected)==null?void 0:he.JobName}`})},[(Q=F.menuItemSelected)==null?void 0:Q.JobID,(V=F.menuItemSelected)==null?void 0:V.JobName,_,n,d==null?void 0:d.paramsRef,u,o,I,p.selectedFields,t]),K=a.useCallback(W=>{var U;console.log("onSubmit",W),console.log("params",d.paramsRef.current),E((U=W.outputType)==null?void 0:U.id)},[E,d.paramsRef]),z=a.useCallback(W=>{console.error("onSubmitError",W)},[]),J=a.useCallback(({setValue:W})=>U=>{console.log("handleExport",U),W("outputType",U)},[]);return{...p,loadDef:y,tableName:t,handleDragEnd:D,handleDelete:v,handleAdd:T,handlePrint:E,printing:h,promptPrint:g,cancelPrint:x,handleAddAllFields:k,handleRemoveAllFields:w,handleReset:A,onDebugSubmit:L,onSubmit:K,onSubmitError:z,handleExport:J}},ws=({children:e,tableName:t,paramsToJsonData:n})=>{var i,c;const o=a.useContext(Be),s=$vt({token:o.token,tableName:t,deptId:(i=o.operator)==null?void 0:i.CurDeptID,logKey:(c=o.operator)==null?void 0:c.LogKey,paramsToJsonData:n});return r.jsx(Vo.Provider,{value:{...s},children:e})};ws.propTypes={tableName:l.string.isRequired,children:l.oneOfType([l.array,l.object]),paramsToJsonData:l.func};const hn=a.memo(a.forwardRef((e,t)=>{const{children:n,startIcon:o,endIcon:s,mobileText:i,size:c="small",useIconButton:u=!1,...d}=e,{mobile:p}=a.useContext(lc),m=a.useMemo(()=>o||s,[s,o]),f=a.useMemo(()=>p&&m&&u,[m,p,u]),h=a.useMemo(()=>o&&(!p||u),[u,p,o]),g=a.useMemo(()=>s&&(!p||u),[s,u,p]),x=a.useMemo(()=>p?u?!1:i||n:n,[n,u,p,i]);return f?r.jsx(jr,{title:n,children:r.jsx(br,{...d,children:m})}):r.jsx(fa,{size:c,ref:t,...h&&{startIcon:o},...g&&{endIcon:s},...d,children:x})}));hn.propTypes={children:l.node,startIcon:l.object,endIcon:l.object,size:l.string,mobileText:l.string,useIconButton:l.bool};var qv={},Sle;function Bvt(){if(Sle)return qv;Sle=1;var e=Qn();Object.defineProperty(qv,"__esModule",{value:!0}),qv.default=void 0;var t=e(sr()),n=rr();return qv.default=(0,t.default)((0,n.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),qv}var Wvt=Bvt();const Ao=qn(Wvt),Wye=a.memo(a.forwardRef((e,t)=>{const{mobile:n}=a.useContext(lc),{...o}=e,s=a.useContext(Ri),i=a.useMemo(()=>n?"":s.mode===zr.Mode.NEW_PROD?"":"",[s.mode,n]);return s.mode===zr.Mode.STORE||s.moduleAuthorityLoading||!s.canCreate?!1:r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(Ao,{}),onClick:s.handlePromptCreating,sx:{fontWeight:600},...o,children:i})}));Wye.displayName="A01CreateButtonContainer";const Uye=()=>{const e=a.useContext(Ri);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};Uye.displayName="A01FetchResultLabelContainer";const k5=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(Vo),s=a.useContext(Ri),{moduleAuthorityLoading:i,canPrint:c}=s;return i||!c?!1:r.jsx(dt,{responsive:!0,ref:t,variant:"contained",startIcon:r.jsx(cs,{}),sx:{fontWeight:600},onClick:o.promptPrint,...n,children:""})}));k5.propTypes={};k5.displayName="A01PrintButtonContainer";function A5(e={}){const{name:t,jobId:n}=e;if(!t)throw new Error("");const{httpGetAsync:o,httpPatchAsync:s}=Zn(),{token:i}=a.useContext(Be),[c,u]=a.useState(!1),[d,p]=a.useState(),[m,f]=a.useState(),h=a.useCallback(async()=>{try{p(!0);const{status:y,payload:D,error:v}=await o({url:`v1/pos/service-status/${t}`,bearer:i});if(y.success)p(!1),u(D.data[0].Using==="1");else throw v??new Error("")}catch(y){console.error("getStatus failed",y)}},[o,t,i]),g=a.useCallback(async y=>{f(null);try{const{status:D,error:v}=await s({url:`v1/pos/service-status/${t}`,bearer:i,data:{enabled:y?1:0,jobId:n}});if(D.success)u(y),y?ae.success(""):ae.warn("");else throw v??new Error("")}catch(D){console.error("updateStatus failed",D),f(D)}},[s,t,i]),x=a.useCallback(()=>{g(!c)},[c,g]);return En(()=>{h()},[]),{getStatus:h,updateStatus:g,enabled:c,loading:d,toggle:x,error:m}}var Vv={},vle;function Uvt(){if(vle)return Vv;vle=1;var e=Qn();Object.defineProperty(Vv,"__esModule",{value:!0}),Vv.default=void 0;var t=e(sr()),n=rr();return Vv.default=(0,t.default)((0,n.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1z"}),"Lock"),Vv}var qvt=Uvt();const iO=qn(qvt);var zv={},jle;function Vvt(){if(jle)return zv;jle=1;var e=Qn();Object.defineProperty(zv,"__esModule",{value:!0}),zv.default=void 0;var t=e(sr()),n=rr();return zv.default=(0,t.default)((0,n.jsx)("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m0 12H6V10h12z"}),"LockOpen"),zv}var zvt=Vvt();const qye=qn(zvt);function z$(){return z$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},z$.apply(this,arguments)}var Hvt=Dn.createElement("svg",{viewBox:"-2 -5 14 20",height:"100%",width:"100%",style:{position:"absolute",top:0}},Dn.createElement("path",{d:"M9.9 2.12L7.78 0 4.95 2.828 2.12 0 0 2.12l2.83 2.83L0 7.776 2.123 9.9 4.95 7.07 7.78 9.9 9.9 7.776 7.072 4.95 9.9 2.12",fill:"#fff",fillRule:"evenodd"})),Gvt=Dn.createElement("svg",{height:"100%",width:"100%",viewBox:"-2 -5 17 21",style:{position:"absolute",top:0}},Dn.createElement("path",{d:"M11.264 0L5.26 6.004 2.103 2.847 0 4.95l5.26 5.26 8.108-8.107L11.264 0",fill:"#fff",fillRule:"evenodd"}));function Ile(e){if(e.length===7)return e;for(var t="#",n=1;n<4;n+=1)t+=e[n]+e[n];return t}function Tle(e,t,n,o,s){return(function(i,c,u,d,p){var m=(i-u)/(c-u);if(m===0)return d;if(m===1)return p;for(var f="#",h=1;h<6;h+=2){var g=parseInt(d.substr(h,2),16),x=parseInt(p.substr(h,2),16),y=Math.round((1-m)*g+m*x).toString(16);y.length===1&&(y="0"+y),f+=y}return f})(e,t,n,Ile(o),Ile(s))}var Vye=(function(e){function t(n){e.call(this,n);var o=n.height,s=n.width,i=n.checked;this.t=n.handleDiameter||o-2,this.i=Math.max(s-o,s-(o+this.t)/2),this.o=Math.max(0,(o-this.t)/2),this.state={h:i?this.i:this.o},this.l=0,this.u=0,this.p=this.p.bind(this),this.v=this.v.bind(this),this.k=this.k.bind(this),this.m=this.m.bind(this),this.M=this.M.bind(this),this.T=this.T.bind(this),this.$=this.$.bind(this),this.C=this.C.bind(this),this.D=this.D.bind(this),this.O=this.O.bind(this),this.S=this.S.bind(this),this.W=this.W.bind(this)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.componentDidMount=function(){this.I=!0},t.prototype.componentDidUpdate=function(n){n.checked!==this.props.checked&&this.setState({h:this.props.checked?this.i:this.o})},t.prototype.componentWillUnmount=function(){this.I=!1},t.prototype.H=function(n){this.R.focus(),this.setState({j:n,B:!0,L:Date.now()})},t.prototype.N=function(n){var o=this.state,s=o.j,i=o.h,c=(this.props.checked?this.i:this.o)+n-s;o.U||n===s||this.setState({U:!0});var u=Math.min(this.i,Math.max(this.o,c));u!==i&&this.setState({h:u})},t.prototype.A=function(n){var o=this.state,s=o.h,i=o.U,c=o.L,u=this.props.checked,d=(this.i+this.o)/2;this.setState({h:this.props.checked?this.i:this.o});var p=Date.now()-c;(!i||p<250||u&&s<=d||!u&&s>=d)&&this.X(n),this.I&&this.setState({U:!1,B:!1}),this.l=Date.now()},t.prototype.p=function(n){n.preventDefault(),typeof n.button=="number"&&n.button!==0||(this.H(n.clientX),window.addEventListener("mousemove",this.v),window.addEventListener("mouseup",this.k))},t.prototype.v=function(n){n.preventDefault(),this.N(n.clientX)},t.prototype.k=function(n){this.A(n),window.removeEventListener("mousemove",this.v),window.removeEventListener("mouseup",this.k)},t.prototype.m=function(n){this.F=null,this.H(n.touches[0].clientX)},t.prototype.M=function(n){this.N(n.touches[0].clientX)},t.prototype.T=function(n){n.preventDefault(),this.A(n)},t.prototype.C=function(n){Date.now()-this.l>50&&(this.X(n),Date.now()-this.u>50&&this.I&&this.setState({B:!1}))},t.prototype.D=function(){this.u=Date.now()},t.prototype.O=function(){this.setState({B:!0})},t.prototype.S=function(){this.setState({B:!1})},t.prototype.W=function(n){this.R=n},t.prototype.$=function(n){n.preventDefault(),this.R.focus(),this.X(n),this.I&&this.setState({B:!1})},t.prototype.X=function(n){var o=this.props;(0,o.onChange)(!o.checked,n,o.id)},t.prototype.render=function(){var n=this.props,o=n.checked,s=n.disabled,i=n.className,c=n.offColor,u=n.onColor,d=n.offHandleColor,p=n.onHandleColor,m=n.checkedIcon,f=n.uncheckedIcon,h=n.checkedHandleIcon,g=n.uncheckedHandleIcon,x=n.boxShadow,y=n.activeBoxShadow,D=n.height,v=n.width,T=n.borderRadius,I=(function(Q,V){var W={};for(var U in Q)Object.prototype.hasOwnProperty.call(Q,U)&&V.indexOf(U)===-1&&(W[U]=Q[U]);return W})(n,["checked","disabled","className","offColor","onColor","offHandleColor","onHandleColor","checkedIcon","uncheckedIcon","checkedHandleIcon","uncheckedHandleIcon","boxShadow","activeBoxShadow","height","width","borderRadius","handleDiameter"]),P=this.state,E=P.h,k=P.U,w=P.B,A={position:"relative",display:"inline-block",textAlign:"left",opacity:s?.5:1,direction:"ltr",borderRadius:D/2,WebkitTransition:"opacity 0.25s",MozTransition:"opacity 0.25s",transition:"opacity 0.25s",touchAction:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},F={height:D,width:v,margin:Math.max(0,(this.t-D)/2),position:"relative",background:Tle(E,this.i,this.o,c,u),borderRadius:typeof T=="number"?T:D/2,cursor:s?"default":"pointer",WebkitTransition:k?null:"background 0.25s",MozTransition:k?null:"background 0.25s",transition:k?null:"background 0.25s"},_={height:D,width:Math.min(1.5*D,v-(this.t+D)/2+1),position:"relative",opacity:(E-this.o)/(this.i-this.o),pointerEvents:"none",WebkitTransition:k?null:"opacity 0.25s",MozTransition:k?null:"opacity 0.25s",transition:k?null:"opacity 0.25s"},L={height:D,width:Math.min(1.5*D,v-(this.t+D)/2+1),position:"absolute",opacity:1-(E-this.o)/(this.i-this.o),right:0,top:0,pointerEvents:"none",WebkitTransition:k?null:"opacity 0.25s",MozTransition:k?null:"opacity 0.25s",transition:k?null:"opacity 0.25s"},K={height:this.t,width:this.t,background:Tle(E,this.i,this.o,d,p),display:"inline-block",cursor:s?"default":"pointer",borderRadius:typeof T=="number"?T-1:"50%",position:"absolute",transform:"translateX("+E+"px)",top:Math.max(0,(D-this.t)/2),outline:0,boxShadow:w?y:x,border:0,WebkitTransition:k?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",MozTransition:k?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",transition:k?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s"},z={height:this.t,width:this.t,opacity:Math.max(2*(1-(E-this.o)/(this.i-this.o)-.5),0),position:"absolute",left:0,top:0,pointerEvents:"none",WebkitTransition:k?null:"opacity 0.25s",MozTransition:k?null:"opacity 0.25s",transition:k?null:"opacity 0.25s"},J={height:this.t,width:this.t,opacity:Math.max(2*((E-this.o)/(this.i-this.o)-.5),0),position:"absolute",left:0,top:0,pointerEvents:"none",WebkitTransition:k?null:"opacity 0.25s",MozTransition:k?null:"opacity 0.25s",transition:k?null:"opacity 0.25s"};return Dn.createElement("div",{className:i,style:A},Dn.createElement("div",{className:"react-switch-bg",style:F,onClick:s?null:this.$,onMouseDown:function(Q){return Q.preventDefault()}},m&&Dn.createElement("div",{style:_},m),f&&Dn.createElement("div",{style:L},f)),Dn.createElement("div",{className:"react-switch-handle",style:K,onClick:function(Q){return Q.preventDefault()},onMouseDown:s?null:this.p,onTouchStart:s?null:this.m,onTouchMove:s?null:this.M,onTouchEnd:s?null:this.T,onTouchCancel:s?null:this.S},g&&Dn.createElement("div",{style:z},g),h&&Dn.createElement("div",{style:J},h)),Dn.createElement("input",z$({},{type:"checkbox",role:"switch","aria-checked":o,checked:o,disabled:s,style:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1}},I,{ref:this.W,onFocus:this.O,onBlur:this.S,onKeyUp:this.D,onChange:this.C})))},t})(a.Component);Vye.defaultProps={disabled:!1,offColor:"#888",onColor:"#080",offHandleColor:"#fff",onHandleColor:"#fff",uncheckedIcon:Hvt,checkedIcon:Gvt,boxShadow:null,activeBoxShadow:"0 0 2px 3px #3bf",height:28,width:56};const Hv=30,Kvt=48,fP=70,Ts=a.memo(e=>{const{sx:t=[],lockedLabel:n="",unlockedLabel:o="",locked:s,width:i=70,onChange:c,disableShadow:u=!1,disableBoxShadow:d=!1,...p}=e,[m,f]=us(s),h=a.useMemo(()=>c?s:m,[m,s,c]),g=a.useMemo(()=>c||f,[c,f]),x=a.useMemo(()=>!i||i<fP?(console.warn(` ${fP}`),fP):i,[i]),y=a.useMemo(()=>x>fP?0-(x-Hv-Kvt):0,[x]);return r.jsx(jt,{className:"button",sx:[D=>({"& .react-switch-bg":{border:"1px solid rgb(0,0,0,0.1)",...!d&&{boxShadow:ur.IN_BOX_SHADOW},transition:D.transitions.create(["box-shadow","background-color"],{easing:D.transitions.easing.sharp,duration:D.transitions.duration.leavingScreen})},"&:hover .react-switch-bg":{boxShadow:"0px 4x 6px 0px rgb(0,0,0,0.4) inset"},"& .locked-label":{width:`${i-Hv}px`}}),...Array.isArray(t)?t:[t]],children:r.jsx(Vye,{checked:!h,borderRadius:6,height:32,width:x,...!u&&{boxShadow:ur.OUT_BOX_SHADOW_H},activeBoxShadow:"0px 0px 1px 3px rgba(0, 0, 0, 0.2)",offColor:Qm[100],offHandleColor:Qm[600],uncheckedHandleIcon:r.jsx(ve,{className:"locked-handle",sx:{height:"30px",width:`${Hv}px`,alignItems:"center",justifyContent:"center"},children:r.jsx(iO,{fontSize:"small",htmlColor:"#fff"})}),uncheckedIcon:r.jsx(ve,{className:"locked-label",sx:{height:"30px",alignItems:"center",justifyContent:"center",marginLeft:`${y}px`},children:r.jsx(nn,{color:"text.secondary",variant:"body2",sx:{fontWeight:600},children:n})}),onColor:Ym[50],onHandleColor:Ym.A700,checkedIcon:r.jsx(ve,{className:"unlocked-label",sx:{height:"30px",width:`${i-Hv}px`,alignItems:"center",justifyContent:"center"},children:r.jsx(nn,{color:"text.secondary",variant:"body2",sx:{fontWeight:600},children:o})}),checkedHandleIcon:r.jsx(ve,{className:"unlocked-handle",sx:{height:"30px",width:`${Hv}px`,alignItems:"center",justifyContent:"center"},children:r.jsx(qye,{fontSize:"small",htmlColor:"#fff"})}),onChange:g,...p})})});Ts.propTypes={sx:l.oneOfType([l.object,l.array]),lockedLabel:l.string,unlockedLabel:l.string,locked:l.bool,disableShadow:l.bool,disableBoxShadow:l.bool,onChange:l.func,width:l.number};Ts.displayName="LockSwitch";const zye=e=>{const{...t}=e,n=a.useContext(Ri),{operator:o}=a.useContext(Be),s=A5({name:"StoreFile_F",jobId:"A01"}),{mobile:i}=a.useContext(lc),c=a.useMemo(()=>!n.canManage||o.CurHeadOffice!=1,[n.canManage,o]),u=a.useMemo(()=>{let d="";return o.CurHeadOffice!=1&&(d+=""),n.canManage||(d+=""),d},[n.canManage,o.CurHeadOffice]);return n.mode!==zr.Mode.PROD?!1:s.loading!==!1?r.jsx(Cr,{}):s.error?r.jsx(nu,{error:s.error,severity:"error",dense:!0,children:""}):r.jsx(Ra,{title:u,children:r.jsx(Ts,{unlockedLabel:i?"POS":"POS",lockedLabel:i?"POS":"POS",locked:!s.enabled,onChange:s.toggle,disabled:c,width:i?90:130,...t})})};zye.displayName="A01LockSwitchContainer";const Hye=a.memo(()=>r.jsxs(r.Fragment,{children:[r.jsx(Wye,{}),r.jsx(k5,{color:"neutral"}),r.jsx(zye,{})]}));Hye.displayName="LeftButtons";const Gye=a.memo(a.forwardRef(({...e},t)=>r.jsx(kn,{alignItems:"flex-end",pr:1,ref:t,LeftComponent:Hye,RightComponent:Uye,...e})));Gye.displayName="A01ListViewToolbar";const Eo=it(Vpe,{shouldForwardProp:e=>!["minWidth","maxWidth"].includes(e)})(({theme:e,minWidth:t="250px",maxWidth:n="250px"})=>({"&":{zIndex:1300},"& .MuiPaper-root":{minWidth:t,maxWidth:n,padding:e.spacing(2),paddingRight:e.spacing(3)}})),N5=a.memo(e=>{var i,c,u;const{anchor:t="right",...n}=e,o=a.useContext(Ri),s=a.useMemo(()=>{var f,h;const d=Re.parseDate((f=o.itemData)==null?void 0:f.WriteDate_N),p=Re.parseDate((h=o.itemData)==null?void 0:h.WriteDate_StoreCase),m=Math.max(d,p);return m?Re.formatDateTime(new Date(m)):""},[(i=o.itemData)==null?void 0:i.WriteDate_N,(c=o.itemData)==null?void 0:c.WriteDate_StoreCase]);return r.jsxs(Eo,{anchor:t,open:o.sideDrawerOpen,onClose:o.handleSideDrawerClose,slotProps:{backdrop:{sx:[ur.BACKDROP_TRANSPARENT]}},...n,children:[r.jsx(pn,{label:"",children:s}),r.jsx(pn,{label:"",children:(u=o.itemData)==null?void 0:u.Writer_N})]})});N5.propTypes={anchor:l.string};N5.displayName="A01Drawer";const Qvt=e=>{if(!e)return"";const{CodeID:t,CodeData:n}=e;return`${t} ${n}`},Yvt=(e,t)=>(e==null?void 0:e.CodeID)===(t==null?void 0:t.CodeID),Ole={getOptionLabel:Qvt,isOptionEqualToValue:Yvt},Qb=a.forwardRef((e,t)=>{const{label:n="",...o}=e,{token:s}=a.useContext(Be);return r.jsx(bt,{label:n,ref:t,bearer:s,url:"v1/prod/counters",getOptionLabel:Ole.getOptionLabel,isOptionEqualToValue:Ole.isOptionEqualToValue,notFoundText:" ${input} ",...o})});Qb.propTypes={label:l.string,children:l.node};Qb.displayName="CounterPicker";const Jvt=e=>e==="Y"?"":"",Xvt=e=>Oo.isString(e)?(e==null?void 0:e.toUpperCase())==="Y":!1,Zvt=e=>e?"Y":"N",PI={getOptionLabel:Jvt,valueToChecked:Xvt,checkedToValue:Zvt},Pt=it(jt,{shouldForwardProp:e=>![].includes(e)})(()=>({"& .MuiInputLabel-root":{fontSize:"105%"},"& .MuiInputLabel-shrink":{fontSize:"115%",fontWeight:600,left:"-2px"},"& .MuiFormControl-root:has(.MuiInputBase-root.Mui-disabled, .MuiInputBase-root.Mui-readOnly):not(.dsg-container *)":{},"& .field-group-legend":{fontSize:"0.875rem",fontWeight:600,left:"-2px"},"& fieldset.field-group":{},"& .field-group .MuiInputBase-root.MuiFilledInput-root.Mui-disabled":{backgroundColor:"transparent"},"& .MuiInputBase-root:not(.MuiFilledInput-root):not(.dsg-container *):not(.Mui-readOnly):not(.Mui-disabled)":{backgroundColor:"rgb(255,255,255)"},"& .dsg-container .MuiInputBase-root":{backgroundColor:"initial"}})),lo=a.memo(e=>{const{error:t,...n}=e;return t?r.jsx(ve,{alignItems:"center",justifyContent:"center",height:"72vh",children:r.jsx(nu,{variant:"filled",minWidth:"20em",title:"",error:t,...n})}):!1});lo.propTypes={error:l.object};lo.displayName="FormErrorBox";const Xt=e=>{const{p:t=1,mb:n=1,sx:o=[],bgcolor:s="rgba(255, 255, 255, 100.0)",borderColor:i="rgb(16 160 215)",...c}=e;return r.jsx(jt,{p:t,pt:1.5,mb:n,sx:[u=>({backgroundColor:s,borderRadius:u.spacing(1),borderLeft:`5px solid ${i}`,boxShadow:"rgba(0, 0, 0, 0.16) 1px 1px 6px"}),...Array.isArray(o)?o:[o]],...c})};Xt.propTypes={bgcolor:l.string,borderColor:l.string,sx:l.oneOfType([l.object,l.array]),p:l.oneOfType([l.string,l.number]),mb:l.oneOfType([l.string,l.number])};Xt.displayName="FormSectionBox";const Ws=a.memo(a.forwardRef((e,t)=>{const{children:n,...o}=e;return r.jsx(jt,{ref:t,...o,children:r.jsx(nn,{variant:"subtitle1",sx:[s=>({fontWeight:600,fontSize:"100%",color:s.palette.text.primary})],children:n})})}));Ws.propTypes={children:l.node};Ws.displayName="FormSectionTitle";const go=Pe.createAddRowsComponent({button:"",unit:""}),ejt=(e,t)=>{a.useEffect(()=>(document.addEventListener(e,t),()=>{document.removeEventListener(e,t)}),[t,e])},F5=a.memo(e=>{const{clientX:t,clientY:n,items:o,close:s,renderItem:i,filterItem:c}=e,u=a.useRef(),d=a.useCallback(p=>{var f;((f=u.current)==null?void 0:f.contains(p.target))||s()},[s]);return ejt("mousedown",d),r.jsx("div",{className:"dsg-context-menu",style:{left:t+"px",top:n+"px"},ref:u,children:o.filter(c).map(p=>r.jsx("div",{onClick:p.action,className:"dsg-context-menu-item",children:i(p)},p.type))})});F5.displayName="DSGContextMenu";F5.propTypes={children:l.func,items:l.array,clientX:l.number,clientY:l.number,close:l.func,renderItem:l.func,filterItem:l.func};const tjt=e=>e.type==="CUT"?r.jsx(r.Fragment,{children:""}):e.type==="COPY"?r.jsx(r.Fragment,{children:""}):e.type==="PASTE"?r.jsx(r.Fragment,{children:""}):e.type==="DELETE_ROW"?r.jsx(r.Fragment,{children:""}):e.type==="DELETE_ROWS"?r.jsxs(r.Fragment,{children:[" ",r.jsx("b",{children:e.fromRow}),"  ",r.jsxs("b",{children:[e.toRow," "]})]}):e.type==="INSERT_ROW_BELLOW"?r.jsx(r.Fragment,{children:""}):e.type==="DUPLICATE_ROW"?r.jsx(r.Fragment,{children:""}):e.type==="DUPLICATE_ROWS"?r.jsxs(r.Fragment,{children:[" ",r.jsxs("b",{children:[" ",e.fromRow]}),"  ",r.jsxs("b",{children:[e.toRow," "]})]}):e.type,njt=()=>!0,Rr=({renderItem:e=tjt,filterItem:t=njt}={})=>(n=>r.jsx(F5,{renderItem:e,filterItem:t,...n})),rjt=Rr({filterItem:e=>["DELETE_ROW"].includes(e.type)}),M5=a.memo(e=>{const{lockRows:t=!1,gridRef:n,data:o,handleGridChange:s,onActiveCellChange:i,columns:c,height:u=600,...d}=e;return o?(o==null?void 0:o.length)===0&&t?r.jsx(nn,{variant:"body2",color:"text.secondary",children:"()"}):r.jsx(dr,{ref:n,rowKey:"id",height:u,value:o,onChange:s,onActiveCellChange:i,columns:c,addRowsComponent:go,disableExpandSelection:!0,contextMenuComponent:rjt,...d}):r.jsx(nn,{variant:"body2",color:"text.secondary",children:"()"})});M5.propTypes={lockRows:l.bool,gridRef:l.func,handleGridChange:l.func,onActiveCellChange:l.func,data:l.array,columns:l.array,height:l.oneOfType([l.string,l.number])};M5.displayName="ProdComboGrid";const _5=e=>{const{store:t,...n}=e,o=a.useContext(Ri),s=a.useContext(Be),{height:i}=Wt(),c=a.useMemo(()=>!o.editing||t,[o.editing,t]),u=a.useMemo(()=>i-288+(c?48:0),[i,c]);return r.jsx(Kn.Provider,{value:{...o.comboGrid,...o.comboMeta,readOnly:!o.editing},children:r.jsx(M5,{gridRef:o.comboMeta.setGridRef,lockRows:c,columns:o.comboMeta.columns,data:o.comboGrid.gridData,handleGridChange:o.handleComboGridChange,onActiveCellChange:o.comboMeta.handleActiveCellChange,bearer:s.token,height:u,createRow:o.createComboRow,...n})})};_5.propTypes={store:l.bool};_5.displayName="ProdComboGridContainer";const ojt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),L5=a.memo(e=>{const{readOnly:t=!1,gridRef:n,data:o,columns:s,onActiveCellChange:i,height:c=600,...u}=e;return o?(o==null?void 0:o.length)===0&&t?r.jsx(nn,{variant:"body2",color:"text.secondary",children:"()"}):r.jsx(dr,{ref:n,rowKey:"id",lockRows:t,height:c,value:o,onActiveCellChange:i,columns:s,addRowsComponent:go,disableExpandSelection:!0,contextMenuComponent:ojt,...u}):r.jsx(nn,{variant:"body2",color:"text.secondary",children:"()"})});L5.propTypes={readOnly:l.bool,gridRef:l.func,onActiveCellChange:l.func,data:l.array,columns:l.array,height:l.oneOfType([l.string,l.number])};L5.displayName="ProdTransGrid";const $5=e=>{const{...t}=e,n=a.useContext(Ri),o=a.useContext(Be),{height:s}=Wt(),i=a.useMemo(()=>n.transGridDisabled,[n.transGridDisabled]),c=a.useMemo(()=>s-288+(i?48:0),[s,i]);return r.jsx(Kn.Provider,{value:{...n.transGrid,...n.transMeta,readOnly:!n.editing},children:r.jsx(L5,{gridRef:n.transMeta.setGridRef,readOnly:n.transGridDisabled,columns:n.transMeta.columns,data:n.transGrid.gridData,onChange:n.handleTransGridChange,onActiveCellChange:n.transMeta.handleActiveCellChange,bearer:o.token,height:c,createRow:n.createTransRow,...t})})};$5.propTypes={store:l.bool};$5.displayName="ProdTransGridContainer";const sjt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),B5=a.memo(e=>{const{readOnly:t=!1,gridRef:n,data:o,columns:s,onActiveCellChange:i,height:c=600,...u}=e;return o?(o==null?void 0:o.length)===0&&t?r.jsx(nn,{variant:"body2",color:"text.secondary",children:"()"}):r.jsx(dr,{ref:n,rowKey:"id",lockRows:t,height:c,value:o,onActiveCellChange:i,columns:s,addRowsComponent:go,disableExpandSelection:!0,contextMenuComponent:sjt,...u}):r.jsx(nn,{variant:"body2",color:"text.secondary",children:"()"})});B5.propTypes={readOnly:l.bool,gridRef:l.func,onActiveCellChange:l.func,data:l.array,columns:l.array,height:l.oneOfType([l.string,l.number])};B5.displayName="A01CmsGrid";const W5=e=>{const{...t}=e,n=a.useContext(Ri),o=a.useContext(Be),{height:s}=Wt(),i=a.useMemo(()=>n.cmsGridDisabled,[n.cmsGridDisabled]),c=a.useMemo(()=>s-288+(i?48:0),[s,i]);return r.jsx(Kn.Provider,{value:{...n.cmsGrid,...n.cmsMeta,readOnly:!n.editing},children:r.jsx(B5,{gridRef:n.cmsMeta.setGridRef,readOnly:n.cmsGridDisabled,columns:n.cmsMeta.columns,data:n.cmsGrid.gridData,onChange:n.handleCmsGridChange,onActiveCellChange:n.cmsMeta.handleActiveCellChange,bearer:o.token,height:c,createRow:n.createCmsRow,...t})})};W5.propTypes={store:l.bool};W5.displayName="ProdTransGridContainer";const U5=a.memo(e=>{const{readError:t,data:n,readWorking:o,itemDataReady:s,creating:i,editing:c,updating:u,storeMode:d,selectedTab:p,handleTabChange:m,height:f,transTabDisabled:h,comboTabDisabled:g,cmsTabDisabled:x,slotProps:y,handleInvDataFocused:D,doCms:v,...T}=e,I=Qr({height:f,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"});return r.jsxs("form",{...T,children:[o&&r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",minHeight:"30em",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}),t&&r.jsx(lo,{error:t,...y==null?void 0:y.error}),s&&r.jsx(Pt,{pt:0,children:r.jsxs(xf,{value:p,children:[r.jsx(jt,{sx:{borderBottom:1,borderColor:"divider"},children:r.jsxs(yf,{onChange:m,"aria-label":"lab API tabs example",children:[r.jsx(Si,{label:"",value:zr.Tabs.INFO}),r.jsx(Si,{label:"",value:zr.Tabs.TRANS,disabled:h}),r.jsx(Si,{label:"",value:zr.Tabs.COMBO,disabled:g}),v&&r.jsx(Si,{label:"",value:zr.Tabs.CMS,disabled:x})]})}),r.jsxs(ga,{value:zr.Tabs.INFO,sx:[P=>({paddingTop:1}),I.scroller],children:[r.jsx(Ws,{children:""}),r.jsx(Xt,{editing:c,children:r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"ProdID",label:"",autoFocus:i,fullWidth:!0,required:!0,rules:{required:""},readOnly:u,slotProps:{htmlInput:{maxLength:13}}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:5,children:r.jsx($e,{typo:!0,name:"ProdData",label:"",fullWidth:!0,required:!0,rules:{required:""},readOnly:d,children:n==null?void 0:n.ProdData})}),r.jsx(j,{item:!0,xs:12,sm:12,md:4,children:r.jsx($e,{typo:!0,label:"",name:"InvData",fullWidth:!0,readOnly:d,slotProps:{htmlInput:{maxLength:13}},onFocus:D})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,label:"",name:"Barcode",fullWidth:!0,readOnly:d,slotProps:{htmlInput:{maxLength:13}}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx(xr,{typo:!0,label:"",defaultValue:"N",variant:"outlined",name:"BarPR",readOnly:d,valueToChecked:PI.valueToChecked,checkedToValue:PI.checkedToValue,getLabel:PI.getOptionLabel})})]})}),r.jsx(Ws,{children:""}),r.jsx(Xt,{editing:c,children:r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx(Pl,{typo:!0,name:"catL",readOnly:d,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx(El,{typo:!0,name:"catM",readOnly:d,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx(ou,{typo:!0,name:"catS",readOnly:d,disableOpenOnInput:!0})})]})}),r.jsx(Ws,{children:""}),r.jsx(Xt,{editing:c,children:r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx(Yd,{typo:!0,name:"typeA",readOnly:d,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx(MD,{typo:!0,name:"typeB",readOnly:d,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx(sO,{typo:!0,name:"taxType",label:"",readOnly:d,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx(Qb,{label:"",typo:!0,name:"counter",autoFocus:d,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"StdCost",label:"",type:"number",readOnly:d,renderLabel:wo.formatPrice})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"TranCost",label:"",type:"number",readOnly:d,renderLabel:wo.formatPrice})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"LocalCost",label:"()",type:"number",readOnly:d,renderLabel:wo.formatPrice})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"OutCost",label:"()",type:"number",readOnly:d,renderLabel:wo.formatPrice})})]})}),r.jsx(Ws,{children:""}),r.jsx(Xt,{editing:c,children:r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"SafeQty",label:"",type:"number",fullWidth:!0,renderLabel:wo.formatPrice})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,label:"",name:"Location",readOnly:d,fullWidth:!0,renderLabel:wo.formatPrice})}),r.jsx(j,{item:!0,xs:12,sm:12,md:6,children:r.jsx(FD,{typo:!0,label:"",name:"cmsType",disableOpenOnInput:!0})})]})}),r.jsx(Ws,{children:""}),r.jsx(Xt,{pt:1,pb:1,mb:1,px:1,children:r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx(gb,{typo:!0,name:"bunit",label:"",readOnly:d,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx(gb,{typo:!0,name:"sunit",label:"",readOnly:d,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx(gb,{typo:!0,name:"iunit",label:"",readOnly:d,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx(gb,{typo:!0,name:"munit",label:"BOM",readOnly:d,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(Ws,{children:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,label:"/",type:"number",name:"SRate",readOnly:d})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,label:"/",type:"number",name:"IRate",readOnly:d})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,label:"BOM/",type:"number",name:"MRate",readOnly:d})})]})}),r.jsx(Ws,{children:""}),r.jsx(Xt,{editing:c,children:r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:12,sm:12,md:2,children:r.jsx($e,{typo:!0,label:"",name:"Price",type:"number",readOnly:d})}),r.jsx(j,{item:!0,xs:12,sm:12,md:2,children:r.jsx($e,{typo:!0,label:"A",type:"number",name:"PriceA",readOnly:d})}),r.jsx(j,{item:!0,xs:12,sm:12,md:2,children:r.jsx($e,{typo:!0,label:"B",type:"number",name:"PriceB",readOnly:d})}),r.jsx(j,{item:!0,xs:12,sm:12,md:2,children:r.jsx($e,{typo:!0,label:"C",type:"number",name:"PriceC",readOnly:d})}),r.jsx(j,{item:!0,xs:12,sm:12,md:2,children:r.jsx($e,{typo:!0,label:"D",type:"number",name:"PriceD",readOnly:d})}),r.jsx(j,{item:!0,xs:12,sm:12,md:2,children:r.jsx($e,{typo:!0,label:"E",type:"number",name:"PriceE",readOnly:d})})]})})]}),r.jsx(ga,{value:zr.Tabs.TRANS,children:r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx($5,{})})}),r.jsx(ga,{value:zr.Tabs.COMBO,children:r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx(_5,{})})}),v&&r.jsx(ga,{value:zr.Tabs.CMS,children:r.jsx(Et,{maxWidth:"md",alignLeft:!0,children:r.jsx(W5,{})})})]})})]})});U5.propTypes={data:l.object,readWorking:l.bool,itemDataReady:l.bool,creating:l.bool,editing:l.bool,updating:l.bool,storeMode:l.bool,selectedTab:l.oneOfType([l.string,l.number]),handleTabChange:l.func,handleInvDataFocused:l.func,readError:l.object,height:l.oneOfType([l.string,l.number]),transTabDisabled:l.bool,comboTabDisabled:l.bool,cmsTabDisabled:l.bool,slotProps:l.object,doCms:l.bool};U5.displayName="A01Form";var Gv={},Ele;function ajt(){if(Ele)return Gv;Ele=1;var e=Qn();Object.defineProperty(Gv,"__esModule",{value:!0}),Gv.default=void 0;var t=e(sr()),n=rr();return Gv.default=(0,t.default)((0,n.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send"),Gv}var ijt=ajt();const Do=qn(ijt),q5=a.memo(a.forwardRef((e,t)=>{const{onSave:n,onCancel:o,loading:s,...i}=e;return r.jsxs(a.Fragment,{ref:t,...i,children:[r.jsx(dt,{responsive:!0,onClick:o,color:"warning",variant:"outlined",...i,children:""}),r.jsx(dt,{responsive:!0,onClick:n,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:s,children:""})]})}));q5.displayName="A01DialogEditToolbar";q5.propTypes={onCancel:l.func,onSave:l.func,loading:l.bool};var Kv={},Ple;function ljt(){if(Ple)return Kv;Ple=1;var e=Qn();Object.defineProperty(Kv,"__esModule",{value:!0}),Kv.default=void 0;var t=e(sr()),n=rr();return Kv.default=(0,t.default)((0,n.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"CheckCircleOutline"),Kv}var cjt=ljt();const _D=qn(cjt);var Qv={},Rle;function ujt(){if(Rle)return Qv;Rle=1;var e=Qn();Object.defineProperty(Qv,"__esModule",{value:!0}),Qv.default=void 0;var t=e(sr()),n=rr();return Qv.default=(0,t.default)((0,n.jsx)("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z"}),"EditOutlined"),Qv}var djt=ujt();const bo=qn(djt);var Yv={},wle;function pjt(){if(wle)return Yv;wle=1;var e=Qn();Object.defineProperty(Yv,"__esModule",{value:!0}),Yv.default=void 0;var t=e(sr()),n=rr();return Yv.default=(0,t.default)((0,n.jsx)("path",{d:"M14.59 8 12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"HighlightOff"),Yv}var mjt=pjt();const Fs=qn(mjt);var Jv={},kle;function fjt(){if(kle)return Jv;kle=1;var e=Qn();Object.defineProperty(Jv,"__esModule",{value:!0}),Jv.default=void 0;var t=e(sr()),n=rr();return Jv.default=(0,t.default)((0,n.jsx)("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"}),"HelpOutline"),Jv}var hjt=fjt();const Po=qn(hjt),Kye=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,onDelete:o,onReview:s,editLabel:i,onSideDrawerOpen:c,...u}=e;return r.jsxs(a.Fragment,{ref:t,...u,children:[o&&r.jsx(hn,{startIcon:r.jsx(Fs,{}),color:"secondary",onClick:o,children:""}),s&&r.jsx(hn,{startIcon:r.jsx(_D,{}),color:"warning",onClick:s,children:""}),n&&r.jsx(hn,{startIcon:r.jsx(bo,{}),color:"primary",onClick:n,children:i}),r.jsx(jr,{title:"",children:r.jsx(br,{onClick:c,size:"small",children:r.jsx(Po,{})})})]})}));Kye.propTypes={onEdit:l.func,onDelete:l.func,onReview:l.func,onSideDrawerOpen:l.func,editLabel:l.string.isRequired};const Qye=e=>{const{...t}=e,n=a.useContext(Ri),o=Ke(),s=a.useMemo(()=>{switch(n.mode){case zr.Mode.STORE:return"";default:return""}},[n.mode]),i=a.useMemo(()=>{switch(n.mode){case zr.Mode.STORE:return n.selectedTab===zr.Tabs.INFO&&n.canUpdate?n.promptUpdating:null;default:return n.canUpdate?n.promptUpdating:null}},[n.canUpdate,n.mode,n.promptUpdating,n.selectedTab]),c=a.useMemo(()=>{switch(n.mode){case zr.Mode.STORE:return null;default:return n.canDelete?n.confirmDelete:null}},[n.canDelete,n.confirmDelete,n.mode]),u=a.useMemo(()=>n.mode===zr.Mode.NEW_PROD&&n.canReview?n.promptReview:null,[n.canReview,n.mode,n.promptReview]),d=a.useMemo(()=>n.mode===zr.Mode.STORE?o.handleSubmit(n.onCounterSubmit,n.onCounterSubmitError):o.handleSubmit(n.onEditorSubmit,n.onEditorSubmitError),[n.mode,n.onCounterSubmit,n.onCounterSubmitError,n.onEditorSubmit,n.onEditorSubmitError,o]),p=a.useMemo(()=>n.updating?n.confirmReturn:n.confirmQuitCreating,[n.confirmQuitCreating,n.confirmReturn,n.updating]);return n.itemDataReady?n.editing?r.jsx(q5,{onSave:d,onCancel:p,loading:n.editWorking,...t}):r.jsx(Kye,{onEdit:i,onDelete:c,onReview:u,editLabel:s,onSideDrawerOpen:n.handleSideDrawerOpen,...t}):!1};Qye.displayName="A01DialogToolbarContainer";const Yye=a.forwardRef((e,t)=>{const{...n}=e,{height:o}=Wt(),s=a.useMemo(()=>o-120,[o]),i=Qr({height:s,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),{mobile:c}=a.useContext(lc),u=a.useContext(Ri),d=at({defaultValues:{}}),{reset:p}=d,m=vt(`
		ProdID,
		ProdData,
		InvData,
		Barcode,
		BarPR,
		catL,
		catM,
		catS,
		typeA,
		typeB,
		taxType,
		counter,
		StdCost,
		TranCost,
		LocalCost,
		OutCost,
		SafeQty,
		Location,
		cmsType,
		bunit,
		sunit,
		iunit,
		munit,
		SRate,
		IRate,
		MRate,
		Price,
		PriceA,
		PriceB,
		PriceC,
		PriceD,
		PriceE,
		`),f=a.useMemo(()=>u.mode===zr.Mode.NEW_PROD?u.creating?"":u.updating?"":"":u.creating?"":u.updating?u.mode===zr.Mode.STORE?"/":"":"",[u.creating,u.mode,u.updating]),h=a.useMemo(()=>u.mode===zr.Mode.STORE,[u.mode]),g=a.useMemo(()=>c?o-120:o-190,[o,c]),x=a.useMemo(()=>u.editing?u.confirmDialogClose:u.reset,[u.confirmDialogClose,u.editing,u.reset]),y=Ue({name:"catL",control:d.control}),D=Ue({name:"catM",control:d.control}),v=a.useCallback(P=>{if(h)switch(P.name){case"counter":case"SafeQty":case"cmsType":return!1;default:return!0}else switch(P.name){case"catM":return!y||!u.editing;case"catS":return!D||!u.editing;default:return!u.editing}},[u.editing,y,D,h]),T=a.useCallback(()=>{u.editing&&d.handleSubmit(u.onEditorSubmit,u.onEditorSubmitError)()},[u.editing,u.onEditorSubmit,u.onEditorSubmitError,d]);$t(["Control+Enter"],()=>setTimeout(T),{enableOnFormTags:!0});const I=a.useMemo(()=>u.handleInvDataFocused({setValue:d.setValue,getValues:d.getValues}),[u,d.getValues,d.setValue]);return mn(()=>{u.itemDataReady&&(console.log("a01 form reset",u.itemData),p(u.itemData))},[u.itemData,u.itemDataReady,u.readState]),r.jsx(Ye,{...d,children:r.jsxs(Er,{title:f,ref:t,responsive:!0,fullWidth:!0,maxWidth:"md",TitleButtonsComponent:Qye,open:u.itemViewOpen,onClose:x,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[{paddingTop:0},i.scroller],...n,children:[r.jsx(Ct,{...m,isFieldDisabled:v,children:r.jsx(U5,{onSubmit:T,creating:u.creating,editing:u.editing,updating:u.updating,readWorking:u.readWorking,readError:u.readError,data:u.itemData,itemDataReady:u.itemDataReady,storeMode:h,selectedTab:u.selectedTab,handleTabChange:u.handleTabChange,height:g,transTabDisabled:u.transTabDisabled,comboTabDisabled:u.comboTabDisabled,cmsTabDisabled:u.cmsTabDisabled,handleInvDataFocused:I,doCms:u.doCms})}),r.jsx(N5,{})]})})});Yye.displayName="A01DialogContainer";const _k=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:6,sm:4,...t})};_k.propTypes={loading:l.bool,children:l.oneOfType([l.node])};_k.displayName="A01ProdIDColumn";const Lk=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:17,sm:9,...t})};Lk.propTypes={loading:l.bool,children:l.oneOfType([l.node])};Lk.displayName="A01ProdNameColumn";const $k=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:9,sx:{display:{xs:"none",sm:"block"}},...t})};$k.propTypes={loading:l.bool,children:l.oneOfType([l.node])};$k.displayName="A01BarcodeColumn";const V5=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsxs(io,{ref:t,children:[r.jsx(Hn,{}),r.jsx(_k,{children:""}),r.jsx(Lk,{children:""}),r.jsx($k,{children:""})]})}));V5.propTypes={};V5.displayName="A01ListHeader";const LD=a.memo(e=>{const{children:t,flex:n=!0,selectText:o=!0,style:s,value:i,checked:c,onClick:u,...d}=e;return r.jsx("div",{style:s,children:r.jsx(yo,{borderBottom:!0,onClick:u,selected:c,sx:[p=>({backgroundColor:"transparent","&:hover .hover-to-show":{display:n?"flex":"block"},...c&&{backgroundColor:VI[50]},transition:p.transitions.create("backgroundColor",{easing:p.transitions.easing.sharp,duration:p.transitions.duration.enteringScreen}),...!o&&{userSelect:"none"}})],children:r.jsx(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:t})})})});LD.propTypes={children:l.oneOfType([l.node,l.array]),index:l.number,style:l.object,value:l.object,loading:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func};LD.displayName="ListRow";const z5=a.memo(e=>{const{index:t,value:n,...o}=e;return r.jsxs(LD,{...o,children:[r.jsx(Hn,{title:t}),r.jsx(_k,{children:n==null?void 0:n.ProdID}),r.jsx(Lk,{children:n==null?void 0:n.ProdData}),r.jsx($k,{children:n==null?void 0:n.Barcode})]})});z5.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func};z5.displayName="A01ListRow";const No=({children:e,...t})=>r.jsx($he.Provider,{value:{...t},children:e});No.propTypes={children:l.oneOfType([l.array,l.object])};const H5=e=>{var u;const t=a.useContext(Ri),{index:n,...o}=e,s=a.useMemo(()=>t.listData[n],[t.listData,n]),i=a.useMemo(()=>!s,[s]),c=a.useMemo(()=>{var d;return(s==null?void 0:s.ProdID)===((d=t.selectedItem)==null?void 0:d.ProdID)},[(u=t.selectedItem)==null?void 0:u.ProdID,s==null?void 0:s.ProdID]);return r.jsx(No,{loading:i,children:r.jsx(z5,{index:n,value:s,onClick:d=>t.handleSelect(d,s),selected:c,...o})})};H5.propTypes={index:l.number,data:l.object};H5.displayName="A01ListRowContainer";const Jye=()=>{const e=a.useContext(Ri),{loadList:t}=e,n=Ke(),{getValues:o,setValue:s}=n,{height:i}=Wt(),c=Ue({name:"qs",control:n.control}),u=Gr(c,300);En(()=>{e.loadList()},[]),mn(()=>{if(console.log(`debouncedQs: ${u}`),u!==void 0){const p=o();t({params:{...p,qs:u},supressLoading:!0}),s("qs",u)}},[u]);const d=a.useMemo(()=>i?i-162:300,[i]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{saveKey:e.saveKey,loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:H5,height:d,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};Jye.displayName="A01ListViewContainer";const gjt=({responsive:e,mobile:t,maxWidth:n,square:o,borderRadius:s,rightSquare:i,fullWidth:c})=>{const u=e&&t;return{display:"flex",...u&&{flex:1},alignItems:"center",p:"2px",...o&&{borderRadius:"4px"},...s&&{borderRadius:s},...i&&{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"},...!u&&n&&{maxWidth:n},...c&&{width:"100%"}}},G5=a.memo(a.forwardRef((e,t)=>{const{helperText:n,value:o,onChange:s,mobile:i,placeholder:c,maxWidth:u,sx:d=[],square:p=!1,rightSquare:m=!1,fullWidth:f=!1,borderRadius:h,BoxProps:g,PaperProps:x,inputProps:y,name:D,clearText:v=" (Esc)",inputRef:T,filtered:I,PopperComponent:P,popper:E,popperId:k="search",popperClickAway:w=!0,onPopperToggle:A,onPopperOpen:F,onPopperClose:_,popperOpen:L,responsive:K=!1,mobilePlaceholder:z,onSubmit:J,...Q}=e,V=a.useRef(null),W=a.useMemo(()=>gjt({responsive:K,mobile:i,maxWidth:u,square:p,borderRadius:h,rightSquare:m,fullWidth:f}),[h,f,i,K,m,p,u]),U=a.useMemo(()=>(E||P)&&F,[P,F,E]),X=a.useMemo(()=>i&&z||c,[i,z,c]),te=a.useMemo(()=>u,[u]);return r.jsxs(jt,{ref:t,children:[r.jsx(_s,{ref:V,sx:[W,...Array.isArray(d)?d:[d]],onSubmit:J,noValidate:!0,autoComplete:"off",children:r.jsxs(ve,{px:.5,...g,children:[!i&&r.jsx(br,{type:"button",sx:{p:"5px"},"aria-label":"search",children:r.jsx(Kb,{})}),r.jsx(PT,{name:D,inputRef:T,value:o,onChange:s,sx:se=>({ml:.5,flex:1,transition:se.transitions.create("width"),"& input":{padding:0}}),placeholder:X,inputProps:{"aria-label":c,...y},endAdornment:r.jsx(nk,{value:o,onChange:s,clearText:v}),...Q}),U&&r.jsxs(r.Fragment,{children:[r.jsx(ta,{sx:{height:28,m:.5},orientation:"vertical"}),r.jsx(jr,{title:L?"":"",children:r.jsx(br,{color:"inherit",size:"small",disabled:L,onClick:A,children:r.jsx(lxe,{position:"end",color:I?"primary":"inherit"})})})]}),U&&r.jsx(d3,{onClickAway:()=>{w?_?_():console.error("onPopperClose not specified"):console.log("popperClickAway = false")},mouseEvent:"onMouseDown",children:r.jsx(Xp,{sx:{zIndex:ixe.Z_INDEX_POPPER},id:k,open:L,anchorEl:V.current,disablePortal:!0,placement:"bottom-start",children:({TransitionProps:se})=>r.jsx(Kh,{...se,children:r.jsx(P,{width:te})})})})]})}),n&&r.jsx(Yp,{error:!0,children:n})]})}));G5.displayName="SearchField";G5.propTypes={mobile:l.bool};const K5=({name:e,control:t,rules:n,defaultValue:o="",onChange:s,...i})=>r.jsx(rm,{name:e,defaultValue:o,control:t,rules:n,render:({field:{ref:c,value:u,onChange:d},fieldState:{error:p}})=>r.jsx(G5,{ref:c,value:u,onChange:m=>{d(m),s&&s(m)},error:!!p,helperText:p==null?void 0:p.message,...i})});K5.displayName="ControlledSearchField";K5.propTypes={name:l.string.isRequired,control:l.object,rules:l.object,defaultValue:l.string,onChange:l.func};const su=e=>{const{...t}=e,n=a.useContext(lc),{mobile:o}=n;return r.jsx(K5,{mobile:o,...t})};su.displayName="ControlledSearchFieldContainer";const sm=a.memo(a.forwardRef((e,t)=>{const{children:n,width:o,...s}=e;return r.jsx(jt,{ref:t,sx:{marginTop:"2px"},children:r.jsx(_s,{elevation:8,component:jt,sx:{width:o},p:0,...s,children:n})})}));sm.propTypes={children:l.oneOfType([l.element,l.array]),width:l.oneOfType([l.string,l.number])};sm.displayName="PopperBox";const am=a.memo(e=>{const{children:t,onClose:n,...o}=e;return r.jsx(ok,{padding:"8px 0 8px 16px",size:"small",onClose:n,...o,children:t})});am.propTypes={children:l.oneOfType([l.elementType,l.array]),onClose:l.func};am.displayName="PopperTitle";var Xv={},Ale;function bjt(){if(Ale)return Xv;Ale=1;var e=Qn();Object.defineProperty(Xv,"__esModule",{value:!0}),Xv.default=void 0;var t=e(sr()),n=rr();return Xv.default=(0,t.default)((0,n.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt"),Xv}var xjt=bjt();const Xh=qn(xjt),Zh=a.createContext(),Xye=a.createContext(),Q5=a.memo(e=>{const{xs:t,sm:n,md:o,lg:s,xl:i,...c}=e,u=a.useContext(Zh),d=a.useContext(Xye),{width:p,isSmOrUp:m,isMdOrUp:f,isLgOrUp:h,isXl:g}=u||d,{initSize:x,columns:y}=d,D=hf(),v=Xl(D.breakpoints.up("xl")),T=Xl(D.breakpoints.up("lg")),I=Xl(D.breakpoints.up("md")),P=Xl(D.breakpoints.up("sm")),E=a.useMemo(()=>i||s||o||n||t||y/6,[y,s,o,n,i,t]),k=a.useMemo(()=>s||i||o||n||t||y/4,[y,s,o,n,i,t]),w=a.useMemo(()=>o||s||i||n||t||y/3,[y,s,o,n,i,t]),A=a.useMemo(()=>n||t||o||s||i||y,[y,s,o,n,i,t]),F=a.useMemo(()=>t||n||o||y,[y,o,n,t]),_=a.useMemo(()=>{if(!p){if(x)switch(x){case"xl":return E;case"lg":return k;case"md":return w;case"sm":return A;default:return F}return v?E:T?k:I?w:P?A:F}return g?E:h?k:f?w:m?A:F},[k,w,A,E,F,x,h,f,m,g,T,I,P,p,v]);return r.jsx(j,{item:!0,..._&&{xs:_},...c})});Q5.propTypes={xs:l.number,sm:l.number,md:l.number,lg:l.number,xl:l.number};Q5.displayName="ResponsiveGridItem";const Zye=({children:e,...t})=>r.jsx(Xye.Provider,{value:{...t},children:e});Zye.propTypes={children:l.oneOfType([l.array,l.object])};const Vt=a.memo(e=>{const{container:t=!1,item:n,children:o,columns:s=12,initSize:i,...c}=e,{containerRef:u,...d}=X3();return!t||n?r.jsx(Q5,{...c,children:o}):r.jsx(Zye,{containerRef:u,columns:s,initSize:i,...d,children:r.jsx("div",{ref:u,style:{width:"100%"},children:r.jsx(j,{container:t,columns:s,...c,children:o})})})});Vt.propTypes={initSize:l.string,columns:l.number,container:l.bool,item:l.bool,xs:l.oneOfType([l.string,l.number]),children:l.oneOfType([l.node,l.array])};Vt.displayName="ResponsiveGrid";const Y5=a.memo(e=>{const{...t}=e;return r.jsx(Pt,{children:r.jsxs(Vt,{container:!0,spacing:1.5,columns:12,...t,children:[r.jsx(Vt,{item:!0,xs:12,sm:12,children:r.jsx($e,{autoFocus:!0,name:"lvId",label:"",variant:"outlined",size:"small",fullWidth:!0,clearable:!0})}),r.jsx(Vt,{item:!0,xs:12,sm:12,children:r.jsx($e,{name:"lvBarcode",label:"",variant:"outlined",size:"small",fullWidth:!0,clearable:!0})}),r.jsx(Vt,{item:!0,xs:12,sm:12,children:r.jsx($e,{name:"lvName",label:"",variant:"outlined",size:"small",fullWidth:!0,clearable:!0})}),r.jsx(Vt,{item:!0,xs:12,children:r.jsx(Pl,{name:"lvCatL",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(Vt,{item:!0,xs:12,children:r.jsx(El,{name:"lvCatM",disableOpenOnInput:!0,selectOnFocus:!0,catLName:"lvCatL"})}),r.jsx(Vt,{item:!0,xs:12,children:r.jsx(ou,{name:"lvCatS",disableOpenOnInput:!0,selectOnFocus:!0,catLName:"lvCatL",catMName:"lvCatM"})}),r.jsx(Vt,{item:!0,xs:12,children:r.jsx(Qb,{label:"",name:"lvCounter",disableOpenOnInput:!0})}),r.jsx(Vt,{item:!0,xs:12,children:r.jsx(FD,{label:"",name:"lvCmsType",disableOpenOnInput:!0,selectOnFocus:!0})})]})})});Y5.propTypes={};Y5.displayName="A01SearchForm";const eCe=a.memo(a.forwardRef((e,t)=>{const{width:n,onClose:o,onReset:s,ContentProps:i,...c}=e;return r.jsxs(sm,{width:n,ref:t,children:[r.jsx(am,{onClose:o,children:""}),r.jsx(ta,{sx:{mt:0,mb:0}}),r.jsx(tm,{...i,children:r.jsx(Y5,{initSize:"sm"})}),r.jsx(ta,{}),r.jsxs(em,{children:[r.jsx(dt,{size:"small",variant:"outlined",color:"primary",onClick:s,children:""}),r.jsx(dt,{startIcon:r.jsx(Xh,{}),type:"submit",variant:"contained",children:""})]})]})}));eCe.displayName="A01SearchPopper";const tCe=a.forwardRef(({...e},t)=>{const n=a.useContext(Ri),o=Ke(),s=vt(`
			lvId,
			lvBarcode,
			lvName,
			lvCatL,
			lvCatM,
			lvCatS,
			lvCounter,
			lvCmsType
			`),i=Ue({name:"lvCatL",control:o.control}),c=Ue({name:"lvCatM",control:o.control}),u=a.useCallback(d=>{switch(d.name){case"lvCatM":return!i;case"lvCatS":return!i||!c;default:return!1}},[i,c]);return r.jsx(Ct,{...s,isFieldDisabled:u,children:r.jsx(eCe,{ref:t,onClose:n.handlePopperClose,onReset:n.handleReset({reset:o.reset}),...e})})});tCe.displayName="A01SearchPopperContainer";const J5=e=>{const{name:t="qs"}=e,n=Ke(),{getValues:o}=n,s=a.useContext(Ri),{mobile:i}=a.useContext(lc),{popperOpen:c}=s,u=a.useRef(null),d=ru({inputRef:u,onChange:h=>{n.setValue(t,h)}});$t("ctrl+F12",d.handleFocus,{enableOnFormTags:!0});const p=a.useCallback(()=>{c||d.handleClear()},[c,d]),m=$t("esc",p,{enableOnFormTags:!0}),f=a.useMemo(()=>n.handleSubmit(s.onSearchSubmit,s.onSearchSubmitError),[s.onSearchSubmit,s.onSearchSubmitError,n]);return $t(["Shift+Enter","Control+Enter"],()=>setTimeout(f),{enableOnFormTags:!0}),r.jsx("form",{onSubmit:f,children:r.jsx("div",{ref:m,children:r.jsx(su,{autoFocus:!0,name:t,placeholder:"/(ctrl+F12)",mobilePlaceholder:"/",borderRadius:"8px",maxWidth:"32ch",responsive:!0,inputRef:u,onClear:d.handleClear,PopperComponent:tCe,popperOpen:s.popperOpen,onPopperToggle:s.handlePopperToggle,onPopperOpen:s.handlePopperOpen,onPopperClose:s.handlePopperClose,filtered:zr.isFiltered(o())})})})};J5.propTypes={name:l.string};J5.displayName="A01SearchFieldContainer";const $D=(e,t)=>{const n=Hd(),o=a.useMemo(()=>new URLSearchParams(n.search).get(e),[n.search,e]),[s,i]=a.useState(),[c,u]=a.useState(!1);a.useEffect(()=>{c&&(console.log(`querySync for [${e}] triggered`,o),u(!1),i(o),t(o,s))},[t,s,o,e,c]),a.useEffect(()=>{she(o,s)||(console.log(`query[${e}] changed ${s}  ${o}`),u(!0))},[s,o,e])},wR=()=>{const e=at(),t=a.useContext(Ri),{selectById:n}=t,o=a.useCallback(s=>{s&&n(s)},[n]);return $D("target",o),r.jsx(Ft,{children:r.jsxs(ws,{tableName:"StoreFile_F",paramsToJsonData:zr.paramsToJsonData(t.mode),children:[r.jsxs(Ye,{...e,children:[r.jsx(_t,{children:r.jsx(J5,{name:"qs"})}),r.jsx(Gye,{}),r.jsx(V5,{}),r.jsx(Jye,{})]}),r.jsx(Yye,{}),r.jsx(Is,{})]})})};wR.displayName="A01Frame";const X5=({children:e})=>{const t=f5({mode:zr.Mode.PROD});return r.jsx(Ri.Provider,{value:{...t},children:e})};X5.displayName="A01Provider";X5.propTypes={children:l.oneOfType([l.array,l.object])};const nCe=()=>r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(X5,{children:r.jsx(wR,{})})})});nCe.displayName="A01Page";const Z5=a.memo(e=>{const{gridRef:t,data:n,loading:o,height:s=300,onChange:i,...c}=e;return!n||n.legnth===0?r.jsx(bf,{height:s,size:"medium",children:"[]"}):o?r.jsx(Ko,{height:s}):o==null?!1:r.jsx(dr,{lockRows:!0,ref:t,rowKey:"ProdID",height:s+48,value:n,onChange:i,disableExpandSelection:!0,disableContextMenu:!0,...c})});Z5.propTypes={readOnly:l.bool,gridRef:l.func,drawerOpen:l.bool,data:l.array,loading:l.bool,height:l.number,onChange:l.func,isPersisted:l.func};Z5.displayName="A011Grid";const rCe=()=>{const{height:e}=Wt(),t=a.useContext(Vs),n=a.useMemo(()=>t.expanded?e-330:e-230,[t.expanded,e]);return r.jsx(Kn.Provider,{value:{...t.grid,...t.gridMeta},children:r.jsx(Z5,{readOnly:t.readOnly,gridRef:t.setGridRef,data:t.gridData,loading:t.gridLoading,height:n,onChange:t.handleGridChange,onActveCellChange:t.handleActiveCellChange})})};rCe.displayName="A011GridContainer";const Ms=a.memo(a.forwardRef(({children:e,sx:t=[],inline:n=!1,block:o=!1,justifyContent:s,alignItems:i,...c},u)=>r.jsx(j,{ref:u,...c,sx:[{display:o?"block":n?"inline-flex":"flex",...s&&{justifyContent:s},...i&&{alignItems:i}},...Array.isArray(t)?t:[t]],children:e})));Ms.displayName="FlexGrid";Ms.propTypes={children:l.oneOfType([l.node,l.array]),justifyContent:l.string,alignItems:l.string,inline:l.bool,block:l.bool};const e6=a.memo(e=>{const{expanded:t,cat:n,safeQty:o}=e;return r.jsx(aw,{in:t,children:r.jsx(jt,{mt:1,children:r.jsxs(j,{container:!0,spacing:1,children:[n&&r.jsxs(r.Fragment,{children:[r.jsx(j,{item:!0,xs:4,md:3,children:r.jsx(Pl,{name:"catL",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:4,md:3,children:r.jsx(El,{name:"catM",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:4,md:3,children:r.jsx(ou,{name:"catS",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:3,md:3,children:r.jsx(Yd,{name:"typeA",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:3,md:3,children:r.jsx(MD,{name:"typeB",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:3,md:3,children:r.jsx(sO,{name:"taxType",label:"",disableOpenOnInput:!0,selectOnFocus:!0})}),o&&r.jsx(j,{item:!0,xs:3,md:3,children:r.jsx($e,{name:"safeQty",label:"",type:"number",size:"small"})})]})})})});e6.propTypes={expanded:l.bool,cat:l.bool,safeQty:l.bool};e6.displayName="ProdGridForm2";const oCe=e=>{const{...t}=e,n=a.useContext(Vs),{expanded:o}=n;return r.jsx(e6,{expanded:o,...t})};oCe.displayName="ProdGridForm2Container";const sCe=Gd(br)(({theme:e,expanded:t})=>({transform:t?"rotate(180deg)":"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})})),aCe=e=>{const{...t}=e,n=a.useContext(Vs),o=a.useMemo(()=>n.expanded?"":"",[n.expanded]);return r.jsx(jr,{title:o,children:r.jsx(sCe,{expanded:n.expanded,onClick:n.toggleExpanded,...t,children:r.jsx(c4,{fontSize:"small"})})})};aCe.displayName="ProdGridFormToggleButtonContainer";const Nle=["prodId","prodName","catL","catM","catS","typeA","typeB","taxType","safeQty"],iCe=e=>{const{...t}=e,n=Ue({name:Nle}),o=vo.zipObject(Nle,n),s=Gr(o,300),i=a.useContext(Vs),{peek:c,totalElements:u,loading:d}=i;mn(()=>{c(s)},[s]);const p=a.useMemo(()=>Gn.isAllPropsEmpty(o)?"":u?`(${u})`:"()",[o,u]),m=a.useMemo(()=>!u,[u]);return r.jsx(dt,{tooltip:"Ctrl + Enter",type:"submit",disabled:m,size:"small",loading:d,sx:{fontWeight:600},...t,children:p})};iCe.displayName="ProdGridLoadButtonContainer";const t6=e=>{const{cat:t=!0,safeQty:n=!1,handleSubmit:o,onProdChange:s,onProdIdChange:i,onProd2Change:c,onProdNameChange:u,...d}=e;return r.jsx(_s,{component:"form",onSubmit:o,...d,children:r.jsxs(Pt,{p:1,children:[r.jsxs(j,{container:!0,spacing:1,children:[r.jsx(j,{item:!0,xs:3,lg:3,children:r.jsx(fn,{name:"prod",label:"",forId:!0,placeholder:"",fullWidth:!0,disableClearable:!0,onTextChange:i,onChange:s,freeSolo:!0,forcePopupIcon:!0,disableOpenOnInput:!0,findByInput:!1})}),r.jsx(j,{item:!0,xs:3,lg:3,children:r.jsx(fn,{name:"prod2",label:"",placeholder:"",forName:!0,fullWidth:!0,disableClearable:!0,onTextChange:u,onChange:c,freeSolo:!0,forcePopupIcon:!0,disableOpenOnInput:!0,findByInput:!1})}),r.jsxs(Ms,{item:!0,lg:6,xs:5,justifyContent:"flex-end",alignItems:"flex-start",sx:{"& button":{marginLeft:"4px"}},children:[r.jsx(iCe,{variant:"contained",color:"primary"}),r.jsx(aCe,{})]})]}),r.jsx(oCe,{cat:t,safeQty:n})]})})};t6.propTypes={onProdIdChange:l.func,onProdNameChange:l.func,handleSubmit:l.func,cat:l.bool,safeQty:l.bool};t6.displayName="ProdGridForm";const BD=e=>{const{...t}=e,n=at({defaultValues:{}}),o=a.useContext(Vs),s=Ue({name:"catL",control:n.control}),i=Ue({name:"catM",control:n.control}),c=a.useCallback(g=>{switch(g.name){case"catM":return!s;case"catS":return!i;default:return!1}},[s,i]),u=a.useMemo(()=>n.handleSubmit(o.onSubmit,o.onSubmitError),[n,o.onSubmit,o.onSubmitError]),d=$t("Ctrl+Enter",u,{enableOnFormTags:!0}),p=a.useCallback((g,x,y)=>{const D=g.target.value;console.log("prodId",D),n.setValue("prodId",D),n.setValue("prod",null)},[n]),m=a.useCallback((g,x)=>{console.log(`prod changed, reason: ${x}, value:`,g),n.setValue("prodId",g?Gm.getOptionLabelForId(g):"")},[n]),f=a.useCallback((g,x,y)=>{const D=g.target.value;console.log("prodName",D),n.setValue("prodName",D),n.setValue("prod2",null)},[n]),h=a.useCallback(g=>{console.log("prod2 changed",g),n.setValue("prodName",g?Gm.getOptionLabelForName(g):"")},[n]);return r.jsx("div",{ref:d,children:r.jsx(Ye,{...n,children:r.jsx(Ct,{...o.formMeta,isFieldDisabled:c,children:r.jsx(t6,{handleSubmit:u,onProdIdChange:p,onProdChange:m,onProdNameChange:f,onProd2Change:h,...t})})})})};BD.displayName="ProdGridFormContainer";var Zv={},Fle;function yjt(){if(Fle)return Zv;Fle=1;var e=Qn();Object.defineProperty(Zv,"__esModule",{value:!0}),Zv.default=void 0;var t=e(sr()),n=rr();return Zv.default=(0,t.default)((0,n.jsx)("path",{d:"M5.77 7.15 7.2 4.78l1.03-1.71c.39-.65 1.33-.65 1.72 0l1.48 2.46-1.23 2.06-1 1.62zm15.95 5.82-1.6-2.66-3.46 2L18.87 16H20c.76 0 1.45-.43 1.79-1.11.14-.28.21-.58.21-.89 0-.36-.1-.71-.28-1.03M16 21h1.5c.76 0 1.45-.43 1.79-1.11L20.74 17H16v-2l-4 4 4 4zm-6-4H5.7l-.84 1.41c-.3.5-.32 1.12-.06 1.65.28.57.87.94 1.52.94H10zm-3.88-2.65 1.73 1.04L6.48 9.9 1 11.27l1.7 1.02-.41.69c-.35.59-.38 1.31-.07 1.92l1.63 3.26zm10.9-9.21-1.3-2.17C15.35 2.37 14.7 2 14 2h-3.53l3.12 5.2-1.72 1.03 5.49 1.37 1.37-5.49z"}),"Recycling"),Zv}var Cjt=yjt();const Djt=qn(Cjt),lCe=e=>{const{...t}=e,n=a.useContext(Vs);return n.dirtyIds.size===0?!1:r.jsx(fa,{size:"small",endIcon:r.jsx(Djt,{}),color:"primary",onClick:n.confirmCancelChanges,...t,children:""})};lCe.displayName="ProdGridCancelChangesButtonContainer";const cCe=e=>{const{children:t="",...n}=e,o=a.useContext(Vs);return o.readOnly?!1:r.jsx(fa,{size:"small",color:"primary",onClick:o.toggleEditorLock,...n,children:t})};cCe.displayName="ProdGridCancelEditButtonContainer";const uCe=e=>{var o;const{...t}=e,n=a.useContext(Vs);return n.gridLoading||!n.gridData||((o=n.gridData)==null?void 0:o.length)===0||!n.readOnly?!1:r.jsx(dt,{responsive:!0,onClick:n.toggleEditorLock,...t,children:""})};uCe.displayName="ProdGridEditButtonContainer";const dCe=e=>{var o;const{...t}=e,n=a.useContext(Vs);return n.gridLoading||!n.gridData||((o=n.gridData)==null?void 0:o.length)===0||n.readOnly?!1:r.jsx(dt,{responsive:!0,size:"small",disabled:!n.isDirty,endIcon:r.jsx(AD,{}),loading:n.saveWorking,onClick:n.handleSave,...t,children:""})};dCe.displayName="ProdGridSaveButtonContainer";const n6=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(kn,{minHeight:38,bgcolor:Nn.TOOLBAR,ref:t,rightComponents:r.jsx(r.Fragment,{}),leftComponents:r.jsxs(r.Fragment,{children:[r.jsx(uCe,{variant:"contained"}),r.jsx(cCe,{variant:"outlined",color:"warning",children:""}),r.jsx(dCe,{variant:"contained",color:"warning"}),r.jsx(lCe,{variant:"contained",color:"error"})]}),...n})}));n6.propTypes={};n6.displayName="ProdGridToolbar";const Yb=e=>{const{variant:t="rectangular",animation:n="pulse",...o}=e,s=a.useContext(Vs);return s.gridLoading?r.jsx(ji,{variant:t,animation:n,height:20}):s.gridLoading==null?!1:r.jsx(n6,{...o})};Yb.displayName="ProdGridToolbarContainer";Yb.propTypes={variant:l.string,animation:l.string};var ej={},Mle;function Sjt(){if(Mle)return ej;Mle=1;var e=Qn();Object.defineProperty(ej,"__esModule",{value:!0}),ej.default=void 0;var t=e(sr()),n=rr();return ej.default=(0,t.default)((0,n.jsx)("path",{d:"M7 9H2V7h5zm0 3H2v2h5zm13.59 7-3.83-3.83c-.8.52-1.74.83-2.76.83-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5c0 1.02-.31 1.96-.83 2.75L22 17.59zM17 11c0-1.65-1.35-3-3-3s-3 1.35-3 3 1.35 3 3 3 3-1.35 3-3M2 19h10v-2H2z"}),"ManageSearch"),ej}var vjt=Sjt();const WD=qn(vjt),r6=a.memo(e=>{const{loading:t,...n}=e;return r.jsxs(Ft,{...n,children:[r.jsx(_t,{}),r.jsx(Et,{maxWidth:"md",alignLeft:!0,children:r.jsx(BD,{})}),t==null?r.jsx(Br,{maxWidth:"sm",children:r.jsx(jt,{pt:"8vh",children:r.jsx(kD,{label:"",icon:WD})})}):r.jsxs(jt,{children:[r.jsx(Yb,{}),r.jsx(rCe,{})]})]})});r6.propTypes={drawerOpen:l.bool,boxStyles:l.oneOfType([l.array,l.object]),loading:l.bool};r6.displayName="A011Frame";const pCe=()=>{const e=a.useContext(Vs);return r.jsx(r6,{loading:e.gridLoading})};pCe.displayName="A011Frame";const o6=a.memo(e=>{const{gridRef:t,data:n,loading:o,height:s=300,onChange:i}=e;return!n||n.legnth===0?r.jsx(bf,{height:s,size:"medium",children:"[]"}):o?r.jsx(Ko,{height:s}):o==null?!1:r.jsx(dr,{lockRows:!0,ref:t,rowKey:"ProdID",height:s+48,value:n,onChange:i,disableExpandSelection:!0,disableContextMenu:!0})});o6.propTypes={readOnly:l.bool,gridRef:l.func,drawerOpen:l.bool,data:l.array,loading:l.bool,height:l.number,onChange:l.func,isPersisted:l.func};o6.displayName="A012Grid";const mCe=()=>{const{height:e}=Wt(),t=a.useContext(Vs),n=at(),o=a.useMemo(()=>t.expanded?e-330:e-230,[t.expanded,e]),s=a.useMemo(()=>t.handleGridChange,[t]);return r.jsx(Ye,{...n,children:r.jsx(Kn.Provider,{value:{...t.grid,...t.gridMeta},children:r.jsx(o6,{gridRef:t.setGridRef,data:t.gridData,loading:t.gridLoading,height:o,onChange:s,onActveCellChange:t.handleActiveCellChange})})})};mCe.displayName="A012GridContainer";const s6=a.memo(e=>{const{loading:t,...n}=e;return r.jsxs(Ft,{...n,children:[r.jsx(_t,{}),r.jsx(Et,{maxWidth:"md",alignLeft:!0,children:r.jsx(BD,{})}),t==null?r.jsx(Br,{maxWidth:"sm",children:r.jsx(jt,{pt:"8vh",children:r.jsx(kD,{label:"",icon:WD})})}):r.jsxs(jt,{children:[r.jsx(Yb,{}),r.jsx(mCe,{})]})]})});s6.propTypes={drawerOpen:l.bool,boxStyles:l.oneOfType([l.array,l.object]),loading:l.bool};s6.displayName="A012Frame";const fCe=()=>{const e=a.useContext(Vs);return r.jsx(s6,{loading:e.gridLoading})};fCe.displayName="A012Frame";const a6=a.memo(e=>{const{gridRef:t,data:n,loading:o,height:s=300,onChange:i}=e;return!n||n.legnth===0?r.jsx(bf,{height:s,size:"medium",children:""}):o?r.jsx(Ko,{height:s}):o==null?!1:r.jsx(dr,{lockRows:!0,ref:t,rowKey:"ProdID",height:s+48,value:n,onChange:i,addRowsComponent:go,disableExpandSelection:!0,disableContextMenu:!0})});a6.propTypes={readOnly:l.bool,gridRef:l.func,drawerOpen:l.bool,data:l.array,loading:l.bool,height:l.number,onChange:l.func,isPersisted:l.func};a6.displayName="A013Grid";const hCe=()=>{const{height:e}=Wt(),t=a.useContext(Vs),n=a.useMemo(()=>t.expanded?e-330:e-230,[t.expanded,e]),o=a.useMemo(()=>t.handleGridChange,[t.handleGridChange]);return r.jsx(Kn.Provider,{value:{...t.grid,...t.gridMeta},children:r.jsx(a6,{gridRef:t.setGridRef,data:t.gridData,loading:t.gridLoading,height:n,onChange:o,onActveCellChange:t.handleActiveCellChange})})};hCe.displayName="A013GridContainer";const i6=a.memo(e=>{const{loading:t,...n}=e;return r.jsxs(Ft,{...n,children:[r.jsx(_t,{}),r.jsx(Et,{maxWidth:"md",alignLeft:!0,children:r.jsx(BD,{})}),t==null?r.jsx(Br,{maxWidth:"sm",children:r.jsx(jt,{pt:"8vh",children:r.jsx(kD,{label:"",icon:WD})})}):r.jsxs(jt,{children:[r.jsx(Yb,{}),r.jsx(hCe,{})]})]})});i6.propTypes={drawerOpen:l.bool,boxStyles:l.oneOfType([l.array,l.object]),loading:l.bool};i6.displayName="A22Frame";const gCe=()=>{const e=a.useContext(Vs);return r.jsx(i6,{loading:e.gridLoading})};gCe.displayName="A013Frame";const l6=a.memo(e=>{const{gridRef:t,data:n,loading:o,height:s=300,...i}=e;return!n||n.legnth===0?r.jsx(bf,{height:s,size:"medium",children:""}):o?r.jsx(Ko,{height:s}):o==null?!1:r.jsx(dr,{lockRows:!0,ref:t,rowKey:"ProdID",height:s,value:n,disableExpandSelection:!0,disableContextMenu:!0,...i})});l6.propTypes={bearer:l.string,readOnly:l.bool,gridRef:l.func,drawerOpen:l.bool,data:l.array,loading:l.bool,height:l.number,onChange:l.func,isPersisted:l.func};l6.displayName="A014Grid";const bCe=()=>{const{height:e}=Wt(),t=a.useContext(Vs),n=at(),o=a.useMemo(()=>t.expanded?e-282:e-182,[t.expanded,e]),s=a.useMemo(()=>t.buildGridChangeHandler({onUpdateRow:t.onUpdateRow}),[t]);return r.jsx(Ye,{...n,children:r.jsx(Kn.Provider,{value:{...t.grid,...t.gridMeta},children:r.jsx(l6,{gridRef:t.setGridRef,data:t.gridData,loading:t.gridLoading,height:o,onChange:s})})})};bCe.displayName="A014GridContainer";const c6=a.memo(e=>{const{loading:t,...n}=e;return r.jsxs(Ft,{...n,children:[r.jsx(_t,{}),r.jsx(Et,{maxWidth:"md",alignLeft:!0,children:r.jsx(jt,{children:r.jsx(BD,{})})}),t==null?r.jsx(Br,{maxWidth:"sm",children:r.jsx(jt,{pt:"8vh",children:r.jsx(kD,{label:"",icon:WD})})}):r.jsxs(jt,{children:[r.jsx(Yb,{}),r.jsx(bCe,{})]})]})});c6.propTypes={drawerOpen:l.bool,boxStyles:l.oneOfType([l.array,l.object]),loading:l.bool};c6.displayName="A014Frame";const xCe=()=>{const e=a.useContext(Vs);return r.jsx(c6,{loading:e.gridLoading})};xCe.displayName="A014Frame";const u6=a.memo(e=>{const{gridRef:t,data:n,loading:o,height:s=300,onChange:i}=e;return!n||n.legnth===0?r.jsx(bf,{height:s,size:"medium",children:""}):o?r.jsx(Ko,{height:s}):o==null?!1:r.jsx(dr,{lockRows:!0,ref:t,rowKey:"ProdID",height:s+48,value:n,onChange:i,disableExpandSelection:!0,disableContextMenu:!0})});u6.propTypes={readOnly:l.bool,setGridRef:l.func,drawerOpen:l.bool,data:l.array,loading:l.bool,height:l.number,onChange:l.func,isPersisted:l.func};u6.displayName="A015Grid";const yCe=()=>{const{height:e}=Wt(),t=a.useContext(Vs),n=a.useMemo(()=>t.expanded?e-330:e-230,[t.expanded,e]);return r.jsx(Kn.Provider,{value:{...t.grid,...t.gridMeta},children:r.jsx(u6,{readOnly:t.readOnly,gridRef:t.setGridRef,data:t.gridData,loading:t.gridLoading,height:n,onChange:t.handleGridChange,onActveCellChange:t.handleActiveCellChange})})};yCe.displayName="A015GridContainer";const d6=a.memo(e=>{const{loading:t,...n}=e;return r.jsxs(Ft,{...n,children:[r.jsx(_t,{}),r.jsx(Et,{maxWidth:"md",alignLeft:!0,children:r.jsx(jt,{children:r.jsx(BD,{safeQty:!0})})}),t==null?r.jsx(Br,{maxWidth:"sm",children:r.jsx(jt,{pt:"8vh",children:r.jsx(kD,{label:"",icon:WD})})}):r.jsxs(jt,{children:[r.jsx(Yb,{}),r.jsx(yCe,{})]})]})});d6.propTypes={drawerOpen:l.bool,boxStyles:l.oneOfType([l.array,l.object]),loading:l.bool};d6.displayName="A015Frame";const CCe=()=>{const e=a.useContext(Vs);return r.jsx(d6,{loading:e.gridLoading})};CCe.displayName="A015Frame";const jjt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),p6=a.memo(e=>{const{canCreate:t,lockRows:n,gridRef:o,data:s,loading:i,height:c=300,createRow:u,onChange:d,onActiveCellChange:p,onSelectionChange:m,columns:f}=e,h=a.useMemo(()=>c+(n||!t?48:0),[t,c,n]);return i?r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(Ko,{height:c})}):i==null?!1:r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(jt,{children:r.jsx(dr,{lockRows:n,ref:o,rowKey:"id",height:h,value:s,onChange:d,onActiveCellChange:p,onSelectionChange:m,createRow:u,addRowsComponent:t?go:null,disableExpandSelection:!0,contextMenuComponent:jjt})})})});p6.propTypes={canCreate:l.bool,lockRows:l.bool,gridRef:l.func,vreateRow:l.func,drawerOpen:l.bool,data:l.array,loading:l.bool,height:l.number,onChange:l.func,onActiveCellChange:l.func,onSelectionChange:l.func,createRow:l.func,isPersisted:l.func,columns:l.array};p6.displayName="A02Grid";const DCe=()=>{const{height:e}=Wt(),t=a.useContext(jk),n=a.useMemo(()=>t.codeEditor.buildGridChangeHandler({onCreate:t.codeEditor.handleCreate,onUpdate:t.codeEditor.handleUpdate,onDelete:t.canDelete?t.codeEditor.handleConfirmDelete:null,onDuplicatedError:t.codeEditor.handleDuplicatedError}),[t]),o=a.useMemo(()=>t.gridMeta.buildSelectionChangeHandler(),[t.gridMeta]);return r.jsx(Kn.Provider,{value:{...t.grid,...t.gridMeta},children:r.jsx(p6,{lockRows:t.grid.readOnly,gridRef:t.gridMeta.setGridRef,data:t.grid.gridData,height:e-176,loading:t.grid.gridLoading,onChange:n,onActiveCellChange:t.gridMeta.handleActiveCellChange,onSelectionChange:o,canCreate:t.canCreate,createRow:t.codeEditor.createRow})})};DCe.displayName="A02GridContainer";const SCe=e=>{const{...t}=e,n=a.useContext(jk);return r.jsx(Ts,{unlockedLabel:"",locked:n.grid.readOnly,onChange:n.grid.toggleReadOnly,disabled:!n.canUpdate,...t})};SCe.displayName="A02LockRowsSwitchContainer";const m6=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(Vo),s=a.useContext(jk),{moduleAuthorityLoading:i,canPrint:c}=s;return i||!c?!1:r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(cs,{}),sx:{fontWeight:600},onClick:o.promptPrint,color:"neutral",...n,children:""})}));m6.propTypes={};m6.displayName="A02PrintButtonContainer";const f6=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(kn,{borderRadius:1,ref:t,bgcolor:Nn.TOOLBAR,LeftComponent:m6,RightComponent:SCe,...n})})}));f6.propTypes={};f6.displayName="A02Toolbar";const h6=a.memo(()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsxs(jt,{children:[r.jsx(f6,{}),r.jsx(DCe,{})]})]}));h6.propTypes={drawerOpen:l.bool,boxStyles:l.oneOfType([l.array,l.object])};h6.displayName="A02Frame";const vCe=()=>r.jsxs(ws,{tableName:"PackCod",children:[r.jsx(h6,{}),r.jsx(Is,{})]});vCe.displayName="A02Frame";const jCe=a.memo(a.forwardRef((e,t)=>{const{children:n,leftComponents:o,LeftComponent:s,RightComponent:i,rightComponents:c,boxSx:u=[],componentProps:d={},...p}=e;return r.jsxs(ve,{ref:t,inline:!0,fullWidth:!0,alignItems:"flex-end",pb:.5,sx:[{minHeight:"48px"},...Array.isArray(u)?u:[u]],...p,children:[r.jsxs(ve,{flex:1,alignItems:"center",justifyContent:"flex-start",children:[s&&r.jsx(s,{...d}),o]}),n,r.jsxs(ve,{...!s&&{flex:1},alignItems:"center",justifyContent:"flex-end",children:[i&&r.jsx(i,{...d}),c]})]})}));jCe.displayName="InlineListViewToolbar";jCe.propTypes={children:l.element,leftComponents:l.element,LeftComponent:l.oneOfType([l.func,l.elementType]),RightComponent:l.oneOfType([l.func,l.elementType]),rightComponents:l.element,componentProps:l.object,boxSx:l.oneOfType([l.array,l.object])};const g6=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(Vo),s=a.useContext(Sf),{moduleAuthorityLoading:i,canPrint:c}=s;return i||!c?!1:r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(cs,{}),sx:{fontWeight:600},onClick:o.promptPrint,color:"neutral",...n,children:""})}));g6.propTypes={};g6.displayName="A03PrintButtonContainer";const ICe=e=>{const{...t}=e,n=a.useContext(Sf);return r.jsx(Ts,{unlockedLabel:"",locked:n.readOnly,onChange:n.toggleReadOnly,disabled:!n.canUpdate,...t})};ICe.displayName="A03LockSwitchContainer";const b6=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(Et,{maxWidth:"lg",alignLeft:!0,children:r.jsx(kn,{ref:t,bgcolor:Nn.TOOLBAR,borderRadius:1,LeftComponent:g6,RightComponent:ICe,...n})})}));b6.propTypes={};b6.displayName="A03Toolbar";a.createContext();const Ijt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),x6=a.memo(e=>{const{canCreate:t,lockRows:n,setGridRef:o,data:s,columns:i,loading:c,height:u=300,onChange:d,onSelectionChange:p,onActiveCellChange:m,createRow:f,getRowClassName:h}=e,g=a.useMemo(()=>u+(n||!t?48:0),[t,u,n]);return c?r.jsx(Ko,{height:u}):c==null?!1:r.jsx(dr,{lockRows:n,ref:o,rowKey:"LClas",height:g,value:s,onChange:d,columns:i,addRowsComponent:t?go:null,disableExpandSelection:!0,contextMenuComponent:Ijt,onSelectionChange:p,onActiveCellChange:m,createRow:f,rowClassName:h})});x6.propTypes={canCreate:l.bool,lockRows:l.bool,setGridRef:l.func,drawerOpen:l.bool,data:l.array,loading:l.bool,height:l.number,onChange:l.func,isPersisted:l.func,onSelectionChange:l.func,onActiveCellChange:l.func,createRow:l.func,getRowClassName:l.func,columns:l.array};x6.displayName="CatLGrid";const TCe=a.createContext(),OCe=()=>{const{height:e}=Wt(),t=a.useContext(TCe),n=a.useContext(Sf),{canDelete:o}=n,s=a.useMemo(()=>t.codeEditor.buildGridChangeHandler({onCreate:t.codeEditor.handleCreate,onUpdate:t.codeEditor.handleUpdate,onDelete:o?t.codeEditor.handleConfirmDelete:null,onDeleted:t.onDeleted,onDuplicatedError:t.codeEditor.handleDuplicatedError}),[o,t.codeEditor,t.onDeleted]),i=a.useMemo(()=>t.gridMeta.buildSelectionChangeHandler({onRowSelectionChange:t.onRowSelectionChange}),[t.gridMeta,t.onRowSelectionChange]);return r.jsx(Kn.Provider,{value:{...t.gridMeta},children:r.jsx(x6,{lockRows:n.readOnly,setGridRef:t.gridMeta.setGridRef,columns:t.columns,data:t.grid.gridData,loading:t.grid.gridLoading,height:e-176,onChange:s,onSelectionChange:i,onActiveCellChange:t.gridMeta.handleActiveCellChange,createRow:t.codeEditor.createRow,canCreate:n.canCreate,getRowClassName:t.gridMeta.getRowClassName})})};OCe.displayName="CatLGridContainer";const y6=a.createContext(),Tjt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),C6=a.memo(e=>{const{canCreate:t,lockRows:n,setGridRef:o,columns:s,data:i,loading:c,height:u,onChange:d,onSelectionChange:p,onActiveCellChange:m,createRow:f,getRowClassName:h}=e,g=a.useMemo(()=>u+(n||!t?48:0),[t,u,n]);return c==null?!1:r.jsx(dr,{lockRows:n,ref:o,rowKey:"MClas",height:g,value:i,columns:s,addRowsComponent:t?go:null,disableExpandSelection:!0,contextMenuComponent:Tjt,onChange:d,onSelectionChange:p,onActiveCellChange:m,createRow:f,rowClassName:h})});C6.propTypes={canCreate:l.bool,lockRows:l.bool,setGridRef:l.func,drawerOpen:l.bool,data:l.array,loading:l.bool,height:l.number,onChange:l.func,isPersisted:l.func,onSelectionChange:l.func,onActiveCellChange:l.func,createRow:l.func,getRowClassName:l.func,columns:l.array};C6.displayName="CatMGrid";const ECe=()=>{const{height:e}=Wt(),t=a.useContext(y6),n=a.useContext(Sf),{canDelete:o}=n,s=a.useMemo(()=>t.codeEditor.buildGridChangeHandler({onCreate:t.codeEditor.handleCreate,onUpdate:t.codeEditor.handleUpdate,onDelete:o?t.codeEditor.handleConfirmDelete:null,onDeleted:t.onDeleted,onDuplicatedError:t.codeEditor.handleDuplicatedError}),[o,t.codeEditor,t.onDeleted]),i=a.useMemo(()=>t.gridMeta.buildSelectionChangeHandler({onRowSelectionChange:t.onRowSelectionChange}),[t.gridMeta,t.onRowSelectionChange]),c=a.useMemo(()=>n.readOnly||!n.lgId,[n.lgId,n.readOnly]);return r.jsx(Kn.Provider,{value:{...t.gridMeta},children:r.jsx(C6,{lockRows:c,setGridRef:t.gridMeta.setGridRef,columns:t.gridMeta.columns,data:t.grid.gridData,loading:t.grid.gridLoading,height:e-176,onChange:s,onSelectionChange:i,onActiveCellChange:t.gridMeta.handleActiveCellChange,createRow:t.codeEditor.createRow,canCreate:n.canCreate,getRowClassName:t.gridMeta.getRowClassName})})};ECe.displayName="CatMGridContainer";a.createContext();const Ojt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),D6=a.memo(e=>{const{canCreate:t,lockRows:n,setGridRef:o,columns:s,data:i,loading:c,height:u=300,onChange:d,createRow:p,onSelectionChange:m,onActiveCellChange:f,getRowClassName:h}=e,g=a.useMemo(()=>u+(n||!t?48:0),[t,u,n]);return c==null?!1:r.jsx(dr,{lockRows:n,ref:o,rowKey:"SClas",height:g,value:i,columns:s,addRowsComponent:t?go:null,disableExpandSelection:!0,contextMenuComponent:Ojt,onChange:d,onSelectionChange:m,onActiveCellChange:f,createRow:p,rowClassName:h})});D6.propTypes={canCreate:l.bool,lockRows:l.bool,setGridRef:l.func,drawerOpen:l.bool,data:l.array,loading:l.bool,height:l.number,onChange:l.func,onSelectionChange:l.func,onActiveCellChange:l.func,createRow:l.func,getRowClassName:l.func,columns:l.array};D6.displayName="CatSGrid";const Bk=a.createContext(),PCe=()=>{const{height:e}=Wt(),t=a.useContext(Bk),n=a.useContext(Sf),{canDelete:o}=n,s=a.useMemo(()=>t.codeEditor.buildGridChangeHandler({onCreate:t.codeEditor.handleCreate,onUpdate:t.codeEditor.handleUpdate,onDelete:o?t.codeEditor.handleConfirmDelete:null,onDeleted:t.onDeleted,onDuplicatedError:t.codeEditor.handleDuplicatedError}),[o,t.codeEditor,t.onDeleted]),i=a.useMemo(()=>t.gridMeta.buildSelectionChangeHandler({onRowSelectionChange:t.onRowSelectionChange}),[t.gridMeta,t.onRowSelectionChange]),c=a.useMemo(()=>n.readOnly||!n.mdId,[n.mdId,n.readOnly]);return r.jsx(Kn.Provider,{value:{...t.gridMeta},children:r.jsx(D6,{lockRows:c,setGridRef:t.gridMeta.setGridRef,columns:t.gridMeta.columns,data:t.grid.gridData,loading:t.grid.gridLoading,height:e-176,onChange:s,onSelectionChange:i,onActiveCellChange:t.gridMeta.handleActiveCellChange,createRow:t.codeEditor.createRow,canCreate:n.canCreate,getRowClassName:t.gridMeta.getRowClassName})})};PCe.displayName="CatSGridContainer";const Ejt=()=>{const{token:e}=a.useContext(Be),t=a.useContext(Sf),n=a.useContext(y6),o=a.useContext(Bk),s=yr({gridId:"CatL",keyColumn:"LClas",otherColumns:"ClassData"}),i=a.useMemo(()=>[{...Pe.keyColumn("LClas",kt({continuousUpdates:!1,maxLength:2})),disabled:s.isPersisted,title:"",grow:1,minWidth:60},{...Pe.keyColumn("ClassData",kt({continuousUpdates:!1})),title:"",grow:5,disabled:t.readOnly}],[t.readOnly,s.isPersisted]),c=hr({columns:i,data:s.gridData,lastCell:Xn.CREATE_ROW}),u=Ga({displayName:"",baseUri:"v1/prod/l-cats",token:e,grid:s,gridMeta:c}),d=a.useCallback(()=>{s.setGridData([],{reset:!0,commit:!0}),c.setSelectedRow(null)},[s,c]),p=a.useCallback(f=>{if(!f)return;const{rowData:h}=f;console.log("catL.selectedRow",h),c.setSelectedRow(f),t.setLgId(h==null?void 0:h.LClas),h!=null&&h.LClas&&s.isPersisted(f)?(n.codeEditor.load({params:{lgId:h==null?void 0:h.LClas},baseUri:`v1/prod/m-cats/${h==null?void 0:h.LClas}`,supressLoading:!1}),n.gridMeta.setSelectedRow(null)):n.clear(),o.clear()},[t,n,o,s,c]),m=a.useCallback(f=>{console.log(`${s.gridId}.onDeleted`,f),n.clear(),o.clear()},[n,o,s.gridId]);return En(()=>{u.load()},[]),{grid:s,gridMeta:c,codeEditor:u,clear:d,onRowSelectionChange:p,onDeleted:m}},RCe=({children:e})=>{const t=Ejt();return r.jsx(TCe.Provider,{value:{...t},children:e})};RCe.propTypes={children:l.oneOfType([l.array,l.object])};const Pjt=()=>{const{token:e}=a.useContext(Be),t=a.useContext(Sf),n=a.useContext(Bk),o=yr({gridId:"CatM",keyColumn:"MClas",otherColumns:"ClassData"}),s=a.useMemo(()=>[{...Pe.keyColumn("MClas",kt({continuousUpdates:!1,maxLength:3})),disabled:o.isPersisted,title:"",minWidth:60},{...Pe.keyColumn("ClassData",kt({continuousUpdates:!1})),title:"",grow:5,disabled:t.readOnly}],[t.readOnly,o.isPersisted]),i=hr({columns:s,data:o.gridData,lastCell:Xn.CREATE_ROW}),c=Ga({displayName:"",baseUrl:"",token:e,grid:o,gridMeta:i}),u=a.useCallback(()=>{o.setGridData([],{reset:!0,commit:!0}),i.setSelectedRow(null)},[o,i]),d=a.useCallback(m=>{if(!m)return;const{rowData:f}=m;i.setSelectedRow(m),t.setMdId(f==null?void 0:f.MClas),f!=null&&f.MClas&&o.isPersisted(m)?(n.codeEditor.load({param:{mdId:f==null?void 0:f.MClas},baseUri:`v1/prod/s-cats/${t.lgId},${f==null?void 0:f.MClas}`,supressLoading:!1}),n.gridMeta.setSelectedRow(null)):n.clear()},[t,n,o,i]),p=a.useCallback(m=>{console.log(`${o.gridId}.onDeleted`,m),n.clear()},[n,o.gridId]);return{grid:o,gridMeta:i,codeEditor:c,clear:u,onRowSelectionChange:d,onDeleted:p}},wCe=({children:e})=>{const t=Pjt();return r.jsx(y6.Provider,{value:{...t},children:e})};wCe.propTypes={children:l.oneOfType([l.array,l.object])};const Rjt=()=>{const{token:e}=a.useContext(Be),t=a.useContext(Sf),n=yr({gridId:"CatS",keyColumn:"SClas",otherColumns:"ClassData"}),o=a.useMemo(()=>[{...Pe.keyColumn("SClas",kt({continuousUpdates:!1,maxLength:3})),disabled:n.isPersisted,title:"",grow:1,minWidth:60},{...Pe.keyColumn("ClassData",kt({continuousUpdates:!1})),title:"",grow:5,disabled:t.readOnly}],[n.isPersisted,t.readOnly]),s=hr({columns:o,data:n.gridData,lastCell:Xn.CREATE_ROW}),i=Ga({displayName:"",baseUrl:"",token:e,grid:n,gridMeta:s}),c=a.useCallback(()=>{n.setGridData([],{reset:!0,commit:!0}),s.setSelectedRow(null)},[n,s]),u=a.useCallback(p=>{if(!p)return;const{rowData:m}=p;t.setSmId(m==null?void 0:m.SClas),s.setSelectedRow(p)},[t,s]),d=a.useCallback(p=>{console.log(`${n.gridId}.onDeleted`,p)},[n.gridId]);return{grid:n,gridMeta:s,codeEditor:i,clear:c,onRowSelectionChange:u,onDeleted:d}},kCe=({children:e})=>{const t=Rjt();return r.jsx(Bk.Provider,{value:{...t},children:e})};kCe.propTypes={children:l.oneOfType([l.array,l.object])};const S6=a.memo(()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(jt,{mb:.5,children:r.jsx(b6,{})}),r.jsx(Et,{maxWidth:"lg",alignLeft:!0,children:r.jsx(j,{container:!0,spacing:1,children:r.jsxs(kCe,{children:[r.jsxs(wCe,{children:[r.jsx(j,{item:!0,xs:12,sm:12,md:6,lg:4,children:r.jsx(RCe,{children:r.jsx(OCe,{})})}),r.jsx(j,{item:!0,xs:12,sm:12,md:6,lg:4,children:r.jsx(ECe,{})})]}),r.jsx(j,{item:!0,xs:12,sm:12,md:6,lg:4,children:r.jsx(PCe,{})})]})})})]}));S6.propTypes={drawerOpen:l.bool};S6.displayName="A03Frame";const ACe=()=>r.jsxs(ws,{tableName:"ClassCod",children:[r.jsx(S6,{}),r.jsx(Is,{})]});ACe.displayName="A03Frame";const wjt=Rr({filterItem:e=>["DELETE_ROW"].includes(e.type)}),v6=a.memo(e=>{const{canCreate:t,lockRows:n,gridRef:o,drawerOpen:s,data:i,loading:c,height:u=300,columns:d,onChange:p,createRow:m,onSelectionChange:f,onActiveCellChange:h,getRowClassName:g,...x}=e,y=a.useMemo(()=>u+(n||!t?48:0),[t,u,n]);return c?r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx(Ko,{height:u})}):c==null?!1:r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx(dr,{lockRows:n,ref:o,rowKey:"id",height:y,value:i,columns:d,addRowsComponent:t?go:null,disableExpandSelection:!0,onChange:p,onSelectionChange:f,onActiveCellChange:h,createRow:m,contextMenuComponent:wjt,rowClassName:g})})});v6.propTypes={lockRows:l.bool,gridRef:l.func,drawerOpen:l.bool,data:l.array,loading:l.bool,height:l.number,onChange:l.func,isPersisted:l.func,onSelectionChange:l.func};v6.displayName="A04Grid";const NCe=()=>{const{height:e}=Wt(),t=a.useContext(Ik);a.useContext(Lr);const n=a.useMemo(()=>t.buildGridChangeHandler({onCreate:t.handleCreate,onUpdate:t.handleUpdate,onDelete:t.canDelete?t.handleConfirmDelete:null,onDuplicatedError:t.handleDuplicatedError}),[t]),o=a.useMemo(()=>t.buildSelectionChangeHandler(),[t]);return r.jsx(Kn.Provider,{value:{...t.gridMeta},children:r.jsx(v6,{columns:t.columns,lockRows:t.readOnly,gridRef:t.setGridRef,data:t.gridData,loading:t.gridLoading,height:e-176,onChange:n,onActiveCellChange:t.handleActiveCellChange,onSelectionChange:o,canCreate:t.canCreate,createRow:t.createRow})})};NCe.displayName="A04GridContainer";const FCe=e=>{const{...t}=e,n=a.useContext(Ik);return r.jsx(Ts,{unlockedLabel:"",locked:n.readOnly,onChange:n.toggleReadOnly,disabled:!n.canUpdate,...t})};FCe.displayName="A04LockSwitchContainer";const j6=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(Vo),s=a.useContext(Ik),{moduleAuthorityLoading:i,canPrint:c}=s;return i||!c?!1:r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(cs,{}),sx:{fontWeight:600},onClick:o.promptPrint,color:"neutral",...n,children:""})}));j6.propTypes={};j6.displayName="A04PrintButtonContainer";const I6=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx(kn,{ref:t,bgcolor:Nn.TOOLBAR,LeftComponent:j6,RightComponent:FCe,mb:.5,...n})})}));I6.propTypes={};I6.displayName="A04Toolbar";const T6=a.memo(()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(I6,{}),r.jsx(NCe,{})]}));T6.propTypes={drawerOpen:l.bool,boxStyles:l.oneOfType([l.array,l.object])};T6.displayName="A04Frame";const MCe=()=>r.jsxs(ws,{tableName:"CaseCod",children:[r.jsx(T6,{}),r.jsx(Is,{})]});MCe.displayName="A04Frame";const _Ce=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(cc),s=a.useMemo(()=>"",[]);return r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(Ao,{}),onClick:o.handlePromptCreating,sx:{fontWeight:600},...n,children:s})}));_Ce.displayName="A06CreateButtonContainer";const LCe=()=>{const e=a.useContext(cc);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};LCe.displayName="A06FetchResultLabelContainer";const $Ce=e=>{const{...t}=e,n=a.useContext(cc),{operator:o}=a.useContext(Be),s=A5({name:"CustFile",jobId:"A06"}),{mobile:i}=a.useContext(lc),c=a.useMemo(()=>!n.canManage||o.CurFlagShip!=1,[n.canManage,o.CurFlagShip]),u=a.useMemo(()=>{let d="";return o.CurFlagShip!=1&&(d+=""),n.canManage||(d+=""),d},[n.canManage,o.CurFlagShip]);return n.mode!==ni.Mode.CUSTOMER?!1:s.loading!==!1?r.jsx(Cr,{}):s.error?r.jsx(nu,{error:s.error,severity:"error",dense:!0,children:""}):r.jsx(Ra,{title:u,children:r.jsx(Ts,{unlockedLabel:i?"POS":"POS",lockedLabel:i?"POS":"POS",locked:!s.enabled,onChange:s.toggle,disabled:c,width:i?90:130,...t})})};$Ce.displayName="A06LockSwitchContainer";const O6=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(Vo),s=a.useContext(cc),{moduleAuthorityLoading:i,canPrint:c}=s;return i||!c?!1:r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(cs,{}),sx:{fontWeight:600},onClick:o.promptPrint,color:"neutral",...n,children:""})}));O6.propTypes={};O6.displayName="A06PrintButtonContainer";const BCe=a.memo(()=>r.jsxs(r.Fragment,{children:[r.jsx(_Ce,{}),r.jsx(O6,{}),r.jsx($Ce,{})]}));BCe.displayName="LeftButtons";const WCe=a.memo(a.forwardRef(({...e},t)=>r.jsx(kn,{pr:1,alignItems:"flex-end",ref:t,LeftComponent:BCe,RightComponent:LCe,...e})));WCe.displayName="A06ListViewToolbar";const kjt=e=>{if(!e)return"";const{CodeID:t,CodeData:n}=e;return`${t} ${n}`},Ajt=(e,t)=>(e==null?void 0:e.CodeID)===(t==null?void 0:t.CodeID),_le={getOptionLabel:kjt,isOptionEqualToValue:Ajt},au=a.forwardRef((e,t)=>{const{label:n="",...o}=e,{token:s}=a.useContext(Be);return r.jsx(bt,{label:n,ref:t,bearer:s,url:"v1/banks",getOptionLabel:_le.getOptionLabel,isOptionEqualToValue:_le.isOptionEqualToValue,notFoundText:" ${input} ",...o})});au.propTypes={name:l.string,label:l.string,children:l.node};au.displayName="BankPicker";const Njt=e=>{if(!e)return"";const{CodeID:t,CodeData:n}=e;return[t,n].filter(Boolean).join(" ")},Fjt=(e,t)=>(e==null?void 0:e.CodeID)===(t==null?void 0:t.CodeID),Lle={getOptionLabel:Njt,isOptionEqualToValue:Fjt},Ar=e=>{const{label:t="",withQuotes:n=!1,forNewCustomer:o,...s}=e,{token:i}=a.useContext(Be),c=a.useMemo(()=>{const p={tp:1e3,...n&&{wq:1},...o&&{new:1}};return Hr.stringify(p)},[o,n]),u=a.useCallback(p=>p.data,[]),d=a.useCallback(p=>`${p==null?void 0:p.CodeID}`,[]);return r.jsx(bt,{label:t,bearer:i,url:"v1/ou/employees",queryParam:"q",querystring:c,getOptionLabel:Lle.getOptionLabel,isOptionEqualToValue:Lle.isOptionEqualToValue,getOptions:u,getOptionKey:d,placeholder:"",notFoundText:" ${input} ",...s})};Ar.displayName="EmployeePicker";Ar.propTypes={label:l.string,withQuotes:l.bool,forNewCustomer:l.bool};const Mjt=e=>e==="Y"?"":"",_jt=e=>Oo.isString(e)?(e==null?void 0:e.toUpperCase())==="Y":!1,Ljt=e=>e?"Y":"",pL={getOptionLabel:Mjt,valueToChecked:_jt,checkedToValue:Ljt},UD=e=>{const{label:t="",...n}=e;return r.jsx(xr,{label:t,defaultValue:"",valueToChecked:pL.valueToChecked,checkedToValue:pL.checkedToValue,getLabel:pL.getOptionLabel,variant:"outlined",size:"small",fullWidth:!0,...n})};UD.propTypes={label:l.string};UD.displayName="TaxTypeCheckbox";const Tl=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e,{token:i}=a.useContext(Be);return r.jsx(bt,{name:n,label:o,ref:t,bearer:i,url:"v1/sales/customer/areas",getOptionLabel:Gc.getOptionLabel,isOptionEqualToValue:Gc.isOptionEqualToValue,notFoundText:" ${input} ",...s})});Tl.propTypes={name:l.string,label:l.string,children:l.node};Tl.displayName="AreaPicker";const sc=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e,{token:i}=a.useContext(Be);return r.jsx(bt,{name:n,label:o,ref:t,bearer:i,url:"v1/sales/customer/channels",getOptionLabel:Gc.getOptionLabel,isOptionEqualToValue:Gc.isOptionEqualToValue,notFoundText:" ${input} ",...s})});sc.propTypes={name:l.string,label:l.string,children:l.node};sc.displayName="ChannelPicker";const E6=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e,{token:i}=a.useContext(Be);return r.jsx(bt,{name:n,label:o,ref:t,bearer:i,url:"v1/sales/customer/transports",getOptionLabel:Gc.getOptionLabel,isOptionEqualToValue:Gc.isOptionEqualToValue,notFoundText:" ${input} ",...s})});E6.propTypes={name:l.string,label:l.string};E6.displayName="TransportPicker";const UCe=[{CodeID:"1",CodeData:"1"},{CodeID:"2",CodeData:"2"},{CodeID:"3",CodeData:"3"},{CodeID:"4",CodeData:"4"},{CodeID:"5",CodeData:"5"}],$jt=e=>{if(!e)return"";const{CodeData:t}=e;return`${t}`},Bjt=(e,t)=>(e==null?void 0:e.CodeID)===(t==null?void 0:t.CodeID),Wjt=e=>UCe.find(t=>t.CodeID===e),hP={getOptionLabel:$jt,isOptionEqualToValue:Bjt,options:UCe,findByInput:Wjt},P6=a.forwardRef((e,t)=>{const{name:n,readOnly:o=!1,label:s="",...i}=e;return r.jsx(bt,{name:n,readOnly:o,ref:t,label:s,options:hP.options,getOptionLabel:hP.getOptionLabel,isOptionEqualToValue:hP.isOptionEqualToValue,findByInput:hP.findByInput,notFoundText:" ${input} ",...i})});P6.propTypes={name:l.string,label:l.string,children:l.node,readOnly:l.bool};P6.displayName="CustomerLevelPicker";const R6=a.memo(e=>{const{readWorking:t,readError:n,itemDataReady:o,creating:s,updating:i,slotProps:c,...u}=e;return r.jsxs("form",{...u,children:[t&&r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",minHeight:"30em",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}),n&&r.jsx(lo,{error:n,...c==null?void 0:c.error}),o&&r.jsxs(Pt,{pt:1,children:[r.jsx(Ws,{children:""}),r.jsx(Xt,{children:r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"CustID",label:"",autoFocus:s,fullWidth:!0,required:!0,rules:{required:""},readOnly:i,disabled:i,slotProps:{htmlInput:{maxLength:9}}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:6,children:r.jsx($e,{typo:!0,name:"CustData",label:"",autoFocus:i,fullWidth:!0,required:!0,rules:{required:""}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"AbbrName",label:"",fullWidth:!0})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx(Ar,{typo:!0,name:"employee",label:"",fullWidth:!0,disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:4,sm:4,md:2,children:r.jsx(UD,{typo:!0,label:"",name:"TaxType"})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx(P6,{typo:!0,name:"level",fullWidth:!0,disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx(Tl,{typo:!0,name:"area",fullWidth:!0,disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx(sc,{typo:!0,name:"channel",fullWidth:!0,disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(ve,{fullWidth:!0})]})}),r.jsx(Xt,{children:r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"RecGroup",label:"",fullWidth:!0,slotProps:{htmlInput:{maxLength:2}}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx(Hb,{typo:!0,name:"payment",label:"",fullWidth:!0,disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx(au,{typo:!0,name:"bank",label:"",fullWidth:!0,disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"BankAcct",label:"",fullWidth:!0})})]})}),r.jsx(Xt,{children:r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:12,sm:12,md:6,children:r.jsx($e,{typo:!0,name:"Boss",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"Contact",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"UniForm",label:"",fullWidth:!0,slotProps:{htmlInput:{maxLength:8}}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"CompTel",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"CompFax",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:6,children:r.jsx($e,{typo:!0,name:"Cel",label:"",fullWidth:!0})})]})}),r.jsx(Ws,{children:""}),r.jsx(Xt,{children:r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:12,sm:12,md:8,children:r.jsx($e,{typo:!0,name:"RecAddr",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:4,children:r.jsx($e,{typo:!0,name:"RecTel",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:8,children:r.jsx($e,{typo:!0,name:"InvAddr",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:4,children:r.jsx($e,{typo:!0,name:"InvTel",label:"",fullWidth:!0})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx(E6,{typo:!0,name:"transport",label:"",fullWidth:!0,disableOpenOnInput:!0,selectOnFocus:!0})})]})}),r.jsx(Xt,{children:r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:12,sm:12,md:6,children:r.jsx($e,{typo:!0,name:"mainProd",multiline:!0,minRows:2,label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:6,children:r.jsx($e,{typo:!0,name:"remark",multiline:!0,minRows:2,label:"",fullWidth:!0})})]})})]})]})});R6.propTypes={data:l.object,readWorking:l.bool,itemDataReady:l.bool,editing:l.bool,updating:l.bool,store:l.bool,readError:l.object,slotProps:l.object};R6.displayName="A06Form";const w6=a.memo(a.forwardRef((e,t)=>{const{onSave:n,onCancel:o,loading:s,...i}=e;return r.jsxs(a.Fragment,{ref:t,children:[r.jsx(dt,{responsive:!0,onClick:o,color:"warning",variant:"outlined",...i,children:""}),r.jsx(dt,{responsive:!0,onClick:n,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:s,...i,children:""})]})}));w6.displayName="A06DialogEditButtons";w6.propTypes={onSave:l.func,onCancel:l.func,loading:l.bool};const qCe=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,onDelete:o,onReview:s,onSideDrawerOpen:i,...c}=e;return r.jsxs(a.Fragment,{ref:t,...c,children:[o&&r.jsx(hn,{startIcon:r.jsx(Fs,{}),color:"secondary",onClick:o,children:""}),s&&r.jsx(hn,{startIcon:r.jsx(_D,{}),color:"warning",onClick:s,children:""}),n&&r.jsx(hn,{startIcon:r.jsx(bo,{}),color:"primary",onClick:n,children:""}),r.jsx(jr,{title:"",children:r.jsx(br,{onClick:i,size:"small",children:r.jsx(Po,{})})})]})}));qCe.propTypes={onEdit:l.func,onReview:l.func,onDelete:l.func,onSideDrawerOpen:l.func};const VCe=e=>{const{...t}=e,n=a.useContext(cc),o=Ke();return n.itemDataReady?n.editing?r.jsx(w6,{onSave:o.handleSubmit(n.onEditorSubmit,n.onEditorSubmitError),onCancel:n.updating?n.confirmReturn:n.confirmQuitCreating,loading:n.editWorking,...t}):r.jsx(qCe,{onEdit:n.canUpdate?n.promptUpdating:null,onDelete:n.canDelete?n.confirmDelete:null,onReview:n.canReview&&n.mode===ni.Mode.NEW_CUSTOMER?n.promptReview:null,onSideDrawerOpen:n.handleSideDrawerOpen,...t}):!1};VCe.displayName="A06DialogToolbarContainer";const k6=a.memo(e=>{var s,i;const{anchor:t="right",...n}=e,o=a.useContext(cc);return r.jsxs(Eo,{anchor:t,open:o.sideDrawerOpen,onClose:o.handleSideDrawerClose,slotProps:{backdrop:{sx:[ur.BACKDROP_TRANSPARENT]}},...n,children:[r.jsx(pn,{label:"",children:(s=o.itemData)==null?void 0:s.WriteDate_N}),r.jsx(pn,{label:"",children:(i=o.itemData)==null?void 0:i.Writer_N})]})});k6.propTypes={anchor:l.string};k6.displayName="A06Drawer";const zCe=a.forwardRef((e,t)=>{const{...n}=e,{height:o}=Wt(),s=a.useMemo(()=>o-120,[o]),i=Qr({maxHeight:s,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),c=Ke(),{reset:u}=c,d=a.useContext(cc),p=a.useMemo(()=>d.creating?"":d.updating?"":"",[d.creating,d.updating]),m=a.useCallback(()=>{d.editing&&c.handleSubmit(d.onEditorSubmit,d.onEditorSubmitError)()},[d.editing,d.onEditorSubmit,d.onEditorSubmitError,c]);return $t(["Control+Enter"],()=>setTimeout(m),{enableOnFormTags:!0}),mn(()=>{d.itemDataReady&&(console.log("a06 form reset",d.itemData),u(d.itemData))},[d.itemData,d.itemDataReady]),r.jsxs(Er,{title:p,ref:t,responsive:!0,fullWidth:!0,maxWidth:"md",TitleButtonsComponent:VCe,open:d.itemViewOpen,onClose:d.editing?d.confirmDialogClose:d.cancelAction,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[i.scroller],...n,children:[r.jsx(Ct,{...d.formMeta,children:r.jsx(R6,{ref:t,onSubmit:m,creating:d.creating,editing:d.editing,updating:d.updating,readWorking:d.readWorking,readError:d.readError,data:d.itemData,itemDataReady:d.itemDataReady})}),r.jsx(k6,{})]})});zCe.displayName="A06DialogContainer";const Wk=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:6,sm:4,...t})};Wk.propTypes={loading:l.bool,children:l.oneOfType([l.node])};Wk.displayName="A06IDColumn";const Uk=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:17,sm:8,...t})};Uk.propTypes={loading:l.bool,children:l.oneOfType([l.node])};Uk.displayName="A06NameColumn";const qk=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:3,sx:{display:{xs:"none",sm:"block"}},...t})};qk.propTypes={loading:l.bool,children:l.oneOfType([l.node])};qk.displayName="A06EmpColumn";const Vk=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:5,sx:{display:{xs:"none",sm:"block"}},...t})};Vk.propTypes={loading:l.bool,children:l.oneOfType([l.node])};Vk.displayName="A06BankColumn";const zk=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:3,sx:{display:{xs:"none",sm:"block"}},...t})};zk.propTypes={loading:l.bool,children:l.oneOfType([l.node])};zk.displayName="A06AreaColumn";const A6=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsxs(io,{ref:t,...n,children:[r.jsx(Hn,{}),r.jsx(Wk,{children:""}),r.jsx(Uk,{children:""}),r.jsx(zk,{children:""}),r.jsx(qk,{children:""}),r.jsx(Vk,{children:""})]})}));A6.propTypes={};A6.displayName="A06ListHeader";const N6=a.memo(e=>{const{index:t,value:n,...o}=e,{BankID:s,BankData_N:i,EmplData_N:c,AreaData_N:u}=n||{},d=a.useMemo(()=>[u].filter(Boolean).join(" "),[u]),p=a.useMemo(()=>[c].filter(Boolean).join(" "),[c]),m=a.useMemo(()=>[s,i].filter(Boolean).join(" "),[i,s]);return r.jsxs(LD,{...o,children:[r.jsx(Hn,{title:t}),r.jsx(Wk,{children:n==null?void 0:n.CustID}),r.jsx(Uk,{children:n==null?void 0:n.CustData}),r.jsx(zk,{children:d}),r.jsx(qk,{children:p}),r.jsx(Vk,{children:m})]})});N6.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func};N6.displayName="A06ListRow";const F6=e=>{var u;const t=a.useContext(cc),{index:n,...o}=e,s=a.useMemo(()=>t.listData[n],[t.listData,n]),i=a.useMemo(()=>!s,[s]),c=a.useMemo(()=>{var d;return(s==null?void 0:s.FactID)===((d=t.selectedItem)==null?void 0:d.FactID)},[(u=t.selectedItem)==null?void 0:u.FactID,s==null?void 0:s.FactID]);return r.jsx(No,{loading:i,children:r.jsx(N6,{index:n,value:s,onClick:d=>t.handleSelect(d,s),selected:c,...o})})};F6.propTypes={index:l.number,data:l.object};F6.displayName="A06ListRowContainer";const HCe=()=>{const e=a.useContext(cc),{loadList:t}=e,n=Ke(),{getValues:o,setValue:s}=n,{height:i}=Wt(),c=Ue({name:"qs",control:n.control}),u=Gr(c,300);En(()=>{e.loadList()},[]),mn(()=>{if(console.log(`debouncedQs: ${u}`),u!==void 0){const p=o();t({params:{...p,qs:u},supressLoading:!0}),s("qs",u)}},[u]);const d=a.useMemo(()=>i?i-162:300,[i]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:F6,height:d,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};HCe.displayName="A06ListViewContainer";const M6=a.memo(e=>{const{...t}=e;return r.jsx(Pt,{children:r.jsxs(Vt,{container:!0,spacing:1,columns:24,...t,children:[r.jsx(Vt,{item:!0,xs:24,sm:24,md:4,children:r.jsx($e,{autoFocus:!0,name:"lvId",label:"",variant:"outlined",size:"small",fullWidth:!0,clearable:!0})}),r.jsx(Vt,{item:!0,xs:24,sm:24,md:4,children:r.jsx($e,{name:"lvName",label:"",variant:"outlined",size:"small",fullWidth:!0,clearable:!0})}),r.jsx(Vt,{item:!0,xs:24,sm:24,md:4,children:r.jsx(Ar,{label:"",name:"lvEmployee",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(Vt,{item:!0,xs:24,sm:24,md:4,children:r.jsx(Tl,{label:"",name:"lvArea",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(Vt,{item:!0,xs:24,sm:24,md:4,children:r.jsx(Hb,{label:"",name:"lvPaymentType",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(Vt,{item:!0,xs:24,sm:24,md:4,children:r.jsx(au,{name:"lvBank",label:"",disableOpenOnInput:!0,selectOnFocus:!0})})]})})});M6.propTypes={};M6.displayName="A06SearchForm";const GCe=a.memo(a.forwardRef((e,t)=>{const{width:n="40ch",onClose:o,onReset:s,ContentProps:i,...c}=e;return r.jsxs(sm,{width:n,ref:t,children:[r.jsx(am,{onClose:o,children:""}),r.jsx(ta,{sx:{mt:0,mb:0}}),r.jsx(tm,{...i,children:r.jsx(M6,{initSize:"xs",spacing:2})}),r.jsx(ta,{}),r.jsxs(em,{children:[r.jsx(dt,{size:"small",variant:"outlined",color:"primary",onClick:s,children:""}),r.jsx(dt,{startIcon:r.jsx(Xh,{}),type:"submit",variant:"contained",children:""})]})]})}));GCe.displayName="A06SearchPopper";const KCe=a.forwardRef(({...e},t)=>{const n=a.useContext(cc),o=Ke(),s=vt(`
		lvId,
		lvName,
		lvEmployee,
		lvArea,
		lvPaymentType,
		lvBank,
		`);return r.jsx(Ct,{...s,children:r.jsx(GCe,{ref:t,onClose:n.handlePopperClose,onReset:n.handleReset({reset:o.reset}),...e})})});KCe.displayName="A06SearchPopperContainer";const _6=e=>{const{name:t="qs",...n}=e,o=Ke(),{getValues:s}=o,i=a.useContext(cc),{popperOpen:c}=i,u=a.useRef(null),d=ru({inputRef:u,onChange:f=>{o.setValue(t,f)}});$t("ctrl+F12",d.handleFocus,{enableOnFormTags:!0});const p=$t("esc",d.handleClear,{enableOnFormTags:!0}),m=a.useMemo(()=>o.handleSubmit(i.onSearchSubmit,i.onSearchSubmitError),[i.onSearchSubmit,i.onSearchSubmitError,o]);return r.jsx("form",{onSubmit:m,children:r.jsx("div",{ref:p,children:r.jsx(su,{autoFocus:!0,name:t,placeholder:"/(ctrl+F12)",mobilePlaceholder:"/",borderRadius:"8px",maxWidth:"32ch",responsive:!0,inputRef:u,onClear:d.handleClear,PopperComponent:KCe,popperOpen:i.popperOpen,onPopperToggle:i.handlePopperToggle,onPopperOpen:i.handlePopperOpen,onPopperClose:i.handlePopperClose,filtered:ni.isFiltered(s())})})})};_6.propTypes={name:l.string};_6.displayName="A06SearchFieldContainer";const H$=()=>{const e=a.useContext(cc),{mode:t}=e,n=at(),o=at({defaultValues:{}});return r.jsx(Ye,{...n,children:r.jsx(Ft,{children:r.jsxs(ws,{tableName:t===ni.Mode.NEW_CUSTOMER?"CustFileN":"CustFile",paramsToJsonData:ni.paramsToJsonData,children:[r.jsx(_t,{children:r.jsx(_6,{name:"qs"})}),r.jsx(WCe,{}),r.jsx(A6,{}),r.jsx(HCe,{}),r.jsx(Ye,{...o,children:r.jsx(zCe,{})}),r.jsx(Is,{})]})})})};H$.displayName="A06FrameContainer";const Xd=a.createContext(),L6=a.memo(e=>{const{data:t,readWorking:n,readError:o,itemDataReady:s,editing:i,updating:c,slotProps:u,...d}=e;return r.jsxs("form",{...d,children:[n&&r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",minHeight:"30em",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}),o&&r.jsx(lo,{error:o,...u==null?void 0:u.error}),s&&r.jsxs(Pt,{pt:1,children:[r.jsx(Ws,{children:""}),r.jsx(Xt,{children:r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"FactID",label:"",autoFocus:!0,fullWidth:!0,value:t==null?void 0:t.FactID,required:!0,rules:{required:""},readOnly:c,slotProps:{htmlInput:{maxLength:6}}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"FactData",label:"",fullWidth:!0,required:!0,rules:{required:""}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"AbbrName",label:"",fullWidth:!0})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"Boss",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"Contact",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:5,children:r.jsx($e,{typo:!0,name:"Tel",label:"",fullWidth:!0})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"Uniform",label:"",fullWidth:!0,slotProps:{htmlInput:{maxLength:8}}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:1.5,children:r.jsx($e,{typo:!0,name:"PayGroup",label:"",fullWidth:!0,slotProps:{htmlInput:{maxLength:2}}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:4.5,children:r.jsx(au,{typo:!0,name:"bank",label:"",fullWidth:!0,disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:260}}}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"BankAcct",label:"",fullWidth:!0})}),r.jsx(ve,{fullWidth:!0})]})}),r.jsx(Ws,{children:""}),r.jsx(Xt,{editing:i,children:r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:12,sm:12,md:6,children:r.jsx($e,{typo:!0,name:"CompAddr",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"CompTel",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"CompFax",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:4,sm:4,md:2,children:r.jsx(UD,{typo:!0,label:"",name:"TaxType"})})]})}),r.jsx(Ws,{children:""}),r.jsx(Xt,{editing:i,children:r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:12,sm:12,md:6,children:r.jsx($e,{typo:!0,name:"FactAddr",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"FactTel",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"FactFax",label:"",fullWidth:!0})})]})}),r.jsx(Xt,{editing:i,children:r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:12,sm:12,md:6,children:r.jsx($e,{typo:!0,name:"mainProd",multiline:!0,minRows:2,label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:6,children:r.jsx($e,{typo:!0,name:"remark",multiline:!0,minRows:2,label:"",fullWidth:!0})})]})})]})]})});L6.propTypes={data:l.object,readWorking:l.bool,itemDataReady:l.bool,editing:l.bool,updating:l.bool,store:l.bool,readError:l.object,slotProps:l.object};L6.displayName="A05Form";const $6=a.memo(a.forwardRef((e,t)=>{const{onSave:n,onCancel:o,loading:s,...i}=e;return r.jsxs(a.Fragment,{ref:t,...i,children:[r.jsx(dt,{responsive:!0,onClick:o,color:"warning",variant:"outlined",...i,children:""}),r.jsx(dt,{responsive:!0,onClick:n,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:s,children:""})]})}));$6.displayName="A05DialogEditButtons";$6.propTypes={onSave:l.func,loading:l.bool};const QCe=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,onDelete:o,onSideDrawerOpen:s,...i}=e;return r.jsxs(a.Fragment,{ref:t,...i,children:[o&&r.jsx(hn,{startIcon:r.jsx(Fs,{}),color:"secondary",onClick:o,children:""}),n&&r.jsx(hn,{startIcon:r.jsx(bo,{}),color:"primary",onClick:n,children:""}),r.jsx(jr,{title:"",children:r.jsx(br,{onClick:s,size:"small",children:r.jsx(Po,{})})})]})}));QCe.propTypes={onEdit:l.func,onDelete:l.func,onSideDrawerOpen:l.func};const YCe=e=>{const{...t}=e,n=a.useContext(Xd),o=Ke();return n.itemDataReady?n.editing?r.jsx($6,{onSave:o.handleSubmit(n.onEditorSubmit,n.onEditorSubmitError),onCancel:n.updating?n.confirmReturn:n.confirmQuitCreating,loading:n.editWorking,...t}):r.jsx(QCe,{onEdit:n.canUpdate?n.promptUpdating:null,onDelete:n.canDelete?n.confirmDelete:null,onSideDrawerOpen:n.handleSideDrawerOpen,...t}):!1};YCe.displayName="A05DialogButtonsContainer";const B6=a.memo(e=>{var s,i;const{anchor:t="right",...n}=e,o=a.useContext(Xd);return r.jsxs(Eo,{anchor:t,open:o.sideDrawerOpen,onClose:o.handleSideDrawerClose,...n,children:[r.jsx(pn,{label:"",children:(s=o.itemData)==null?void 0:s.WriteDate_N}),r.jsx(pn,{label:"",children:(i=o.itemData)==null?void 0:i.Writer_N})]})});B6.propTypes={anchor:l.string};B6.displayName="A05Drawer";const JCe=a.forwardRef((e,t)=>{const{...n}=e,{height:o}=Wt(),s=a.useMemo(()=>o-120,[o]),i=vt(`
		FactID,
		FactData,
		AbbrName,
		Boss,
		Contact,
		Tel,
		Uniform,
		PayGroup,
		bank,
		BankAcct,
		CompAddr,
		CompTel,
		CompFax,
		TaxType,
		FactAddr,
		FactTel,
		FactFax,
		mainProd,
		remark
		`),c=at({defaultValues:{}}),{reset:u}=c,d=a.useContext(Xd),p=a.useMemo(()=>d.creating?"":d.updating?"":"",[d.creating,d.updating]),m=Qr({maxHeight:s,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),f=a.useCallback(()=>{d.editing&&c.handleSubmit(d.onEditorSubmit,d.onEditorSubmitError)()},[d.editing,d.onEditorSubmit,d.onEditorSubmitError,c]);return $t(["Control+Enter"],()=>setTimeout(f),{enableOnFormTags:!0}),mn(()=>{d.itemDataReady&&(console.log("a05 form reset",d.itemData),u(d.itemData))},[d.itemData,d.itemDataReady]),r.jsx(Ye,{...c,children:r.jsxs(Er,{title:p,ref:t,responsive:!0,fullWidth:!0,maxWidth:"md",TitleButtonsComponent:YCe,open:d.itemViewOpen,onClose:d.editing?d.confirmDialogClose:d.cancelAction,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[m.scroller],...n,children:[r.jsx(Ct,{...i,children:r.jsx(L6,{ref:t,onSubmit:f,editing:d.editing,updating:d.updating,readWorking:d.readWorking,readError:d.readError,data:d.itemData,itemDataReady:d.itemDataReady})}),r.jsx(B6,{BackdropProps:{sx:[ur.BACKDROP_TRANSPARENT]}})]})})});JCe.displayName="A05DialogContainer";const Hk=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:6,sm:4,...t})};Hk.propTypes={loading:l.bool,children:l.oneOfType([l.node])};Hk.displayName="A05IDColumn";const Gk=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:17,sm:9,...t})};Gk.propTypes={loading:l.bool,children:l.oneOfType([l.node])};Gk.displayName="A05NameColumn";const Kk=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:9,sx:{display:{xs:"none",sm:"block"}},...t})};Kk.propTypes={loading:l.bool,children:l.oneOfType([l.node])};Kk.displayName="A05BankColumn";const W6=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsxs(io,{ref:t,...n,children:[r.jsx(Hn,{}),r.jsx(Hk,{children:""}),r.jsx(Gk,{children:""}),r.jsx(Kk,{children:""})]})}));W6.propTypes={};W6.displayName="A05ListHeader";const U6=a.memo(e=>{const{index:t,style:n,value:o,onClick:s}=e,{BankID:i,BankData_N:c}=o||{},u=a.useMemo(()=>[i,c].filter(Boolean).join(" "),[c,i]);return r.jsx("div",{style:n,children:r.jsx(yo,{borderBottom:!0,onClick:s,children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t}),r.jsx(Hk,{children:o==null?void 0:o.FactID}),r.jsx(Gk,{children:o==null?void 0:o.FactData}),r.jsx(Kk,{children:u})]})})})});U6.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func};U6.displayName="A05ListRow";const q6=e=>{var u;const{index:t,...n}=e,o=a.useContext(Xd),s=a.useMemo(()=>o.listData[t],[o.listData,t]),i=a.useMemo(()=>!s,[s]),c=a.useMemo(()=>{var d;return(s==null?void 0:s.FactID)===((d=o.selectedItem)==null?void 0:d.FactID)},[(u=o.selectedItem)==null?void 0:u.FactID,s==null?void 0:s.FactID]);return r.jsx(No,{loading:i,children:r.jsx(U6,{index:t,value:s,onClick:d=>o.handleSelect(d,s),selected:c,...n})})};q6.propTypes={index:l.number,data:l.object};q6.displayName="A05ListRowContainer";const XCe=()=>{const e=a.useContext(Xd),{loadList:t}=e,n=Ke(),{getValues:o,setValue:s}=n,{height:i}=Wt(),c=Ue({name:"qs",control:n.control}),u=Gr(c,300);En(()=>{e.loadList()},[]),mn(()=>{if(console.log(`debouncedQs: ${u}`),u!==void 0){const p=o();t({params:{...p,qs:u},supressLoading:!0}),s("qs",u)}},[u]);const d=a.useMemo(()=>i?i-162:300,[i]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:q6,height:d,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};XCe.displayName="A05ListViewContainer";const Ujt=e=>{const{BankID:t,BankData_N:n,MainProd:o=[],Remark:s=[],...i}=e;return{bank:t?{CodeID:t,CodeData:n}:null,mainProd:o.join(`
`),remark:s.join(`
`),...i}},qjt=e=>{const{bank:t,mainProd:n,remark:o,...s}=e;return{BankID:(t==null?void 0:t.CodeID)||"",MainProd:n.split(`
`),Remark:o.split(`
`),...s}},Vjt=e=>Gn.isAnyPropNotEmpty(e,"lvId,lvName,lvBank"),zjt=e=>{const{lvId:t,lvName:n,lvBank:o,...s}=e;return{si:t,sn:n,...o&&{bank:o==null?void 0:o.CodeID},...s}},Hjt=e=>{const t=[];return e!=null&&e.si&&t.push({ShowName:"",OpCode:"LIKE",CondData:"%"+e.si+"%"}),e!=null&&e.sn&&t.push({ShowName:"",OpCode:"LIKE",CondData:"%"+e.sn+"%"}),e!=null&&e.bank&&t.push({ShowName:"",OpCode:"=",CondData:e.bank}),{StdWhere:t,...(e==null?void 0:e.qs)&&{CondData:{QS_ID:`${e.qs}%`,QS_NAME:`%${e.qs}%`}}}},RI={transformForReading:Ujt,transformForEditorSubmit:qjt,paramsToJsonData:Hjt,isFiltered:Vjt,transformAsQueryParams:zjt},ZCe=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(Xd),{moduleAuthorityLoading:s,canCreate:i}=o,c=a.useMemo(()=>"",[]);return s||!i?!1:r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(Ao,{}),onClick:o.handlePromptCreating,sx:{fontWeight:600},...n,children:c})}));ZCe.displayName="A05CreateButtonContainer";const eDe=()=>{const e=a.useContext(Xd);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};eDe.displayName="A05FetchResultLabelContainer";const V6=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(Vo),s=a.useContext(Xd),{moduleAuthorityLoading:i,canPrint:c}=s;return i||!c?!1:r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(cs,{}),sx:{fontWeight:600},onClick:o.promptPrint,color:"neutral",...n,children:""})}));V6.propTypes={};V6.displayName="A05PrintButtonContainer";const tDe=a.memo(()=>r.jsxs(r.Fragment,{children:[r.jsx(ZCe,{}),r.jsx(V6,{})]}));tDe.displayName="LeftButtons";const nDe=a.memo(a.forwardRef(({...e},t)=>r.jsx(kn,{alignItems:"flex-end",ref:t,LeftComponent:tDe,RightComponent:eDe,...e})));nDe.displayName="A05ListViewToolbar";const z6=a.memo(e=>{const{...t}=e;return r.jsx(Pt,{children:r.jsxs(Vt,{container:!0,spacing:1,columns:24,...t,children:[r.jsx(Vt,{item:!0,xs:24,sm:24,md:4,children:r.jsx($e,{autoFocus:!0,name:"lvId",label:"",variant:"outlined",size:"small",fullWidth:!0,clearable:!0})}),r.jsx(Vt,{item:!0,xs:24,sm:24,md:4,children:r.jsx($e,{name:"lvName",label:"",variant:"outlined",size:"small",fullWidth:!0,clearable:!0})}),r.jsx(Vt,{item:!0,xs:24,sm:24,md:4,children:r.jsx(au,{name:"lvBank",label:"",disableOpenOnInput:!0})})]})})});z6.propTypes={};z6.displayName="A05SearchForm";const rDe=a.memo(a.forwardRef((e,t)=>{const{width:n="40ch",onClose:o,onReset:s,ContentProps:i,...c}=e;return r.jsxs(sm,{width:n,ref:t,children:[r.jsx(am,{onClose:o,children:""}),r.jsx(ta,{sx:{mt:0,mb:0}}),r.jsx(tm,{...i,children:r.jsx(z6,{initSize:"xs",spacing:2})}),r.jsx(ta,{}),r.jsxs(em,{children:[r.jsx(dt,{size:"small",variant:"outlined",color:"primary",onClick:s,children:""}),r.jsx(dt,{startIcon:r.jsx(Xh,{}),type:"submit",variant:"contained",children:""})]})]})}));rDe.displayName="A05SearchPopper";const oDe=a.forwardRef(({...e},t)=>{const n=a.useContext(Xd),o=Ke(),s=vt(`
		lvId,
		lvName,
		lvBank,
		`);return r.jsx(Ct,{...s,children:r.jsx(rDe,{ref:t,onClose:n.handlePopperClose,onReset:n.handleReset({reset:o.reset}),...e})})});oDe.displayName="A05SearchPopperContainer";const H6=e=>{const{name:t="qs",...n}=e,o=Ke(),{getValues:s}=o,i=a.useContext(Xd),c=a.useRef(null),u=ru({inputRef:c,onChange:m=>{o.setValue(t,m)}});$t("ctrl+F12",u.handleFocus,{enableOnFormTags:!0});const d=$t("esc",u.handleClear,{enableOnFormTags:!0}),p=a.useMemo(()=>o.handleSubmit(i.onSearchSubmit,i.onSearchSubmitError),[i.onSearchSubmit,i.onSearchSubmitError,o]);return $t(["Shift+Enter","Control+Enter"],()=>setTimeout(p),{enableOnFormTags:!0}),r.jsx("form",{onSubmit:p,children:r.jsx("div",{ref:d,children:r.jsx(su,{autoFocus:!0,name:t,placeholder:"/(ctrl+F12)",mobilePlaceholder:"/",borderRadius:"8px",maxWidth:"32ch",responsive:!0,inputRef:c,onClear:u.handleClear,Popper:!0,PopperComponent:oDe,popperOpen:i.popperOpen,onPopperToggle:i.handlePopperToggle,onPopperOpen:i.handlePopperOpen,onPopperClose:i.handlePopperClose,filtered:RI.isFiltered(s())})})})};H6.propTypes={name:l.string};H6.displayName="SupplierSearchFieldContainer";const sDe=()=>{const e=at();return r.jsx(Ye,{...e,children:r.jsx(Ft,{children:r.jsxs(ws,{tableName:"FactFile",paramsToJsonData:RI.paramsToJsonData,children:[r.jsx(_t,{children:r.jsx(H6,{name:"qs"})}),r.jsx(nDe,{}),r.jsx(W6,{}),r.jsx(XCe,{}),r.jsx(JCe,{}),r.jsx(Is,{})]})})})};sDe.displayName="A05Frame";const Gjt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),G6=a.memo(e=>{const{canCreate:t,lockRows:n,gridRef:o,data:s,loading:i,height:c=300,columns:u,onChange:d,isPersisted:p}=e,m=a.useMemo(()=>c+(n||!t?48:0),[t,c,n]);return i?r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(Ko,{height:c})}):i==null?!1:r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(jt,{children:r.jsx(dr,{lockRows:n,ref:o,rowKey:"CodeID",height:m,value:s,onChange:d,columns:u,addRowsComponent:t?go:null,disableExpandSelection:!0,contextMenuComponent:Gjt})})})});G6.propTypes={columns:l.array,lockRows:l.bool,gridRef:l.func,drawerOpen:l.bool,data:l.array,loading:l.bool,height:l.number,onChange:l.func,isPersisted:l.func};G6.displayName="A09Grid";const aDe=()=>{const{height:e}=Wt(),t=a.useContext(Ok),n=a.useMemo(()=>t.codeEditor.buildGridChangeHandler({onCreate:t.codeEditor.handleCreate,onUpdate:t.codeEditor.handleUpdate,onDelete:t.canDelete?t.codeEditor.handleConfirmDelete:null,onDuplicatedError:t.codeEditor.handleDuplicatedError}),[t]),o=a.useMemo(()=>t.gridMeta.buildSelectionChangeHandler({}),[t.gridMeta]);return r.jsx(Kn.Provider,{value:{...t.gridMeta},children:r.jsx(G6,{lockRows:t.grid.readOnly,gridRef:t.gridMeta.setGridRef,data:t.grid.gridData,loading:t.grid.gridLoading,height:e-176,onChange:n,onSelectionChange:o,onActiveCellChange:t.gridMeta.handleActiveCellChange,canCreate:t.canCreate})})};aDe.displayName="A09GridContainer";const iDe=e=>{const{...t}=e,n=a.useContext(Ok);return r.jsx(Ts,{unlockedLabel:"",locked:n.grid.readOnly,onChange:n.grid.toggleReadOnly,disabled:!n.canUpdate,...t})};iDe.displayName="A09LockRowsSwitchContainer";const K6=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(Vo),s=a.useContext(Ok);return s.moduleAuthorityLoading||!s.canPrint?!1:r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(cs,{}),sx:{fontWeight:600},onClick:o.promptPrint,color:"neutral",...n,children:""})}));K6.propTypes={};K6.displayName="A09PrintButtonContainer";const Q6=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(kn,{ref:t,bgcolor:Nn.TOOLBAR,LeftComponent:K6,RightComponent:iDe,...n})})}));Q6.propTypes={};Q6.displayName="A09Toolbar";const Y6=a.memo(()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsxs(jt,{children:[r.jsx(Q6,{}),r.jsx(aDe,{})]})]}));Y6.propTypes={drawerOpen:l.bool,boxStyles:l.oneOfType([l.array,l.object])};Y6.displayName="A09Frame";const lDe=()=>r.jsxs(ws,{tableName:"LineCod",children:[r.jsx(Y6,{}),r.jsx(Is,{})]});lDe.displayName="A09Frame";const Kjt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),J6=a.memo(e=>{const{canCreate:t,lockRows:n,gridRef:o,data:s,loading:i,height:c=300,onChange:u}=e,d=a.useMemo(()=>c+(n||!t?48:0),[t,c,n]);return i?r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(Ko,{height:c})}):i==null?!1:r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(dr,{lockRows:n,ref:o,rowKey:"CodeID",height:d,value:s,onChange:u,addRowsComponent:t?go:null,disableExpandSelection:!0,contextMenuComponent:Kjt})})});J6.propTypes={canCreate:l.bool,lockRows:l.bool,gridRef:l.func,drawerOpen:l.bool,data:l.array,loading:l.bool,height:l.number,onChange:l.func};J6.displayName="A10Grid";const cDe=()=>{const{height:e}=Wt(),t=a.useContext(Ek),n=a.useMemo(()=>t.codeEditor.buildGridChangeHandler({onCreate:t.codeEditor.handleCreate,onUpdate:t.codeEditor.handleUpdate,onDelete:t.canDelete?t.codeEditor.handleConfirmDelete:null,onDuplicatedError:t.codeEditor.handleDuplicatedError}),[t.canDelete,t.codeEditor]),o=a.useMemo(()=>t.gridMeta.buildSelectionChangeHandler({}),[t]);return r.jsx(Kn.Provider,{value:{...t.gridMeta},children:r.jsx(J6,{lockRows:t.grid.readOnly,gridRef:t.gridMeta.setGridRef,data:t.grid.gridData,loading:t.grid.gridLoading,height:e-176,onChange:n,onSelectionChange:o,onActiveCellChange:t.gridMeta.handleActiveCellChange,canCreate:t.canCreate})})};cDe.displayName="A10GridContainer";const uDe=e=>{const{...t}=e,n=a.useContext(Ek);return r.jsx(Ts,{unlockedLabel:"",locked:n.grid.readOnly,onChange:n.grid.toggleReadOnly,disabled:!n.canUpdate,...t})};uDe.displayName="A10LockRowsSwitchContainer";const X6=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(Vo),s=a.useContext(Ek);return s.moduleAuthorityLoading||!s.canPrint?!1:r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(cs,{}),sx:{fontWeight:600},onClick:o.promptPrint,color:"neutral",...n,children:""})}));X6.propTypes={};X6.displayName="A10PrintButtonContainer";const Z6=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(kn,{ref:t,bgcolor:Nn.TOOLBAR,LeftComponent:X6,RightComponent:uDe,...n})})}));Z6.propTypes={};Z6.displayName="A10Toolbar";const eU=a.memo(()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsxs(jt,{children:[r.jsx(Z6,{}),r.jsx(cDe,{})]})]}));eU.propTypes={drawerOpen:l.bool,boxStyles:l.oneOfType([l.array,l.object])};eU.displayName="A10Frame";const dDe=()=>r.jsxs(ws,{tableName:"TrafCod",children:[r.jsx(eU,{}),r.jsx(Is,{})]});dDe.displayName="A10Frame";const Qjt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),tU=a.memo(e=>{const{canCreate:t,lockRows:n,gridRef:o,data:s,loading:i,height:c=300,onChange:u}=e,d=a.useMemo(()=>c+(n||!t?48:0),[t,c,n]);return i?r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(Ko,{height:c})}):i==null?!1:r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(jt,{children:r.jsx(dr,{lockRows:n,ref:o,rowKey:"CodeID",height:d,value:s,onChange:u,addRowsComponent:t?go:null,disableExpandSelection:!0,contextMenuComponent:Qjt})})})});tU.propTypes={canCreate:l.bool,lockRows:l.bool,gridRef:l.func,drawerOpen:l.bool,data:l.array,loading:l.bool,height:l.number,onChange:l.func};tU.displayName="A11Grid";const pDe=()=>{const{height:e}=Wt(),t=a.useContext(Pk),n=a.useMemo(()=>t.buildGridChangeHandler({onCreate:t.handleCreate,onUpdate:t.handleUpdate,onDelete:t.canDelete?t.handleConfirmDelete:null,onDuplicatedError:t.handleDuplicatedError}),[t]),o=a.useMemo(()=>t.gridMeta.buildSelectionChangeHandler({}),[t]);return r.jsx(Kn.Provider,{value:{...t.gridMeta},children:r.jsx(tU,{lockRows:t.readOnly,gridRef:t.gridMeta.setGridRef,data:t.gridData,loading:t.gridLoading,height:e-180,onChange:n,onSelectionChange:o,onActiveCellChange:t.gridMeta.handleActiveCellChange,canCreate:t.canCreate})})};pDe.displayName="A11GridContainer";const Yjt=it(bw,{shouldForwardProp:e=>!["nowrap"].includes(e)})(({theme:e,nowrap:t})=>({...t&&{whiteSpace:"nowrap"}}));a.memo(a.forwardRef((e,t)=>{const{label:n="",checkedLabel:o,error:s,helperText:i,checked:c,onChange:u,color:d,...p}=e,m=a.useMemo(()=>c&&o||n,[c,o,n]);return r.jsxs(h3,{children:[r.jsx(Yjt,{nowrap:!0,label:m,error:s,control:r.jsx(BQe,{ref:t,checked:c,onChange:u,sx:[f=>({...d&&{"& .MuiSwitch-switchBase.Mui-checked":{color:d,"&:hover":{backgroundColor:Ti(d,f.palette.action.hoverOpacity)}},"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track":{backgroundColor:d}}})],...p})}),i&&r.jsx(Yp,{error:!!s,children:i})]})}));const mDe=e=>{const{...t}=e,n=a.useContext(Pk);return r.jsx(Ts,{unlockedLabel:"",locked:n.readOnly,onChange:n.toggleReadOnly,disabled:!n.canUpdate,...t})};mDe.displayName="A11LockRowsSwitchContainer";const nU=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(Vo),s=a.useContext(Pk);return s.moduleAuthorityLoading||!s.canPrint?!1:r.jsx(hn,{ref:t,color:"neutral",variant:"contained",startIcon:r.jsx(cs,{}),sx:{fontWeight:600},onClick:o.promptPrint,...n,children:""})}));nU.propTypes={};nU.displayName="A11PrintButtonContainer";const rU=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(kn,{ref:t,bgcolor:Nn.TOOLBAR,LeftComponent:nU,RightComponent:mDe,mb:.5,...n})})}));rU.propTypes={};rU.displayName="A11Toolbar";const oU=a.memo(()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsxs(jt,{children:[r.jsx(rU,{}),r.jsx(pDe,{})]})]}));oU.propTypes={drawerOpen:l.bool,boxStyles:l.oneOfType([l.array,l.object])};oU.displayName="A11Frame";const fDe=()=>r.jsxs(ws,{tableName:"BankCod",children:[r.jsx(oU,{}),r.jsx(Is,{})]});fDe.displayName="A11Frame";const Jjt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),sU=a.memo(e=>{const{canCreate:t,lockRows:n,gridRef:o,data:s,loading:i,height:c=300,onChange:u}=e,d=a.useMemo(()=>c+(n||!t?48:0),[t,c,n]);return i?r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(Ko,{height:c})}):i==null?!1:r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(jt,{children:r.jsx(dr,{lockRows:n,ref:o,rowKey:"CodeID",height:d,value:s,onChange:u,addRowsComponent:t?go:null,disableExpandSelection:!0,contextMenuComponent:Jjt})})})});sU.propTypes={canCreate:l.bool,lockRows:l.bool,gridRef:l.func,drawerOpen:l.bool,data:l.array,loading:l.bool,height:l.number,onChange:l.func,isPersisted:l.func};sU.displayName="A12Grid";const hDe=()=>{const{height:e}=Wt(),t=a.useContext(Rk),n=a.useMemo(()=>t.buildGridChangeHandler({onCreate:t.handleCreate,onUpdate:t.handleUpdate,onDelete:t.handleConfirmDelete,onDuplicatedError:t.handleDuplicatedError}),[t]),o=a.useMemo(()=>t.gridMeta.buildSelectionChangeHandler({}),[t]);return r.jsx(Kn.Provider,{value:{...t.gridMeta},children:r.jsx(sU,{lockRows:t.readOnly,gridRef:t.setGridRef,data:t.gridData,loading:t.gridLoading,height:e-176,onChange:n,onSelectionChange:o,onActiveCellChange:t.handleActiveCellChange,canCreate:t.canCreate})})};hDe.displayName="A12GridContainer";const gDe=e=>{const{...t}=e,n=a.useContext(Rk);return r.jsx(Ts,{unlockedLabel:"",locked:n.readOnly,onChange:n.toggleReadOnly,disabled:!n.canUpdate,...t})};gDe.displayName="A12LockRowsSwitchContainer";const aU=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(Vo),s=a.useContext(Rk);return s.moduleAuthorityLoading||!s.canPrint?!1:r.jsx(hn,{ref:t,color:"neutral",variant:"contained",startIcon:r.jsx(cs,{}),sx:{fontWeight:600},onClick:o.promptPrint,...n,children:""})}));aU.propTypes={};aU.displayName="A12PrintButtonContainer";const iU=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(kn,{ref:t,bgcolor:Nn.TOOLBAR,LeftComponent:aU,RightComponent:gDe,...n})})}));iU.propTypes={};iU.displayName="A12Toolbar";const lU=a.memo(()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsxs(jt,{children:[r.jsx(iU,{}),r.jsx(hDe,{})]})]}));lU.propTypes={drawerOpen:l.bool,boxStyles:l.oneOfType([l.array,l.object])};lU.displayName="A12Frame";const bDe=()=>r.jsxs(ws,{tableName:"RecvCod",children:[r.jsx(lU,{}),r.jsx(Is,{})]});bDe.displayName="A12Frame";const Xjt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),cU=a.memo(e=>{const{canCreate:t,lockRows:n,gridRef:o,data:s,loading:i,height:c=300,onChange:u}=e,d=a.useMemo(()=>c+(n||!t?48:0),[t,c,n]);return i?r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(Ko,{height:c})}):i==null?!1:r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(dr,{lockRows:n,ref:o,rowKey:"CodeID",height:d,value:s,onChange:u,addRowsComponent:t?go:null,disableExpandSelection:!0,contextMenuComponent:Xjt})})});cU.propTypes={canCreate:l.bool,lockRows:l.bool,gridRef:l.func,drawerOpen:l.bool,data:l.array,loading:l.bool,height:l.number,onChange:l.func,isPersisted:l.func};cU.displayName="A13Grid";const xDe=()=>{const{height:e}=Wt(),t=a.useContext(wk),n=a.useMemo(()=>t.buildGridChangeHandler({onCreate:t.handleCreate,onUpdate:t.handleUpdate,onDelete:t.canDelete?t.handleConfirmDelete:null,onDuplicatedError:t.handleDuplicatedError}),[t]),o=a.useMemo(()=>t.buildSelectionChangeHandler({}),[t]);return r.jsx(Kn.Provider,{value:{...t.gridMeta},children:r.jsx(cU,{lockRows:t.readOnly,gridRef:t.setGridRef,data:t.gridData,loading:t.gridLoading,height:e-176,onChange:n,onSelectionChange:o,onActiveCellChange:t.handleActiveCellChange,canCreate:t.canCreate})})};xDe.displayName="A13GridContainer";const yDe=e=>{const{...t}=e,n=a.useContext(wk);return r.jsx(Ts,{unlockedLabel:"",locked:n.readOnly,onChange:n.toggleReadOnly,disabled:!n.canUpdate,...t})};yDe.displayName="A13LockRowsSwitchContainer";const uU=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(Vo),s=a.useContext(wk);return s.moduleAuthorityLoading||!s.canPrint?!1:r.jsx(hn,{ref:t,color:"neutral",variant:"contained",startIcon:r.jsx(cs,{}),sx:{fontWeight:600},onClick:o.promptPrint,...n,children:""})}));uU.propTypes={};uU.displayName="A13PrintButtonContainer";const dU=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(kn,{ref:t,bgcolor:Nn.TOOLBAR,LeftComponent:uU,RightComponent:yDe,...n})})}));dU.propTypes={};dU.displayName="A13Toolbar";const pU=a.memo(()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsxs(jt,{children:[r.jsx(dU,{}),r.jsx(xDe,{})]})]}));pU.propTypes={drawerOpen:l.bool,boxStyles:l.oneOfType([l.array,l.object])};pU.displayName="A13Frame";const CDe=()=>r.jsxs(ws,{tableName:"PDlineCod",children:[r.jsx(pU,{}),r.jsx(Is,{})]});CDe.displayName="A13Frame";const Zjt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),mU=a.memo(e=>{const{canCreate:t,lockRows:n,gridRef:o,data:s,loading:i,height:c=300,onChange:u,createRow:d}=e,p=a.useMemo(()=>c+(n||!t?48:0),[t,c,n]);return i?r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(Ko,{height:c})}):i==null?!1:r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(dr,{lockRows:n,ref:o,rowKey:"CodeID",height:p,value:s,onChange:u,addRowsComponent:t?go:null,disableExpandSelection:!0,contextMenuComponent:Zjt,createRow:d})})});mU.propTypes={canCreate:l.bool,lockRows:l.bool,gridRef:l.func,drawerOpen:l.bool,data:l.array,loading:l.bool,height:l.number,onChange:l.func,isPersisted:l.func,handleActiveCellChange:l.func,createRow:l.func};mU.displayName="A14Grid";const DDe=()=>{const{height:e}=Wt(),t=a.useContext(kk),n=a.useMemo(()=>t.buildGridChangeHandler({onCreate:t.handleCreate,onUpdate:t.handleUpdate,onDelete:t.canDelete?t.handleConfirmDelete:null,onDuplicatedError:t.handleDuplicatedError}),[t]),o=a.useMemo(()=>t.buildSelectionChangeHandler({}),[t]),s=a.useMemo(()=>e-182,[e]);return r.jsx(Kn.Provider,{value:{...t.gridMeta},children:r.jsx(mU,{lockRows:t.readOnly,gridRef:t.gridRef,setGridRef:t.setGridRef,data:t.gridData,loading:t.gridLoading,height:s,onChange:n,onSelectionChange:o,onActiveCellChange:t.handleActiveCellChange,canCreate:t.canCreate,createRow:t.createRow})})};DDe.displayName="A14GridContainer";const SDe=e=>{const{...t}=e,n=a.useContext(kk);return r.jsx(Ts,{unlockedLabel:"",locked:n.readOnly,onChange:n.toggleReadOnly,...t})};SDe.displayName="A14LockRowsSwitchContainer";const fU=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(Vo),s=a.useContext(kk);return s.moduleAuthorityLoading||!s.canPrint?!1:r.jsx(hn,{ref:t,color:"neutral",variant:"contained",startIcon:r.jsx(cs,{}),sx:{fontWeight:600},onClick:o.promptPrint,...n,children:""})}));fU.propTypes={};fU.displayName="A14PrintButtonContainer";const hU=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(kn,{ref:t,bgcolor:Nn.TOOLBAR,LeftComponent:fU,RightComponent:SDe,...n})})}));hU.propTypes={};hU.displayName="A14Toolbar";const gU=a.memo(()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsxs(jt,{children:[r.jsx(hU,{}),r.jsx(DDe,{})]})]}));gU.propTypes={drawerOpen:l.bool,boxStyles:l.oneOfType([l.array,l.object])};gU.displayName="A14Frame";const vDe=()=>r.jsxs(ws,{tableName:"ReasonCod",children:[r.jsx(gU,{}),r.jsx(Is,{})]});vDe.displayName="A14Frame";const e1t=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),bU=a.memo(e=>{const{canCreate:t,lockRows:n,gridRef:o,data:s,loading:i,height:c=300,onChange:u,createRow:d}=e,p=a.useMemo(()=>c+(n||!t?48:0),[t,c,n]);return i?r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(Ko,{height:c})}):i==null?!1:r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(dr,{lockRows:n,ref:o,rowKey:"CodeID",height:p,value:s,onChange:u,addRowsComponent:t?go:null,disableExpandSelection:!0,contextMenuComponent:e1t,createRow:d})})});bU.propTypes={canCreate:l.bool,lockRows:l.bool,gridRef:l.func,drawerOpen:l.bool,data:l.array,loading:l.bool,height:l.number,onChange:l.func,createRow:l.func};bU.displayName="A15Grid";const jDe=()=>{const{height:e}=Wt(),t=a.useContext(Ak),n=a.useMemo(()=>t.buildGridChangeHandler({onCreate:t.handleCreate,onUpdate:t.handleUpdate,onDelete:t.canDelete?t.handleConfirmDelete:null,onDuplicatedError:t.handleDuplicatedError}),[t]),o=a.useMemo(()=>t.buildSelectionChangeHandler({}),[t]),s=a.useMemo(()=>e-166,[e]);return r.jsx(Kn.Provider,{value:{...t.gridMeta},children:r.jsx(bU,{lockRows:t.readOnly,gridRef:t.setGridRef,data:t.gridData,loading:t.gridLoading,height:s,onChange:n,onSelectionChange:o,onActiveCellChange:t.handleActiveCellChange,canCreate:t.canCreate,createRow:t.createRow})})};jDe.displayName="A15GridContainer";const IDe=e=>{const{...t}=e,n=a.useContext(Ak);return r.jsx(Ts,{unlockedLabel:"",locked:n.readOnly,onChange:n.toggleReadOnly,...t})};IDe.displayName="A15LockRowsSwitchContainer";const xU=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(Vo),s=a.useContext(Ak);return s.moduleAuthorityLoading||!s.canPrint?!1:r.jsx(hn,{ref:t,color:"neutral",variant:"contained",startIcon:r.jsx(cs,{}),sx:{fontWeight:600},onClick:o.promptPrint,...n,children:""})}));xU.propTypes={};xU.displayName="A15PrintButtonContainer";const yU=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(kn,{ref:t,bgcolor:Nn.TOOLBAR,LeftComponent:xU,RightComponent:IDe,...n})})}));yU.propTypes={};yU.displayName="A15Toolbar";const CU=a.memo(()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsxs(jt,{children:[r.jsx(yU,{}),r.jsx(jDe,{})]})]}));CU.propTypes={drawerOpen:l.bool,boxStyles:l.oneOfType([l.array,l.object])};CU.displayName="A15Frame";const TDe=()=>r.jsxs(ws,{tableName:"EmplCod",children:[r.jsx(CU,{}),r.jsx(Is,{})]});TDe.displayName="A15Frame";const t1t=e=>({StdWhere:[],...(e==null?void 0:e.qs)&&{CondData:{QS_ID:`${e.qs}%`,QS_NAME:`%${e.qs}%`}}}),n1t={paramsToJsonData:t1t},r1t=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),DU=a.memo(e=>{const{readOnly:t,gridRef:n,data:o,loading:s,height:i=300,onChange:c,onSelectionChange:u,onActiveCellChange:d,...p}=e;return s?r.jsx(Et,{maxWidth:"md",alignLeft:!0,children:r.jsx(Ko,{height:i})}):s==null?!1:r.jsx(Et,{maxWidth:"md",alignLeft:!0,children:r.jsx(dr,{lockRows:t,ref:n,rowKey:"id",height:i+(t?48:0),value:o,onChange:c,onSelectionChange:u,onActiveCellChange:d,addRowsComponent:go,disableExpandSelection:!0,contextMenuComponent:r1t,...p})})});DU.propTypes={readOnly:l.bool,gridRef:l.func,drawerOpen:l.bool,data:l.array,loading:l.bool,height:l.number,onChange:l.func,onSelectionChange:l.func,onActiveCellChange:l.func};DU.displayName="A16GGrid";const ODe=()=>{const{height:e}=Wt(),t=a.useContext(Nk),n=a.useMemo(()=>t.buildGridChangeHandler({onCreate:t.handleCreate,onUpdate:t.handleUpdate,onPatch:t.handlePatch,onDelete:t.handleConfirmDelete,onDuplicatedError:t.handleDuplicatedError}),[t]),o=a.useMemo(()=>t.buildSelectionChangeHandler({}),[t]);return r.jsx(Kn.Provider,{value:{...t.gridMeta},children:r.jsx(DU,{readOnly:t.readOnly,gridRef:t.setGridRef,data:t.gridData,loading:t.gridLoading,onChange:n,height:e-176,onSelectionChange:o,createRow:t.createRow})})};ODe.displayName="A16GGridContainer";const EDe=e=>{const{...t}=e,n=a.useContext(Nk);return r.jsx(Ts,{unlockedLabel:"",locked:n.readOnly,onChange:n.toggleReadOnly,...t})};EDe.displayName="A16GLockRowsSwitchContainer";const SU=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(Vo),s=a.useContext(Nk);return s.moduleAuthorityLoading||!s.canPrint?!1:r.jsx(hn,{ref:t,color:"neutral",variant:"contained",startIcon:r.jsx(cs,{}),sx:{fontWeight:600},onClick:o.promptPrint,...n,children:""})}));SU.propTypes={};SU.displayName="A16GPrintButtonContainer";const vU=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(Et,{maxWidth:"md",alignLeft:!0,children:r.jsx(kn,{ref:t,bgcolor:Nn.TOOLBAR,LeftComponent:SU,RightComponent:EDe,...n})})}));vU.propTypes={};vU.displayName="A16GToolbar";const jU=a.memo(()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsxs(jt,{children:[r.jsx(vU,{}),r.jsx(ODe,{})]})]}));jU.propTypes={drawerOpen:l.bool,boxStyles:l.object};jU.displayName="A16GFrame";const PDe=()=>r.jsxs(ws,{tableName:"AppDept",paramsToJsonData:n1t.paramsToJsonData,children:[r.jsx(jU,{}),r.jsx(Is,{})]});PDe.displayName="A16GFrameContainer";const wa=a.memo(e=>{console.log("rendering AppDeptPicker");const{scope:t,scopeByOperator:n,disableByClass:o,disabled:s,...i}=e,{token:c,operator:u}=a.useContext(Be),d=a.useMemo(()=>Hr.stringify({...t!=null&&{sp:t},...n&&{as:1}}),[n,t]),p=a.useMemo(()=>s?!0:o==null?!1:u.Class<o,[o,s,u.Class]);return r.jsx(bt,{bearer:c,url:"v1/app/depts",getOptionLabel:vi.getOptionLabel,isOptionEqualToValue:vi.isOptionEqualToValue,getOptionKey:vi.getOptionKey,querystring:d,clearOnChange:!0,disabled:p,...i})});wa.propTypes={uid:l.string,scope:l.number,disabled:l.bool,scopeByOperator:l.bool,disableByClass:l.number};wa.displayName="AppDeptPicker";const IU=a.memo(e=>{const{readMessage:t,readWorking:n,itemDataReady:o,editing:s,updating:i,readFailed:c,readError:u,handleDeptChanged:d,...p}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsxs("form",{...p,children:[c&&r.jsx(TD,{error:u}),r.jsx(Pt,{pt:0,children:r.jsx(Xt,{editing:!0,pb:1,children:r.jsxs(j,{container:!0,columns:12,spacing:s?2:1,children:[r.jsx(j,{item:!0,xs:12,children:r.jsx(wa,{label:"",name:"dept",onChanged:d,disabled:!0,scope:Tn.SCOPES.BRANCH_HQ})}),n&&r.jsx(ve,{justifyContent:"center",mt:"20%",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})}),o&&r.jsx(j,{item:!0,xs:12,children:r.jsx($e,{type:"password",typo:!0,name:"StockPword",label:"",autoFocus:!0,fullWidth:!0})})]})})})]})})});IU.propTypes={readWorking:l.bool,itemDataReady:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,handleDeptChanged:l.func};IU.displayName="A17Form";const RDe=()=>{const e=a.useContext(Fk),{loadItem:t,itemDataReady:n,itemData:o}=e,{operator:s}=a.useContext(Be),{reset:i}=Ke();return En(()=>{s!=null&&s.CurDeptID&&t(s.CurDeptID)},[s==null?void 0:s.CurDeptID]),a.useEffect(()=>{n&&i(o)},[o,n,i]),r.jsx(IU,{readWorking:e.readWorking,readError:e.readError,readMessage:e.readMessage,itemDataReady:e.itemDataReady,editing:e.editing,updating:e.updating,readFailed:e.readFailed,handleDeptChanged:e.handleDeptChanged})};RDe.displayName="A17FormContainer";const TU=a.memo(a.forwardRef((e,t)=>{const{onSave:n,editWorking:o,onCancel:s,...i}=e;return r.jsxs(a.Fragment,{ref:t,...i,children:[r.jsx(dt,{responsive:!0,onClick:s,variant:"outlined",color:"warning",children:""}),r.jsx(dt,{responsive:!0,onClick:n,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:o,children:""})]})}));TU.displayName="A17FormEditButtons";TU.propTypes={onSave:l.func,onCancel:l.func,editWorking:l.bool};var tj={},$le;function o1t(){if($le)return tj;$le=1;var e=Qn();Object.defineProperty(tj,"__esModule",{value:!0}),tj.default=void 0;var t=e(sr()),n=rr();return tj.default=(0,t.default)((0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),tj}var s1t=o1t();const im=qn(s1t),wDe=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,...o}=e;return r.jsx(a.Fragment,{ref:t,...o,children:n&&r.jsx(hn,{variant:"contained",startIcon:r.jsx(bo,{}),color:"primary",onClick:n,children:""})})}));wDe.propTypes={onEdit:l.func,onDelete:l.func};const kDe=()=>{const e=a.useContext(Fk);return e.editing?r.jsx(TU,{onSave:e.handleSubmit,onCancel:e.cancelEditing,editWorking:e.editWorking}):r.jsx(wDe,{onEdit:e.canUpdate?e.promptUpdating:null})};kDe.displayName="A17FormButtonsContainer";const OU=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(kn,{ref:t,bgcolor:Nn.TOOLBAR,LeftComponent:kDe,...n})})}));OU.propTypes={};OU.displayName="A17Toolbar";const a1t=(e,t)=>{const n=a.useRef(!1);return a.useEffect(()=>()=>{console.log("unmount"),n.current||(n.current=!0,e())},[e,...t]),[n.current]},ADe=()=>{const e=a.useContext(Fk);return a1t(()=>{e.cancelAction()},[]),r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(OU,{}),r.jsx(RDe,{})]})};ADe.displayName="A17Frame";const lO=e=>{const{label:t="",...n}=e,{token:o}=a.useContext(Be),s=a.useMemo(()=>{const p={tp:1e3};return Hr.stringify(p)},[]),i=a.useCallback((p,m)=>(p==null?void 0:p.UID)===(m==null?void 0:m.UID),[]),c=a.useCallback(p=>p.data,[]),u=a.useCallback(p=>`${p==null?void 0:p.UserName} ${p==null?void 0:p.LoginName}`,[]),d=a.useCallback(p=>`${p==null?void 0:p.UID}`,[]);return r.jsx(bt,{label:t,bearer:o,url:"v1/ou/users",queryParam:"q",querystring:s,getOptionLabel:u,isOptionEqualToValue:i,getOptions:c,getOptionKey:d,...n})};lO.displayName="DeptUserPicker";lO.propTypes={label:l.string};const i1t=e=>{if(!e)return"";const{JobID:t,JobName:n}=e;return[t,n].filter(Boolean).join(" ")},l1t=e=>{if(!e)return"";const{JobID:t}=e;return`${t}`},c1t=(e,t)=>(e==null?void 0:e.JobID)===(t==null?void 0:t.JobID),u1t=e=>e==null?void 0:e.JobID,gP={getOptionLabel:i1t,getOptionLabelForId:l1t,isOptionEqualToValue:c1t,getOptionKey:u1t},EU=a.memo(e=>{const{label:t="",forId:n=!1,...o}=e,s=a.useContext(Be),i=a.useCallback(d=>d.data,[]),c=a.useMemo(()=>Hr.stringify({}),[]),u=a.useCallback(d=>n?gP.getOptionLabelForId(d):gP.getOptionLabel(d),[n]);return r.jsx(bt,{label:t,url:"v1/app/modules",bearer:s.token,getOptionLabel:u,renderOptionLabel:gP.getOptionLabel,isOptionEqualToValue:gP.isOptionEqualToValue,getOptions:i,querystring:c,notFoundText:" ${input} ",...o})});EU.propTypes={label:l.string,uid:l.string,scope:l.number,excludesSelf:l.bool,forId:l.bool};EU.displayName="JobPicker";const d1t=e=>{if(!e)return"";const{RealName:t}=e;return`${t}`},p1t=(e,t)=>(e==null?void 0:e.RealFile)===(t==null?void 0:t.RealFile),Ble={getOptionLabel:d1t,isOptionEqualToValue:p1t},PU=a.memo(e=>{console.log("rendering RealFilePicker");const{name:t,label:n="",...o}=e,{token:s}=a.useContext(Be);return r.jsx(bt,{name:t,label:n,bearer:s,url:"v1/app/entities",getOptionLabel:Ble.getOptionLabel,isOptionEqualToValue:Ble.isOptionEqualToValue,...o})});PU.propTypes={name:l.string,label:l.string,children:l.node};PU.displayName="RealFilePicker";function RU({children:e,legend:t,required:n,disabled:o}){return r.jsxs(Ns,{component:"fieldset",className:"field-group",sx:s=>({border:"1px solid rgba(0, 0, 0, 0.23)",borderRadius:"4px",padding:"0 7px 4px 7px",margin:0,marginTop:-1,...!o&&{"&:hover":{borderColor:"rgba(0, 0, 0, 0.87)"}},"&:focus-within":{borderColor:s.palette.primary.main,borderWidth:"2px",padding:"0 6px 3px 6px","& legend":{color:s.palette.primary.main,fontWeight:600}},...n&&{borderColor:Nn.REQUIRED},backgroundColor:"rgb(255,255,255)",...o&&{backgroundColor:"rgba(0, 0, 0, 0.05)"}}),children:[t&&r.jsx(Ns,{component:"legend",sx:{fontSize:"0.75rem",lineHeight:"1.1em",padding:"0 4px",color:"rgba(0, 0, 0, 0.6)",...n&&{color:Nn.REQUIRED}},className:"field-group-legend",children:t}),r.jsx(Ns,{sx:{display:"flex",gap:"8px",marginTop:"-1px",marginBottom:"1px"},className:"field-group-body",children:e})]})}RU.propTypes={required:l.bool,disabled:l.bool,legend:l.string,children:l.oneOfType([l.node,l.array,l.func])};function ct({legend:e,leftComponent:t,rightComponent:n,required:o=!1,multiline:s=!1,disabled:i=!1,seperator:c="~"}){const u=a.useMemo(()=>o?`${e||"()"}*`:e,[e,o]);return r.jsx(RU,{legend:u,required:o,disabled:i,children:r.jsxs(Vt,{container:!0,spacing:1,children:[r.jsx(Vt,{item:!0,xs:s?7.5:5.75,children:t}),s&&r.jsx(ve,{fullWidth:!0}),s&&r.jsx(Vt,{item:!0,xs:4}),r.jsx(Vt,{item:!0,xs:.5,children:r.jsx(ve,{justifyContent:"center",children:r.jsx(nn,{variant:"body1",children:c})})}),r.jsx(Vt,{item:!0,xs:s?7.5:5.75,children:n})]})})}ct.propTypes={required:l.bool,disabled:l.bool,legend:l.string,seperator:l.string,leftComponent:l.element,rightComponent:l.element,children:l.oneOfType([l.node,l.array,l.func]),multiline:l.bool};const BP=Object.freeze({DATE:1,JOB:2,OPERATOR:3}),wU=[{id:BP.DATE,name:""},{id:BP.JOB,name:""},{id:BP.OPERATOR,name:""}],m1t=e=>{if(!e)return"";const{id:t,name:n}=e;return`${t} ${n}`},f1t=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),h1t=e=>wU.find(t=>String(t.id)===String(e)),g1t=e=>wU.find(t=>t.id===e),b1t=()=>g1t(BP.DATE),Ij={options:wU,getOptionLabel:m1t,isOptionEqualToValue:f1t,findById:h1t,getDefaultOption:b1t},kU=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(bt,{ref:t,options:Ij.options,getOptionLabel:Ij.getOptionLabel,isOptionEqualToValue:Ij.isOptionEqualToValue,defaultValue:null,findByInput:Ij.findById,notFoundText:" ${input} ",...n})}));kU.propTypes={};kU.displayName="A18OrderByPicker";const AU=a.memo(a.forwardRef((e,t)=>{console.log("rendering A18ActionPicker");const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,label:o,options:W$.Actions,...s})}));AU.propTypes={name:l.string,label:l.string,children:l.node};AU.displayName="A18ActionPicker";const NU=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,children:r.jsx(Pt,{pt:1,children:r.jsx(Xt,{editing:!0,children:r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,children:r.jsx(wa,{filterByOperator:!0,label:"",name:"dept",disableOpenOnInput:!0,selectOnFocus:!0,disableByClass:Tn.SCOPES.ROOT,scope:Tn.SCOPES.BRANCH_HQ,autoFocus:!0})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",label:"",validate:!0,borderless:!0}),rightComponent:r.jsx(et,{name:"EDate",label:"",validate:!0,borderless:!0})})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(PU,{name:"table",label:"",size:"small",selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(EU,{name:"job",label:"",size:"small",selectOnFocus:!0,disableOpenOnInput:!0,virtualized:!0})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(lO,{name:"operator",label:"",size:"small",selectOnFocus:!0,disableOpenOnInput:!0,virtualized:!0})}),r.jsx(j,{item:!0,xs:12,children:r.jsx($e,{label:"IP",name:"ipAddr",fullWidth:!0,size:"small",clearable:!0})}),r.jsx(j,{item:!0,xs:6,children:r.jsx(AU,{name:"action",label:""})}),r.jsx(j,{item:!0,xs:6,children:r.jsx(kU,{name:"orderBy",label:""})}),r.jsx(j,{item:!0,xs:6}),r.jsx(j,{item:!0,xs:12,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})})})})});NU.propTypes={onSubmit:l.func,onDebugSubmit:l.func,readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,deptDisabled:l.bool,readError:l.object};NU.displayName="A18Form";const NDe=()=>{const e=Ke(),t=a.useContext(vye),n=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]),o=e.handleSubmit(t.onDebugSubmit);return $t(["Shift+Enter","Control+Enter"],()=>setTimeout(n),{enableOnFormTags:!0}),r.jsx(Ct,{...t.formMeta,children:r.jsx(NU,{onSubmit:n,onDebugSubmit:o})})};NDe.displayName="A18FormContainer";const FDe=()=>{const{operator:e}=a.useContext(Be),t=at({defaultValues:{dept:{DeptID:e.CurDeptID,AbbrName:e.CurDeptName},orderBy:Ij.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(Ye,{...t,children:r.jsx(NDe,{})})]})};FDe.displayName="A18Frame";const FU=a.memo(e=>{const{...t}=e;return r.jsx(xr,{label:"",defaultValue:!0,...t})});FU.propTypes={};FU.displayName="A19InOutCheckboxView";const MDe=e=>{const{...t}=e,n=Ke(),o=Ue({name:"dataType",control:n.control});return(o==null?void 0:o.id)!=of.DataType.SALE?!1:r.jsx(FU,{...t})};MDe.displayName="A19InOutCheckboxContainer";const MU=a.memo(a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,label:o,options:of.dataTypeOptions,getOptionLabel:of.getOptionLabel,isOptionEqualToValue:of.isOptionEqualToValue,...s})}));MU.propTypes={name:l.string,label:l.string,children:l.node};MU.displayName="A19DataTypePicker";const _U=a.memo(e=>{const{...t}=e;return r.jsx(xr,{label:"",defaultValue:!1,...t})});_U.propTypes={};_U.displayName="A19TaxCheckboxView";const _De=e=>{const{...t}=e,n=Ke(),o=Ue({name:"dataType",control:n.control});return(o==null?void 0:o.id)!=of.DataType.SALE?!1:r.jsx(_U,{...t})};_De.displayName="A19FreeCheckboxContainer";const LU=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",required:!0,leftComponent:r.jsx(fn,{name:"sprod",label:"",size:"small",virtualize:!0,typeToSearchText:",",disableOpenOnInput:!0,selectOnFocus:!0,blurToLookup:!0,required:!0,rules:{required:""},borderless:!0,placeholder:"",autoFocus:!0}),rightComponent:r.jsx(fn,{name:"eprod",label:"",size:"small",virtualize:!0,typeToSearchText:",",disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(wa,{label:"",name:"sdept",disableOpenOnInput:!0,selectOnFocus:!0,scope:Tn.SCOPES.BRANCH_HQ,borderless:!0,placeholder:""}),rightComponent:r.jsx(wa,{label:"",name:"edept",disableOpenOnInput:!0,selectOnFocus:!0,scope:Tn.SCOPES.BRANCH_HQ,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(MU,{name:"dataType",label:"",required:!0,rules:{required:""}})}),r.jsx(j,{item:!0,xs:12,sm:6})]}),r.jsxs(j,{container:!0,children:[r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsxs(ve,{alignItems:"center",children:[r.jsx(MDe,{label:"",name:"InclInv",defaultValue:!0}),r.jsx(_De,{label:"",name:"InclTest",defaultValue:!1})]})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})]})})})})});LU.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};LU.displayName="A19Form";const LDe=()=>{const e=Ke(),t=a.useContext(Tye),n=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]),o=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return $t(["Shift+Enter","Control+Enter"],()=>setTimeout(n),{enableOnFormTags:!0}),r.jsx(Ct,{...t.formMeta,children:r.jsx(LU,{onSubmit:n,onDebugSubmit:o})})};LDe.displayName="A19FormContainer";const $De=()=>{const e=at();return r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(Ye,{...e,children:r.jsx(LDe,{})})]})};$De.displayName="A19Frame";const $U=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(Jd),s=a.useMemo(()=>"",[]);return o.moduleAuthorityLoading||!o.canCreate?!1:r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(Ao,{}),onClick:o.promptCreating,sx:{fontWeight:600},...n,children:s})}));$U.displayName="A20CreateButtonContainer";const BDe=()=>{const e=a.useContext(Jd);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};BDe.displayName="A20FetchResultLabelContainer";const Qk=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(Vo),s=a.useContext(Jd);return s.moduleAuthorityLoading||!s.canPrint?!1:r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(cs,{}),sx:{fontWeight:600},onClick:o.promptPrint,color:"neutral",...n,children:""})}));Qk.propTypes={};Qk.displayName="A20PrintButtonContainer";const x1t=a.memo(()=>r.jsxs(mk,{children:[r.jsx($U,{}),r.jsx(Qk,{})]}));x1t.displayName="LeftButtons";const WDe=a.memo(a.forwardRef(({...e},t)=>r.jsx(kn,{pr:1,ref:t,leftComponents:r.jsxs(r.Fragment,{children:[r.jsx($U,{}),r.jsx(Qk,{})]}),RightComponent:BDe,...e})));WDe.displayName="A20ListViewToolbar";const BU=a.memo(e=>{var s,i;const{anchor:t="right",...n}=e,o=a.useContext(Jd);return r.jsxs(Eo,{anchor:t,open:o.sideDrawerOpen,onClose:o.handleSideDrawerClose,...n,children:[r.jsx(pn,{label:"",children:(s=o.itemData)==null?void 0:s.WriteDate_N}),r.jsx(pn,{label:"",children:(i=o.itemData)==null?void 0:i.Writer_N})]})});BU.propTypes={anchor:l.string};BU.displayName="A20Drawer";l.string;const y1t=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),WU=a.memo(e=>{const{readOnly:t=!1,rowKey:n,gridRef:o,data:s,onChange:i,onActiveCellChange:c,createRow:u,loading:d,height:p=600,bearer:m,...f}=e;return s?(s==null?void 0:s.length)===0&&t?r.jsx(nn,{variant:"body2",color:"text.secondary",children:"()"}):r.jsx(dr,{ref:o,rowKey:n,lockRows:t,height:p+(t?48:0),value:s,onChange:i,onActiveCellChange:c,addRowsComponent:go,disableExpandSelection:!0,contextMenuComponent:y1t,createRow:u}):r.jsx(nn,{variant:"body2",color:"text.secondary",children:"()"})});WU.propTypes={readOnly:l.bool,gridRef:l.func,data:l.array,createRow:l.func};WU.displayName="A20ProdMaterialsGrid";const UU=e=>{const{...t}=e,n=a.useContext(Jd),o=a.useContext(Be),{height:s}=Wt(),i=a.useContext(Lr),c=a.useMemo(()=>n.buildGridChangeHandler({gridMeta:i.gridMeta,onUpdateRow:n.onUpdateRow}),[n,i.gridMeta]);return r.jsx(Kn.Provider,{value:{...n.grid,...i.gridMeta,readOnly:i.readOnly},children:r.jsx(WU,{rowKey:n.getRowKey,gridRef:i.gridMeta.setGridRef,readOnly:i.readOnly,data:n.gridData,onChange:c,onActiveCellChange:i.gridMeta.handleActiveCellChange,bearer:o.token,height:s-350,createRow:n.createRow,...t})})};UU.propTypes={store:l.bool};UU.displayName="A20ProdMaterialsGridContainer";const qU=a.memo(e=>{const{data:t,readWorking:n,readError:o,itemDataReady:s,editing:i,updating:c,slotProps:u,...d}=e;return r.jsxs(r.Fragment,{children:[n&&r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",minHeight:"30em",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}),o&&r.jsx(lo,{error:o,...u==null?void 0:u.error}),s&&r.jsxs(Pt,{pt:1,children:[r.jsx(Ws,{children:""}),r.jsx(Xt,{editing:i,children:r.jsxs(j,{container:!0,columns:24,spacing:1,children:[r.jsx(j,{item:!0,xs:24,sm:24,md:10,children:r.jsx(fn,{typo:!0,name:"prod",label:"",autoFocus:!0,fullWidth:!0,required:!0,packageType:"m",rules:{required:""},readOnly:c,disableOpenOnInput:!0,virtualize:!0,slotProps:{paper:{sx:{width:360}}}})}),r.jsx(j,{item:!0,xs:24,sm:24,md:4,children:r.jsx($e,{typo:!0,name:"ProdQty",label:"",type:"number",fullWidth:!0,required:!0,rules:{required:""}})}),r.jsx(j,{item:!0,xs:24,sm:24,md:4,children:r.jsx(pn,{name:"PackData_N",label:""})})]})}),r.jsxs(Xt,{p:1,pt:0,mb:2,children:[r.jsx(Ws,{children:""}),r.jsx(UU,{})]})]})]})});qU.propTypes={data:l.object,readWorking:l.bool,itemDataReady:l.bool,editing:l.bool,updating:l.bool,store:l.bool,readError:l.object,slotProps:l.object};qU.displayName="A20Form";const VU=a.memo(a.forwardRef((e,t)=>{const{onSave:n,onCancel:o,loading:s,...i}=e;return r.jsxs(a.Fragment,{ref:t,children:[r.jsx(dt,{onClick:o,color:"warning",variant:"outlined",...i,children:""}),r.jsx(dt,{onClick:n,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:s,...i,children:""})]})}));VU.displayName="A20DialogEditButtons";VU.propTypes={onSave:l.func,onCancel:l.func,loading:l.bool};const UDe=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,onDelete:o,onSideDrawerOpen:s,...i}=e;return r.jsxs(a.Fragment,{ref:t,...i,children:[o&&r.jsx(hn,{startIcon:r.jsx(Fs,{}),color:"secondary",onClick:o,children:""}),n&&r.jsx(hn,{startIcon:r.jsx(bo,{}),color:"primary",onClick:n,children:""}),r.jsx(jr,{title:"",children:r.jsx(br,{onClick:s,size:"small",children:r.jsx(Po,{})})})]})}));UDe.propTypes={onEdit:l.func,onDelete:l.func,onSideDrawerOpen:l.func};const qDe=e=>{const{...t}=e,n=a.useContext(Jd),o=Ke();return n.itemDataReady?n.editing?r.jsx(VU,{onSave:o.handleSubmit(n.onEditorSubmit,n.onEditorSubmitError),onCancel:n.updating?n.confirmReturn:n.confirmQuitCreating,loading:n.editWorking,...t}):r.jsx(UDe,{onEdit:n.canUpdate?n.promptUpdating:null,onDelete:n.canDelete?n.confirmDelete:null,onSideDrawerOpen:n.handleSideDrawerOpen,...t}):!1};qDe.displayName="A20DialogButtonsContainer";const VDe=a.forwardRef((e,t)=>{const{...n}=e,o=at({defaultValues:{}}),{reset:s}=o,i=a.useContext(Jd),{height:c}=Wt(),u=a.useMemo(()=>i.creating?"":i.updating?"":"",[i.creating,i.updating]),d=a.useMemo(()=>c-120,[c]),p=Qr({height:d,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),m=a.useMemo(()=>o.handleSubmit(i.onEditorSubmit,i.onEditorSubmitError),[i.onEditorSubmit,i.onEditorSubmitError,o]),f=Ue({name:"prod",control:o.control}),h=a.useMemo(()=>!i.editing||!f,[i.editing,f]),g=a.useMemo(()=>[{...Pe.keyColumn("sprod",or(ls,{name:"sprod",packageType:"m",forId:!0,disableClearable:!0,slotProps:{paper:{sx:{width:360}}}})),title:"",minWidth:130,maxWidth:150,disabled:h},{...Pe.keyColumn("SProdData",kt({continuousUpdates:!1})),title:"",disabled:!0,grow:2},{...Pe.keyColumn("SPackData_N",kt({continuousUpdates:!1})),title:"",minWidth:90,grow:1,disabled:!0},{...Pe.keyColumn("SProdQty",Jn(2)),title:"",minWidth:90,maxWidth:90,disabled:h}],[h]),x=hr({data:i.grid.gridData,columns:g,skipDisabled:!0,lastCell:Xn.CREATE_ROW}),y=a.useCallback(()=>{if(!f){ae.error(""),o.setFocus("prod");return}x.setActiveCell({col:0,row:0})},[o,x,f]),D=vt(`
		prod,
		ProdQty
		`,{lastField:y});return mn(()=>{i.itemDataReady&&(console.log("a20 form reset",i.itemData),s(i.itemData))},[i.itemData,i.itemDataReady]),r.jsx(Ye,{...o,children:r.jsxs(Er,{title:u,ref:t,responsive:!0,fullWidth:!0,maxWidth:"md",TitleButtonsComponent:qDe,open:i.itemViewOpen,onClose:i.editing?i.confirmDialogClose:i.cancelAction,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[{minHeight:"30em"},p.scroller],...n,children:[r.jsx(Ct,{...D,gridMeta:x,readOnly:h,children:r.jsx("form",{...n,onSubmit:m,children:r.jsx(qU,{ref:t,editing:i.editing,updating:i.updating,readWorking:i.readWorking,readError:i.readError,data:i.itemData,itemDataReady:i.itemDataReady})})}),r.jsx(BU,{BackdropProps:{sx:[ur.BACKDROP_TRANSPARENT]}})]})})});VDe.displayName="A20DialogContainer";const Yk=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:4,...t})};Yk.propTypes={loading:l.bool,children:l.oneOfType([l.node])};Yk.displayName="A20IDColumn";const Jk=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:9,...t})};Jk.propTypes={loading:l.bool,children:l.oneOfType([l.node])};Jk.displayName="A20NameColumn";const zU=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsxs(io,{ref:t,...n,children:[r.jsx(Hn,{}),r.jsx(Yk,{children:""}),r.jsx(Jk,{children:""})]})}));zU.propTypes={};zU.displayName="A20ListHeader";const kR=a.memo(e=>{const{children:t,emptyText:n,color:o,...s}=e,i=a.useMemo(()=>!t&&!!n,[t,n]),c=a.useMemo(()=>!o&&i?"text.secondary":o,[o,i]),u=a.useMemo(()=>i?n:t,[t,n,i]);return r.jsx(nn,{color:c,...s,children:u})});kR.propTypes={children:l.oneOfType([l.node,l.array]),emptyText:l.string,color:l.string};kR.displayName="TypographyExBase";const zDe=a.memo(a.forwardRef((e,t)=>{const{loading:n,variant:o,IconComponent:s,children:i,iconSize:c="md",slotProps:u,...d}=e,p=a.useMemo(()=>{switch(c){case"sm":return 16;case"lg":return 24;case"md":default:return 20}},[c]),m=a.useMemo(()=>n&&!o?"h6":o,[n,o]);return n==null?r.jsx(kR,{variant:o,...u==null?void 0:u.typo,...d,children:i}):r.jsxs(jt,{ref:t,sx:{display:"inline-flex",alignItems:"center"},children:[s?r.jsx(s,{sx:[{animation:"$App-logo-spin infinite 2s linear",height:"4vmin",pointerEvents:"none",...u==null?void 0:u.icon}]}):r.jsx(RT,{sx:{mr:1,...u==null?void 0:u.icon},size:p}),r.jsx(kR,{variant:m,...u==null?void 0:u.typo,...d,children:i})]})}));zDe.propTypes={variant:l.string,iconSize:l.string,color:l.string,loading:l.bool,slotProps:l.object,children:l.oneOfType([l.node,l.array]),emptyText:l.string,IconComponent:l.oneOfType([l.elementType,l.func])};const HU=a.memo(e=>{const{index:t,value:n,...o}=e;return r.jsxs(LD,{...o,children:[r.jsx(Hn,{title:t}),r.jsx(Yk,{children:n==null?void 0:n.ProdID}),r.jsx(Jk,{children:r.jsx(zDe,{emptyText:"()",children:n==null?void 0:n.ProdData})})]})});HU.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func};HU.displayName="A20ListRow";const GU=e=>{var u;const{index:t,...n}=e,o=a.useContext(Jd),s=a.useMemo(()=>o.listData[t],[o.listData,t]),i=a.useMemo(()=>!s,[s]),c=a.useMemo(()=>{var d;return(s==null?void 0:s.ProdID)===((d=o.selectedItem)==null?void 0:d.ProdID)},[(u=o.selectedItem)==null?void 0:u.ProdID,s==null?void 0:s.ProdID]);return r.jsx(No,{loading:i,children:r.jsx(HU,{index:t,value:s,onClick:d=>o.handleSelect(d,s),selected:c,...n})})};GU.propTypes={index:l.number,data:l.object};GU.displayName="A20ListRowContainer";const HDe=()=>{console.log("rendering A20ListViewContainer");const e=a.useContext(Jd),{loadList:t}=e,n=Ke(),{getValues:o,setValue:s}=n,{height:i}=Wt(),c=Ue({name:"qs",control:n.control}),u=Gr(c,300);En(()=>{e.loadList()},[]),mn(()=>{if(console.log(`debouncedQs: ${u}`),u!==void 0){const p=o();t({params:{...p,qs:u},supressLoading:!0}),s("qs",u)}},[u]);const d=a.useMemo(()=>i?i-162:300,[i]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:GU,height:d,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};HDe.displayName="A20ListViewContainer";const KU=e=>{const{name:t="qs",...n}=e,o=Ke(),s=a.useContext(Jd),i=a.useRef(null),c=ru({inputRef:i,onChange:d=>{o.setValue(t,d)}});$t("ctrl+F12",c.handleFocus,{enableOnFormTags:!0});const u=$t("esc",c.handleClear,{enableOnFormTags:!0});return r.jsx("form",{onSubmit:o.handleSubmit(s.onSearchSubmit,s.onSearchSubmitError),children:r.jsx("div",{ref:u,children:r.jsx(su,{autoFocus:!0,name:t,placeholder:"/(ctrl+F12)",mobilePlaceholder:"/",borderRadius:"8px",responsive:!0,inputRef:i,onClear:c.handleClear})})})};KU.propTypes={name:l.string};KU.displayName="BomSearchFieldContainer";const GDe=()=>{const e=at();return r.jsx(Ye,{...e,children:r.jsx(Ft,{children:r.jsxs(ws,{tableName:"BomFile_F",paramsToJsonData:U$.paramsToJsonData,children:[r.jsx(_t,{children:r.jsx(KU,{name:"qs"})}),r.jsx(WDe,{}),r.jsx(zU,{}),r.jsx(HDe,{}),r.jsx(VDe,{}),r.jsx(Is,{})]})})})};GDe.displayName="A20Frame";const Km=a.memo(e=>{const{...t}=e;return r.jsx(zw,{valueToChecked:PI.valueToChecked,checkedToValue:PI.checkedToValue,...t})});Km.propTypes={};Km.displayName="ControlledYesNoCheckbox";const QU=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,children:r.jsx(Pt,{pt:1,children:r.jsx(Xt,{editing:!0,children:r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,children:r.jsx(OD,{label:"",required:!0,name:"dept",disableOpenOnInput:!0,disabled:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12}),r.jsxs(j,{item:!0,xs:12,children:[r.jsx(Km,{label:"",name:"Name",defaultValue:!0}),r.jsx(Km,{label:"",name:"Tel",defaultValue:!0}),r.jsx(Km,{label:"",name:"InvAddr",defaultValue:!0}),r.jsx(Km,{label:"",name:"ToAddr",defaultValue:!0}),r.jsx(Km,{label:"",name:"SalesID",defaultValue:!0}),r.jsx(Km,{label:"",name:"InvNo",defaultValue:!0}),r.jsx(Km,{label:"",name:"DelyNo",defaultValue:!0})]}),r.jsx(j,{item:!0,xs:12,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})})})})});QU.propTypes={onSubmit:l.func,onDebugSubmit:l.func,readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object};QU.displayName="A21Form";const KDe=()=>{const e=a.useContext(Rye),t=Ke(),n=a.useMemo(()=>t.handleSubmit(e.onDebugSubmit),[e.onDebugSubmit,t]),o=a.useMemo(()=>t.handleSubmit(e.onSubmit,e.onSubmitError),[e.onSubmit,e.onSubmitError,t]);return $t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0}),r.jsx(Ct,{...e.formMeta,children:r.jsx(QU,{onSubmit:o,onDebugSubmit:n})})};KDe.displayName="A21FormContainer";const QDe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(KDe,{})]});QDe.displayName="A21Frame";const C1t=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),YU=a.memo(e=>{const{readOnly:t,gridRef:n,data:o,loading:s,height:i=300,onChange:c,bearer:u,getRowKey:d,handleCreateRow:p,...m}=e;return!o||o.legnth===0?r.jsx(bf,{height:i,size:"medium",children:""}):s?r.jsx(Ko,{height:i}):s==null?!1:r.jsx(dr,{lockRows:t,ref:n,rowKey:d,height:i+(t?48:0),value:o,onChange:c,addRowsComponent:go,disableExpandSelection:!0,contextMenuComponent:C1t,createRow:p,...m})});YU.propTypes={readOnly:l.bool,gridRef:l.func,drawerOpen:l.bool,data:l.array,loading:l.bool,height:l.number,onChange:l.func,isPersisted:l.func};YU.displayName="A22Grid";const YDe=()=>{const{height:e}=Wt(),t=a.useContext(om),{token:n}=a.useContext(Be),o=at(),s=a.useMemo(()=>t.expanded?e-278:e-236,[t.expanded,e]),i=a.useMemo(()=>t.buildGridChangeHandler({gridMeta:t.gridMeta,onUpdateRow:t.onUpdateRow}),[t]);return r.jsx("form",{children:r.jsx(Ye,{...o,children:r.jsx(Kn.Provider,{value:{...t.grid,...t.gridMeta,readOnly:t.readOnly},children:r.jsx(YU,{readOnly:t.readOnly,gridRef:t.setGridRef,data:t.gridData,loading:t.gridLoading,height:s,onChange:i,onActiveCellChange:t.handleActiveCellChange,bearer:n,getRowKey:t.getRowKey,handleCreateRow:t.handleCreateRow})})})})};YDe.displayName="A22GridContainer";const JU=a.memo(e=>{const{expanded:t,cat:n,safeQty:o}=e;return r.jsx(aw,{in:t,children:r.jsx(jt,{mt:1,children:r.jsx(j,{container:!0,spacing:1,children:n&&r.jsxs(r.Fragment,{children:[r.jsx(j,{item:!0,md:3,children:r.jsx(Pl,{name:"catL",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,md:3,children:r.jsx(El,{name:"catM",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,md:3,children:r.jsx(ou,{name:"catS",disableOpenOnInput:!0,selectOnFocus:!0})})]})})})})});JU.propTypes={expanded:l.bool,cat:l.bool,safeQty:l.bool};JU.displayName="A22GridForm2";const JDe=e=>{const{...t}=e,n=a.useContext(om),{expanded:o}=n;return r.jsx(JU,{expanded:o,...t})};JDe.displayName="A22GridForm2Container";const XDe=e=>{const{...t}=e,n=a.useContext(om),o=a.useMemo(()=>n.expanded?"":"",[n.expanded]);return r.jsx(jr,{title:o,children:r.jsx(sCe,{expanded:n.expanded,onClick:n.toggleExpanded,...t,children:r.jsx(c4,{fontSize:"small"})})})};XDe.displayName="A22GridFormToggleButtonContainer";const ZDe=()=>{const e=Ue(),t=a.useContext(om),{peek:n,totalElements:o,loading:s}=t,i=Gr(e,300),[c,u]=a.useState(),d=a.useMemo(()=>JSON.stringify(i),[i]);a.useEffect(()=>{d!==c&&(u(d),console.log("criteria changed",i),n(i))},[n,i,c,d]);const p=a.useMemo(()=>Gn.isAllPropsEmpty(e,"prod1,prod2,catL,catM,catS")?"":o?`(${o})`:"()",[e,o]),m=a.useMemo(()=>!o,[o]);return r.jsx(jr,{title:"shift+Enter",children:r.jsx(uge,{type:"submit",variant:"contained",color:"warning",disabled:m,size:"small",loading:s,sx:{fontWeight:600},children:p})})};ZDe.displayName="A22GridLoadButtonContainer";const XU=e=>{const{cat:t=!0,safeQty:n=!1,onSubmit:o,...s}=e;return r.jsx(_s,{component:"form",onSubmit:o,...s,children:r.jsxs(Pt,{p:1,children:[r.jsxs(j,{container:!0,spacing:1,columns:24,children:[r.jsx(j,{item:!0,xs:12,lg:12,children:r.jsx(ct,{legend:"",required:!0,leftComponent:r.jsx(fn,{name:"prod1",label:"",size:"small",virtualize:!0,typeToSearchText:",",optionLabelSize:"md",disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"prod2",label:"",size:"small",virtualize:!0,typeToSearchText:",",optionLabelSize:"md",disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:5,lg:3,children:r.jsx($e,{name:"qty",label:"",type:"number",size:"small"})}),r.jsx(j,{item:!0,xs:7,lg:5,sx:{"& button":{marginLeft:"4px"}},children:r.jsxs(ve,{inline:!0,justifyContent:"flex-end",alignItems:"flex-start",children:[r.jsx(ZDe,{}),r.jsx(XDe,{})]})})]}),r.jsx(JDe,{cat:t,safeQty:n})]})})};XU.propTypes={onSubmit:l.func,cat:l.bool,safeQty:l.bool};XU.displayName="A22GridForm";const eSe=e=>{const{...t}=e,n=a.useContext(om),o=Ke(),s=a.useMemo(()=>o.handleSubmit(n.onSubmit,n.onSubmitError),[n.onSubmit,n.onSubmitError,o]);return r.jsx(Ct,{...n.formMeta,children:r.jsx(XU,{onSubmit:s,...t})})};eSe.displayName="A22GridFormContainer";const G$=Object.freeze({HTML:1,TXT:2}),tSe=[{id:G$.HTML,name:""},{id:G$.TXT,name:"(.txt)"}],D1t=e=>{if(!e)return"";const{name:t}=e;return`${t}`},S1t=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),v1t=e=>tSe.find(t=>t.id===e),Wle={OutputModes:G$,options:tSe,getOptionLabel:D1t,isOptionEqualToValue:S1t,findById:v1t},nSe=()=>{var t;const e=a.useContext(om);return e.gridLoading||!e.gridData||((t=e.gridData)==null?void 0:t.length)===0?!1:r.jsx(fa,{size:"small",variant:"outlined",endIcon:r.jsx(Ebe,{}),color:"primary",onClick:e.unload,children:""})};nSe.displayName="A22GridCancelEditButtonContainer";const rSe=e=>{var o;const{...t}=e,n=a.useContext(om);return n.gridLoading||!n.gridData||((o=n.gridData)==null?void 0:o.length)===0?!1:r.jsx(Ts,{unlockedLabel:"",locked:n.readOnly,onChange:n.toggleReadOnly,...t})};rSe.displayName="A22GridLockRowsSwitchContainer";const oSe=()=>{var s;const e=at({defaultValues:{outputType:Wle.findById(Wle.OutputModes.HTML)}}),t=a.useContext(om),n=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]),o=a.useMemo(()=>e.handleSubmit(t.onGenReportSubmit,t.onGenReportSubmitError),[t,e]);return $t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0}),t.gridLoading||!t.gridData||((s=t.gridData)==null?void 0:s.length)===0?!1:r.jsx(Ye,{...e,children:r.jsx("form",{children:r.jsx(ve,{component:_s,my:1,py:.8,px:1,children:r.jsxs(j,{container:!0,spacing:1,children:[r.jsx(Ms,{alignItems:"center",item:!0,xs:3,children:r.jsx(rSe,{})}),r.jsxs(Ms,{item:!0,xs:9,alignItems:"center",justifyContent:"flex-end",children:[r.jsx(jt,{mr:.5}),r.jsx(jt,{ml:.5,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:o,onDebugSubmit:n})})}),r.jsx(jt,{ml:.5,children:r.jsx(nSe,{})})]})]})})})})};oSe.displayName="A22GridToolbarFormContainer";const ZU=a.memo(e=>{const{loading:t,...n}=e;return r.jsxs(Ft,{...n,children:[r.jsx(_t,{}),r.jsx(Et,{maxWidth:"md",alignLeft:!0,children:r.jsx(jt,{children:r.jsx(eSe,{})})}),t==null?r.jsx(Br,{maxWidth:"sm",children:r.jsx(jt,{pt:"8vh",children:r.jsx(kD,{label:"",icon:WD})})}):r.jsxs(jt,{children:[r.jsx(oSe,{}),r.jsx(YDe,{})]})]})});ZU.propTypes={drawerOpen:l.bool,boxStyles:l.oneOfType([l.array,l.object]),loading:l.bool};ZU.displayName="A22Frame";const sSe=()=>{const e=a.useContext(om);return r.jsx(ZU,{loading:e.gridLoading})};sSe.displayName="A22Frame";const eq=a.memo(({children:e,open:t=!1,invisible:n=!1,...o})=>r.jsxs(l3,{sx:s=>({zIndex:s.zIndex.drawer+1,color:"#fff"}),open:t,invisible:n,...o,children:[!n&&r.jsx(RT,{color:"inherit",sx:{marginRight:"1rem"}}),e]}));eq.displayName="LoadingBackdrop";eq.propTypes={children:l.oneOfType([l.array,l.object]),open:l.bool,invisible:l.bool};const j1t=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),tq=a.memo(e=>{const{canCreate:t,lockRows:n,setGridRef:o,drawerOpen:s,data:i,loading:c,height:u=300,onChange:d,isPersisted:p,onSelectionChange:m,...f}=e,h=a.useMemo(()=>u+(n||!t?48:0),[t,u,n]);return c?r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(Ko,{height:u})}):c==null?!1:r.jsxs(r.Fragment,{children:[r.jsx(eq,{open:c}),r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(dr,{lockRows:n,ref:o,rowKey:"CodeID",height:h,value:i,onChange:d,addRowsComponent:t?go:null,disableExpandSelection:!0,contextMenuComponent:j1t,onSelectionChange:m})})]})});tq.propTypes={lockRows:l.bool,setGridRef:l.func,drawerOpen:l.bool,data:l.array,loading:l.bool,height:l.number,onChange:l.func,isPersisted:l.func,onSelectionChange:l.func};tq.displayName="A26Grid";const aSe=()=>{const{height:e}=Wt(),t=a.useContext(aO),n=a.useMemo(()=>t.buildGridChangeHandler({onCreate:t.handleCreate,onUpdate:t.handleUpdate,onDelete:t.canDelete?t.handleConfirmDelete:null,onDuplicatedError:t.handleDuplicatedError}),[t]),o=a.useMemo(()=>t.buildSelectionChangeHandler({}),[t]);return r.jsx(Kn.Provider,{value:{...t.grid,...t.gridMeta},children:r.jsx(tq,{lockRows:t.readOnly,setGridRef:t.setGridRef,data:t.gridData,loading:t.gridLoading,height:e-176,onChange:n,onActiveCellChange:t.handleActiveCellChange,onSelectionChange:o,canCreate:t.canCreate})})};aSe.displayName="A26GridContainer";const iSe=e=>{const{...t}=e,n=a.useContext(aO);return r.jsx(Ts,{unlockedLabel:"",locked:n.readOnly,onChange:n.toggleReadOnly,...t})};iSe.displayName="A26LockRowsSwitchContainer";const nq=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(Vo),s=a.useContext(aO);return s.moduleAuthorityLoading||!s.canPrint?!1:r.jsx(hn,{ref:t,color:"neutral",variant:"contained",startIcon:r.jsx(cs,{}),sx:{fontWeight:600},onClick:o.promptPrint,...n,children:""})}));nq.propTypes={};nq.displayName="A26PrintButtonContainer";const lSe=e=>{const{...t}=e,n=a.useContext(aO),{operator:o}=a.useContext(Be),s=A5({name:"ComisnCod",jobId:"A26"}),{mobile:i}=a.useContext(lc),c=a.useMemo(()=>!n.canManage,[n.canManage]),u=a.useMemo(()=>{let d="";return n.canManage||(d+=""),d},[n.canManage]);return s.loading!==!1?r.jsx(Cr,{}):s.error?r.jsx(nu,{error:s.error,severity:"error",dense:!0,children:""}):r.jsx(Ra,{title:u,children:r.jsx(Ts,{unlockedLabel:i?"POS":"POS",lockedLabel:i?"POS":"POS",locked:!s.enabled,onChange:s.toggle,disabled:c,width:i?90:130,...t})})};lSe.displayName="A26LockSwitchContainer";const cSe=a.memo(()=>r.jsxs(r.Fragment,{children:[r.jsx(nq,{}),r.jsx(lSe,{})]}));cSe.displayName="LeftButtons";const rq=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(kn,{ref:t,bgcolor:Nn.TOOLBAR,LeftComponent:cSe,RightComponent:iSe,...n})})}));rq.propTypes={};rq.displayName="A26Toolbar";const oq=a.memo(()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(rq,{}),r.jsx(aSe,{})]}));oq.propTypes={drawerOpen:l.bool};oq.displayName="A26Frame";const uSe=()=>r.jsxs(ws,{tableName:"ComisnCod",children:[r.jsx(oq,{}),r.jsx(Is,{})]});uSe.displayName="A26Frame";const I1t=e=>e.data?e.data.map(t=>{const{DeptID:n,AbbrName_N:o,...s}=t;return{dept:n?{DeptID:n,AbbrName:o}:null,...s}}):[],T1t=e=>{const{dept:t,...n}=e;return{DeptID:t==null?void 0:t.DeptID,...n}},O1t=()=>({dept:null,Remark:""}),K$={transformForReading:I1t,transformForSubmitting:T1t,createRow:O1t},E1t=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),sq=a.memo(e=>{const{canCreate:t,columns:n,lockRows:o,gridRef:s,data:i,loading:c,height:u=300,onChange:d}=e,p=a.useMemo(()=>u+(o||!t?48:0),[t,u,o]);return c?r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx(Ko,{height:u})}):c==null?!1:r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx(dr,{lockRows:o,ref:s,rowKey:"PosNo",height:p,value:i,onChange:d,columns:n,addRowsComponent:t?go:null,disableExpandSelection:!0,contextMenuComponent:E1t,createRow:K$.createRow})})});sq.propTypes={columns:l.array,lockRows:l.bool,gridRef:l.func,drawerOpen:l.bool,data:l.array,loading:l.bool,height:l.number,onChange:l.func,isPersisted:l.func};sq.displayName="P16Grid";const dSe=()=>{const{height:e}=Wt(),t=a.useContext(O5),n=at(),o=a.useMemo(()=>[{...Pe.keyColumn("PosNo",kt({continuousUpdates:!1})),disabled:t.grid.isPersisted,title:"",minWidth:90,maxWidth:90},{...Pe.keyColumn("dept",or(NC,{name:"dept",disableOpenOnInput:!0,disableClearable:!0,selectOnFocus:!0,autoHighlight:!0})),title:"",minWidth:220,maxWidth:220,disabled:t.grid.readOnly,grow:1},{...Pe.keyColumn("Remark",kt({continuousUpdates:!1})),title:"",grow:4,disabled:t.grid.readOnly}],[t.grid.isPersisted,t.grid.readOnly]),s=hr({columns:o,data:t.grid.gridData,lastCell:Xn.CREATE_ROW}),i=Ga({baseUri:"v1/pos/terminals",grid:t.grid,gridMeta:s,transformForReading:K$.transformForReading,transformForSubmitting:K$.transformForSubmitting});En(()=>{i.load()},[]);const c=a.useMemo(()=>i.buildGridChangeHandler({onCreate:i.handleCreate,onUpdate:i.handleUpdate,onDelete:t.canDelete?i.handleConfirmDelete:null,onDuplicatedError:i.handleDuplicatedError}),[t.canDelete,i]),u=a.useMemo(()=>s.buildSelectionChangeHandler(),[s]);return r.jsx(Ye,{...n,children:r.jsx(Kn.Provider,{value:{...t.grid,...s},children:r.jsx(sq,{columns:o,lockRows:t.grid.readOnly,gridRef:s.setGridRef,data:t.grid.gridData,loading:t.grid.gridLoading,height:e-176,onChange:c,onActiveCellChange:s.handleActiveCellChange,onSelectionChange:u,canCreate:t.canCreate})})})};dSe.displayName="P16GridContainer";const pSe=e=>{const{...t}=e,n=a.useContext(O5);return r.jsx(Ts,{unlockedLabel:"",locked:n.grid.readOnly,onChange:n.grid.toggleReadOnly,disabled:!n.canUpdate,...t})};pSe.displayName="P16LockSwitchContainer";const aq=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx(kn,{bgcolor:Nn.TOOLBAR,ref:t,RightComponent:pSe,mb:.5,...n})})}));aq.propTypes={};aq.displayName="P16Toolbar";const iq=a.memo(()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsxs(jt,{children:[r.jsx(aq,{}),r.jsx(dSe,{})]})]}));iq.propTypes={drawerOpen:l.bool,boxStyles:l.oneOfType([l.array,l.object])};iq.displayName="P16Frame";const mSe=()=>r.jsx(iq,{});mSe.displayName="P16Frame";const fSe=a.memo(a.forwardRef((e,t)=>{const{...n}=e,{operator:o}=a.useContext(Be),s=a.useContext(vf),{moduleAuthorityLoading:i,canCreate:c}=s,u=a.useMemo(()=>"",[]);return i||!c||o.Class<Tn.SCOPES.ROOT?!1:r.jsx(hn,{ref:t,variant:"contained",color:"warning",startIcon:r.jsx(Ao,{}),onClick:s.promptCreating,sx:{fontWeight:600},...n,children:u})}));fSe.displayName="A16CreateButtonContainer";const hSe=()=>{const e=a.useContext(vf);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};hSe.displayName="A16FetchResultLabelContainer";const lq=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(Vo),s=a.useContext(vf),{moduleAuthorityLoading:i,canPrint:c}=s;return i||!c?!1:r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(cs,{}),sx:{fontWeight:600},onClick:o.promptPrint,color:"neutral",...n,children:""})}));lq.propTypes={};lq.displayName="A16PrintButtonContainer";const gSe=a.memo(()=>r.jsxs(r.Fragment,{children:[r.jsx(fSe,{}),r.jsx(lq,{})]}));gSe.displayName="LeftButtons";const bSe=a.memo(a.forwardRef(({...e},t)=>r.jsx(kn,{alignItems:"flex-end",ref:t,LeftComponent:gSe,RightComponent:hSe,...e})));bSe.displayName="A16ListViewToolbar";const cq=a.memo(e=>{var s,i;const{anchor:t="right",...n}=e,o=a.useContext(vf);return r.jsxs(Eo,{anchor:t,open:o.sideDrawerOpen,onClose:o.handleSideDrawerClose,...n,children:[r.jsx(pn,{label:"",children:(s=o.itemData)==null?void 0:s.WriteDate_N}),r.jsx(pn,{label:"",children:(i=o.itemData)==null?void 0:i.Writer_N})]})});cq.propTypes={anchor:l.string};cq.displayName="A16Drawer";const uq=a.memo(e=>{const{data:t,readWorking:n,readError:o,itemDataReady:s,creating:i,editing:c,updating:u,slotProps:d,...p}=e;return r.jsxs("form",{...p,children:[n&&r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",minHeight:"30em",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}),o&&r.jsx(lo,{error:o,...d==null?void 0:d.error}),s&&r.jsx(Pt,{pt:1,children:r.jsx(Xt,{editing:c,children:r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,md:6,children:r.jsx($e,{typo:!0,name:"DeptID",label:"",...i&&{autoFocus:!0},fullWidth:!0,value:t==null?void 0:t.DeptID,required:!0,rules:{required:""},readOnly:u,disabled:u,slotProps:{htmlInput:{maxLength:6}}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:2,children:r.jsx($e,{typo:!0,name:"GroupKey",label:"",fullWidth:!0,required:!0,rules:{required:""},...u&&{autoFocus:!0},readOnly:u,disabled:u})}),r.jsx(j,{item:!0,xs:12,sm:12,md:2,children:r.jsx($e,{typo:!0,name:"Seq",label:"",type:"number",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:6,children:r.jsx($e,{typo:!0,name:"AbbrName",label:"",fullWidth:!0,required:!0,rules:{required:""},...u&&{autoFocus:!0}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:12,children:r.jsx($e,{typo:!0,name:"DeptName",label:"",fullWidth:!0,required:!0,rules:{required:""}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:12,children:r.jsx($e,{typo:!0,name:"Address",label:"",fullWidth:!0,multiline:!0,rows:2})}),r.jsx(j,{item:!0,xs:12,sm:12,md:12,children:r.jsx($e,{typo:!0,name:"Tel",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:12,children:r.jsx($e,{typo:!0,name:"Contact",label:"",fullWidth:!0})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx(xr,{variant:"outlined",typo:!0,name:"headOffice",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx(xr,{variant:"outlined",typo:!0,name:"flagship",label:"",fullWidth:!0})})]})})})]})});uq.propTypes={data:l.object,readWorking:l.bool,itemDataReady:l.bool,creating:l.bool,editing:l.bool,updating:l.bool,store:l.bool,readError:l.object,slotProps:l.object};uq.displayName="A16DialogForm";const dq=a.memo(a.forwardRef((e,t)=>{const{onSave:n,onCancel:o,loading:s,...i}=e;return r.jsxs(a.Fragment,{ref:t,...i,children:[r.jsx(dt,{responsive:!0,onClick:o,color:"warning",variant:"outlined",...i,children:""}),r.jsx(dt,{responsive:!0,onClick:n,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:s,children:""})]})}));dq.displayName="A16DialogEditButtons";dq.propTypes={onSave:l.func,loading:l.bool};const xSe=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,onDelete:o,onSideDrawerOpen:s,...i}=e;return r.jsxs(a.Fragment,{ref:t,...i,children:[o&&r.jsx(hn,{startIcon:r.jsx(Fs,{}),color:"secondary",onClick:o,children:""}),n&&r.jsx(hn,{startIcon:r.jsx(bo,{}),color:"primary",onClick:n,children:""}),r.jsx(jr,{title:"",children:r.jsx(br,{onClick:s,size:"small",children:r.jsx(Po,{})})})]})}));xSe.propTypes={onEdit:l.func,onDelete:l.func,onSideDrawerOpen:l.func};const ySe=e=>{const{...t}=e,n=a.useContext(vf),o=Ke();return n.itemDataReady?n.editing?r.jsx(dq,{onSave:o.handleSubmit(n.onEditorSubmit,n.onEditorSubmitError),onCancel:n.updating?n.confirmReturn:n.confirmQuitCreating,loading:n.editWorking,...t}):r.jsx(xSe,{onEdit:n.canUpdate?n.promptUpdating:null,onDelete:n.canDelete?n.confirmDelete:null,onSideDrawerOpen:n.handleSideDrawerOpen,...t}):!1};ySe.displayName="A16DialogButtonsContainer";const CSe=a.forwardRef((e,t)=>{const{...n}=e,{height:o}=Wt(),s=a.useMemo(()=>o-120,[o]),i=at({defaultValues:{}}),{reset:c,setValue:u}=i,d=a.useContext(vf),p=a.useMemo(()=>d.creating?"":d.updating?"":"",[d.creating,d.updating]),m=Qr({maxHeight:s,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),f=a.useCallback(()=>{d.editing&&i.handleSubmit(d.onEditorSubmit,d.onEditorSubmitError)()},[d.editing,d.onEditorSubmit,d.onEditorSubmitError,i]);$t(["Control+Enter"],()=>setTimeout(f),{enableOnFormTags:!0}),mn(()=>{d.itemDataReady&&(console.log("a16 form reset",d.itemData),c(d.itemData))},[d.itemData,d.itemDataReady]);const h=Ue({name:"headOffice",control:i.control}),g=Ue({name:"flagship",control:i.control});return a.useEffect(()=>{h&&u("flagship",!1)},[h,u]),a.useEffect(()=>{g&&u("headOffice",!1)},[g,u]),r.jsx(Ye,{...i,children:r.jsxs(Er,{title:p,ref:t,responsive:!0,fullWidth:!0,maxWidth:"sm",TitleButtonsComponent:ySe,open:d.itemViewOpen,onClose:d.editing?d.confirmDialogClose:d.cancelAction,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[m.scroller],...n,children:[r.jsx(Ct,{...d.formMeta,children:r.jsx(uq,{ref:t,onSubmit:f,editing:d.editing,updating:d.updating,readWorking:d.readWorking,readError:d.readError,data:d.itemData,itemDataReady:d.itemDataReady})}),r.jsx(cq,{BackdropProps:{sx:[ur.BACKDROP_TRANSPARENT]}})]})})});CSe.displayName="A16DialogContainer";const Xk=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:3,...t})};Xk.propTypes={loading:l.bool,children:l.oneOfType([l.node])};Xk.displayName="A16IDColumn";const Zk=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:9,...t})};Zk.propTypes={loading:l.bool,children:l.oneOfType([l.node])};Zk.displayName="A16NameColumn";const e2=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:6,...t})};e2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};e2.displayName="A16Name2Column";const pq=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsxs(io,{ref:t,...n,children:[r.jsx(Hn,{}),r.jsx(Xk,{children:""}),r.jsx(e2,{children:""}),r.jsx(Zk,{children:""})]})}));pq.propTypes={};pq.displayName="A16ListHeader";const mq=e=>{const{children:t,...n}=e;return r.jsx(wt,{item:!0,pr:1,xs:5,...n,sx:{"& .MuiChip-root":{marginRight:.5}},children:t})};mq.propTypes={loading:l.bool,children:l.oneOfType([l.node])};mq.displayName="A16FlagColumn";const fq=a.memo(e=>{const{index:t,style:n,value:o,onClick:s}=e,{BankID:i,BankData_N:c}=o||{};return a.useMemo(()=>[i,c].filter(Boolean).join(" "),[c,i]),r.jsx("div",{style:n,children:r.jsx(yo,{borderBottom:!0,onClick:s,children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t}),r.jsx(Xk,{children:o==null?void 0:o.DeptID}),r.jsx(e2,{children:o==null?void 0:o.AbbrName}),r.jsx(Zk,{children:o==null?void 0:o.DeptName}),r.jsxs(mq,{children:[(o==null?void 0:o.HeadOffice)==1&&r.jsx(AC,{label:"",severity:"warning",size:"small"}),(o==null?void 0:o.FlagShip)==1&&r.jsx(AC,{label:"",severity:"info",size:"small"})]})]})})})});fq.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func};fq.displayName="A16ListRow";const hq=e=>{var u;const{index:t,...n}=e,o=a.useContext(vf),s=a.useMemo(()=>o.listData[t],[o.listData,t]),i=a.useMemo(()=>!s,[s]),c=a.useMemo(()=>{var d;return(s==null?void 0:s.FactID)===((d=o.selectedItem)==null?void 0:d.FactID)},[(u=o.selectedItem)==null?void 0:u.FactID,s==null?void 0:s.FactID]);return r.jsx(No,{loading:i,children:r.jsx(fq,{index:t,value:s,onClick:d=>o.handleSelect(d,s),selected:c,...n})})};hq.propTypes={index:l.number,data:l.object};hq.displayName="A16ListRowContainer";const DSe=()=>{const e=a.useContext(vf),{loadList:t}=e,n=Ke(),{getValues:o,setValue:s}=n,{height:i}=Wt(),c=Ue({name:"qs",control:n.control}),u=Gr(c,300);En(()=>{e.loadList()},[]),mn(()=>{if(console.log(`debouncedQs: ${u}`),u!==void 0){const p=o();t({params:{...p,qs:u},supressLoading:!0}),s("qs",u)}},[u]);const d=a.useMemo(()=>i?i-162:300,[i]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:hq,height:d,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};DSe.displayName="A16ListViewContainer";const SSe=()=>{const e=at();return r.jsx(Ye,{...e,children:r.jsx(Ft,{children:r.jsxs(ws,{tableName:"AppDept",paramsToJsonData:$P.paramsToJsonData,children:[r.jsx(_t,{}),r.jsx(bSe,{}),r.jsx(pq,{}),r.jsx(DSe,{}),r.jsx(CSe,{}),r.jsx(Is,{})]})})})};SSe.displayName="A16Frame";const P1t=({token:e})=>{const t=a.useRef(),n=a.useContext(cr),o=Bt({moduleId:"A05"}),s=Co(),{httpGetAsync:i,httpPostAsync:c,httpPutAsync:u,httpDeleteAsync:d}=Zn(),[p,m]=a.useState(),f=a.useContext(Mr),[h,g,x,y]=us(!1),D=so({url:"v1/purchase/suppliers",bearer:e,initialFetchSize:50,params:{acc:1}}),v=a.useCallback(async({id:V,refresh:W})=>{const U=W?t.current:V;if(!U)throw new Error(" id");W||(t.current=V,n.startReading("...",{id:V}));try{const{status:X,payload:te,error:se}=await i({url:"v1/purchase/suppliers",bearer:e,params:{id:U}});if(console.log("payload",te),X.success){const he=RI.transformForReading(te.data[0]);n.finishedReading({data:he})}else throw se||new Error("")}catch(X){n.failedReading(X)}},[n,i,e]),T=a.useCallback(async(V,W)=>{V==null||V.stopPropagation(),n.cancelAction(),m(W),n.startReading("...",{id:W.FactID}),v({id:W.FactID})},[n,v]),I=a.useCallback(()=>{f.confirm({message:"?",onConfirm:()=>{n.cancelUpdating(),v({refresh:!0})}})},[n,f,v]),P=a.useCallback(()=>{f.confirm({message:"?",onConfirm:()=>{n.cancelAction()}})},[n,f]),E=a.useCallback(()=>{f.confirm({message:"?",onConfirm:()=>{n.cancelAction()}})},[n,f]),k=a.useCallback(()=>{n.cancelAction()},[n]),w=a.useCallback(async({data:V})=>{try{n.startCreating();const{status:W,error:U}=await c({url:"v1/purchase/suppliers",data:V,bearer:e});if(W.success)ae.success(`${V==null?void 0:V.FactID} ${V==null?void 0:V.FactData}`),n.finishedCreating(),n.cancelReading(),D.loadList({refresh:!0});else throw U||new Error("")}catch(W){n.failedCreating(W),console.error("handleCreate.failed",W),ae.error("",W)}},[n,c,D,e]),A=a.useCallback(async({data:V})=>{try{n.startUpdating();const{status:W,error:U}=await u({url:"v1/purchase/suppliers",data:V,bearer:e});if(W.success)ae.success(`${V==null?void 0:V.FactID} ${V==null?void 0:V.FactData}`),n.finishedUpdating(),v({id:V==null?void 0:V.FactID}),D.loadList({refresh:!0});else throw U||new Error("")}catch(W){n.failedUpdating(W),console.error("handleUpdate.failed",W),ae.error("",W)}},[n,u,v,D,e]),F=a.useCallback(async V=>{console.log("A05.onEditorSubmit()",V);const W=RI.transformForEditorSubmit(V);console.log("processed",W),n.creating?w({data:W}):n.updating?A({data:W}):console.error("UNKNOWN SUBMIT TYPE")},[n.creating,n.updating,w,A]),_=a.useCallback(V=>{console.error("A05.onSubmitError",V),ae.error(", (*)",{position:"top-right"})},[]),L=a.useCallback(V=>{V==null||V.stopPropagation();const W={trans:[],combo:[]};n.promptCreating({data:W})},[n]),K=a.useCallback(()=>{var V,W;f.confirm({message:`${(V=n.itemData)==null?void 0:V.FactID} ${(W=n.itemData)==null?void 0:W.FactData}?`,onConfirm:async()=>{var U,X;try{n.startDeleting(n.itemData);const{status:te,error:se}=await d({url:"v1/purchase/suppliers",bearer:e,params:{id:(U=n.itemData)==null?void 0:U.FactID}});if(te.success)n.cancelAction(),ae.success(`${(X=n.itemData)==null?void 0:X.FactID} ${n.itemData.FactData}`),D.loadList({refresh:!0});else throw se||""}catch(te){n.failedDeleting(te),console.error("confirmDelete.failed",te),ae.error("",te)}}})},[n,f,d,D,e]),z=a.useCallback(V=>{y(),console.log("onSearchSubmit",V),D.loadList({params:RI.transformAsQueryParams(V)})},[y,D]),J=a.useCallback(V=>{console.error("onSearchSubmitError",V)},[]),Q=a.useCallback(({reset:V})=>()=>{V({lvId:"",lvName:"",lvBank:null})},[]);return En(()=>{n.cancelAction()},[]),{...D,...n,onSearchSubmit:z,onSearchSubmitError:J,handleSelect:T,selectedItem:p,handleDialogClose:k,confirmDialogClose:P,confirmQuitCreating:E,onEditorSubmit:F,onEditorSubmitError:_,confirmReturn:I,handlePromptCreating:L,confirmDelete:K,...o,...s,popperOpen:h,handlePopperToggle:g,handlePopperOpen:x,handlePopperClose:y,handleReset:Q}},vSe=({children:e})=>{const t=a.useContext(Be),n=P1t({token:t.token});return r.jsx(Xd.Provider,{value:{...n},children:e})};vSe.propTypes={children:l.oneOfType([l.array,l.object])};const R1t="1",jSe="2",w1t="",t2=[{id:"1",label:""},{id:jSe,label:""}],k1t=e=>{if(!e)return"";const{id:t,label:n}=e;return`${t} ${n}`},A1t=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),N1t=e=>{const t=t2.find(n=>n.id===e);return(t==null?void 0:t.label)||"()"},F1t=e=>t2.find(t=>t.id===e),M1t=e=>t2.find(t=>t.id===e),Tj={KEY_LOCAL:R1t,KEY_OTHER:jSe,KEY_EMPTY:w1t,options:t2,getOptionLabel:k1t,isOptionEqualToValue:A1t,getNameById:N1t,findById:F1t,findByInput:M1t},gq=a.forwardRef((e,t)=>{const{label:n="",...o}=e;return r.jsx(bt,{ref:t,label:n,options:Tj.options,getOptionLabel:Tj.getOptionLabel,isOptionEqualToValue:Tj.isOptionEqualToValue,findByInput:Tj.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...o})});gq.propTypes={name:l.string,label:l.string,children:l.node};gq.displayName="AreaTypePicker";const qD=(e={})=>{const{insertRowBelow:t}=e;t===void 0&&console.warn("%cinsertRowBelow",Ob.CONSOLE_WARN);const n=a.useContext(Kn),{getNextCell:o,lastCell:s,isLastRow:i,setActiveCell:c,skipDisabled:u,readOnly:d,focusOnDisabled:p}=n;return{handleFocusNextCell:a.useCallback((f,h={})=>{if(console.log("handleFocusNextCell from: ",f),!o)throw new Error("useCellFocus  getNextCell ");const g=o(f,h);if(g.field)c(g.field);else{if(!i(f))return;if(typeof s=="string")ae.warn(s);else if(typeof s=="function")s(h);else switch(s){case Xn.BLUR:c(null);break;case Xn.CREATE_ROW:g.isForward&&t();break}}},[o,t,i,s,c]),skipDisabled:u,readOnly:d,focusOnDisabled:p}},n2=e=>{const{column:t,cellFocus:n,columnData:o}=e,{rowIndex:s,rowData:i,focus:c,active:u,disabled:d,columnIndex:p,setRowData:m,stopEditing:f}=t,{handleFocusNextCell:h,skipDisabled:g,readOnly:x,focusOnDisabled:y=!1}=n,{name:D,hideControlsOnActive:v,selectOnFocus:T,multiple:I=!1,...P}=o;Object.entries({rowIndex:s,rowData:i,focus:c,active:u,disabled:d,columnIndex:p,setRowData:m,stopEditing:f}).forEach(([z,J])=>{J===void 0&&console.warn(`%c[props].${z}`,Ob.CONSOLE_WARN)}),Object.entries({handleFocusNextCell:h,skipDisabled:g,readOnly:x,focusOnDisabled:y}).forEach(([z,J])=>{J===void 0&&console.warn(`%c[cellFocus].${z}`,Ob.CONSOLE_WARN)}),Object.entries({name:D}).forEach(([z,J])=>{J===void 0&&console.warn(`%c[columnData].${z}`,Ob.CONSOLE_WARN)});const E=a.useRef(),k=a.useRef({popperOpen:null}),w=a.useMemo(()=>({row:s,col:p}),[p,s]),A=a.useMemo(()=>d||v?!c:!u,[u,v,d,c]),F=a.useCallback(z=>{console.log(`[${D}]useOptionPickerComponent.handleChange`,z),m(z),setTimeout(()=>{var J;f({nextRow:!1}),console.log("stopEditing invoked"),(J=E.current)==null||J.blur()})},[D,m,f]),_=a.useCallback(()=>{console.log("onOpen callback fired"),k.current.popperOpen=!0},[]),L=a.useCallback(()=>{console.log("onClose callback fired"),k.current.popperOpen=!1},[]);a.useLayoutEffect(()=>{var z,J,Q;c?(console.log("useOptionPickerComponent onFocus",c),(z=E.current)==null||z.focus(),T&&((J=E.current)==null||J.select())):(console.log(`useOptionPickerComponent.leaveFocus, asyncRef.current.popperOpen: ${k.current.popperOpen}`),k.current.popperOpen||(Q=E.current)==null||Q.blur())},[c,T]),a.useLayoutEffect(()=>{g&&u&&d&&!y&&!x&&(h?h(w):console.log("handleFocusNextCell is null"))},[u,w,p,d,h,y,x,s,g]),mn(()=>{console.log(`[${D}].rowData changed`,i),i&&!I&&!d&&u&&(console.log("	handleFocusNextCell triggered"),k.current.performFocusNext=!1,h(w,{forward:!0}))},[i]);const K=a.useMemo(()=>({toastError:!0,blurToLookup:!1,hideBorders:!0,disableFadeOut:!0,dense:!0,autoHighlight:!0,selectOnFocus:!0,label:""}),[]);return{name:D,inputRef:E,hideControls:A,cell:w,onChange:F,onOpen:_,onClose:L,disabled:d,multiple:I,value:i,handleFocusNextCell:h,...K,...P}},_1t=(e,t)=>Gn.arePropsEqual(e,t,{fields:"rowData.id,active,disable,focus"}),bq=a.memo(e=>{const{columnData:t,rowIndex:n,rowData:o,setRowData:s,columnIndex:i,active:c,focus:u,disabled:d,stopEditing:p,insertRowBelow:m}=e,f=qD({insertRowBelow:m}),h=n2({column:{rowIndex:n,rowData:o,setRowData:s,columnIndex:i,active:c,focus:u,disabled:d,stopEditing:p},columnData:t,cellFocus:f});return r.jsx(gq,{virtualize:!0,...h,...Pn.STATIC_PICKER_OPTS})},_1t);bq.propTypes={rowData:l.oneOfType([l.string,l.number,l.object]),setRowData:l.func,rowIndex:l.number,columnIndex:l.number,columnData:l.object,active:l.bool,focus:l.bool,disabled:l.bool,stopEditing:l.func,insertRowBelow:l.func,duplicateRow:l.func,deleteRow:l.func,getContextMenuItems:l.func};bq.displayName="AreaTypePickerCell";const L1t=e=>({StdWhere:[],...(e==null?void 0:e.qs)&&{CondData:{QS_ID:`${e.qs}%`,QS_NAME:`%${e.qs}%`}}}),$1t=e=>e.data?e.data.map(t=>{const{Other1:n,...o}=t;return{areaType:Tj.findById(n)||null,...o}}):[],B1t=e=>{const{areaType:t,...n}=e;return{Other1:t==null?void 0:t.id,...n}},W1t=()=>({areaType:null}),Q$={paramsToJsonData:L1t,transformForReading:$1t,transformForSubmitting:B1t,createRow:W1t},U1t=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),xq=a.memo(e=>{const{canCreate:t,columns:n,lockRows:o,gridRef:s,data:i,loading:c,height:u=300,onChange:d}=e,p=a.useMemo(()=>u+(o||!t?48:0),[t,u,o]);return c?r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(Ko,{height:u})}):c==null?!1:r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(dr,{lockRows:o,ref:s,rowKey:"CodeID",height:p,value:i,onChange:d,columns:n,addRowsComponent:t?go:null,disableExpandSelection:!0,contextMenuComponent:U1t,createRow:Q$.createRow})})});xq.propTypes={canCreate:l.bool,columns:l.array,lockRows:l.bool,gridRef:l.func,drawerOpen:l.bool,data:l.array,loading:l.bool,height:l.number,onChange:l.func,isPersisted:l.func};xq.displayName="A08Grid";const ISe=()=>{const{height:e}=Wt(),t=a.useContext(Tk),n=at(),o=a.useMemo(()=>[{...Pe.keyColumn("CodeID",kt({continuousUpdates:!1,maxLength:3})),disabled:t.grid.isPersisted,title:"",minWidth:60,maxWidth:60},{...Pe.keyColumn("areaType",or(bq,{name:"areaType",disableOpenOnInput:!0,disableClearable:!0,selectOnFocus:!0,autoHighlight:!0})),title:"",minWidth:130,maxWidth:150,disabled:t.grid.readOnly,grow:1},{...Pe.keyColumn("CodeData",kt({continuousUpdates:!1})),title:"",grow:4,disabled:t.grid.readOnly}],[t.grid.isPersisted,t.grid.readOnly]),s=hr({columns:o,data:t.grid.gridData,lastCell:Xn.CREATE_ROW}),i=Ga({baseUri:"v1/sales/customer/areas",grid:t.grid,gridMeta:s,transformForReading:Q$.transformForReading,transformForSubmitting:Q$.transformForSubmitting});En(()=>{i.load()},[]);const c=a.useMemo(()=>i.buildGridChangeHandler({onCreate:i.handleCreate,onUpdate:i.handleUpdate,onDelete:t.canDelete?i.handleConfirmDelete:null,onDuplicatedError:i.handleDuplicatedError}),[t.canDelete,i]),u=a.useMemo(()=>s.buildSelectionChangeHandler(),[s]);return r.jsx(Ye,{...n,children:r.jsx(Kn.Provider,{value:{...t.grid,...s},children:r.jsx(xq,{columns:o,lockRows:t.grid.readOnly,gridRef:s.setGridRef,data:t.grid.gridData,loading:t.grid.gridLoading,height:e-176,onChange:c,onActiveCellChange:s.handleActiveCellChange,onSelectionChange:u,canCreate:t.canCreate})})})};ISe.displayName="A08GridContainer";const TSe=e=>{const{...t}=e,n=a.useContext(Tk);return r.jsx(Ts,{unlockedLabel:"",locked:n.grid.readOnly,onChange:n.grid.toggleReadOnly,disabled:!n.canUpdate,...t})};TSe.displayName="A08LockSwitchContainer";const yq=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(Vo),s=a.useContext(Tk),{moduleAuthorityLoading:i,canPrint:c}=s;return i||!c?!1:r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(cs,{}),sx:{fontWeight:600},onClick:o.promptPrint,color:"neutral",...n,children:""})}));yq.propTypes={};yq.displayName="A08PrintButtonContainer";const Cq=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(kn,{bgcolor:Nn.TOOLBAR,ref:t,LeftComponent:yq,RightComponent:TSe,mb:.5,...n})})}));Cq.propTypes={};Cq.displayName="A08Toolbar";const Dq=a.memo(()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsxs(jt,{children:[r.jsx(Cq,{}),r.jsx(ISe,{})]})]}));Dq.propTypes={drawerOpen:l.bool,boxStyles:l.oneOfType([l.array,l.object])};Dq.displayName="A08Frame";const OSe=()=>r.jsxs(ws,{tableName:"AreaCod",children:[r.jsx(Dq,{}),r.jsx(Is,{})]});OSe.displayName="A08Frame";const ESe=a.createContext(),Sq=[{id:1,label:""},{id:2,label:""},{id:3,label:""},{id:3,label:""}],q1t=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},V1t=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),PSe=e=>Sq.find(t=>t.id===e),z1t=e=>Sq.find(t=>t.id==e),H1t=()=>PSe(1),Oj={options:Sq,getOptionLabel:q1t,isOptionEqualToValue:V1t,getOptionById:PSe,findByInput:z1t,getDefaultOption:H1t},G1t=e=>{var u;const{outputType:t,dept:n,SDate:o,EDate:s,OrderBy:i,...c}=e;return{JobName:"A28",Action:((u=t==null?void 0:t.id)==null?void 0:u.toString())??"",SDate:Re.formatDate(o)??"",EDate:Re.formatDate(s)??"",DeptID:(n==null?void 0:n.DeptID)??"",OrderBy:(i==null?void 0:i.id)??"",...c}},Ule={transformForSubmitting:G1t},K1t=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"A28"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebA28Rep.aspx`,[e.REPORT_URL]),u=yn([{from:"SDate",to:"EDate"}],{name:""}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...Ule.transformForSubmitting(g)};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...Ule.transformForSubmitting(g)};console.log("data",x),u.open(c,x)},[c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},RSe=({children:e})=>{const t=K1t(),n=a.useContext(Be),{operator:o}=n,s=at({defaultValues:{dept:o?{DeptID:o.CurDeptID,AbbrName:o.CurDeptName}:null,SDate:new Date,EDate:new Date,outputType:jn.getDefaultOption(),OrderBy:Oj.getDefaultOption(),Top:20}});return r.jsx(Ye,{...s,children:r.jsx(ESe.Provider,{value:{...t,handleSubmit:s.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};RSe.propTypes={children:l.oneOfType([l.array,l.element])};const vq=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:Oj.options,getOptionLabel:Oj.getOptionLabel,isOptionEqualToValue:Oj.isOptionEqualToValue,findByInput:Oj.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});vq.propTypes={name:l.string,label:l.string,children:l.node};vq.displayName="A28OrderTypePicker";const jq=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,children:r.jsx(wa,{filterByOperator:!0,label:"",name:"dept",disableOpenOnInput:!0,selectOnFocus:!0,scope:Tn.SCOPES.BRANCH_HQ,autoFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx($e,{label:"",name:"LoginName",size:"small",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx($e,{label:"",name:"UserName",size:"small",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx($e,{label:"",name:"IP",size:"small",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx($e,{label:"",name:"Top",size:"small",fullWidth:!0,type:"number"})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(vq,{name:"OrderBy",label:"",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});jq.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};jq.displayName="A28Form";const wSe=()=>{const e=Ke(),t=a.useContext(ESe),n=vt(`
		dept,
		SDate,
		EDate,
		LoginName,
		UserName,
		IP,
		Top,
		OrderBy,
		`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(jq,{onSubmit:o,onDebugSubmit:s})})})};wSe.displayName="A28FormContainer";const kSe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(wSe,{})]});kSe.displayName="A28Frame";const Q1t=r.jsxs(r.Fragment,{children:[r.jsx(yt,{path:"A01",element:r.jsx(nCe,{})}),r.jsx(yt,{path:"A010",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(eye,{children:r.jsx(wR,{})})})})}),r.jsx(yt,{path:"AA01",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(Nye,{children:r.jsx(wR,{})})})})}),r.jsx(yt,{path:"A011",element:r.jsx(tye,{children:r.jsx(pCe,{})})}),r.jsx(yt,{path:"A012",element:r.jsx(nye,{children:r.jsx(fCe,{})})}),r.jsx(yt,{path:"A013",element:r.jsx(rye,{children:r.jsx(gCe,{})})}),r.jsx(yt,{path:"A014",element:r.jsx(oye,{children:r.jsx(xCe,{})})}),r.jsx(yt,{path:"A015",element:r.jsx(sye,{children:r.jsx(CCe,{})})}),r.jsx(yt,{path:"A02",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(aye,{children:r.jsx(vCe,{})})})})}),r.jsx(yt,{path:"A03",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(iye,{children:r.jsx(ACe,{})})})})}),r.jsx(yt,{path:"A04",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(lye,{children:r.jsx(MCe,{})})})})}),r.jsx(yt,{path:"A05",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(vSe,{children:r.jsx(sDe,{})})})})}),r.jsx(yt,{path:"A06",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(uye,{children:r.jsx(H$,{})})})})}),r.jsx(yt,{path:"A07",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(dye,{children:r.jsx(H$,{})})})})}),r.jsx(yt,{path:"A08",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(pye,{children:r.jsx(OSe,{})})})})}),r.jsx(yt,{path:"A09",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(mye,{children:r.jsx(lDe,{})})})})}),r.jsx(yt,{path:"A10",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(fye,{children:r.jsx(dDe,{})})})})}),r.jsx(yt,{path:"A11",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(hye,{children:r.jsx(fDe,{})})})})}),r.jsx(yt,{path:"A12",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(gye,{children:r.jsx(bDe,{})})})})}),r.jsx(yt,{path:"A13",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(bye,{children:r.jsx(CDe,{})})})})}),r.jsx(yt,{path:"A14",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(xye,{children:r.jsx(vDe,{})})})})}),r.jsx(yt,{path:"A15",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(yye,{children:r.jsx(TDe,{})})})})}),r.jsx(yt,{path:"A16",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(Cye,{children:r.jsx(SSe,{})})})})}),r.jsx(yt,{path:"A16G",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(Dye,{children:r.jsx(PDe,{})})})})}),r.jsx(yt,{path:"A17",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(Sye,{children:r.jsx(ADe,{})})})})}),r.jsx(yt,{path:"A18",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(jye,{children:r.jsx(FDe,{})})})})}),r.jsx(yt,{path:"A19",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(Oye,{children:r.jsx($De,{})})})})}),r.jsx(yt,{path:"A20",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(Eye,{children:r.jsx(GDe,{})})})})}),r.jsx(yt,{path:"A21",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(wye,{children:r.jsx(QDe,{})})})})}),r.jsx(yt,{path:"A22",element:r.jsx(kye,{children:r.jsx(sSe,{})})}),r.jsx(yt,{path:"A26",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(Aye,{children:r.jsx(uSe,{})})})})}),r.jsx(yt,{path:"A27",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(Fye,{children:r.jsx(mSe,{})})})})}),r.jsx(yt,{path:"A28",element:r.jsx(Mt,{children:r.jsx(RSe,{children:r.jsx(kSe,{})})})})]}),no=a.createContext(),sb=({children:e,forNew:t=!1})=>r.jsx(no.Provider,{value:{forNew:t},children:e});sb.propTypes={children:l.oneOfType([l.array,l.object]),forNew:l.bool};const Y1t=(e,t,n)=>(e==null?void 0:e.map(o=>{const{ProdID:s,ProdData_N:i,PackData_N:c,Price_N:u}=o;return{Pkey:zn(),prod:{ProdID:s,ProdData:i},ProdData_N:i,PackData_N:c,Price:u,employee:s?t:null,QDate:s?n:null}}))||[],ASe=e=>e==null?void 0:e.map(t=>{const{ProdID:n,ProdData_N:o,QEmplID:s,EmplData_N:i,QDate:c,...u}=t;return{prod:{ProdID:n,ProdData:o},ProdData_N:o,QDate:c,employee:{CodeID:s,CodeData:i},...u}}),NSe=(e,t,n)=>e.filter(o=>{var s;return(s=o.prod)==null?void 0:s.ProdID}).map(o=>{var m;const{Pkey:s,prod:i,QPrice:c,QDate:u,employee:d,...p}=o;return{Pkey:((m=o.Pkey)==null?void 0:m.length)<36?"":o.Pkey,ProdID:i?i.ProdID:"",QPrice:(c==null?void 0:c.toString())||"",QDate:t||u,QEmplID:n||(d==null?void 0:d.CodeID)||"",...p}}),J1t=e=>{const{EmplID:t,EmplData_N:n,Date:o,B011031_W1:s,CustID:i,CustData_N:c,...u}=e;return{dlgDate:Re.parseDate(o),dlgEmployee:{CodeID:t,CodeData:n},dlgCustomer:i?{CustID:i,CustData:c}:null,quotes:ASe(s),...u}},X1t=(e,t)=>{const{dlgCustomer:n,dlgEmployee:o,dlgDate:s}=e,i=(n==null?void 0:n.CustID)||"",c=Re.formatDate(s),u=(o==null?void 0:o.CodeID)||"";return{CustID:i,QEmplID:u,QDate:c,...t&&{B011031_W1:NSe(t,c,u)}}},Z1t=(e,t)=>{const{dlgCustomer:n,dlgEmployee:o}=e;return{CustID:(n==null?void 0:n.CustID)||"",QEmplID:(o==null?void 0:o.CodeID)||"",...t&&{B011031_W1:NSe(t)}}},eIt=e=>{var t,n;return{emp:(t=e.lvEmployee)==null?void 0:t.CodeID,cst:(n=e.lvCust)==null?void 0:n.CustID,dat:Re.formatDate(e.lvDate)}},tIt=e=>{var t,n,o,s,i,c;return{pi:(t=e.sprod)==null?void 0:t.ProdID,pi2:(n=e.eprod)==null?void 0:n.ProdID,pn:e.prodName,cl:(o=e.catL)==null?void 0:o.LClas,cm:(s=e.catM)==null?void 0:s.MClas,cs:(i=e.catS)==null?void 0:i.SClas,ta:(c=e.typeA)==null?void 0:c.id}},ab={transformForReading:J1t,transformForCreating:X1t,transformForUpdating:Z1t,transformAsQueryParams:eIt,transformForGridImport:Y1t,transformGridForReading:ASe,transformProdCriteriaAsQueryParams:tIt},nIt=e=>(e==null?void 0:e.map(t=>({Pkey:zn(),prod:{ProdID:t.SProdID,ProdData:t.SProdData_N},SProdData_N:t.SProdData_N,SPackData_N:t.SPackData_N,SPrice:t.SPrice||null,Seq:t.Seq})))||[],FSe=e=>(e==null?void 0:e.map(t=>({Pkey:t.Pkey,prod:{ProdID:t.SProdID,ProdData:t.SProdData_N},SProdData_N:t.SProdData_N,SPackData_N:t.SPackData_N,SPrice:t.SPrice||null,Seq:t.Seq})))||[],rIt=e=>e.filter(t=>{var n;return(n=t.prod)==null?void 0:n.ProdID}).map((t,n)=>{var o,s,i;return{Pkey:((o=t.Pkey)==null?void 0:o.length)<36?"":t.Pkey,SProdID:(s=t.prod)==null?void 0:s.ProdID,SPrice:((i=t.SPrice)==null?void 0:i.toString())||"",Seq:n+1}}),oIt=e=>{const{EmplID:t,EmplData_N:n,FactID:o,FactData_N:s,FactInq_S:i,Remark:c,...u}=e;return Re.processDateFieldsForReset({employee:{CodeID:t,CodeData:n},supplier:o?{FactID:o,FactData:s}:null,quotes:FSe(i),remark:c.join(`
`),...u},"InqDate")},sIt=(e,t)=>{const{InqID:n,InqDate:o,employee:s,supplier:i,remark:c}=e;return Re.processDateFieldsForSubmit({InqID:n,InqDate:o,EmplID:(s==null?void 0:s.CodeID)||"",FactID:(i==null?void 0:i.FactID)||"",Remark:(c==null?void 0:c.split(`
`))||[],...t&&{FactInq_S:rIt(t)}},"InqDate")},AR=Object.freeze({SUPPLIER:1,PROD:2}),aIt=e=>{var t,n,o,s,i,c,u;return{emp:(t=e.emp)==null?void 0:t.EmplID,emp2:(n=e.emp2)==null?void 0:n.EmplID,cst:(o=e.customer)==null?void 0:o.CustID,cst2:(s=e.customer2)==null?void 0:s.CustID,prd:(i=e.prod)==null?void 0:i.ProdID,prd2:(c=e.prod2)==null?void 0:c.ProdID,dat:Re.formatDate(e.date),dat2:Re.formatDate(e.date2),sort:((u=e.orderBy)==null?void 0:u.id)||AR.SUPPLIER}},MSe=[{id:AR.SUPPLIER,name:""},{id:AR.PROD,name:""}],iIt=e=>{if(!e)return"";const{id:t,name:n}=e;return`${t} ${n}`},lIt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),cIt=e=>MSe.find(t=>String(t.id)===String(e)),zu={transformForReading:oIt,transformForSubmitting:sIt,transformAsQueryParams:aIt,transformForGridImport:nIt,transformGridForReading:FSe,OrderBy:AR,options:MSe,getOptionLabel:iIt,isOptionEqualToValue:lIt,findById:cIt},_Se=(e={})=>{var ie,B,Z,ye,Ie,le;const{forNew:t}=e,n=a.useMemo(()=>t?"v1/quote/new-customer-quotes":"v1/quote/customer-quotes",[t]),o=a.useMemo(()=>t?"v1/prod/data-grid/B031":"v1/prod/data-grid/B011",[t]),s=a.useMemo(()=>t?"B031":"B011",[t]),i=a.useContext(cr),c=a.useContext(Be),u=a.useContext(ln),d=a.useContext(Xc),{itemData:p}=i,m=a.useRef(),{token:f,operator:h}=a.useContext(Be),g=Bt({moduleId:s}),x=Co(),[y,D]=a.useState(),{httpGetAsync:v,httpPostAsync:T,httpPatchAsync:I,httpDeleteAsync:P}=Zn(),E=a.useContext(Mr),k=so({url:`${n}/find-by-cust`,bearer:f,initialFetchSize:50,params:{sort:zu.OrderBy.SUPPLIER}}),w=a.useCallback(()=>({Pkey:zn(),prod:null,ProdData_N:"",PackData_N:"",Price:"",QPrice:"",QDate:null,employee:null}),[]),A=yr({gridId:"quotes",keyColumn:"Pkey",createRow:w}),F=a.useCallback(()=>{const fe={dlgDate:new Date,quotes:[]};i.promptCreating({data:fe}),A.initGridData(fe.quotes,{fillRows:13})},[i,A]),_=a.useCallback(async({data:fe})=>{try{i.startCreating();const{status:Ae,error:Se}=await T({url:`${n}/by-cust`,data:fe,bearer:f});if(Ae.success)ae.success(""),i.finishedCreating(),i.cancelReading(),k.loadList({refresh:!0});else throw Se??new Error("")}catch(Ae){i.failedCreating(),console.error("handleCreate.failed",Ae),ae.error("",Ae)}},[n,i,T,k,f]),L=a.useCallback(async({cst:fe,emp:Ae,dat:Se,refresh:be=!1})=>{try{const Me=be?m.current:{cst:fe,emp:Ae,dat:Se};be||(m.current=Me,i.startReading("...",{itemId:Me}));const{status:we,payload:Ge,error:We}=await v({url:`${n}/by-cust`,bearer:f,params:{...Me}});if(we.success){const Ee=ab.transformForReading(Ge.data[0]);i.finishedReading({data:Ee}),D(Ee),A.initGridData(Ee.quotes)}else throw We??new Error("")}catch(Me){i.failedReading(Me)}},[v,n,f,i,A]),K=a.useCallback(async(fe,Ae)=>{console.log("handleSelect",Ae),fe==null||fe.stopPropagation(),i.cancelAction(),L({cst:Ae.CustID,emp:Ae.QEmplID})},[i,L]),z=a.useCallback((fe,Ae)=>{console.log("handleSelectDate",Ae),fe==null||fe.stopPropagation(),i.cancelAction(),L({cst:Ae.CustID,emp:Ae.QEmplID,dat:Ae.QDate})},[i,L]),J=a.useCallback(()=>{E.confirm({message:"?",onConfirm:()=>{i.cancelAction()}})},[i,E]),Q=a.useCallback(()=>{E.confirm({message:"?",onConfirm:()=>{i.cancelAction(),L({refresh:!0})}})},[i,E,L]),V=a.useCallback(()=>{E.confirm({message:"?",onConfirm:()=>{i.cancelUpdating(),L({refresh:!0})}})},[i,E,L]),W=a.useCallback(async({data:fe})=>{try{i.startUpdating();const{status:Ae,error:Se}=await I({url:`${n}/by-cust`,data:fe,bearer:f});if(Ae.success)ae.success(""),i.finishedUpdating(),L({refresh:!0}),k.loadList({refresh:!0});else throw Se??new Error("")}catch(Ae){i.failedUpdating(),console.error("handleCreate.failed",Ae),ae.error("",Ae)}},[n,i,I,k,L,f]),U=a.useCallback(()=>{E.confirm({message:`${p==null?void 0:p.InqID}?`,onConfirm:async()=>{try{i.startDeleting(p);const{status:fe,error:Ae}=await P({url:`${n}/by-cust`,bearer:f,params:{id:p==null?void 0:p.InqID}});if(fe.success)i.cancelAction(),ae.success(` ${p==null?void 0:p.InqID}`),k.loadList({refresh:!0});else throw Ae||""}catch(fe){i.failedDeleting(fe),console.error("confirmDelete.failed",fe),ae.error("",fe)}}})},[n,i,E,P,p,k,f]),X=a.useCallback(fe=>{console.log("onSearchSubmit",fe)},[]),te=a.useCallback(fe=>{console.error("onSearchSubmitError",fe)},[]),se=a.useCallback(({rowData:fe,newValue:Ae,formData:Se})=>{var Me,we,Ge,We;let be={...fe};return i.creating&&be.prod&&A.isDuplicating(fe,Ae,{key:"prod.ProdID"})&&(ae.error(`${(Me=be.prod)==null?void 0:Me.ProdData}, `),be.prod=null),be={...be,QPrice:"",Price:((we=be==null?void 0:be.prod)==null?void 0:we.Price)||"",PackData_N:((Ge=be==null?void 0:be.prod)==null?void 0:Ge.PackData_N)||"",ProdData_N:((We=be==null?void 0:be.prod)==null?void 0:We.ProdData)||""},be},[i.creating,A]),he=a.useCallback(({fromRowIndex:fe,formData:Ae,newValue:Se})=>async(be,Me)=>{var Ee,Xe;const we=fe+Me,Ge=A.gridData[we];console.log(` ${we} ...`,be);let We={...be};return((Ee=be.prod)==null?void 0:Ee.ProdID)!==((Xe=Ge==null?void 0:Ge.prod)==null?void 0:Xe.ProdID)&&(console.log(`[${we}]prod changed`,be==null?void 0:be.prod),We=se({rowData:be,oldRowData:Ge,formData:Ae,newValue:Se})),We},[A.gridData,se]),pe=a.useCallback(fe=>{if(console.log("onEditorSubmit",fe),i.creating){const Ae=ab.transformForCreating(fe,A.gridData);console.log("collected",Ae),_({data:Ae})}else if(i.updating){const Se={data:[ab.transformForUpdating(fe,A.getDirtyRows())],delete:[...A.deletedIds]};console.log("submitted",Se),W({data:Se})}else console.error("UNKNOWN SUBMIT TYPE")},[i.creating,i.updating,A,_,W]),ue=a.useCallback(fe=>{console.error("onEditorSubmitError",fe),ae.error(", ")},[]),ge=a.useCallback(({rowData:fe,rowIndex:Ae})=>`${(fe==null?void 0:fe.Pkey)||Ae}`,[]),Ce=Or(),[Te,Ne]=a.useState({criteria:null,saveKey:null,totalElements:null,loading:!1}),xe=a.useCallback(async fe=>{if(!f)throw new Error("token not specified");if(Gn.isAllPropsEmpty(fe)){console.log("criteria is empty"),Te.saveKey&&Ne(Ae=>({...Ae,saveKey:null,totalElements:null}));return}Ne(Ae=>({...Ae,loading:!0,criteria:fe}));try{const{status:Ae,payload:Se,error:be}=await v({url:o,bearer:f,params:{...ab.transformProdCriteriaAsQueryParams(fe),pk:1}});if(Ae.success)Ne(Me=>{var we,Ge;return{...Me,saveKey:(we=Se.Select)==null?void 0:we.SaveKey,totalElements:(Ge=Se.Select)==null?void 0:Ge.TotalRecord}});else throw be??new Error("")}catch(Ae){console.error("peek failed",Ae),ae.error("",Ae)}finally{Ne(Ae=>({...Ae,loading:!1}))}},[o,v,Te.saveKey,f]),me=a.useCallback(({form:fe})=>async Ae=>{var Se;console.log("onImportProdsSubmit",Ae);try{Ce.start();const{status:be,payload:Me,error:we}=await v({url:o,bearer:f,params:{...ab.transformProdCriteriaAsQueryParams(Te.criteria),sk:Te.saveKey}});if(be.success){const Ge=((Se=Me.data)==null?void 0:Se[0].B011031_W1)||[];console.log("data",Ge);const We=fe.getValues();A.initGridData(ab.transformForGridImport(Ge,We==null?void 0:We.employee,We==null?void 0:We.Date),{fillRows:!0}),ae.success(` ${Ge.length} `),Ce.clear()}else throw we??new Error("")}catch(be){Ce.fail({error:be}),ae.error("",be)}},[Ce,v,o,f,Te.criteria,Te.saveKey,A]),de=a.useCallback(fe=>{console.error("onImportProdsSubmitError",fe)},[]),ce=Or(),ee=a.useCallback(fe=>{console.log("onPrintPromptSubmit",fe),ce.prompt({params:fe})},[ce]),De=a.useCallback(fe=>{console.error("onPrintPromptSubmitError",fe)},[]),ke=a.useMemo(()=>`${u.REPORT_URL}/WebB011031Rep.aspx`,[u.REPORT_URL]),He=yn(),qe=a.useContext(Sn),Le=Un(),_e=a.useCallback(async fe=>{var we,Ge,We,Ee,Xe,ot,ze;console.log("onSubmit",fe);const{status:Ae,payload:Se,error:be}=await v({bearer:c.token,url:`${n}/find-by-cust`,params:{sort:zu.OrderBy.SUPPLIER,...d.paramsRef.current}});if(Ae.success){if(console.log("payload",Se.data),!((we=Se.data)!=null&&we.length)){ae.error("",{position:"top-right"});return}}else{ae.error("",be);return}const Me={...fe.outputType&&{Action:fe.outputType.id},DeptID:h==null?void 0:h.CurDeptID,JobName:s,CustID:((We=(Ge=ce.params)==null?void 0:Ge.lvCust)==null?void 0:We.CustID)||"",QEmplID:((Ee=fe.prtEmployee)==null?void 0:Ee.CodeID)||"",QDate:Re.formatDate(fe.prtDate)??"",B011031_W1:Se.data?(Xe=Se.data)==null?void 0:Xe.map(tt=>({ProdID:tt.ProdID,Price:tt.Price,QPrice:tt.QPrice})):[]};Le.show({data:Me,url:ke,title:`${(ot=qe.menuItemSelected)==null?void 0:ot.JobID} ${(ze=qe.menuItemSelected)==null?void 0:ze.JobName}`})},[n,s,(ie=qe.menuItemSelected)==null?void 0:ie.JobID,(B=qe.menuItemSelected)==null?void 0:B.JobName,c.token,Le,v,d.paramsRef,h==null?void 0:h.CurDeptID,(ye=(Z=ce.params)==null?void 0:Z.lvCust)==null?void 0:ye.CustID,ke]),H=a.useCallback(async fe=>{var we,Ge,We,Ee,Xe;console.log("onPrintSubmit",fe);const{status:Ae,payload:Se,error:be}=await v({bearer:c.token,url:`${n}/find-by-cust`,params:{sort:zu.OrderBy.SUPPLIER,...d.paramsRef.current}});if(Ae.success){if(console.log("payload",Se.data),!((we=Se.data)!=null&&we.length)){ae.error("",{position:"top-right"});return}}else{ae.error("",be);return}const Me={...fe.outputType&&{Action:fe.outputType.id},DeptID:h==null?void 0:h.CurDeptID,JobName:s,CustID:((We=(Ge=ce.params)==null?void 0:Ge.lvCust)==null?void 0:We.CustID)||"",QEmplID:((Ee=fe.prtEmployee)==null?void 0:Ee.CodeID)||"",QDate:Re.formatDate(fe.prtDate)??"",B011031_W1:Se.data?(Xe=Se.data)==null?void 0:Xe.map(ot=>({ProdID:ot.ProdID,Price:ot.Price,QPrice:ot.QPrice})):[]};console.log("data",Me),He.open(ke,Me)},[n,s,c.token,v,d.paramsRef,h==null?void 0:h.CurDeptID,(le=(Ie=ce.params)==null?void 0:Ie.lvCust)==null?void 0:le.CustID,ke,He]),re=a.useCallback(fe=>{console.error("onPrintSubmitError",fe)},[]),q=a.useCallback(({setValue:fe})=>Ae=>{console.log("handlePrint",Ae),fe("outputType",Ae)},[]),Y=vt(`
		sprod,
		eprod,
		typeA,
		catL,
		catM,
		catS
		`);return{...i,...k,...g,selectedInq:y,loadItem:L,handleSelect:K,handleSelectDate:z,onSearchSubmit:X,onSearchSubmitError:te,confirmQuitCreating:J,confirmQuitUpdating:Q,confirmReturnReading:V,confirmDelete:U,promptCreating:F,onEditorSubmit:pe,onEditorSubmitError:ue,createRow:w,...A,grid:A,onUpdateRow:he,getRowKey:ge,importProdsWorking:Ce.working,promptImportProds:Ce.prompt,cancelImportProds:Ce.clear,importProdsDialogOpen:Ce.active,onImportProdsSubmit:me,onImportProdsSubmitError:de,peekProds:xe,ipState:Te,onPrintPromptSubmit:ee,onPrintPromptSubmitError:De,cancelPrint:ce.clear,printDialogOpen:ce.active,onDebugSubmit:_e,onPrintSubmit:H,onPrintSubmitError:re,loadProdFormMeta:Y,...x,forNew:t,handlePrint:q}},uc=a.createContext(),LSe=({children:e,forNew:t=!1})=>{const n=_Se({forNew:t});return r.jsx(uc.Provider,{value:{...n},children:e})};LSe.propTypes={children:l.oneOfType([l.array,l.object]),forNew:l.bool};const uIt=e=>(e==null?void 0:e.map(t=>{const{CustID:n,CustData_N:o,Price_N:s}=t;return{Pkey:zn(),customer:{CustID:n,CustData:o},CustData_N:o,Price:s}}))||[],$Se=e=>e==null?void 0:e.map(t=>{const{CustID:n,CustData_N:o,QEmplID:s,EmplData_N:i,QDate:c,...u}=t;return{customer:{CustID:n,CustData:o},CustData_N:o,QDate:c,employee:{CodeID:s,CodeData:i},...u}}),BSe=(e,t,n)=>e.filter(o=>{var s;return(s=o.customer)==null?void 0:s.CustID}).map(o=>{const{Pkey:s,customer:i,QPrice:c,QDate:u,employee:d}=o;return{Pkey:(s==null?void 0:s.length)<36?"":o.Pkey,CustID:i?i.CustID:"",QPrice:(c==null?void 0:c.toString())||"",QDate:t||u,QEmplID:n||(d==null?void 0:d.CodeID)||""}}),dIt=e=>{const{EmplID:t,EmplData_N:n,Date:o,B012032_W1:s,ProdID:i,ProdData_N:c,...u}=e;return{dlgDate:Re.parseDate(o),dlgEmployee:{CodeID:t,CodeData:n},dlgProd:i?{ProdID:i,ProdData:c}:null,quotes:$Se(s),...u}},pIt=(e,t)=>{const{dlgProd:n,dlgEmployee:o,dlgDate:s}=e,i=(n==null?void 0:n.ProdID)||"",c=Re.formatDate(s),u=(o==null?void 0:o.CodeID)||"";return{ProdID:i,QEmplID:u,QDate:c,...t&&{B012032_W1:BSe(t,c,u)}}},mIt=(e,t)=>{const{dlgProd:n,dlgEmployee:o}=e;return{ProdID:(n==null?void 0:n.ProdID)||"",QEmplID:(o==null?void 0:o.CodeID)||"",...t&&{B012032_W1:BSe(t)}}},fIt=e=>{var t,n;return{prd:(t=e.lvProd)==null?void 0:t.ProdID,emp:(n=e.lvEmployee)==null?void 0:n.CodeID,dat:Re.formatDate(e.lvDate)}},hIt=e=>{var t,n,o,s;return{cst:(t=e.cust)==null?void 0:t.CustID,cst2:(n=e.cust2)==null?void 0:n.CustID,chn:(o=e.channel)==null?void 0:o.CodeID,are:(s=e.area)==null?void 0:s.CodeID}},ib={transformForReading:dIt,transformForCreating:pIt,transformForUpdating:mIt,transformAsQueryParams:fIt,transformForGridImport:uIt,transformGridForReading:$Se,transformCustCriteriaAsQueryParams:hIt},WSe=(e={})=>{var q,Y;const{forNew:t}=e,n=a.useMemo(()=>t?"B032":"B012",[t]),o=a.useMemo(()=>t?"v1/quote/new-customer-quotes":"v1/quote/customer-quotes",[t]),s=a.useMemo(()=>t?"v1/sales/customer/data-grid/B032":"v1/sales/customer/data-grid/B012",[t]),i=a.useContext(cr),c=a.useContext(Be),u=a.useContext(ln),d=a.useContext(Xc),{itemData:p}=i,m=a.useRef(),{token:f,operator:h}=a.useContext(Be),g=Bt({moduleId:n}),x=Co(),[y,D]=a.useState(),{httpGetAsync:v,httpPostAsync:T,httpPatchAsync:I,httpDeleteAsync:P}=Zn(),E=a.useContext(Mr),k=so({url:`${o}/find-by-prod`,bearer:f,initialFetchSize:50,params:{sort:zu.OrderBy.PROD}}),w=a.useCallback(()=>({Pkey:zn(),customer:null,CustData_N:"",Price:"",QPrice:"",QDate:null,employee:null}),[]),A=yr({gridId:"quotes",keyColumn:"Pkey",createRow:w}),F=a.useCallback(()=>{const ie={InqDate:new Date,quotes:[]};i.promptCreating({data:ie}),A.initGridData(ie.quotes,{fillRows:13})},[i,A]),_=a.useCallback(async({data:ie})=>{try{i.startCreating();const{status:B,error:Z}=await T({url:`${o}/by-prod`,data:ie,bearer:f});if(B.success)ae.success(""),i.finishedCreating(),i.cancelReading(),k.loadList({refresh:!0});else throw Z??new Error("")}catch(B){i.failedCreating(),console.error("handleCreate.failed",B),ae.error("",B)}},[o,i,T,k,f]),L=a.useCallback(async({prd:ie,emp:B,dat:Z,refresh:ye=!1})=>{try{const Ie=ye?m.current:{prd:ie,emp:B,dat:Z};ye||(m.current=Ie,i.startReading("...",{itemId:Ie}));const{status:le,payload:fe,error:Ae}=await v({url:`${o}/by-prod`,bearer:f,params:{...Ie}});if(le.success){const Se=ib.transformForReading(fe.data[0]);i.finishedReading({data:Se}),D(Se),A.initGridData(Se.quotes)}else throw Ae??new Error("")}catch(Ie){i.failedReading(Ie)}},[v,o,f,i,A]),K=a.useCallback(async(ie,B)=>{console.log("handleSelect",B),ie==null||ie.stopPropagation(),i.cancelAction(),L({prd:B.ProdID,emp:B.QEmplID})},[i,L]),z=a.useCallback(({setValue:ie})=>B=>{ie("Price",(B==null?void 0:B.Price)||"")},[]),J=a.useCallback((ie,B)=>{console.log("handleSelectDate",B),ie==null||ie.stopPropagation(),i.cancelAction(),L({prd:B.ProdID,emp:B.QEmplID,dat:B.QDate})},[i,L]),Q=a.useCallback(()=>{E.confirm({message:"?",onConfirm:()=>{i.cancelAction()}})},[i,E]),V=a.useCallback(()=>{E.confirm({message:"?",onConfirm:()=>{i.cancelAction(),L({refresh:!0})}})},[i,E,L]),W=a.useCallback(()=>{E.confirm({message:"?",onConfirm:()=>{i.cancelUpdating(),L({refresh:!0})}})},[i,E,L]),U=a.useCallback(async({data:ie})=>{try{i.startUpdating();const{status:B,error:Z}=await I({url:`${o}/by-prod`,data:ie,bearer:f});if(B.success)ae.success(""),i.finishedUpdating(),L({refresh:!0}),k.loadList({refresh:!0});else throw Z??new Error("")}catch(B){i.failedUpdating(),console.error("handleCreate.failed",B),ae.error("",B)}},[o,i,I,k,L,f]),X=a.useCallback(()=>{E.confirm({message:`${p==null?void 0:p.InqID}?`,onConfirm:async()=>{try{i.startDeleting(p);const{status:ie,error:B}=await P({url:`${o}/by-prod`,bearer:f,params:{id:p==null?void 0:p.InqID}});if(ie.success)i.cancelAction(),ae.success(` ${p==null?void 0:p.InqID}`),k.loadList({refresh:!0});else throw B||""}catch(ie){i.failedDeleting(ie),console.error("confirmDelete.failed",ie),ae.error("",ie)}}})},[o,i,E,P,p,k,f]),te=a.useCallback(ie=>{console.log("onSearchSubmit",ie)},[]),se=a.useCallback(ie=>{console.error("onSearchSubmitError",ie)},[]),he=a.useCallback(({rowData:ie,newValue:B})=>{var ye,Ie;let Z={...ie};return i.creating&&Z.customer&&A.isDuplicating(ie,B,{key:"customer.CustID"})&&(ae.error(`${(ye=Z.customer)==null?void 0:ye.CustData}, `,{position:"top-right"}),Z.customer=null),Z={...Z,CustData_N:((Ie=Z==null?void 0:Z.customer)==null?void 0:Ie.CustData)||"",QPrice:""},Z},[i.creating,A]),pe=a.useCallback(({fromRowIndex:ie,formData:B,newValue:Z})=>async(ye,Ie)=>{var Se,be;const le=ie+Ie,fe=A.gridData[le];console.log(` ${le} ...`,ye);let Ae={...ye};return((Se=ye.customer)==null?void 0:Se.CustID)!==((be=fe==null?void 0:fe.customer)==null?void 0:be.CustID)&&(console.log(`[${le}]customer changed`,ye==null?void 0:ye.customer),Ae=he({rowData:ye,oldRowData:fe,formData:B,newValue:Z})),Ae},[A.gridData,he]),ue=a.useCallback(ie=>{if(console.log("onEditorSubmit",ie),i.creating){const B=ib.transformForCreating(ie,A.gridData);console.log("collected",B),_({data:B})}else if(i.updating){const Z={data:[ib.transformForUpdating(ie,A.getDirtyRows())],delete:[...A.deletedIds]};console.log("submitted",Z),U({data:Z})}else console.error("UNKNOWN SUBMIT TYPE")},[i.creating,i.updating,A,_,U]),ge=a.useCallback(ie=>{console.error("onEditorSubmitError",ie)},[]),Ce=a.useCallback(({rowData:ie,rowIndex:B})=>`${(ie==null?void 0:ie.Pkey)||B}`,[]),Te=Or(),[Ne,xe]=a.useState({criteria:null,saveKey:null,totalElements:null,loading:!1}),me=a.useCallback(async ie=>{if(!f)throw new Error("token not specified");if(Gn.isAllPropsEmpty(ie)){console.log("criteria is empty"),Ne.saveKey&&xe(B=>({...B,saveKey:null,totalElements:null}));return}xe(B=>({...B,loading:!0,criteria:ie}));try{const{status:B,payload:Z,error:ye}=await v({url:s,bearer:f,params:{...ib.transformCustCriteriaAsQueryParams(ie),pk:1}});if(B.success)xe(Ie=>{var le,fe;return{...Ie,saveKey:(le=Z.Select)==null?void 0:le.SaveKey,totalElements:(fe=Z.Select)==null?void 0:fe.TotalRecord}});else throw ye??new Error("")}catch(B){console.error("peek failed",B),ae.error("",B)}finally{xe(B=>({...B,loading:!1}))}},[s,v,Ne.saveKey,f]),de=a.useCallback(({form:ie})=>async B=>{var Z;console.log("onImportCustsSubmit",B);try{Te.start();const{status:ye,payload:Ie,error:le}=await v({url:s,bearer:f,params:{...ib.transformCustCriteriaAsQueryParams(Ne.criteria),sk:Ne.saveKey}});if(ye.success){const fe=((Z=Ie.data)==null?void 0:Z[0].B012032_W1)||[];console.log("data",fe);const Ae=ie.getValues();A.initGridData(ib.transformForGridImport(fe,Ae==null?void 0:Ae.employee,Ae==null?void 0:Ae.Date),{fillRows:!0}),ae.success(` ${fe.length} `),Te.clear()}else throw le??new Error("")}catch(ye){Te.fail({error:ye}),ae.error("",ye)}},[Te,v,s,f,Ne.criteria,Ne.saveKey,A]),ce=a.useCallback(ie=>{console.error("onImportCustsSubmitError",ie)},[]),ee=Or(),De=a.useCallback(ie=>{console.log("onPrintPromptSubmit",ie),ee.prompt({params:ie})},[ee]),ke=a.useCallback(ie=>{console.error("onPrintPromptSubmitError",ie)},[]),He=a.useMemo(()=>`${u.REPORT_URL}/WebB012032Rep.aspx`,[u.REPORT_URL]),qe=yn(),Le=a.useCallback(async ie=>{var Ae,Se,be,Me;console.log("onPrintSubmit",ie);const{status:B,payload:Z,error:ye}=await v({bearer:c.token,url:`${o}/find-by-prod`,params:{sort:zu.OrderBy.PROD,...d.paramsRef.current}});if(B.success){if(console.log("payload",Z.data),!((Ae=Z.data)!=null&&Ae.length)){ae.error("",{position:"top-right"});return}}else{ae.error("",ye);return}const{prtEmployee:Ie,prtDate:le}=ie,fe={...ie.outputType&&{Action:ie.outputType.id},DeptID:h==null?void 0:h.CurDeptID,JobName:n,ProdID:((be=(Se=ee.params)==null?void 0:Se.lvProd)==null?void 0:be.ProdID)||"",QEmplID:(Ie==null?void 0:Ie.CodeID)||"",QDate:Re.formatDate(le),B012032_W1:Z.data?(Me=Z.data)==null?void 0:Me.map(we=>({CustID:we.CustID,Price:we.Price,QPrice:we.QPrice})):[]};console.log("data",fe),qe.open(He,fe)},[o,n,c.token,v,d.paramsRef,h==null?void 0:h.CurDeptID,(Y=(q=ee.params)==null?void 0:q.lvProd)==null?void 0:Y.ProdID,He,qe]),_e=a.useCallback(ie=>{console.error("onPrintSubmitError",ie)},[]),H=a.useCallback(({setValue:ie})=>B=>{console.log("handlePrint",B),ie("outputType",B)},[]),re=vt(`
		cust,
		cust2,
		area,
		channel
		`);return{...i,...k,...g,selectedInq:y,loadItem:L,handleSelect:K,handleSelectDate:J,onSearchSubmit:te,onSearchSubmitError:se,confirmQuitCreating:Q,confirmQuitUpdating:V,confirmReturnReading:W,confirmDelete:X,promptCreating:F,onEditorSubmit:ue,onEditorSubmitError:ge,createRow:w,...A,grid:A,onUpdateRow:pe,getRowKey:Ce,importCustsWorking:Te.working,promptImportCusts:Te.prompt,cancelImportCusts:Te.clear,importCustsDialogOpen:Te.active,onImportCustsSubmit:de,onImportCustsSubmitError:ce,peekCusts:me,ipState:Ne,cancelPrint:ee.clear,printDialogOpen:ee.active,onPrintPromptSubmit:De,onPrintPromptSubmitError:ke,onPrintSubmit:Le,onPrintSubmitError:_e,importCustsFormMeta:re,handleProdChange:z,...x,forNew:t,handlePrint:H}},dc=a.createContext(),USe=({children:e,forNew:t})=>{const n=WSe({forNew:t});return r.jsx(dc.Provider,{value:{...n},children:e})};USe.propTypes={children:l.oneOfType([l.array,l.object]),forNew:l.bool};const qSe=(e={})=>{var U,X;const{forNew:t}=e,n=a.useMemo(()=>t?"B04":"B02",[t]),o=a.useMemo(()=>t?"v1/quote/new-customer-quotes":"v1/quote/customer-quotes",[t]),s=a.useContext(cr),{token:i,operator:c}=a.useContext(Be),u=a.useContext(ln),d=Bt({moduleId:n}),p=a.useContext(Sn),m=Un(),f=Co(),[h,g]=a.useState(),x=so({url:o,bearer:i,initialFetchSize:50,params:{sort:1}}),y=a.useCallback(()=>({Pkey:zn(),prod:null,SPrice:""}),[]),D=yr({gridId:"quotes",keyColumn:"pkey",createRow:y}),v=a.useCallback(()=>{const te={InqDate:new Date,quotes:[]};s.promptCreating({data:te}),D.initGridData(te.quotes,{fillRows:!0})},[s,D]),T=a.useCallback(te=>{console.log("onSearchSubmit",te)},[]),I=a.useCallback(te=>{console.error("onSearchSubmitError",te)},[]),P=a.useCallback(({rowData:te})=>{var he,pe;let se={...te};return se={...se,SPrice:"",SPackData_N:((he=te==null?void 0:te.prod)==null?void 0:he.PackData_N)||"",SProdData_N:((pe=te==null?void 0:te.prod)==null?void 0:pe.ProdData)||""},se},[]),E=a.useCallback(({gridMeta:te})=>(se,he)=>{console.log("buildGridChangeHandler",he);const pe=[...se];for(const ue of he)ue.type==="UPDATE"?se.slice(ue.fromRowIndex,ue.toRowIndex).forEach((ge,Ce)=>{var me,de;const Te=ue.fromRowIndex+Ce,Ne=D.gridData[Te];let xe={...ge};((me=ge.prod)==null?void 0:me.ProdID)!==((de=Ne==null?void 0:Ne.prod)==null?void 0:de.ProdID)&&(console.log(`[${Te}]prod changed`,ge==null?void 0:ge.prod),xe=P({rowData:ge,oldRowData:Ne})),pe[Te]=xe}):ue.type==="DELETE"?pe.splice(ue.fromRowIndex,ue.toRowIndex-ue.fromRowIndex+1):ue.type==="CREATE"&&(console.log("dsg.CREATE"),te.toFirstColumn({nextRow:!0}));console.log("after changed",pe),D.setGridData(pe)},[D,P]),k=a.useCallback(({rowData:te,rowIndex:se})=>`${(te==null?void 0:te.Pkey)||se}`,[]),w=Or(),[A,F]=a.useState({criteria:null,saveKey:null,totalElements:null,loading:!1}),_=a.useCallback(te=>{var se,he,pe,ue,ge;return{...te.outputType&&{Action:te.outputType.id},DeptID:c==null?void 0:c.CurDeptID,JobName:n,CustID1:((se=te.customer)==null?void 0:se.CustID)||"",CustID2:((he=te.customer2)==null?void 0:he.CustID)||"",ProdID1:((pe=te.prod)==null?void 0:pe.ProdID)||"",ProdID2:((ue=te.prod2)==null?void 0:ue.ProdID)||"",QDate1:Re.formatDate(te.date)||"",QDate2:Re.formatDate(te.date2)||"",OrderBy:(ge=te.orderBy)==null?void 0:ge.id}},[n,c==null?void 0:c.CurDeptID]),L=a.useMemo(()=>`${u.REPORT_URL}/WebB0204Rep.aspx`,[u.REPORT_URL]),K=yn({from:"QDate1",to:"QDate2"}),z=a.useCallback(te=>{var he,pe;console.log("onSubmit",te);const se=_(te);m.show({data:se,url:L,title:`${(he=p.menuItemSelected)==null?void 0:he.JobID} ${(pe=p.menuItemSelected)==null?void 0:pe.JobName}`})},[(U=p.menuItemSelected)==null?void 0:U.JobID,(X=p.menuItemSelected)==null?void 0:X.JobName,m,L,_]),J=a.useCallback(te=>{console.log("onPrintSubmit",te);const se=_(te);console.log("jsonData",se),K.open(L,se)},[L,K,_]),Q=a.useCallback(te=>{console.error("onPrintSubmitError",te)},[]),V=a.useCallback(({setValue:te})=>se=>{console.log("handlePrint",se),te("outputType",se)},[]),W=vt(`
		sprod,
		eprod,
		typeA,
		catL,
		catM,
		catS
		`);return{...s,...x,...d,selectedInq:h,onSearchSubmit:T,onSearchSubmitError:I,promptCreating:v,...D,grid:D,buildGridChangeHandler:E,getRowKey:k,importProdsWorking:w.working,promptImportProds:w.prompt,cancelImportProds:w.clear,importProdsDialogOpen:w.active,ipState:A,onPrintSubmit:J,onPrintSubmitError:Q,loadProdFormMeta:W,...f,forNew:t,onDebugSubmit:z,handlePrint:V}},Zd=a.createContext(),VSe=({children:e,forNew:t=!1})=>{const n=qSe({forNew:t});return r.jsx(Zd.Provider,{value:{...n},children:e})};VSe.propTypes={children:l.oneOfType([l.array,l.object])};const pc=a.createContext(),zSe=({children:e})=>{const t=_Se({forNew:!0});return r.jsx(pc.Provider,{value:{...t},children:e})};zSe.propTypes={children:l.oneOfType([l.array,l.object])};const mc=a.createContext(),HSe=({children:e})=>{const t=WSe({forNew:!0});return r.jsx(mc.Provider,{value:{...t},children:e})};HSe.propTypes={children:l.oneOfType([l.array,l.object])};const ep=a.createContext(),GSe=({children:e})=>{const t=qSe({forNew:!0});return r.jsx(ep.Provider,{value:{...t},children:e})};GSe.propTypes={children:l.oneOfType([l.array,l.object])};const iu=a.createContext(),Y$=Object.freeze({SUPPLIER:1,PROD:2}),KSe=[{id:Y$.SUPPLIER,name:""},{id:Y$.PROD,name:""}],gIt=e=>{if(!e)return"";const{id:t,name:n}=e;return`${t} ${n}`},bIt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),xIt=e=>KSe.find(t=>String(t.id)===String(e)),yIt=e=>{const{supplier:t,supplier2:n,sprod:o,eprod:s,orderBy:i,outputType:c,date1:u,date2:d,...p}=e;return console.log("filtered props",c),{sp1:t==null?void 0:t.FactID,sp2:n==null?void 0:n.FactID,pi:o==null?void 0:o.ProdID,pi2:s==null?void 0:s.ProdID,ob:(i==null?void 0:i.id)||"",dt1:Re.formatDate(u),dt2:Re.formatDate(d)}},CIt=e=>{const{lvSupplier:t,lvSupplier2:n,sprod:o,eprod:s,orderBy:i,outputType:c,date1:u,date2:d,...p}=e;return Re.processDateFieldsForSubmit({Action:c==null?void 0:c.id,JobName:"B06",FactID1:(t==null?void 0:t.FactID)||"",FactID2:(n==null?void 0:n.FactID)||"",SProdID1:(o==null?void 0:o.ProdID)||"",SProdID2:(s==null?void 0:s.ProdID)||"",OrderBy:(i==null?void 0:i.id)||"",InqDate1:Re.formatDate(u)||"",InqDate2:Re.formatDate(d)||"",...p},"date1,date2")},DIt=e=>({StdWhere:[],...(e==null?void 0:e.qs)&&{CondData:{QS_ID:`${e.qs}%`,QS_NAME:`%${e.qs}%`}}}),SIt=e=>{const{supplier:t,supplier2:n,sprod:o,eprod:s,orderBy:i,outputType:c,date1:u,date2:d}=e;return console.log("filtered props",c),{...t&&{sp1:t==null?void 0:t.FactID},...n&&{sp2:n==null?void 0:n.FactID},...o&&{pi:o==null?void 0:o.ProdID},...s&&{pi2:s==null?void 0:s.ProdID},...i&&{ob:(i==null?void 0:i.id)||""},...u&&{dt1:Re.formatDate(u)},...d&&{dt2:Re.formatDate(d)}}},Xm={paramsToJsonData:DIt,transformForSearchSubmitting:yIt,transformForPrinting:CIt,OrderBy:Y$,options:KSe,getOptionLabel:gIt,isOptionEqualToValue:bIt,findById:xIt,transformAsQueryParams:SIt},vIt=()=>{var g;const e=a.useContext(Be),t=a.useContext(ln),n=Bt({moduleId:"B06"}),o=a.useContext(iu),s=so({url:"v1/prod/inquiry-details",bearer:e.token,initialFetchSize:50}),i=a.useCallback((x,y)=>{x==null||x.stopPropagation(),console.log("handleInqIdClick",y),o&&y.InqID_N&&(o.cancelAction(),o.loadItem({id:y.InqID_N}))},[o]),c=a.useCallback(x=>{console.log("onSearchSubmit",x);const y=Xm.transformForSearchSubmitting(x);console.log("collected",y),s.loadList({params:y})},[s]),u=a.useCallback(x=>{console.error("onSearchSubmitError",x)},[]),d=a.useMemo(()=>`${t.REPORT_URL}/WebB06Rep.aspx`,[t.REPORT_URL]),p=yn({from:"InqDate1",to:"InqDate2"}),m=a.useCallback(x=>{var D;console.log("onPrintSubmit",x);const y={...Xm.transformForPrinting(x),DeptID:(D=e.operator)==null?void 0:D.CurDeptID};console.log("collected",y),p.open(d,y)},[(g=e.operator)==null?void 0:g.CurDeptID,d,p]),f=a.useCallback(x=>{console.error("onPrintSubmitError",x)},[]),h=a.useCallback(({setValue:x})=>y=>{console.log("handlePrint",y),x("outputType",y)},[]);return{...s,onSearchSubmit:c,onSearchSubmitError:u,onPrintSubmit:m,onPrintSubmitError:f,...n,handleInqIdClick:i,handlePrint:h}},eg=a.createContext(),QSe=({children:e})=>{var o,s;const t=a.useContext(Be),n=vIt({token:t.token,deptId:(o=t.operator)==null?void 0:o.CurDeptID,logKey:(s=t.operator)==null?void 0:s.LogKey});return r.jsx(eg.Provider,{value:{...n},children:e})};QSe.propTypes={children:l.oneOfType([l.array,l.object])};const jIt=e=>{let t="";return e.shiftKey&&(t+="shift+"),e.ctrlKey&&(t+="ctrl+"),e.altKey&&(t+="alt+"),t+=e.key,t},YSe={forKey:jIt},qle="",JSe="1.0rem",XSe="Consolas, Menlo",IIt=(e,t)=>Gn.arePropsEqual(e,t,{header:"date",fields:"rowData,active,disable,focus"}),TIt=Gd("div")(({theme:e})=>({position:"relative",display:"inline-block",width:"inherit"})),OIt=Gd("input")(({theme:e})=>({outline:"none",border:"none",fontSize:JSe,fontFamily:XSe,width:"100%",padding:"0px 8px",lineHeight:"1rem",backgroundColor:"transparent",position:"relative",zIndex:1,color:"#000","&::placeholder":{visibility:"hidden"}})),EIt=Gd("div")(({theme:e,visible:t,placeholderText:n="____/__/__"})=>({visibility:t?"visible":"hidden",position:"absolute",top:"0px",left:"8px",fontFamily:XSe,fontSize:JSe,color:"#aaa",pointerEvents:"none",zIndex:0,"&::before":{content:`"${n}"`}})),r2=a.memo(e=>{const{focus:t,active:n,rowData:o,setRowData:s,disabled:i,columnIndex:c,rowIndex:u,columnData:d={},stopEditing:p,insertRowBelow:m}=e,f=a.useRef(null),h=u5(),{skipDisabled:g,handleFocusPrevCell:x,getNextCell:y,lastCell:D,isLastRow:v,setActiveCell:T,readOnly:I,continuousUpdates:P,required:E,requiredMessage:k=qle,disablePlaceholder:w=!1,placeholder:A="____/__/__"}=d,[F,_]=a.useState(A),L=a.useRef({rowData:o,setRowData:s,continuousUpdates:P,firstRender:h,focusedAt:0,changedAt:0,escPressed:!1,tabPressed:!1,invalid:!1});L.current={rowData:o,setRowData:s,continuousUpdates:P,firstRender:h,focusedAt:L.current.focusedAt,changedAt:L.current.changedAt,escPressed:L.current.escPressed,tabPressed:L.current.tabPressed,invalid:L.current.invalid};const K=a.useCallback(pe=>{let ue=pe.replace(/\D/g,"");return ue.length>4&&(ue=ue.slice(0,4)+"/"+ue.slice(4)),ue.length>7&&(ue=ue.slice(0,7)+"/"+ue.slice(7)),ue.slice(0,10)},[]),z=a.useCallback(pe=>{if((pe==null?void 0:pe.length)<10)return console.log("10",pe),!1;console.log(`date value ${pe}`);const ue=B3(pe,"yyyy/MM/dd",new Date);return console.log("parsedDate",ue),rf(ue)},[]),J=a.useCallback(pe=>{L.current.changedAt=Date.now(),L.current.errorRefocus=!1,P&&(s(pe.target.value),console.log("rowData updated",pe.target.value))},[P,s]),Q=a.useCallback(()=>{if(f.current){const pe=f.current.value,ue=K(pe);f.current.value=ue;const ge="".repeat(ue.length)+A.slice(ue.length);console.log(`"${ge}"`),_(ge)}},[K,A]);a.useLayoutEffect(()=>{var pe,ue;t?(pe=f.current)==null||pe.select():(ue=f.current)==null||ue.blur()},[t]);const{handleFocusNextCell:V}=Pi({getNextCell:y,lastCell:D,isLastRow:v,setActiveCell:T,stopEditing:p,insertRowBelow:m}),W=a.useMemo(()=>({row:u,col:c}),[c,u]),U=a.useCallback(pe=>{switch(console.log("handleKeyDown",YSe.forKey(pe)),pe.key){case"Escape":L.current.escPressed=!0;break;case"Tab":L.current.tabPressed=!0,pe.preventDefault(),p({nextRow:!1}),setTimeout(()=>{V&&V(W,{forward:!0})});break;case"Enter":pe.preventDefault(),p({nextRow:!1}),setTimeout(()=>{V&&V(W,{forward:!0})});break}},[W,V,p]);a.useLayoutEffect(()=>{g&&n&&i&&!I&&(V?V({row:u,col:c}):console.log("handleFocusNextCell is null"))},[n,c,i,V,I,u,g]),a.useEffect(()=>{o==null&&f.value?(console.log(" ref"),f.current.value="",L.current.changedAt=Date.now(),console.log("changedAt",L.current.changedAt)):o&&!f.value&&(console.log(`sync ref to ${o}`),f.current.value=o,L.current.changedAt=Date.now(),console.log("changedAt",L.current.changedAt))},[o]);const X=a.useCallback((pe={})=>{const{select:ue=!0,touch:ge=!1}=pe;console.log("refocus",{select:ue,touch:ge}),setTimeout(()=>{var Ce,Te;x({col:c,row:u}),(Ce=f.current)==null||Ce.focus(),ge&&(L.current.focusedAt=Date.now(),console.log("focusedAt",L.current.focusedAt),L.current.changedAt=Date.now(),console.log("changedAt",L.current.changedAt)),ue&&((Te=f.current)==null||Te.select())})},[c,x,u]),te=a.useCallback(pe=>Oo.isFunction(k)?k(pe):vo.template(k||qle)(pe),[k]),se=a.useCallback(()=>{f.current&&(f.current.focus(),f.current.select()),L.current.escPressed=!1,L.current.focusedAt=Date.now(),console.log("focusedAt",L.current.focusedAt)},[]),he=a.useCallback(()=>{if(f.current){console.log("changedAt >= focusedAt",L.current.changedAt>=L.current.focusedAt),console.log("invalid",L.current.invalid);const pe=L.current.changedAt>=L.current.focusedAt;if(!L.current.escPressed&&!L.current.continuousUpdates&&!L.current.firstRender&&(pe||L.current.invalid)){if(f.current.value){const ue=z(f.current.value);console.log("isValidDate",ue),L.current.invalid=!ue,(!pe||L.current.tabPressed)&&L.current.invalid&&(ae.error(`"${f.current.value}" `,{position:"top-right"}),L.current.tabPressed&&(L.current.tabPressed=!1,f.current.value=""),X({touch:!0}))}else if(E){const ue=te({value:f.current.value});ae.error(ue,{position:"top-right"}),X()}console.log(`${r2.displayName}.setRowData`,f.current.value),L.current.setRowData(f.current.value||"")}f.current.blur()}},[te,z,X,E]);return a.useLayoutEffect(()=>{t?se():he()},[se,he,t]),a.useEffect(()=>{var pe;!t&&f.current&&((pe=f.current)==null?void 0:pe.value)!=o&&(console.log(`sync ref when not focused: ${f.current.value}  ${o}`),f.current.value=o||"")},[t,o]),r.jsxs(TIt,{children:[r.jsx(OIt,{tabIndex:-1,onChange:J,onInput:Q,onKeyDown:U,style:{pointerEvents:n?"auto":"none",opacity:o||n?void 0:0},ref:f}),r.jsx(EIt,{visible:t&&!w,placeholderText:F})]})},IIt);r2.propTypes={focus:l.bool,active:l.bool,rowData:l.oneOfType([l.string,l.number,l.bool,l.object]),rowIndex:l.number,columnIndex:l.number,disabled:l.bool,columnData:l.object,setRowData:l.func,stopEditing:l.func,insertRowBelow:l.func,skipDisabled:l.bool,handleFocusNextCell:l.func,getNextCell:l.func,lastCell:l.symbol,setActiveCell:l.func,disablePlaceholder:l.bool};r2.displayName="DateInputComponent";const Iq=e=>{const{columnData:t,...n}=e,o=ii(),s=a.useMemo(()=>({...t,...o}),[o,t]);return r.jsx(r2,{columnData:s,...n})};Iq.propTypes={columnData:l.object};Iq.displayName="DateComponentExContainer";const Tq=(e={})=>({component:Iq,columnData:e,deleteValue:()=>"",copyValue:({rowData:t})=>t?t.toISOString().substr(0,10):null,pasteValue:({value:t})=>t,minWidth:170,isCellEmpty:({rowData:t})=>!t}),mf=Tq(),Oq=a.memo(e=>{var c,u;const{forNew:t=!1,anchor:n="right",...o}=e,s=a.useContext(no),i=a.useContext(s.forNew?pc:uc);return r.jsxs(Eo,{anchor:n,open:i.sideDrawerOpen,onClose:i.handleSideDrawerClose,slotProps:{backdrop:{sx:[ur.BACKDROP_TRANSPARENT]}},...o,children:[r.jsx(pn,{label:"",children:(c=i.itemData)==null?void 0:c.WriteDate}),r.jsx(pn,{label:"",children:(u=i.itemData)==null?void 0:u.Writer})]})});Oq.propTypes={anchor:l.string,forNew:l.bool};Oq.displayName="B011Drawer";const Eq=e=>{if(!e)return"";const{CustID:t,CustData:n,AbbrName:o}=e;return[t,o||n].filter(Boolean).join(" ")},PIt=e=>{if(!e)return"";const{CustID:t}=e;return`${t}`},RIt=e=>Eq(e),wIt=e=>Eq(e),kIt=(e,t)=>(e==null?void 0:e.CustID)===(t==null?void 0:t.CustID),AIt=e=>{if(!e)return"";const{id:t,name:n,address:o}=e;return`${t}	${n}	${o}`},NIt=e=>`${e==null?void 0:e.CustID}`,FIt=e=>`${e.CustID} ${e.CustData}`,bs={getOptionLabel:Eq,getOptionLabelForId:PIt,isOptionEqualToValue:kIt,renderText:AIt,getOptionKey:NIt,renderOptionLabel:RIt,getTitle:wIt,stringify:FIt},ho=e=>{const{label:t,placeholder:n,forId:o=!1,forNew:s=!1,fullName:i=!1,withQuotes:c=!1,clearValueOnChange:u=!0,clearOptionsOnChange:d=!0,...p}=e,{token:m}=a.useContext(Be),f=a.useMemo(()=>Hr.stringify({tp:1e4,fuzzy:1,abbr:i?0:1,...c&&{wq:1}}),[i,c]),h=a.useCallback((F,_)=>bs.isOptionEqualToValue(F,_),[]),g=a.useCallback(F=>F.data,[]),x=a.useCallback(F=>bs.getTitle(F),[]),y=a.useCallback(F=>bs.stringify(F),[]),D=a.useCallback(F=>o?bs.getOptionLabelForId(F):bs.getOptionLabel(F),[o]),v=a.useCallback(F=>bs.getOptionKey(F),[]),T=a.useCallback(F=>bs.renderOptionLabel(F),[]),I=a.useMemo(()=>s?"v1/sales/new-customers":"v1/sales/customers",[s]),P=a.useMemo(()=>s?" ${input} ":" ${input} ",[s]),E=a.useMemo(()=>{let F=s?"":"";return o&&(F+=""),t??F},[o,s,t]),k=a.useMemo(()=>{if(n)return n;let F=s?"":"";return F+="",o||(F+="/"),F},[o,s,n]),w=a.useMemo(()=>Ub({stringify:F=>`${F.CustID} ${F.CustData} ${F.AbbrName}`}),[]),A=a.useCallback((F,_)=>{let L=w(F,_);return _.inputValue&&(L=Ii.sortByFoundIndex(L,["CustID","CustData","AbbrName"],_.inputValue)),L},[w]);return r.jsx(bt,{label:E,bearer:m,url:I,filterByServer:!0,queryParam:"qs",querystring:f,getOptionLabel:D,isOptionEqualToValue:h,renderOptionLabel:T,getOptions:g,getTitle:x,stringify:y,getOptionKey:v,notFoundText:P,placeholder:k,typeToSearchText:"...",filterOptions:A,clearValueOnChange:u,clearOptionsOnChange:d,...p})};ho.displayName="CustomerPicker";ho.propTypes={label:l.string,placeholder:l.string,forId:l.bool,fullName:l.bool,forNew:l.bool,autoLabel:l.bool,withQuotes:l.bool,clearOnChange:l.bool,clearOptionsOnChange:l.bool,clearValueOnChange:l.bool};const Pq=a.memo(e=>{const{getRowKey:t,createRow:n,readOnly:o,gridRef:s,data:i,creating:c,onChange:u,getRowClassName:d,height:p=300,bearer:m,...f}=e,h=a.useCallback(({rowData:g})=>({...g,Pkey:zn()}),[]);return r.jsx(dr,{ref:s,rowKey:t,lockRows:o,height:p+(o?48:0),value:i,onChange:u,disableExpandSelection:!0,createRow:n,duplicateRow:h,rowClassName:d,...f})});Pq.propTypes={getRowKey:l.func,onChange:l.func,creating:l.bool};Pq.displayName="B011QuoteGrid";const Rq=e=>{const{...t}=e,n=a.useContext(no),o=a.useContext(n.forNew?pc:uc),s=a.useContext(Be),{height:i}=Wt(),c=a.useContext(Lr),u=Ke(),d=a.useMemo(()=>o.buildGridChangeHandler({gridMeta:c.gridMeta,getValues:u.getValues,onUpdateRow:o.onUpdateRow,onCheckRow:o.onCheckRow,isRowCreatable:o.creating}),[o,u.getValues,c.gridMeta]),p=a.useMemo(()=>i-256,[i]),m=a.useMemo(()=>o.canDelete?Rr({filterItem:f=>["DELETE_ROW","DELETE_ROWS"].includes(f.type)}):null,[o.canDelete]);return r.jsx(Kn.Provider,{value:{...o.grid,...c.gridMeta,readOnly:c.readOnly},children:r.jsx(Pq,{gridRef:c.gridMeta.setGridRef,readOnly:c.readOnly,data:o.grid.gridData,onChange:d,onActiveCellChange:c.gridMeta.handleActiveCellChange,bearer:s.token,height:p,getRowKey:o.getRowKey,createRow:o.createRow,creating:o.creating,autoAddRow:!1,addRowsComponent:o.creating?go:null,contextMenuComponent:m,...t})})};Rq.propTypes={forNew:l.bool};Rq.displayName="B011QuoteGridContainer";const wq=a.memo(e=>{const{readError:t,data:n,readWorking:o,itemDataReady:s,creating:i,editing:c,updating:u,slotProps:d,...p}=e,m=a.useContext(no);return r.jsxs(r.Fragment,{children:[o&&r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",minHeight:"30em",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}),t&&r.jsx(lo,{error:t,...d==null?void 0:d.error}),s&&r.jsx(r.Fragment,{children:r.jsx(Pt,{pt:1,children:r.jsxs(j,{container:!0,columns:24,spacing:1,children:[r.jsx(j,{item:!0,xs:24,sm:24,md:8,children:r.jsx(ho,{autoFocus:!0,typo:!0,forNew:m.forNew,label:m.forNew?"":"",name:"dlgCustomer",required:!0,rules:{required:m.forNew?"":""},virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,disabled:!i})}),r.jsx(j,{item:!0,xs:24,sm:24,md:6,children:r.jsx(Ar,{typo:!0,label:"",name:"dlgEmployee",required:!0,rules:{required:""},virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,disableClearable:!0,disabled:!i})}),i&&r.jsx(j,{item:!0,xs:24,sm:24,md:6,children:r.jsx(et,{typo:!0,name:"dlgDate",label:"",fullWidth:!0,required:!0,variant:"outlined",disabled:!i,validate:!0})}),r.jsx(j,{item:!0,xs:24,children:r.jsx(Rq,{})})]})})})]})});wq.propTypes={readWorking:l.bool,readError:l.object,data:l.object,itemDataReady:l.bool,slotProps:l.object};wq.displayName="B011DialogForm";const kq=e=>{const{forNew:t=!1,...n}=e,o=Ue(),s=a.useContext(no),i=a.useContext(s.forNew?pc:uc),{peekProds:c,importProdsWorking:u,ipState:{loading:d,totalElements:p}}=i,m=Gr(o,300),[f,h]=a.useState(),g=a.useMemo(()=>JSON.stringify(m),[m]);a.useEffect(()=>{g!==f&&(h(g),console.log("criteria changed",m),c(m))},[m,f,g,c]);const x=a.useMemo(()=>Gn.isAllPropsEmpty(o)?"":p?`(${p})`:"()",[o,p]),y=a.useMemo(()=>!p,[p]);return r.jsx(dt,{type:"submit",disabled:y,size:"small",responsive:!0,loading:d||u,sx:{fontWeight:600},...n,children:x})};kq.propTypes={forNew:l.bool};kq.displayName="B011ImportProdsButtonContainer";const Aq=a.memo(e=>{const{onSubmit:t,...n}=e;return r.jsx("form",{onSubmit:t,...n,children:r.jsxs(jt,{pt:1,children:[r.jsxs(j,{container:!0,spacing:2,columns:24,children:[r.jsx(j,{item:!0,xs:24,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"sprod",label:"",size:"small",virtualize:!0,autoFocus:!0,typeToSearchText:",",optionLabelSize:"md",disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"eprod",label:"",size:"small",virtualize:!0,typeToSearchText:",",optionLabelSize:"md",disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:24,sm:24,md:12,children:r.jsx(Yd,{name:"typeA",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,md:8,children:r.jsx(Pl,{name:"catL",disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:240}}}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:8,children:r.jsx(El,{name:"catM",disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:240}}}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:8,children:r.jsx(ou,{name:"catS",disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:240}}}})})]}),r.jsx(kn,{align:"right",children:r.jsx(jr,{title:"shift+Enter",children:r.jsx(kq,{variant:"contained",color:"primary"})})})]})})});Aq.propTypes={onSubmit:l.func};Aq.displayName="B011LoadProdsForm";const Nq=a.forwardRef((e,t)=>{const{forNew:n=!1,...o}=e,s=a.useContext(no),i=a.useContext(s.forNew?pc:uc),c=at({defaultValues:{}}),u=c.handleSubmit(i.onImportProdsSubmit({form:c}),i.onImportProdsSubmitError);return r.jsx(Er,{ref:t,responsive:!0,fullWidth:!0,maxWidth:"sm",title:"",open:i.importProdsDialogOpen,onClose:i.cancelImportProds,hideCloseButton:!1,confirmTooltip:"shift+Enter",...o,children:r.jsx(Ye,{...c,children:r.jsx(Ct,{...i.loadProdFormMeta,children:r.jsx(Aq,{onSubmit:u})})})})});Nq.propTypes={forNew:l.bool};Nq.displayName="B011ImportProdsDialogContainer";const Fq=a.memo(a.forwardRef((e,t)=>{const{onLoadProds:n,onSave:o,onCancel:s,loading:i,...c}=e;return r.jsxs(a.Fragment,{ref:t,...c,children:[n&&r.jsx(dt,{responsive:!0,onClick:n,endIcon:r.jsx(Kb,{}),color:"primary",variant:"outlined",children:""}),r.jsx(dt,{responsive:!0,onClick:s,color:"warning",variant:"outlined",...c,children:""}),r.jsx(dt,{responsive:!0,onClick:o,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:i,children:""}),r.jsx(Nq,{})]})}));Fq.displayName="B011DialogEditToolbar";Fq.propTypes={onCancel:l.func,onSave:l.func,onLoadProds:l.func,loading:l.bool,readOnly:l.bool};const cO=a.memo(a.forwardRef((e,t)=>{const{label:n="",...o}=e;return r.jsx(bt,{ref:t,label:n,options:jn.options,getOptionLabel:jn.getOptionLabel,isOptionEqualToValue:jn.isOptionEqualToValue,...o})}));cO.propTypes={label:l.string,children:l.node};cO.displayName="StdPrintOutputModePicker";const Mq=a.memo(a.forwardRef((e,t)=>{const{forNew:n=!1,...o}=e,s=a.useContext(no),i=a.useContext(s.forNew?pc:uc),{canPrint:c}=i;return c?r.jsx(cO,{ref:t,defaultValue:jn.getDefaultOption(),width:"8rem",required:!0,name:"outputType",disableClearable:!0,...o}):!1}));Mq.propTypes={forNew:l.bool};Mq.displayName="B011OutputModePickerContainer";const _q=a.memo(a.forwardRef((e,t)=>{const{forNew:n=!1,...o}=e,s=a.useContext(no),i=a.useContext(s.forNew?pc:uc),{canPrint:c}=i,u=Ke(),d=Ue({name:"lvCust"}),p=a.useMemo(()=>!d,[d]),m=a.useMemo(()=>p?"":"",[p]),f=a.useMemo(()=>u.handleSubmit(i.onPrintPromptSubmit,i.onPrintPromptSubmitError),[i.onPrintPromptSubmit,i.onPrintPromptSubmitError,u]);return c?r.jsx(Ra,{title:m,arrow:!0,children:r.jsx(dt,{responsive:!0,ref:t,variant:"contained",startIcon:r.jsx(cs,{}),sx:{fontWeight:600},onClick:p?null:f,color:"neutral",disabled:p,...o,children:""})}):!1}));_q.propTypes={forNew:l.bool};_q.displayName="B011PrintButtonContainer";const ZSe=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,onDelete:o,onPrint:s,onSideDrawerOpen:i,...c}=e;return r.jsxs(a.Fragment,{ref:t,...c,children:[o&&r.jsx(hn,{startIcon:r.jsx(Fs,{}),color:"secondary",onClick:o,children:""}),n&&r.jsx(hn,{startIcon:r.jsx(bo,{}),color:"primary",onClick:n,children:""})]})}));ZSe.propTypes={onEdit:l.func,onDelete:l.func,onPrint:l.func,onSideDrawerOpen:l.func};const Lq=e=>{const{forNew:t=!1,...n}=e,o=a.useContext(no),s=a.useContext(o.forNew?pc:uc),i=Ke();return s.itemDataReady?s.editing?r.jsx(Fq,{onLoadProds:s.creating?s.promptImportProds:null,onSave:i.handleSubmit(s.onEditorSubmit,s.onEditorSubmitError),onCancel:s.updating?s.confirmReturnReading:s.confirmQuitCreating,loading:s.editWorking,...n}):r.jsx(ZSe,{onEdit:s.canUpdate?s.promptUpdating:null,onSideDrawerOpen:s.handleSideDrawerOpen,...n}):!1};Lq.propTypes={forNew:l.bool};Lq.displayName="B011DialogToolbarContainer";const $q=a.forwardRef((e,t)=>{const{...n}=e,{height:o}=Wt(),s=a.useMemo(()=>o-120,[o]),i=Ke(),c=a.useContext(no),u=a.useContext(c.forNew?pc:uc),{importProdsDialogOpen:d}=u,p=Ue({name:"dlgDate",control:i.control}),m=Ue({name:"dlgEmployee",control:i.control}),f=Ue({name:"dlgCustomer",control:i.control}),h=Qr({height:s,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),g=a.useMemo(()=>u.creating?c.forNew?"":"":u.updating?c.forNew?"":"":c.forNew?"":"",[c.forNew,u.creating,u.updating]),x=a.useMemo(()=>u.creating?u.confirmQuitCreating:u.updating?u.confirmQuitUpdating:u.reading?u.cancelAction:null,[u.cancelAction,u.confirmQuitCreating,u.confirmQuitUpdating,u.creating,u.reading,u.updating]),y=a.useCallback(()=>{u.editing&&i.handleSubmit(u.onEditorSubmit,u.onEditorSubmitError)()},[u.editing,u.onEditorSubmit,u.onEditorSubmitError,i]);$t(["Control+Enter"],()=>setTimeout(y),{enableOnFormTags:!0});const D=a.useMemo(()=>!u.editing||u.editing&&(!f||!m),[u.editing,f,m]),v=a.useMemo(()=>c.forNew?"":"",[c.forNew]),T=a.useMemo(()=>[{...Pe.keyColumn("prod",or(ls,{name:"prod",packageType:"s",forId:!0,disableClearable:!0,withPrice:!0,slotProps:{paper:{sx:{width:360}}},focusOnDisabled:!0})),title:"",minWidth:130,maxWidth:150,disabled:D||!u.creating},{...Pe.keyColumn("ProdData_N",kt({continuousUpdates:!1})),title:"",disabled:!0,grow:2},{...Pe.keyColumn("PackData_N",kt({continuousUpdates:!1})),title:"",minWidth:120,maxWidth:120,disabled:!0},{...Pe.keyColumn("Price",Jn(2)),title:"",minWidth:120,disabled:!0},{...Pe.keyColumn("QPrice",Jn(2)),title:v,minWidth:120,disabled:D},...u.creating?[]:[{...Pe.keyColumn("QDate",mf),title:"",minWidth:110,maxWidth:110,disabled:!0}]],[u.creating,v,D]),I=hr({data:u.grid.gridData,columns:T,skipDisabled:!0,lastCell:u.creating?Xn.CREATE_ROW:Xn.STOP_EDITING}),P=a.useCallback(()=>{if(!f){ae.error(""),i.setFocus("dlgCustomer");return}if(!m){ae.error(""),i.setFocus("dlgEmployee");return}if(!p){ae.error(""),i.setFocus("Date");return}I.setActiveCell({col:0,row:0})},[f,p,m,i,I]),E=vt(`
		dlgCustomer,
		dlgEmployee,
		dlgDate,
		`,{lastField:P});mn(()=>{u.itemDataReady&&(console.log("b011 form reset",u.itemData),i.reset(u.itemData))},[u.itemData,u.itemDataReady]),a.useEffect(()=>{d||i.setFocus("dlgCustomer",{shouldSelect:!0})},[i,d]);const k=a.useMemo(()=>(u.creating,"md"),[u.creating]);return r.jsxs(Er,{ref:t,title:g,responsive:!0,fullWidth:!0,maxWidth:k,TitleButtonsComponent:Lq,open:u.itemViewOpen,onClose:x,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[{minHeight:"30em",paddingTop:0},h.scroller],...n,children:[r.jsx("form",{onSubmit:y,children:r.jsx(Ct,{...E,gridMeta:I,readOnly:D,children:r.jsx(wq,{creating:u.creating,editing:u.editing,updating:u.updating,readWorking:u.readWorking,readError:u.readError,data:u.itemData,itemDataReady:u.itemDataReady})})}),r.jsx(Oq,{})]})});$q.propTypes={forNew:l.bool};$q.displayName="B011DialogContainer";const Bq=a.memo(e=>{const{forNew:t=!1,...n}=e;return r.jsx(Pt,{...n,children:r.jsxs(j,{container:!0,columns:24,spacing:1,children:[r.jsx(j,{item:!0,md:6,children:r.jsx(ho,{forNew:t,name:"lvCust",label:t?"":"",disableOpenOnInput:!0,withQuotes:!0,slotProps:{paper:{sx:{width:360}}}})}),r.jsx(j,{item:!0,md:6,children:r.jsx(Ar,{forNewCustomer:t,label:"",name:"lvEmployee",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,withQuotes:!0})}),r.jsx(j,{item:!0,md:6,children:r.jsx(et,{name:"lvDate",label:"",clearable:!0,validate:!0})})]})})});Bq.propTypes={forNew:l.bool};Bq.displayName="B011ListForm";const e0e=e=>{const{...t}=e,n=a.useContext(no),o=vt(`
		lvCust,
		lvEmployee,
		lvDate,
		`);return r.jsx(Ct,{...o,children:r.jsx(Bq,{...t,forNew:n.forNew})})};e0e.displayName="B011ListFormContainer";const o2=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:5,...t})};o2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};o2.displayName="B011CustomerColumn";const s2=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:3,...t})};s2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};s2.displayName="B011DateColumn";const FC=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:3,...t})};FC.propTypes={loading:l.bool,children:l.oneOfType([l.node])};FC.displayName="B011PriceColumn";const a2=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:6,...t})};a2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};a2.displayName="B011ProdColumn";const i2=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:3,...t})};i2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};i2.displayName="B011UserColumn";const Wq=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(no),s=a.useMemo(()=>o.forNew?"":"",[o.forNew]);return r.jsxs(io,{ref:t,...n,children:[r.jsx(Hn,{}),r.jsx(o2,{children:s}),r.jsx(a2,{children:""}),r.jsx(FC,{children:""}),r.jsxs(FC,{children:[s,""]}),r.jsx(s2,{children:""}),r.jsx(i2,{children:""})]})}));Wq.propTypes={};Wq.displayName="B011ListHeader";const Uq=a.memo(a.forwardRef((e,t)=>{const{forNew:n=!1,...o}=e,s=a.useContext(no),i=a.useContext(s.forNew?pc:uc),c=a.useMemo(()=>"",[]);return r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(Ao,{}),onClick:i.promptCreating,sx:{fontWeight:600},...o,children:c})}));Uq.displayName="B011CreateButtonContainer";Uq.propTypes={forNew:l.bool};const qq=e=>{const{forNew:t=!1}=e,n=a.useContext(no),o=a.useContext(n.forNew?pc:uc);return r.jsx(ao,{totalElements:o.itemCount,startIndex:o.visibleStartIndex,endIndex:o.visibleStopIndex})};qq.propTypes={forNew:l.bool};qq.displayName="B011FetchResultLabelContainer";const t0e=a.memo(()=>r.jsxs(r.Fragment,{children:[r.jsx(Uq,{}),r.jsx(_q,{})]}));t0e.displayName="LeftButtons";const n0e=a.memo(a.forwardRef(({...e},t)=>r.jsx(kn,{pl:0,pr:1,alignItems:"flex-end",ref:t,LeftComponent:t0e,RightComponent:qq,...e})));n0e.displayName="B011ListViewToolbar";const na=a.forwardRef(({className:e,sx:t=[],top:n=0,right:o=0,...s},i)=>r.jsx(ve,{ref:i,className:_b(e,"secondary-action"),alignItems:"center",sx:[c=>({top:c.spacing(n),right:c.spacing(o),position:"absolute",zIndex:1e4,"& .MuiIconButton-root":{marginLeft:c.spacing(.5),marginRight:c.spacing(.5)}}),...Array.isArray(t)?t:[t]],...s}));na.displayName="HoverableListItemSecondaryAction";const Vq=a.memo(e=>{const{index:t,style:n,value:o,loading:s,onClick:i,handleSelectDate:c}=e,{CustID:u,CustData_N:d,ProdID:p,ProdData_N:m,PackData_N:f,QEmplID:h,EmplData_N:g}=o||{},x=a.useMemo(()=>[d].filter(Boolean).join(" "),[d]),y=a.useMemo(()=>[m].filter(Boolean).join(" ").concat(f?`(${f})`:""),[f,m]),D=a.useMemo(()=>[g].filter(Boolean).join(" "),[g]);return r.jsx("div",{style:n,children:r.jsxs(yo,{borderBottom:!0,onClick:i,children:[r.jsx(na,{}),r.jsx(jt,{sx:{"&:hover .mark":{color:Zm[500]}},children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t}),r.jsx(o2,{className:"mark",children:x}),r.jsx(a2,{children:y}),r.jsx(FC,{children:o==null?void 0:o.Price}),r.jsx(FC,{children:o==null?void 0:o.QPrice}),r.jsx(s2,{onClick:c,children:o==null?void 0:o.QDate}),r.jsx(i2,{className:"mark",children:D})]})})]})})});Vq.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func,promptCopyAuth:l.func};Vq.displayName="B011ListRow";const zq=e=>{const{index:t,...n}=e,o=a.useContext(no),s=a.useContext(o.forNew?pc:uc),{isItemLoading:i}=s,c=a.useMemo(()=>i(t),[t,i]),u=a.useMemo(()=>s.listData[t],[s.listData,t]);return r.jsx(No,{loading:c,children:r.jsx(Vq,{index:t,value:u,onClick:d=>s.handleSelectDate(d,u),handleSelectDate:d=>s.handleSelectDate(d,u),...n})})};zq.propTypes={forNew:l.bool,index:l.number,data:l.object};zq.displayName="B011ListRowContainer";const Hq=e=>{const{forNew:t=!1}=e,n=a.useContext(no),o=a.useContext(n.forNew?pc:uc),{loadList:s}=o,i=Ke(),{height:c}=Wt(),u=Ue({name:"lvCust",control:i.control}),d=Ue({name:"lvDate",control:i.control}),p=Ue({name:"lvEmployee",control:i.control});En(()=>{o.loadList()},[]),mn(()=>{s({params:ab.transformAsQueryParams({lvCust:u,lvDate:d,lvEmployee:p}),supressLoading:!0})},[u,d,p]);const m=a.useMemo(()=>c?c-200:300,[c]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:o.listLoading,data:o.listData,itemCount:o.itemCount,loadMoreItems:o.loadMoreItems,isItemLoaded:o.isItemLoaded,RowComponent:zq,height:m,handleItemsRendered:o.handleItemsRendered,error:o.listError,bottomReached:!0})})};Hq.propTypes={forNew:l.bool};Hq.displayName="B011ListViewContainer";const Gq=a.memo(e=>{const{onSubmit:t,...n}=e;return r.jsx("form",{onSubmit:t,...n,children:r.jsx(Ns,{pt:1,children:r.jsxs(j,{container:!0,spacing:2,columns:12,children:[r.jsx(j,{item:!0,xs:12,sm:12,md:12,children:r.jsx(Ar,{label:"",name:"prtEmployee",autoFocus:!0,virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,required:!0,rules:{required:""}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:7,children:r.jsx(et,{name:"prtDate",label:"",clearable:!0,validate:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:5,children:r.jsx(Mq,{label:"",name:"outputType",fullWidth:!0})})]})})})});Gq.propTypes={onSubmit:l.func};Gq.displayName="B011PrintDialogForm";const Kq=e=>{const{forNew:t=!1}=e,n=a.useContext(no),o=a.useContext(n.forNew?pc:uc),s=at({defaultValues:{}}),i=a.useMemo(()=>s.handleSubmit(o.onPrintSubmit,o.onPrintSubmitError),[o.onPrintSubmit,o.onPrintSubmitError,s]);s.handleSubmit(o.onDebugSubmit);const c=vt(`prtEmployee,
		prtDate,
		outputType
		`,{lastField:i});return r.jsx(Ye,{...s,children:r.jsx(Ct,{...c,children:r.jsx("form",{children:r.jsx(Er,{responsive:!0,maxWidth:"xs",title:"",open:o.printDialogOpen,onClose:o.cancelPrint,onCancel:o.cancelPrint,onConfirm:i,confirmText:"",children:r.jsx(Gq,{onSubmit:i})})})})})};Kq.propTypes={forNew:l.bool};Kq.displayName="B011PrintDialogContainer";const J$=()=>{const e=at(),t=at({defaultValues:{quotes:[]}}),n=at({defaultValues:{}});return r.jsx(Ye,{...e,children:r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(e0e,{}),r.jsx(n0e,{}),r.jsx(Wq,{}),r.jsx(Hq,{}),r.jsx(Ye,{...t,children:r.jsx($q,{})}),r.jsx(Ye,{...n,children:r.jsx(Kq,{})})]})})};J$.displayName="B011FrameContainer";const MIt=(e,t)=>Gn.arePropsEqual(e,t,{fields:"rowData.CustID,active,disabled,focus"}),l2=a.memo(e=>{const{rowData:t,setRowData:n,rowIndex:o,columnIndex:s,columnData:i,active:c,focus:u,disabled:d,stopEditing:p,insertRowBelow:m}=e,f=a.useRef(t);f.current=t;const{name:h,hideControlsOnActive:g,selectOnFocus:x,lastCell:y,isLastRow:D,getNextCell:v,skipDisabled:T,setActiveCell:I,readOnly:P,focusOnDisabled:E,multiple:k,...w}=i,{handleFocusNextCell:A}=Pi({getNextCell:v,lastCell:y,isLastRow:D,setActiveCell:I,insertRowBelow:m}),F=zi({name:h,rowIndex:o,rowData:t,columnIndex:s,focus:u,active:c,disabled:d,hideControlsOnActive:g,selectOnFocus:x,setRowData:n,stopEditing:p,readOnly:P,skipDisabled:T,handleFocusNextCell:A,focusOnDisabled:E,multiple:k});return r.jsx(ho,{queryParam:"qs",label:"",disableOpenOnInput:!0,virtualize:!0,triggerDelay:100,...F,...w})},MIt);l2.propTypes={rowData:l.oneOfType([l.string,l.number,l.object]),setRowData:l.func,rowIndex:l.number,columnIndex:l.number,columnData:l.object,active:l.bool,focus:l.bool,disabled:l.bool,stopEditing:l.func,insertRowBelow:l.func,duplicateRow:l.func,deleteRow:l.func,getContextMenuItems:l.func,placeholder:l.string};l2.propTypes={};l2.displayName="CustomerPickerComponent";const c2=e=>{const{columnData:t,...n}=e,o=ii(),s=a.useMemo(()=>({...t,...o}),[o,t]);return r.jsx(l2,{columnData:s,...n})};c2.displayName="CustomerPickerComponentContainer";c2.propTypes={columnData:l.object};const Qq=a.memo(e=>{var i,c;const{anchor:t="right",...n}=e,o=a.useContext(no),s=a.useContext(o.forNew?mc:dc);return r.jsxs(Eo,{anchor:t,open:s.sideDrawerOpen,onClose:s.handleSideDrawerClose,slotProps:{backdrop:{sx:[ur.BACKDROP_TRANSPARENT]}},...n,children:[r.jsx(pn,{label:"",children:(i=s.itemData)==null?void 0:i.WriteDate}),r.jsx(pn,{label:"",children:(c=s.itemData)==null?void 0:c.Writer})]})});Qq.propTypes={anchor:l.string};Qq.displayName="B012Drawer";const Yq=a.memo(e=>{const{getRowKey:t,createRow:n,readOnly:o,gridRef:s,data:i,onChange:c,getRowClassName:u,height:d=300,bearer:p,...m}=e,f=a.useCallback(({rowData:h})=>({...h,Pkey:zn()}),[]);return r.jsx(dr,{ref:s,rowKey:t,lockRows:o,height:d+(o?48:0),value:i,onChange:c,addRowsComponent:go,disableExpandSelection:!0,createRow:n,duplicateRow:f,rowClassName:u,...m})});Yq.propTypes={getRowKey:l.func,onChange:l.func};Yq.displayName="B012QuoteGrid";const r0e=e=>{const{...t}=e,n=a.useContext(no),o=a.useContext(n.forNew?mc:dc),s=a.useContext(Be),{height:i}=Wt(),c=a.useContext(Lr),u=Ke(),d=a.useMemo(()=>o.buildGridChangeHandler({gridMeta:c.gridMeta,getValues:u.getValues,onUpdateRow:o.onUpdateRow,onCheckRow:o.onCheckRow,isRowCreatable:o.creating}),[o,u.getValues,c.gridMeta]),p=a.useMemo(()=>i-256,[i]),m=a.useMemo(()=>o.canDelete?Rr({filterItem:f=>["DELETE_ROW","DELETE_ROWS"].includes(f.type)}):Rr({filterItem:f=>[].includes(f.type)}),[o.canDelete]);return r.jsx(Kn.Provider,{value:{...o.grid,...c.gridMeta,readOnly:c.readOnly},children:r.jsx(Yq,{gridRef:c.gridMeta.setGridRef,readOnly:c.readOnly,data:o.grid.gridData,onChange:d,onActiveCellChange:c.gridMeta.handleActiveCellChange,bearer:s.token,height:p,getRowKey:o.getRowKey,createRow:o.createRow,autoAddRow:!1,addRowsComponent:o.creating?go:null,contextMenuComponent:m,...t})})};r0e.displayName="B012QuoteGridContainer";const Jq=a.memo(e=>{const{readError:t,data:n,readWorking:o,itemDataReady:s,creating:i,editing:c,updating:u,handleProdChange:d,slotProps:p,...m}=e;return r.jsxs(r.Fragment,{children:[o&&r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",minHeight:"30em",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}),t&&r.jsx(lo,{error:t,...p==null?void 0:p.error}),s&&r.jsx(r.Fragment,{children:r.jsx(Pt,{pt:1,children:r.jsxs(j,{container:!0,columns:24,spacing:1,children:[r.jsx(j,{item:!0,xs:24,sm:24,md:6,children:r.jsx(fn,{autoFocus:!0,typo:!0,label:"",name:"dlgProd",required:!0,rules:{required:""},virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,disableClearable:!0,withPrice:!0,disabled:!i,onChange:d,slotProps:{paper:{sx:{width:360}}}})}),r.jsx(j,{item:!0,xs:24,sm:24,md:5,children:r.jsx(pn,{name:"Price",label:"",inline:c})}),r.jsx(j,{item:!0,xs:24,sm:24,md:6,children:r.jsx(Ar,{typo:!0,label:"",name:"dlgEmployee",required:!0,rules:{required:""},virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,disableClearable:!0,disabled:!i})}),i&&r.jsx(j,{item:!0,xs:24,sm:24,md:6,children:r.jsx(et,{typo:!0,name:"dlgDate",label:"",fullWidth:!0,required:!0,variant:"outlined",disabled:!i,validate:!0})}),r.jsx(j,{item:!0,xs:24,children:r.jsx(r0e,{})})]})})})]})});Jq.propTypes={readWorking:l.bool,readError:l.object,data:l.object,itemDataReady:l.bool,slotProps:l.object};Jq.displayName="B012DialogForm";const o0e=e=>{const{...t}=e,n=Ue(),o=a.useContext(no),s=a.useContext(o.forNew?mc:dc),{peekCusts:i,importCustsWorking:c,ipState:{loading:u,totalElements:d}}=s,p=Gr(n,300),[m,f]=a.useState(),h=a.useMemo(()=>JSON.stringify(p),[p]);a.useEffect(()=>{h!==m&&(f(h),console.log("criteria changed",p),i(p))},[p,m,h,i]);const g=a.useMemo(()=>Gn.isAllPropsEmpty(n)?"":d?`(${d})`:"()",[n,d]),x=a.useMemo(()=>!d,[d]);return r.jsx(dt,{type:"submit",disabled:x,size:"small",responsive:!0,loading:u||c,sx:{fontWeight:600},...t,children:g})};o0e.displayName="B012ImportCustsButtonContainer";const Xq=a.memo(e=>{const{onSubmit:t,...n}=e;return r.jsx("form",{onSubmit:t,...n,children:r.jsxs(jt,{pt:2,children:[r.jsxs(j,{container:!0,spacing:2,columns:24,children:[r.jsx(j,{item:!0,xs:24,sm:24,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(ho,{autoFocus:!0,name:"cust",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""}),rightComponent:r.jsx(ho,{name:"cust2",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""})})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:24,sm:24,md:12,children:r.jsx(Tl,{name:"area",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:12,children:r.jsx(sc,{name:"channel",disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:240}}}})})]}),r.jsx(kn,{align:"right",children:r.jsx(jr,{title:"shift+Enter",children:r.jsx(o0e,{variant:"contained",color:"primary"})})})]})})});Xq.propTypes={onSubmit:l.func};Xq.displayName="B012ImportCustsForm";const Zq=a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(no),s=a.useContext(o.forNew?mc:dc),i=Ke(),c=i.handleSubmit(s.onImportCustsSubmit({form:i}),s.onImportCustsSubmitError);return r.jsx(Er,{ref:t,responsive:!0,fullWidth:!0,maxWidth:"sm",title:"",open:s.importCustsDialogOpen,onClose:s.cancelImportCusts,hideCloseButton:!1,confirmTooltip:"shift+Enter",...n,children:r.jsx(Ct,{...s.importCustsFormMeta,children:r.jsx(Xq,{onSubmit:c})})})});Zq.propTypes={};Zq.displayName="B012ImportProdsDialogContainer";const eV=a.memo(a.forwardRef((e,t)=>{const{onImportCusts:n,onSave:o,onCancel:s,loading:i,...c}=e,u=at({defaultValues:{}});return r.jsxs(a.Fragment,{ref:t,...c,children:[n&&r.jsx(dt,{responsive:!0,onClick:n,endIcon:r.jsx(Kb,{}),color:"primary",variant:"outlined",children:""}),r.jsx(dt,{responsive:!0,onClick:s,color:"warning",variant:"outlined",...c,children:""}),r.jsx(dt,{responsive:!0,onClick:o,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:i,children:""}),r.jsx(Ye,{...u,children:r.jsx(Zq,{})})]})}));eV.displayName="B012DialogEditToolbar";eV.propTypes={onCancel:l.func,onSave:l.func,onImportCusts:l.func,loading:l.bool,readOnly:l.bool};const s0e=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,onDelete:o,onPrint:s,onSideDrawerOpen:i,...c}=e;return r.jsx(a.Fragment,{ref:t,...c,children:n&&r.jsx(hn,{startIcon:r.jsx(bo,{}),color:"primary",onClick:n,children:""})})}));s0e.propTypes={onEdit:l.func,onDelete:l.func,onPrint:l.func,onSideDrawerOpen:l.func};const a0e=e=>{const{...t}=e,n=a.useContext(no),o=a.useContext(n.forNew?mc:dc),s=Ke();return o.itemDataReady?o.editing?r.jsx(eV,{onImportCusts:o.creating?o.promptImportCusts:null,onSave:s.handleSubmit(o.onEditorSubmit,o.onEditorSubmitError),onCancel:o.updating?o.confirmReturnReading:o.confirmQuitCreating,loading:o.editWorking,...t}):r.jsx(s0e,{onEdit:o.canUpdate?o.promptUpdating:null,onDelete:o.canDelete?o.confirmDelete:null,onSideDrawerOpen:o.handleSideDrawerOpen,...t}):!1};a0e.displayName="B012DialogToolbarContainer";const i0e=a.forwardRef((e,t)=>{const{...n}=e,{height:o}=Wt(),s=a.useMemo(()=>o-120,[o]),i=Ke(),c=a.useContext(no),u=a.useContext(c.forNew?mc:dc),{importCustsDialogOpen:d}=u,p=Ue({name:"dlgDate",control:i.control}),m=Ue({name:"dlgEmployee",control:i.control}),f=Ue({name:"dlgProd",control:i.control}),h=Qr({height:s,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),g=a.useMemo(()=>u.creating?c.forNew?"":"":u.updating?c.forNew?"":"":c.forNew?"":"",[c.forNew,u.creating,u.updating]),x=a.useMemo(()=>c.forNew?"":"",[c.forNew]),y=a.useMemo(()=>c.forNew?"":"",[c.forNew]),D=a.useMemo(()=>c.forNew?"":"",[c.forNew]),v=a.useMemo(()=>u.creating?u.confirmQuitCreating:u.updating?u.confirmQuitUpdating:u.reading?u.cancelAction:null,[u.cancelAction,u.confirmQuitCreating,u.confirmQuitUpdating,u.creating,u.reading,u.updating]),T=a.useCallback(()=>{u.editing&&i.handleSubmit(u.onEditorSubmit,u.onEditorSubmitError)()},[u.editing,u.onEditorSubmit,u.onEditorSubmitError,i]);$t(["Control+Enter"],()=>setTimeout(T),{enableOnFormTags:!0});const I=a.useMemo(()=>!u.editing||u.editing&&(!f||!m||!p),[u.editing,f,m,p]),P=a.useMemo(()=>[{...Pe.keyColumn("customer",or(c2,{name:"customer",forId:!0,disableClearable:!0,forNew:c.forNew,slotProps:{paper:{sx:{width:360}}},focusOnDisabled:!0})),title:y,minWidth:130,maxWidth:150,disabled:I||!u.creating},{...Pe.keyColumn("CustData_N",kt({continuousUpdates:!1})),title:D,disabled:!0,grow:2},{...Pe.keyColumn("QPrice",Jn(2)),title:x,minWidth:120,disabled:I},...u.creating?[]:[{...Pe.keyColumn("QDate",mf),title:"",minWidth:110,maxWidth:110,disabled:!0}]],[c.forNew,u.creating,y,D,x,I]),E=hr({data:u.grid.gridData,columns:P,skipDisabled:!0,lastCell:u.creating?Xn.CREATE_ROW:Xn.STOP_EDITING}),k=a.useCallback(()=>{if(!f){ae.error(""),i.setFocus("dlgProd");return}if(!m){ae.error(""),i.setFocus("dlgEmployee");return}if(!p){ae.error(""),i.setFocus("Date");return}E.setActiveCell({col:0,row:0})},[f,m,p,E,i]),w=vt(`
		dlgProd,
		dlgEmployee,
		dlgDate,
		`,{lastField:k});return mn(()=>{u.itemDataReady&&(console.log("b012 form reset",u.itemData),i.reset(u.itemData))},[u.itemData,u.itemDataReady]),a.useEffect(()=>{d||i.setFocus("dlgProd",{shouldSelect:!0})},[i,d]),r.jsxs(Er,{ref:t,title:g,responsive:!0,fullWidth:!0,maxWidth:"md",TitleButtonsComponent:a0e,open:u.itemViewOpen,onClose:v,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[{minHeight:"30em",paddingTop:0},h.scroller],...n,children:[r.jsx("form",{onSubmit:T,children:r.jsx(Ct,{...w,gridMeta:E,readOnly:I,children:r.jsx(Jq,{creating:u.creating,editing:u.editing,updating:u.updating,readWorking:u.readWorking,readError:u.readError,data:u.itemData,itemDataReady:u.itemDataReady,handleProdChange:u.handleProdChange({setValue:i.setValue})})})}),r.jsx(Qq,{})]})});i0e.displayName="B012DialogContainer";const tV=a.memo(e=>{const{...t}=e;return r.jsx(Pt,{...t,children:r.jsxs(j,{container:!0,columns:24,spacing:1,children:[r.jsx(j,{item:!0,md:8,children:r.jsx(fn,{name:"lvProd",label:"",autoFocus:!0,disableOpenOnInput:!0,virtualize:!0,withQuotes:!0,slotProps:{paper:{sx:{width:360}}}})}),r.jsx(j,{item:!0,md:6,children:r.jsx(Ar,{label:"",name:"lvEmployee",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,withQuotes:!0})}),r.jsx(j,{item:!0,md:6,children:r.jsx(et,{name:"lvDate",label:"",clearable:!0,validate:!0})})]})})});tV.propTypes={};tV.displayName="B012ListForm";const l0e=e=>{const{...t}=e,n=vt(`
		lvProd,
		lvEmployee,
		lvDate,
		`);return r.jsx(Ct,{...n,children:r.jsx(tV,{...t})})};l0e.displayName="B012ListFormContainer";const u2=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:6,...t})};u2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};u2.displayName="B012CustomerColumn";const d2=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:3,...t})};d2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};d2.displayName="B012DateColumn";const p2=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:3,...t})};p2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};p2.displayName="B012PriceColumn";const m2=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:7,...t})};m2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};m2.displayName="B012ProdColumn";const f2=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:3,...t})};f2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};f2.displayName="B012UserColumn";const nV=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(no),s=a.useMemo(()=>o.forNew?"":"",[o.forNew]);return r.jsxs(io,{ref:t,...n,children:[r.jsx(Hn,{}),r.jsx(m2,{children:""}),r.jsx(u2,{children:s}),r.jsxs(p2,{children:[s,""]}),r.jsx(d2,{children:""}),r.jsx(f2,{children:""})]})}));nV.propTypes={};nV.displayName="B012ListHeader";const c0e=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(no),s=a.useContext(o.forNew?mc:dc),i=a.useMemo(()=>"",[]);return r.jsx(dt,{responsive:!0,ref:t,variant:"contained",startIcon:r.jsx(Ao,{}),onClick:s.promptCreating,sx:{fontWeight:600},...n,children:i})}));c0e.displayName="B012CreateButtonContainer";const u0e=()=>{const e=a.useContext(no),t=a.useContext(e.forNew?mc:dc);return r.jsx(ao,{totalElements:t.itemCount,startIndex:t.visibleStartIndex,endIndex:t.visibleStopIndex})};u0e.displayName="B012FetchResultLabelContainer";const rV=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=Ke(),s=a.useContext(no),i=a.useContext(s.forNew?mc:dc),{canPrint:c}=i,u=Ue({name:"lvProd"}),d=a.useMemo(()=>!u,[u]),p=a.useMemo(()=>d?"":"",[d]),m=a.useMemo(()=>o.handleSubmit(i.onPrintPromptSubmit,i.onPrintPromptSubmitError),[i.onPrintPromptSubmit,i.onPrintPromptSubmitError,o]);return c?r.jsx(Ra,{title:p,arrow:!0,children:r.jsx(dt,{responsive:!0,ref:t,variant:"contained",startIcon:r.jsx(cs,{}),sx:{fontWeight:600},onClick:d?null:m,color:"neutral",disabled:d,...n,children:""})}):!1}));rV.propTypes={};rV.displayName="B012PrintButtonContainer";const d0e=a.memo(()=>r.jsxs(r.Fragment,{children:[r.jsx(c0e,{}),r.jsx(rV,{})]}));d0e.displayName="LeftButtons";const p0e=a.memo(a.forwardRef(({...e},t)=>r.jsx(kn,{pl:0,pr:1,alignItems:"flex-end",ref:t,LeftComponent:d0e,RightComponent:u0e,...e})));p0e.displayName="B012ListViewToolbar";const oV=a.memo(e=>{const{index:t,style:n,value:o,loading:s,onClick:i,handleSelectDate:c}=e,{CustID:u,CustData_N:d,ProdID:p,ProdData_N:m,PackData_N:f,QEmplID:h,EmplData_N:g}=o||{},x=a.useMemo(()=>[d].filter(Boolean).join(" "),[d]),y=a.useMemo(()=>[m].filter(Boolean).join(" ").concat(f?`(${f})`:""),[f,m]),D=a.useMemo(()=>[g].filter(Boolean).join(" "),[g]);return r.jsx("div",{style:n,children:r.jsx(yo,{borderBottom:!0,onClick:i,children:r.jsx(jt,{sx:{"&:hover .mark":{color:Zm[500]}},children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t}),r.jsx(m2,{className:"mark",children:y}),r.jsx(u2,{children:x}),r.jsx(p2,{children:o==null?void 0:o.QPrice}),r.jsx(d2,{children:o==null?void 0:o.QDate}),r.jsx(f2,{className:"mark",children:D})]})})})})});oV.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func,promptCopyAuth:l.func};oV.displayName="B012ListRow";const sV=e=>{const t=a.useContext(no),n=a.useContext(t.forNew?mc:dc),{isItemLoading:o}=n,{index:s,...i}=e,c=a.useMemo(()=>o(s),[s,o]),u=a.useMemo(()=>n.listData[s],[n.listData,s]);return r.jsx(No,{loading:c,children:r.jsx(oV,{index:s,value:u,onClick:d=>n.handleSelectDate(d,u),handleSelectDate:d=>n.handleSelectDate(d,u),...i})})};sV.propTypes={index:l.number,data:l.object};sV.displayName="B012ListRowContainer";const m0e=()=>{const e=a.useContext(no),t=a.useContext(e.forNew?mc:dc),{loadList:n}=t,o=Ke(),{height:s}=Wt(),i=Ue({name:"lvProd",control:o.control}),c=Ue({name:"lvDate",control:o.control}),u=Ue({name:"lvEmployee",control:o.control});En(()=>{t.loadList()},[]),mn(()=>{n({params:ib.transformAsQueryParams({lvProd:i,lvDate:c,lvEmployee:u}),supressLoading:!0})},[i,c,u]);const d=a.useMemo(()=>s?s-200:300,[s]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:t.listLoading,data:t.listData,itemCount:t.itemCount,loadMoreItems:t.loadMoreItems,isItemLoaded:t.isItemLoaded,RowComponent:sV,height:d,handleItemsRendered:t.handleItemsRendered,error:t.listError,bottomReached:!0})})};m0e.displayName="B012ListViewContainer";const aV=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(no),s=a.useContext(o.forNew?mc:dc),{canPrint:i}=s;return i?r.jsx(cO,{ref:t,defaultValue:jn.getDefaultOption(),width:"8rem",required:!0,name:"outputType",disableClearable:!0,...n}):!1}));aV.propTypes={};aV.displayName="B012OutputModePickerContainer";const iV=a.memo(e=>{const{onSubmit:t,...n}=e;return r.jsx("form",{onSubmit:t,...n,children:r.jsx(Ns,{pt:1,children:r.jsxs(j,{container:!0,spacing:2,columns:12,children:[r.jsx(j,{item:!0,xs:12,sm:12,md:12,children:r.jsx(Ar,{label:"",name:"prtEmployee",autoFocus:!0,virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,required:!0,rules:{required:""}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:7,children:r.jsx(et,{name:"prtDate",label:"",clearable:!0,validate:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:5,children:r.jsx(aV,{label:"",name:"outputType",fullWidth:!0})})]})})})});iV.propTypes={onSubmit:l.func};iV.displayName="B012PrintDialogForm";const lV=()=>{const e=a.useContext(no),t=a.useContext(e.forNew?mc:dc),n=at({defaultValues:{}}),o=a.useMemo(()=>n.handleSubmit(t.onPrintSubmit,t.onPrintSubmitError),[t.onPrintSubmit,t.onPrintSubmitError,n]),s=vt(`prtEmployee,
		prtDate,
		outputType
		`,{lastField:o});return r.jsx(Ye,{...n,children:r.jsx(Er,{responsive:!0,maxWidth:"xs",title:"",open:t.printDialogOpen,onClose:t.cancelPrint,onCancel:t.cancelPrint,onConfirm:o,confirmText:"",children:r.jsx(Ct,{...s,children:r.jsx(iV,{onSubmit:o})})})})};lV.propTypes={};lV.displayName="B012PrintDialogContainer";const X$=()=>{const e=at(),t=at({defaultValues:{quotes:[]}});return r.jsx(Ye,{...e,children:r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(l0e,{}),r.jsx(p0e,{}),r.jsx(nV,{}),r.jsx(m0e,{}),r.jsx(Ye,{...t,children:r.jsx(i0e,{})}),r.jsx(lV,{})]})})};X$.displayName="B012FrameContainer";const cV=a.memo(e=>{var i,c;const{anchor:t="right",...n}=e,o=a.useContext(no),s=a.useContext(o.forNew?ep:Zd);return r.jsxs(Eo,{anchor:t,open:s.sideDrawerOpen,onClose:s.handleSideDrawerClose,slotProps:{backdrop:{sx:[ur.BACKDROP_TRANSPARENT]}},...n,children:[r.jsx(pn,{label:"",children:(i=s.itemData)==null?void 0:i.WriteDate}),r.jsx(pn,{label:"",children:(c=s.itemData)==null?void 0:c.Writer})]})});cV.propTypes={anchor:l.string};cV.displayName="B02Drawer";const _It=[{id:"101001",name:""},{id:"101002",name:""},{id:"101003",name:""},{id:"101004",name:""}],uV=e=>[e==null?void 0:e.FactID,e==null?void 0:e.FactData].filter(Boolean).join(" "),LIt=e=>`${(e==null?void 0:e.FactID)||""}`,$It=e=>uV(e),BIt=(e,t)=>t?(e==null?void 0:e.FactID)===(t==null?void 0:t.FactID):!1,WIt=e=>{if(!e)return"";const{id:t,name:n,address:o}=e;return`${t}	${n}	${o}`},UIt=e=>`${e==null?void 0:e.FactID}`,qIt=e=>uV(e),VIt=e=>`${e.FactID} ${e.FactData}`,Yg={data:_It,getOptionLabel:uV,isOptionEqualToValue:BIt,renderText:WIt,getOptionKey:UIt,getOptionLabelForId:LIt,renderOptionLabel:$It,stringify:VIt,getTitle:qIt},xa=e=>{const{label:t="",forId:n,withAddr:o,...s}=e,{token:i}=a.useContext(Be),c=a.useMemo(()=>Hr.stringify({tp:1e4,...o&&{ad:1}}),[o]),u=a.useCallback((x,y)=>Yg.isOptionEqualToValue(x,y),[]),d=a.useCallback(x=>x.data,[]),p=a.useCallback(x=>n?Yg.getOptionLabelForId(x):Yg.getOptionLabel(x),[n]),m=a.useCallback(x=>Yg.getOptionKey(x),[]),f=a.useCallback(x=>Yg.getTitle(x),[]),h=a.useCallback(x=>Yg.stringify(x),[]),g=a.useCallback(x=>Yg.renderOptionLabel(x),[]);return r.jsx(bt,{label:t,bearer:i,url:"v1/purchase/suppliers",queryParam:"q",querystring:c,getOptionLabel:p,isOptionEqualToValue:u,renderOptionLabel:g,getOptions:d,getTitle:f,stringify:h,getOptionKey:m,notFoundText:" ${input} ",...s})};xa.displayName="SupplierPicker";xa.propTypes={label:l.string,forId:l.bool,withAddr:l.bool};const zIt=e=>({component:ND,columnData:e,disableKeys:!0,keepFocus:!0,deleteValue:()=>null,copyValue:({rowData:t})=>JSON.stringify(t),pasteValue:({value:t})=>JSON.parse(t),isCellEmpty:({rowData:t})=>!t}),HIt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),dV=a.memo(e=>{const{getRowKey:t,createRow:n,readOnly:o,gridRef:s,data:i,onChange:c,getRowClassName:u,height:d=300,bearer:p,...m}=e,f=a.useCallback(({rowData:h})=>({...h,Pkey:zn()}),[]);return r.jsx(dr,{ref:s,rowKey:t,lockRows:o,height:d+(o?48:0),value:i,onChange:c,addRowsComponent:go,disableExpandSelection:!0,contextMenuComponent:HIt,createRow:n,duplicateRow:f,rowClassName:u,...m})});dV.propTypes={getRowKey:l.func,onChange:l.func};dV.displayName="B02QuoteGrid";const f0e=e=>{const{...t}=e,n=a.useContext(no),o=a.useContext(n.forNew?ep:Zd),s=a.useContext(Be),{height:i}=Wt(),c=a.useContext(Lr),u=a.useMemo(()=>o.buildGridChangeHandler({gridMeta:c.gridMeta}),[o,c.gridMeta]);return r.jsx(Kn.Provider,{value:{...o.grid,...c.gridMeta,readOnly:c.readOnly},children:r.jsx(dV,{gridRef:c.gridMeta.setGridRef,readOnly:c.readOnly,data:o.gridData,onChange:u,onActiveCellChange:c.gridMeta.handleActiveCellChange,bearer:s.token,height:i-330,getRowKey:o.getRowKey,createRow:o.createRow,...t})})};f0e.displayName="B02QuoteGridContainer";const pV=a.memo(e=>{const{readError:t,data:n,readWorking:o,itemDataReady:s,creating:i,editing:c,updating:u,slotProps:d,...p}=e;return r.jsxs(r.Fragment,{children:[o&&r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",minHeight:"30em",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}),t&&r.jsx(lo,{error:t,...d==null?void 0:d.error}),s&&r.jsx(r.Fragment,{children:r.jsx(Pt,{pt:1,children:r.jsxs(j,{container:!0,columns:24,spacing:1,children:[!i&&r.jsx(j,{item:!0,xs:24,sm:24,md:5,children:r.jsx($e,{typo:!0,name:"InqID",label:"",fullWidth:!0,required:!0,readOnly:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:5,children:r.jsx(et,{typo:!0,name:"InqDate",label:"",...c&&{autoFocus:!0},fullWidth:!0,required:!0,variant:"outlined",validate:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:6,children:r.jsx(Ar,{typo:!0,label:"",name:"employee",required:!0,rules:{required:""},virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:8,children:r.jsx(xa,{typo:!0,label:"",name:"supplier",required:!0,rules:{required:""},virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:24,children:r.jsx(f0e,{})}),r.jsx(j,{item:!0,xs:24,children:r.jsx($e,{typo:!0,name:"remark",multiline:!0,minRows:2,maxRows:5,label:"",fullWidth:!0})})]})})})]})});pV.propTypes={readWorking:l.bool,readError:l.object,data:l.object,itemDataReady:l.bool,slotProps:l.object};pV.displayName="B02DialogForm";const mV=a.memo(a.forwardRef((e,t)=>{const{onLoadProds:n,onSave:o,onCancel:s,loading:i,...c}=e;return r.jsxs(a.Fragment,{ref:t,...c,children:[r.jsx(dt,{responsive:!0,onClick:n,endIcon:r.jsx(Kb,{}),color:"primary",variant:"outlined",children:""}),r.jsx(dt,{responsive:!0,onClick:s,color:"warning",variant:"outlined",...c,children:""}),r.jsx(dt,{responsive:!0,onClick:o,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:i,children:""})]})}));mV.displayName="B02DialogEditToolbar";mV.propTypes={onCancel:l.func,onSave:l.func,onLoadProds:l.func,loading:l.bool};const fV=e=>{const{...t}=e,n=Ke(),o=a.useContext(no),s=a.useContext(o.forNew?ep:Zd),{canPrint:i}=s,c=n.handleSubmit(s.onPrintSubmit,s.onPrintSubmitError),u=a.useMemo(()=>n.handleSubmit(s.onDebugSubmit),[s.onDebugSubmit,n]);return i?r.jsx(xn,{onSubmit:c,onDebugSubmit:u,...t}):!1};fV.displayName="B02ExportButtonContainer";const h0e=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,onDelete:o,onPrint:s,onSideDrawerOpen:i,...c}=e;return r.jsxs(a.Fragment,{ref:t,...c,children:[s&&r.jsx(fV,{}),o&&r.jsx(hn,{startIcon:r.jsx(Fs,{}),color:"secondary",onClick:o,children:""}),n&&r.jsx(hn,{startIcon:r.jsx(bo,{}),color:"primary",onClick:n,children:""}),r.jsx(jr,{title:"",children:r.jsx(br,{onClick:i,size:"small",children:r.jsx(Po,{})})})]})}));h0e.propTypes={onEdit:l.func,onDelete:l.func,onPrint:l.func,onSideDrawerOpen:l.func};const g0e=e=>{const{...t}=e,n=a.useContext(no),o=a.useContext(n.forNew?ep:Zd),s=Ke(),i=s.handleSubmit(o.onPrintSubmit,o.onPrintSubmitError);return o.itemDataReady?o.editing?r.jsx(mV,{onLoadProds:o.promptImportProds,onSave:s.handleSubmit(o.onEditorSubmit,o.onEditorSubmitError),onCancel:o.updating?o.confirmReturnReading:o.confirmQuitCreating,loading:o.editWorking,...t}):r.jsx(h0e,{onEdit:o.canUpdate?o.promptUpdating:null,onDelete:o.canDelete?o.confirmDelete:null,onPrint:o.canPrint?i:null,onSideDrawerOpen:o.handleSideDrawerOpen,...t}):!1};g0e.displayName="B02DialogToolbarContainer";const b0e=a.forwardRef((e,t)=>{const{...n}=e,{height:o}=Wt(),s=Ke(),{reset:i}=s,c=a.useContext(no),u=a.useContext(c.forNew?ep:Zd),d=Ue({name:"InqDate",control:s.control}),p=Ue({name:"employee",control:s.control}),m=Ue({name:"supplier",control:s.control}),f=Qr({height:o,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),h=a.useMemo(()=>u.creating?"":u.updating?"":"",[u.creating,u.updating]),g=a.useMemo(()=>u.creating?u.confirmQuitCreating:u.updating?u.confirmQuitUpdating:u.reading?u.cancelAction:null,[u.cancelAction,u.confirmQuitCreating,u.confirmQuitUpdating,u.creating,u.reading,u.updating]),x=s.handleSubmit(u.onEditorSubmit,u.onEditorSubmitError),y=a.useMemo(()=>!u.editing||!m||!d||!p,[u.editing,p,d,m]),D=a.useMemo(()=>[{...Pe.keyColumn("prod",or(ls,{name:"prod",packageType:"s",forId:!0,disableClearable:!0,slotProps:{paper:{sx:{width:360}}}})),title:"",minWidth:130,maxWidth:150,disabled:y},{...Pe.keyColumn("SProdData_N",kt({continuousUpdates:!1})),title:"",disabled:!0,grow:2},{...Pe.keyColumn("SPackData_N",kt({continuousUpdates:!1})),title:"",minWidth:120,maxWidth:120,disabled:!0},{...Pe.keyColumn("SPrice",Jn(2)),title:"",minWidth:120,disabled:y}],[y]),v=hr({data:u.grid.gridData,columns:D,skipDisabled:!0,lastCell:Xn.CREATE_ROW}),T=a.useCallback(()=>{if(!d){ae.error(""),s.setFocus("InqDate");return}if(!p){ae.error(""),s.setFocus("employee");return}if(!m){ae.error(""),s.setFocus("supplier");return}v.setActiveCell({col:0,row:0})},[p,s,v,d,m]),I=vt(`
		InqDate,
		employee,
		supplier,
		`,{lastField:T});return mn(()=>{u.itemDataReady&&(console.log("b02 form reset",u.itemData),i(u.itemData))},[u.itemData,u.itemDataReady]),r.jsxs(Er,{ref:t,title:h,responsive:!0,fullWidth:!0,maxWidth:"md",TitleButtonsComponent:g0e,open:u.itemViewOpen,onClose:g,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[{minHeight:"30em",paddingTop:0},f.scroller],...n,children:[r.jsx(Ye,{...s,children:r.jsx("form",{onSubmit:x,children:r.jsx(Ct,{...I,gridMeta:v,readOnly:y,children:r.jsx(pV,{creating:u.creating,editing:u.editing,updating:u.updating,readWorking:u.readWorking,readError:u.readError,data:u.itemData,itemDataReady:u.itemDataReady})})})}),r.jsx(cV,{})]})});b0e.displayName="B02DialogContainer";const hV=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(bt,{ref:t,options:zu.options,getOptionLabel:zu.getOptionLabel,isOptionEqualToValue:zu.isOptionEqualToValue,defaultValue:zu.findById(zu.OrderBy.SUPPLIER),findByInput:zu.findById,notFoundText:" ${input} ",...n})}));hV.propTypes={};hV.displayName="B02OrderByPicker";const gV=a.memo(e=>{const{...t}=e,n=a.useContext(no),o=a.useMemo(()=>n.forNew?"":"",[n.forNew]);return r.jsx(Pt,{...t,children:r.jsxs(j,{container:!0,columns:24,spacing:1,children:[r.jsx(j,{item:!0,xs:24,sm:24,md:12,children:r.jsx(ct,{legend:`${o}`,leftComponent:r.jsx(ho,{name:"customer",forNew:n.forNew,autoFocus:!0,label:`${o}`,disableOpenOnInput:!0,borderless:!0,placeholder:"",slotProps:{paper:{sx:{width:360}}}}),rightComponent:r.jsx(ho,{forNew:n.forNew,name:"customer2",label:`${o}`,disableOpenOnInput:!0,borderless:!0,placeholder:"",slotProps:{paper:{sx:{width:360}}}})})}),r.jsx(j,{item:!0,xs:24,sm:24,md:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"prod",forId:!0,label:"",disableOpenOnInput:!0,virtualize:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"prod2",forId:!0,label:"",disableOpenOnInput:!0,virtualize:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:24,sm:24,md:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"date",label:"",clearable:!0,validate:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"date2",label:"",clearable:!0,validate:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:24,sm:24,md:6,children:r.jsx(hV,{name:"orderBy",label:""})})]})})});gV.propTypes={};gV.displayName="B02ListForm";const x0e=e=>{const{...t}=e,n=vt(`
		customer,
		customer2,
		prod,
		prod2,
		date,
		date2,
		orderBy
		`);return r.jsx(Ct,{...n,children:r.jsx(gV,{...t})})};x0e.displayName="B02ListFormContainer";l.bool,l.oneOfType([l.node]);const h2=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:3,...t})};h2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};h2.displayName="B02DateColumn";const g2=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:3,...t})};g2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};g2.displayName="B02UserColumn";l.bool,l.oneOfType([l.node]);const b2=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:5,...t})};b2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};b2.displayName="B02CustomerColumn";const x2=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:9,...t})};x2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};x2.displayName="B02ProdColumn";const y2=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:3,...t})};y2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};y2.displayName="B02PriceColumn";const bV=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(no),s=a.useMemo(()=>o.forNew?"":"",[o.forNew]);return r.jsxs(io,{ref:t,...n,children:[r.jsx(Hn,{}),r.jsx(b2,{children:s}),r.jsx(x2,{children:""}),r.jsxs(y2,{children:[s,""]}),r.jsx(h2,{children:""}),r.jsx(g2,{children:""})]})}));bV.propTypes={};bV.displayName="B02ListHeader";const y0e=()=>{const e=a.useContext(no),t=a.useContext(e.forNew?ep:Zd);return r.jsx(ao,{totalElements:t.itemCount,startIndex:t.visibleStartIndex,endIndex:t.visibleStopIndex})};y0e.displayName="B02FetchResultLabelContainer";const C0e=a.memo(()=>r.jsx(fV,{variant:"contained",color:"primary"}));C0e.displayName="LeftButtons";const xV=a.memo(a.forwardRef(({...e},t)=>r.jsx(kn,{pl:0,pr:1,alignItems:"flex-end",ref:t,LeftComponent:C0e,RightComponent:y0e,...e})));xV.propTypes={onDebugSubmit:l.func};xV.displayName="B02ListViewToolbar";const D0e=e=>{const{...t}=e;Ke();const n=a.useContext(no);return a.useContext(n.forNew?ep:Zd),r.jsx(xV,{...t})};D0e.displayName="B02ListToolbarContainer";const Yn=(e,t=100)=>{const[n,o]=a.useState(e);return mn(()=>{const s=setTimeout(()=>{o(e)},t);return()=>{clearTimeout(s)}},[e]),n},yV=a.memo(e=>{const{index:t,style:n,value:o,onClick:s}=e,{ProdID:i,ProdData_N:c,PackData_N:u,CustID:d,CustData_N:p,QEmplID:m,EmplData_N:f}=o||{},h=a.useMemo(()=>[p].filter(Boolean).join(" "),[p]),g=a.useMemo(()=>[i,c].filter(Boolean).join(" ").concat(u?`(${u})`:""),[u,c,i]),x=a.useMemo(()=>[f].filter(Boolean).join(" "),[f]);return r.jsx("div",{style:n,children:r.jsxs(yo,{borderBottom:!0,onClick:s,children:[r.jsx(na,{}),r.jsx(jt,{children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t}),r.jsx(b2,{children:h}),r.jsx(x2,{children:g}),r.jsx(y2,{children:o==null?void 0:o.QPrice}),r.jsx(h2,{children:o==null?void 0:o.QDate}),r.jsx(g2,{children:x})]})})]})})});yV.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func,promptCopyAuth:l.func};yV.displayName="B02ListRow";const CV=e=>{const t=a.useContext(no),n=a.useContext(t.forNew?ep:Zd),{isItemLoading:o}=n,{index:s,...i}=e,c=a.useMemo(()=>o(s),[s,o]),u=a.useMemo(()=>n.listData[s],[n.listData,s]);return r.jsx(No,{loading:c,children:r.jsx(yV,{index:s,value:u,...i})})};CV.propTypes={index:l.number,data:l.object};CV.displayName="B02ListRowContainer";const S0e=()=>{const e=a.useContext(no),t=a.useContext(e.forNew?ep:Zd),{loadList:n}=t,o=Ke(),{height:s}=Wt(),i=Ue({control:o.control}),c=Yn(i,300);En(()=>{t.loadList()},[]),mn(()=>{n({params:zu.transformAsQueryParams(c),supressLoading:!0})},[c]);const u=a.useMemo(()=>s?s-250:300,[s]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:t.listLoading,data:t.listData,itemCount:t.itemCount,loadMoreItems:t.loadMoreItems,isItemLoaded:t.isItemLoaded,RowComponent:CV,height:u,handleItemsRendered:t.handleItemsRendered,error:t.listError,bottomReached:!0})})};S0e.displayName="B02ListViewContainer";const Z$=()=>{const e=at(),t=a.useContext(no),n=a.useContext(t.forNew?ep:Zd),o=e.handleSubmit(n.onPrintSubmit,n.onPrintSubmitError);return $t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0}),r.jsx(Ye,{...e,children:r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(x0e,{}),r.jsx(D0e,{}),r.jsx(bV,{}),r.jsx(S0e,{}),r.jsx(b0e,{})]})})};Z$.displayName="B02FrameContainer";const DV=a.memo(e=>{var s,i;const{anchor:t="right",...n}=e,o=a.useContext(iu);return r.jsxs(Eo,{anchor:t,open:o.sideDrawerOpen,onClose:o.handleSideDrawerClose,slotProps:{backdrop:{sx:[ur.BACKDROP_TRANSPARENT]}},...n,children:[r.jsx(pn,{label:"",children:(s=o.itemData)==null?void 0:s.WriteDate}),r.jsx(pn,{label:"",children:(i=o.itemData)==null?void 0:i.Writer})]})});DV.propTypes={anchor:l.string};DV.displayName="B05Drawer";const GIt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),SV=a.memo(e=>{const{getRowKey:t,createRow:n,readOnly:o,gridRef:s,data:i,onChange:c,getRowClassName:u,height:d=300,bearer:p,...m}=e,f=a.useCallback(({rowData:h})=>({...h,Pkey:zn()}),[]);return r.jsx(dr,{ref:s,rowKey:t,lockRows:o,height:d+(o?48:0),value:i,onChange:c,addRowsComponent:go,disableExpandSelection:!0,contextMenuComponent:GIt,createRow:n,duplicateRow:f,rowClassName:u,...m})});SV.propTypes={getRowKey:l.func,onChange:l.func};SV.displayName="B05QuoteGrid";const v0e=e=>{const{...t}=e,n=a.useContext(iu),o=a.useContext(Be),{height:s}=Wt(),i=a.useContext(Lr),c=a.useMemo(()=>n.buildGridChangeHandler({gridMeta:i.gridMeta,onUpdateRow:n.onUpdateRow}),[n,i.gridMeta]),u=a.useMemo(()=>s-330,[s]);return r.jsx(Kn.Provider,{value:{...n.grid,...i.gridMeta,readOnly:i.readOnly},children:r.jsx(SV,{gridRef:i.gridMeta.setGridRef,readOnly:i.readOnly,data:n.gridData,onChange:c,onActiveCellChange:i.gridMeta.handleActiveCellChange,bearer:o.token,height:u,getRowKey:n.getRowKey,createRow:n.createRow,...t})})};v0e.displayName="B05QuoteGridContainer";const vV=a.memo(e=>{const{readError:t,data:n,readWorking:o,itemDataReady:s,creating:i,editing:c,updating:u,slotProps:d,...p}=e;return r.jsxs(r.Fragment,{children:[o&&r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",minHeight:"30em",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}),t&&r.jsx(lo,{error:t,...d==null?void 0:d.error}),s&&r.jsx(r.Fragment,{children:r.jsx(Pt,{pt:1,children:r.jsxs(j,{container:!0,columns:24,spacing:1,children:[!i&&r.jsx(j,{item:!0,xs:24,sm:24,md:5,children:r.jsx($e,{typo:!0,name:"InqID",label:"",fullWidth:!0,required:!0,readOnly:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:6,children:r.jsx(et,{typo:!0,name:"InqDate",label:"",...c&&{autoFocus:!0},variant:"outlined",fullWidth:!0,required:!0,validate:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:6,children:r.jsx(Ar,{typo:!0,label:"",name:"employee",required:!0,rules:{required:""},virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:7,children:r.jsx(xa,{typo:!0,label:"",name:"supplier",required:!0,rules:{required:""},virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:24,children:r.jsx(v0e,{})}),r.jsx(j,{item:!0,xs:24,children:r.jsx($e,{typo:!0,name:"remark",multiline:!0,minRows:2,maxRows:5,label:"",fullWidth:!0})})]})})})]})});vV.propTypes={readWorking:l.bool,readError:l.object,data:l.object,itemDataReady:l.bool,slotProps:l.object};vV.displayName="B05DialogForm";const j0e=e=>{const{...t}=e,n=Ue(),o=a.useContext(iu),{peekProds:s,importProdsWorking:i,ipState:{loading:c,totalElements:u}}=o,d=Gr(n,300),[p,m]=a.useState(),f=a.useMemo(()=>JSON.stringify(d),[d]);a.useEffect(()=>{f!==p&&(m(f),console.log("criteria changed",d),s(d))},[d,p,f,s]);const h=a.useMemo(()=>Gn.isAllPropsEmpty(n)?"":u?`(${u})`:"()",[n,u]),g=a.useMemo(()=>!u,[u]);return r.jsx(dt,{type:"submit",disabled:g,size:"small",responsive:!0,loading:c||i,sx:{fontWeight:600},...t,children:h})};j0e.displayName="B05ImportProdsButtonContainer";const jV=a.memo(e=>{const{handleSubmit:t,...n}=e;return r.jsx("form",{onSubmit:t,...n,children:r.jsxs(jt,{pt:1,children:[r.jsxs(j,{container:!0,spacing:1,columns:24,children:[r.jsx(j,{item:!0,xs:24,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"sprod",size:"small",virtualize:!0,autoFocus:!0,typeToSearchText:",",optionLabelSize:"md",disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"eprod",size:"small",virtualize:!0,typeToSearchText:",",optionLabelSize:"md",disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:24,sm:24,md:8,children:r.jsx(Yd,{name:"typeA",disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:240}}}})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,md:8,children:r.jsx(Pl,{name:"catL",disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:240}}}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:8,children:r.jsx(El,{name:"catM",disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:240}}}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:8,children:r.jsx(ou,{name:"catS",disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:240}}}})})]}),r.jsx(kn,{align:"right",children:r.jsx(jr,{title:"shift+Enter",children:r.jsx(j0e,{variant:"contained",color:"primary"})})})]})})});jV.propTypes={handleSubmit:l.func};jV.displayName="B05LoadProdsForm";const IV=a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(iu),s=at({defaultValues:{}}),i=s.handleSubmit(o.onImportProdsSubmit,o.onImportProdsSubmitError);return r.jsx(Er,{ref:t,responsive:!0,fullWidth:!0,maxWidth:"sm",title:"",open:o.importProdsDialogOpen,onClose:o.cancelImportProds,hideCloseButton:!1,confirmTooltip:"shift+Enter",...n,children:r.jsx(Ye,{...s,children:r.jsx(Ct,{...o.loadProdFormMeta,children:r.jsx(jV,{handleSubmit:i})})})})});IV.propTypes={};IV.displayName="B05ImportProdsDialogContainer";const TV=a.memo(a.forwardRef((e,t)=>{const{onLoadProds:n,onSave:o,onCancel:s,loading:i,...c}=e;return r.jsxs(a.Fragment,{ref:t,...c,children:[r.jsx(dt,{responsive:!0,onClick:n,endIcon:r.jsx(Kb,{}),color:"primary",variant:"outlined",children:""}),r.jsx(dt,{responsive:!0,onClick:s,color:"warning",variant:"outlined",...c,children:""}),r.jsx(dt,{responsive:!0,onClick:o,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:i,children:""}),r.jsx(IV,{})]})}));TV.displayName="B05DialogEditToolbar";TV.propTypes={onCancel:l.func,onSave:l.func,onLoadProds:l.func,loading:l.bool};const I0e=e=>{const{...t}=e,n=Ke(),o=a.useContext(iu),{canPrint:s}=o,i=n.handleSubmit(o.onPrintSubmit,o.onPrintSubmitError);return s?r.jsx(xn,{onSubmit:i,...t}):!1};I0e.displayName="B05ExportButtonContainer";const T0e=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,onDelete:o,onPrint:s,onSideDrawerOpen:i,...c}=e;return r.jsxs(a.Fragment,{ref:t,...c,children:[s&&r.jsx(I0e,{}),o&&r.jsx(hn,{startIcon:r.jsx(Fs,{}),color:"secondary",onClick:o,children:""}),n&&r.jsx(hn,{startIcon:r.jsx(bo,{}),color:"primary",onClick:n,children:""}),r.jsx(jr,{title:"",children:r.jsx(br,{onClick:i,size:"small",children:r.jsx(Po,{})})})]})}));T0e.propTypes={onEdit:l.func,onDelete:l.func,onPrint:l.func,onSideDrawerOpen:l.func};const O0e=e=>{const{...t}=e,n=a.useContext(iu),o=Ke(),s=o.handleSubmit(n.onPrintSubmit,n.onPrintSubmitError);return n.itemDataReady?n.editing?r.jsx(TV,{onLoadProds:n.promptImportProds,onSave:o.handleSubmit(n.onEditorSubmit,n.onEditorSubmitError),onCancel:n.updating?n.confirmReturnReading:n.confirmQuitCreating,loading:n.editWorking,...t}):r.jsx(T0e,{onEdit:n.canUpdate?n.promptUpdating:null,onDelete:n.canDelete?n.confirmDelete:null,onPrint:n.canPrint?s:null,onSideDrawerOpen:n.handleSideDrawerOpen,...t}):!1};O0e.displayName="B05DialogToolbarContainer";const OV=a.forwardRef((e,t)=>{const{...n}=e,{height:o}=Wt(),s=a.useMemo(()=>o-120,[o]),i=Ke(),{reset:c}=i,u=a.useContext(iu),d=Ue({name:"InqDate",control:i.control}),p=Ue({name:"employee",control:i.control}),m=Ue({name:"supplier",control:i.control}),f=Qr({height:s,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),h=a.useMemo(()=>u.creating?"":u.updating?"":"",[u.creating,u.updating]),g=a.useMemo(()=>u.creating?u.confirmQuitCreating:u.updating?u.confirmQuitUpdating:u.reading?u.cancelAction:null,[u.cancelAction,u.confirmQuitCreating,u.confirmQuitUpdating,u.creating,u.reading,u.updating]),x=a.useCallback(()=>{u.editing&&i.handleSubmit(u.onEditorSubmit,u.onEditorSubmitError)()},[u.editing,u.onEditorSubmit,u.onEditorSubmitError,i]);$t(["Control+Enter"],()=>setTimeout(x),{enableOnFormTags:!0});const y=a.useMemo(()=>!u.editing||!m||!d||!p,[u.editing,p,d,m]),D=a.useMemo(()=>[{...Pe.keyColumn("prod",or(ls,{name:"prod",packageType:"s",forId:!0,disableClearable:!0,slotProps:{paper:{sx:{width:360}}}})),title:"",minWidth:130,maxWidth:150,disabled:y},{...Pe.keyColumn("SProdData_N",kt({continuousUpdates:!1})),title:"",disabled:!0,grow:2},{...Pe.keyColumn("SPackData_N",kt({continuousUpdates:!1})),title:"",minWidth:120,maxWidth:120,disabled:!0},{...Pe.keyColumn("SPrice",Jn(2)),title:"",minWidth:120,disabled:y}],[y]),v=hr({data:u.grid.gridData,columns:D,skipDisabled:!0,lastCell:Xn.CREATE_ROW}),T=a.useCallback(()=>{if(!d){ae.error(""),i.setFocus("InqDate");return}if(!p){ae.error(""),i.setFocus("employee");return}if(!m){ae.error(""),i.setFocus("supplier");return}v.setActiveCell({col:0,row:0})},[p,i,v,d,m]),I=vt(`
		InqDate,
		employee,
		supplier,
		`,{lastField:T});return a.useEffect(()=>{u.itemDataReady&&(console.log("b05 form reset",u.itemData),c(u.itemData))},[u.itemData,u.itemDataReady,c]),r.jsxs(Er,{ref:t,title:h,responsive:!0,fullWidth:!0,maxWidth:"md",TitleButtonsComponent:O0e,open:u.itemViewOpen,onClose:g,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[{paddingTop:0},f.scroller],...n,children:[r.jsx(Ye,{...i,children:r.jsx("form",{onSubmit:x,children:r.jsx(Ct,{...I,gridMeta:v,readOnly:y,children:r.jsx(vV,{creating:u.creating,editing:u.editing,updating:u.updating,readWorking:u.readWorking,readError:u.readError,data:u.itemData,itemDataReady:u.itemDataReady})})})}),r.jsx(DV,{})]})});OV.displayName="B05DialogContainer";const C2=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:4,...t})};C2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};C2.displayName="B05IdColumn";const D2=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:4,...t})};D2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};D2.displayName="B05DateColumn";const S2=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:5,...t})};S2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};S2.displayName="B05UserColumn";const v2=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:10,...t})};v2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};v2.displayName="B05SupplierColumn";const EV=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsxs(io,{ref:t,...n,children:[r.jsx(Hn,{}),r.jsx(C2,{children:""}),r.jsx(D2,{children:""}),r.jsx(v2,{children:""}),r.jsx(S2,{children:""})]})}));EV.propTypes={};EV.displayName="B05ListHeader";const E0e=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(iu),s=a.useMemo(()=>"",[]);return r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(Ao,{}),onClick:o.promptCreating,sx:{fontWeight:600},...n,children:s})}));E0e.displayName="B05CreateButtonContainer";const P0e=()=>{const e=a.useContext(iu);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};P0e.displayName="B05FetchResultLabelContainer";const R0e=a.memo(()=>r.jsx(r.Fragment,{children:r.jsx(E0e,{})}));R0e.displayName="LeftButtons";const w0e=a.memo(a.forwardRef(({...e},t)=>r.jsx(kn,{pl:0,pr:1,alignItems:"flex-end",ref:t,LeftComponent:R0e,RightComponent:P0e,...e})));w0e.displayName="B05ListViewToolbar";const KIt=e=>(e==null?void 0:e.map(t=>({Pkey:zn(),prod:{ProdID:t.SProdID,ProdData:t.SProdData_N},SProdData_N:t.SProdData_N,SPackData_N:t.SPackData_N,SPrice:t.SPrice||null,Seq:t.Seq})))||[],k0e=e=>(e==null?void 0:e.map(t=>({Pkey:t.Pkey,prod:{ProdID:t.SProdID,ProdData:t.SProdData_N},SProdData_N:t.SProdData_N,SPackData_N:t.SPackData_N,SPrice:t.SPrice,Seq:t.Seq})))||[],QIt=e=>e.filter(t=>{var n;return(n=t.prod)==null?void 0:n.ProdID}).map((t,n)=>{var o,s,i;return{Pkey:((o=t.Pkey)==null?void 0:o.length)<36?"":t.Pkey,SProdID:(s=t.prod)==null?void 0:s.ProdID,SPrice:((i=t.SPrice)==null?void 0:i.toString())||"",Seq:n+1}}),YIt=e=>{const{EmplID:t,EmplData_N:n,FactID:o,FactData_N:s,FactInq_S:i,Remark:c,...u}=e;return Re.processDateFieldsForReset({employee:{CodeID:t,CodeData:n},supplier:o?{FactID:o,FactData:s}:null,quotes:k0e(i),remark:c.join(`
`),...u},"InqDate")},JIt=(e,t)=>{const{InqID:n,InqDate:o,employee:s,supplier:i,remark:c}=e;return Re.processDateFieldsForSubmit({InqID:n,InqDate:o,EmplID:(s==null?void 0:s.CodeID)||"",FactID:(i==null?void 0:i.FactID)||"",Remark:(c==null?void 0:c.split(`
`))||[],...t&&{FactInq_S:QIt(t)}},"InqDate")},XIt=e=>{var t,n,o,s,i,c;return{pi:(t=e.sprod)==null?void 0:t.ProdID,pi2:(n=e.eprod)==null?void 0:n.ProdID,pn:e.prodName,cl:(o=e.catL)==null?void 0:o.LClas,cm:(s=e.catM)==null?void 0:s.MClas,cs:(i=e.catS)==null?void 0:i.SClas,ta:(c=e.typeA)==null?void 0:c.id}},ZIt=e=>{var t,n;return{emp:(t=e.lvEmployee)==null?void 0:t.CodeID,dat:Re.formatDate(e.lvDate),sup:(n=e.lvSupplier)==null?void 0:n.FactID}},qy={transformForReading:YIt,transformForSubmitting:JIt,transformImportProdsAsQueryParams:XIt,transformForGridImport:KIt,transformGridForReading:k0e,transformAsQueryParams:ZIt},PV=a.memo(e=>{const{index:t,style:n,value:o,onClick:s}=e;return r.jsx("div",{style:n,children:r.jsxs(yo,{borderBottom:!0,onClick:s,children:[r.jsx(na,{}),r.jsx(jt,{children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t}),r.jsx(C2,{children:o==null?void 0:o.}),r.jsx(D2,{children:o==null?void 0:o.}),r.jsx(v2,{children:o==null?void 0:o.}),r.jsx(S2,{children:o==null?void 0:o.})]})})]})})});PV.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func,confirmResetPword:l.func,promptCopyAuth:l.func};PV.displayName="B05ListRow";const RV=e=>{const t=a.useContext(iu),{isItemLoading:n}=t,{index:o,...s}=e,i=a.useMemo(()=>n(o),[o,n]),c=a.useMemo(()=>t.listData[o],[t.listData,o]);return r.jsx(No,{loading:i,children:r.jsx(PV,{index:o,value:c,onClick:u=>t.handleSelect(u,c),...s})})};RV.propTypes={index:l.number,data:l.object};RV.displayName="B05ListRowContainer";const A0e=()=>{const e=a.useContext(iu),{loadList:t}=e,n=Ke(),{height:o}=Wt(),s=Ue({name:"q",control:n.control}),i=Gr(s,300),c=Ue({name:"lvEmployee",control:n.control}),u=Gr(c,300),d=Ue({name:"lvSupplier",control:n.control}),p=Gr(d,300),m=Ue({name:"lvDate",control:n.control}),f=Gr(m,300);En(()=>{e.loadList()},[]),mn(()=>{t({params:{q:i,...qy.transformAsQueryParams({lvEmployee:u,lvSupplier:p,lvDate:f})},supressLoading:!0})},[i,u,p,f]);const h=a.useMemo(()=>o?o-180:300,[o]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:RV,height:h,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};A0e.displayName="B05ListViewContainer";const wV=a.memo(e=>{const{...t}=e;return r.jsx(Pt,{children:r.jsxs(Vt,{container:!0,spacing:1,children:[r.jsx(Vt,{item:!0,lg:3,children:r.jsx($e,{name:"q",label:"",size:"small",fullWidth:!0,autoFocus:!0,clearable:!0,clearOnEscape:!0})}),r.jsx(Vt,{item:!0,lg:3,children:r.jsx(xa,{label:"",name:"lvSupplier",virtualize:!0,optionLabelSize:"md",disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}}})}),r.jsx(Vt,{item:!0,lg:3,children:r.jsx(et,{name:"lvDate",label:"",fullWidth:!0,validate:!0,clearable:!0})}),r.jsx(Vt,{item:!0,lg:3,children:r.jsx(Ar,{label:"",name:"lvEmployee",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0})})]})})});wV.propTypes={};wV.displayName="B05SearchForm";const N0e=e=>{const{...t}=e,n=vt(`
		q,
		lvSupplier,
		lvDate,
		lvEmployee
		`);return r.jsx(Ct,{...n,children:r.jsx(wV,{...t})})};N0e.displayName="B05SearchFormContainer";const F0e=()=>{const e=at();return r.jsx(Ye,{...e,children:r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(N0e,{}),r.jsx(w0e,{}),r.jsx(EV,{}),r.jsx(A0e,{}),r.jsx(OV,{})]})})};F0e.displayName="B05FrameContainer";const M0e=e=>{const{...t}=e,n=Ke(),o=a.useContext(eg),{canPrint:s}=o,i=n.handleSubmit(o.onPrintSubmit,o.onPrintSubmitError);return s?r.jsx(xn,{onSubmit:i,...t}):!1};M0e.displayName="B06ExportButtonContainer";const _0e=()=>{const e=a.useContext(eg);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};_0e.displayName="B06FetchResultLabelContainer";const L0e=a.memo(()=>r.jsx(M0e,{variant:"contained",color:"primary"}));L0e.displayName="LeftButtons";const kV=a.memo(a.forwardRef(({loading:e,...t},n)=>r.jsx(kn,{alignItems:"flex-end",pl:0,pr:1,ref:n,LeftComponent:e?Cr:L0e,RightComponent:_0e,...t})));kV.displayName="B06ListViewToolbar";kV.propTypes={loading:l.bool};const $0e=e=>{const{...t}=e,n=a.useContext(eg);return r.jsx(kV,{loading:n.listLoading,...t})};$0e.displayName="B06ToolbarContainer";const AV=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(bt,{ref:t,options:Xm.options,getOptionLabel:Xm.getOptionLabel,isOptionEqualToValue:Xm.isOptionEqualToValue,defaultValue:Xm.findById(Xm.OrderBy.PROD),findByInput:Xm.findById,notFoundText:" ${input} ",...n})}));AV.propTypes={};AV.displayName="B06OrderByPicker";const uO=a.memo(e=>{const{lg:t=!1,md:n=!1,sm:o=!1,xs:s=!1}=e,{isXl:i,isLgOrUp:c,isMdOrUp:u,isSmOrUp:d}=a.useContext(Zh);return t&&i||n&&c||o&&!u||s&&!d?!1:r.jsx(ve,{fullWidth:!0})});uO.propTypes={xl:l.bool,lg:l.bool,md:l.bool,sm:l.bool,xs:l.bool};uO.displayName="ResponsiveLineBreak";const NV=a.memo(()=>r.jsx(Pt,{pt:.5,children:r.jsxs(Vt,{container:!0,columns:24,spacing:1.5,children:[r.jsx(Vt,{item:!0,md:12,lg:10,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(xa,{autoFocus:!0,label:"",name:"lvSupplier",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:"",slotProps:{paper:{sx:{width:360}}}}),rightComponent:r.jsx(xa,{label:"",name:"lvSupplier2",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:"",slotProps:{paper:{sx:{width:360}}}})})}),r.jsx(Vt,{item:!0,md:12,lg:8,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"date1",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"date2",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(uO,{}),r.jsx(Vt,{item:!0,md:12,lg:10,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"sprod",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:"",slotProps:{paper:{sx:{width:360}}}}),rightComponent:r.jsx(fn,{name:"eprod",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:"",slotProps:{paper:{sx:{width:360}}}})})}),r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(AV,{name:"orderBy",label:"",disableOpenOnInput:!0,selectOnFocus:!0})})]})}));NV.propTypes={onSubmit:l.func};NV.displayName="B06SearchForm";const B0e=()=>{a.useContext(eg);const e=Ke(),t=vt(`
		lvSupplier,
		lvSupplier2,
		date1,
		date2,
		sprod,
		eprod,
		orderBy
		`);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...t,children:r.jsx("form",{children:r.jsx(NV,{})})})})};B0e.displayName="B06SearchFormContainer";const j2=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:6,...t})};j2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};j2.displayName="B06ProdNameColumn";const I2=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:4,...t})};I2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};I2.displayName="B06SpNameColumn";const T2=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:4,...t})};T2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};T2.displayName="B06ProdIdColumn";const O2=e=>{const{...t}=e;return r.jsx(wt,{flex:!0,pr:1,xs:3,justifyContent:"flex-end",...t})};O2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};O2.displayName="B06PriceColumn";const E2=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:3,...t})};E2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};E2.displayName="B06DateColumn";const P2=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:3,...t})};P2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};P2.displayName="B06InqIdColumn";const FV=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsxs(io,{ref:t,spacing:1,...n,children:[r.jsx(Hn,{}),r.jsx(I2,{children:""}),r.jsx(T2,{children:""}),r.jsx(j2,{children:""}),r.jsx(O2,{children:""}),r.jsx(E2,{children:""}),r.jsx(P2,{children:""})]})}));FV.propTypes={};FV.displayName="B06ListHeader";const MV=a.memo(e=>{const{index:t,style:n,value:o,onInqIdClick:s}=e;return r.jsx("div",{style:n,children:r.jsx(yo,{borderBottom:!0,children:r.jsxs(j,{container:!0,columns:24,spacing:1,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t}),r.jsx(I2,{children:o==null?void 0:o.FactAbbr_N}),r.jsx(T2,{children:o==null?void 0:o.SProdID_N}),r.jsx(j2,{children:o==null?void 0:o.SProdData_N}),r.jsx(O2,{children:o==null?void 0:o.SPrice_N}),r.jsx(E2,{children:o==null?void 0:o.InqDate_N}),r.jsx(P2,{onClick:o!=null&&o.InqID_N?s:null,sx:{"&:hover":{color:Zm[500]}},children:o==null?void 0:o.InqID_N})]})})})});MV.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,sx:l.oneOfType([l.array,l.object]),onInqIdClick:l.func};MV.displayName="B06ListRow";const _V=e=>{var u;const t=a.useContext(eg),{index:n,...o}=e,s=a.useMemo(()=>t.listData[n],[t.listData,n]),i=a.useMemo(()=>!s,[s]),c=a.useMemo(()=>{var d;return(s==null?void 0:s.FactID)===((d=t.selectedItem)==null?void 0:d.FactID)},[(u=t.selectedItem)==null?void 0:u.FactID,s==null?void 0:s.FactID]);return r.jsx(No,{loading:i,children:r.jsx(MV,{index:n,value:s,selected:c,onInqIdClick:d=>t.handleInqIdClick(d,s),...o})})};_V.propTypes={index:l.number,data:l.object};_V.displayName="B06ListRowContainer";const W0e=()=>{const e=a.useContext(eg),t=Ke(),{height:n}=Wt(),o=Ue({name:"qs",control:t.control}),s=Gr(o,300),i=Ue({name:"lvSupplier",control:t.control}),c=Yn(i,300),u=Ue({name:"lvSupplier2",control:t.control}),d=Yn(u,300),p=Ue({name:"date1",control:t.control}),m=Yn(p,300),f=Ue({name:"date2",control:t.control}),h=Yn(f,300),g=Ue({name:"sprod",control:t.control}),x=Yn(g,300),y=Ue({name:"eprod",control:t.control}),D=Yn(y,300),v=Ue({name:"orderBy",control:t.control}),T=Yn(v,300);En(()=>{e.loadList()},[]),mn(()=>{console.log(`debouncedQs: ${s}`),e.loadList({params:{...s&&{qs:s},...Xm.transformAsQueryParams({supplier:c,supplier2:d,date1:m,date2:h,sprod:x,eprod:D,orderBy:T})},supressLoading:!0})},[s,c,d,m,h,x,D,T]);const I=a.useMemo(()=>n?n-250:300,[n]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:_V,height:I,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};W0e.displayName="B06ListViewContainer";const U0e=({children:e,...t})=>r.jsx(Zh.Provider,{value:{...t},children:e});U0e.propTypes={children:l.oneOfType([l.array,l.object])};const li=e=>{const{children:t,...n}=e,{containerRef:o,...s}=X3({...n});return r.jsx(U0e,{containerRef:o,...s,...n,children:r.jsx("div",{ref:o,children:t})})};li.propTypes={children:l.oneOfType([l.node,l.array])};li.displayName="ResponsiveLayout";const q0e=()=>{const e=at(),t=a.useContext(eg),n=a.useMemo(()=>e.handleSubmit(t.onPrintSubmit,t.onPrintSubmitError),[t.onPrintSubmit,t.onPrintSubmitError,e]);return $t(["Shift+Enter","Control+Enter"],()=>setTimeout(n),{enableOnFormTags:!0}),r.jsx(Ye,{...e,children:r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsxs(li,{children:[r.jsx(B0e,{}),r.jsx($0e,{}),r.jsx(FV,{}),r.jsx(W0e,{})]}),r.jsx(OV,{})]})})};q0e.displayName="B06FrameContainer";const eTt=()=>{var me,de;const e=a.useContext(cr),{itemData:t}=e,n=a.useRef(),{token:o,operator:s}=a.useContext(Be),i=a.useContext(ln),c=Bt({moduleId:"B05"}),u=Co(),[d,p]=a.useState(),{httpGetAsync:m,httpPostAsync:f,httpPutAsync:h,httpDeleteAsync:g}=Zn(),x=a.useContext(Mr),y=so({url:"v1/prod/inquiries",bearer:o,initialFetchSize:50}),D=a.useCallback(()=>({Pkey:zn(),prod:null,SPrice:""}),[]),v=yr({gridId:"quotes",keyColumn:"pkey",createRow:D}),T=a.useCallback(()=>{const ce={InqDate:new Date,quotes:[]};e.promptCreating({data:ce}),v.initGridData(ce.quotes,{fillRows:15})},[e,v]),I=a.useCallback(async({data:ce})=>{try{e.startCreating();const{status:ee,error:De}=await f({url:"v1/prod/inquiries",data:ce,bearer:o});if(ee.success)ae.success(""),e.finishedCreating(),e.cancelReading(),y.loadList({refresh:!0});else throw De??new Error("")}catch(ee){e.failedCreating(),console.error("handleCreate.failed",ee),ae.error("",ee)}},[e,f,y,o]),P=a.useCallback(async({id:ce,refresh:ee=!1})=>{try{const De=ee?n.current:ce;ee||(n.current=ce,e.startReading("...",{id:ce}));const{status:ke,payload:He,error:qe}=await m({url:"v1/prod/inquiries",bearer:o,params:{id:De}});if(ke.success){const Le=qy.transformForReading(He.data[0]);e.finishedReading({data:Le}),p(Le),v.handleGridDataLoaded(Le.quotes)}else throw qe??new Error("")}catch(De){e.failedReading(De)}},[e,m,v,o]),E=a.useCallback(async(ce,ee)=>{ce==null||ce.stopPropagation(),e.cancelAction(),P({id:ee.})},[e,P]),k=a.useCallback(()=>{x.confirm({message:"?",onConfirm:()=>{e.cancelAction()}})},[e,x]),w=a.useCallback(()=>{x.confirm({message:"?",onConfirm:()=>{e.cancelAction(),P({refresh:!0})}})},[e,x,P]),A=a.useCallback(()=>{x.confirm({message:"?",onConfirm:()=>{e.cancelUpdating(),P({refresh:!0})}})},[e,x,P]),F=a.useCallback(async({data:ce})=>{try{e.startUpdating();const{status:ee,error:De}=await h({url:"v1/prod/inquiries",data:ce,bearer:o});if(ee.success)ae.success(""),e.finishedUpdating(),P({refresh:!0}),y.loadList({refresh:!0});else throw De??new Error("")}catch(ee){e.failedUpdating(),console.error("handleCreate.failed",ee),ae.error("",ee)}},[e,h,y,P,o]),_=a.useCallback(()=>{x.confirm({message:`${t==null?void 0:t.InqID}?`,onConfirm:async()=>{try{e.startDeleting(t);const{status:ce,error:ee}=await g({url:"v1/prod/inquiries",bearer:o,params:{id:t==null?void 0:t.InqID}});if(ce.success)e.cancelAction(),ae.success(` ${t==null?void 0:t.InqID}`),y.loadList({refresh:!0});else throw ee||""}catch(ce){e.failedDeleting(ce),console.error("confirmDelete.failed",ce),ae.error("",ce)}}})},[e,x,g,t,y,o]),L=a.useCallback(ce=>{console.log("onSearchSubmit",ce)},[]),K=a.useCallback(ce=>{console.error("onSearchSubmitError",ce)},[]),z=a.useCallback(({rowData:ce})=>{var De,ke;let ee={...ce};return ee={...ee,SProdData_N:((De=ce==null?void 0:ce.prod)==null?void 0:De.ProdData)||"",SPackData_N:((ke=ce==null?void 0:ce.prod)==null?void 0:ke.PackData_N)||"",SPrice:""},ee},[]),J=a.useCallback(({fromRowIndex:ce,formData:ee,newValue:De,setValue:ke,gridMeta:He,updateResult:qe})=>async(Le,_e)=>{var Y,ie;const H=ce+_e,re=v.gridData[H];console.log(` ${H+1} ...`,Le);let q={...Le};return((Y=q.prod)==null?void 0:Y.ProdID)!=((ie=re.prod)==null?void 0:ie.ProdID)&&(console.log(`prod[${H}] changed`,q==null?void 0:q.prod),q=await z({rowData:q,formData:ee})),q},[v.gridData,z]),Q=a.useCallback(ce=>{console.log("onEditorSubmit",ce);const ee=qy.transformForSubmitting(ce,v.gridData);console.log("collected",ee),e.creating?I({data:ee}):e.updating?F({data:ee}):console.error("UNKNOWN SUBMIT TYPE")},[e.creating,e.updating,I,F,v.gridData]),V=a.useCallback(ce=>{console.error("onEditorSubmitError",ce),ae.error(", (*)")},[]),W=a.useCallback(({rowData:ce,rowIndex:ee})=>`${(ce==null?void 0:ce.Pkey)||ee}`,[]),U=Or(),[X,te]=a.useState({criteria:null,saveKey:null,totalElements:null,loading:!1}),se=a.useCallback(async ce=>{if(!o)throw new Error("token not specified");if(Gn.isAllPropsEmpty(ce)){console.log("criteria is empty"),X.saveKey&&te(ee=>({...ee,saveKey:null,totalElements:null}));return}te(ee=>({...ee,loading:!0,criteria:ce}));try{const{status:ee,payload:De,error:ke}=await m({url:"v1/prod/data-grid/B05",bearer:o,params:{...qy.transformImportProdsAsQueryParams(ce),pk:1}});if(ee.success)te(He=>{var qe,Le;return{...He,saveKey:(qe=De.Select)==null?void 0:qe.SaveKey,totalElements:(Le=De.Select)==null?void 0:Le.TotalRecord}});else throw ke??new Error("")}catch(ee){console.error("peek failed",ee),ae.error("",ee)}finally{te(ee=>({...ee,loading:!1}))}},[m,X.saveKey,o]),he=a.useCallback(async ce=>{var ee;console.log("onImportProdsSubmit",ce);try{U.start();const{status:De,payload:ke,error:He}=await m({url:"v1/prod/data-grid/B05",bearer:o,params:{...qy.transformImportProdsAsQueryParams(X.criteria),sk:X.saveKey}});if(De.success){const qe=((ee=ke.data)==null?void 0:ee[0].FactInq_S)||[];console.log("data",qe),v.initGridData(qy.transformForGridImport(qe),{fillRows:!0}),ae.success(` ${qe.length} `),U.clear()}else throw He??new Error("")}catch(De){U.fail({error:De}),ae.error("",De)}},[m,U,X.criteria,X.saveKey,v,o]),pe=a.useCallback(ce=>{console.error("onImportProdsSubmitError",ce)},[]),ue=a.useMemo(()=>`${i.REPORT_URL}/WebB05Rep.aspx`,[i.REPORT_URL]),ge=yn(),Ce=a.useCallback(ce=>{var De;console.log("onPrintSubmit",ce);const ee={...ce.outputType&&{Action:ce.outputType.id},DeptID:s==null?void 0:s.CurDeptID,JobName:"B05",IDs:(De=e.itemData)==null?void 0:De.InqID};console.log("data",ee),ge.open(ue,ee)},[(me=e.itemData)==null?void 0:me.InqID,s==null?void 0:s.CurDeptID,ue,ge]),Te=a.useCallback(ce=>{console.error("onPrintSubmitError",ce)},[]),Ne=a.useCallback(ce=>{var De;console.log("handlePrint",ce);const ee={...ce&&{Action:ce.id},DeptID:s==null?void 0:s.CurDeptID,JobName:"B05",IDs:(De=e.itemData)==null?void 0:De.InqID};console.log("data",ee),ge.open(ue,ee)},[(de=e.itemData)==null?void 0:de.InqID,s==null?void 0:s.CurDeptID,ue,ge]),xe=vt(`
		sprod,
		eprod,
		typeA,
		catL,
		catM,
		catS
		`);return{...e,...y,...c,selectedInq:d,loadItem:P,handleSelect:E,onSearchSubmit:L,onSearchSubmitError:K,confirmQuitCreating:k,confirmQuitUpdating:w,confirmReturnReading:A,confirmDelete:_,promptCreating:T,onEditorSubmit:Q,onEditorSubmitError:V,...v,grid:v,getRowKey:W,importProdsWorking:U.working,promptImportProds:U.prompt,cancelImportProds:U.clear,importProdsDialogOpen:U.active,onImportProdsSubmit:he,onImportProdsSubmitError:pe,peekProds:se,ipState:X,onPrintSubmit:Ce,onPrintSubmitError:Te,loadProdFormMeta:xe,...u,onUpdateRow:J,createRow:D,handlePrint:Ne}},eB=({children:e})=>{const t=eTt();return r.jsx(iu.Provider,{value:{...t},children:e})};eB.propTypes={children:l.oneOfType([l.array,l.object])};const tTt=r.jsxs(r.Fragment,{children:[r.jsx(yt,{path:"B011",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(sb,{children:r.jsx(LSe,{children:r.jsx(J$,{})})})})})}),r.jsx(yt,{path:"B012",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(sb,{children:r.jsx(USe,{children:r.jsx(X$,{})})})})})}),r.jsx(yt,{path:"B02",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(sb,{children:r.jsx(VSe,{children:r.jsx(Z$,{})})})})})}),r.jsx(yt,{path:"B031",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(sb,{forNew:!0,children:r.jsx(zSe,{children:r.jsx(J$,{})})})})})}),r.jsx(yt,{path:"B032",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(sb,{forNew:!0,children:r.jsx(HSe,{children:r.jsx(X$,{})})})})})}),r.jsx(yt,{path:"B04",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(sb,{forNew:!0,children:r.jsx(GSe,{children:r.jsx(Z$,{})})})})})}),r.jsx(yt,{path:"B05",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(eB,{children:r.jsx(F0e,{})})})})}),r.jsx(yt,{path:"B06",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(eB,{children:r.jsx(QSe,{children:r.jsx(q0e,{})})})})})})]}),V0e=({rowData:e,rowIndex:t})=>{var s;let n=[];if((s=e==null?void 0:e.prod)!=null&&s.ProdID&&!wo.isNullOrEmpty(e==null?void 0:e.StockQty_N)){const i=e.StockQty_N;n.push(`(${i||0})`)}const o=n.join(", ");return console.log(`${V0e.name}`,o),o},LV=({rowData:e,rowIndex:t})=>{var o;let n=[];if((o=e==null?void 0:e.prod)!=null&&o.ProdID&&!wo.isNullOrEmpty(e==null?void 0:e.StockQty_N)){const s=e.StockQty_N;if(n.push({label:"",value:s??0}),e!=null&&e.SafeQty_N){const i=Number(e==null?void 0:e.SafeQty_N)||0,c=i>0?s-i:s;s<(i>0?i:0)&&n.push({label:"",value:c})}}return console.log(`${LV.name}`,n),n},tB=Object.freeze({NOT_REVIEWED:1,REVIEWED:2}),z0e=[{id:tB.NOT_REVIEWED,label:""},{id:tB.REVIEWED,label:""}],nTt=e=>{if(!e)return"";const{label:t}=e;return`${t}`},rTt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),oTt=e=>z0e.find(t=>t.id===e),H0e=e=>(e==null?void 0:e.map((t,n)=>{const{SProdID:o,ProdData_N:s,SFactID:i,SFactNa:c,...u}=t;let d={prod:{ProdID:o,ProdData:s},supplier:{FactID:i,FactNa:c},SFactNa:c,ProdData:s,...u};return d.tooltip=LV({rowData:d,rowIndex:n}),d}))||[],sTt=e=>{const{RqtDate:t,EmplID:n,EmplData_N:o,PDlineID:s,PDlineData_N:i,GdsRqt_S:c,Remark:u,...d}=e;return{RqtDate:Re.parseDate(t),employee:{CodeID:n,CodeData:o},pdline:s?{CodeID:s,CodeData:i}:null,prods:H0e(c),remark:u.join(`
`),...d}},aTt=(e,t)=>{const{RqtID:n,RqtDate:o,employee:s,pdline:i,remark:c}=e;return{RqtID:n,RqtDate:Re.formatDate(o),EmplID:(s==null?void 0:s.CodeID)||"",PDlineID:(i==null?void 0:i.CodeID)||"",Remark:(c==null?void 0:c.split(`
`))||[],...t&&{GdsRqt_S:t.filter(u=>{var d;return(d=u.prod)==null?void 0:d.ProdID}).map(({Pkey:u,prod:d,SRqtQty:p,SOrdQty:m,SFactNa:f,supplier:h,SOrdID:g},x)=>({Pkey:(u==null?void 0:u.length)<36?"":u,SProdID:d==null?void 0:d.ProdID,SRqtQty:p,SOrdQty:m,SFactID:(h==null?void 0:h.FactID)??"",SFactNa:(f||(h==null?void 0:h.FactNa))??"",SOrdID:g,Seq:x+1}))}}},iTt=e=>{const{order:t,employee:n,date:o,pdline:s}=e;return{...t&&{q:t==null?void 0:t.},...n&&{emp:n.CodeID},...o&&{dt:Re.formatDate(o)},...s&&{pdline:s.CodeID}}},sf={transformForReading:sTt,transformForSubmitting:aTt,transformAsQueryParams:iTt,transformForGrid:H0e,ListModes:tB,options:z0e,getOptionLabel:nTt,isOptionEqualToValue:rTt,getOptionById:oTt,getTooltip:V0e,getTooltips:LV},lTt=(e,t,n)=>!e||!t?"":n?0:e*t,cTt={getAmt:lTt},uTt=({action:e})=>", ";function jf(e={}){const{grid:t,action:n="",stypeColumn:o="stype",priceColumn:s="SPrice",samtColumn:i="SAmt",sqtyColumn:c="SQty",sqtyNoteColumn:u="SQtyNote",stockQtyColumn:d="StockQty_N",markColumn:p="sqtyError",prodIdKey:m="prod.ProdID",prodNameKey:f="prod.ProdData",disableOverrideCheck:h=!1,entryErrorMessage:g=uTt,convType:x}=e;t||console.error(`${jf.name}  grid `);const{token:y}=a.useContext(Be),D=a.useMemo(()=>new Map,[]),v=a.useMemo(()=>new Map,[]),[T,I]=a.useState(!1),P=a.useRef(null),E=a.useRef(null),k=a.useContext(Mr),{httpGetAsync:w,httpPostAsync:A}=Zn(),F=a.useCallback(me=>D.get(me)||0,[D]),_=a.useCallback((me,de)=>{D.set(me,Number(de))},[D]),L=a.useCallback(()=>{D.clear(),v.clear()},[v,D]),K=a.useCallback(me=>D.has(me),[D]),z=a.useCallback((me,de)=>{me||console.log("updateStockQty skipped due to no key"),K(me)||_(me,de)},[K,_]),J=a.useCallback(me=>v.get(me)||0,[v]),Q=a.useCallback(me=>v.has(me),[v]),V=a.useCallback((me,de)=>{v.set(me,Number(de))},[v]),W=a.useCallback((me,de)=>{me||console.log("updatePreparedQty skipped due to no key"),Q(me)||V(me,de)},[Q,V]),U=a.useCallback(({})=>{var He;const me=E.current,{onCommit:de,gridMeta:ce,rowData:ee}=me,De={...ee,[c]:me.demand,[i]:cTt.getAmt(parseFloat(me.price),me.demand,(He=me.stype)==null?void 0:He.id),[u]:"*"};console.log("commitSQty",De),t.spreadOnRow(me.rowIndex,De);let ke=[...t.gridData];ke[me.rowIndex]=De,de?de({gridData:ke}):console.warn(" onCommit "),ce.setActiveCell({col:c,row:me.rowIndex}),me.submitAfterCommitted&&I(!0),E.current=null},[t,i,c,u]),X=a.useCallback(()=>{const me=E.current,{gridMeta:de}=me;k.confirm({message:` ${me.rowIndex+1}  [${me.prodId} ${me.prodName}] (${me.stock} < ${me.demand})${n}`,onConfirm:()=>{U({})},onCancel:()=>{console.log("sqty cancelled"),de.setActiveCell({col:c,row:me.rowIndex})}})},[n,U,k,c]),te=a.useCallback((me={})=>{const{first:de=!1,callback:ce}=me;console.log("promptPwordEntry, first:",de);const ee=E.current,{gridMeta:De}=ee;k.prompt({title:"",message:` ${ee.rowIndex+1}  [${ee.prodId} ${ee.prodName}] ${ee.stock!=null?`(${ee.stock} < ${ee.demand})`:""}${n}`,label:`${n}`,triggerCancelOnClose:!0,onConfirm:async({value:ke})=>{try{const{status:He}=await A({url:"v2/ou/dept/params/validate",bearer:y,data:{pword:ke}});if(console.log("status",He),He.success)console.log("pword passed"),P.current={...P.current,passed:!0},ce&&ce();else{console.log("pword not passed");const qe=typeof g=="function"?g({action:n}):g;ae.error(qe),te()}}catch(He){console.error(He),ae.error("")}},onCancel:()=>{console.log("pword cancelled"),ee.rowIndex!=null&&De.setActiveCell({col:c,row:ee.rowIndex})}})},[n,k,g,A,c,y]),se=a.useCallback(({setValue:me,gridMeta:de,formData:ce,rowData:ee,rowIndex:De,demand:ke,stock:He,onCommit:qe,submitAfterCommitted:Le=!1})=>{var re;if(console.log("handleOverrideSQty"),!ee)throw new Error(" rowData ");const _e=vo.get(ee,m),H=vo.get(ee,f);if(E.current={...E.current,prodId:_e,prodName:H,demand:ke||ee[c],price:ee[s],stype:ee[o],stock:He,rowIndex:De,submitAfterCommitted:Le,rowData:ee,onCommit:qe,gridMeta:de,setValue:me,formData:ce},de.setActiveCell(null),!((re=P.current)!=null&&re.passed)){te({first:!0,callback:X});return}X()},[s,m,f,X,te,c,o]),he=a.useCallback(({prodId:me,rowIndex:de,gridData:ce})=>{const ee=ce.filter((ke,He)=>{var qe;return((qe=ke.prod)==null?void 0:qe.ProdID)===me&&He<de}).reduce((ke,He)=>ke+parseFloat(He[c]),0);return(F(me)||0)-ee},[F,c]),pe=a.useCallback(({prodId:me,rowIndex:de,gridData:ce})=>ce.filter((De,ke)=>{var He;return((He=De.prod)==null?void 0:He.ProdID)===me&&ke!=de}).reduce((De,ke)=>De+parseFloat(ke[c]),0),[c]),ue=a.useCallback(({prodId:me,rowIndex:de,gridData:ce})=>{const ee=pe({prodId:me,rowIndex:de,gridData:ce});return J(me)+ee},[J,pe]),ge=a.useCallback(({prodId:me,rowIndex:de,gridData:ce})=>{const ee=ce.filter((ke,He)=>{var qe;return((qe=ke.prod)==null?void 0:qe.ProdID)===me&&He!=de}).reduce((ke,He)=>ke+parseFloat(He[c]),0);return(F(me)||0)-ee},[F,c]),Ce=a.useCallback(({prodId:me,gridData:de})=>{const ce=de.filter((De,ke)=>{var He;return((He=De.prod)==null?void 0:He.ProdID)===me}).reduce((De,ke)=>De+parseFloat(ke[c]||0),0);return(F(me)||0)-ce},[F,c]),Te=a.useCallback(({rowData:me,rowIndex:de,setValue:ce,gridData:ee,gridMeta:De,onCommit:ke})=>{if(!me.prod)return me;let He={...me};const qe=ge({rowIndex:de,prodId:me.prod.ProdID,gridData:ee}),Le=me[c];return!h&&Le>0&&qe<Le?(He={...He,[c]:0},se({setValue:ce,gridMeta:De,rowData:me,rowIndex:de,demand:Le,stock:qe,onCommit:ke})):He={...He,[u]:"",sqtyError:!1},He},[h,ge,se,c,u]),Ne=a.useCallback(async(me,de={})=>{var qe,Le;const{stock:ce=!0,prepared:ee=!1,safety:De=!1}=de,ke=me||t.gridData;if(!me||me.length===0)return;const He=[...new Set(ke.filter(_e=>{const H=vo.get(_e,m);return H!=null&&H!=""}).map(_e=>_e.prod.ProdID))];try{const{status:_e,payload:H,error:re}=await w({url:"v1/inv/stock-map",bearer:y,params:{id:He.join(","),stock:ce?1:0,prepared:ee?1:0,safety:De?1:0,...x&&{cv:x}}});if(_e.success)D.clear(),(qe=H.Stock)==null||qe.forEach(q=>D.set(q.ProdID,Number(q.Qty))),v.clear(),(Le=H.NotSQty)==null||Le.forEach(q=>{v.set(q.ProdID,Number(q.NotQty))}),ke.forEach((q,Y)=>{const ie=q.prod.ProdID,B=Number(q[c])||0,Z=D.get(ie)||0;(ce==null?void 0:ce.simulate)!==!1&&D.set(ie,Z+B);const ye=v.get(ie)||0;ee!=null&&ee.excludeSelfOrder&&v.set(ie,ye-B)}),console.log("stockQtyMap:",D),console.log("preparedQtyMap:",v);else throw re??new Error("")}catch(_e){ae.error("",_e)}return D},[t.gridData,D,m,w,y,x,v,c]),xe=a.useCallback(me=>{if(me.code!==102){console.error(" code  102 ");return}const de=Number(me.data[0].Row)-1,ce=t.gridData[de],ee=Number(me.data[0].StockQty);return{rowIndex:de,rowData:ce,stock:ee,submitAfterCommitted:!0}},[t.gridData]);return{getStockQty:F,setStockQty:_,handleOverrideSQty:se,promptOverrideSQty:X,handleGridSQtyChange:Te,recoverStockMap:Ne,committed:T,setCommitted:I,getErrorParams:xe,getStockExcludingCurrent:ge,getSQtyExcludingCurrent:pe,getStockBeforeCurrent:he,updateStockQty:z,reset:L,containsProdInStock:K,getPreparedQty:J,setPreparedQty:V,updatePreparedQty:W,getPreparedQtyExcludingCurrent:ue,getRemainingStock:Ce}}const dTt=()=>{var Z,ye,Ie,le;const e=a.useContext(cr),{itemData:t}=e,n=a.useRef(),{token:o,operator:s}=a.useContext(Be),i=a.useContext(ln),c=Bt({moduleId:"C02"}),u=Co(),[d,p]=a.useState(),{httpGetAsync:m,httpPostAsync:f,httpPutAsync:h,httpDeleteAsync:g,httpPatchAsync:x}=Zn(),y=a.useContext(Mr),D=so({url:"v1/purchase/req-orders",bearer:o,initialFetchSize:50}),v=a.useCallback(()=>({Pkey:zn(),prod:null,SOrdQty:null,SFactID:"",SFactNa:"",SOrdID:"*"}),[]),T=yr({gridId:"prods",keyColumn:"Pkey",createRow:v}),I=jf({grid:T,sqtyColumn:"SRqtQty",disableOverrideCheck:!0,convType:"i"}),{committed:P}=I,E=a.useCallback(({rowData:fe})=>!!fe.SOrdID&&fe.SOrdID!=="*"||!!fe.SOrdQty,[]),[k,w]=a.useState(),A=a.useCallback(()=>{const fe={RqtDate:new Date,prods:[]};e.promptCreating({data:fe}),I.reset(),T.initGridData(fe.prods,{fillRows:!0})},[e,T,I]),F=a.useCallback(async({data:fe})=>{try{e.startCreating();const{status:Ae,error:Se,payload:be}=await f({url:"v1/purchase/req-orders",data:fe,bearer:o});if(Ae.success)ae.success(` ${be.data[0].RqtID} `),e.finishedCreating(),e.cancelReading(),D.loadList({refresh:!0});else throw Se??new Error("")}catch(Ae){e.failedCreating(),console.error("handleCreate.failed",Ae),ae.error("",Ae)}},[e,f,D,o]),_=a.useCallback(async({id:fe,refresh:Ae=!1})=>{try{const Se=Ae?n.current:fe;Ae||(n.current=fe,e.startReading("...",{id:fe}));const{status:be,payload:Me,error:we}=await m({url:"v1/purchase/req-orders",bearer:o,params:{id:Se}});if(be.success){const Ge=sf.transformForReading(Me.data[0]);p(Ge),e.finishedReading({data:Ge}),I.recoverStockMap(Ge.prods,{safety:!0}),T.initGridData(Ge.prods)}else throw we??new Error("")}catch(Se){e.failedReading(Se)}},[m,o,e,I,T]),L=a.useCallback(async fe=>{w({RqtID:fe}),_({id:fe})},[_]),K=a.useCallback(async(fe,Ae)=>{fe==null||fe.stopPropagation(),e.cancelAction(),w(Ae),_({id:Ae.})},[e,_]),z=a.useCallback(()=>{y.confirm({message:"?",onConfirm:()=>{e.cancelAction()}})},[e,y]),J=a.useCallback(()=>{y.confirm({message:"?",onConfirm:()=>{e.cancelAction()}})},[e,y]),Q=a.useCallback(()=>{y.confirm({message:"?",onConfirm:()=>{e.cancelUpdating(),_({refresh:!0})}})},[e,y,_]),V=a.useCallback(async({data:fe})=>{try{e.startUpdating();const{status:Ae,error:Se}=await h({url:"v1/purchase/req-orders",data:fe,bearer:o});if(Ae.success)ae.success(""),e.finishedUpdating(),_({refresh:!0}),D.loadList({refresh:!0});else throw Se??new Error("")}catch(Ae){e.failedUpdating(),console.error("handleCreate.failed",Ae),ae.error("",Ae)}},[e,h,D,_,o]),W=a.useCallback(()=>{y.confirm({message:`${t==null?void 0:t.RqtID}?`,onConfirm:async()=>{try{e.startDeleting(t);const{status:fe,error:Ae}=await g({url:"v1/purchase/req-orders",bearer:o,params:{id:t==null?void 0:t.RqtID}});if(fe.success)e.cancelAction(),ae.success(` ${t==null?void 0:t.RqtID}`),D.loadList({refresh:!0});else throw Ae||""}catch(fe){e.failedDeleting(fe),console.error("confirmDelete.failed",fe),ae.error("",fe)}}})},[e,y,g,t,D,o]),U=a.useCallback(fe=>{console.log("onSearchSubmit",fe)},[]),X=a.useCallback(fe=>{console.error("onSearchSubmitError",fe)},[]),te=a.useCallback(({rowData:fe,rowIndex:Ae})=>`${(fe==null?void 0:fe.Pkey)||Ae}`,[]),se=a.useCallback(({rowData:fe})=>!!fe.SOrdID&&fe.SOrdID!=="*"||!!fe.SOrdQty,[]),he=a.useCallback(({rowData:fe})=>{var Ae;return fe.SOrdID!=="*"||((Ae=fe.supplier)==null?void 0:Ae.FactID)!=="*"},[]),pe=a.useCallback(async fe=>{if(!fe){ae.error("",{position:"top-right"});return}try{const{status:Ae,payload:Se,error:be}=await m({url:"v1/inv/stock",bearer:o,params:{id:fe,cv:"i",safety:1}});if(Ae.success)return I.updateStockQty(fe,Se.Stock??Se.StockQty),Se;throw be??new Error("")}catch(Ae){ae.error("",Ae)}},[m,I,o]),ue=a.useCallback(async({rowData:fe})=>{var be;const Ae=fe!=null&&fe.prod?await pe((be=fe==null?void 0:fe.prod)==null?void 0:be.ProdID):null,{prod:Se}=fe;return{...fe,ProdData:(Se==null?void 0:Se.ProdData)??"",PackData_N:(Se==null?void 0:Se.PackData_N)??"",StockQty_N:(Ae==null?void 0:Ae.Stock)??"",SafeQty_N:(Ae==null?void 0:Ae.Safety)??"",SRqtQty:"",tooltip:""}},[pe]),ge=a.useCallback(({rowData:fe,rowIndex:Ae})=>{const{supplier:Se}=fe;console.log(`supplier[${Ae}] changed`,Se);let be={...fe};return be={...be,SFactNa:(Se==null?void 0:Se.FactData)||""},be},[]),Ce=a.useCallback(({rowData:fe})=>!se({rowData:fe}),[se]),Te=a.useCallback(({updateResult:fe,prevGridData:Ae,gridData:Se,rowIndex:be})=>{var we,Ge,We,Ee,Xe;let Me;return(fe==null?void 0:fe.type)==="DELETE"?(Me=((Ge=(we=Ae[be])==null?void 0:we.prod)==null?void 0:Ge.ProdID)||"",console.log(`deleted prodId: "${Me}"`)):(Me=(We=Se[be].prod)==null?void 0:We.ProdID,Me||(Me=((Xe=(Ee=Ae[be])==null?void 0:Ee.prod)==null?void 0:Xe.ProdID)||"")),Me?Se.map(ot=>{var ze;if(((ze=ot.prod)==null?void 0:ze.ProdID)===Me){const tt=I.getStockQty(Me);let ft={...ot,StockQty_N:tt};return ft={...ft,tooltip:sf.getTooltips({rowData:ft,rowIndex:be})},ft}return ot}):(console.error("_prodId ,  mapTooltip"),Se)},[I]),Ne=a.useCallback(({fromRowIndex:fe,formData:Ae,newValue:Se,setValue:be,gridMeta:Me,updateResult:we})=>async(Ge,We)=>{var ze,tt,ft,ht;const Ee=fe+We;we.rowIndex=Ee;const Xe=T.gridData[Ee];console.log(` ${Ee} ...`,Ge);let ot={...Ge};return((ze=ot.prod)==null?void 0:ze.ProdID)!==((tt=Xe.prod)==null?void 0:tt.ProdID)&&(we.cols.push("prod"),ot=await ue({rowData:ot,formData:Ae})),Ge.SRqtQty!==Xe.SRqtQty&&(we.cols.push("SRqtQty"),ot=I.handleGridSQtyChange({rowData:ot,gridData:Se,rowIndex:Ee,setValue:be,gridMeta:Me,onCommit:({gridData:en})=>{const un=Te({gridData:en,rowIndex:Ee});T.setGridData(un)}})),((ft=ot.supplier)==null?void 0:ft.FactID)!==((ht=Xe.supplier)==null?void 0:ht.FactID)&&(we.cols.push("supplier"),ot=ge({rowData:ot,rowIndex:Ee})),ot},[T,ue,ge,Te,I]),xe=a.useCallback(({gridData:fe,formData:Ae,setValue:Se,updateResult:be,prevGridData:Me})=>{if(console.log("onGridChanged",fe),be.cols.includes("prod")||be.cols.includes("SRqtQty")||be.type==="DELETE"){console.log("before reduce",fe);const we=Te({updateResult:be,prevGridData:Me,gridData:fe,rowIndex:be.rowIndex});return console.log("after reduce",we),we}},[Te]),me=a.useCallback(fe=>{console.log("onEditorSubmit",fe);const Ae=sf.transformForSubmitting(fe,T.gridData);console.log("collected",Ae),e.creating?F({data:Ae}):e.updating?V({data:Ae}):console.error("UNKNOWN SUBMIT TYPE")},[e.creating,e.updating,F,V,T.gridData]),de=a.useCallback(fe=>{console.error("onEditorSubmitError",fe),Re.onSubmitError(fe)},[]),ce=a.useCallback(()=>{var fe;return D.getIndexById({id:(fe=e.itemData)==null?void 0:fe.RqtID,key:""})},[(Z=e.itemData)==null?void 0:Z.RqtID,D]),ee=Or(),De=a.useMemo(()=>!!ee.state,[ee.state]),ke=a.useCallback(async({value:fe})=>{var Se,be;console.log("handleReview",fe);const Ae=D.findNextId({id:(Se=e.itemData)==null?void 0:Se.RqtID,key:"",reverse:!0});console.log("nextId",Ae);try{ee.start();const{status:Me,error:we}=await x({url:"v1/purchase/req-orders/reviewed",data:{RqtID:e.itemData.RqtID,Checker:2},bearer:o});if(Me.success)ee.clear(),e.cancelAction(),Ae&&L(Ae),D.loadList({refresh:!0}),ae.success(`${(be=e.itemData)==null?void 0:be.RqtID}`);else throw we||new Error("")}catch(Me){ee.fail({error:Me}),ae.error("",Me)}},[e,x,D,ee,L,o]),He=a.useCallback(()=>{var fe;y.confirm({title:"",message:`${(fe=e.itemData)==null?void 0:fe.RqtID}?`,onConfirm:ke,confirmText:"",working:De})},[(ye=e.itemData)==null?void 0:ye.RqtID,y,ke,De]),qe=a.useCallback(()=>{ee.cancel()},[ee]),Le=Or(),_e=a.useCallback(async fe=>{var Ae;console.log("handleReject",fe);try{Le.start();const{status:Se,error:be}=await x({url:"v1/purchase/req-orders/reviewed",data:{RqtID:e.itemData.RqtID,Checker:1},bearer:o});if(Se.success)Le.clear(),e.cancelAction(),D.loadList({refresh:!0}),ae.success(`${(Ae=e.itemData)==null?void 0:Ae.RqtID}`);else throw be||new Error("")}catch(Se){Le.fail({error:Se}),ae.error("",Se)}},[e,x,D,Le,o]),H=a.useCallback(()=>{var fe;y.confirm({title:"",message:`${(fe=e.itemData)==null?void 0:fe.RqtID}?`,onConfirm:_e,confirmText:"",working:Le.working})},[(Ie=e.itemData)==null?void 0:Ie.RqtID,y,_e,Le.working]),re=a.useMemo(()=>`${i.REPORT_URL}/WebC02Rep.aspx`,[i.REPORT_URL]),q=yn(),Y=a.useCallback(fe=>{var Se;console.log("onPrintSubmit",fe);const Ae={...fe.outputType&&{Action:fe.outputType.id},DeptID:s==null?void 0:s.CurDeptID,JobName:"C02",IDs:(Se=e.itemData)==null?void 0:Se.RqtID};console.log("data",Ae),q.open(re,Ae)},[(le=e.itemData)==null?void 0:le.RqtID,s==null?void 0:s.CurDeptID,re,q]),ie=a.useCallback(fe=>{console.error("onPrintSubmitError",fe)},[]),B=a.useCallback(({setValue:fe})=>Ae=>{console.log("handlePrint",Ae),fe("outputType",Ae)},[]);return{...e,...D,...c,selectedInq:d,loadItem:_,handleSelect:K,onSearchSubmit:U,onSearchSubmitError:X,confirmQuitCreating:z,confirmQuitUpdating:J,confirmReturnReading:Q,confirmDelete:W,promptCreating:A,onEditorSubmit:me,onEditorSubmitError:de,createRow:v,...T,grid:T,getRowKey:te,prodDisabled:se,rqtQtyDisabled:E,supplierNameDisabled:he,reviewing:De,handleReview:ke,promptReview:He,cancelReview:qe,getCurrentIndex:ce,handleReject:_e,promptReject:H,onPrintSubmit:Y,onPrintSubmitError:ie,selectedItem:k,selectById:L,...u,isRowDeletable:Ce,onUpdateRow:Ne,onGridChanged:xe,handlePrint:B,supplierNameDisabled:he}},od=a.createContext(),G0e=({children:e})=>{const t=dTt();return r.jsx(od.Provider,{value:{...t},children:e})};G0e.propTypes={children:l.oneOfType([l.array,l.object])};const pTt=e=>{if(!e)return"";const{CodeID:t,CodeData:n}=e;return[t,n].filter(Boolean).join(" ")},mTt=(e,t)=>(e==null?void 0:e.CodeID)===(t==null?void 0:t.CodeID),Vle={getOptionLabel:pTt,isOptionEqualToValue:mTt},Xo=e=>{const{name:t,label:n="",...o}=e,{token:s}=a.useContext(Be),i=a.useMemo(()=>{const d={tp:1e3};return Hr.stringify(d)},[]),c=a.useCallback((d,p)=>Vle.isOptionEqualToValue(d,p),[]),u=a.useCallback(d=>Vle.getOptionLabel(d),[]);return r.jsx(bt,{name:t,label:n,bearer:s,url:"v1/prod/pdlines",queryParam:"qs",querystring:i,getOptionLabel:u,isOptionEqualToValue:c,placeholder:"",...o})};Xo.propTypes={name:l.string,label:l.string,children:l.node,withBomPackageName:l.bool,withSalesPackageName:l.bool,withPurchasePackageName:l.bool};Xo.displayName="ProdLinePicker";const $V=a.memo(a.forwardRef((e,t)=>{const{name:n,label:o,children:s,emptyText:i="()",typoProps:c,...u}=e,d=Ue({name:n}),p=a.useMemo(()=>s||d,[s,d]);return r.jsx(pn,{ref:t,label:o,emptyText:i,...c,...u,children:p})}));$V.propTypes={name:l.string,label:l.string,children:l.oneOfType([l.node,l.array]),emptyText:l.string,typoProps:l.object};$V.displayName="FormLabelWrapper";const fTt=(e,t)=>Gn.arePropsEqual(e,t,{header:R2.displayName,fields:"rowData,active,disabled,focus",debug:!0}),R2=a.memo(a.forwardRef((e,t)=>{const{columnData:n,rowData:o,title:s}=e,{...i}=n||{},c=Array.isArray(o)?o.length>0:!!o,u=a.useMemo(()=>s??(Oo.isArray(o)?null:o),[o,s]);return c?r.jsx(lk,{ref:t,title:u,...Oo.isArray(o)&&{items:o},...i,children:r.jsx(Po,{sx:{marginLeft:"8px",marginRight:"8px"}})}):!1}),fTt);R2.propTypes={title:l.string,columnData:l.object,rowData:l.oneOfType([l.string,l.array]),rowIndex:l.number};R2.displayName="TooltipExComponent";function If(e={}){return{component:R2,columnData:e}}const hTt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),BV=a.memo(e=>{const{getRowKey:t,createRow:n,readOnly:o,gridRef:s,data:i,getRowClassName:c,height:u=300,prodDisabled:d,rqtQtyDisabled:p,supplierNameDisabled:m,...f}=e,h=a.useCallback(({rowData:x})=>({...x,Pkey:zn()}),[]),g=a.useCallback(({rowData:x})=>{console.log("deleteRow",x)},[]);return r.jsx(dr,{ref:s,rowKey:t,lockRows:o,height:u+(o?48:0),value:i,addRowsComponent:go,disableExpandSelection:!0,contextMenuComponent:hTt,createRow:n,duplicateRow:h,rowClassName:c,deleteRow:g,...f})});BV.propTypes={getRowKey:l.func,onActiveCellChange:l.func};BV.displayName="C02ProdGrid";const K0e=e=>{const{...t}=e,n=a.useContext(od),o=a.useContext(Be),{height:s}=Wt(),i=a.useContext(Lr),c=a.useMemo(()=>n.buildGridChangeHandler({gridMeta:i.gridMeta,onUpdateRow:n.onUpdateRow,onGridChanged:n.onGridChanged,isRowDeletable:n.isRowDeletable}),[n,i.gridMeta]),u=a.useMemo(()=>({...Pe.keyColumn("tooltip",If({arrow:!0,placement:"left-start"}))}),[]);return r.jsx(Kn.Provider,{value:{...n.grid,...i.gridMeta,readOnly:i.readOnly},children:r.jsx(BV,{gridRef:i.gridMeta.setGridRef,readOnly:i.readOnly,data:n.gridData,bearer:o.token,height:s-326,getRowKey:n.getRowKey,prodDisabled:n.prodDisabled,rqtQtyDisabled:n.rqtQtyDisabled,supplierNameDisabled:n.supplierNameDisabled,createRow:n.createRow,onChange:c,onActiveCellChange:i.gridMeta.handleActiveCellChange,stickyRightColumn:u,...t})})};K0e.displayName="C02ProdGridContainer";const WV=a.memo(e=>{const{readError:t,readWorking:n,itemDataReady:o,creating:s,editing:i,validateDate:c,slotProps:u}=e;return r.jsxs(r.Fragment,{children:[n&&r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",minHeight:"30em",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}),t&&r.jsx(lo,{error:t,...u==null?void 0:u.error}),o&&r.jsx(Pt,{pt:1,children:r.jsxs(j,{container:!0,columns:24,spacing:1,children:[!s&&r.jsx(j,{item:!0,xs:24,sm:24,md:3,children:r.jsx($e,{typo:!0,name:"RqtID",label:"",autoFocus:!0,fullWidth:!0,required:!0,readOnly:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:5,children:r.jsx(et,{typo:!0,name:"RqtDate",label:"",autoFocus:!0,fullWidth:!0,required:!0,variant:"outlined",validate:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:5,children:r.jsx(Ar,{typo:!0,label:"",name:"employee",required:!0,rules:{required:""},virtualize:!0,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:i?5:4,children:r.jsx(Xo,{typo:!0,label:"",name:"pdline",required:!0,rules:{required:""},virtualize:!0,disableOpenOnInput:!0,slotProps:{paper:{sx:{width:360}}}})}),!i&&r.jsx(j,{item:!0,xs:24,md:8,children:r.jsx($V,{label:"",name:"Checker_N"})}),r.jsx(j,{item:!0,xs:24,children:r.jsx(K0e,{})}),r.jsx(j,{item:!0,xs:24,children:r.jsx($e,{typo:!0,name:"remark",multiline:!0,minRows:2,maxRows:5,label:"",fullWidth:!0})})]})})]})});WV.propTypes={readWorking:l.bool,readError:l.object,data:l.object,itemDataReady:l.bool,creating:l.bool,editing:l.bool,validateDate:l.func,slotProps:l.object};WV.displayName="C02DialogForm";const UV=a.memo(a.forwardRef((e,t)=>{const{onSave:n,onCancel:o,loading:s,...i}=e;return r.jsxs(a.Fragment,{ref:t,...i,children:[r.jsx(dt,{responsive:!0,onClick:o,color:"warning",variant:"outlined",...i,children:""}),r.jsx(dt,{responsive:!0,onClick:n,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:s,children:""})]})}));UV.displayName="C02DialogEditToolbar";UV.propTypes={onCancel:l.func,onSave:l.func,onLoadProds:l.func,loading:l.bool};const Q0e=e=>{const{...t}=e,n=Ke(),o=a.useContext(od),{canPrint:s}=o,i=n.handleSubmit(o.onPrintSubmit,o.onPrintSubmitError);return s?r.jsx(xn,{onSubmit:i,...t}):!1};Q0e.displayName="C02ExportButtonContainer";const qV=e=>{var c;const{label:t="",...n}=e,o=a.useContext(od),s=a.useMemo(()=>o.getCurrentIndex(),[o]),i=a.useMemo(()=>s!==null?` (${s})`:"",[s]);return!o.canReview||(c=o.itemData)!=null&&c.Checker_N?!1:r.jsx(dt,{responsive:!0,startIcon:r.jsx(_D,{}),color:"success",onClick:o.promptReview,...n,children:i})};qV.propTypes={label:l.string,children:l.oneOfType([l.node,l.array])};qV.displayName="C02ReviewButtonContainer";const Y0e=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,onDelete:o,onSideDrawerOpen:s,onReject:i,onPrint:c,...u}=e;return r.jsxs(a.Fragment,{ref:t,...u,children:[c&&r.jsx(Q0e,{}),o&&r.jsx(hn,{startIcon:r.jsx(Fs,{}),color:"secondary",onClick:o,children:""}),r.jsx(qV,{}),i&&r.jsx(hn,{startIcon:r.jsx(Fs,{}),color:"warning",onClick:i,children:""}),n&&r.jsx(hn,{startIcon:r.jsx(bo,{}),color:"primary",onClick:n,children:""}),r.jsx(jr,{title:"",children:r.jsx(br,{onClick:s,size:"small",children:r.jsx(Po,{})})})]})}));Y0e.propTypes={onEdit:l.func,onDelete:l.func,onReview:l.func,onReject:l.func,onPrint:l.func,onSideDrawerOpen:l.func};const J0e=e=>{var d,p,m,f;const{...t}=e,n=a.useContext(od),o=Ke(),s=a.useMemo(()=>{var h;return n.canUpdate&&!((h=n.itemData)!=null&&h.Checker_N)},[n.canUpdate,(d=n.itemData)==null?void 0:d.Checker_N]);a.useMemo(()=>{var h;return n.canReview&&!((h=n.itemData)!=null&&h.Checker_N)},[n.canReview,(p=n.itemData)==null?void 0:p.Checker_N]);const i=a.useMemo(()=>{var h;return n.canReject&&!!((h=n.itemData)!=null&&h.Checker_N)},[n.canReject,(m=n.itemData)==null?void 0:m.Checker_N]),c=a.useMemo(()=>{var h;return n.canDelete&&!((h=n.itemData)!=null&&h.Checker_N)},[n.canDelete,(f=n.itemData)==null?void 0:f.Checker_N]),u=o.handleSubmit(n.onPrintSubmit,n.onPrintSubmitError);return n.itemDataReady?n.editing?r.jsx(UV,{onSave:o.handleSubmit(n.onEditorSubmit,n.onEditorSubmitError),onCancel:n.updating?n.confirmReturnReading:n.confirmQuitCreating,loading:n.editWorking,...t}):r.jsx(Y0e,{onEdit:s?n.promptUpdating:null,onDelete:c?n.confirmDelete:null,onReject:i?n.promptReject:null,onPrint:n.canPrint?u:null,onSideDrawerOpen:n.handleSideDrawerOpen,...t}):!1};J0e.displayName="C02DialogToolbarContainer";const VV=a.memo(e=>{var s,i,c;const{anchor:t="right",...n}=e,o=a.useContext(od);return r.jsxs(Eo,{anchor:t,open:o.sideDrawerOpen,onClose:o.handleSideDrawerClose,...n,children:[r.jsx(pn,{label:"",children:(s=o.itemData)==null?void 0:s.WriteDate_N}),r.jsx(pn,{label:"",children:(i=o.itemData)==null?void 0:i.Writer_N}),r.jsx(pn,{label:"",children:(c=o.itemData)==null?void 0:c.Checker_N})]})});VV.propTypes={anchor:l.string};VV.displayName="C02Drawer";const gTt=(e,t)=>Gn.arePropsEqual(e,t,{fields:"rowData.FactID,active,disabled,focus",debug:!0}),w2=a.memo(e=>{const{rowData:t,setRowData:n,rowIndex:o,columnIndex:s,columnData:i,active:c,focus:u,disabled:d,stopEditing:p,insertRowBelow:m}=e,f=a.useRef(t);f.current=t;const{name:h,hideControlsOnActive:g,selectOnFocus:x,lastCell:y,isLastRow:D,getNextCell:v,skipDisabled:T,setActiveCell:I,readOnly:P,focusOnDisabled:E,multiple:k,...w}=i,{handleFocusNextCell:A}=Pi({getNextCell:v,lastCell:y,isLastRow:D,setActiveCell:I,insertRowBelow:m}),F=zi({name:h,rowIndex:o,rowData:t,columnIndex:s,focus:u,active:c,disabled:d,hideControlsOnActive:g,selectOnFocus:x,setRowData:n,stopEditing:p,readOnly:P,skipDisabled:T,handleFocusNextCell:A,focusOnDisabled:E,multiple:k});return r.jsx(xa,{queryParam:"qs",disableOpenOnInput:!0,virtualize:!0,triggerDelay:100,...F,...w})},gTt);w2.propTypes={rowData:l.oneOfType([l.string,l.number,l.object]),setRowData:l.func,rowIndex:l.number,columnIndex:l.number,columnData:l.object,active:l.bool,focus:l.bool,disabled:l.bool,stopEditing:l.func,insertRowBelow:l.func,duplicateRow:l.func,deleteRow:l.func,getContextMenuItems:l.func};w2.propTypes={};w2.displayName="SupplierPickerComponent";const dO=e=>{const{columnData:t,...n}=e,o=ii(),s=a.useMemo(()=>({...t,...o}),[o,t]);return r.jsx(w2,{columnData:s,...n})};dO.displayName="SupplierPickerComponentContainer";dO.propTypes={columnData:l.object};const X0e=a.forwardRef((e,t)=>{const{...n}=e,{height:o}=Wt(),s=at({mode:"onSubmit",defaultValues:{prods:[]}}),{reset:i}=s,c=a.useContext(od),u=a.useMemo(()=>o-120,[o]),d=Qr({height:u,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),p=a.useMemo(()=>c.creating?"":c.updating?"":"",[c.creating,c.updating]),m=a.useMemo(()=>c.creating?c.confirmQuitCreating:c.updating?c.confirmQuitUpdating:c.reading?c.reset:null,[c.reset,c.confirmQuitCreating,c.confirmQuitUpdating,c.creating,c.reading,c.updating]),f=a.useCallback(()=>{c.editing&&s.handleSubmit(c.onEditorSubmit,c.onEditorSubmitError)()},[c.editing,c.onEditorSubmit,c.onEditorSubmitError,s]);$t(["Control+Enter"],()=>setTimeout(f),{enableOnFormTags:!0});const h=Ue({name:"RqtDate",control:s.control}),g=Ue({name:"employee",control:s.control}),x=Ue({name:"pdline",control:s.control}),y=a.useMemo(()=>!c.editing||!g||!h||!x,[c.editing,g,x,h]),D=a.useMemo(()=>[{...Pe.keyColumn("prod",or(ls,{name:"prod",withStock:!0,packageType:"i",forId:!0,disableClearable:!0,slotProps:{paper:{sx:{width:360}}}})),title:"",minWidth:130,maxWidth:150,disabled:y},{...Pe.keyColumn("ProdData",kt({continuousUpdates:!1})),title:"",disabled:!0,grow:1.5},{...Pe.keyColumn("PackData_N",kt({continuousUpdates:!1})),title:"",minWidth:60,maxWidth:60,disabled:!0},{...Pe.keyColumn("SRqtQty",Jn(2)),title:"",minWidth:100,disabled:y||c.rqtQtyDisabled},{...Pe.keyColumn("SOrdQty",Jn(2)),title:"",minWidth:100,disabled:!0},{...Pe.keyColumn("supplier",or(dO,{name:"supplier",selectOnFocus:!0,forId:!0,disableClearable:!0,autoHighlight:!0,slotProps:{paper:{sx:{width:360}}}})),title:"",minWidth:120,maxWidth:120,disabled:y},{...Pe.keyColumn("SFactNa",kt({continuousUpdates:!1})),title:"",minWidth:120,disabled:y||c.supplierNameDisabled},{...Pe.keyColumn("SOrdID",kt({continuousUpdates:!1})),title:"",minWidth:120,disabled:!0}],[c.rqtQtyDisabled,c.supplierNameDisabled,y]),v=hr({data:c.grid.gridData,columns:D,skipDisabled:!0,lastCell:Xn.CREATE_ROW}),T=a.useCallback(()=>{v.setActiveCell({col:0,row:0})},[v]),I=vt(`
		RqtDate,
		employee,
		pdline,
		`,{lastField:T}),P=a.useCallback(E=>{switch(E.name){default:return!1}},[]);return mn(()=>{c.itemDataReady&&(console.log("c02 form reset",c.itemData),i(c.itemData))},[c.itemData,c.itemDataReady]),r.jsx(Ye,{...s,children:r.jsx(Er,{ref:t,title:p,responsive:!0,fullWidth:!0,maxWidth:"lg",TitleButtonsComponent:J0e,open:c.itemViewOpen,onClose:m,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[{minHeight:"30em",paddingTop:0},d.scroller],...n,children:r.jsx(Ct,{...I,isFieldDisabled:P,gridMeta:v,readOnly:y,children:r.jsxs("form",{onSubmit:f,children:[r.jsx(WV,{reading:c.reading,creating:c.creating,editing:c.editing,updating:c.updating,readWorking:c.readWorking,readError:c.readError,data:c.itemData,itemDataReady:c.itemDataReady,onSubmit:f}),r.jsx(VV,{BackdropProps:{sx:[ur.BACKDROP_TRANSPARENT]}})]})})})})});X0e.displayName="C02DialogContainer";const k2=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:4,...t})};k2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};k2.displayName="C02DateColumn";const A2=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:6,...t})};A2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};A2.displayName="C02DeptColumn";const N2=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:4,...t})};N2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};N2.displayName="C02IdColumn";const F2=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:5,...t})};F2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};F2.displayName="C02UserColumn";const MC=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:1,...t})};MC.propTypes={loading:l.bool,children:l.oneOfType([l.node])};MC.displayName="C02FlagColumn";const zV=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsxs(io,{ref:t,...n,children:[r.jsx(Hn,{}),r.jsx(N2,{children:""}),r.jsx(MC,{children:""}),r.jsx(MC,{children:""}),r.jsx(k2,{children:""}),r.jsx(A2,{children:""}),r.jsx(F2,{children:""})]})}));zV.propTypes={};zV.displayName="C02ListHeader";const Z0e=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(od),s=a.useMemo(()=>"",[]);return r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(Ao,{}),onClick:o.promptCreating,sx:{fontWeight:600},...n,children:s})}));Z0e.displayName="C02CreateButtonContainer";const eve=()=>{const e=a.useContext(od);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};eve.displayName="C02FetchResultLabelContainer";const HV=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(bt,{ref:t,dense:!0,label:"",options:sf.options,getOptionLabel:sf.getOptionLabel,isOptionEqualToValue:sf.isOptionEqualToValue,...n})}));HV.propTypes={label:l.string,children:l.node};HV.displayName="C02ListModePicker";const tve=a.memo(()=>r.jsxs(r.Fragment,{children:[r.jsx(Z0e,{}),r.jsx(HV,{name:"listMode",placeholder:"",width:"10rem",autoComplete:!0,autoSelect:!0})]}));tve.displayName="LeftButtons";const GV=a.memo(a.forwardRef(({loading:e,...t},n)=>r.jsx(kn,{pl:0,alignItems:"flex-end",ref:n,LeftComponent:e?Cr:tve,RightComponent:eve,...t})));GV.displayName="C02ListViewToolbar";GV.propTypes={loading:l.bool};const KV=a.memo(e=>{const{index:t,style:n,value:o,onClick:s}=e;return r.jsx("div",{style:n,children:r.jsxs(yo,{borderBottom:!0,onClick:s,children:[r.jsx(na,{}),r.jsx(jt,{children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t}),r.jsx(N2,{children:o==null?void 0:o.}),r.jsx(MC,{children:o==null?void 0:o.}),r.jsx(MC,{children:o==null?void 0:o.}),r.jsx(k2,{children:o==null?void 0:o.}),r.jsx(A2,{children:o==null?void 0:o.}),r.jsx(F2,{children:o==null?void 0:o.})]})})]})})});KV.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func,promptCopyAuth:l.func};KV.displayName="C02ListRow";const QV=e=>{const t=a.useContext(od),{isItemLoading:n}=t,{index:o,...s}=e,i=a.useMemo(()=>n(o),[o,n]),c=a.useMemo(()=>t.listData[o],[t.listData,o]);return r.jsx(No,{loading:i,children:r.jsx(KV,{index:o,value:c,onClick:u=>t.handleSelect(u,c),...s})})};QV.propTypes={index:l.number,data:l.object};QV.displayName="C02ListRowContainer";const nve=()=>{const e=a.useContext(od),{loadList:t}=e,n=Ke(),{height:o}=Wt(),s=Ue({name:"lvOrder",control:n.control}),i=Yn(s,300),c=Ue({name:"lvDate",contorl:n.control}),u=Yn(c,300),d=Ue({name:"lvEmployee",contorl:n.control}),p=Yn(d,300),m=Ue({name:"listMode",control:n.control}),f=Yn(m,300),h=Ue({name:"lvPdline",control:n.control}),g=Yn(h,300);En(()=>{e.loadList({params:{ck:(m==null?void 0:m.id)||""}})},[]),mn(()=>{console.log("checker:",m),t({params:{ck:(m==null?void 0:m.id)||"",...sf.transformAsQueryParams({order:i,date:u,pdline:g,employee:p})},supressLoading:!0})},[f,i,u,g,p]);const x=a.useMemo(()=>o?o-200:300,[o]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:QV,height:x,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};nve.displayName="C02ListViewContainer";const bTt=e=>{if(!e)return"";const{:t}=e;return t?`${t}`:"(?)"},xTt=(e,t)=>e.===t.,yTt=e=>e.,mL={getOptionLabel:bTt,isOptionEqualToValue:xTt,renderOptionLabel:yTt},M2=a.memo(e=>{const{label:t="",...n}=e,{token:o}=a.useContext(Be),s=a.useMemo(()=>{const i={tp:1e4};return Hr.stringify(i)},[]);return r.jsx(bt,{label:t,url:"v1/purchase/req-orders",bearer:o,queryParam:"qs",querystring:s,getOptionLabel:mL.getOptionLabel,isOptionEqualToValue:mL.isOptionEqualToValue,renderOptionLabel:mL.renderOptionLabel,notFoundText:" ${input} ",placeholder:"",typeToSearchText:"...",inputParam:"fz",...n})});M2.propTypes={label:l.string};M2.displayName="PurchaseReqOrderPicker";const YV=a.memo(e=>{const{...t}=e;return r.jsx(Pt,{children:r.jsxs(Vt,{container:!0,spacing:1,columns:24,...t,children:[r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(M2,{label:"",name:"lvOrder",autoFocus:!0,placeholder:"",disableOpenOnInput:!0})}),r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(Ar,{name:"lvEmployee",label:"",disableOpenOnInput:!0})}),r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(et,{name:"lvDate",label:"()",clearable:!0})}),r.jsx(Vt,{item:!0,md:6,lg:5,children:r.jsx(Xo,{name:"lvPdline",label:"",disableOpenOnInput:!0})})]})})});YV.propTypes={};YV.displayName="C02SearchForm";const rve=e=>{const{...t}=e,n=vt(`
		lvOrder,
		lvEmployee,
		lvDate,
		lvPdline,
		listMode
		`);return r.jsx(Ct,{...n,children:r.jsx(YV,{...t})})};rve.displayName="C02SearchFormContainer";const ove=()=>{const e=a.useContext(od),{selectById:t}=e,n=at({defaultValues:{listMode:sf.getOptionById(sf.ListModes.NOT_REVIEWED)}}),o=a.useCallback(s=>{s&&t(s)},[t]);return $D("target",o),r.jsxs(Ft,{children:[r.jsxs(Ye,{...n,children:[r.jsx(_t,{}),r.jsxs(li,{children:[r.jsx(rve,{initSize:"md"}),r.jsx(GV,{}),r.jsx(zV,{}),r.jsx(nve,{})]})]}),r.jsx(X0e,{})]})};ove.displayName="C02FrameContainer";const sve=({rowData:e,rowIndex:t})=>{var s;let n=[];if((s=e==null?void 0:e.prod)!=null&&s.ProdID&&!wo.isNullOrEmpty(e==null?void 0:e.StockQty_N)){const i=e.StockQty_N;n.push(`(${i||0})`)}const o=n.join(", ");return console.log(`${sve.name}`,o),o},JV=({rowData:e,rowIndex:t})=>{var o;let n=[];if((o=e==null?void 0:e.prod)!=null&&o.ProdID&&!wo.isNullOrEmpty(e==null?void 0:e.StockQty_N)){const s=e.StockQty_N;if(n.push({label:"",value:s??0}),e!=null&&e.SafeQty_N){const i=Number(e==null?void 0:e.SafeQty_N)||0,c=i>0?s-i:s;s<(i>0?i:0)&&n.push({label:"",value:c})}}return console.log(`${JV.name}`,n),n},WP=Object.freeze({NOT_ORDERED_INCLUDED:3,ORDERED:1,ALL_NOT_ORDERED:2}),ave=[{id:WP.NOT_ORDERED_INCLUDED,label:""},{id:WP.ORDERED,label:""},{id:WP.ALL_NOT_ORDERED,label:""}],CTt=e=>{if(!e)return"";const{label:t}=e;return`${t}`},DTt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),STt=e=>ave.find(t=>t.id===e),ive=e=>(e==null?void 0:e.map((t,n)=>{const{SProdID:o,ProdData_N:s,PackData_N:i,StockQty_N:c,SFactID:u,SFactNa:d,...p}=t;let m={prod:o?{ProdID:o,ProdData:s,PackData_N:i,StockQty:c}:null,ProdData:s,PackData_N:i,StockQty_N:c,supplier:u?{FactID:u,FactData:d}:null,SFactNa:d,...p};return m.tooltip=JV({rowData:m,rowIndex:n}),m}))||[],vTt=e=>(e==null?void 0:e.filter(t=>{var n;return(n=t.prod)==null?void 0:n.ProdID}).map(({Pkey:t,prod:n,SRqtQty:o,SOrdQty:s,supplier:i,SFactNa:c,SOrdID:u},d)=>({Pkey:(t==null?void 0:t.length)<36?"":t,SProdID:n==null?void 0:n.ProdID,SRqtQty:(o==null?void 0:o.toString())||"",SOrdQty:(s==null?void 0:s.toString())||"",SFactID:(i==null?void 0:i.FactID)||"",SFactNa:c||"",SOrdID:u||"",Seq:d+1})))||[],jTt=e=>{const{RqtDate:t,EmplID:n,EmplData_N:o,PDlineID:s,PDlineData_N:i,GdsRqt_S:c,Remark:u,...d}=e;return{RqtDate:Re.parseDate(t),employee:{CodeID:n,CodeData:o},pdline:s?{CodeID:s,CodeData:i}:null,prods:ive(c),remark:u.join(`
`),...d}},ITt=(e,t)=>{const{RqtID:n,RqtDate:o,employee:s,pdline:i,remark:c}=e;return{RqtID:n,RqtDate:o,EmplID:(s==null?void 0:s.CodeID)||"",PDlineID:(i==null?void 0:i.CodeID)||"",Remark:(c==null?void 0:c.split(`
`))||[],...t&&{GdsRqt_S:vTt(t)}}},TTt=e=>Gn.isAnyPropNotEmpty(e,"rqtId,reqEmployee,date,pdline"),OTt=e=>{const{employee:t,date:n,pdline:o,order:s,orderFlag:i,...c}=e;return{...s&&{rid:s==null?void 0:s.},...t&&{emp:t.CodeID},...n&&{dt:Re.formatDate(n)},...o&&{pdline:o.CodeID},...i&&{of:(i==null?void 0:i.id)??""},...c}},Up={transformForReading:jTt,transformForSubmitting:ITt,transformAsQueryParams:OTt,transformGridForReading:ive,ListModes:WP,options:ave,getOptionLabel:CTt,isOptionEqualToValue:DTt,getOptionById:STt,isFiltered:TTt,getTooltip:sve,getTooltips:JV},ETt=()=>{const e=a.useContext(cr),t=a.useContext(Xc),n=a.useRef(),{token:o,operator:s}=a.useContext(Be),i=a.useContext(ln),c=Bt({moduleId:"C01"}),u=Co(),[d,p]=a.useState(),[m,f,h,g]=us(!1),{httpGetAsync:x,httpPutAsync:y,httpPatchAsync:D}=Zn(),v=a.useContext(Mr),T=so({url:"v1/purchase/req-orders",bearer:o,initialFetchSize:50}),I=a.useCallback(()=>({Pkey:zn(),prod:null,SOrdQty:null,supplier:null,SFactNa:"",SOrdID:"*"}),[]),P=yr({gridId:"prods",keyColumn:"pkey",createRow:I}),E=jf({grid:P,sqtyColumn:"SRqtQty",disableOverrideCheck:!0}),k=a.useCallback(({rowData:le})=>!!le.Pkey&&le.Pkey.length===36&&!!le.SRqtQty,[]),w=a.useCallback(({rowData:le})=>{var fe;return le.SOrdID!=="*"||((fe=le.supplier)==null?void 0:fe.FactID)!=="*"},[]),A=a.useCallback(({rowData:le})=>!!le.Pkey,[]),F=a.useCallback(({rowData:le})=>le.SOrdID!=="*",[]),_=a.useCallback(({rowData:le})=>le.SOrdID!=="*",[]),L=a.useCallback(async({id:le,refresh:fe=!1})=>{try{const Ae=fe?n.current:le;fe||(n.current=le,e.startReading("...",{id:le}));const{status:Se,payload:be,error:Me}=await x({url:"v1/purchase/req-to-orders",bearer:o,params:{id:Ae}});if(Se.success){const we=Up.transformForReading(be.data[0]);e.finishedReading({data:we}),p(we),E.recoverStockMap(we.prods),P.handleGridDataLoaded(we.prods)}else throw Me??new Error("")}catch(Ae){e.failedReading(Ae)}},[x,o,e,E,P]),K=a.useCallback(async(le,fe)=>{le==null||le.stopPropagation(),e.cancelAction(),L({id:fe.})},[e,L]),z=a.useCallback(()=>{v.confirm({message:"?",onConfirm:()=>{e.cancelAction()}})},[e,v]),J=a.useCallback(()=>{v.confirm({message:"?",onConfirm:()=>{e.cancelAction(),L({refresh:!0})}})},[e,v,L]),Q=a.useCallback(()=>{v.confirm({message:"?",onConfirm:()=>{e.cancelUpdating(),L({refresh:!0})}})},[e,v,L]),V=a.useCallback(async({data:le})=>{try{e.startUpdating();const{status:fe,error:Ae}=await y({url:"v1/purchase/req-to-orders",data:le,bearer:o});if(fe.success)ae.success(""),e.finishedUpdating(),L({refresh:!0}),T.loadList({refresh:!0});else throw Ae??new Error("")}catch(fe){e.failedUpdating(),console.error("handleUpdate.failed",fe),ae.error("",fe)}},[e,y,T,L,o]),W=a.useCallback(({reset:le,getValues:fe})=>()=>{le({})},[]),U=a.useCallback(le=>{console.log("onSearchSubmit",le);const fe={...Up.transformAsQueryParams(le),ck:2};console.log("collected",fe),g(),T.loadList({params:fe})},[g,T]),X=a.useCallback(le=>{console.error("onSearchSubmitError",le)},[]),te=a.useCallback(async le=>{if(!le){ae.error("",{position:"top-right"});return}try{const{status:fe,payload:Ae,error:Se}=await x({url:"v1/inv/stock",bearer:o,params:{id:le,cv:"i",safety:1}});if(fe.success)return E.updateStockQty(le,Ae.Stock??Ae.StockQty),Ae;throw Se??new Error("")}catch(fe){ae.error("",fe)}},[x,E,o]),se=a.useCallback(async({rowData:le,rowIndex:fe})=>{var Me;const Ae=le!=null&&le.prod?await te((Me=le==null?void 0:le.prod)==null?void 0:Me.ProdID):null,{prod:Se}=le;console.log(`prod[${fe}] changed`,Se);let be={...le};return be={...be,ProdData:(Se==null?void 0:Se.ProdData)||"",PackData_N:(Se==null?void 0:Se.PackData_N)||"",StockQty_N:(Ae==null?void 0:Ae.Stock)||"",SRqtQty:"",SOrdQty:"",supplier:null,tooltip:""},be},[te]),he=a.useCallback(({rowData:le,rowIndex:fe})=>{const{supplier:Ae}=le;console.log(`supplier[${fe}] changed`,Ae);let Se={...le};return Se={...Se,SFactNa:(Ae==null?void 0:Ae.FactData)||""},Se},[]),pe=a.useCallback(({rowData:le})=>!k({rowData:le}),[k]),ue=a.useCallback(({updateResult:le,prevGridData:fe,gridData:Ae,rowIndex:Se})=>{var Me,we,Ge,We,Ee;let be;return(le==null?void 0:le.type)==="DELETE"?(be=((we=(Me=fe[Se])==null?void 0:Me.prod)==null?void 0:we.ProdID)||"",console.log(`deleted prodId: "${be}"`)):(be=(Ge=Ae[Se].prod)==null?void 0:Ge.ProdID,be||(be=((Ee=(We=fe[Se])==null?void 0:We.prod)==null?void 0:Ee.ProdID)||"")),be?Ae.map(Xe=>{var ot;if(((ot=Xe.prod)==null?void 0:ot.ProdID)===be){const ze=E.getStockQty(be);let tt={...Xe,StockQty_N:ze};return tt={...tt,tooltip:Up.getTooltips({rowData:tt,rowIndex:Se})},tt}return Xe}):(console.error("_prodId ,  mapTooltip"),Ae)},[E]),ge=a.useCallback(({fromRowIndex:le,formData:fe,newValue:Ae,setValue:Se,gridMeta:be,updateResult:Me})=>async(we,Ge)=>{var ot,ze,tt,ft;const We=le+Ge;Me.rowIndex=We;const Ee=P.gridData[We];console.log(` ${We+1} ...`,we);let Xe={...we};return((ot=Xe.prod)==null?void 0:ot.ProdID)!==((ze=Ee.prod)==null?void 0:ze.ProdID)&&(Me.cols.push("prod"),Xe=await se({rowData:Xe,rowIndex:We})),((tt=Xe.supplier)==null?void 0:tt.FactID)!==((ft=Ee.supplier)==null?void 0:ft.FactID)&&(Me.cols.push("supplier"),Xe=he({rowData:Xe,rowIndex:We})),Xe},[P.gridData,se,he]),Ce=a.useCallback(({gridData:le,formData:fe,setValue:Ae,updateResult:Se,prevGridData:be})=>{if(console.log("onGridChanged",le),Se.cols.includes("prod")||Se.cols.includes("SRqtQty")||Se.type==="DELETE"){console.log("before reduce",le);const Me=ue({updateResult:Se,prevGridData:be,gridData:le,rowIndex:Se.rowIndex});return console.log("after reduce",Me),Me}},[ue]),Te=a.useCallback(le=>{console.log("onEditorSubmit",le);const fe=Up.transformForSubmitting(le,P.gridData);console.log("collected",fe),e.updating?V({data:fe}):console.error("UNKNOWN SUBMIT TYPE")},[e.updating,V,P.gridData]),Ne=a.useCallback(le=>{console.error("onEditorSubmitError",le)},[]),xe=a.useCallback(({rowData:le,rowIndex:fe})=>`${(le==null?void 0:le.Pkey)||fe}`,[]),me=a.useMemo(()=>`${i.REPORT_URL}/WebC01Rep.aspx`,[i.REPORT_URL]),de=yn(),ce=a.useCallback(le=>{console.log("onPrintSubmit",le);const fe=P.gridData.map(Se=>Se.SOrdID).filter(Se=>Se&&Se!=="*").join(",");if(!fe){ae.error("");return}const Ae={...le.outputType&&{Action:le.outputType.id},DeptID:s==null?void 0:s.CurDeptID,JobName:"C01",IDs:fe};console.log("data",Ae),de.open(me,Ae)},[P.gridData,s==null?void 0:s.CurDeptID,me,de]),ee=a.useCallback(le=>{console.error("onPrintSubmitError",le)},[]),De=a.useCallback(({setValue:le})=>fe=>{console.log("handlePrint",fe),le("outputType",fe)},[]),ke=Or(),He=a.useMemo(()=>ke.prompting||ke.working||ke.failed,[ke.failed,ke.prompting,ke.working]),qe=a.useCallback(()=>{ke.prompt()},[ke]),Le=a.useCallback(()=>{ke.clear()},[ke]),_e=a.useMemo(()=>ke.working,[ke.working]),H=a.useCallback(async le=>{var fe,Ae;console.log("onTransformSubmit",le);try{ke.start();const{status:Se,payload:be,error:Me}=await D({url:"v1/purchase/req-to-orders/to-order",bearer:o,params:{id:(fe=e.itemData)==null?void 0:fe.RqtID,empi:(Ae=le.employee)==null?void 0:Ae.CodeID}});if(Se.success)if(console.log("to-order.payload",be),!be.OrdIDs)ae.error(""),ke.clear();else{const we=be.OrdIDs.split("");ae.success(` ${we.length} ${we.join("")}`),ke.finish(),e.cancelAction(),T.loadList({refresh:!0})}else throw Me??new Error("")}catch(Se){ke.fail({error:Se}),ae.error("",Se)}},[e,D,T,o,ke]),re=a.useCallback(le=>{console.error("onTransformSubmitError",le)},[]),q=Or(),Y=a.useMemo(()=>q.prompting||q.working||q.failed,[q.failed,q.prompting,q.working]),ie=a.useCallback(()=>{q.prompt()},[q]),B=a.useCallback(()=>{q.clear()},[q]),Z=a.useMemo(()=>q.working,[q.working]),ye=a.useCallback(async le=>{var fe,Ae;console.log("onTransformListSubmit",le),console.log("params",{...t.paramsRef.current,empi:(fe=le.employee)==null?void 0:fe.CodeID});try{q.start();const{status:Se,payload:be,error:Me}=await D({url:"v1/purchase/req-to-orders/to-orders",bearer:o,params:{...t.paramsRef.current,empi:(Ae=le.employee)==null?void 0:Ae.CodeID}});if(Se.success)if(console.log("to-order.payload",be),!be.OrdIDs)ae.error(""),q.clear();else{const we=be.OrdIDs.split("");ae.success(` ${we.length} ${we.join("")}`),q.finish(),e.cancelAction(),T.loadList({refresh:!0})}else throw Me??new Error("")}catch(Se){q.fail({error:Se}),ae.error("",Se)}},[e,D,T,t.paramsRef,o,q]),Ie=a.useCallback(le=>{console.error("onTransformListSubmitError",le)},[]);return{...e,...T,...c,selected:d,loadItem:L,handleSelect:K,handleReset:W,onSearchSubmit:U,onSearchSubmitError:X,confirmQuitCreating:z,confirmQuitUpdating:J,confirmReturnReading:Q,onEditorSubmit:Te,onEditorSubmitError:Ne,...P,createRow:I,grid:P,isRowDeletable:pe,onUpdateRow:ge,onGridChanged:Ce,getRowKey:xe,prodDisabled:k,rqtQtyDisabled:A,orderQtyDisabled:F,supplierDisabled:_,supplierNameDisabled:w,onPrintSubmit:ce,onPrintSubmitError:ee,transformDialogOpen:He,cancelTransform:Le,promptTransform:qe,transformWorking:_e,onTransformSubmit:H,onTransformSubmitError:re,transformListDialogOpen:Y,cancelTransformList:B,promptTransformList:ie,transformListWorking:Z,onTransformListSubmit:ye,onTransformListSubmitError:Ie,popperOpen:m,handlePopperToggle:f,handlePopperOpen:h,handlePopperClose:g,...u,handlePrint:De}},sd=a.createContext(),lve=({children:e})=>{const t=ETt();return r.jsx(sd.Provider,{value:{...t},children:e})};lve.propTypes={children:l.oneOfType([l.array,l.object])};const PTt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),XV=a.memo(e=>{const{getRowKey:t,readOnly:n,gridRef:o,data:s,getRowClassName:i,height:c=300,prodDisabled:u,rqtQtyDisabled:d,orderQtyDisabled:p,supplierDisabled:m,supplierNameDisabled:f,...h}=e,g=a.useCallback(({rowData:x})=>({...x,Pkey:zn()}),[]);return r.jsx(dr,{ref:o,rowKey:t,lockRows:n,height:c+(n?48:0),value:s,addRowsComponent:go,disableExpandSelection:!0,contextMenuComponent:PTt,duplicateRow:g,...h})});XV.propTypes={getRowKey:l.func,orderQtyDisabled:l.func};XV.displayName="C01ProdGrid";const RTt=(e,t)=>Gn.arePropsEqual(e,t,{header:ZV.displayName,fields:"rowData,active,disabled,focus",debug:!0}),ZV=a.memo(a.forwardRef((e,t)=>{const{columnData:n,rowData:o,rowIndex:s}=e,{title:i,...c}=n||{},u=a.useMemo(()=>i||o,[o,i]);return o?r.jsx(jr,{ref:t,title:u,...c,children:r.jsx(Po,{sx:{marginLeft:"8px",marginRight:"8px"}})}):!1}),RTt);ZV.propTypes={columnData:l.object,rowData:l.string,rowIndex:l.number};ZV.displayName="TooltipComponent";const cve=e=>{const{...t}=e,n=a.useContext(sd),o=a.useContext(Be),{height:s}=Wt(),i=a.useContext(Lr),c=a.useMemo(()=>s-320,[s]),u=a.useMemo(()=>n.buildGridChangeHandler({gridMeta:i.gridMeta,onUpdateRow:n.onUpdateRow,onGridChanged:n.onGridChanged,isRowDeletable:n.isRowDeletable}),[n,i.gridMeta]),d=a.useMemo(()=>({...Pe.keyColumn("tooltip",If({arrow:!0,placement:"left-start"}))}),[]);return r.jsx(Kn.Provider,{value:{...n.grid,...i.gridMeta,readOnly:!n.editing},children:r.jsx(XV,{gridRef:i.gridMeta.setGridRef,readOnly:i.readOnly,data:n.gridData,onChange:u,onActiveCellChange:i.gridMeta.handleActiveCellChange,bearer:o.token,height:c,getRowKey:n.getRowKey,createRow:n.createRow,prodDisabled:n.prodDisabled,rqtQtyDisabled:n.rqtQtyDisabled,orderQtyDisabled:n.orderQtyDisabled,supplierDisabled:n.supplierDisabled,supplierNameDisabled:n.supplierNameDisabled,stickyRightColumn:d,...t})})};cve.displayName="C01ProdGridContainer";const ez=a.memo(e=>{const{onSubmit:t,readError:n,data:o,readWorking:s,itemDataReady:i,creating:c,editing:u,updating:d,slotProps:p,...m}=e;return r.jsxs(r.Fragment,{children:[s&&r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",minHeight:"30em",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}),n&&r.jsx(lo,{error:n,...p==null?void 0:p.error}),i&&r.jsx(Pt,{pt:1,children:r.jsxs(j,{container:!0,columns:24,spacing:1,children:[!c&&r.jsx(j,{item:!0,xs:24,sm:24,md:3,children:r.jsx($e,{typo:!0,name:"RqtID",label:"",fullWidth:!0,required:!0,readOnly:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:4,children:r.jsx(et,{typo:!0,name:"RqtDate",label:"",autoFocus:!0,fullWidth:!0,required:!0,validate:!0,variant:"outlined",readOnly:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:4,children:r.jsx(Ar,{typo:!0,label:"",name:"employee",required:!0,rules:{required:""},virtualize:!0,readOnly:!0,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:u?5:4,children:r.jsx(Xo,{typo:!0,label:"",name:"pdline",required:!0,rules:{required:""},virtualize:!0,readOnly:!0,disableOpenOnInput:!0,slotProps:{paper:{sx:{width:360}}}})}),r.jsx(j,{item:!0,xs:24,children:r.jsx(cve,{})}),r.jsx(j,{item:!0,xs:24,children:r.jsx($e,{typo:!0,name:"remark",multiline:!0,minRows:2,maxRows:5,label:"",fullWidth:!0})})]})})]})});ez.propTypes={readWorking:l.bool,readError:l.object,data:l.object,itemDataReady:l.bool,slotProps:l.object};ez.displayName="C01DialogForm";const tz=a.memo(a.forwardRef((e,t)=>{const{onSave:n,onCancel:o,loading:s,...i}=e;return r.jsxs(a.Fragment,{ref:t,...i,children:[r.jsx(dt,{responsive:!0,onClick:o,color:"warning",variant:"outlined",...i,children:""}),r.jsx(dt,{responsive:!0,onClick:n,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:s,children:""})]})}));tz.displayName="C01DialogEditToolbar";tz.propTypes={onCancel:l.func,onSave:l.func,onLoadProds:l.func,loading:l.bool};const uve=e=>{const{...t}=e,n=Ke(),o=a.useContext(sd),{canPrint:s}=o,i=n.handleSubmit(o.onPrintSubmit,o.onPrintSubmitError);return s?r.jsx(xn,{onSubmit:i,...t}):!1};uve.displayName="C01ExportButtonContainer";const dve=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,onDelete:o,onTransform:s,onPrint:i,onSideDrawerOpen:c,...u}=e;return r.jsxs(a.Fragment,{ref:t,...u,children:[i&&r.jsx(uve,{}),o&&r.jsx(hn,{startIcon:r.jsx(Fs,{}),color:"secondary",onClick:o,children:""}),s&&r.jsx(hn,{startIcon:r.jsx(_D,{}),color:"success",onClick:s,children:""}),n&&r.jsx(hn,{startIcon:r.jsx(bo,{}),color:"primary",onClick:n,children:""}),r.jsx(jr,{title:"",children:r.jsx(br,{onClick:c,size:"small",children:r.jsx(Po,{})})})]})}));dve.propTypes={onEdit:l.func,onDelete:l.func,onTransform:l.func,onReject:l.func,onPrint:l.func,onSideDrawerOpen:l.func};const pve=e=>{var c;const{...t}=e,n=a.useContext(sd),o=Ke(),s=a.useMemo(()=>{var u;return n.canDelete&&!((u=n.itemData)!=null&&u.Checker_N)},[n.canDelete,(c=n.itemData)==null?void 0:c.Checker_N]),i=o.handleSubmit(n.onPrintSubmit,n.onPrintSubmitError);return n.itemDataReady?n.editing?r.jsx(tz,{onSave:o.handleSubmit(n.onEditorSubmit,n.onEditorSubmitError),onCancel:n.updating?n.confirmReturnReading:n.confirmQuitCreating,loading:n.editWorking,...t}):r.jsx(dve,{onEdit:n.canUpdate?n.promptUpdating:null,onDelete:s?n.confirmDelete:null,onTransform:n.canManage?n.promptTransform:null,onPrint:n.canPrint?i:null,onSideDrawerOpen:n.handleSideDrawerOpen,...t}):!1};pve.displayName="C01DialogToolbarContainer";const nz=a.memo(e=>{var s,i,c;const{anchor:t="right",...n}=e,o=a.useContext(sd);return r.jsxs(Eo,{anchor:t,open:o.sideDrawerOpen,onClose:o.handleSideDrawerClose,...n,children:[r.jsx(pn,{label:"",children:(s=o.itemData)==null?void 0:s.WriteDate_N}),r.jsx(pn,{label:"",children:(i=o.itemData)==null?void 0:i.Writer_N}),r.jsx(pn,{label:"",children:(c=o.itemData)==null?void 0:c.Checker_N})]})});nz.propTypes={anchor:l.string};nz.displayName="C01Drawer";const mve=a.forwardRef((e,t)=>{const{...n}=e,{height:o}=Wt(),s=a.useMemo(()=>o-120,[o]),i=at({defaultValues:{prods:[]}}),{reset:c}=i,u=a.useContext(sd),d=Qr({height:s,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),p=a.useMemo(()=>u.creating?"":u.updating?"":"",[u.creating,u.updating]),m=a.useMemo(()=>u.creating?u.confirmQuitCreating:u.updating?u.confirmQuitUpdating:u.reading?u.cancelAction:null,[u.cancelAction,u.confirmQuitCreating,u.confirmQuitUpdating,u.creating,u.reading,u.updating]),f=a.useCallback(()=>{u.editing&&i.handleSubmit(u.onEditorSubmit,u.onEditorSubmitError)()},[u.editing,u.onEditorSubmit,u.onEditorSubmitError,i]);$t(["Control+Enter"],()=>setTimeout(f),{enableOnFormTags:!0});const h=vt(`
		remark
		`),g=a.useMemo(()=>!u.editing,[u.editing]),x=a.useMemo(()=>[{...Pe.keyColumn("prod",or(ls,{name:"prod",forId:!0,withStock:!0,packageType:"i",disableClearable:!0,slotProps:{paper:{sx:{width:360}}},selectOnFocus:!0})),id:"SProdID",title:"",minWidth:130,maxWidth:150,disabled:!u.editing||u.prodDisabled},{...Pe.keyColumn("ProdData",kt({continuousUpdates:!1})),title:"",disabled:!0,grow:2},{...Pe.keyColumn("PackData_N",kt({continuousUpdates:!1})),title:"",minWidth:60,maxWidth:60,disabled:!0},{...Pe.keyColumn("SRqtQty",Jn(2)),title:"",minWidth:90,disabled:!u.editing||u.rqtQtyDisabled},{...Pe.keyColumn("SOrdQty",Jn(2)),title:"",minWidth:90,disabled:!u.editing||u.orderQtyDisabled},{...Pe.keyColumn("supplier",or(dO,{name:"supplier",selectOnFocus:!0,forId:!0,disableClearable:!0,autoHighlight:!0,slotProps:{paper:{sx:{width:360}}}})),title:"",minWidth:120,maxWidth:120,disabled:!u.editing||u.supplierDisabled},{...Pe.keyColumn("SFactNa",kt({continuousUpdates:!1})),title:"",minWidth:120,disabled:!u.editing||u.supplierNameDisabled},{...Pe.keyColumn("SOrdID",kt({continuousUpdates:!1})),title:"",maxWidth:120,disabled:!0}],[u.editing,u.orderQtyDisabled,u.prodDisabled,u.rqtQtyDisabled,u.supplierDisabled,u.supplierNameDisabled]),y=hr({data:u.grid.gridData,columns:x,skipDisabled:!0,lastCell:Xn.CREATE_ROW});return mn(()=>{u.itemDataReady&&(console.log("c01 form reset",u.itemData),c(u.itemData))},[u.itemData,u.itemDataReady]),r.jsx(Ye,{...i,children:r.jsxs(Er,{ref:t,title:p,responsive:!0,fullWidth:!0,maxWidth:"lg",TitleButtonsComponent:pve,open:u.itemViewOpen,onClose:m,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[{minHeight:"30em",paddingTop:0},d.scroller],...n,children:[r.jsx(Ct,{...h,gridMeta:y,readOnly:g,children:r.jsx("form",{onSubmit:f,children:r.jsx(ez,{creating:u.creating,editing:u.editing,updating:u.updating,readWorking:u.readWorking,readError:u.readError,data:u.itemData,itemDataReady:u.itemDataReady,onSubmit:f})})}),r.jsx(nz,{BackdropProps:{sx:[ur.BACKDROP_TRANSPARENT]}})]})})});mve.displayName="C01DialogContainer";const _2=e=>{const{...t}=e;return r.jsx(ve,{py:1,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,children:r.jsx(nn,{children:""})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(Ar,{autoFocus:!0,required:!0,name:"employee",label:"",rules:{required:""}})})]})})};_2.propTypes={};_2.displayName="C01TransformForm";const rz=()=>{const e=a.useContext(sd),t=at({defaultValues:{}}),n=a.useMemo(()=>t.handleSubmit(e.onTransformSubmit,e.onTransformSubmitError),[e.onTransformSubmit,e.onTransformSubmitError,t]);return r.jsx(Ye,{...t,children:r.jsx("form",{children:r.jsx(Er,{disableEscapeKeyDown:!0,minWidth:"18em",title:"",open:e.transformDialogOpen,onClose:e.cancelTransform,onCancel:e.cancelTransform,onSubmit:n,working:e.transformWorking,confirmText:"",children:r.jsx(Br,{maxWidth:"md",children:r.jsx(_2,{})})})})})};rz.propTypes={};rz.displayName="C01TransformToOrderDialogContainer";const oz=()=>{const e=a.useContext(sd),t=at({defaultValues:{}});return r.jsx(Ye,{...t,children:r.jsx("form",{children:r.jsx(Er,{disableEscapeKeyDown:!0,minWidth:"18em",title:"",open:e.transformListDialogOpen,onClose:e.cancelTransformList,onCancel:e.cancelTransformList,onSubmit:t.handleSubmit(e.onTransformListSubmit,e.onTransformListSubmitError),working:e.transformListWorking,confirmText:"",children:r.jsx(Br,{maxWidth:"md",children:r.jsx(_2,{})})})})})};oz.propTypes={};oz.displayName="C01TransformToOrdersDialogContainer";const L2=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:4,...t})};L2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};L2.displayName="C01DateColumn";const $2=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:6,...t})};$2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};$2.displayName="C01DeptColumn";const B2=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:4,...t})};B2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};B2.displayName="C01IdColumn";const W2=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:5,...t})};W2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};W2.displayName="C01UserColumn";const _C=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:1,...t})};_C.propTypes={loading:l.bool,children:l.oneOfType([l.node])};_C.displayName="C01FlagColumn";const sz=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsxs(io,{ref:t,...n,children:[r.jsx(Hn,{}),r.jsx(B2,{children:""}),r.jsx(_C,{children:""}),r.jsx(_C,{children:""}),r.jsx(L2,{children:""}),r.jsx($2,{children:""}),r.jsx(W2,{children:""})]})}));sz.propTypes={};sz.displayName="C01ListHeader";const az=a.memo(e=>{const{index:t,style:n,value:o,onClick:s}=e;return r.jsx("div",{style:n,children:r.jsxs(yo,{borderBottom:!0,onClick:s,children:[r.jsx(na,{}),r.jsx(jt,{children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t}),r.jsx(B2,{children:o==null?void 0:o.}),r.jsx(_C,{children:o==null?void 0:o.}),r.jsx(_C,{children:o==null?void 0:o.}),r.jsx(L2,{children:o==null?void 0:o.}),r.jsx($2,{children:o==null?void 0:o.}),r.jsx(W2,{children:o==null?void 0:o.})]})})]})})});az.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func,promptCopyAuth:l.func};az.displayName="C01ListRow";const iz=e=>{const t=a.useContext(sd),{isItemLoading:n}=t,{index:o,...s}=e,i=a.useMemo(()=>n(o),[o,n]),c=a.useMemo(()=>t.listData[o],[t.listData,o]);return r.jsx(No,{loading:i,children:r.jsx(az,{index:o,value:c,onClick:u=>t.handleSelect(u,c),...s})})};iz.propTypes={index:l.number,data:l.object};iz.displayName="C01ListRowContainer";const fve=()=>{const e=a.useContext(sd),{loadList:t}=e,n=Ke(),{height:o}=Wt(),s=Ue({name:"listMode",control:n.control}),i=Yn(s,300),c=Ue({name:"lvOrder",control:n.control}),u=Yn(c,300),d=Ue({name:"lvDate",control:n.control}),p=Yn(d,300),m=Ue({name:"lvPdline",control:n.control}),f=Yn(m,300),h=Ue({name:"lvEmployee",control:n.control}),g=Yn(h,300);En(()=>{t({params:{ck:2,of:i==null?void 0:i.id}})},[]),mn(()=>{t({params:{ck:2,...Up.transformAsQueryParams({orderFlag:i,order:u,date:p,pdline:f,employee:g})},supressLoading:!0})},[i,u,p,f,g]);const x=a.useMemo(()=>o?o-200:300,[o]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:iz,height:x,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};fve.displayName="C01ListViewContainer";const hve=()=>{const e=a.useContext(sd);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};hve.displayName="C01FetchResultLabelContainer";const lz=a.memo(a.forwardRef((e,t)=>{const{label:n="",...o}=e;return r.jsx(bt,{label:n,ref:t,options:Up.options,getOptionLabel:Up.getOptionLabel,isOptionEqualToValue:Up.isOptionEqualToValue,...o})}));lz.propTypes={label:l.string,children:l.node};lz.displayName="C01ListModePicker";const cz=a.memo(a.forwardRef((e,t)=>{const{children:n="",...o}=e,s=a.useContext(sd),i=a.useMemo(()=>!s.canManage,[s.canManage]),c=a.useMemo(()=>i?null:s.promptTransformList,[s.promptTransformList,i]),u=a.useMemo(()=>i?" C01 ":"",[i]);return r.jsx(Ra,{title:u,arrow:!0,children:r.jsx(dt,{ref:t,responsive:!0,startIcon:r.jsx(_D,{}),onClick:c,disabled:i,...o,children:n})})}));cz.propTypes={children:l.oneOfType([l.node,l.array])};cz.displayName="C01TransformButtonContainer";const gve=a.memo(()=>r.jsxs(r.Fragment,{children:[r.jsx(cz,{variant:"contained"}),r.jsx(lz,{dense:!0,name:"listMode",placeholder:"",autoComplete:!0,autoSelect:!0,blurOnSelect:!0,width:"12rem",disableOpenOnInput:!0})]}));gve.displayName="LeftButtons";const uz=a.memo(a.forwardRef(({loading:e,...t},n)=>r.jsx(kn,{pl:0,alignItems:"flex-end",ref:n,LeftComponent:e?Cr:gve,RightComponent:hve,...t})));uz.displayName="C01ListViewToolbar";uz.propTypes={loading:l.bool};const dz=a.memo(e=>{const{...t}=e;return r.jsx(Pt,{children:r.jsxs(Vt,{container:!0,columns:24,spacing:1,...t,children:[r.jsx(Vt,{item:!0,md:5,lg:5,children:r.jsx(M2,{label:"()",name:"lvOrder",autoFocus:!0,placeholder:"",disableOpenOnInput:!0})}),r.jsx(Vt,{item:!0,md:6,lg:5,children:r.jsx(et,{name:"lvDate",label:"()",validate:!0,clearable:!0})}),r.jsx(Vt,{item:!0,md:6,lg:5,children:r.jsx(Xo,{name:"lvPdline",label:"",disableOpenOnInput:!0})}),r.jsx(Vt,{item:!0,md:6,lg:5,children:r.jsx(Ar,{name:"lvEmployee",label:"",disableOpenOnInput:!0})})]})})});dz.propTypes={};dz.displayName="C01SearchForm";const bve=e=>{const{...t}=e,n=vt(`
		lvOrder,
		lvDate,
		lvPdline,
		lvEmployee,
		listMode
		`);return r.jsxs(Ct,{...n,children:[r.jsx(dz,{...t}),r.jsx(uz,{})]})};bve.displayName="C01SearchFormContainer";const xve=()=>{const e=at({defaultValues:{listMode:Up.getOptionById(Up.ListModes.NOT_ORDERED_INCLUDED)}});return r.jsxs(Ft,{children:[r.jsxs(Ye,{...e,children:[r.jsx(_t,{}),r.jsxs(li,{children:[r.jsx(bve,{}),r.jsx(sz,{}),r.jsx(fve,{})]})]}),r.jsx(oz,{}),r.jsx(rz,{}),r.jsx(mve,{})]})};xve.displayName="C01FrameContainer";const pz=[{id:"1",label:""},{id:"2",label:""},{id:"3",label:""}],wTt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},kTt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),ATt=e=>pz.find(t=>t.id==e)||null,NTt=e=>pz.find(t=>t.id==e)||null,zc={options:pz,getOptionById:ATt,getOptionLabel:wTt,isOptionEqualToValue:kTt,findByInput:NTt},yve=e=>(e==null?void 0:e.map(({SProdID:t,ProdData_N:n,SExpDate:o,SOrdID:s,SType:i,...c})=>{const u=(s==null?void 0:s.split("#"))||[],d=u.length>0?u[0]:"";return{prod:{ProdID:t,ProdData:n},ProdData:n,SExpDate:o,SOrdID:s,ordId:d,stype:zc.getOptionById(i),...c}}))||[],FTt=e=>e.filter(t=>{var n;return(n=t.prod)==null?void 0:n.ProdID}).map(({Pkey:t,prod:n,stype:o,SExpDate:s,SQty:i,SPrice:c,SAmt:u,...d},p)=>({Pkey:(t==null?void 0:t.length)<36?"":t,SProdID:n==null?void 0:n.ProdID,ProdData_N:n==null?void 0:n.ProdData,SType:(o==null?void 0:o.id)||"",SExpDate:Re.formatDate(s),SQty:(i==null?void 0:i.toString())||"",SPrice:(c==null?void 0:c.toString())||"",SAmt:(u==null?void 0:u.toString())||"",Seq:p+1,...d})),MTt=e=>{const{GinDate:t,OrdID:n,EmplID:o,EmplData_N:s,FactID:i,FactData:c,GdsIn_S:u,Remark:d,...p}=e;return{GinDate:Re.parseDate(t),employee:{CodeID:o,CodeData:s},supplier:i?{FactID:i,FactData:c}:null,purchaseOrders:(n==null?void 0:n.split(/[|,]/).filter(m=>!!m).map(m=>({:m})))||[],OrdID:n,FactData:c,prods:yve(u),remark:d.join(`
`),...p}},_Tt=(e,t)=>{const{GinID:n,GinDate:o,employee:s,supplier:i,remark:c,purchaseOrders:u,...d}=e;return{GinID:n,GinDate:o?Re.formatDate(o):"",EmplID:(s==null?void 0:s.CodeID)||"",FactID:(i==null?void 0:i.FactID)||"",Remark:(c==null?void 0:c.split(`
`))||[],OrdID:u.map(p=>p.).join(","),...d,...t&&{GdsIn_S:FTt(t)}}},LTt=e=>{const{employee:t,supplier:n,rstDate:o,...s}=e;return{...s,...t&&{emp:t.CodeID},...n&&{spl:n==null?void 0:n.FactID},...o&&{rdat:Re.formatDate(o)}}},$Tt=e=>{if(!e)return 0;let t=0;for(const n of e){const{SAmt:o}=n;t+=o?Number(o):0}return t},BTt=e=>Gn.isAnyPropNotEmpty(e,"id,pn,bc"),Fc={transformForReading:MTt,transformForSubmitting:_Tt,transformAsQueryParams:LTt,transformGridForReading:yve,getTotal:$Tt,isFiltered:BTt},WTt=()=>{var Ee,Xe,ot;const e=a.useContext(cr),{itemData:t}=e,n=a.useRef(),{token:o,operator:s}=a.useContext(Be),i=a.useContext(ln),c=Bt({moduleId:"C04"}),u=Co(),{httpGetAsync:d,httpPostAsync:p,httpPutAsync:m,httpDeleteAsync:f}=Zn(),h=a.useContext(Mr),[g,x,y,D]=us(!1),v=so({url:"v1/purchase/restocks",bearer:o,initialFetchSize:50}),[T,I]=a.useState({expProd:null,expDate:null,expPrompting:!1}),P=a.useCallback(()=>({Pkey:zn(),prod:null,stype:null,SQty:"",SPrice:"",ChkQty:"",SOrdID:"",SExpDate:null}),[]),E=yr({gridId:"prods",keyColumn:"pkey",createRow:P}),k=a.useCallback(({rowData:ze})=>{var tt;return(tt=ze.stype)!=null&&tt.id?"line-through":null},[]),w=a.useCallback(({rowData:ze})=>!!ze.ordId,[]),A=a.useCallback(({rowData:ze})=>!!ze.SInqFlag||!!ze.stype,[]),F=a.useCallback(({setValue:ze,data:tt,reset:ft=!1})=>{ft?(ze("InAmt",""),ze("TaxAmt",""),ze("TotAmt",""),ze("PaidAmt",""),ze("PayAmt","")):(ze("InAmt",tt.InAmt),ze("TaxAmt",tt.TaxAmt),ze("TotAmt",tt.TotAmt),ze("PaidAmt",tt.PaidAmt),ze("PayAmt",tt.PayAmt))},[]),_=a.useCallback(()=>{const ze={prods:[],purchaseOrders:[],GinDate:new Date,taxExcluded:!1};e.promptCreating({data:ze}),E.initGridData(ze.prods,{fillRows:!0})},[e,E]),L=a.useCallback(async({data:ze})=>{try{e.startCreating();const{status:tt,error:ft}=await p({url:"v1/purchase/restocks",data:ze,bearer:o});if(tt.success)ae.success(""),e.finishedCreating(),e.cancelReading(),v.loadList({refresh:!0});else throw ft??new Error("")}catch(tt){e.failedCreating(),console.error("handleCreate.failed",tt),ae.error("",tt)}},[e,p,v,o]),K=a.useCallback(async({id:ze,refresh:tt=!1})=>{try{const ft=tt?n.current:ze;tt||(n.current=ze,e.startReading("...",{id:ze}));const{status:ht,payload:en,error:un}=await d({url:"v1/purchase/restocks",bearer:o,params:{id:ft}});if(ht.success){const Je=Fc.transformForReading(en.data[0]);e.finishedReading({data:Je}),E.handleGridDataLoaded(Je.prods)}else throw un??new Error("")}catch(ft){e.failedReading(ft)}},[e,d,E,o]),z=a.useCallback(async(ze,tt)=>{ze==null||ze.stopPropagation(),e.cancelAction(),K({id:tt.})},[e,K]),J=a.useMemo(()=>{var ze,tt;return((tt=(ze=e.itemData)==null?void 0:ze.purchaseOrders)==null?void 0:tt.length)>0&&e.updating},[(Xe=(Ee=e.itemData)==null?void 0:Ee.purchaseOrders)==null?void 0:Xe.length,e.updating]),Q=a.useCallback(ze=>(ze==null?void 0:ze.FactID)!=="*",[]),V=a.useCallback(async({formData:ze,setValue:tt})=>{const ft=ze.GinDate;if(ze.supplier&&ft&&E.gridData.filter(en=>{var un;return(un=en.prod)==null?void 0:un.ProdID}).length>0){const en=Fc.transformForSubmitting(ze,E.gridData);console.log("collected",en);try{const{status:un,payload:Je,error:qt}=await p({url:"v1/purchase/restocks/refresh-grid",bearer:o,data:en});if(console.log("refresh-grid.payload",Je),un.success){const Tt=Fc.transformForReading(Je.data[0]);console.log("refresh-grid.data",Tt),E.initGridData(Tt.prods,{fillRows:e.creating,supressEvents:!0}),F({setValue:tt,data:Tt}),ae.info("")}else throw qt??new Error("")}catch(un){console.error(un),ae.error(", ",{position:"top-right"})}}else console.warn("clear values?")},[E,p,o,e.creating,F]),W=Or(),U=a.useCallback(({setValue:ze,getValues:tt})=>async()=>{try{W.start(),V({formData:tt(),setValue:ze})}finally{W.clear()}},[W,V]),X=a.useCallback(({setValue:ze,getValues:tt})=>ft=>{if(console.log("handleSupplierChanged",ft),ze("FactData",(ft==null?void 0:ft.FactData)||""),ze("Uniform",(ft==null?void 0:ft.Uniform)||""),ze("TaxType",(ft==null?void 0:ft.TaxType)==="Y"?"Y":""),ze("FactAddr",(ft==null?void 0:ft.CompAddr)||""),E.gridData.filter(ht=>{var en;return(en=ht.prod)==null?void 0:en.ProdID}).length>0){const ht=tt();V({formData:ht,setValue:ze})}},[E.gridData,V]),te=a.useCallback(({setValue:ze,getValues:tt})=>ft=>{console.log("rstDate changed",ft),V({formData:tt(),setValue:ze})},[V]),se=a.useCallback(()=>{h.confirm({message:"?",onConfirm:()=>{e.cancelAction()}})},[e,h]),he=a.useCallback(()=>{h.confirm({message:"?",onConfirm:()=>{e.cancelAction()}})},[e,h]),pe=a.useCallback(()=>{h.confirm({message:"?",onConfirm:()=>{e.cancelUpdating(),K({refresh:!0})}})},[e,h,K]),ue=a.useCallback(async({data:ze})=>{try{e.startUpdating();const{status:tt,error:ft}=await m({url:"v1/purchase/restocks",data:ze,bearer:o});if(tt.success)ae.success(""),e.finishedUpdating(),K({refresh:!0}),v.loadList({refresh:!0});else throw ft??new Error("")}catch(tt){e.failedUpdating(),console.error("handleCreate.failed",tt),ae.error("",tt)}},[e,m,v,K,o]),ge=a.useCallback(()=>{h.confirm({message:`${t==null?void 0:t.GinID}?`,onConfirm:async()=>{try{e.startDeleting(t);const{status:ze,error:tt}=await f({url:"v1/purchase/restocks",bearer:o,params:{id:t==null?void 0:t.GinID}});if(ze.success)e.cancelAction(),ae.success(` ${t==null?void 0:t.GinID}`),v.loadList({refresh:!0});else throw tt||""}catch(ze){e.failedDeleting(ze),console.error("confirmDelete.failed",ze),ae.error("",ze)}}})},[e,h,f,t,v,o]),Ce=a.useCallback(ze=>{console.log("onSearchSubmit",ze),D(),console.log("onSearchSubmit",ze),v.loadList({params:Fc.transformAsQueryParams(ze)})},[D,v]),Te=a.useCallback(ze=>{console.error("onSearchSubmitError",ze)},[]),Ne=a.useCallback(({rowData:ze,rowIndex:tt})=>`${(ze==null?void 0:ze.Pkey)||tt}`,[]),xe=a.useCallback(async(ze,{supplier:tt,rstDate:ft})=>{if(!ze)return;const ht=tt==null?void 0:tt.FactID;if(!ht){ae.error("",{position:"top-right"});return}if(!gf(ft)){ae.error("",{position:"top-right"});return}try{const{status:en,payload:un,error:Je}=await d({url:"v1/purchase/restocks/prod-info",bearer:o,params:{pd:ze,spi:ht,od:Re.formatDate(ft)}});if(en.success)return un;throw Je??new Error("")}catch(en){ae.error("",en)}},[d,o]),me=a.useCallback(async({formData:ze,gridData:tt,setValue:ft})=>{const ht=Fc.getTotal(tt);try{const{status:en,payload:un,error:Je}=await d({url:"v1/purchase/restocks/refresh-amt",bearer:o,data:{tt:ze==null?void 0:ze.TaxType,ap:ze==null?void 0:ze.PaidAmt,at:ht}});if(en.success)console.log("refresh-amt",un),ft("PayAmt",un.PayAmt),ft("TaxAmt",un.TaxAmt),ft("TotAmt",un.TotAmt),ft("InAmt",ht.toFixed(2));else throw Je||new Error("")}catch(en){ae.error("",en)}},[d,o]),de=a.useCallback(({setValue:ze,getValues:tt})=>async ft=>{console.log("onTaxTypeChanged",ft);const ht=tt();me({formData:{...ht,TaxType:ft},gridData:E.gridData,setValue:ze})},[me,E.gridData]),ce=a.useCallback(async({rowData:ze,formData:tt})=>{var en,un,Je,qt;let ft={...ze};const ht=(en=ze.prod)!=null&&en.ProdID?await xe((un=ze.prod)==null?void 0:un.ProdID,{supplier:tt.supplier,rstDate:tt.GinDate}):null;return console.log("prodInfo",ht),ft={...ft,ProdData:((Je=ze.prod)==null?void 0:Je.ProdData)||"",PackData_N:((qt=ze.prod)==null?void 0:qt.PackData_N)||"",SInqFlag:(ht==null?void 0:ht.SInqFlag)||"",SPrice:(ht==null?void 0:ht.SPrice)||"",SExpDate:ze.prod?(ht==null?void 0:ht.SExpDate)||ze.SExpDate:"",stype:null,SQty:"",SAmt:"",ordId:""},ft},[xe]),ee=a.useCallback(({fromRowIndex:ze,formData:tt,newValue:ft,setValue:ht,gridMeta:en,updateResult:un})=>async(Je,qt)=>{var Dt,Gt,An,_n,pt;const Tt=ze+qt,Jt=E.gridData[Tt];console.log(` ${Tt+1} ...`,Je);let st={...Je};if(((Dt=Je.prod)==null?void 0:Dt.ProdID)!=((Gt=Jt.prod)==null?void 0:Gt.ProdID)&&(console.log(`prod[${Tt}] changed`,Je.prod),st=await ce({rowData:st,formData:tt})),st.SPrice!==Jt.SPrice||((An=st.stype)==null?void 0:An.id)!==((_n=Jt.stype)==null?void 0:_n.id)||st.SQty!==Jt.SQty){const Rt=!st.SPrice||!st.SQty?"":(pt=st.stype)!=null&&pt.id?0:st.SPrice*st.SQty;st={...st,SAmt:Rt},un.rows++}return st},[E.gridData,ce]),De=a.useCallback(({gridData:ze,formData:tt,setValue:ft,updateResult:ht})=>{me({formData:tt,gridData:ze,setValue:ft})},[me]),ke=a.useCallback(ze=>{console.log("onEditorSubmit",ze);const tt=Fc.transformForSubmitting(ze,E.gridData);console.log("collected",tt),e.creating?L({data:tt}):e.updating?ue({data:tt}):console.error("UNKNOWN SUBMIT TYPE")},[e.creating,e.updating,L,ue,E.gridData]),He=a.useCallback(ze=>{console.error("onEditorSubmitError",ze),ae.error(", ")},[]),qe=a.useMemo(()=>`${i.REPORT_URL}/WebC04Rep.aspx`,[i.REPORT_URL]),Le=yn(),_e=a.useCallback(ze=>{var ft;console.log("onPrintSubmit",ze);const tt={...ze.outputType&&{Action:ze.outputType.id},DeptID:s==null?void 0:s.CurDeptID,JobName:"C04",IDs:(ft=e.itemData)==null?void 0:ft.GinID};console.log("data",tt),Le.open(qe,tt)},[(ot=e.itemData)==null?void 0:ot.GinID,s==null?void 0:s.CurDeptID,qe,Le]),H=a.useCallback(ze=>{console.error("onPrintSubmitError",ze)},[]),re=a.useCallback(({setValue:ze})=>tt=>{console.log("handlePrint",tt),ze("outputType",tt)},[]),q=a.useCallback(()=>{I(ze=>({...ze,expPrompting:!0}))},[]),Y=a.useCallback(()=>{I(ze=>({...ze,expPrompting:!1}))},[]),ie=a.useCallback(ze=>{console.log("onExpSubmit",ze),I(tt=>({...tt,expProd:ze.expProd,expDate:ze.expDate,expPrompting:!1}))},[]),B=a.useCallback(ze=>{console.error("onExpSubmitError",ze)},[]),Z=a.useCallback(()=>{I({expProd:null,expDate:null,expPrompting:!1})},[]),ye=a.useMemo(()=>T.expProd!==null,[T.expProd]),Ie=a.useCallback(({setValue:ze,getValues:tt})=>async ft=>{console.log("handlePurchaseOrdersChanged",ft);const ht=tt(),en=Fc.transformForSubmitting(ht,E.gridData);console.log("collected",en);try{const{status:un,payload:Je,error:qt}=await p({url:"v1/purchase/restocks/load-prods",bearer:o,data:en});if(console.log("load-prods.payload",Je),un.success){const Tt=Fc.transformForReading(Je.data[0]);console.log("refreshed data",Tt),E.setGridData(Tt.prods,{fillRows:e.creating,supressEvents:!0}),F({setValue:ze,data:Tt})}else throw qt??new Error("")}catch(un){ae.error("",un)}},[E,p,o,e.creating,F]),le=a.useCallback(ze=>{console.log("onRefreshGridSubmit2",ze)},[]),fe=a.useCallback(({setValue:ze})=>async tt=>{console.log("onRefreshGridSubmit",tt);try{if(E.gridData.length>0){const ft=Fc.transformForSubmitting(tt,E.gridData);console.log("collected",ft);const{status:ht,payload:en,error:un}=await p({url:"v1/purchase/restocks/refresh-grid",bearer:o,data:ft});if(console.log("refresh-grid.payload",en),ht.success){const Je=Fc.transformForReading(en.data[0]);console.log("refreshed data",Je),E.handleGridDataLoaded(Je.prods),F({setValue:ze,data:Je}),ae.info("")}else throw un??new Error("")}else F({setValue:ze,reset:!0})}catch(ft){ae.error("",ft)}},[p,E,F,o]),Ae=a.useCallback(ze=>{console.error("onRefreshGridSubmitError",ze)},[]),Se=a.useCallback(({setValue:ze})=>async tt=>{console.log("onLoadProdsSubmit",tt);try{const ft=Fc.transformForSubmitting(tt,E.gridData);console.log("collected",ft);const{status:ht,payload:en,error:un}=await p({url:"v1/purchase/restocks/load-prods",bearer:o,data:ft});if(console.log("refresh-grid.payload",en),ht.success){const Je=Fc.transformForReading(en.data[0]);console.log("load-prods.data",Je),E.handleGridDataLoaded(Je.prods,{fillRows:!0,supressEvents:!0}),F({setValue:ze,data:Je})}else throw un||new Error("")}catch(ft){ae.error("",ft)}},[E,p,o,F]),be=a.useCallback(ze=>{console.error("onLoadProdsSubmitError",ze)},[]),Me=Or(),we=a.useCallback(async()=>{try{Me.start();const{status:ze,error:tt}=await d({url:"v1/purchase/restocks/check-editable",bearer:o,params:{id:e.itemData.GinID}});if(ze.success)e.promptUpdating();else throw tt??new Error("")}catch(ze){ae.error("",ze)}finally{Me.clear()}},[Me,e,d,o]),Ge=a.useCallback(({setValue:ze,getValues:tt})=>ft=>{console.log("handlePaidAmtChange",ft);const ht=tt();console.log("formData",ht),me({formData:ht,gridData:E.gridData,setValue:ze})},[E.gridData,me]),We=a.useCallback(({reset:ze})=>()=>{D(),v.loadList({params:{}}),ze({})},[D,v]);return{...e,...v,...c,loadItem:K,handleSelect:z,handleSupplierChanged:X,onSearchSubmit:Ce,onSearchSubmitError:Te,confirmQuitCreating:se,confirmQuitUpdating:he,confirmReturnReading:pe,confirmDelete:ge,promptCreating:_,onEditorSubmit:ke,onEditorSubmitError:He,createRow:P,...E,grid:E,getRowKey:Ne,prodDisabled:w,spriceDisabled:A,onPrintSubmit:_e,onPrintSubmitError:H,...T,expChecking:ye,onExpDialogOpen:q,onExpDialogClose:Y,cancelExpChecking:Z,onExpSubmit:ie,onExpSubmitError:B,isSupplierNameDisabled:Q,onRefreshGridSubmit2:le,onRefreshGridSubmit:fe,onRefreshGridSubmitError:Ae,handleTaxTypeChange:de,onLoadProdsSubmit:Se,onLoadProdsSubmitError:be,handleStkDateChanged:te,handlePurchaseOrdersChanged:Ie,checkEditableWorking:Me.working,handleCheckEditable:we,getSPriceClassName:k,handleRefresh:U,refreshWorking:W.working,...u,handlePaidAmtChange:Ge,onUpdateRow:ee,onGridChanged:De,refreshGrid:V,supplierDisabled:J,popperOpen:g,handlePopperToggle:x,handlePopperOpen:y,handlePopperClose:D,handleReset:We,handlePrint:re}},Rl=a.createContext(),Cve=({children:e})=>{const t=WTt();return r.jsx(Rl.Provider,{value:{...t},children:e})};Cve.propTypes={children:l.oneOfType([l.array,l.object])};const mz=a.forwardRef((e,t)=>{const{label:n="",...o}=e;return r.jsx(bt,{ref:t,label:n,options:zc.options,getOptionLabel:zc.getOptionLabel,isOptionEqualToValue:zc.isOptionEqualToValue,findByInput:zc.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...o})});mz.propTypes={name:l.string,label:l.string,children:l.node};mz.displayName="FreeProdTypePicker";const UTt=(e,t)=>Gn.arePropsEqual(e,t,{fields:"rowData.id,active,disable,focus"}),fz=a.memo(e=>{const{rowData:t,setRowData:n,rowIndex:o,columnIndex:s,columnData:i,active:c,focus:u,disabled:d,stopEditing:p,insertRowBelow:m}=e,{name:f,hideControlsOnActive:h,selectOnFocus:g,lastCell:x,isLastRow:y,getNextCell:D,skipDisabled:v,setActiveCell:T,readOnly:I,focusOnDisabled:P,multiple:E,...k}=i,{handleFocusNextCell:w}=Pi({getNextCell:D,lastCell:x,isLastRow:y,setActiveCell:T,insertRowBelow:m}),A=zi({name:f,rowIndex:o,rowData:t,columnIndex:s,focus:u,active:c,disabled:d,hideControlsOnActive:h,selectOnFocus:g,setRowData:n,stopEditing:p,readOnly:I,skipDisabled:v,handleFocusNextCell:w,focusOnDisabled:P,multiple:E});return r.jsx(mz,{...A,...k,mockDelay:Pn.POPPER_DELAY})},UTt);fz.propTypes={rowData:l.oneOfType([l.string,l.number,l.object]),setRowData:l.func,rowIndex:l.number,columnIndex:l.number,columnData:l.object,active:l.bool,focus:l.bool,disabled:l.bool,stopEditing:l.func,insertRowBelow:l.func,duplicateRow:l.func,deleteRow:l.func,getContextMenuItems:l.func};fz.displayName="FreeProdTypePickerComponent";const ad=e=>{const{columnData:t,...n}=e,o=ii(),s=a.useMemo(()=>({...t,...o}),[o,t]);return r.jsx(fz,{columnData:s,...n})};ad.displayName="FreeProdTypePickerComponentContainer";ad.propTypes={columnData:l.object};const hz=a.memo(e=>{var s,i;const{anchor:t="right",...n}=e,o=a.useContext(Rl);return r.jsxs(Eo,{anchor:t,open:o.sideDrawerOpen,onClose:o.handleSideDrawerClose,...n,children:[r.jsx(pn,{label:"",children:(s=o.itemData)==null?void 0:s.WriteDate_N}),r.jsx(pn,{label:"",children:(i=o.itemData)==null?void 0:i.Writer_N})]})});hz.propTypes={anchor:l.string};hz.displayName="C04Drawer";const ys=a.memo(a.forwardRef((e,t)=>{const{children:n,header:o=!1,typoVariant:s,...i}=e;return r.jsx(j,{ref:t,item:!0,...i,children:r.jsx(nn,{variant:s||o?"subtitle2":"body2",children:n})})}));ys.propTypes={children:l.oneOfType([l.node,l.array]),typoVariant:l.string,header:l.bool};ys.displayName="OptionGridColumn";const U2=a.memo(a.forwardRef((e,t)=>{const{children:n,...o}=e;return r.jsx(ys,{ref:t,xs:24,sm:14,...o,children:n})}));U2.propTypes={children:l.oneOfType([l.node,l.array])};U2.displayName="POCheckerColumn";const q2=a.memo(a.forwardRef((e,t)=>{const{children:n,...o}=e;return r.jsx(ys,{ref:t,xs:24,sm:5,...o,children:n})}));q2.propTypes={children:l.oneOfType([l.node,l.array])};q2.displayName="PODateColumn";const V2=a.memo(a.forwardRef((e,t)=>{const{children:n,...o}=e;return r.jsx(ys,{ref:t,xs:24,sm:5,...o,children:n})}));V2.propTypes={children:l.oneOfType([l.node,l.array])};V2.displayName="POIdColumn";const Tf=a.memo(e=>{const{children:t,slotProps:n,bgColor:o,color:s,...i}=e;return r.jsx(jt,{sx:[c=>({borderBottom:"1px solid rgb(0,0,0,0.1)",position:"relative",backgroundColor:o??c.palette.primary.main,color:s??c.palette.getContrastText(o??c.palette.primary.main)})],...n==null?void 0:n.wrapper,children:r.jsx(jt,{px:2,children:r.jsx(j,{container:!0,columns:24,spacing:0,...i,children:t})})})});Tf.propTypes={children:l.oneOfType([l.node,l.array,l.func]),color:l.string,bgColor:l.string,slotProps:l.object};Tf.displayName="OptionPickerGridHeader";const gz=a.memo(()=>r.jsxs(Tf,{children:[r.jsx(V2,{header:!0,children:""}),r.jsx(q2,{header:!0,children:""}),r.jsx(U2,{header:!0,children:""})]}));gz.propTypes={sx:l.oneOfType([l.object,l.array])};gz.displayName="PurchaseOrderGridHeader";const bz=a.memo(a.forwardRef((e,t)=>{const{value:n}=e;return r.jsxs(j,{ref:t,container:!0,columns:24,spacing:2,children:[r.jsx(V2,{children:n.}),r.jsx(q2,{children:n.}),r.jsx(U2,{children:n.})]})}));bz.propTypes={value:l.object};bz.displayName="PurchaseOrderGridRow";const qTt=e=>{if(!e)return"";const{:t,:n,:o}=e;return t?`${t} ${n} ${o}`:"(?)"},VTt=(e,t)=>e.===t.,zTt=e=>e.,fL={getOptionLabel:qTt,isOptionEqualToValue:VTt,renderTagLabel:zTt},xz=e=>{const{label:t="",...n}=e,{token:o}=a.useContext(Be),s=Ue({name:"supplier"}),i=Ue({name:"FactData"}),c=a.useMemo(()=>{const d={tp:1e3,spi:s==null?void 0:s.FactID,spn:i};return Hr.stringify(d)},[s==null?void 0:s.FactID,i]),u=a.useMemo(()=>!s||!i,[s,i]);return r.jsx(bt,{label:t,bearer:o,url:"v1/purchase/restocks/purchase-orders",queryParam:"qs",querystring:c,getOptionLabel:fL.getOptionLabel,isOptionEqualToValue:fL.isOptionEqualToValue,renderTagLabel:fL.renderTagLabel,disabled:u,optionLabelSize:"md",GridHeaderComponent:gz,GridRowComponent:bz,notFoundText:" ${input} ",inputParam:"fz",clearOnChange:!0,...n})};xz.propTypes={label:l.string,children:l.node};xz.displayName="PurchaseOrderPicker";const z2=e=>{const{name:t="InAmt",...n}=e,o=Ue({name:t}),s=a.useMemo(()=>!isNaN(o)&&o!==""?parseFloat(o).toFixed(2):"0.00",[o]);return r.jsxs(ve,{inline:!0,sx:{fontWeight:700},children:["",r.jsx(nn,{color:"primary",...n,children:s})]})};z2.propTypes={name:l.string};z2.displayName="C04ProdGridSubtotalLabel";const HTt=()=>r.jsx(r.Fragment,{children:r.jsx(z2,{name:"InAmt"})}),yz=a.forwardRef((e,t)=>{const{...n}=e;return a.useContext(Rl).editing?!1:r.jsx(kn,{ref:t,RightComponent:HTt,...n})});yz.propTypes={};yz.displayName="C04ProdGridBottomToolbar";const VD=a.memo(e=>{const{children:t,sx:n=[],...o}=e;return r.jsx(ve,{sx:[s=>({"& > *":{gap:s.spacing(1),minHeight:"29px"}}),...Array.isArray(n)?n:[n]],...o,children:t})});VD.propTypes={sx:l.oneOfType([l.object,l.array]),children:l.oneOfType([l.node,l.array])};VD.displayName="DSGToolbar";const oi=e=>{const{label:t="(LabelName)",name:n="TxoAmt",delimiter:o="",sx:s=[],...i}=e,c=Ue({name:n}),u=a.useMemo(()=>!isNaN(c)&&c!==""?parseFloat(c).toFixed(2):"0.00",[c]),d=a.useMemo(()=>t?`${t}${o}`:"",[o,t]);return r.jsxs(ve,{inline:!0,sx:[()=>({fontWeight:700}),...Array.isArray(s)?s:[s]],children:[d,r.jsx(nn,{color:"primary",...i,children:u})]})};oi.propTypes={label:l.string,name:l.string,delimiter:l.string,sx:l.oneOfType([l.object,l.array])};oi.displayName="DSGToolbarLabel";const Dve=a.memo(()=>{const e=a.useContext(Rl),t=Ke();return r.jsxs(VD,{children:[r.jsx(oi,{label:"",name:"TaxAmt",sx:{minWidth:"9rem"}}),r.jsx(oi,{label:"",name:"TotAmt",sx:{minWidth:"9rem"}}),r.jsx($e,{typo:!0,slotProps:{label:{flex:!0,inline:!0,sx:{minWidth:"9rem"},labelProps:{variant:"body1"}}},inline:!0,dense:!0,name:"PaidAmt",label:"",type:"number",renderLabel:wo.formatPrice,sx:{width:"9rem"},onChange:e.handlePaidAmtChange({setValue:t.setValue,getValues:t.getValues})}),r.jsx(oi,{label:"",name:"PayAmt",sx:{minWidth:"9rem"}})]})});Dve.displayName="C04ProdGridToolbarLabels";const Cz=a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(kn,{ref:t,RightComponent:Dve,...n})});Cz.propTypes={};Cz.displayName="C04ProdGridBottomToolbar2";const GTt={button:"",unit:""},Aa=({translationKeys:e=GTt,hideNumberField:t=!1,hideButton:n=!1,RightComponent:o})=>({addRows:s})=>{const[i,c]=a.useState(1),[u,d]=a.useState(String(i));return r.jsxs("div",{className:"dsg-add-row",children:[!n&&r.jsx("button",{type:"button",className:"dsg-add-row-btn add-control",onClick:()=>s(i),children:e.button??""}),!t&&r.jsxs(r.Fragment,{children:[r.jsx("input",{className:"dsg-add-row-input add-control",value:u,onBlur:()=>d(String(i)),type:"number",min:1,onChange:p=>{d(p.target.value),c(Math.max(1,Math.round(parseInt(p.target.value)||0)))},onKeyDown:p=>{p.key==="Enter"&&s(i)}}),r.jsx("span",{className:"dsg-add-row-label add-control",children:e.unit??""})]}),o&&r.jsx(ve,{className:"dsg-add-row-right",flexGrow:1,justifyContent:"flex-end",children:o&&r.jsx(o,{})})]})},KTt=Aa({translationKeys:{button:"",unit:""},RightComponent:z2}),QTt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),Dz=a.memo(e=>{const{getRowKey:t,readOnly:n,gridRef:o,data:s,onChange:i,onActiveCellChange:c,getRowClassName:u,height:d=300,prodDisabled:p,spriceDisabled:m,getSPriceClassName:f,createRow:h}=e,g=a.useCallback(({rowData:y})=>({...y,Pkey:zn()}),[]),x=a.useCallback(({rowData:y})=>{console.log("deleteRow",y)},[]);return r.jsx(dr,{ref:o,rowKey:t,lockRows:n,height:d+(n?48:0),value:s,onChange:i,onActiveCellChange:c,addRowsComponent:KTt,disableExpandSelection:!0,contextMenuComponent:QTt,createRow:h,duplicateRow:g,rowClassName:u,deleteRow:x})});Dz.propTypes={getRowKey:l.func,spriceDisabled:l.func,prodDisabled:l.func,onChange:l.func,onActiveCellChange:l.func,getRowClassName:l.func,getSPriceClassName:l.func,readOnly:l.bool,height:l.number};Dz.displayName="C04ProdGrid";const Sve=e=>{const{...t}=e,n=a.useContext(Rl),o=a.useContext(Be),{height:s}=Wt(),i=Ke(),c=a.useContext(Lr),u=a.useMemo(()=>n.buildGridChangeHandler({getValues:i.getValues,setValue:i.setValue,gridMeta:c.gridMeta,onUpdateRow:n.onUpdateRow,onGridChanged:n.onGridChanged}),[n,i.getValues,i.setValue,c.gridMeta]),d=a.useMemo(()=>(n.editing,s-418),[n.editing,s]);return r.jsx(Kn.Provider,{value:{...n.grid,...c.gridMeta,readOnly:!n.editing},children:r.jsx(Dz,{gridRef:c.gridMeta.setGridRef,readOnly:c.readOnly,data:n.gridData,bearer:o.token,height:d,getRowKey:n.getRowKey,prodDisabled:n.prodDisabled,spriceDisabled:n.spriceDisabled,getSPriceClassName:n.getSPriceClassName,onChange:u,onActiveCellChange:c.gridMeta.handleActiveCellChange,createRow:n.createRow,...t})})};Sve.displayName="C04ProdGridContainer";const Sz=a.memo(e=>{const{onSubmit:t,readError:n,data:o,readWorking:s,itemDataReady:i,creating:c,editing:u,updating:d,handleSupplierChanged:p,handlePurchaseOrdersChanged:m,handleStkDateChanged:f,handleLoadProdsSubmit:h,handleTaxTypeChange:g,isSupplierNameDisabled:x,purchaseOrdersDisabled:y,supplierDisabled:D,supplierNameDisabled:v,slotProps:T,...I}=e;return r.jsxs("form",{onSubmit:t,children:[s&&r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",minHeight:"30em",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}),n&&r.jsx(lo,{error:n,...T==null?void 0:T.error}),i&&r.jsxs(Pt,{pt:u?1:0,children:[r.jsxs(j,{container:!0,columns:24,spacing:1,children:[!c&&r.jsx(j,{item:!0,xs:24,sm:24,md:4,children:r.jsx($e,{typo:!0,name:"GinID",label:"",autoFocus:!0,fullWidth:!0,readOnly:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:4.5,children:r.jsx(et,{typo:!0,name:"GinDate",label:"",autoFocus:!0,fullWidth:!0,required:!0,validate:!0,variant:"outlined"})}),r.jsx(j,{item:!0,xs:24,sm:24,md:4.5,children:r.jsx(Ar,{typo:!0,label:"",name:"employee",required:!0,rules:{required:""},virtualize:!0,disableOpenOnInput:!0,clearOnEscape:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:3.5,children:r.jsx(xa,{typo:!0,forId:!0,label:"",name:"supplier",required:!0,rules:{required:""},virtualize:!0,withAddr:!0,optionLabelSize:"md",onChanged:p,disableOpenOnInput:!0,clearOnEscape:!0,slotProps:{paper:{sx:{width:360}}},disabled:D})}),r.jsx(j,{item:!0,xs:24,sm:24,md:4.5,children:r.jsx($e,{typo:!0,name:"FactData",label:"",fullWidth:!0,required:!0,rules:{required:""},disabled:v})}),r.jsx(j,{item:!0,xs:24,sm:24,md:3,children:r.jsx($e,{typo:!0,name:"Uniform",label:"",fullWidth:!0})}),r.jsx(ve,{fullWidth:!0}),r.jsx(Ms,{item:!0,xs:4,sm:4,md:4.5,children:r.jsx(UD,{typo:!0,label:"",name:"TaxType",onChange:g})}),r.jsx(j,{item:!0,xs:24,sm:24,md:4,children:r.jsx($e,{typo:!0,name:"InvNo",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:7.5,children:r.jsx($e,{typo:!0,name:"FactAddr",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:8,children:r.jsx(xz,{typo:!0,multiple:!0,name:"purchaseOrders",label:"",onChanged:m,disabled:y,disableOpenOnInput:!0,slotProps:{paper:{sx:{width:480}},popper:{placement:"bottom"}}})})]}),r.jsx(jt,{py:1,children:r.jsx(Sve,{})}),r.jsx(yz,{pr:1}),r.jsx(Cz,{mb:1}),r.jsx(j,{container:!0,columns:24,children:r.jsx(j,{item:!0,xs:24,children:r.jsx($e,{typo:!0,name:"remark",multiline:!0,minRows:2,maxRows:5,label:"",fullWidth:!0})})})]})]})});Sz.propTypes={creating:l.bool,editing:l.bool,readWorking:l.bool,readError:l.object,data:l.object,itemDataReady:l.bool,purchaseOrdersDisabled:l.bool,handleStkDateChanged:l.func,slotProps:l.object};Sz.displayName="C04DialogForm";var nj={},zle;function YTt(){if(zle)return nj;zle=1;var e=Qn();Object.defineProperty(nj,"__esModule",{value:!0}),nj.default=void 0;var t=e(sr()),n=rr();return nj.default=(0,t.default)((0,n.jsx)("path",{d:"M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6m6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26"}),"Autorenew"),nj}var JTt=YTt();const Jb=qn(JTt),vz=a.memo(a.forwardRef((e,t)=>{const{onSave:n,onCancel:o,onRefresh:s,editWorking:i,refreshWorking:c,...u}=e;return r.jsxs(a.Fragment,{ref:t,...u,children:[s&&r.jsx(dt,{responsive:!0,onClick:s,type:"button",endIcon:r.jsx(Jb,{}),color:"info",variant:"contained",loading:c,children:""}),r.jsx(dt,{responsive:!0,onClick:o,color:"warning",variant:"outlined",...u,children:""}),r.jsx(dt,{responsive:!0,onClick:n,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:i,children:""})]})}));vz.displayName="C04DialogEditToolbar";vz.propTypes={onCancel:l.func,onSave:l.func,onRefresh:l.func,onLoadProds:l.func,refreshWorking:l.bool,editWorking:l.bool};const vve=e=>{const{...t}=e,n=Ke(),o=a.useContext(Rl),{canPrint:s}=o,i=n.handleSubmit(o.onPrintSubmit,o.onPrintSubmitError);return s?r.jsx(xn,{onSubmit:i,...t}):!1};vve.displayName="C04ExportButtonContainer";const jve=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,checkEditableWorking:o,onDelete:s,onPrint:i,onSideDrawerOpen:c,...u}=e;return r.jsxs(a.Fragment,{ref:t,...u,children:[i&&r.jsx(vve,{}),s&&r.jsx(dt,{responsive:!0,startIcon:r.jsx(im,{}),color:"secondary",onClick:s,children:""}),n&&r.jsx(dt,{responsive:!0,startIcon:r.jsx(bo,{}),color:"primary",onClick:n,loading:o,children:""}),r.jsx(jr,{title:"",children:r.jsx(br,{onClick:c,size:"small",children:r.jsx(Po,{})})})]})}));jve.propTypes={onEdit:l.func,onDelete:l.func,onPrint:l.func,onSideDrawerOpen:l.func,checkEditableWorking:l.bool};const Ive=e=>{const{...t}=e,n=a.useContext(Rl),o=Ke(),s=a.useMemo(()=>n.canDelete,[n.canDelete]),i=o.handleSubmit(n.onPrintSubmit,n.onPrintSubmitError);return n.itemDataReady?n.editing?r.jsx(vz,{onRefresh:n.handleRefresh({setValue:o.setValue,getValues:o.getValues}),refreshWorking:n.refreshWorking,onSave:o.handleSubmit(n.onEditorSubmit,n.onEditorSubmitError),editWorking:n.editWorking,onCancel:n.updating?n.confirmReturnReading:n.confirmQuitCreating,...t}):r.jsx(jve,{onEdit:n.canUpdate?n.handleCheckEditable:null,onDelete:s?n.confirmDelete:null,onPrint:n.canPrint?i:null,checkEditableWorking:n.checkEditableWorking,onSideDrawerOpen:n.handleSideDrawerOpen,...t}):!1};Ive.displayName="C04DialogToolbarContainer";const jz=a.forwardRef((e,t)=>{var F;const{...n}=e,{height:o}=Wt(),s=a.useMemo(()=>o-120,[o]),i=at({defaultValues:{prods:[]}}),{reset:c}=i;Ue({name:"GinID",control:i.control});const u=Ue({name:"supplier",control:i.control}),d=Ue({name:"GinDate",control:i.control});Ue({name:"purchaseOrders",control:i.control});const p=a.useContext(Rl),m=Qr({height:s,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),f=a.useMemo(()=>p.creating?"":p.updating?"":"",[p.creating,p.updating]),h=a.useMemo(()=>p.creating?p.confirmQuitCreating:p.updating?p.confirmQuitUpdating:p.reading?p.cancelAction:null,[p.cancelAction,p.confirmQuitCreating,p.confirmQuitUpdating,p.creating,p.reading,p.updating]),g=a.useCallback(()=>{p.editing&&i.handleSubmit(p.onEditorSubmit,p.onEditorSubmitError)()},[p.editing,p.onEditorSubmit,p.onEditorSubmitError,i]);$t(["Control+Enter"],()=>setTimeout(g),{enableOnFormTags:!0});const x=i.handleSubmit(p.onLoadProdsSubmit({setValue:i.setValue}),p.onLoadProdsSubmitError),y=a.useMemo(()=>!p.editing||!u||!d,[p.editing,d,u]),D=a.useMemo(()=>[{...Pe.keyColumn("prod",or(ls,{name:"prod",withStock:!0,packageType:"i",forId:!0,disableClearable:!0,slotProps:{paper:{sx:{width:360}}},focusOnDisabled:!0})),title:"",minWidth:130,maxWidth:150,disabled:y||p.prodDisabled},{...Pe.keyColumn("ProdData",kt({continuousUpdates:!1})),title:"",disabled:!0,grow:1.5},{...Pe.keyColumn("PackData_N",kt({continuousUpdates:!1})),title:"",minWidth:80,maxWidth:80,disabled:!0},{...Pe.keyColumn("SInqFlag",kt({continuousUpdates:!1})),minWidth:38,maxWidth:38,title:"",disabled:!0,cellClassName:"star"},{...Pe.keyColumn("SPrice",Jn(2)),title:"",minWidth:120,disabled:y||p.spriceDisabled,cellClassName:p.getSPriceClassName},{...Pe.keyColumn("stype",or(ad,{name:"stype",disableClearable:!0,disableOpenOnInput:!0,autoHighlight:!0,selectOnFocus:!0})),title:"",minWidth:70,maxWidth:70,disabled:y},{...Pe.keyColumn("SQty",Jn(2)),title:"",minWidth:90,disabled:y},{...Pe.keyColumn("SAmt",Jn(2)),title:"",minWidth:120,disabled:!0},{...Pe.keyColumn("SExpDate",mf),title:"",minWidth:110,maxWidth:110,disabled:y},{...Pe.keyColumn("ordId",kt({continuousUpdates:!1})),title:"",minWidth:120,maxWidth:120,disabled:!0},{...Pe.keyColumn("SOrdFlag_N",kt({continuousUpdates:!1})),minWidth:38,maxWidth:38,title:"",disabled:!0,cellClassName:"star"}],[p.getSPriceClassName,p.prodDisabled,p.spriceDisabled,y]),v=hr({data:p.grid.gridData,columns:D,skipDisabled:!0,lastCell:Xn.CREATE_ROW}),T=a.useMemo(()=>p.isSupplierNameDisabled(u),[p,u]),I=a.useMemo(()=>{var _;return!!((_=p.itemData)!=null&&_.GinID)||!u},[(F=p.itemData)==null?void 0:F.GinID,u]),P=a.useCallback(_=>{switch(_.name){case"supplier":return p.supplierDisabled;case"FactData":return T;case"purchaseOrders":return I;default:return!1}},[p.supplierDisabled,T,I]),E=a.useCallback(()=>{if(!d){ae.error(""),i.setFocus("GinDate");return}if(!u){ae.error(""),i.setFocus("supplier");return}v.setActiveCell({col:0,row:0})},[d,u,v,i]),k=vt(`
		GinDate,
		employee,
		supplier,
		FactData,
		Uniform,
		TaxType,
		InvNo,
		FactAddr,
		purchaseOrders
		`,{lastField:E}),w=Gr(d,1e3),A=a.useMemo(()=>p.isSupplierNameDisabled(u),[p,u]);return mn(()=>{p.editing&&p.refreshGrid({formData:i.getValues(),setValue:i.setValue})},[w],{debug:!0,tag:jz.displayName}),mn(()=>{p.itemDataReady&&(console.log("c04 form reset",p.itemData),c(p.itemData))},[p.itemData,p.itemDataReady,c]),r.jsx(Ye,{...i,children:r.jsxs(Er,{ref:t,title:f,responsive:!0,fullWidth:!0,maxWidth:"lg",TitleButtonsComponent:Ive,open:p.itemViewOpen,onClose:h,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[{minHeight:"30em",paddingTop:0},m.scroller],...n,children:[r.jsx(Ct,{...k,isFieldDisabled:P,gridMeta:v,readOnly:y,children:r.jsx(Sz,{onSubmit:g,creating:p.creating,editing:p.editing,updating:p.updating,readWorking:p.readWorking,readError:p.readError,data:p.itemData,itemDataReady:p.itemDataReady,handleSupplierChanged:p.handleSupplierChanged({setValue:i.setValue,getValues:i.getValues}),handleStkDateChanged:p.handleStkDateChanged({setValue:i.setValue,getValues:i.getValues}),handlePurchaseOrdersChanged:p.handlePurchaseOrdersChanged({setValue:i.setValue,getValues:i.getValues}),supplier:u,supplierNameDisabled:A,purchaseOrdersDisabled:I,handleLoadProdsSubmit:x,handleTaxTypeChange:p.handleTaxTypeChange({setValue:i.setValue,getValues:i.getValues}),supplierDisabled:p.supplierDisabled})}),r.jsx(hz,{BackdropProps:{sx:[ur.BACKDROP_TRANSPARENT]}})]})})});jz.displayName="C04DialogContainer";const Tve=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(Rl),s=a.useMemo(()=>"",[]);return r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(Ao,{}),onClick:o.promptCreating,sx:{fontWeight:600},...n,children:s})}));Tve.displayName="C04CreateButtonContainer";const Ove=()=>{const e=a.useContext(Rl);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};Ove.displayName="C04FetchResultLabelContainer";var rj={},Hle;function XTt(){if(Hle)return rj;Hle=1;var e=Qn();Object.defineProperty(rj,"__esModule",{value:!0}),rj.default=void 0;var t=e(sr()),n=rr();return rj.default=(0,t.default)((0,n.jsx)("path",{d:"M17 12h-5v5h5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1zm3 18H5V8h14z"}),"InsertInvitation"),rj}var ZTt=XTt();const zD=qn(ZTt),Eve=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(Rl);return r.jsxs(Qp,{variant:"contained",color:"neutral",size:"small",children:[r.jsx(hn,{ref:t,endIcon:r.jsx(zD,{}),onClick:o.onExpDialogOpen,className:"no-margin-right",sx:{fontWeight:600},...n,children:""}),o.expChecking&&r.jsx(fa,{className:"no-margin-right",color:"warning",onClick:o.cancelExpChecking,children:r.jsx(Cf,{fontSize:"small"})})]})}));Eve.displayName="C04ExpCheckingButtonContainer";const Pve=a.memo(()=>r.jsxs(r.Fragment,{children:[r.jsx(Tve,{}),r.jsx(Eve,{})]}));Pve.displayName="LeftButtons";const Iz=a.memo(a.forwardRef(({loading:e,...t},n)=>r.jsx(kn,{pl:0,alignItems:"flex-end",ref:n,LeftComponent:e?Cr:Pve,RightComponent:Ove,...t})));Iz.displayName="C04ListViewToolbar";Iz.propTypes={loading:l.bool};const LC=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:3,...t})};LC.propTypes={loading:l.bool,children:l.oneOfType([l.node])};LC.displayName="C04DateColumn";const $C=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:3,...t})};$C.propTypes={loading:l.bool,children:l.oneOfType([l.node])};$C.displayName="C04IdColumn";l.bool,l.oneOfType([l.node]);const H2=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:3,...t})};H2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};H2.displayName="C04UserColumn";l.bool,l.oneOfType([l.node]);const G2=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:2,...t})};G2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};G2.displayName="C04DeptIdColumn";const K2=e=>{const{expChecking:t,...n}=e;return r.jsx(wt,{pr:1,xs:t?4:6,...n})};K2.propTypes={loading:l.bool,expChecking:l.bool,children:l.oneOfType([l.node])};K2.displayName="C04DeptNameColumn";const Q2=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:2,...t})};Q2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};Q2.displayName="C04NumColumn";const Tz=a.memo(e=>{const{index:t,style:n,value:o,onClick:s,expChecking:i}=e;return r.jsx("div",{style:n,children:r.jsxs(yo,{borderBottom:!0,onClick:s,children:[r.jsx(na,{}),r.jsx(jt,{children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t}),r.jsx($C,{children:o==null?void 0:o.}),r.jsx(LC,{children:o==null?void 0:o.}),r.jsx(H2,{children:o==null?void 0:o.}),r.jsx(G2,{children:o==null?void 0:o.}),r.jsx(K2,{expChecking:i,children:o==null?void 0:o.}),i&&r.jsxs(r.Fragment,{children:[r.jsx($C,{children:o==null?void 0:o.}),r.jsx(Q2,{children:o==null?void 0:o.}),r.jsx(LC,{children:o==null?void 0:o.})]})]})})]})})});Tz.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,expChecking:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func,promptCopyAuth:l.func};Tz.displayName="C04ListRow";const Oz=e=>{const t=a.useContext(Rl),{isItemLoading:n}=t,{index:o,...s}=e,i=a.useMemo(()=>n(o),[o,n]),c=a.useMemo(()=>t.listData[o],[t.listData,o]);return r.jsx(No,{loading:i,children:r.jsx(Tz,{index:o,value:c,onClick:u=>t.handleSelect(u,c),expChecking:t.expChecking,...s})})};Oz.propTypes={index:l.number,data:l.object};Oz.displayName="C04ListRowContainer";const Rve=()=>{const e=a.useContext(Rl),{loadList:t}=e,n=Ke(),{height:o}=Wt();En(()=>{e.loadList({params:{}})},[]);const s=Ue({name:"lvOrder",control:n.control}),i=Yn(s,300),c=Ue({name:"lvRstDate",contorl:n.control}),u=Yn(c,300),d=Ue({name:"lvEmployee",contorl:n.control}),p=Yn(d,300),m=Ue({name:"lvSupplier",contorl:n.control}),f=Yn(m,300);mn(()=>{var g;t({params:{...i&&{q:i==null?void 0:i.},...e.expProd&&{pd:(g=e.expProd)==null?void 0:g.ProdID},...e.expDate&&{ed:Re.formatDate(e.expDate)},...Fc.transformAsQueryParams({rstDate:u,employee:p,supplier:f})},supressLoading:!0})},[i,e.expProd,e.expDate,u,p,f]);const h=a.useMemo(()=>o?o-200:300,[o]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:Oz,height:h,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};Rve.displayName="C04ListViewContainer";const eOt=e=>{if(!e)return"";const{:t}=e;return t?`${t}`:"(?)"},tOt=(e,t)=>e.===t.,nOt=e=>e.,hL={getOptionLabel:eOt,isOptionEqualToValue:tOt,renderOptionLabel:nOt},Ez=a.memo(e=>{const{label:t="",...n}=e,{token:o}=a.useContext(Be),s=a.useMemo(()=>{const i={tp:1e4,opts:1};return Hr.stringify(i)},[]);return r.jsx(bt,{label:t,url:"v1/purchase/dep-orders",bearer:o,queryParam:"qs",querystring:s,getOptionLabel:hL.getOptionLabel,isOptionEqualToValue:hL.isOptionEqualToValue,renderOptionLabel:hL.renderOptionLabel,notFoundText:" ${input} ",placeholder:"",typeToSearchText:"...",inputParam:"fz",...n})});Ez.propTypes={label:l.string};Ez.displayName="DeptOrderPicker";const rOt=e=>{if(!e)return"";const{:t}=e;return t?`${t}`:"(?)"},oOt=(e,t)=>e.===t.,sOt=e=>e.,gL={getOptionLabel:rOt,isOptionEqualToValue:oOt,renderOptionLabel:sOt},Pz=a.memo(e=>{const{label:t="",...n}=e,{token:o}=a.useContext(Be),s=a.useMemo(()=>{const i={tp:1e4,opts:1};return Hr.stringify(i)},[]);return r.jsx(bt,{label:t,url:"v1/purchase/restocks",bearer:o,queryParam:"qs",querystring:s,getOptionLabel:gL.getOptionLabel,isOptionEqualToValue:gL.isOptionEqualToValue,renderOptionLabel:gL.renderOptionLabel,notFoundText:" ${input} ",placeholder:"",typeToSearchText:"...",inputParam:"fz",...n})});Pz.propTypes={label:l.string};Pz.displayName="RestockOrderPicker";const Rz=a.memo(e=>{const{...t}=e;return r.jsx(Pt,{children:r.jsxs(Vt,{container:!0,spacing:1,columns:24,children:[r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(Pz,{label:"",name:"lvOrder",autoFocus:!0,placeholder:"",disableOpenOnInput:!0})}),r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(et,{name:"lvRstDate",label:"()",clearable:!0})}),r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(Ar,{name:"lvEmployee",label:"",disableOpenOnInput:!0})}),r.jsx(Vt,{item:!0,md:6,lg:5,children:r.jsx(xa,{name:"lvSupplier",label:"",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}}})})]})})});Rz.propTypes={};Rz.displayName="C04SearchForm";const wve=e=>{const{...t}=e,n=vt(`
		lvOrder,
		lvRstDate,
		lvEmployee,
		lvSupplier,
		`);return r.jsx(Ct,{...n,children:r.jsx(Rz,{...t})})};wve.displayName="C04SearchFormContainer";const wz=a.memo(e=>{const{onSubmit:t}=e;return r.jsx("form",{onSubmit:t,children:r.jsx(Pt,{pt:1,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,children:r.jsx(fn,{name:"expProd",autoFocus:!0,label:"",required:!0,triggerDelay:100,rules:{required:""},disableOpenOnInput:!0,virtualize:!0})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(et,{label:"",name:"expDate",validate:!0})})]})})})});wz.propTypes={onSubmit:l.func};wz.displayName="C04ExpDialogForm";const kve=a.forwardRef((e,t)=>{const{...n}=e,o=at({defaultValues:{}}),s=a.useContext(Rl),i=o.handleSubmit(s.onExpSubmit,s.onExpSubmitError),c=a.useCallback(()=>{i()},[i]),u=vt(`
		expProd,
		expDate
		`,{lastField:c});return mn(()=>{open&&o.reset({expProd:s.expProd,expDate:s.expDate})},[open,s.expProd,s.expDate]),r.jsx(Ye,{...o,children:r.jsx(Er,{ref:t,title:"",responsive:!0,fullWidth:!0,maxWidth:"xs",open:s.expPrompting,onClose:s.onExpDialogClose,onSubmit:i,confirmText:"",onCancel:s.onExpDialogClose,children:r.jsx(Ct,{...u,children:r.jsx(wz,{onSubmit:i})})})})});kve.displayName="C04ExpDialogContainer";const kz=a.memo(a.forwardRef((e,t)=>{const{expChecking:n,...o}=e;return r.jsxs(io,{ref:t,...o,children:[r.jsx(Hn,{}),r.jsx($C,{children:""}),r.jsx(LC,{children:""}),r.jsx(H2,{children:""}),r.jsx(G2,{children:""}),r.jsx(K2,{expChecking:n,children:""}),n&&r.jsxs(r.Fragment,{children:[r.jsx($C,{children:""}),r.jsx(Q2,{children:""}),r.jsx(LC,{children:""})]})]})}));kz.propTypes={expChecking:l.bool};kz.displayName="C04ListHeader";const Ave=e=>{const{...t}=e,n=a.useContext(Rl);return r.jsx(kz,{expChecking:n.expChecking,...t})};Ave.displayName="C04ListHeaderContainer";const Nve=()=>{const e=at({defaultValues:{}});return r.jsxs(Ft,{children:[r.jsxs(Ye,{...e,children:[r.jsx(_t,{}),r.jsxs(li,{initSize:"md",children:[r.jsx(wve,{}),r.jsx(Iz,{}),r.jsx(Ave,{}),r.jsx(Rve,{})]})]}),r.jsx(jz,{}),r.jsx(kve,{})]})};Nve.displayName="C04FrameContainer";const wI=Object.freeze({NONE:"",MARK_AS_SQUARED:"Y",SQUARED:"*"}),Az=[{id:wI.NONE,label:""},{id:wI.MARK_AS_SQUARED,label:""},{id:wI.SQUARED,label:""}],aOt=e=>{if(!e)return"";const{id:t,label:n}=e;return`[${t||"  "}] ${n}`},Fve=e=>Az.find(t=>t.id===e),iOt=e=>Az.find(t=>{var n;return((n=t.id)==null?void 0:n.toLowerCase())===(e==null?void 0:e.toLowerCase())}),lOt=e=>e.id===wI.SQUARED,nB=Object.freeze({NOT_REVIEWED:1,REVIEWED:2}),Mve=[{id:nB.NOT_REVIEWED,label:""},{id:nB.REVIEWED,label:""}],cOt=e=>{if(!e)return"";const{label:t}=e;return`${t}`},uOt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),dOt=e=>Mve.find(t=>t.id===e),_ve=e=>(e==null?void 0:e.map(({SProdID:t,ProdData_N:n,...o})=>({prod:{ProdID:t,ProdData:n},ProdData:n,...o})))||[],Lve=e=>e.filter(t=>t.prod).map(({Pkey:t,prod:n,SQty:o,SAmt:s,SNotQty:i,SPrice:c,SInQty:u,...d},p)=>({Pkey:(t==null?void 0:t.length)<36?"":t,SProdID:(n==null?void 0:n.ProdID)||"",ProdData:(n==null?void 0:n.ProdData)||"",SQty:(o==null?void 0:o.toString())||"",SAmt:(s==null?void 0:s.toString())||"",SNotQty:(i==null?void 0:i.toString())||"",SPrice:(c==null?void 0:c.toString())||"",SInQty:(u==null?void 0:u.toString())||"",...d,Seq:p+1})),pOt=e=>{const{OrdDate:t,ArrDate:n,EmplID:o,EmplData_N:s,FactID:i,FactData:c,GdsOrd_S:u,Remark:d,CFlag:p,...m}=e;return{OrdDate:Re.parseDate(t),ArrDate:Re.parseDate(n),employee:{CodeID:o,CodeData:s},supplier:i?{FactID:i,FactData:c}:null,FactData:c,squared:Fve(p),prods:_ve(u),remark:d.join(`
`),...m}},mOt=(e,t)=>{const{OrdID:n,OrdDate:o,ArrDate:s,employee:i,supplier:c,FactData:u,squared:d,remark:p,...m}=e;return{OrdID:n,OrdDate:Re.formatDate(o),ArrDate:Re.formatDate(s),FactID:(c==null?void 0:c.FactID)||"",FactData:u,EmplID:(i==null?void 0:i.CodeID)||"",CFlag:(d==null?void 0:d.id)||"",Remark:(p==null?void 0:p.split(`
`))||[],...t&&{GdsOrd_S:Lve(t)},...m}},fOt=e=>{const{squared:t,employee:n,ordDate:o,arrDate:s,supplier:i,order:c,reviewState:u,...d}=e;return{...d,...c&&{id:c==null?void 0:c.},...n&&{ep:n.CodeID},...o&&{od:Re.formatDate(o)},...s&&{ad:Re.formatDate(s)},...u&&{ck:u.id},...i&&{spl:i==null?void 0:i.FactID},...t&&{sq:t.id}}},hOt=e=>{let t=0;for(const n of e){const o=Number(n.SAmt);console.log("rowSubtotal",o),isNaN(o)||(t+=o)}return console.log("subtotal:",t),t},ri={transformForReading:pOt,transformForSubmitting:mOt,transformAsQueryParams:fOt,transformGridForReading:_ve,transformGridForSubmitting:Lve,ReviewStates:nB,options:Mve,getOptionLabel:cOt,isOptionEqualToValue:uOt,getOptionById:dOt,getSubtotal:hOt,SquaredState:wI,squaredOptions:Az,getSquaredOptionLabel:aOt,getSquaredOptionById:Fve,getSquaredOptionDisabled:lOt,findSquaredOptionByInput:iOt},gOt=()=>{var Se,be,Me,we,Ge;const e=a.useContext(cr),{itemData:t}=e,n=a.useRef(),{token:o,operator:s}=a.useContext(Be),i=a.useContext(ln),c=Bt({moduleId:"C03"}),u=Co(),{httpGetAsync:d,httpPostAsync:p,httpPutAsync:m,httpDeleteAsync:f,httpPatchAsync:h}=Zn(),g=a.useContext(Mr),x=so({url:"v1/purchase/orders",bearer:o,initialFetchSize:50}),y=a.useCallback(()=>({Pkey:zn(),prod:null,SOrdQty:null,SQty:"",SPrice:"",SAmt:"",SInqFlag:"",SFactID:"",SFactNa:"",SOrdID:"*",SInQty:"",SNotQty:""}),[]),D=yr({gridId:"prods",keyColumn:"Pkey",createRow:y}),v=a.useCallback(({rowData:We})=>!!(t!=null&&t.GinID_N),[t==null?void 0:t.GinID_N]),T=a.useCallback(({rowData:We})=>!!(t!=null&&t.GinID_N)||We.SInqFlag==="*",[t==null?void 0:t.GinID_N]),I=a.useCallback(({rowData:We})=>!!(t!=null&&t.GinID_N),[t==null?void 0:t.GinID_N]),P=a.useCallback(({rowData:We})=>!(t!=null&&t.GinID_N),[t==null?void 0:t.GinID_N]),E=a.useMemo(()=>!!(t!=null&&t.GinID_N)||!!(t!=null&&t.RqtID_N),[t==null?void 0:t.GinID_N,t==null?void 0:t.RqtID_N]),k=a.useCallback(We=>E||(We==null?void 0:We.FactID)!=="*",[E]),w=a.useMemo(()=>(t==null?void 0:t.CFlag)==="*",[t==null?void 0:t.CFlag]),[A,F]=a.useState(),_=a.useRef(),L=a.useCallback(()=>_.current,[]),K=a.useCallback(We=>{_.current={..._.current,...We},console.log("prevData",L())},[L]),z=a.useCallback(()=>{const We=new Date,Ee={OrdDate:We,ArrDate:Yu(We,7),squared:ri.getSquaredOptionById(ri.SquaredState.NONE),prods:[]};e.promptCreating({data:Ee}),D.initGridData(Ee.prods,{fillRows:!0})},[e,D]),J=a.useCallback(async({data:We})=>{try{e.startCreating();const{status:Ee,error:Xe}=await p({url:"v1/purchase/orders",data:We,bearer:o});if(Ee.success)ae.success(""),e.finishedCreating(),e.cancelReading(),x.loadList({refresh:!0});else throw Xe??new Error("")}catch(Ee){e.failedCreating(),console.error("handleCreate.failed",Ee),ae.error("",Ee)}},[e,p,x,o]),Q=a.useCallback(async({id:We,refresh:Ee=!1}={})=>{try{const Xe=Ee?n.current:We;Ee||(n.current=We,e.startReading("...",{id:We}));const{status:ot,payload:ze,error:tt}=await d({url:"v1/purchase/orders",bearer:o,params:{id:Xe}});if(ot.success){const ft=ri.transformForReading(ze.data[0]);e.finishedReading({data:ft}),K({supplier:ft==null?void 0:ft.supplier,ordDate:ft==null?void 0:ft.OrdDate}),D.initGridData(ft.prods)}else throw tt??new Error("")}catch(Xe){e.failedReading(Xe)}},[e,d,D,K,o]),V=a.useCallback(async We=>{F({RqtID:We}),Q({id:We})},[Q]),W=a.useCallback(async(We,Ee)=>{We==null||We.stopPropagation(),e.cancelAction(),Q({id:Ee.})},[e,Q]),U=a.useCallback(()=>{g.confirm({message:"?",onConfirm:()=>{e.cancelAction()}})},[e,g]),X=a.useCallback(()=>{g.confirm({message:"?",onConfirm:()=>{e.cancelAction()}})},[e,g]),te=a.useCallback(()=>{g.confirm({message:"?",onConfirm:()=>{e.cancelUpdating(),Q({refresh:!0})}})},[e,g,Q]),se=a.useCallback(async({data:We})=>{try{e.startUpdating();const{status:Ee,error:Xe}=await m({url:"v1/purchase/orders",data:We,bearer:o});if(Ee.success)ae.success(""),e.finishedUpdating(),Q({refresh:!0}),x.loadList({refresh:!0});else throw Xe??new Error("")}catch(Ee){e.failedUpdating(),console.error("handleCreate.failed",Ee),ae.error("",Ee)}},[e,m,x,Q,o]),he=a.useCallback(()=>{g.confirm({message:`${t==null?void 0:t.OrdID}?`,onConfirm:async()=>{try{e.startDeleting(t);const{status:We,error:Ee}=await f({url:"v1/purchase/orders",bearer:o,params:{id:t==null?void 0:t.OrdID}});if(We.success)e.cancelAction(),ae.success(` ${t==null?void 0:t.OrdID}`),x.loadList({refresh:!0});else throw Ee||""}catch(We){e.failedDeleting(We),console.error("confirmDelete.failed",We),ae.error("",We)}}})},[e,g,f,t,x,o]),pe=a.useCallback(We=>{console.log("onSearchSubmit",We)},[]),ue=a.useCallback(We=>{console.error("onSearchSubmitError",We)},[]),ge=a.useCallback(({rowData:We,rowIndex:Ee})=>`${(We==null?void 0:We.Pkey)||Ee}`,[]),Ce=a.useCallback(({setValue:We,handleSubmit:Ee,getValues:Xe})=>ot=>{console.log("supplier changed",ot),We("FactData",(ot==null?void 0:ot.FactData)||"");const ze=Xe("OrdDate");console.log("OrdDate",ze),ot&&ot.FactID!=="*"&&D.gridData.filter(tt=>tt.prod).length>0&&rf(ze)&&dR(ze)>1911?Ee():ot&&D.initGridData(D.gridData.map(tt=>({...tt,SInqFlag:"",SPrice:null})))},[D]),Te=a.useCallback(({handleSubmit:We,getValues:Ee,setValue:Xe})=>ot=>{const ze=Ee("supplier");console.log("ordDate changed",ot),ot&&rf(ot)?Xe("ArrDate",Yu(ot,7)):Xe("ArrDate",null),ze&&ze.FactID!=="*"&&D.gridData.length>0&&rf(ot)&&dR(ot)>1911?We():D.initGridData(D.gridData.map(tt=>({...tt,SInqFlag:"",SPrice:null})))},[D]),Ne=a.useCallback(async(We,{formData:Ee})=>{var ze;if(!We){ae.error("",{position:"top-right"});return}const Xe=(ze=Ee.supplier)==null?void 0:ze.FactID;if(!Xe){ae.error("",{position:"top-right"});return}const ot=Ee==null?void 0:Ee.OrdDate;if(!gf(ot)){ae.error("",{position:"top-right"});return}try{const{status:tt,payload:ft,error:ht}=await d({url:"v1/purchase/orders/prod-info",bearer:o,params:{pd:We,spl:Xe,od:Re.formatDate(ot)}});if(tt.success)return ft;throw ht??new Error("")}catch(tt){ae.error("",tt)}},[d,o]),xe=a.useCallback(async({rowData:We,formData:Ee})=>{var ot,ze,tt;const Xe=We!=null&&We.prod?await Ne((ot=We==null?void 0:We.prod)==null?void 0:ot.ProdID,{formData:Ee}):null;return{...We,ProdData:((ze=We.prod)==null?void 0:ze.ProdData)||"",PackData_N:((tt=We==null?void 0:We.prod)==null?void 0:tt.PackData_N)||"",SInqFlag:(Xe==null?void 0:Xe.SInqFlag)||"",SPrice:(Xe==null?void 0:Xe.SPrice)||"",SQty:"",SNotQty:"",SAmt:""}},[Ne]),me=a.useCallback(({key:We,rowData:Ee})=>!v({rowData:Ee}),[v]),de=a.useCallback(({fromRowIndex:We,formData:Ee,updateResult:Xe})=>async(ot,ze)=>{var en,un;const tt=We+ze,ft=D.gridData[tt];console.log(` ${tt} ...`,ot);let ht={...ot};if(((en=ht.prod)==null?void 0:en.ProdID)!==((un=ft.prod)==null?void 0:un.ProdID)&&(ht=await xe({rowData:ht,formData:Ee})),ht.SQty!==ft.SQty||ht.SPrice!==ft.SPrice){const Je=!ht.SPrice||!ht.SQty?"":ht.SPrice*ot.SQty;ht={...ht,SAmt:Je},console.log("SAmt",Je),Xe.rows++}return ht.SQty!==ft.SQty&&(ht={...ht,SNotQty:ht.SQty}),ot.SNotQty!==ft.SNotQty&&(ht={...ht,SNotQty:ot.SNotQty===0?0:ot.SQty-ot.SInQty}),ht},[D.gridData,xe]),ce=a.useCallback(({setValue:We,gridData:Ee})=>{const Xe=ri.getSubtotal(Ee);We("OrdAmt_N",Xe.toFixed(2))},[]),ee=a.useCallback(({gridData:We,formData:Ee,setValue:Xe,updateResult:ot})=>{ce({setValue:Xe,gridData:We})},[ce]),De=a.useCallback(We=>{console.log("onEditorSubmit",We);const Ee=ri.transformForSubmitting(We,D.gridData);console.log("collected",Ee),e.creating?J({data:Ee}):e.updating?se({data:Ee}):console.error("UNKNOWN SUBMIT TYPE")},[e.creating,e.updating,J,se,D.gridData]),ke=a.useCallback(We=>{console.error("onEditorSubmitError",We),ae.error(", ")},[]),He=a.useCallback(()=>{var We;return x.getIndexById({id:(We=e.itemData)==null?void 0:We.OrdID,key:""})},[(Se=e.itemData)==null?void 0:Se.OrdID,x]),qe=Or(),Le=a.useMemo(()=>!!qe.state,[qe.state]),_e=a.useCallback(async({value:We})=>{var Xe,ot,ze;console.log("handleReview",We);const Ee=x.findNextId({id:(Xe=e.itemData)==null?void 0:Xe.OrdID,key:"",reverse:!0});console.log("nextId",Ee);try{qe.start();const{status:tt,error:ft}=await h({url:"v1/purchase/orders/reviewed",data:{OrdID:(ot=e.itemData)==null?void 0:ot.OrdID,Checker:2},bearer:o});if(tt.success)qe.clear(),e.cancelAction(),Ee&&V(Ee),x.loadList({refresh:!0}),ae.success(`${(ze=e.itemData)==null?void 0:ze.OrdID}`);else throw ft||new Error("")}catch(tt){qe.fail({error:tt}),ae.error("",tt)}},[e,h,x,qe,V,o]),H=a.useCallback(()=>{var We;g.confirm({title:"",message:`${(We=e.itemData)==null?void 0:We.OrdID}?`,onConfirm:_e,confirmText:"",working:Le})},[(be=e.itemData)==null?void 0:be.OrdID,g,_e,Le]),re=a.useCallback(()=>{qe.cancel()},[qe]),q=Or(),Y=a.useCallback(async We=>{var Ee,Xe;console.log("handleReject",We);try{q.start();const{status:ot,error:ze}=await h({url:"v1/purchase/orders/reviewed",data:{OrdID:(Ee=e.itemData)==null?void 0:Ee.OrdID,Checker:1},bearer:o});if(ot.success)q.clear(),Q({refresh:!0}),x.loadList({refresh:!0}),ae.success(`${(Xe=e.itemData)==null?void 0:Xe.OrdID}`);else throw ze||new Error("")}catch(ot){ae.error("",ot)}},[(Me=e.itemData)==null?void 0:Me.OrdID,h,x,Q,q,o]),ie=a.useCallback(()=>{var We;g.confirm({title:"",message:`${(We=e.itemData)==null?void 0:We.OrdID}?`,onConfirm:Y,confirmText:"",working:q.working})},[(we=e.itemData)==null?void 0:we.OrdID,g,Y,q.working]),B=a.useMemo(()=>`${i.REPORT_URL}/WebC03Rep.aspx`,[i.REPORT_URL]),Z=yn(),ye=a.useCallback(We=>{var Xe;console.log("onPrintSubmit",We);const Ee={...We.outputType&&{Action:We.outputType.id},DeptID:s==null?void 0:s.CurDeptID,JobName:"C03",IDs:(Xe=e.itemData)==null?void 0:Xe.OrdID};console.log("data",Ee),Z.open(B,Ee)},[(Ge=e.itemData)==null?void 0:Ge.OrdID,s==null?void 0:s.CurDeptID,B,Z]),Ie=a.useCallback(We=>{console.error("onPrintSubmitError",We)},[]),le=a.useCallback(({setValue:We})=>Ee=>{console.log("handlePrint",Ee),We("outputType",Ee)},[]),fe=a.useCallback(({setValue:We})=>async Ee=>{console.log("onRefreshGridSubmit",Ee);try{const Xe=ri.transformForSubmitting(Ee,D.gridData);console.log("collected",Xe);const{status:ot,payload:ze,error:tt}=await p({url:"v1/purchase/orders/refresh-grid",bearer:o,data:Xe});if(console.log("refresh-grid.payload",ze),ot.success){const ft=ri.transformForReading(ze.data[0]);console.log("data.prods",ft.prods),D.initGridData(ft.prods,{fillRows:e.creating}),ae.info(""),We("OrdAmt_N",ft.OrdAmt_N),K({supplier:ft==null?void 0:ft.supplier,OrdDate:ft==null?void 0:ft.OrdDate})}else throw tt??new Error("")}catch(Xe){console.error("onRefreshGridSubmit failed",Xe),ae.error("",Xe);const ot=L();We("supplier",ot==null?void 0:ot.supplier),We("OrdDate",ot==null?void 0:ot.OrdDate)}},[D,p,o,e.creating,K,L]),Ae=a.useCallback(We=>{console.error("onRefreshGridSubmitError",We)},[]);return{...e,...x,...c,loadItem:Q,handleSelect:W,onSearchSubmit:pe,onSearchSubmitError:ue,confirmQuitCreating:U,confirmQuitUpdating:X,confirmReturnReading:te,confirmDelete:he,promptCreating:z,onEditorSubmit:De,onEditorSubmitError:ke,supplierChangedHandler:Ce,buildOrdDateChangeHandler:Te,createRow:y,...D,grid:D,getRowKey:ge,prodDisabled:v,spriceDisabled:T,sqtyDisabled:I,sNotQtyDisabled:P,isSupplierNameDisabled:k,supplierPickerDisabled:E,squaredFlagDisabled:w,reviewing:Le,handleReview:_e,promptReview:H,cancelReview:re,getCurrentIndex:He,handleReject:Y,promptReject:ie,onPrintSubmit:ye,onPrintSubmitError:Ie,onRefreshGridSubmit:fe,onRefreshGridSubmitError:Ae,selectById:V,selectedItem:A,...u,onGridChanged:ee,onUpdateRow:de,isRowDeletable:me,handlePrint:le}},id=a.createContext(),$ve=({children:e})=>{const t=gOt();return r.jsx(id.Provider,{value:{...t},children:e})};$ve.propTypes={children:l.oneOfType([l.array,l.object])};const Nz=a.memo(e=>{var s,i,c,u,d;const{anchor:t="right",...n}=e,o=a.useContext(id);return r.jsxs(Eo,{anchor:t,open:o.sideDrawerOpen,onClose:o.handleSideDrawerClose,...n,children:[r.jsx(pn,{label:"",children:(s=o.itemData)==null?void 0:s.WriteDate_N}),r.jsx(pn,{label:"",children:(i=o.itemData)==null?void 0:i.Writer_N}),r.jsx(pn,{label:"",children:(c=o.itemData)==null?void 0:c.GinID_N}),r.jsx(pn,{label:"",children:(u=o.itemData)==null?void 0:u.RqtID_N}),r.jsx(pn,{label:"",children:(d=o.itemData)==null?void 0:d.Checker_N})]})});Nz.propTypes={anchor:l.string};Nz.displayName="C03Drawer";const Fz=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(bt,{ref:t,fullWidth:!0,disableClearable:!0,label:"",options:ri.squaredOptions,getOptionLabel:ri.getSquaredOptionLabel,isOptionEqualToValue:ri.isOptionEqualToValue,getOptionDisabled:ri.getSquaredOptionDisabled,findByInput:ri.findSquaredOptionByInput,notFoundText:" ${input} ",emptyId:!0,...n})}));Fz.propTypes={label:l.string,children:l.node};Fz.displayName="C03SquaredPicker";const Mz=e=>{const{name:t,label:n="",...o}=e,s=Ue({name:t}),i=a.useMemo(()=>{console.log("value",s);const u=s?s==null?void 0:s.split(""):[];return console.log("result",u),console.log("result.length",u.length),u},[s]),c=a.useMemo(()=>i.join(""),[i]);return r.jsx(pn,{label:n,title:c,arrow:!0,...o,children:i.length>0?`${i.length} `:""})};Mz.propTypes={name:l.string.isRequired,label:l.string};Mz.displayName="C03DialogRstLabel";const Y2=e=>{const{name:t="OrdAmt_N",...n}=e,o=Ue({name:t}),s=a.useMemo(()=>!isNaN(o)&&o!==""?parseFloat(o).toFixed(2):"0.00",[o]);return r.jsxs(ve,{inline:!0,sx:{fontWeight:700},children:["",r.jsx(nn,{color:"primary",...n,children:s})]})};Y2.propTypes={name:l.string};Y2.displayName="C03ProdGridSubtotalLabel";const bOt=()=>r.jsxs(r.Fragment,{children:[r.jsx(Y2,{name:"OrdAmt_N"}),r.jsx(ve,{minWidth:"10px"})]}),_z=a.forwardRef((e,t)=>{const{...n}=e;return a.useContext(Lr).readOnly?r.jsx(kn,{ref:t,RightComponent:bOt,...n}):!1});_z.propTypes={};_z.displayName="C03ProdGridBottomToolbar";const xOt=Aa({translationKeys:{button:"",unit:""},RightComponent:Y2}),yOt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),Lz=a.memo(e=>{const{getRowKey:t,readOnly:n,gridRef:o,data:s,onChange:i,getRowClassName:c,height:u=300,prodDisabled:d,spriceDisabled:p,sqtyDisabled:m,sNotQtyDisabled:f,rqtQtyDisabled:h,supplierNameDisabled:g,createRow:x,...y}=e,D=a.useCallback(({rowData:T})=>({...T,Pkey:zn()}),[]),v=a.useCallback(({rowData:T})=>{console.log("deleteRow",T)},[]);return r.jsx(dr,{ref:o,rowKey:t,lockRows:n,height:u,value:s,onChange:i,addRowsComponent:xOt,disableExpandSelection:!0,contextMenuComponent:yOt,createRow:x,duplicateRow:D,rowClassName:c,deleteRow:v,...y})});Lz.propTypes={getRowKey:l.func,spriceDisabled:l.func,sqtyDisabled:l.func,sNotQtyDisabled:l.func};Lz.displayName="C03ProdGrid";const Bve=e=>{const{...t}=e,n=a.useContext(id),o=a.useContext(Be),{height:s}=Wt(),i=Ke(),c=a.useContext(Lr),u=a.useMemo(()=>n.buildGridChangeHandler({getValues:i.getValues,setValue:i.setValue,gridMeta:c.gridMeta,onUpdateRow:n.onUpdateRow,isRowDeletable:n.isRowDeletable,onGridChanged:n.onGridChanged}),[n,i.getValues,i.setValue,c.gridMeta]),d=a.useMemo(()=>n.editing?s-374:s-408,[n.editing,s]);return r.jsx(Kn.Provider,{value:{...n.grid,...c.gridMeta,readOnly:c.readOnly},children:r.jsx(Lz,{gridRef:c.gridMeta.setGridRef,readOnly:c.readOnly,data:n.gridData||[],bearer:o.token,height:d,getRowKey:n.getRowKey,spriceDisabled:n.spriceDisabled,sqtyDisabled:n.sqtyDisabled,prodDisabled:n.prodDisabled,onChange:u,onActiveCellChange:c.gridMeta.handleActiveCellChange,createRow:n.createRow,...t})})};Bve.displayName="C03ProdGridContainer";const $z=a.memo(e=>{const{handleSupplierChanged:t,handleOrdDateChanged:n,onSubmit:o,readError:s,readWorking:i,itemDataReady:c,supplierPickerDisabled:u,supplierNameDisabled:d,squaredFlagDisabled:p,creating:m,editing:f,slotProps:h}=e;return r.jsxs(r.Fragment,{children:[i&&r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",minHeight:"30em",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}),s&&r.jsx(lo,{error:s,...h==null?void 0:h.error}),c&&r.jsxs(Pt,{pt:1,children:[r.jsxs(j,{container:!0,columns:24,spacing:f?1:0,children:[!m&&r.jsx(j,{item:!0,xs:24,sm:24,md:4,children:r.jsx($e,{typo:!0,name:"OrdID",label:"",fullWidth:!0,readOnly:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:4.5,children:r.jsx(Ar,{typo:!0,autoFocus:!0,label:"",name:"employee",required:!0,rules:{required:""},virtualize:!0,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:3.5,children:r.jsx(Fz,{typo:!0,name:"squared",label:"",disabled:p,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:5,children:r.jsx(et,{typo:!0,name:"OrdDate",label:"",fullWidth:!0,required:!0,validate:!0,variant:"outlined",onChanged:n})}),r.jsx(j,{item:!0,xs:24,sm:24,md:5,children:r.jsx(et,{typo:!0,name:"ArrDate",label:"",fullWidth:!0,required:!0,validate:!0,variant:"outlined"})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:24,sm:24,md:4,children:r.jsx(xa,{forId:!0,typo:!0,label:"",name:"supplier",required:!0,rules:{required:""},disabled:u,virtualize:!0,optionLabelSize:"md",onChanged:t,disableOpenOnInput:!0,slotProps:{paper:{sx:{width:360}}}})}),r.jsx(j,{item:!0,xs:24,sm:24,md:8,children:r.jsx($e,{typo:!0,name:"FactData",label:"",fullWidth:!0,required:!0,rules:{required:""},disabled:d})}),r.jsx(j,{item:!0,xs:24,md:4,children:r.jsx(Mz,{name:"GinID_N",label:""})}),r.jsx(j,{item:!0,xs:24,md:8,children:r.jsx(pn,{name:"RqtID_N",label:"",noWrap:!0})})]}),r.jsx(jt,{py:1,children:r.jsx(Bve,{})}),r.jsx(_z,{}),r.jsx(j,{container:!0,columns:24,children:r.jsx(j,{item:!0,xs:24,children:r.jsx($e,{typo:!0,name:"remark",multiline:!0,minRows:2,maxRows:5,label:"",fullWidth:!0})})})]})]})});$z.propTypes={handleSupplierChange:l.func,handleSupplierChanged:l.func,handleOrdDateChanged:l.func,onSubmit:l.func,readWorking:l.bool,readError:l.object,data:l.object,itemDataReady:l.bool,supplierPickerDisabled:l.bool,supplierNameDisabled:l.bool,squaredFlagDisabled:l.bool,creating:l.bool,editing:l.bool,slotProps:l.object};$z.displayName="C03DialogForm";const Bz=a.memo(a.forwardRef((e,t)=>{const{onSave:n,onCancel:o,loading:s,...i}=e;return r.jsxs(a.Fragment,{ref:t,...i,children:[r.jsx(dt,{responsive:!0,onClick:o,color:"warning",variant:"outlined",...i,children:""}),r.jsx(dt,{responsive:!0,onClick:n,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:s,children:""})]})}));Bz.displayName="C03DialogEditToolbar";Bz.propTypes={onCancel:l.func,onSave:l.func,onLoadProds:l.func,loading:l.bool};const Wve=e=>{const{...t}=e,n=Ke(),o=a.useContext(id),{canPrint:s}=o,i=n.handleSubmit(o.onPrintSubmit,o.onPrintSubmitError);return s?r.jsx(xn,{onSubmit:i,...t}):!1};Wve.displayName="C03ExportButtonContainer";const Wz=e=>{var c;const{label:t="",...n}=e,o=a.useContext(id),s=a.useMemo(()=>o.getCurrentIndex(),[o]),i=a.useMemo(()=>s!==null?` (${s})`:"",[s]);return!o.canReview||(c=o.itemData)!=null&&c.Checker_N?!1:r.jsx(dt,{responsive:!0,startIcon:r.jsx(_D,{}),color:"success",onClick:o.promptReview,...n,children:i})};Wz.propTypes={label:l.string,children:l.oneOfType([l.node,l.array])};Wz.displayName="C03ReviewButtonContainer";const Uve=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,onDelete:o,onReview:s,onReject:i,onPrint:c,onSideDrawerOpen:u,...d}=e;return r.jsxs(a.Fragment,{ref:t,...d,children:[c&&r.jsx(Wve,{}),o&&r.jsx(hn,{startIcon:r.jsx(Fs,{}),color:"secondary",onClick:o,children:""}),r.jsx(Wz,{}),i&&r.jsx(hn,{startIcon:r.jsx(Fs,{}),color:"warning",onClick:i,children:""}),n&&r.jsx(hn,{startIcon:r.jsx(bo,{}),color:"primary",onClick:n,children:""}),r.jsx(jr,{title:"",children:r.jsx(br,{onClick:u,size:"small",children:r.jsx(Po,{})})})]})}));Uve.propTypes={onEdit:l.func,onDelete:l.func,onReview:l.func,onReject:l.func,onPrint:l.func,onSideDrawerOpen:l.func};const qve=e=>{var p,m,f,h,g,x;const{...t}=e,n=a.useContext(id),o=Ke(),s=a.useMemo(()=>{var y;return n.canReview&&!((y=n.itemData)!=null&&y.Checker_N)},[n.canReview,(p=n.itemData)==null?void 0:p.Checker_N]),i=a.useMemo(()=>{var y,D,v;return n.canReject&&!!((y=n.itemData)!=null&&y.Checker_N)&&((v=(D=n.itemData)==null?void 0:D.squared)==null?void 0:v.id)!=="*"},[n.canReject,(m=n.itemData)==null?void 0:m.Checker_N,(h=(f=n.itemData)==null?void 0:f.squared)==null?void 0:h.id]),c=a.useMemo(()=>{var y;return n.canUpdate&&!((y=n.itemData)!=null&&y.Checker_N)},[n.canUpdate,(g=n.itemData)==null?void 0:g.Checker_N]),u=a.useMemo(()=>{var y;return n.canDelete&&!((y=n.itemData)!=null&&y.Checker_N)},[n.canDelete,(x=n.itemData)==null?void 0:x.Checker_N]),d=o.handleSubmit(n.onPrintSubmit,n.onPrintSubmitError);return n.itemDataReady?n.editing?r.jsx(Bz,{onSave:o.handleSubmit(n.onEditorSubmit,n.onEditorSubmitError),onCancel:n.updating?n.confirmReturnReading:n.confirmQuitCreating,loading:n.editWorking,...t}):r.jsx(Uve,{onEdit:c?n.promptUpdating:null,onDelete:u?n.confirmDelete:null,onReview:s?n.promptReview:null,onReject:i?n.promptReject:null,onPrint:n.canPrint?d:null,onSideDrawerOpen:n.handleSideDrawerOpen,...t}):!1};qve.displayName="C03DialogToolbarContainer";const Vve=a.forwardRef((e,t)=>{var A;const{...n}=e,{height:o}=Wt(),s=a.useMemo(()=>o-120,[o]),i=at({defaultValues:{prods:[]}}),{reset:c}=i,u=Ue({name:"employee",control:i.control}),d=Ue({name:"supplier",control:i.control}),p=Ue({name:"FactData",control:i.control}),m=Ue({name:"OrdDate",control:i.control}),f=a.useContext(id),h=Qr({height:s,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),g=a.useMemo(()=>f.creating?"":f.updating?"":"",[f.creating,f.updating]),x=a.useMemo(()=>f.creating?f.confirmQuitCreating:f.updating?f.confirmQuitUpdating:f.reading?f.reset:null,[f.confirmQuitCreating,f.confirmQuitUpdating,f.creating,f.reading,f.reset,f.updating]),y=a.useCallback(()=>{f.editing&&i.handleSubmit(f.onEditorSubmit,f.onEditorSubmitError)()},[f.editing,f.onEditorSubmit,f.onEditorSubmitError,i]);$t(["Control+Enter"],()=>setTimeout(y),{enableOnFormTags:!0});const D=i.handleSubmit(f.onRefreshGridSubmit({setValue:i.setValue}),f.onRefreshGridSubmitError),v=a.useMemo(()=>f.isSupplierNameDisabled(d),[f,d]),T=a.useMemo(()=>{var F;return!f.editing||!!((F=f.itemData)!=null&&F.GinID_N)||!u||!d||!m||!d||(d==null?void 0:d.FactID)==="*"&&!p},[f.editing,(A=f.itemData)==null?void 0:A.GinID_N,u,m,d,p]),I=a.useMemo(()=>[{...Pe.keyColumn("prod",or(ls,{name:"prod",withStock:!0,packageType:"i",forId:!0,disableClearable:!0,slotProps:{paper:{sx:{width:360}}},focusOnDisabled:!0})),title:"",minWidth:130,maxWidth:150,disabled:T||f.prodDisabled},{...Pe.keyColumn("ProdData",kt({continuousUpdates:!1})),title:"",disabled:!0,grow:2},{...Pe.keyColumn("PackData_N",kt({continuousUpdates:!1})),title:"",minWidth:120,maxWidth:120,disabled:!0},{...Pe.keyColumn("SInqFlag",kt({continuousUpdates:!1})),minWidth:38,maxWidth:38,title:"",disabled:!0,cellClassName:"star"},{...Pe.keyColumn("SPrice",Jn(2)),title:"",minWidth:100,disabled:T||f.spriceDisabled},{...Pe.keyColumn("SQty",Jn(2)),title:"",minWidth:90,grow:1,disabled:T||f.sqtyDisabled},{...Pe.keyColumn("SAmt",Jn(2)),title:"",minWidth:90,grow:1,disabled:!0},{...Pe.keyColumn("SNotQty",Jn(2)),title:"",minWidth:90,grow:1,disabled:T||f.sNotQtyDisabled}],[f.prodDisabled,f.sNotQtyDisabled,f.spriceDisabled,f.sqtyDisabled,T]),P=hr({data:f.grid.gridData,columns:I,skipDisabled:!0,lastCell:f.creating?Xn.CREATE_ROW:Xn.STOP_EDITING}),E=a.useCallback(F=>{switch(F.name){case"FactData":return v;default:return!f.editing}},[f.editing,v]),k=a.useCallback(()=>{if(!m){ae.error(""),i.setFocus("OrdDate");return}if(!d){ae.error(""),i.setFocus("supplier");return}P.setActiveCell({col:0,row:0})},[i,P,m,d]),w=vt(`
		employee,
		squared,
		OrdDate,
		ArrDate,
		supplier,
		FactData,
		`,{lastField:k});return mn(()=>{f.itemDataReady&&(console.log("c03 form reset",f.itemData),c(f.itemData))},[f.itemData,f.itemDataReady]),r.jsx(Ye,{...i,children:r.jsxs(Er,{ref:t,title:g,responsive:!0,fullWidth:!0,maxWidth:"lg",TitleButtonsComponent:qve,open:f.itemViewOpen,onClose:x,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[{minHeight:"30em",paddingTop:0},h.scroller],...n,children:[r.jsx(Ct,{...w,isFieldDisabled:E,gridMeta:P,readOnly:T,children:r.jsx("form",{onSubmit:y,children:r.jsx($z,{creating:f.creating,editing:f.editing,updating:f.updating,readWorking:f.readWorking,readError:f.readError,data:f.itemData,itemDataReady:f.itemDataReady,handleSupplierChanged:f.supplierChangedHandler({setValue:i.setValue,getValues:i.getValues,handleSubmit:D}),handleOrdDateChanged:f.buildOrdDateChangeHandler({getValues:i.getValues,setValue:i.setValue,handleSubmit:D}),supplierPickerDisabled:f.supplierPickerDisabled,squaredFlagDisabled:f.squaredFlagDisabled,sNotQtyDisabled:f.sNotQtyDisabled,supplierNameDisabled:v})})}),r.jsx(Nz,{BackdropProps:{sx:[ur.BACKDROP_TRANSPARENT]}})]})})});Vve.displayName="C03DialogContainer";const J2=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:4,...t})};J2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};J2.displayName="C03DateColumn";const X2=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:8,...t})};X2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};X2.displayName="C03DeptColumn";const Z2=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:3,...t})};Z2.propTypes={loading:l.bool,children:l.oneOfType([l.node])};Z2.displayName="C03IdColumn";const eA=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:5,...t})};eA.propTypes={loading:l.bool,children:l.oneOfType([l.node])};eA.displayName="C03UserColumn";const BC=e=>{const{...t}=e;return r.jsx(wt,{flex:!0,pr:1,xs:1,justifyContent:"center",...t})};BC.propTypes={loading:l.bool,children:l.oneOfType([l.node])};BC.displayName="C03FlagColumn";l.bool,l.oneOfType([l.node]);const Uz=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsxs(io,{ref:t,...n,children:[r.jsx(Hn,{}),r.jsx(Z2,{children:""}),r.jsx(BC,{children:""}),r.jsx(BC,{children:""}),r.jsx(J2,{children:""}),r.jsx(eA,{children:""}),r.jsx(X2,{children:""})]})}));Uz.propTypes={};Uz.displayName="C03ListHeader";const NR=Object.freeze({NOT_SQUARED:"1",SQUARED:"2"}),qz=[{id:NR.NOT_SQUARED,label:""},{id:NR.SQUARED,label:""}],COt=e=>{if(!e)return"";const{id:t,label:n}=e;return`${n}`},DOt=e=>qz.find(t=>t.id===e),SOt=e=>qz.find(t=>t.id==e),vOt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),jOt=e=>e.id===NR.SQUARED,xb={SquaredState:NR,options:qz,getOptionLabel:COt,getOptionById:DOt,findByInput:SOt,getOptionDisabled:jOt,isOptionEqualToValue:vOt},Vz=a.memo(e=>{const{index:t,style:n,value:o,onClick:s}=e;return r.jsx("div",{style:n,children:r.jsxs(yo,{borderBottom:!0,onClick:s,children:[r.jsx(na,{}),r.jsx(jt,{children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t}),r.jsx(Z2,{children:o==null?void 0:o.}),r.jsx(BC,{children:o==null?void 0:o.}),r.jsx(BC,{children:o!=null&&o.?"*":""}),r.jsx(J2,{children:o==null?void 0:o.}),r.jsx(eA,{children:o==null?void 0:o.}),r.jsx(X2,{children:o==null?void 0:o["+"]})]})})]})})});Vz.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func,promptCopyAuth:l.func};Vz.displayName="C03ListRow";const zz=e=>{const t=a.useContext(id),{isItemLoading:n}=t,{index:o,...s}=e,i=a.useMemo(()=>n(o),[o,n]),c=a.useMemo(()=>t.listData[o],[t.listData,o]);return r.jsx(No,{loading:i,children:r.jsx(Vz,{index:o,value:c,onClick:u=>t.handleSelect(u,c),...s})})};zz.propTypes={index:l.number,data:l.object};zz.displayName="C03ListRowContainer";const zve=()=>{const e=a.useContext(id),{loadList:t}=e,n=Ke(),{height:o}=Wt(),s=Ue({name:"lvReviewState",control:n.control}),i=Yn(s,300);En(()=>{t({params:{ck:ri.ReviewStates.NOT_REVIEWED,sq:xb.SquaredState.NOT_SQUARED}})},[]);const c=Ue({name:"lvOrder",control:n.control}),u=Yn(c,300),d=Ue({name:"lvEmployee",control:n.control}),p=Yn(d,300),m=Ue({name:"lvOrdDate",control:n.control}),f=Yn(m,300),h=Ue({name:"lvArrDate",control:n.control}),g=Yn(h,300),x=Ue({name:"lvSupplier",control:n.control}),y=Yn(x,300),D=Ue({name:"lvSquared",control:n.control}),v=Yn(D,300);mn(()=>{t({params:{...u&&{q:u==null?void 0:u.},...ri.transformAsQueryParams({employee:p,ordDate:f,arrDate:g,supplier:y,squared:v,reviewState:i})},supressLoading:!0})},[v,u,i,u,p,f,g,y,u]);const{isLgOrUp:T}=a.useContext(Zh),I=a.useMemo(()=>o?T?o-200:o-250:300,[o,T]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:zz,height:I,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};zve.displayName="C03ListViewContainer";const Hz=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(bt,{ref:t,label:"",options:ri.options,getOptionLabel:ri.getOptionLabel,isOptionEqualToValue:ri.isOptionEqualToValue,...n})}));Hz.propTypes={label:l.string,children:l.node};Hz.displayName="C03ReviewModePicker";const IOt=e=>{if(!e)return"";const{:t}=e;return t?`${t}`:"(?)"},TOt=(e,t)=>e.===t.,OOt=e=>e.,bL={getOptionLabel:IOt,isOptionEqualToValue:TOt,renderOptionLabel:OOt},Gz=a.memo(e=>{const{label:t="",...n}=e,{token:o}=a.useContext(Be),s=a.useMemo(()=>{const i={tp:1e4,opts:1};return Hr.stringify(i)},[]);return r.jsx(bt,{label:t,url:"v1/purchase/orders",bearer:o,queryParam:"qs",querystring:s,getOptionLabel:bL.getOptionLabel,isOptionEqualToValue:bL.isOptionEqualToValue,renderOptionLabel:bL.renderOptionLabel,notFoundText:" ${input} ",placeholder:"",typeToSearchText:"...",inputParam:"fz",...n})});Gz.propTypes={label:l.string};Gz.displayName="PurchaseOrderPicker";const kI=Object.freeze({NONE:"",MARK_AS_SQUARED:"Y",SQUARED:"*"}),Kz=[{id:kI.NONE,label:""},{id:kI.MARK_AS_SQUARED,label:""},{id:kI.SQUARED,label:""}],EOt=e=>{if(!e)return"";const{id:t,label:n}=e;return`[${t||"  "}] ${n}`},POt=e=>Kz.find(t=>t.id===e),ROt=e=>Kz.find(t=>{var n;return((n=t.id)==null?void 0:n.toLowerCase())===(e==null?void 0:e.toLowerCase())}),wOt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),kOt=e=>e.id===kI.SQUARED,Ej={SquaredState:kI,squaredOptions:Kz,getSquaredOptionLabel:EOt,getSquaredOptionById:POt,findSquaredOptionByInput:ROt,getSquaredOptionDisabled:kOt,isOptionEqualToValue:wOt},pO=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(bt,{ref:t,fullWidth:!0,label:"",options:Ej.squaredOptions,getOptionLabel:Ej.getSquaredOptionLabel,isOptionEqualToValue:Ej.isOptionEqualToValue,findByInput:Ej.findSquaredOptionByInput,...Pn.STATIC_PICKER_OPTS,...n})}));pO.propTypes={label:l.string,children:l.node};pO.displayName="SquaredPicker";const Qz=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(bt,{ref:t,fullWidth:!0,label:"",options:xb.options,getOptionLabel:xb.getOptionLabel,isOptionEqualToValue:xb.isOptionEqualToValue,findByInput:xb.findOptionByInput,...Pn.STATIC_PICKER_OPTS,...n})}));Qz.propTypes={label:l.string,children:l.node};Qz.displayName="SquaredPicker2";const Yz=a.memo(e=>{const{...t}=e;return r.jsx(Pt,{children:r.jsxs(Vt,{container:!0,spacing:1,columns:24,...t,children:[r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(Gz,{label:"",name:"lvOrder",autoFocus:!0,placeholder:"",disableOpenOnInput:!0})}),r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(Ar,{name:"lvEmployee",label:"",disableOpenOnInput:!0})}),r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(et,{name:"lvOrdDate",label:"",clearable:!0})}),r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(et,{name:"lvArrDate",label:"()",clearable:!0})}),r.jsx(Vt,{item:!0,md:6,lg:5,children:r.jsx(xa,{name:"lvSupplier",label:"",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}}})}),r.jsx(Vt,{item:!0,md:6,lg:3,children:r.jsx(Qz,{name:"lvSquared",label:"",clearable:!0})})]})})});Yz.propTypes={};Yz.displayName="C03SearchForm";const Hve=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(id),s=a.useMemo(()=>"",[]);return r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(Ao,{}),onClick:o.promptCreating,sx:{fontWeight:600},...n,children:s})}));Hve.displayName="C03CreateButtonContainer";const Gve=()=>{const e=a.useContext(id);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};Gve.displayName="C03FetchResultLabelContainer";const Kve=a.memo(()=>r.jsxs(r.Fragment,{children:[r.jsx(Hve,{}),r.jsx(Hz,{name:"lvReviewState",dense:!0,placeholder:"",autoComplete:!0,autoSelect:!0,width:"10rem"})]}));Kve.displayName="LeftButtons";const Jz=a.memo(a.forwardRef(({loading:e,...t},n)=>r.jsx(kn,{pl:0,alignItems:"flex-end",ref:n,LeftComponent:e?Cr:Kve,RightComponent:Gve,...t})));Jz.displayName="C03ListViewToolbar";Jz.propTypes={loading:l.bool};const Qve=e=>{const{...t}=e,n=vt(`
		lvOrder,
		lvEmployee,
		lvOrdDate,
		lvArrDate,
		lvSupplier,
		lvSquared,
		lvReviewState,
		`);return r.jsxs(Ct,{...n,children:[r.jsx(Yz,{...t}),r.jsx(Jz,{})]})};Qve.displayName="C03SearchFormContainer";const Yve=()=>{const e=a.useContext(id),{selectById:t}=e,n=at({defaultValues:{lvReviewState:ri.getOptionById(ri.ReviewStates.NOT_REVIEWED),lvSquared:xb.getOptionById(xb.SquaredState.NOT_SQUARED)}}),o=a.useCallback(s=>{s&&t(s)},[t]);return $D("id",o),r.jsxs(Ft,{children:[r.jsxs(Ye,{...n,children:[r.jsx(_t,{}),r.jsxs(li,{children:[r.jsx(Qve,{initSize:"md"}),r.jsx(Uz,{}),r.jsx(zve,{})]})]}),r.jsx(Vve,{})]})};Yve.displayName="C03FrameContainer";const lu=a.createContext(),Xz=a.memo(e=>{var s,i;const{anchor:t="right",...n}=e,o=a.useContext(lu);return r.jsxs(Eo,{anchor:t,open:o.sideDrawerOpen,onClose:o.handleSideDrawerClose,...n,children:[r.jsx(pn,{label:"",children:(s=o.itemData)==null?void 0:s.WriteDate_N}),r.jsx(pn,{label:"",children:(i=o.itemData)==null?void 0:i.Writer_N})]})});Xz.propTypes={anchor:l.string};Xz.displayName="C05Drawer";const Jve=e=>{const{...t}=e,n=a.useContext(lu),o=Ke(),s=a.useMemo(()=>(console.log("handleChanged"),n.handleRtnDateChanged({setValue:o.setValue,getValues:o.getValues})),[n,o.getValues,o.setValue]);return r.jsx(et,{onChanged:s,...t})};Jve.displayName="C05RtnDatePickerContainer";const tA=e=>{const{name:t="RtAmt",...n}=e,o=Ue({name:t}),s=a.useMemo(()=>!isNaN(o)&&o!==""?parseFloat(o).toFixed(2):"0.00",[o]);return r.jsxs(ve,{inline:!0,sx:{fontWeight:700},...n,children:["",r.jsx(nn,{color:"primary",...n,children:s})]})};tA.propTypes={name:l.string};tA.displayName="C05ProdGridSubtotalLabel";const AOt=()=>r.jsx(r.Fragment,{children:r.jsx(tA,{name:"RtAmt"})}),Zz=a.forwardRef((e,t)=>{const{...n}=e;return a.useContext(lu).editing?!1:r.jsx(kn,{ref:t,RightComponent:AOt,...n})});Zz.propTypes={};Zz.displayName="C05ProdGridBottomToolbar";const NOt=Aa({translationKeys:{button:"",unit:""},RightComponent:tA}),FOt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),eH=a.memo(e=>{const{createRow:t,getRowKey:n,readOnly:o,gridRef:s,data:i,onChange:c,onActiveCellChange:u,getRowClassName:d,height:p=300,prodDisabled:m,spriceDisabled:f,getSPriceClassName:h,...g}=e;return r.jsx(dr,{ref:s,rowKey:n,lockRows:o,height:p+(o?48:0),value:i,onChange:c,onActiveCellChange:u,addRowsComponent:NOt,disableExpandSelection:!0,contextMenuComponent:FOt,createRow:t,rowClassName:d})});eH.propTypes={getRowKey:l.func,spriceDisabled:l.func,prodDisabled:l.func,onChange:l.func,getRowClassName:l.func,getSPriceClassName:l.func,readOnly:l.bool,height:l.number,gridRef:l.func,data:l.array.isRequired};eH.displayName="C05ProdGrid";const Xve=e=>{const{...t}=e,n=a.useContext(Be),o=a.useContext(lu),s=a.useContext(Lr),{height:i}=Wt(),c=Ke(),u=a.useMemo(()=>o.buildGridChangeHandler({getValues:c.getValues,setValue:c.setValue,gridMeta:s.gridMeta,onUpdateRow:o.onUpdateRow,onGridChanged:o.onGridChanged}),[o,c.getValues,c.setValue,s.gridMeta]),d=a.useMemo(()=>o.editing?i-418:i-410,[o.editing,i]);return r.jsx(Kn.Provider,{value:{...o.grid,...s.gridMeta,readOnly:s.readOnly},children:r.jsx(eH,{gridRef:s.gridMeta.setGridRef,readOnly:s.readOnly,data:o.gridData,bearer:n.token,height:d,getRowKey:o.getRowKey,createRow:o.createRow,onChange:u,onActiveCellChange:s.gridMeta.handleActiveCellChange,...t})})};Xve.displayName="C05ProdGridContainer";const Zve=a.memo(()=>{const e=a.useContext(lu),t=Ke();return r.jsxs(VD,{children:[r.jsx(oi,{label:"",name:"TaxAmt",sx:{minWidth:"9rem"}}),r.jsx(oi,{label:"",name:"TotAmt",sx:{minWidth:"9rem"}}),r.jsx($e,{typo:!0,slotProps:{label:{flex:!0,inline:!0,sx:{minWidth:"9rem"},labelProps:{variant:"body1"}}},inline:!0,dense:!0,name:"RecvAmt",label:"",type:"number",renderLabel:wo.formatPrice,sx:{width:"9rem"},onChange:e.handleRecvAmtChange({setValue:t.setValue,getValues:t.getValues})}),r.jsx(oi,{label:"",name:"RtnAmt",sx:{minWidth:"9rem"}})]})});Zve.displayName="C05ProdGridToolbarLabels";const tH=a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(kn,{ref:t,RightComponent:Zve,...n})});tH.propTypes={};tH.displayName="C05ProdGridBottomToolbar2";const nH=a.memo(e=>{const{onSubmit:t,readError:n,data:o,readWorking:s,itemDataReady:i,creating:c,editing:u,updating:d,handleSupplierChanged:p,handlePurchaseOrdersChanged:m,handleLoadProdsSubmit:f,handleTaxTypeChange:h,isSupplierNameDisabled:g,purchaseOrdersDisabled:x,supplier:y,slotProps:D,...v}=e;return r.jsxs("form",{onSubmit:t,children:[s&&r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",minHeight:"30em",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}),n&&r.jsx(lo,{error:n,...D==null?void 0:D.error}),i&&r.jsxs(Pt,{pt:u?1:0,children:[r.jsxs(j,{container:!0,columns:24,spacing:1,children:[!c&&r.jsx(j,{item:!0,xs:24,sm:24,md:3.5,children:r.jsx($e,{typo:!0,name:"GrtID",label:"",autoFocus:!0,fullWidth:!0,readOnly:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:4.5,children:r.jsx(Jve,{typo:!0,name:"GrtDate",label:"",autoFocus:!0,fullWidth:!0,required:!0,validate:!0,variant:"outlined",disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:4.5,children:r.jsx(Ar,{typo:!0,label:"",name:"employee",required:!0,rules:{required:""},virtualize:!0,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:3,children:r.jsx($e,{typo:!0,name:"InvNo",label:"",fullWidth:!0})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:24,sm:24,md:3.5,children:r.jsx(xa,{typo:!0,label:"",name:"supplier",required:!0,rules:{required:""},virtualize:!0,forId:!0,withAddr:!0,optionLabelSize:"md",onChanged:p,disableOpenOnInput:!0,slotProps:{paper:{sx:{width:360}}}})}),r.jsx(j,{item:!0,xs:24,sm:24,md:6,children:r.jsx($e,{typo:!0,name:"FactData",label:"",fullWidth:!0,required:!0,rules:{required:""},disabled:g(y)})}),r.jsx(j,{item:!0,xs:24,sm:24,md:3,children:r.jsx($e,{typo:!0,name:"Uniform",label:"",fullWidth:!0})}),r.jsx(Ms,{item:!0,xs:4,sm:4,md:3,children:r.jsx(UD,{typo:!0,label:"",name:"TaxType",onChange:h})}),r.jsx(j,{item:!0,xs:24,sm:24,md:8.5,children:r.jsx($e,{typo:!0,name:"FactAddr",label:"",fullWidth:!0})})]}),r.jsx(jt,{py:1,children:r.jsx(Xve,{})}),r.jsx(Zz,{}),r.jsx(tH,{mb:1}),r.jsx(j,{container:!0,columns:24,children:r.jsx(j,{item:!0,xs:24,children:r.jsx($e,{typo:!0,name:"remark",multiline:!0,minRows:2,maxRows:5,label:"",fullWidth:!0})})})]})]})});nH.propTypes={readWorking:l.bool,readError:l.object,data:l.object,itemDataReady:l.bool,purchaseOrdersDisabled:l.bool,handleRtnDateChanged:l.func,slotProps:l.object};nH.displayName="C05DialogForm";const rH=a.memo(a.forwardRef((e,t)=>{const{onSave:n,onCancel:o,onRefresh:s,editWorking:i,refreshWorking:c,...u}=e;return r.jsxs(a.Fragment,{ref:t,...u,children:[s&&r.jsx(dt,{responsive:!0,onClick:s,type:"button",endIcon:r.jsx(Jb,{}),color:"info",variant:"contained",loading:c,children:""}),r.jsx(dt,{responsive:!0,onClick:o,color:"warning",variant:"outlined",...u,children:""}),r.jsx(dt,{responsive:!0,onClick:n,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:i,children:""})]})}));rH.displayName="C05DialogEditToolbar";rH.propTypes={onCancel:l.func,onSave:l.func,onRefresh:l.func,onLoadProds:l.func,refreshWorking:l.bool,editWorking:l.bool};const eje=e=>{const{...t}=e,n=Ke(),o=a.useContext(lu),{canPrint:s}=o,i=n.handleSubmit(o.onPrintSubmit,o.onPrintSubmitError);return s?r.jsx(xn,{onSubmit:i,...t}):!1};eje.displayName="C05ExportButtonContainer";const tje=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,checkEditableWorking:o,onDelete:s,onPrint:i,onSideDrawerOpen:c,...u}=e;return r.jsxs(a.Fragment,{ref:t,...u,children:[i&&r.jsx(eje,{}),s&&r.jsx(dt,{responsive:!0,startIcon:r.jsx(im,{}),color:"secondary",onClick:s,children:""}),n&&r.jsx(dt,{responsive:!0,startIcon:r.jsx(bo,{}),color:"primary",onClick:n,loading:o,children:""}),r.jsx(jr,{title:"",children:r.jsx(br,{onClick:c,size:"small",children:r.jsx(Po,{})})})]})}));tje.propTypes={onEdit:l.func,onDelete:l.func,onPrint:l.func,onSideDrawerOpen:l.func,checkEditableWorking:l.bool};const nje=e=>{const{...t}=e,n=a.useContext(lu),o=Ke(),s=a.useMemo(()=>n.canDelete,[n.canDelete]),i=o.handleSubmit(n.onPrintSubmit,n.onPrintSubmitError);return n.itemDataReady?n.editing?r.jsx(rH,{onRefresh:n.handleRefresh({setValue:o.setValue,getValues:o.getValues}),refreshWorking:n.refreshWorking,onSave:o.handleSubmit(n.onEditorSubmit,n.onEditorSubmitError),editWorking:n.editWorking,onCancel:n.updating?n.confirmReturnReading:n.confirmQuitCreating,...t}):r.jsx(tje,{onEdit:n.canUpdate?n.handleCheckEditable:null,onDelete:s?n.confirmDelete:null,onPrint:n.canPrint?i:null,checkEditableWorking:n.checkEditableWorking,onSideDrawerOpen:n.handleSideDrawerOpen,...t}):!1};nje.displayName="C05DialogToolbarContainer";const rje=a.forwardRef((e,t)=>{const{...n}=e,{height:o}=Wt(),s=a.useMemo(()=>o-120,[o]),i=at({defaultValues:{prods:[]}}),{reset:c}=i,u=a.useContext(lu),d=Ue({name:"supplier",control:i.control}),p=Ue({name:"GrtDate",control:i.control}),m=a.useMemo(()=>!u.editing||!d||!p,[u.editing,p,d]),f=Qr({height:s,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),h=a.useMemo(()=>u.creating?"":u.updating?"":"",[u.creating,u.updating]),g=a.useMemo(()=>u.creating?u.confirmQuitCreating:u.updating?u.confirmQuitUpdating:u.reading?u.cancelAction:null,[u.cancelAction,u.confirmQuitCreating,u.confirmQuitUpdating,u.creating,u.reading,u.updating]),x=a.useMemo(()=>[{...Pe.keyColumn("prod",or(ls,{name:"prod",withStock:!0,packageType:"i",forId:!0,disableClearable:!0,slotProps:{paper:{sx:{width:360}}}})),title:"",minWidth:130,maxWidth:150,disabled:m},{...Pe.keyColumn("ProdData",kt({continuousUpdates:!1})),title:"",disabled:!0,grow:2},{...Pe.keyColumn("PackData_N",kt({continuousUpdates:!1})),title:"",minWidth:120,maxWidth:120,disabled:!0},{...Pe.keyColumn("SInqFlag",kt({continuousUpdates:!1})),minWidth:38,maxWidth:38,title:"",disabled:!0,cellClassName:"star"},{...Pe.keyColumn("SPrice",Jn(2)),title:"",minWidth:100,disabled:m},{...Pe.keyColumn("SQty",Jn(2)),title:"",minWidth:100,disabled:m},{...Pe.keyColumn("SAmt",Jn(2)),title:"",minWidth:120,disabled:!0},{...Pe.keyColumn("SRemark",kt({continuousUpdates:!1})),title:"",grow:1,disabled:m}],[m]),y=hr({data:u.grid.gridData,columns:x,skipDisabled:!0,lastCell:Xn.CREATE_ROW}),D=a.useCallback(()=>{u.editing&&i.handleSubmit(u.onEditorSubmit,u.onEditorSubmitError)()},[u.editing,u.onEditorSubmit,u.onEditorSubmitError,i]);$t(["Control+Enter"],()=>setTimeout(D),{enableOnFormTags:!0});const v=a.useCallback(()=>{if(!p){ae.error(""),i.setFocus("GrtDate");return}if(!d){ae.error(""),i.setFocus("supplier");return}y.setActiveCell({col:0,row:0})},[i,y,p,d]),T=vt(`
		GrtDate,
		employee,
		InvNo,
		supplier,
		FactData,
		Uniform,
		TaxType,
		FactAddr,
		`,{lastField:v}),I=a.useCallback(P=>{switch(P.name){case"FactData":return u.isSupplierNameDisabled(d);default:return!1}},[u,d]);return mn(()=>{u.itemDataReady&&(console.log("c05 form reset",u.itemData),c(u.itemData))},[u.itemData,u.itemDataReady]),r.jsxs(Ye,{...i,children:[r.jsx(Er,{ref:t,title:h,responsive:!0,fullWidth:!0,maxWidth:"lg",TitleButtonsComponent:nje,open:u.itemViewOpen,onClose:g,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[{minHeight:"30em",paddingTop:0},f.scroller],...n,children:r.jsx(Ct,{...T,isFieldDisabled:I,gridMeta:y,readOnly:m,children:r.jsx(nH,{onSubmit:D,creating:u.creating,editing:u.editing,updating:u.updating,readWorking:u.readWorking,readError:u.readError,data:u.itemData,itemDataReady:u.itemDataReady,handleSupplierChanged:u.handleSupplierChanged({setValue:i.setValue,getValues:i.getValues}),supplier:d,isSupplierNameDisabled:u.isSupplierNameDisabled,purchaseOrdersDisabled:u.purchaseOrdersDisabled,handleTaxTypeChange:u.handleTaxTypeChange({setValue:i.setValue,getValues:i.getValues})})})}),r.jsx(Xz,{BackdropProps:{sx:[ur.BACKDROP_TRANSPARENT]}})]})});rje.displayName="C05DialogContainer";const nA=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:3,...t})};nA.propTypes={loading:l.bool,children:l.oneOfType([l.node])};nA.displayName="C05DateColumn";const rA=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:9,sm:9,md:9,lg:9,...t})};rA.propTypes={loading:l.bool,children:l.oneOfType([l.node])};rA.displayName="C05DeptColumn";const oA=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:3,...t})};oA.propTypes={loading:l.bool,children:l.oneOfType([l.node])};oA.displayName="C05IdColumn";const sA=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:3,...t})};sA.propTypes={loading:l.bool,children:l.oneOfType([l.node])};sA.displayName="C05UserColumn";const oH=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsxs(io,{ref:t,...n,children:[r.jsx(Hn,{}),r.jsx(oA,{children:""}),r.jsx(nA,{children:""}),r.jsx(sA,{children:""}),r.jsx(rA,{children:""})]})}));oH.propTypes={expChecking:l.bool};oH.displayName="C05ListHeader";const oje=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(lu),s=a.useMemo(()=>"",[]);return r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(Ao,{}),onClick:o.promptCreating,sx:{fontWeight:600},...n,children:s})}));oje.displayName="C05CreateButtonContainer";const sje=()=>{const e=a.useContext(lu);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};sje.displayName="C05FetchResultLabelContainer";const aje=a.memo(()=>r.jsx(r.Fragment,{children:r.jsx(oje,{})}));aje.displayName="LeftButtons";const sH=a.memo(a.forwardRef(({loading:e,...t},n)=>r.jsx(kn,{pl:0,alignItems:"flex-end",ref:n,LeftComponent:e?Cr:aje,RightComponent:sje,...t})));sH.displayName="C05ListViewToolbar";sH.propTypes={loading:l.bool};const ije=e=>(e==null?void 0:e.map(({SProdID:t,ProdData_N:n,...o})=>({prod:{ProdID:t,ProdData:n},ProdData:n,...o})))||[],MOt=e=>e.filter(t=>{var n;return(n=t.prod)==null?void 0:n.ProdID}).map(({Pkey:t,prod:n,SQty:o,SPrice:s,SAmt:i,...c},u)=>({Pkey:(t==null?void 0:t.length)<36?"":t,SProdID:n==null?void 0:n.ProdID,ProdData_N:n==null?void 0:n.ProdData,SQty:(o==null?void 0:o.toString())||"",SPrice:(s==null?void 0:s.toString())||"",SAmt:(i==null?void 0:i.toString())||"",Seq:u+1,...c})),_Ot=e=>{const{GrtDate:t,EmplID:n,EmplData_N:o,FactID:s,FactData:i,GdsRt_S:c,Remark:u,...d}=e;return{GrtDate:Re.parseDate(t),employee:{CodeID:n,CodeData:o},supplier:s?{FactID:s,FactData:i}:null,FactData:i,prods:ije(c),remark:u.join(`
`),...d}},LOt=(e,t)=>{const{GrtID:n,GrtDate:o,employee:s,supplier:i,remark:c,prod:u,prods:d,...p}=e;return console.log("dropped props",u,d),{GrtID:n,GrtDate:o?Re.formatDate(o):"",EmplID:(s==null?void 0:s.CodeID)||"",FactID:(i==null?void 0:i.FactID)||"",Remark:(c==null?void 0:c.split(`
`))||[],...p,...t&&{GdsRt_S:MOt(t)}}},$Ot=e=>{const{supplier:t,rd:n,rd2:o,employee:s,taxType:i,...c}=e;return{...i&&{tt:i==null?void 0:i.id},...t&&{spi:t.FactID},...s&&{emi:s.CodeID},...n&&{rd:Re.formatDate(n)},...o&&{rd2:Re.formatDate(o)},...c}},BOt=e=>Gn.isAnyPropNotEmpty(e,"supplier,spn,spa,spu,rd,employee,taxType"),WOt=e=>{if(!e)return 0;let t=0;for(const n of e){const{SAmt:o}=n;t+=o?Number(o):0}return t},zm={transformForReading:_Ot,transformForSubmitting:LOt,transformAsQueryParams:$Ot,transformGridForReading:ije,getTotal:WOt,isFiltered:BOt},aH=a.memo(e=>{const{index:t,style:n,value:o,onClick:s}=e;return r.jsx("div",{style:n,children:r.jsxs(yo,{borderBottom:!0,onClick:s,children:[r.jsx(na,{}),r.jsx(jt,{children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t}),r.jsx(oA,{children:o==null?void 0:o.}),r.jsx(nA,{children:o==null?void 0:o.}),r.jsx(sA,{children:o==null?void 0:o.}),r.jsx(rA,{children:o==null?void 0:o["+"]})]})})]})})});aH.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,expChecking:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func,promptCopyAuth:l.func};aH.displayName="C05ListRow";const iH=e=>{const t=a.useContext(lu),{isItemLoading:n}=t,{index:o,...s}=e,i=a.useMemo(()=>n(o),[o,n]),c=a.useMemo(()=>t.listData[o],[t.listData,o]);return r.jsx(No,{loading:i,children:r.jsx(aH,{index:o,value:c,onClick:u=>t.handleSelect(u,c),...s})})};iH.propTypes={index:l.number,data:l.object};iH.displayName="C05ListRowContainer";const lje=()=>{const e=a.useContext(lu),{loadList:t}=e,n=Ke(),{height:o}=Wt(),{isLgOrUp:s}=a.useContext(Zh),i=a.useMemo(()=>(console.log("isLgOrUp",s),o?s?o-200:o-250:300),[o,s]),c=Ue({name:"lvOrder",control:n.control}),u=Yn(c,300),d=Ue({name:"lvSupplier",control:n.control}),p=Yn(d,300),m=Ue({name:"rd",control:n.control}),f=Yn(m,300),h=Ue({name:"rd2",control:n.control}),g=Yn(h,300),x=Ue({name:"lvEmployee",control:n.control}),y=Yn(x,300);return En(()=>{e.loadList({params:{}})},[]),mn(()=>{t({params:{...u&&{q:u==null?void 0:u.},...zm.transformAsQueryParams({...p&&{supplier:p},...f&&{rd:f},...g&&{rd2:g},...y&&{employee:y}})},supressLoading:!0})},[u,p,f,g,y]),r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:iH,height:i,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};lje.displayName="C05ListViewContainer";const UOt=e=>{if(!e)return"";const{:t}=e;return t?`${t}`:"(?)"},qOt=(e,t)=>e.===t.,VOt=e=>e.,xL={getOptionLabel:UOt,isOptionEqualToValue:qOt,renderOptionLabel:VOt},lH=a.memo(e=>{const{label:t="",...n}=e,{token:o}=a.useContext(Be),s=a.useMemo(()=>{const i={tp:1e4,opts:1};return Hr.stringify(i)},[]);return r.jsx(bt,{label:t,url:"v1/purchase/returns",bearer:o,queryParam:"qs",querystring:s,getOptionLabel:xL.getOptionLabel,isOptionEqualToValue:xL.isOptionEqualToValue,renderOptionLabel:xL.renderOptionLabel,notFoundText:" ${input} ",placeholder:"",typeToSearchText:"...",inputParam:"fz",...n})});lH.propTypes={label:l.string};lH.displayName="ReturnOrderPicker";const cH=a.memo(e=>{const{...t}=e;return r.jsx(Pt,{children:r.jsxs(Vt,{container:!0,spacing:1,columns:24,...t,children:[r.jsx(Vt,{item:!0,md:6,lg:5,children:r.jsx(lH,{label:"",name:"lvOrder",autoFocus:!0,placeholder:"",disableOpenOnInput:!0})}),r.jsx(Vt,{item:!0,md:6,lg:6,children:r.jsx(xa,{label:"",name:"lvSupplier",variant:"outlined",optionLabelSize:"md",virtualize:!0,disableOpenOnInput:!0})}),r.jsx(Vt,{item:!0,md:12,lg:8,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"rd",label:"",validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"rd2",label:"",validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(uO,{md:!0}),r.jsx(Vt,{item:!0,md:6,lg:5,children:r.jsx(Ar,{name:"lvEmployee",label:"",disableOpenOnInput:!0})})]})})});cH.propTypes={};cH.displayName="C05SearchForm";const cje=e=>{const{...t}=e,n=vt(`
		lvOrder,
		lvSupplier,
		rd,
		rd2,
		lvEmployee,
		`);return r.jsx(Ct,{...n,children:r.jsx(cH,{...t})})};cje.displayName="C05SearchFormContainer";const uje=()=>{const e=at({defaultValues:{rd:null,rd2:null}});return r.jsxs(Ft,{children:[r.jsxs(Ye,{...e,children:[r.jsx(_t,{}),r.jsxs(li,{initSize:"md",children:[r.jsx(cje,{}),r.jsx(sH,{}),r.jsx(oH,{}),r.jsx(lje,{})]})]}),r.jsx(rje,{})]})};uje.displayName="C05FrameContainer";const tp=a.createContext(),uH=a.memo(e=>{var s,i,c;const{anchor:t="right",...n}=e,o=a.useContext(tp);return r.jsxs(Eo,{anchor:t,open:o.sideDrawerOpen,onClose:o.handleSideDrawerClose,...n,children:[r.jsx(pn,{label:"",children:(s=o.itemData)==null?void 0:s.WriteDate_N}),r.jsx(pn,{label:"",children:(i=o.itemData)==null?void 0:i.Writer_N}),r.jsx(pn,{label:"",children:(c=o.itemData)==null?void 0:c.TxoID})]})});uH.propTypes={anchor:l.string};uH.displayName="C06Drawer";const dje=({rowData:e,rowIndex:t})=>{var s;let n=[];if((s=e==null?void 0:e.prod)!=null&&s.ProdID&&!wo.isNullOrEmpty(e==null?void 0:e.StockQty_N)){const i=e.StockQty_N;n.push(`(${i||0})`)}const o=n.join(", ");return console.log(`${dje.name}`,o),o},dH=({rowData:e,rowIndex:t})=>{var o;let n=[];if((o=e==null?void 0:e.prod)!=null&&o.ProdID&&!wo.isNullOrEmpty(e==null?void 0:e.StockQty_N)){const s=e.StockQty_N;if(n.push({label:"",value:s??0}),e!=null&&e.SafeQty_N){const i=Number(e==null?void 0:e.SafeQty_N)||0,c=i>0?s-i:s;s<(i>0?i:0)&&n.push({label:"",value:c})}}return console.log(`${dH.name}`,n),n},pje=e=>(e==null?void 0:e.map((t,n)=>{const{SProdID:o,ProdData_N:s,SType:i,...c}=t;let u={prod:{ProdID:o,ProdData:s},ProdData:s,stype:zc.getOptionById(i),...c};return u.tooltip=dH({rowData:u,rowIndex:n}),u}))||[],zOt=e=>e.filter(t=>{var n;return(n=t.prod)==null?void 0:n.ProdID}).map(({Pkey:t,prod:n,SQty:o,SInQty:s,SNotQty:i,SPrice:c,SAmt:u,stype:d,...p},m)=>({Pkey:(t==null?void 0:t.length)<36?"":t,SProdID:n==null?void 0:n.ProdID,ProdData_N:n==null?void 0:n.ProdData,SQty:(o==null?void 0:o.toString())||"",SInQty:(s==null?void 0:s.toString())||"",SNotQty:(i==null?void 0:i.toString())||"",SPrice:(c==null?void 0:c.toString())||"",SAmt:(u==null?void 0:u.toString())||"",SType:(d==null?void 0:d.id)||"",Seq:m+1,...p})),HOt=e=>{const{OrdDate:t,ArrDate:n,CFlag:o,EmplID:s,EmplData_N:i,OrdDeptID:c,OrdDeptName_N:u,SpDeptID:d,SpDeptName_N:p,TxoID:m,TxiID:f,DepOrd_S:h,Remark:g,...x}=e;return{OrdDate:Re.parseDate(t),ArrDate:Re.parseDate(n),squared:mje(o),employee:{CodeID:s,CodeData:i},ordDept:{DeptID:c,AbbrName:u},spDept:{DeptID:d,AbbrName:p},TxoID:m,transOutOrders:(m==null?void 0:m.split(/[|,]/).filter(y=>!!y).map(y=>({:y})))||[],transInOrders:(f==null?void 0:f.split(/[|,]/).filter(y=>!!y).map(y=>({:y})))||[],prods:pje(h),remark:g.join(`
`),...x}},GOt=(e,t)=>{const{OrdID:n,OrdDate:o,ArrDate:s,employee:i,ordDept:c,spDept:u,squared:d,remark:p,prod:m,stype:f,...h}=e;return console.log("omit",m,f),{OrdID:n,OrdDate:o?Re.formatDate(o):"",ArrDate:s?Re.formatDate(s):"",EmplID:(i==null?void 0:i.CodeID)||"",CFlag:(d==null?void 0:d.id)||"",OrdDeptID:(c==null?void 0:c.DeptID)||"",SpDeptID:(u==null?void 0:u.DeptID)||"",Remark:(p==null?void 0:p.split(`
`))||[],...h,...t&&{DepOrd_S:zOt(t)}}},KOt=e=>{const{shdept:t,orddate:n,arrdate:o,employee:s,squared:i,...c}=e;return{...c,...s&&{employee:s.CodeID},...t&&{shdept:t.DeptID},orddate:Re.formatDate(n),arrdate:Re.formatDate(o),...i&&{squared:i.id}}},QOt=e=>{if(!e)return 0;let t=0;for(const n of e){const{SAmt:o}=n;t+=o?Number(o):0}return t},YOt=e=>Gn.isAnyPropNotEmpty(e,"supplier,spn,spa,spu,rd,employee,tt"),AI=Object.freeze({NONE:"",MARK_AS_SQUARED:"Y",SQUARED:"*"}),pH=[{id:AI.NONE,label:""},{id:AI.MARK_AS_SQUARED,label:""},{id:AI.SQUARED,label:""}],JOt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),XOt=e=>{if(!e)return"";const{id:t,label:n}=e;return`[${t||"  "}] ${n}`},mje=e=>pH.find(t=>t.id===e),ZOt=e=>pH.find(t=>{var n;return((n=t.id)==null?void 0:n.toLowerCase())===(e==null?void 0:e.toLowerCase())}),eEt=e=>e.id===AI.SQUARED,tEt=e=>e?e.map(t=>t==null?void 0:t.).filter(t=>!!t).join(", "):"",ol={transformForReading:HOt,transformForSubmitting:GOt,transformAsQueryParams:KOt,transformGridForReading:pje,getTotal:QOt,isFiltered:YOt,SquaredState:AI,squaredOptions:pH,getSquaredOptionLabel:XOt,getSquaredOptionById:mje,getSquaredOptionDisabled:eEt,findSquaredOptionByInput:ZOt,stringifyOrders:tEt,getTooltip:dje,getTooltips:dH,isOptionEqualToValue:JOt},mH=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(bt,{ref:t,fullWidth:!0,disableClearable:!0,label:"",options:ol.squaredOptions,getOptionLabel:ol.getSquaredOptionLabel,isOptionEqualToValue:ol.isOptionEqualToValue,getOptionDisabled:ol.getSquaredOptionDisabled,findByInput:ol.findSquaredOptionByInput,emptyId:!0,...n})}));mH.propTypes={label:l.string,children:l.node};mH.displayName="C06SquaredPicker";const aA=e=>{const{name:t="OrdAmt",...n}=e,o=Ue({name:t}),s=a.useMemo(()=>!isNaN(o)&&o!==""?parseFloat(o).toFixed(2):"0.00",[o]);return r.jsxs(ve,{inline:!0,sx:{fontWeight:700},children:["",r.jsx(nn,{color:"primary",...n,children:s})]})};aA.propTypes={name:l.string};aA.displayName="C06ProdGridSubtotalLabel";const nEt=()=>r.jsx(r.Fragment,{children:r.jsx(aA,{name:"OrdAmt"})}),fH=a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(tp);return o.editing&&!o.disableAddRows?!1:r.jsx(kn,{ref:t,RightComponent:nEt,...n})});fH.propTypes={};fH.displayName="C06ProdGridBottomToolbar";const rEt=Aa({translationKeys:{button:"",unit:""},RightComponent:aA}),oEt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),hH=a.memo(e=>{const{createRow:t,disableAddRows:n,getRowKey:o,readOnly:s,gridRef:i,data:c,onChange:u,onActiveCellChange:d,getRowClassName:p,height:m=300,sprodDisabled:f,sqtyDisabled:h,stypeDisabled:g,creating:x,getSPriceClassName:y,...D}=e,v=a.useCallback(({rowData:I})=>({...I,Pkey:zn()}),[]),T=a.useCallback(({rowData:I})=>{console.log("deleteRow",I)},[]);return r.jsx(dr,{ref:i,rowKey:o,lockRows:s||n,height:m+(s?48:0),value:c,onChange:u,onActiveCellChange:d,addRowsComponent:rEt,disableExpandSelection:!0,contextMenuComponent:oEt,createRow:t,duplicateRow:v,rowClassName:p,deleteRow:T,...D})});hH.propTypes={getRowKey:l.func,spriceDisabled:l.func,sprodDisabled:l.func,onChange:l.func,onActiveCellChange:l.func,getRowClassName:l.func,getSPriceClassName:l.func,readOnly:l.bool,disableAddRows:l.bool,creating:l.bool,height:l.number,gridRef:l.func,data:l.array.isRequired,sqtyDisabled:l.func,stypeDisabled:l.func};hH.displayName="C06ProdGrid";const fje=e=>{const{...t}=e,n=a.useContext(Be),o=a.useContext(tp),s=a.useContext(Lr),{height:i}=Wt(),c=Ke(),u=a.useMemo(()=>o.buildGridChangeHandler({getValues:c.getValues,setValue:c.setValue,gridMeta:s.gridMeta,onUpdateRow:o.onUpdateRow,onGridChanged:o.onGridChanged}),[o,c.getValues,c.setValue,s.gridMeta]),d=a.useMemo(()=>({...Pe.keyColumn("tooltip",If({arrow:!0,placement:"left-start"}))}),[]),p=a.useMemo(()=>i-366,[i]);return r.jsx(Kn.Provider,{value:{...o.grid,...s.gridMeta,readOnly:s.readOnly},children:r.jsx(hH,{gridRef:s.gridMeta.setGridRef,readOnly:s.readOnly,data:o.gridData,onChange:u,onActiveCellChange:s.gridMeta.handleActiveCellChange,bearer:n.token,height:p,getRowKey:o.getRowKey,getSPriceClassName:o.getSPriceClassName,creating:o.creating,sqtyDisabled:o.sqtyDisabled,stypeDisabled:o.stypeDisabled,sprodDisabled:o.sprodDisabled,disableAddRows:o.disableAddRows,createRow:o.createRow,stickyRightColumn:d,...t})})};fje.displayName="C06ProdGridContainer";const gH=a.memo(e=>{const{onSubmit:t,readError:n,readWorking:o,itemDataReady:s,creating:i,editing:c,squaredFlagDisabled:u,handleSpDeptChanged:d,spDeptDisabled:p,slotProps:m}=e;return r.jsxs("form",{onSubmit:t,children:[o&&r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",minHeight:"30em",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}),n&&r.jsx(lo,{error:n,...m==null?void 0:m.error}),s&&r.jsxs(Pt,{pt:c?1:0,children:[r.jsxs(j,{container:!0,columns:24,spacing:1,children:[!i&&r.jsx(j,{item:!0,xs:24,sm:24,md:3,children:r.jsx($e,{typo:!0,name:"OrdID",label:"",fullWidth:!0,readOnly:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:4.5,children:r.jsx(et,{typo:!0,autoFocus:!0,name:"OrdDate",label:"",fullWidth:!0,required:!0,validate:!0,variant:"outlined"})}),r.jsx(j,{item:!0,xs:24,sm:24,md:4.5,children:r.jsx(et,{typo:!0,name:"ArrDate",label:"",fullWidth:!0,required:!0,validate:!0,variant:"outlined"})}),r.jsx(j,{item:!0,xs:24,sm:24,md:5,children:r.jsx(Uo,{typo:!0,name:"spDept",label:"",excludesSelf:!0,required:!0,rules:{required:""},onChanged:d,disabled:p,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:5,children:r.jsx(Ar,{typo:!0,label:"",name:"employee",required:!0,rules:{required:""},virtualize:!0,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:4,children:r.jsx(mH,{typo:!0,name:"squared",label:"",disabled:u,disableOpenOnInput:!0})}),!i&&r.jsx(j,{item:!0,xs:24,md:5,children:r.jsx(pn,{name:"transOutOrders",label:"",stringify:ol.stringifyOrders,flex:!0})})]}),r.jsx(jt,{py:1,children:r.jsx(fje,{})}),r.jsx(fH,{}),r.jsx(j,{container:!0,columns:24,children:r.jsx(j,{item:!0,xs:24,children:r.jsx($e,{typo:!0,name:"remark",multiline:!0,minRows:2,maxRows:5,label:"",fullWidth:!0})})})]})]})});gH.propTypes={creating:l.bool,editing:l.bool,readWorking:l.bool,squaredFlagDisabled:l.bool,spDeptDisabled:l.bool,handleSpDeptChanged:l.func,readError:l.object,data:l.object,itemDataReady:l.bool,purchaseOrdersDisabled:l.bool,handleRtnDateChanged:l.func,onSubmit:l.func,slotProps:l.object};gH.displayName="C06DialogForm";const bH=a.memo(a.forwardRef((e,t)=>{const{onSave:n,onCancel:o,onRefresh:s,editWorking:i,refreshWorking:c,...u}=e;return r.jsxs(a.Fragment,{ref:t,...u,children:[s&&r.jsx(dt,{responsive:!0,onClick:s,type:"button",endIcon:r.jsx(Jb,{}),color:"info",variant:"contained",loading:c,children:""}),r.jsx(dt,{responsive:!0,onClick:o,color:"warning",variant:"outlined",...u,children:""}),r.jsx(dt,{responsive:!0,onClick:n,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:i,children:""})]})}));bH.displayName="C06DialogEditToolbar";bH.propTypes={onCancel:l.func,onSave:l.func,onRefresh:l.func,onLoadProds:l.func,refreshWorking:l.bool,editWorking:l.bool};const hje=e=>{const{...t}=e,n=Ke(),o=a.useContext(tp),{canPrint:s}=o,i=n.handleSubmit(o.onPrintSubmit,o.onPrintSubmitError);return s?r.jsx(xn,{onSubmit:i,...t}):!1};hje.displayName="C06ExportButtonContainer";const gje=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,checkEditableWorking:o,onDelete:s,onPrint:i,onSideDrawerOpen:c,...u}=e;return r.jsxs(a.Fragment,{ref:t,...u,children:[i&&r.jsx(hje,{}),s&&r.jsx(dt,{responsive:!0,startIcon:r.jsx(im,{}),color:"secondary",onClick:s,children:""}),n&&r.jsx(dt,{responsive:!0,startIcon:r.jsx(bo,{}),color:"primary",onClick:n,loading:o,children:""}),r.jsx(jr,{title:"",children:r.jsx(br,{onClick:c,size:"small",children:r.jsx(Po,{})})})]})}));gje.propTypes={onEdit:l.func,onDelete:l.func,onPrint:l.func,onSideDrawerOpen:l.func,checkEditableWorking:l.bool};const bje=e=>{const{...t}=e,n=a.useContext(tp),o=Ke();a.useMemo(()=>n.canDelete,[n.canDelete]);const s=o.handleSubmit(n.onPrintSubmit,n.onPrintSubmitError);return n.itemDataReady?n.editing?r.jsx(bH,{onRefresh:n.handleRefresh({setValue:o.setValue,getValues:o.getValues}),refreshWorking:n.refreshWorking,onSave:o.handleSubmit(n.onEditorSubmit,n.onEditorSubmitError),editWorking:n.editWorking,onCancel:n.updating?n.confirmReturnReading:n.confirmQuitCreating,...t}):r.jsx(gje,{onEdit:n.canUpdate?n.promptUpdating:null,onDelete:n.canDelete?n.confirmDelete:null,onPrint:n.canPrint?s:null,onSideDrawerOpen:n.handleSideDrawerOpen,...t}):!1};bje.displayName="C06DialogToolbarContainer";const xje=a.forwardRef((e,t)=>{const{...n}=e,{height:o}=Wt(),s=a.useMemo(()=>o-120,[o]),i=at({defaultValues:{prods:[]}}),{reset:c}=i,u=Ue({name:"spDept",control:i.control}),d=a.useContext(tp),p=Qr({height:s,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),m=a.useMemo(()=>d.creating?"":d.updating?"":"",[d.creating,d.updating]),f=a.useMemo(()=>!d.editing||!u,[d.editing,u]),h=a.useMemo(()=>[{...Pe.keyColumn("prod",or(ls,{name:"prod",withStock:!0,packageType:"s",forId:!0,disableClearable:!0,slotProps:{paper:{sx:{width:360}}},focusOnDisabled:!0})),title:"",minWidth:130,maxWidth:150,disabled:f||d.sprodDisabled},{...Pe.keyColumn("ProdData",kt({continuousUpdates:!1})),title:"",disabled:!0,grow:2},{...Pe.keyColumn("SPrice",Jn(2)),title:"",minWidth:90,disabled:!0,cellClassName:d.getSPriceClassName},{...Pe.keyColumn("SQty",Jn(2)),title:"",minWidth:90,disabled:f||d.sqtyDisabled},{...Pe.keyColumn("PackData_N",kt({continuousUpdates:!1})),minWidth:60,maxWidth:60,title:"",disabled:!0},{...Pe.keyColumn("SAmt",Jn(2)),title:"",minWidth:90,disabled:!0},{...Pe.keyColumn("stype",or(ad,{name:"stype",disableClearable:!0,disableOpenOnInput:!0,autoHighlight:!0,selectOnFocus:!0})),title:"",minWidth:70,maxWidth:70,disabled:f||d.stypeDisabled},{...Pe.keyColumn("SRemark",kt({continuousUpdates:!1})),title:"",grow:1,disabled:f},{...Pe.keyColumn("SNotQty",Jn(2)),title:"",minWidth:90,disabled:f||d.sNotQtyDisabled}],[f,d.sprodDisabled,d.getSPriceClassName,d.sqtyDisabled,d.stypeDisabled,d.sNotQtyDisabled]),g=hr({data:d.grid.gridData,columns:h,skipDisabled:!0,lastCell:Xn.CREATE_ROW}),x=a.useMemo(()=>d.creating?d.confirmQuitCreating:d.updating?d.confirmQuitUpdating:d.reading?d.cancelAction:null,[d.cancelAction,d.confirmQuitCreating,d.confirmQuitUpdating,d.creating,d.reading,d.updating]),y=a.useCallback(()=>{d.editing&&i.handleSubmit(d.onEditorSubmit,d.onEditorSubmitError)()},[d.editing,d.onEditorSubmit,d.onEditorSubmitError,i]);$t(["Control+Enter"],()=>setTimeout(y),{enableOnFormTags:!0});const D=a.useCallback(()=>{if(console.log("handleLastField"),!u){ae.error(""),i.setFocus("spDept");return}g.setActiveCell({col:0,row:0})},[i,g,u]),v=vt(`
		OrdDate,
		ArrDate,
		spDept,
		employee,
		squared,
		`,{lastField:D}),T=a.useCallback(I=>{switch(I.name){case"squared":return d.squaredFlagDisabled;default:return!1}},[d.squaredFlagDisabled]);return mn(()=>{d.itemDataReady&&(console.log("c06 form reset",d.itemData),c(d.itemData))},[d.itemData,d.itemDataReady]),r.jsx(Ye,{...i,children:r.jsx(Er,{ref:t,title:m,responsive:!0,fullWidth:!0,maxWidth:"lg",TitleButtonsComponent:bje,open:d.itemViewOpen,onClose:x,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[{minHeight:"30em",paddingTop:0},p.scroller],...n,children:r.jsxs(Ct,{...v,isFieldDisabled:T,gridMeta:g,readOnly:f,children:[r.jsx(gH,{onSubmit:y,creating:d.creating,editing:d.editing,updating:d.updating,readWorking:d.readWorking,readError:d.readError,data:d.itemData,itemDataReady:d.itemDataReady,squaredFlagDisabled:d.squaredFlagDisabled,handleSpDeptChanged:d.handleSpDeptChanged({setValue:i.setValue,getValues:i.getValues}),spDeptDisabled:d.spDeptDisabled}),r.jsx(uH,{BackdropProps:{sx:[ur.BACKDROP_TRANSPARENT]}})]})})})});xje.displayName="C06DialogContainer";const WC=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:3,...t})};WC.propTypes={loading:l.bool,children:l.oneOfType([l.node])};WC.displayName="C06DateColumn";const iA=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:4,...t})};iA.propTypes={loading:l.bool,expChecking:l.bool,children:l.oneOfType([l.node])};iA.displayName="C06DeptNameColumn";const lA=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:1,...t})};lA.propTypes={loading:l.bool,children:l.oneOfType([l.node])};lA.displayName="C06FlagColumn";const cA=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:3,...t})};cA.propTypes={loading:l.bool,children:l.oneOfType([l.node])};cA.displayName="C06IdColumn";const uA=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:3,...t})};uA.propTypes={loading:l.bool,children:l.oneOfType([l.node])};uA.displayName="C06UserColumn";const dA=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:2,...t})};dA.propTypes={loading:l.bool,children:l.oneOfType([l.node])};dA.displayName="C06DeptIdColumn";const xH=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsxs(io,{ref:t,...n,children:[r.jsx(Hn,{}),r.jsx(lA,{children:""}),r.jsx(cA,{children:""}),r.jsx(WC,{children:""}),r.jsx(WC,{children:""}),r.jsx(uA,{children:""}),r.jsx(dA,{children:""}),r.jsx(iA,{children:""})]})}));xH.propTypes={expChecking:l.bool};xH.displayName="C06ListHeader";const yje=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(tp),s=a.useMemo(()=>"",[]);return r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(Ao,{}),onClick:o.promptCreating,sx:{fontWeight:600},...n,children:s})}));yje.displayName="C06CreateButtonContainer";const Cje=()=>{const e=a.useContext(tp);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};Cje.displayName="C06FetchResultLabelContainer";const Dje=a.memo(()=>r.jsx(r.Fragment,{children:r.jsx(yje,{})}));Dje.displayName="LeftButtons";const yH=a.memo(a.forwardRef(({loading:e,...t},n)=>r.jsx(kn,{pl:0,alignItems:"flex-end",ref:n,LeftComponent:e?Cr:Dje,RightComponent:Cje,...t})));yH.displayName="C06ListViewToolbar";yH.propTypes={loading:l.bool};l.bool,l.oneOfType([l.node]);const CH=a.memo(e=>{const{index:t,style:n,value:o,onClick:s}=e,i=a.useMemo(()=>[o==null?void 0:o.].filter(u=>u).join(" "),[o==null?void 0:o.]),c=a.useMemo(()=>[o==null?void 0:o.,o==null?void 0:o.].filter(u=>u).join(" "),[o==null?void 0:o.,o==null?void 0:o.]);return r.jsx("div",{style:n,children:r.jsxs(yo,{borderBottom:!0,onClick:s,children:[r.jsx(na,{}),r.jsx(jt,{children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t}),r.jsx(lA,{children:o==null?void 0:o.}),r.jsx(cA,{children:o==null?void 0:o.}),r.jsx(WC,{children:o==null?void 0:o.}),r.jsx(WC,{children:o==null?void 0:o.}),r.jsx(uA,{children:o==null?void 0:o.}),r.jsx(dA,{children:i}),r.jsx(iA,{children:c})]})})]})})});CH.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,expChecking:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func,promptCopyAuth:l.func};CH.displayName="C06ListRow";const DH=e=>{const t=a.useContext(tp),{isItemLoading:n}=t,{index:o,...s}=e,i=a.useMemo(()=>n(o),[o,n]),c=a.useMemo(()=>t.listData[o],[t.listData,o]);return r.jsx(No,{loading:i,children:r.jsx(CH,{index:o,value:c,onClick:u=>t.handleSelect(u,c),...s})})};DH.propTypes={index:l.number,data:l.object};DH.displayName="C06ListRowContainer";const Sje=()=>{const e=a.useContext(tp),{loadList:t}=e,n=Ke(),{height:o}=Wt(),s=Ue({name:"lvOrder",control:n.control}),i=Yn(s,300),c=Ue({name:"lvOrdDate",control:n.control}),u=Yn(c,300),d=Ue({name:"lvArrDate",control:n.control}),p=Yn(d,300),m=Ue({name:"lvEmployee",control:n.control}),f=Yn(m,300),h=Ue({name:"lvSquared",control:n.control}),g=Yn(h,300),x=Ue({name:"lvDept",control:n.control}),y=Yn(x,300);En(()=>{e.loadList({params:{}})},[]),mn(()=>{t({params:{...i&&{q:i==null?void 0:i.},...ol.transformAsQueryParams({employee:f,orddate:u,arrdate:p,...g&&{squared:g},shdept:y})},supressLoading:!0})},[i,f,u,p,g,y]);const{isLgOrUp:D}=a.useContext(Zh),v=a.useMemo(()=>o?D?o-200:o-250:300,[o,D]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:DH,height:v,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};Sje.displayName="C06ListViewContainer";const SH=a.memo(e=>{const{...t}=e;return r.jsx(Pt,{children:r.jsxs(Vt,{container:!0,spacing:1,columns:24,...t,children:[r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(Ez,{label:"",name:"lvOrder",autoFocus:!0,placeholder:"",disableOpenOnInput:!0})}),r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(et,{name:"lvOrdDate",label:"",clearable:!0})}),r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(et,{name:"lvArrDate",label:"",clearable:!0})}),r.jsx(uO,{md:!0}),r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(pO,{name:"lvSquared",label:"",clearable:!0})}),r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(Uo,{name:"lvDept",label:"",disableOpenOnInput:!0})}),r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(Ar,{name:"lvEmployee",label:"",disableOpenOnInput:!0})})]})})});SH.propTypes={};SH.displayName="C06SearchForm";const vje=e=>{const{...t}=e,n=vt(`
		lvOrder,
		lvOrdDate,
		lvArrDate,
		lvSquared,
		lvDept,
		lvEmployee
		`);return r.jsx(Ct,{...n,children:r.jsx(SH,{...t})})};vje.displayName="C06SearchFormContainer";const jje=()=>{const e=at({defaultValues:{}});return r.jsxs(Ft,{children:[r.jsxs(Ye,{...e,children:[r.jsx(_t,{}),r.jsxs(li,{children:[r.jsx(vje,{initSize:"md"}),r.jsx(yH,{}),r.jsx(xH,{}),r.jsx(Sje,{})]})]}),r.jsx(xje,{})]})};jje.displayName="C06FrameContainer";const np=a.createContext(),Ije=e=>(e==null?void 0:e.map(({SProdID:t,ProdData_N:n,SType:o,...s})=>({prod:{ProdID:t,ProdData:n},ProdData:n,stype:zc.getOptionById(o),...s})))||[],sEt=e=>e.filter(t=>{var n;return(n=t.prod)==null?void 0:n.ProdID}).map(({Pkey:t,prod:n,SQty:o,SPrice:s,SAmt:i,stype:c,...u},d)=>({Pkey:(t==null?void 0:t.length)<36?"":t,SProdID:n==null?void 0:n.ProdID,ProdData_N:n==null?void 0:n.ProdData,SQty:(o==null?void 0:o.toString())||"",SPrice:(s==null?void 0:s.toString())||"",SAmt:(i==null?void 0:i.toString())||"",SType:(c==null?void 0:c.id)||"",Seq:d+1,...u})),aEt=e=>{const{OrdDate:t,ArrDate:n,CFlag:o,EmplID:s,EmplData_N:i,OrdDeptID:c,OrdDeptName_N:u,TxoID:d,TxiID:p,DepOrd_S:m,Remark:f,...h}=e;return{OrdDate:Re.parseDate(t),ArrDate:Re.parseDate(n),squared:Ej.getSquaredOptionById(o),employee:{CodeID:s,CodeData:i},ordDept:{DeptID:c,AbbrName:u},TxoID:d,transOutOrders:(d==null?void 0:d.split(/[|,]/).filter(g=>!!g).map(g=>({:g})))||[],transInOrders:(p==null?void 0:p.split(/[|,]/).filter(g=>!!g).map(g=>({:g})))||[],prods:Ije(m),remark:f.join(`
`),...h}},iEt=(e,t)=>{const{OrdID:n,OrdDate:o,employee:s,supplier:i,remark:c,...u}=e;return{OrdID:n,OrdDate:o?Re.formatDate(o):"",EmplID:(s==null?void 0:s.CodeID)||"",FactID:(i==null?void 0:i.FactID)||"",Remark:(c==null?void 0:c.split(`
`))||[],...u,...t&&{GdsRt_S:sEt(t)}}},lEt=e=>{if(!e)return 0;let t=0;for(const n of e){const{SAmt:o}=n;t+=o?Number(o):0}return t},cEt=e=>{const{squared:t,arrDate:n,ordDate:o,employee:s,ordDept:i,...c}=e;return{...t&&{sf:t.id},...i&&{odp:i.DeptID},...s&&{emp:s.CodeID},...o&&{od:Re.formatDate(o)},...n&&{ad:Re.formatDate(n)},...c}},uEt=e=>Gn.isAnyPropNotEmpty(e,"ordDate,arrDate,ordDept,employee,squared"),dEt=e=>e?e.map(t=>t==null?void 0:t.).filter(t=>!!t).join(", "):"",kp={transformForReading:aEt,transformForSubmitting:iEt,transformAsQueryParams:cEt,transformGridForReading:Ije,getTotal:lEt,isFiltered:uEt,stringifyOrders:dEt},pA=e=>{const{name:t="OrdAmt",...n}=e,o=Ue({name:t}),s=a.useMemo(()=>!isNaN(o)&&o!==""?parseFloat(o).toFixed(2):"0.00",[o]);return r.jsxs(ve,{inline:!0,sx:{fontWeight:700},children:["",r.jsx(nn,{color:"primary",...n,children:s})]})};pA.propTypes={name:l.string};pA.displayName="C07ProdGridSubtotalLabel";const pEt=()=>r.jsx(r.Fragment,{children:r.jsx(pA,{name:"OrdAmt"})}),vH=a.forwardRef((e,t)=>{const{...n}=e;return a.useContext(np).editing?!1:r.jsx(kn,{ref:t,RightComponent:pEt,...n})});vH.propTypes={};vH.displayName="C07ProdGridBottomToolbar";const mEt=Aa({translationKeys:{button:"",unit:""},RightComponent:pA}),fEt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),jH=a.memo(e=>{const{createRow:t,getRowKey:n,readOnly:o,gridRef:s,data:i,onChange:c,onActiveCellChange:u,getRowClassName:d,height:p=300}=e,m=a.useCallback(({rowData:h})=>({...h,Pkey:zn()}),[]),f=a.useCallback(({rowData:h})=>{console.log("deleteRow",h)},[]);return r.jsx(dr,{ref:s,rowKey:n,lockRows:o,height:p+(o?48:0),value:i,onChange:c,onActiveCellChange:u,addRowsComponent:mEt,disableExpandSelection:!0,contextMenuComponent:fEt,createRow:t,duplicateRow:m,rowClassName:d,deleteRow:f})});jH.propTypes={getRowKey:l.func,spriceDisabled:l.func,prodDisabled:l.func,onChange:l.func,onActiveCellChange:l.func,getRowClassName:l.func,getSPriceClassName:l.func,readOnly:l.bool,height:l.number,gridRef:l.func,createRow:l.func,data:l.array.isRequired};jH.displayName="C07ProdGrid";const Tje=e=>{const{...t}=e,n=a.useContext(np),o=a.useContext(Be),{height:s}=Wt(),i=Ke(),c=a.useContext(Lr);Ue({name:"supplier",conrtol:i.control}),Ue({name:"GrtDate",control:i.control});const u=a.useMemo(()=>n.buildGridChangeHandler({getValues:i.getValues,setValue:i.setValue}),[n,i.getValues,i.setValue]),d=a.useMemo(()=>s-390,[s]);return r.jsx(Kn.Provider,{value:{...n.grid,...c.gridMeta,readOnly:c.readOnly},children:r.jsx(jH,{gridRef:c.gridMeta.setGridRef,readOnly:c.readOnly,data:n.gridData,onChange:u,onActiveCellChange:c.gridMeta.handleActiveCellChange,bearer:o.token,height:d,getRowKey:n.getRowKey,...t})})};Tje.displayName="C07ProdGridContainer";const IH=a.memo(e=>{const{onSubmit:t,readError:n,data:o,readWorking:s,itemDataReady:i,creating:c,editing:u,updating:d,handleSupplierChanged:p,handlePurchaseOrdersChanged:m,handleRtnDateChanged:f,handleLoadProdsSubmit:h,handleTaxTypeChange:g,isSupplierNameDisabled:x,purchaseOrdersDisabled:y,supplier:D,slotProps:v,...T}=e;return r.jsxs("form",{onSubmit:t,children:[s&&r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",minHeight:"30em",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}),n&&r.jsx(lo,{error:n,...v==null?void 0:v.error}),i&&r.jsxs(Pt,{pt:u?1:0,children:[r.jsxs(j,{container:!0,columns:24,spacing:1,children:[!c&&r.jsx(j,{item:!0,xs:24,sm:24,md:3,children:r.jsx($e,{typo:!0,name:"OrdID",label:"",autoFocus:!0,fullWidth:!0,readOnly:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:4.5,children:r.jsx(et,{typo:!0,name:"OrdDate",label:"",autoFocus:!0,fullWidth:!0,required:!0,validate:!0,variant:"outlined",onChanged:f})}),r.jsx(j,{item:!0,xs:24,sm:24,md:4.5,children:r.jsx(et,{typo:!0,name:"ArrDate",label:"",fullWidth:!0,required:!0,validate:!0,variant:"outlined"})}),r.jsx(j,{item:!0,xs:24,sm:24,md:4,children:r.jsx(Ar,{typo:!0,label:"",name:"employee",required:!0,rules:{required:""},virtualize:!0,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:5,children:r.jsx(Uo,{typo:!0,name:"ordDept",label:"",autoFocus:!0,excludesSelf:!0,required:!0,rules:{required:""},disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:3,children:r.jsx(pO,{typo:!0,name:"squared",label:"",disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:24,md:5,children:r.jsx(pn,{name:"transOutOrders",label:"",stringify:kp.stringifyOrders,flex:!0})})]}),r.jsx(jt,{py:1,children:r.jsx(Tje,{})}),r.jsx(vH,{}),r.jsx(j,{container:!0,columns:24,children:r.jsx(j,{item:!0,xs:24,children:r.jsx($e,{typo:!0,name:"remark",multiline:!0,minRows:2,maxRows:5,label:"",fullWidth:!0})})})]})]})});IH.propTypes={readWorking:l.bool,readError:l.object,data:l.object,itemDataReady:l.bool,purchaseOrdersDisabled:l.bool,handleRtnDateChanged:l.func,slotProps:l.object};IH.displayName="C07DialogForm";const Oje=a.memo(a.forwardRef((e,t)=>{const{onSave:n,onCancel:o,onRefresh:s,editWorking:i,refreshWorking:c,...u}=e;return r.jsxs(a.Fragment,{ref:t,...u,children:[s&&r.jsx(dt,{responsive:!0,onClick:s,type:"button",endIcon:r.jsx(Jb,{}),color:"info",variant:"contained",loading:c,children:""}),r.jsx(dt,{responsive:!0,onClick:o,color:"warning",variant:"outlined",...u,children:""}),r.jsx(dt,{responsive:!0,onClick:n,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:i,children:""})]})}));Oje.displayName="C07DialogEditToolbar";Oje.propTypes={onCancel:l.func,onSave:l.func,onRefresh:l.func,onLoadProds:l.func,refreshWorking:l.bool,editWorking:l.bool};const Eje=e=>{const{...t}=e,n=Ke(),o=a.useContext(np),{canPrint:s}=o,i=n.handleSubmit(o.onPrintSubmit,o.onPrintSubmitError);return s?r.jsx(xn,{onSubmit:i,...t}):!1};Eje.displayName="C07ExportButtonContainer";const Pje=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,checkEditableWorking:o,onDelete:s,onPrint:i,onSideDrawerOpen:c,...u}=e;return r.jsxs(a.Fragment,{ref:t,...u,children:[i&&r.jsx(Eje,{}),s&&r.jsx(dt,{responsive:!0,startIcon:r.jsx(im,{}),color:"secondary",onClick:s,children:""}),n&&r.jsx(dt,{responsive:!0,startIcon:r.jsx(bo,{}),color:"primary",onClick:n,loading:o,children:""}),r.jsx(jr,{title:"",children:r.jsx(br,{onClick:c,size:"small",children:r.jsx(Po,{})})})]})}));Pje.propTypes={onEdit:l.func,onDelete:l.func,onPrint:l.func,onSideDrawerOpen:l.func,checkEditableWorking:l.bool};const Rje=e=>{const{...t}=e,n=a.useContext(np),o=Ke();a.useMemo(()=>n.canDelete,[n.canDelete]);const s=o.handleSubmit(n.onPrintSubmit,n.onPrintSubmitError);return n.itemDataReady?r.jsx(Pje,{onPrint:n.canPrint?s:null,onSideDrawerOpen:n.handleSideDrawerOpen,...t}):!1};Rje.displayName="C07DialogToolbarContainer";const TH=a.memo(e=>{var s,i,c;const{anchor:t="right",...n}=e,o=a.useContext(np);return r.jsxs(Eo,{anchor:t,open:o.sideDrawerOpen,onClose:o.handleSideDrawerClose,slotProps:{backdrop:{sx:[ur.BACKDROP_TRANSPARENT]}},...n,children:[r.jsx(pn,{label:"",children:(s=o.itemData)==null?void 0:s.WriteDate_N}),r.jsx(pn,{label:"",children:(i=o.itemData)==null?void 0:i.Writer_N}),r.jsx(pn,{label:"",children:(c=o.itemData)==null?void 0:c.TxoID})]})});TH.propTypes={anchor:l.string};TH.displayName="C07Drawer";const wje=a.forwardRef((e,t)=>{const{...n}=e,{height:o}=Wt(),s=a.useMemo(()=>o-120,[o]),i=at({defaultValues:{prods:[]}}),{reset:c}=i,u=Ue({name:"supplier",control:i.control}),d=a.useContext(np),p=Qr({height:s,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),m=a.useMemo(()=>d.creating?"":d.updating?"":"",[d.creating,d.updating]),f=a.useMemo(()=>d.creating?d.confirmQuitCreating:d.updating?d.confirmQuitUpdating:d.reading?d.cancelAction:null,[d.cancelAction,d.confirmQuitCreating,d.confirmQuitUpdating,d.creating,d.reading,d.updating]),h=a.useMemo(()=>!d.editing,[d.editing]),g=a.useMemo(()=>[{...Pe.keyColumn("prod",or(ls,{name:"prod",withStock:!0,packageType:"i",forId:!0,disableClearable:!0,slotProps:{paper:{sx:{width:360}}}})),title:"",minWidth:130,maxWidth:150,disabled:h},{...Pe.keyColumn("ProdData",kt({continuousUpdates:!1})),title:"",disabled:!0,grow:2},{...Pe.keyColumn("PackData_N",kt({continuousUpdates:!1})),minWidth:60,maxWidth:60,title:"",disabled:!0},{...Pe.keyColumn("SPrice",Jn(2)),title:"",minWidth:100,disabled:h,cellClassName:d.getSPriceClassName},{...Pe.keyColumn("SQty",Jn(2)),title:"",minWidth:90,disabled:h},{...Pe.keyColumn("SAmt",Jn(2)),title:"",minWidth:100,disabled:!0},{...Pe.keyColumn("stype",or(ad,{name:"stype",disableClearable:!0})),title:"",minWidth:80,maxWidth:80,disabled:h},{...Pe.keyColumn("SRemark",kt({continuousUpdates:!1})),title:"",minWidth:120,disabled:h},{...Pe.keyColumn("SNotQty",Jn(2)),title:"",minWidth:90,disabled:h}],[d.getSPriceClassName,h]),x=hr({data:d.grid.gridData,columns:g,skipDisabled:!0,lastCell:Xn.CREATE_ROW}),y=a.useCallback(()=>{x.setActiveCell({col:0,row:0})},[x]),D=vt(`
		OrdDate,
		ArrDate,
		employee,
		ordDept,
		squared
		`,{lastField:y}),v=a.useCallback(I=>{switch(I.name){default:return!1}},[]),T=a.useCallback(()=>{d.editing&&i.handleSubmit(d.onEditorSubmit,d.onEditorSubmitError)()},[d.editing,d.onEditorSubmit,d.onEditorSubmitError,i]);return $t(["Control+Enter"],()=>setTimeout(T),{enableOnFormTags:!0}),mn(()=>{d.itemDataReady&&(console.log("c07 form reset",d.itemData),c(d.itemData))},[d.itemData,d.itemDataReady]),r.jsx(Ye,{...i,children:r.jsxs(Er,{ref:t,title:m,responsive:!0,fullWidth:!0,maxWidth:"lg",TitleButtonsComponent:Rje,open:d.itemViewOpen,onClose:f,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[{paddingTop:0},p.scroller],...n,children:[r.jsx(Ct,{...D,isFieldDisabled:v,gridMeta:x,readOnly:h,children:r.jsx(IH,{onSubmit:T,creating:d.creating,editing:d.editing,updating:d.updating,readWorking:d.readWorking,readError:d.readError,data:d.itemData,itemDataReady:d.itemDataReady,handleSupplierChanged:d.handleSupplierChanged({setValue:i.setValue,getValues:i.getValues}),handleRtnDateChanged:d.handleRtnDateChanged({setValue:i.setValue,getValues:i.getValues}),supplier:u,isSupplierNameDisabled:d.isSupplierNameDisabled,purchaseOrdersDisabled:d.purchaseOrdersDisabled,handleTaxTypeChange:d.handleTaxTypeChange({setValue:i.setValue,getValues:i.getValues})})}),r.jsx(TH,{BackdropProps:{sx:[ur.BACKDROP_TRANSPARENT]}})]})})});wje.displayName="C07DialogContainer";const UC=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:3,...t})};UC.propTypes={loading:l.bool,children:l.oneOfType([l.node])};UC.displayName="C07DateColumn";l.bool,l.oneOfType([l.node]);const qC=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:4,...t})};qC.propTypes={loading:l.bool,expChecking:l.bool,children:l.oneOfType([l.node])};qC.displayName="C07DeptNameColumn";const mA=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:1,...t})};mA.propTypes={loading:l.bool,children:l.oneOfType([l.node,l.array])};mA.displayName="C07FlagColumn";const fA=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:3,...t})};fA.propTypes={loading:l.bool,children:l.oneOfType([l.node])};fA.displayName="C07IdColumn";const hA=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:3,...t})};hA.propTypes={loading:l.bool,children:l.oneOfType([l.node])};hA.displayName="C07UserColumn";const OH=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsxs(io,{ref:t,...n,children:[r.jsx(Hn,{}),r.jsx(mA,{children:""}),r.jsx(fA,{children:""}),r.jsx(UC,{children:""}),r.jsx(UC,{children:""}),r.jsx(hA,{children:""}),r.jsx(qC,{children:""}),r.jsx(qC,{children:""})]})}));OH.propTypes={expChecking:l.bool};OH.displayName="C07ListHeader";const kje=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(np),s=a.useMemo(()=>"",[]);return r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(Ao,{}),onClick:o.promptCreating,sx:{fontWeight:600},...n,children:s})}));kje.displayName="C07CreateButtonContainer";const Aje=()=>{const e=a.useContext(np);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};Aje.displayName="C07FetchResultLabelContainer";const hEt=a.memo(()=>r.jsx(r.Fragment,{children:r.jsx(kje,{})}));hEt.displayName="LeftButtons";const EH=a.memo(a.forwardRef(({loading:e,...t},n)=>r.jsx(kn,{pl:0,alignItems:"flex-end",ref:n,RightComponent:Aje,...t})));EH.displayName="C07ListViewToolbar";EH.propTypes={loading:l.bool};const PH=a.memo(e=>{const{index:t,style:n,value:o,onClick:s}=e,i=a.useMemo(()=>[o==null?void 0:o.,o==null?void 0:o.].filter(u=>u).join(" "),[o==null?void 0:o.,o==null?void 0:o.]),c=a.useMemo(()=>[o==null?void 0:o.].filter(u=>u).join(" "),[o==null?void 0:o.]);return r.jsx("div",{style:n,children:r.jsxs(yo,{borderBottom:!0,onClick:s,children:[r.jsx(na,{}),r.jsx(jt,{children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t}),r.jsx(mA,{children:o==null?void 0:o.}),r.jsx(fA,{children:o==null?void 0:o.}),r.jsx(UC,{children:o==null?void 0:o.}),r.jsx(UC,{children:o==null?void 0:o.}),r.jsx(hA,{children:o==null?void 0:o.}),r.jsx(qC,{children:i}),r.jsx(qC,{children:c})]})})]})})});PH.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,expChecking:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func,promptCopyAuth:l.func};PH.displayName="C07ListRow";const RH=e=>{const t=a.useContext(np),{isItemLoading:n}=t,{index:o,...s}=e,i=a.useMemo(()=>n(o),[o,n]),c=a.useMemo(()=>t.listData[o],[t.listData,o]);return r.jsx(No,{loading:i,children:r.jsx(PH,{index:o,value:c,onClick:u=>t.handleSelect(u,c),...s})})};RH.propTypes={index:l.number,data:l.object};RH.displayName="C07ListRowContainer";const Nje=()=>{const e=a.useContext(np),{loadList:t}=e,n=Ke(),{height:o}=Wt(),s=Ue({name:"lvOrder",control:n.control}),i=Yn(s,300),c=Ue({name:"lvOrdDate",control:n.control}),u=Yn(c,300),d=Ue({name:"lvArrDate",control:n.control}),p=Yn(d,300),m=Ue({name:"lvEmployee",control:n.control}),f=Yn(m,300),h=Ue({name:"lvSquared",control:n.control}),g=Yn(h,300),x=Ue({name:"lvDept",control:n.control}),y=Yn(x,300);En(()=>{e.loadList({params:{}})},[]),mn(()=>{t({params:{...i&&{q:i==null?void 0:i.},...kp.transformAsQueryParams({...f&&{employee:f},...u&&{ordDate:u},...p&&{arrDate:p},...g&&{squared:g},...y&&{ordDept:y}})},supressLoading:!0})},[i,f,u,p,g,y]);const{isLgOrUp:D}=a.useContext(Zh),v=a.useMemo(()=>o?D?o-200:o-250:300,[o,D]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:RH,height:v,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};Nje.displayName="C07ListViewContainer";const gEt=e=>{if(!e)return"";const{:t}=e;return t?`${t}`:"(?)"},bEt=(e,t)=>e.===t.,xEt=e=>e.,yL={getOptionLabel:gEt,isOptionEqualToValue:bEt,renderOptionLabel:xEt},wH=a.memo(e=>{const{label:t="",...n}=e,{token:o}=a.useContext(Be),s=a.useMemo(()=>{const i={tp:1e4,opts:1};return Hr.stringify(i)},[]);return r.jsx(bt,{label:t,url:"v1/purchase/dep-recv-orders",bearer:o,queryParam:"qs",querystring:s,getOptionLabel:yL.getOptionLabel,isOptionEqualToValue:yL.isOptionEqualToValue,renderOptionLabel:yL.renderOptionLabel,notFoundText:" ${input} ",placeholder:"",typeToSearchText:"...",inputParam:"fz",...n})});wH.propTypes={label:l.string};wH.displayName="DeptRecvOrderPicker";const kH=a.memo(e=>{const{...t}=e;return r.jsx(Pt,{children:r.jsxs(Vt,{container:!0,spacing:1,columns:24,...t,children:[r.jsx(Vt,{item:!0,sm:7,md:6,lg:4,children:r.jsx(wH,{label:"",name:"lvOrder",autoFocus:!0,placeholder:"",disableOpenOnInput:!0})}),r.jsx(Vt,{item:!0,sm:7,md:6,lg:4,children:r.jsx(et,{name:"lvOrdDate",label:"",size:"small",validate:!0})}),r.jsx(Vt,{item:!0,sm:7,md:6,lg:4,children:r.jsx(et,{name:"lvArrDate",label:"",validate:!0})}),r.jsx(Vt,{item:!0,sm:7,md:6,lg:4,children:r.jsx(Uo,{name:"lvDept",label:"",disableOpenOnInput:!0})}),r.jsx(Vt,{item:!0,sm:7,md:6,lg:4,children:r.jsx(Ar,{name:"lvEmployee",label:"",disableOpenOnInput:!0})}),r.jsx(Vt,{item:!0,sm:7,md:6,lg:4,children:r.jsx(pO,{name:"lvSquared",label:"",disableOpenOnInput:!0})})]})})});kH.propTypes={};kH.displayName="C07SearchForm";const Fje=e=>{const{...t}=e,n=vt(`
		lvOrder,
		lvOrdDate,
		lvArrDate,
		lvDept,
		lvEmployee,
		lvSquared,
		`);return r.jsx(Ct,{...n,children:r.jsx(kH,{...t})})};Fje.displayName="C07SearchFormContainer";const Mje=()=>{const e=at({defaultValues:{}});return r.jsxs(Ft,{children:[r.jsxs(Ye,{...e,children:[r.jsx(_t,{}),r.jsxs(li,{columns:24,children:[r.jsx(Fje,{initSize:"md"}),r.jsx(EH,{}),r.jsx(OH,{}),r.jsx(Nje,{})]})]}),r.jsx(wje,{})]})};Mje.displayName="C07FrameContainer";const yEt=()=>{var q;const e=a.useContext(cr),{itemData:t}=e,n=a.useRef(),{token:o,operator:s}=a.useContext(Be),i=a.useContext(ln),c=Bt({moduleId:"C05"}),u=Co(),[d,p,m,f]=us(!1),{httpGetAsync:h,httpPostAsync:g,httpPutAsync:x,httpDeleteAsync:y}=Zn(),D=a.useContext(Mr),v=so({url:"v1/purchase/returns",bearer:o,initialFetchSize:50}),T=a.useCallback(()=>({Pkey:zn(),prod:null,SQty:"",SPrice:"",SRemark:"",ChkQty:"",SOrdID:""}),[]),I=yr({gridId:"prods",keyColumn:"pkey",createRow:T}),P=a.useCallback(({setValue:Y,data:ie,reset:B=!1})=>{B?(Y("InAmt",""),Y("TaxAmt",""),Y("TotAmt",""),Y("RecvAmt",""),Y("RtAmt",""),Y("RtnAmt","")):(Y("InAmt",ie.InAmt),Y("TaxAmt",ie.TaxAmt),Y("TotAmt",ie.TotAmt),Y("RecvAmt",ie.RecvAmt),Y("RtAmt",ie.RtAmt),Y("RtnAmt",ie.RtnAmt))},[]),E=a.useCallback(()=>{const Y={prods:[],GrtDate:new Date,RecvAmt:"",TaxType:"",employee:null,supplier:null};e.promptCreating({data:Y}),I.initGridData(Y.prods,{fillRows:!0})},[e,I]),k=a.useCallback(async({data:Y})=>{try{e.startCreating();const{status:ie,error:B}=await g({url:"v1/purchase/returns",data:Y,bearer:o});if(ie.success)ae.success(""),e.finishedCreating(),e.cancelReading(),v.loadList({refresh:!0});else throw B??new Error("")}catch(ie){e.failedCreating(),console.error("handleCreate.failed",ie),ae.error("",ie)}},[e,g,v,o]),w=a.useCallback(async({id:Y,refresh:ie=!1})=>{try{const B=ie?n.current:Y;ie||(n.current=Y,e.startReading("...",{id:Y}));const{status:Z,payload:ye,error:Ie}=await h({url:"v1/purchase/returns",bearer:o,params:{id:B}});if(Z.success){const le=zm.transformForReading(ye.data[0]);e.finishedReading({data:le}),I.handleGridDataLoaded(le.prods)}else throw Ie??new Error("")}catch(B){e.failedReading(B)}},[e,h,I,o]),A=a.useCallback(async(Y,ie)=>{Y==null||Y.stopPropagation(),e.cancelAction(),w({id:ie.})},[e,w]),F=a.useCallback(Y=>(Y==null?void 0:Y.FactID)!=="*",[]),_=a.useCallback(async({formData:Y,setValue:ie})=>{const B=Y.GrtDate;if(Y.supplier&&B&&I.gridData.filter(ye=>ye.prod).length>0){const ye=zm.transformForSubmitting(Y,I.gridData);console.log("collected",ye);try{const{status:Ie,payload:le,error:fe}=await g({url:"v1/purchase/returns/refresh-grid",bearer:o,data:ye});if(console.log("refresh-grid.payload",le),Ie.success){const Ae=zm.transformForReading(le.data[0]);console.log("refresh-grid.data",Ae),I.initGridData(Ae.prods,{fillRows:e.creating,supressEvents:!0}),P({setValue:ie,data:Ae}),ae.info("")}else throw fe??new Error("")}catch(Ie){ae.error("",Ie)}}else console.warn("clear values?")},[I,g,o,e.creating,P]),L=Or(),K=a.useCallback(({setValue:Y,getValues:ie})=>async()=>{console.log("handleRefresh");try{L.start(),_({formData:ie(),setValue:Y})}finally{L.clear()}},[L,_]),z=a.useCallback(({setValue:Y,getValues:ie})=>B=>{console.log("handleSupplierChanged",B),Y("FactData",(B==null?void 0:B.FactData)||""),Y("Uniform",(B==null?void 0:B.Uniform)||""),Y("TaxType",(B==null?void 0:B.TaxType)==="Y"?"Y":""),Y("FactAddr",(B==null?void 0:B.CompAddr)||""),_({formData:ie(),setValue:Y})},[_]),J=a.useCallback(({setValue:Y,getValues:ie})=>B=>{console.log("rtnDate changed",B),_({formData:ie(),setValue:Y})},[_]),Q=a.useCallback(()=>{D.confirm({message:"?",onConfirm:()=>{e.cancelAction()}})},[e,D]),V=a.useCallback(()=>{D.confirm({message:"?",onConfirm:()=>{e.cancelAction()}})},[e,D]),W=a.useCallback(()=>{D.confirm({message:"?",onConfirm:()=>{e.cancelUpdating(),w({refresh:!0})}})},[e,D,w]),U=a.useCallback(async({data:Y})=>{try{e.startUpdating();const{status:ie,error:B}=await x({url:"v1/purchase/returns",data:Y,bearer:o});if(ie.success)ae.success(""),e.finishedUpdating(),w({refresh:!0}),v.loadList({refresh:!0});else throw B??new Error("")}catch(ie){e.failedUpdating(),console.error("handleCreate.failed",ie),ae.error("",ie)}},[e,x,v,w,o]),X=a.useCallback(()=>{D.confirm({message:`${t==null?void 0:t.GrtID}?`,onConfirm:async()=>{try{e.startDeleting(t);const{status:Y,error:ie}=await y({url:"v1/purchase/returns",bearer:o,params:{id:t==null?void 0:t.GrtID}});if(Y.success)e.cancelAction(),ae.success(` ${t==null?void 0:t.GrtID}`),v.loadList({refresh:!0});else throw ie||""}catch(Y){e.failedDeleting(Y),console.error("confirmDelete.failed",Y),ae.error("",Y)}}})},[e,D,y,t,v,o]),te=a.useCallback(({reset:Y})=>()=>{Y({supplier:null,spn:"",spa:"",spu:"",inv:"",taxType:null,rd:null,rd2:null,employee:null})},[]),se=a.useCallback(Y=>{console.log("onSearchSubmit",Y),f(),v.loadList({params:zm.transformAsQueryParams(Y)})},[f,v]),he=a.useCallback(Y=>{console.error("onSearchSubmitError",Y)},[]),pe=a.useCallback(({rowData:Y,rowIndex:ie})=>`${(Y==null?void 0:Y.Pkey)||ie}`,[]),ue=a.useCallback(async(Y,{supplier:ie,rtnDate:B})=>{if(!Y){ae.error("",{position:"top-right"});return}const Z=ie==null?void 0:ie.FactID;if(!Z){ae.error("",{position:"top-right"});return}if(!gf(B)){ae.error("",{position:"top-right"});return}try{const{status:ye,payload:Ie,error:le}=await h({url:"v1/purchase/returns/prod-info",bearer:o,params:{spi:Z,pd:Y,rd:Re.formatDate(B)}});if(ye.success)return Ie;throw le??new Error("")}catch(ye){ae.error("",ye)}},[h,o]),ge=a.useCallback(({rowData:Y})=>!!Y.SInqFlag,[]),Ce=a.useCallback(async({formData:Y,gridData:ie,setValue:B})=>{const Z=zm.getTotal(ie);try{const{status:ye,payload:Ie,error:le}=await h({url:"v1/purchase/returns/refresh-amt",bearer:o,data:{tt:Y==null?void 0:Y.TaxType,arv:Y==null?void 0:Y.RecvAmt,art:Z}});if(ye.success)console.log("refresh-amt",Ie),B("RtnAmt",Ie.RtnAmt),B("TaxAmt",Ie.TaxAmt),B("TotAmt",Ie.TotAmt),B("RtAmt",Z.toFixed(2));else throw le||new Error("")}catch(ye){ae.error("",ye)}},[h,o]),Te=a.useCallback(({setValue:Y,getValues:ie})=>async B=>{console.log("onTaxTypeChanged",B);const Z=ie();Ce({formData:{...Z,TaxType:B},gridData:I.gridData,setValue:Y})},[Ce,I.gridData]),Ne=a.useCallback(({formData:Y,fromRowIndex:ie,updateResult:B})=>async(Z,ye)=>{var Ae,Se,be,Me,we;const Ie=ie+ye,le=I.gridData[Ie];console.log(` ${Ie} ...`,Z);let fe={...Z};if(((Ae=Z.prod)==null?void 0:Ae.ProdID)!=((Se=le.prod)==null?void 0:Se.ProdID)){console.log("prod[rowIndex] changed",Z==null?void 0:Z.prod);const Ge=(be=Z.prod)!=null&&be.ProdID?await ue(Z.prod.ProdID,{supplier:Y.supplier,rtnDate:Y.GrtDate}):null;console.log("prodInfo",Ge),fe={...fe,ProdData:((Me=Z.prod)==null?void 0:Me.ProdData)||"",PackData_N:((we=Z.prod)==null?void 0:we.PackData_N)||"",SInqFlag:(Ge==null?void 0:Ge.SInqFlag)||"",SPrice:(Ge==null?void 0:Ge.SPrice)||""}}return(Z.SPrice!==le.SPrice||Z.SQty!==le.SQty)&&(fe={...fe,SAmt:!Z.SPrice||!Z.SQty?"":Z.SPrice*Z.SQty},B.rows++),fe},[ue,I.gridData]),xe=a.useCallback(({gridData:Y,formData:ie,setValue:B,updateResult:Z,prevGridData:ye})=>{Z.rows>0&&Ce({formData:ie,gridData:Y,setValue:B})},[Ce]),me=a.useCallback(Y=>{console.log("onEditorSubmit",Y);const ie=zm.transformForSubmitting(Y,I.gridData);console.log("collected",ie),e.creating?k({data:ie}):e.updating?U({data:ie}):console.error("UNKNOWN SUBMIT TYPE")},[e.creating,e.updating,k,U,I.gridData]),de=a.useCallback(Y=>{console.error("onEditorSubmitError",Y),ae.error(", ")},[]),ce=a.useMemo(()=>`${i.REPORT_URL}/WebC05Rep.aspx`,[i.REPORT_URL]),ee=yn(),De=a.useCallback(Y=>{var B;console.log("onPrintSubmit",Y);const ie={...Y.outputType&&{Action:Y.outputType.id},DeptID:s==null?void 0:s.CurDeptID,JobName:"C05",IDs:(B=e.itemData)==null?void 0:B.GrtID};console.log("data",ie),ee.open(ce,ie)},[(q=e.itemData)==null?void 0:q.GrtID,s==null?void 0:s.CurDeptID,ce,ee]),ke=a.useCallback(Y=>{console.error("onPrintSubmitError",Y)},[]),He=a.useCallback(({setValue:Y})=>ie=>{console.log("handlePrint",ie),Y("outputType",ie)},[]),qe=a.useCallback(({setValue:Y})=>async ie=>{console.log("onRefreshGridSubmit",ie);try{if(I.gridData.length>0){const B=zm.transformForSubmitting(ie,I.gridData);console.log("collected",B);const{status:Z,payload:ye,error:Ie}=await g({url:"v1/purchase/returns/refresh-grid",bearer:o,data:B});if(console.log("refresh-grid.payload",ye),Z.success){const le=zm.transformForReading(ye.data[0]);console.log("refreshed data",le),I.initGridData(le.prods,{fillRows:e.creating,supressEvents:!0}),P({setValue:Y,data:le}),ae.info("")}else throw Ie??new Error("")}else P({setValue:Y,reset:!0})}catch(B){ae.error("",B)}},[I,g,o,e.creating,P]),Le=a.useCallback(Y=>{console.error("onRefreshGridSubmitError",Y)},[]),_e=Or(),H=a.useCallback(async()=>{try{_e.start();const{status:Y,error:ie}=await h({url:"v1/purchase/returns/check-editable",bearer:o,params:{id:e.itemData.GrtID}});if(Y.success)e.promptUpdating();else throw ie??new Error("")}catch(Y){ae.error("",Y)}finally{_e.clear()}},[_e,e,h,o]),re=a.useCallback(({setValue:Y,getValues:ie})=>B=>{console.log("handleRecvAmtChange",B);const Z=ie();console.log("formData",Z),Ce({formData:Z,gridData:I.gridData,setValue:Y})},[I.gridData,Ce]);return{...e,...v,...c,loadItem:w,handleSelect:A,handleSupplierChanged:z,popperOpen:d,handlePopperToggle:p,handlePopperOpen:m,handlePopperClose:f,handleReset:te,onSearchSubmit:se,onSearchSubmitError:he,confirmQuitCreating:Q,confirmQuitUpdating:V,confirmReturnReading:W,confirmDelete:X,promptCreating:E,onEditorSubmit:me,onEditorSubmitError:de,createRow:T,...I,grid:I,getRowKey:pe,spriceDisabled:ge,onPrintSubmit:De,onPrintSubmitError:ke,isSupplierNameDisabled:F,onRefreshGridSubmit:qe,onRefreshGridSubmitError:Le,handleTaxTypeChange:Te,checkEditableWorking:_e.working,handleCheckEditable:H,handleRefresh:K,refreshWorking:L.working,...u,onUpdateRow:Ne,onGridChanged:xe,handleRecvAmtChange:re,refreshGrid:_,handleRtnDateChanged:J,handlePrint:He}},_je=({children:e})=>{const t=yEt();return r.jsx(lu.Provider,{value:{...t},children:e})};_je.propTypes={children:l.oneOfType([l.array,l.object])};const CEt=()=>{var Y,ie,B,Z,ye,Ie,le,fe,Ae,Se;const e=a.useContext(cr),{itemData:t}=e,n=a.useRef(),{token:o,operator:s}=a.useContext(Be),i=a.useContext(ln),c=Bt({moduleId:"C06"}),u=Co(),{httpGetAsync:d,httpPostAsync:p,httpPutAsync:m,httpDeleteAsync:f}=Zn(),h=a.useContext(Mr),g=so({url:"v1/purchase/dep-orders",bearer:o,initialFetchSize:50}),x=a.useCallback(()=>({Pkey:zn(),prod:null,stype:null,SQty:"",SPrice:"",SRemark:"",ChkQty:"",SOrdID:""}),[]),y=yr({gridId:"prods",keyColumn:"Pkey",createRow:x}),D=jf({grid:y,convType:"s"}),{committed:v}=D,T=a.useCallback(({setValue:be,gridData:Me,reset:we=!1})=>{if(we)be("OrdAmt","");else{const Ge=ol.getTotal(Me);be("OrdAmt",Ge.toFixed(2))}},[]),I=a.useCallback(async()=>{let be="",Me="";if(console.log("operator",s),s.parentDeptId!==s.CurDeptID){be=s.parentDeptId;try{const{status:Ge,payload:We,error:Ee}=await d({url:"/v1/ou/depts",bearer:o,params:{id:be}});if(Ge.success)Me=We.AbbrName;else throw Ee??new Error("")}catch(Ge){ae.error("",Ge)}}const we={prods:[],OrdDate:new Date,ArrDate:new Date,stype:null,ordDept:{DeptID:s.CurDeptID},spDept:be?{DeptID:be,AbbrName:Me}:null};e.promptCreating({data:we}),D.reset(),y.initGridData(we.prods,{fillRows:!0})},[s,e,D,y,d,o]),P=a.useCallback(async({data:be})=>{try{e.startCreating();const{status:Me,error:we,payload:Ge}=await p({url:"v1/purchase/dep-orders",data:be,bearer:o});if(Me.success)ae.success(`${Ge.OrdID}`),e.finishedCreating(),e.cancelReading(),g.loadList({refresh:!0});else throw we??new Error("")}catch(Me){e.failedCreating(),console.error("handleCreate.failed",Me),ae.error("",Me)}},[e,p,g,o]),E=a.useCallback(async({id:be,refresh:Me=!1})=>{try{const we=Me?n.current:be;Me||(n.current=be,e.startReading("...",{id:be}));const{status:Ge,payload:We,error:Ee}=await d({url:"v1/purchase/dep-orders",bearer:o,params:{id:we}});if(Ge.success){const Xe=ol.transformForReading(We.data[0]);e.finishedReading({data:Xe}),D.recoverStockMap(Xe.prods,{stock:{simulate:!1}}),y.handleGridDataLoaded(Xe.prods)}else throw Ee??new Error("")}catch(we){e.failedReading(we)}},[d,o,e,D,y]),k=a.useCallback(async(be,Me)=>{be==null||be.stopPropagation(),e.cancelAction(),E({id:Me.})},[e,E]),w=a.useMemo(()=>{var be,Me;return((Me=(be=e.itemData)==null?void 0:be.transOutOrders)==null?void 0:Me.length)>0},[(ie=(Y=e.itemData)==null?void 0:Y.transOutOrders)==null?void 0:ie.length]),A=a.useCallback(async({formData:be,setValue:Me})=>{if(be.spDept&&y.gridData.filter(Ge=>Ge.prod).length>0){const Ge=ol.transformForSubmitting(be,y.gridData);console.log("collected",Ge);try{const{status:We,payload:Ee,error:Xe}=await p({url:"v1/purchase/dep-orders/refresh-grid",bearer:o,data:Ge});if(console.log("refresh-grid.payload",Ee),We.success){const ot=ol.transformForReading(Ee.data[0]);console.log("refresh-grid.data",ot),y.setGridData(ot.prods,e.creating?{fillRows:!0}:null),T({setValue:Me,gridData:ot.prods}),ae.info("")}else throw Xe??new Error("")}catch(We){ae.error("",We)}}else console.warn("clear values?")},[y,p,o,e.creating,T]),F=Or(),_=a.useCallback(({setValue:be,getValues:Me})=>async()=>{console.log("handleRefresh");try{F.start(),A({formData:Me(),setValue:be})}finally{F.clear()}},[F,A]),L=a.useCallback(({setValue:be,getValues:Me})=>we=>{console.log("handleSupplierChanged",we),be("FactData",(we==null?void 0:we.FactData)||""),be("Uniform",(we==null?void 0:we.Uniform)||""),be("TaxType",(we==null?void 0:we.TaxType)==="Y"?"Y":""),be("FactAddr",(we==null?void 0:we.CompAddr)||""),A({formData:Me(),setValue:be})},[A]),K=a.useCallback(()=>{h.confirm({message:"?",onConfirm:()=>{e.cancelAction()}})},[e,h]),z=a.useCallback(()=>{h.confirm({message:"?",onConfirm:()=>{e.cancelAction()}})},[e,h]),J=a.useCallback(()=>{h.confirm({message:"?",onConfirm:()=>{e.cancelUpdating(),E({refresh:!0})}})},[e,h,E]),Q=a.useCallback(async({data:be})=>{try{e.startUpdating();const{status:Me,error:we}=await m({url:"v1/purchase/dep-orders",data:be,bearer:o});if(Me.success)ae.success(""),e.finishedUpdating(),E({refresh:!0}),g.loadList({refresh:!0});else throw we??new Error("")}catch(Me){e.failedUpdating(),console.error("handleCreate.failed",Me),ae.error("",Me)}},[e,m,g,E,o]),V=a.useCallback(()=>{h.confirm({message:`${t==null?void 0:t.OrdID}?`,onConfirm:async()=>{try{e.startDeleting(t);const{status:be,error:Me}=await f({url:"v1/purchase/dep-orders",bearer:o,params:{id:t==null?void 0:t.OrdID}});if(be.success)e.cancelAction(),ae.success(` ${t==null?void 0:t.OrdID}`),g.loadList({refresh:!0});else throw Me||""}catch(be){e.failedDeleting(be),console.error("confirmDelete.failed",be),ae.error("",be)}}})},[e,h,f,t,g,o]),W=a.useCallback(be=>{console.log("onSearchSubmit",be),g.loadList({params:ol.transformAsQueryParams(be)})},[g]),U=a.useCallback(be=>{console.error("onSearchSubmitError",be)},[]),X=a.useCallback(({rowData:be,rowIndex:Me})=>`${(be==null?void 0:be.Pkey)||Me}`,[]),te=a.useCallback(async(be,{spDept:Me})=>{if(!be){ae.error("",{position:"top-right"});return}const we=Me==null?void 0:Me.DeptID;if(!we){ae.error("",{position:"top-right"});return}try{const{status:Ge,payload:We,error:Ee}=await d({url:"v1/purchase/dep-orders/prod-info",bearer:o,params:{pd:be,sd:we}});if(Ge.success)return D.updateStockQty(be,We.Stock),We;throw Ee??new Error("")}catch(Ge){ae.error("",Ge)}},[d,D,o]),se=a.useCallback(({rowData:be})=>{var Me;return!!((Me=e.itemData)!=null&&Me.TxoID)},[(B=e.itemData)==null?void 0:B.TxoID]),he=a.useCallback(({rowData:be})=>{var Me;return!!((Me=e.itemData)!=null&&Me.TxoID)},[(Z=e.itemData)==null?void 0:Z.TxoID]),pe=a.useCallback(({rowData:be})=>{var Me;return!((Me=e.itemData)!=null&&Me.TxoID)},[(ye=e.itemData)==null?void 0:ye.TxoID]),ue=a.useCallback(({rowData:be})=>{var Me,we;return!!((we=(Me=e.itemData)==null?void 0:Me.transOutOrders)!=null&&we.length)>0},[(le=(Ie=e.itemData)==null?void 0:Ie.transOutOrders)==null?void 0:le.length]),ge=a.useCallback(async({rowData:be,formData:Me})=>{var Ee,Xe,ot,ze,tt;let we={...be};const Ge=(Ee=we.prod)!=null&&Ee.ProdID?await te((Xe=we.prod)==null?void 0:Xe.ProdID,{spDept:Me.spDept}):null;console.log("prodInfo",Ge);let We=!(Ge!=null&&Ge.Price);return we.prod&&We&&ae.error(`${(ot=we.prod)==null?void 0:ot.ProdData}`,{position:"top-right"}),we={...we,prod:We?null:we.prod,ProdData:We?"":((ze=we.prod)==null?void 0:ze.ProdData)||"",PackData_N:We?"":((tt=we.prod)==null?void 0:tt.PackData_N)||"",SPrice:We?"":(Ge==null?void 0:Ge.Price)||"",SInqFlag:(Ge==null?void 0:Ge.SInqFlag)||"",SRemark:"",SQty:"",SNotQty:"",SInQty:"",SAmt:"",stype:null,StockQty_N:(Ge==null?void 0:Ge.Stock)||"",tooltip:""},we},[te]),Ce=a.useCallback(({updateResult:be,prevGridData:Me,gridData:we,rowIndex:Ge})=>{var Ee,Xe,ot,ze,tt;let We;return(be==null?void 0:be.type)==="DELETE"?We=((Xe=(Ee=Me[Ge])==null?void 0:Ee.prod)==null?void 0:Xe.ProdID)||"":(We=(ot=we[Ge].prod)==null?void 0:ot.ProdID,We||(We=((tt=(ze=Me[Ge])==null?void 0:ze.prod)==null?void 0:tt.ProdID)||"")),We?we.map(ft=>{var ht;if(((ht=ft.prod)==null?void 0:ht.ProdID)===We){const en=D.getStockQty(We);let un={...ft,StockQty_N:en};return un={...un,tooltip:ol.getTooltips({rowData:un,rowIndex:Ge})},un}return ft}):(console.log("targetProdID ,  mapTooltip"),we)},[D]),Te=a.useCallback(({fromRowIndex:be,formData:Me,updateResult:we})=>async(Ge,We)=>{var ze,tt,ft,ht;const Ee=be+We;we.rowIndex=Ee;const Xe=y.gridData[Ee];console.log(` ${Ee} ...`,Ge);let ot={...Ge};return((ze=ot.prod)==null?void 0:ze.ProdID)!==((tt=Xe.prod)==null?void 0:tt.ProdID)&&(we.cols.push("prod"),console.log(`prod[${Ee}] changed`,ot.prod),ot=await ge({rowData:ot,formData:Me})),Ge.SQty!==Xe.SQty&&(we.cols.push("SQty"),ot={...ot,SNotQty:Ge.SQty},we.cols.push("SNotQty")),Ge.SNotQty!==Xe.SNotQty&&(ot={...ot,SNotQty:Ge.SNotQty===0?0:Ge.SQty-Ge.SInQty}),(Ge.SPrice!==Xe.SPrice||((ft=Ge.stype)==null?void 0:ft.id)!==((ht=Xe.stype)==null?void 0:ht.id)||Ge.SQty!==Xe.SQty)&&(ot={...ot,SAmt:!Ge.SPrice||!Ge.SQty?"":Ge.stype?0:Ge.SPrice*Ge.SQty},we.rows++,we.cols.push("SAmt")),ot},[y.gridData,ge]),Ne=a.useCallback(({gridData:be,formData:Me,setValue:we,updateResult:Ge,prevGridData:We})=>{if(T({setValue:we,gridData:be}),Ge.cols.includes("prod")||Ge.type==="DELETE"){console.log("before reduce",be);const Ee=Ce({updateResult:Ge,prevGridData:We,gridData:be,rowIndex:Ge.rowIndex});return console.log("after reduce",Ee),Ee}},[Ce,T]),xe=a.useCallback(be=>{console.log("onEditorSubmit",be);const Me=ol.transformForSubmitting(be,y.gridData);console.log("collected",Me),e.creating?P({data:Me}):e.updating?Q({data:Me}):console.error("UNKNOWN SUBMIT TYPE")},[e.creating,e.updating,P,Q,y.gridData]),me=a.useCallback(be=>{console.error("onEditorSubmitError",be),ae.error(", ")},[]),de=a.useMemo(()=>`${i.REPORT_URL}/WebC06Rep.aspx`,[i.REPORT_URL]),ce=yn(),ee=a.useCallback(be=>{var we;console.log("onPrintSubmit",be);const Me={...be.outputType&&{Action:be.outputType.id},DeptID:s==null?void 0:s.CurDeptID,JobName:"C06",IDs:(we=e.itemData)==null?void 0:we.OrdID};console.log("data",Me),ce.open(de,Me)},[(fe=e.itemData)==null?void 0:fe.OrdID,s==null?void 0:s.CurDeptID,de,ce]),De=a.useCallback(be=>{console.error("onPrintSubmitError",be)},[]),ke=a.useCallback(({setValue:be})=>Me=>{console.log("handlePrint",Me),be("outputType",Me)},[]),He=a.useCallback(({setValue:be})=>async Me=>{console.log("onRefreshGridSubmit",Me);try{if(y.gridData.length>0){const we=ol.transformForSubmitting(Me,y.gridData);console.log("collected",we);const{status:Ge,payload:We,error:Ee}=await p({url:"v1/purchase/dep-orders/refresh-grid",bearer:o,data:we});if(console.log("refresh-grid.payload",We),Ge.success){const Xe=ol.transformForReading(We.data[0]);console.log("refreshed data",Xe),y.initGridData(Xe.prods,{fillRows:!0}),T({setValue:be,gridData:Xe.prods}),ae.info("")}else throw Ee??new Error("")}else T({setValue:be,reset:!0})}catch(we){ae.error("",we)}},[y,p,o,T]),qe=a.useCallback(be=>{console.error("onRefreshGridSubmitError",be)},[]),Le=Or();a.useCallback(async()=>{try{Le.start();const{status:be,error:Me}=await d({url:"v1/purchase/dep-orders/check-editable",bearer:o,params:{id:e.itemData.OrdID}});if(be.success)e.promptUpdating();else throw Me??new Error("")}catch(be){ae.error("",be)}finally{Le.clear()}},[Le,e,d,o]);const _e=a.useMemo(()=>e.creating,[e.creating]),H=a.useCallback(({setValue:be,getValues:Me})=>we=>{console.log("handleSpDeptChanged",we),y.gridData.filter(Ge=>{var We;return(We=Ge.prod)==null?void 0:We.ProdID}).length>0&&A({formData:Me(),setValue:be})},[y.gridData,A]),re=a.useCallback(({rowData:be})=>{var Me;return(Me=be.stype)!=null&&Me.id?"line-through":null},[]),q=a.useMemo(()=>{var be,Me;return((Me=(be=e.itemData)==null?void 0:be.transOutOrders)==null?void 0:Me.length)>0},[(Se=(Ae=e.itemData)==null?void 0:Ae.transOutOrders)==null?void 0:Se.length]);return{...e,...g,...c,loadItem:E,handleSelect:k,handleSupplierChanged:L,onSearchSubmit:W,onSearchSubmitError:U,confirmQuitCreating:K,confirmQuitUpdating:z,confirmReturnReading:J,confirmDelete:V,promptCreating:I,onEditorSubmit:xe,onEditorSubmitError:me,grid:y,...y,getRowKey:X,onPrintSubmit:ee,onPrintSubmitError:De,onRefreshGridSubmit:He,onRefreshGridSubmitError:qe,handleRefresh:_,refreshWorking:F.working,squaredFlagDisabled:_e,handleSpDeptChanged:H,getSPriceClassName:re,spDeptDisabled:w,sprodDisabled:se,sqtyDisabled:he,sNotQtyDisabled:pe,stypeDisabled:ue,disableAddRows:q,...u,onUpdateRow:Te,onGridChanged:Ne,createRow:x,handlePrint:ke}},Lje=({children:e})=>{const t=CEt();return r.jsx(tp.Provider,{value:{...t},children:e})};Lje.propTypes={children:l.oneOfType([l.array,l.object])};const DEt=()=>{var q;const e=a.useContext(cr),{itemData:t}=e,n=a.useRef(),{token:o,operator:s}=a.useContext(Be),i=a.useContext(ln),c=Bt({moduleId:"C07"}),u=Co(),[d,p,m,f]=us(!1),{httpGetAsync:h,httpPostAsync:g,httpPutAsync:x,httpDeleteAsync:y}=Zn(),D=a.useContext(Mr),v=so({url:"v1/purchase/dep-recv-orders",bearer:o,initialFetchSize:50}),T=a.useCallback(()=>({Pkey:zn(),prod:null,SQty:"",SPrice:"",SRemark:"",ChkQty:"",SOrdID:""}),[]),I=yr({gridId:"prods",keyColumn:"pkey",createRow:T}),P=a.useCallback(({setValue:Y,data:ie,reset:B=!1})=>{B?(Y("InAmt",""),Y("TaxAmt",""),Y("TotAmt",""),Y("RcvdAmt",""),Y("PayAmt","")):(Y("InAmt",ie.InAmt),Y("TaxAmt",ie.TaxAmt),Y("TotAmt",ie.TotAmt),Y("RcvdAmt",ie.RcvdAmt),Y("PayAmt",ie.PayAmt))},[]),E=a.useCallback(()=>{const Y={prods:[],GrtDate:new Date,RecvAmt:"",taxExcluded:!1,employee:null,supplier:null};e.promptCreating({data:Y}),I.handleGridDataLoaded(Y.prods)},[e,I]),k=a.useCallback(async({data:Y})=>{try{e.startCreating();const{status:ie,error:B}=await g({url:"v1/purchase/dep-recv-orders",data:Y,bearer:o});if(ie.success)ae.success(""),e.finishedCreating(),e.cancelReading(),v.loadList({refresh:!0});else throw B??new Error("")}catch(ie){e.failedCreating(),console.error("handleCreate.failed",ie),ae.error("",ie)}},[e,g,v,o]),w=a.useCallback(async({id:Y,refresh:ie=!1})=>{try{const B=ie?n.current:Y;ie||(n.current=Y,e.startReading("...",{id:Y}));const{status:Z,payload:ye,error:Ie}=await h({url:"v1/purchase/dep-recv-orders",bearer:o,params:{id:B}});if(Z.success){const le=kp.transformForReading(ye.data[0]);e.finishedReading({data:le}),I.handleGridDataLoaded(le.prods)}else throw Ie??new Error("")}catch(B){e.failedReading(B)}},[e,h,I,o]),A=a.useCallback(async(Y,ie)=>{Y==null||Y.stopPropagation(),e.cancelAction(),w({id:ie.})},[e,w]),F=a.useCallback(Y=>(Y==null?void 0:Y.FactID)!=="*",[]),_=a.useCallback(async({formData:Y,setValue:ie})=>{const B=Y.GrtDate;if(Y.supplier&&B&&I.gridData.length>0){const ye=kp.transformForSubmitting(Y,I.gridData);console.log("collected",ye);try{const{status:Ie,payload:le,error:fe}=await g({url:"v1/purchase/dep-recv-orders/refresh-grid",bearer:o,data:ye});if(console.log("refresh-grid.payload",le),Ie.success){const Ae=kp.transformForReading(le.data[0]);console.log("refresh-grid.data",Ae),I.handleGridDataLoaded(Ae.prods),P({setValue:ie,data:Ae}),ae.info("")}else throw fe??new Error("")}catch(Ie){ae.error("",Ie)}}else console.warn("clear values?")},[g,I,P,o]),L=Or(),K=a.useCallback(({setValue:Y,getValues:ie})=>async()=>{console.log("handleRefresh");try{L.start(),_({formData:ie(),setValue:Y})}finally{L.clear()}},[L,_]),z=a.useCallback(({setValue:Y,getValues:ie})=>B=>{console.log("handleSupplierChanged",B),Y("FactData",(B==null?void 0:B.FactData)||""),Y("Uniform",(B==null?void 0:B.Uniform)||""),Y("TaxType",(B==null?void 0:B.TaxType)==="Y"?"Y":""),Y("FactAddr",(B==null?void 0:B.CompAddr)||""),_({formData:ie(),setValue:Y})},[_]),J=a.useCallback(({setValue:Y,getValues:ie})=>B=>{console.log("rtnDate changed",B),_({formData:ie(),setValue:Y})},[_]),Q=a.useCallback(()=>{D.confirm({message:"?",onConfirm:()=>{e.cancelAction()}})},[e,D]),V=a.useCallback(()=>{D.confirm({message:"?",onConfirm:()=>{e.cancelAction()}})},[e,D]),W=a.useCallback(()=>{D.confirm({message:"?",onConfirm:()=>{e.cancelUpdating(),w({refresh:!0})}})},[e,D,w]),U=a.useCallback(async({data:Y})=>{try{e.startUpdating();const{status:ie,error:B}=await x({url:"v1/purchase/dep-recv-orders",data:Y,bearer:o});if(ie.success)ae.success(""),e.finishedUpdating(),w({refresh:!0}),v.loadList({refresh:!0});else throw B??new Error("")}catch(ie){e.failedUpdating(),console.error("handleCreate.failed",ie),ae.error("",ie)}},[e,x,v,w,o]),X=a.useCallback(()=>{D.confirm({message:`${t==null?void 0:t.GrtID}?`,onConfirm:async()=>{try{e.startDeleting(t);const{status:Y,error:ie}=await y({url:"v1/purchase/dep-recv-orders",bearer:o,params:{id:t==null?void 0:t.GrtID}});if(Y.success)e.cancelAction(),ae.success(` ${t==null?void 0:t.GrtID}`),v.loadList({refresh:!0});else throw ie||""}catch(Y){e.failedDeleting(Y),console.error("confirmDelete.failed",Y),ae.error("",Y)}}})},[e,D,y,t,v,o]),te=a.useCallback(({reset:Y})=>()=>{Y({})},[]),se=a.useCallback(({reset:Y})=>()=>{Y({ordDate:null,arrDate:null,ordDept:null,employee:null,squared:null})},[]),he=a.useCallback(Y=>{console.log("onSearchSubmit",Y),f(),v.loadList({params:kp.transformAsQueryParams(Y)})},[f,v]),pe=a.useCallback(Y=>{console.error("onSearchSubmitError",Y)},[]),ue=a.useCallback(({rowData:Y,rowIndex:ie})=>`${(Y==null?void 0:Y.Pkey)||ie}`,[]),ge=a.useCallback(async(Y,{supplier:ie,rtnDate:B})=>{if(!Y){ae.error("",{position:"top-right"});return}const Z=ie==null?void 0:ie.FactID;if(!Z){ae.error("",{position:"top-right"});return}if(!gf(B)){ae.error("",{position:"top-right"});return}try{const{status:ye,payload:Ie,error:le}=await h({url:"v1/purchase/dep-recv-orders/prod-info",bearer:o,params:{spi:Z,pd:Y,rd:Re.formatDate(B)}});if(ye.success)return Ie;throw le??new Error("")}catch(ye){ae.error("",ye)}},[h,o]),Ce=a.useCallback(({rowData:Y})=>!!Y.SInqFlag,[]),Te=a.useCallback(async({received:Y,taxType:ie,gridData:B,setValue:Z})=>{const ye=kp.getTotal(B);try{const{status:Ie,payload:le,error:fe}=await h({url:"v1/purchase/dep-recv-orders/refresh-amt",bearer:o,data:{tt:ie,arv:Y,art:ye}});if(Ie.success)console.log("refresh-amt",le),Z("RtnAmt",le.RtnAmt),Z("TaxAmt",le.TaxAmt),Z("TotAmt",le.TotAmt),Z("RtAmt",ye.toFixed(2));else throw fe||new Error("")}catch(Ie){ae.error("",Ie)}},[h,o]),Ne=a.useCallback(({setValue:Y,getValues:ie})=>async B=>{console.log("onTaxTypeChanged",B);const Z=ie("RecvAmt");Te({received:Z,taxType:B,gridData:I.gridData,setValue:Y})},[Te,I.gridData]),xe=a.useCallback(({getValues:Y,setValue:ie})=>(B,Z)=>{const ye=Y();console.log("buildGridChangeHandler",Z),console.log("newValue",B);const Ie=[...B];for(const le of Z)le.type==="UPDATE"?B.slice(le.fromRowIndex,le.toRowIndex).forEach(async(fe,Ae)=>{const{prod:Se,SPrice:be,SQty:Me}=fe,we=le.fromRowIndex+Ae,{prod:Ge,SPrice:We,oldSQty:Ee}=I.gridData[we];let Xe={...fe};if((Se==null?void 0:Se.ProdID)!==(Ge==null?void 0:Ge.ProdID)){console.log(`prod[${we}] changed`,Se);let ot=!1;if(Se!=null&&Se.ProdID){const ze=await ge(Se==null?void 0:Se.ProdID,{supplier:ye.supplier,rtnDate:ye.GrtDate});ot=ze&&ze.SPrice!=="",Xe={...Xe,PackData_N:(Se==null?void 0:Se.PackData_N)||"",...ot&&ze}}ot||(Xe={...Xe,SInqFlag:"",SPrice:""})}(be!==We||Me!==Ee)&&(Xe={...Xe,SAmt:!be||!Me?"":be*Me}),Ie[we]=Xe}):le.type;console.log("prodGrid.changed",Ie),I.setGridData(Ie),Te({received:ye.RecvAmt,taxType:ye.TaxType,gridData:Ie,setValue:ie})},[Te,ge,I]),me=a.useCallback(Y=>{console.log("onEditorSubmit",Y);const ie=kp.transformForSubmitting(Y,I.gridData);console.log("collected",ie),e.creating?k({data:ie}):e.updating?U({data:ie}):console.error("UNKNOWN SUBMIT TYPE")},[e.creating,e.updating,k,U,I.gridData]),de=a.useCallback(Y=>{console.error("onEditorSubmitError",Y)},[]),ce=a.useMemo(()=>`${i.REPORT_URL}/WebC07Rep.aspx`,[i.REPORT_URL]),ee=yn(),De=a.useCallback(Y=>{var B;console.log("onPrintSubmit",Y);const ie={...Y.outputType&&{Action:Y.outputType.id},DeptID:s==null?void 0:s.CurDeptID,JobName:"C07",IDs:(B=e.itemData)==null?void 0:B.OrdID};console.log("data",ie),ee.open(ce,ie)},[(q=e.itemData)==null?void 0:q.OrdID,s==null?void 0:s.CurDeptID,ce,ee]),ke=a.useCallback(Y=>{console.error("onPrintSubmitError",Y)},[]),He=a.useCallback(({setValue:Y})=>ie=>{console.log("handlePrint",ie),Y("outputType",ie)},[]),qe=a.useCallback(({setValue:Y})=>async ie=>{console.log("onRefreshGridSubmit",ie);try{if(I.gridData.length>0){const B=kp.transformForSubmitting(ie,I.gridData);console.log("collected",B);const{status:Z,payload:ye,error:Ie}=await g({url:"v1/purchase/dep-recv-orders/refresh-grid",bearer:o,data:B});if(console.log("refresh-grid.payload",ye),Z.success){const le=kp.transformForReading(ye.data[0]);console.log("refreshed data",le),I.handleGridDataLoaded(le.prods),P({setValue:Y,data:le}),ae.info("")}else throw Ie??new Error("")}else P({setValue:Y,reset:!0})}catch(B){ae.error("",B)}},[g,I,P,o]),Le=a.useCallback(Y=>{console.error("onRefreshGridSubmitError",Y)},[]),_e=Or(),H=a.useCallback(async()=>{try{_e.start();const{status:Y,error:ie}=await h({url:"v1/purchase/dep-recv-orders/check-editable",bearer:o,params:{id:e.itemData.GrtID}});if(Y.success)e.promptUpdating();else throw ie??new Error("")}catch(Y){ae.error("",Y)}finally{_e.clear()}},[_e,e,h,o]),re=a.useCallback(({rowData:Y})=>{var ie;return(ie=Y.stype)!=null&&ie.id?"line-through":null},[]);return{...e,...v,...c,loadItem:w,handleSelect:A,handleSupplierChanged:z,popperOpen:d,handlePopperToggle:p,handlePopperOpen:m,handlePopperClose:f,handleReset:se,handleClear:te,onSearchSubmit:he,onSearchSubmitError:pe,confirmQuitCreating:Q,confirmQuitUpdating:V,confirmReturnReading:W,confirmDelete:X,promptCreating:E,onEditorSubmit:me,onEditorSubmitError:de,grid:I,...I,buildGridChangeHandler:xe,getRowKey:ue,spriceDisabled:Ce,onPrintSubmit:De,onPrintSubmitError:ke,isSupplierNameDisabled:F,onRefreshGridSubmit:qe,onRefreshGridSubmitError:Le,handleTaxTypeChange:Ne,handleRtnDateChanged:J,checkEditableWorking:_e.working,handleCheckEditable:H,handleRefresh:K,refreshWorking:L.working,createRow:T,...u,getSPriceClassName:re,handlePrint:He}},$je=({children:e})=>{const t=DEt();return r.jsx(np.Provider,{value:{...t},children:e})};$je.propTypes={children:l.oneOfType([l.array,l.object])};const tg=e=>{const{name:t,label:n="/",...o}=e,{token:s}=a.useContext(Be),i=a.useCallback((u,d)=>Gc.isOptionEqualToValue(u,d),[]),c=a.useCallback(u=>Gc.getOptionLabel(u),[]);return r.jsx(bt,{name:t,label:n,bearer:s,url:"v1/prod/outbound-types",queryParam:"qs",getOptionLabel:c,isOptionEqualToValue:i,notFoundText:"/ ${input} ",...o})};tg.propTypes={name:l.string,label:l.string};tg.displayName="OutboundTypePicker";const SEt=(e,t)=>Gn.arePropsEqual(e,t,{fields:"rowData.CodeID,active,disabled,focus"}),gA=a.memo(e=>{const{rowData:t,setRowData:n,rowIndex:o,columnIndex:s,columnData:i,active:c,focus:u,disabled:d,stopEditing:p,insertRowBelow:m}=e,f=a.useRef(t);f.current=t;const{name:h,hideControlsOnActive:g,selectOnFocus:x,lastCell:y,isLastRow:D,getNextCell:v,skipDisabled:T,setActiveCell:I,readOnly:P,focusOnDisabled:E,multiple:k,...w}=i,{handleFocusNextCell:A}=Pi({getNextCell:v,lastCell:y,isLastRow:D,setActiveCell:I,insertRowBelow:m}),F=zi({name:h,rowIndex:o,rowData:t,columnIndex:s,focus:u,active:c,disabled:d,hideControlsOnActive:g,selectOnFocus:x,setRowData:n,stopEditing:p,readOnly:P,skipDisabled:T,handleFocusNextCell:A,focusOnDisabled:E,multiple:k});return r.jsx(tg,{...F,...w})},SEt);gA.propTypes={name:l.string,rowData:l.oneOfType([l.string,l.number,l.object]),setRowData:l.func,rowIndex:l.number,columnIndex:l.number,columnData:l.object,active:l.bool,focus:l.bool,disabled:l.bool,stopEditing:l.func,insertRowBelow:l.func,duplicateRow:l.func,deleteRow:l.func,getContextMenuItems:l.func};gA.propTypes={};gA.displayName="OutboundTypePickerComponent";const Xb=e=>{const{columnData:t,...n}=e,o=ii(),s=a.useMemo(()=>({...t,...o}),[o,t]);return r.jsx(gA,{columnData:s,...n})};Xb.displayName="OutboundTypePickerComponentContainer";Xb.propTypes={columnData:l.object};const lm=a.createContext(),AH=a.memo(e=>{var s,i;const{anchor:t="right",...n}=e,o=a.useContext(lm);return r.jsxs(Eo,{anchor:t,open:o.sideDrawerOpen,onClose:o.handleSideDrawerClose,...n,children:[r.jsx(pn,{label:"",children:(s=o.itemData)==null?void 0:s.WriteDate_N}),r.jsx(pn,{label:"",children:(i=o.itemData)==null?void 0:i.Writer_N})]})});AH.propTypes={anchor:l.string};AH.displayName="C08Drawer";const VC=a.memo(a.forwardRef((e,t)=>{const{children:n,...o}=e;return r.jsx(ys,{ref:t,xs:24,sm:4,...o,children:n})}));VC.propTypes={children:l.oneOfType([l.node,l.array])};VC.displayName="DepOrderDateColumn";const bA=a.memo(a.forwardRef((e,t)=>{const{children:n,...o}=e;return r.jsx(ys,{ref:t,xs:24,sm:5,...o,children:n})}));bA.propTypes={children:l.oneOfType([l.node,l.array])};bA.displayName="DepOrderDeptColumn";const xA=a.memo(a.forwardRef((e,t)=>{const{children:n,...o}=e;return r.jsx(ys,{ref:t,xs:24,sm:3,...o,children:n})}));xA.propTypes={children:l.oneOfType([l.node,l.array])};xA.displayName="DepOrderDeptIdColumn";const yA=a.memo(a.forwardRef((e,t)=>{const{children:n,...o}=e;return r.jsx(ys,{ref:t,xs:24,sm:1,...o,children:n})}));yA.propTypes={children:l.oneOfType([l.node,l.array])};yA.displayName="DepOrderFlagColumn";const CA=a.memo(a.forwardRef((e,t)=>{const{children:n,...o}=e;return r.jsx(ys,{ref:t,xs:24,sm:4,...o,children:n})}));CA.propTypes={children:l.oneOfType([l.node,l.array])};CA.displayName="DepOrderIdColumn";const DA=a.memo(a.forwardRef((e,t)=>{const{children:n,...o}=e;return r.jsx(ys,{ref:t,xs:24,sm:3,...o,children:n})}));DA.propTypes={children:l.oneOfType([l.node,l.array])};DA.displayName="DepOrderUserColumn";const NH=a.memo(()=>r.jsxs(Tf,{children:[r.jsx(yA,{header:!0,children:""}),r.jsx(CA,{header:!0,children:""}),r.jsx(VC,{header:!0,children:""}),r.jsx(VC,{header:!0,children:""}),r.jsx(DA,{header:!0,children:""}),r.jsx(xA,{header:!0,children:""}),r.jsx(bA,{header:!0,children:""})]}));NH.propTypes={sx:l.oneOfType([l.object,l.array])};NH.displayName="PurchaseDepOrderGridHeader";const FH=a.memo(a.forwardRef((e,t)=>{const{value:n}=e,o=a.useMemo(()=>`${n.} ${n.}`,[n]);return r.jsxs(j,{ref:t,container:!0,columns:24,spacing:2,children:[r.jsx(yA,{children:n.}),r.jsx(CA,{children:n.}),r.jsx(VC,{children:n.}),r.jsx(VC,{children:n.}),r.jsx(DA,{children:n.}),r.jsx(xA,{children:n.}),r.jsx(bA,{children:o})]})}));FH.propTypes={value:l.object};FH.displayName="DepOrderGridRow";const vEt=e=>{if(!e)return"";const{:t}=e;return t?`${t}`:"(?)"},jEt=(e,t)=>(e==null?void 0:e.)==(t==null?void 0:t.),IEt=e=>e.,dC={getOptionLabel:vEt,isOptionEqualToValue:jEt,renderTagLabel:IEt},SA=e=>{const{label:t="",...n}=e,{token:o}=a.useContext(Be),s=Ue({name:"txiDept"}),i=a.useMemo(()=>{const u={tp:100,ind:s==null?void 0:s.DeptID};return Hr.stringify(u)},[s==null?void 0:s.DeptID]),c=a.useMemo(()=>!s,[s]);return r.jsx(bt,{label:t,bearer:o,url:"v1/purchase/trans-out-orders/dep-orders",queryParam:"qs",querystring:i,getOptionLabel:dC.getOptionLabel,isOptionEqualToValue:dC.isOptionEqualToValue,renderTagLabel:dC.renderTagLabel,disabled:c,optionLabelSize:"md",GridHeaderComponent:NH,GridRowComponent:FH,notFoundText:" ${input} ",inputParam:"fz",clearOnChange:!0,...n})};SA.propTypes={label:l.string,children:l.node};SA.displayName="DepOrderPicker";const Zb=a.forwardRef((e,t)=>{const{label:n="",...o}=e,{token:s}=a.useContext(Be);return r.jsx(bt,{label:n,ref:t,bearer:s,url:"v1/sales/customer/transports",getOptionLabel:Gc.getOptionLabel,isOptionEqualToValue:Gc.isOptionEqualToValue,getOptionKey:Gc.getOptionKey,...o})});Zb.propTypes={label:l.string};Zb.displayName="TransportTypePicker";const vA=e=>{const{name:t="TxoAmt",...n}=e,o=Ue({name:t}),s=a.useMemo(()=>!isNaN(o)&&o!==""?parseFloat(o).toFixed(2):"0.00",[o]);return r.jsxs(ve,{inline:!0,sx:{fontWeight:700},children:["",r.jsx(nn,{color:"primary",...n,children:s})]})};vA.propTypes={name:l.string};vA.displayName="C08ProdGridSubtotalLabel";const TEt=()=>r.jsx(r.Fragment,{children:r.jsx(vA,{name:"TxoAmt"})}),MH=a.forwardRef((e,t)=>{const{...n}=e;return a.useContext(Lr).readOnly?r.jsx(kn,{ref:t,RightComponent:TEt,...n}):!1});MH.propTypes={};MH.displayName="C08ProdGridBottomToolbar";const OEt=Aa({RightComponent:vA}),EEt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),_H=a.memo(e=>{const{createRow:t,getRowKey:n,readOnly:o,gridRef:s,data:i,onChange:c,onActiveCellChange:u,getRowClassName:d,height:p=300,...m}=e,f=a.useCallback(({rowData:g})=>({...g,Pkey:zn()}),[]),h=a.useCallback(({rowData:g})=>{console.log("deleteRow",g)},[]);return r.jsx(dr,{ref:s,rowKey:n,lockRows:o,height:p,value:i,onChange:c,onActiveCellChange:u,addRowsComponent:OEt,disableExpandSelection:!0,contextMenuComponent:EEt,createRow:t,duplicateRow:f,rowClassName:d,deleteRow:h,...m})});_H.propTypes={getRowKey:l.func,spriceDisabled:l.func,sprodDisabled:l.func,sqtyDisabled:l.func,stypeDisabled:l.func,dtypeDisabled:l.func,overrideSQtyDisabled:l.func,onChange:l.func,onActiveCellChange:l.func,handleSelectionChange:l.func,getRowClassName:l.func,getSPriceClassName:l.func,getSQtyClassName:l.func,readOnly:l.bool,height:l.number,gridRef:l.func,data:l.array.isRequired};_H.displayName="C08ProdGrid";const Bje=e=>{const{...t}=e,n=a.useContext(lm),o=a.useContext(Be),{height:s}=Wt(),i=a.useContext(Lr),c=Ke(),u=a.useMemo(()=>n.buildGridChangeHandler({getValues:c.getValues,setValue:c.setValue,gridMeta:i.gridMeta,onUpdateRow:n.onUpdateRow,onGridChanged:n.onGridChanged}),[n,c.getValues,c.setValue,i.gridMeta]),d=a.useMemo(()=>s-370,[s]),p=a.useMemo(()=>({...Pe.keyColumn("tooltip",If({arrow:!0,placement:"bottom-end"}))}),[]);return r.jsx(Kn.Provider,{value:{...n.grid,...i.gridMeta,readOnly:i.readOnly},children:r.jsx(_H,{gridRef:i.gridMeta.setGridRef,readOnly:i.readOnly,onActiveCellChange:i.gridMeta.handleActiveCellChange,data:n.gridData,onChange:u,bearer:o.token,height:d,getRowKey:n.getRowKey,stypeDisabled:n.stypeDisabled,getSPriceClassName:n.getSPriceClassName,getSQtyClassName:n.getSQtyClassName,sprodDisabled:n.sprodDisabled,sqtyDisabled:n.sqtyDisabled,dtypeDisabled:n.dtypeDisabled,overrideSQtyDisabled:n.overrideSQtyDisabled,handleGridCellFocusChange:n.handleGridCellFocusChange,createRow:n.createRow,stickyRightColumn:p,...t})})};Bje.displayName="C08ProdGridContainer";const LH=a.memo(e=>{const{readError:t,data:n,readWorking:o,itemDataReady:s,creating:i,editing:c,updating:u,handleTxiDeptChanged:d,handleRtnDateChanged:p,txiDeptDisabled:m,handleDepOrdersChanged:f,purchaseOrdersDisabled:h,slotProps:g,...x}=e;return r.jsxs("form",{...x,children:[o&&r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",minHeight:"30em",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}),t&&r.jsx(lo,{error:t,...g==null?void 0:g.error}),s&&r.jsxs(Pt,{pt:c?1:0,children:[r.jsxs(j,{container:!0,columns:24,spacing:1,children:[!i&&r.jsx(j,{item:!0,xs:24,sm:24,md:3.5,children:r.jsx($e,{typo:!0,name:"TxoID",label:"",autoFocus:!0,fullWidth:!0,readOnly:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:4.5,children:r.jsx(et,{typo:!0,name:"TxoDate",label:"",autoFocus:!0,fullWidth:!0,required:!0,validate:!0,variant:"outlined",onChanged:p})}),r.jsx(j,{item:!0,xs:24,sm:24,md:4.5,children:r.jsx(Ar,{typo:!0,label:"",name:"employee",required:!0,rules:{required:""},virtualize:!0,disableClearable:!0,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:4.5,children:r.jsx(Uo,{typo:!0,name:"txiDept",label:"",excludesSelf:!0,required:!0,rules:{required:""},onChanged:d,disableOpenOnInput:!0})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:24,sm:24,md:i?9:8,children:r.jsx(SA,{typo:!0,multiple:!0,name:"depOrders",label:"",virtualize:!0,onChanged:f,disabled:h,disableOpenOnInput:!0,slotProps:{paper:{sx:{width:680}}}})}),r.jsx(j,{item:!0,xs:24,sm:24,md:4.5,children:r.jsx(Zb,{typo:!0,name:"transType",label:"",required:!0,rules:{required:""},disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:5.5,children:r.jsx(Ar,{typo:!0,label:"",name:"deliveryEmployee",virtualize:!0,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:5,children:r.jsx($e,{typo:!0,name:"HDNo",label:"",fullWidth:!0})})]}),r.jsx(jt,{py:1,children:r.jsx(Bje,{})}),r.jsx(MH,{}),r.jsx(j,{container:!0,columns:24,children:r.jsx(j,{item:!0,xs:24,children:r.jsx($e,{typo:!0,name:"remark",multiline:!0,minRows:2,maxRows:5,label:"",fullWidth:!0})})})]})]})});LH.propTypes={readWorking:l.bool,readError:l.object,data:l.object,itemDataReady:l.bool,purchaseOrdersDisabled:l.bool,handleRtnDateChanged:l.func,slotProps:l.object};LH.displayName="C08DialogForm";const $H=a.memo(a.forwardRef((e,t)=>{const{onSave:n,onCancel:o,onRefresh:s,editWorking:i,refreshWorking:c,...u}=e;return r.jsxs(a.Fragment,{ref:t,...u,children:[r.jsx(dt,{responsive:!0,onClick:o,color:"warning",variant:"outlined",...u,children:""}),r.jsx(dt,{responsive:!0,onClick:n,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:i,children:""})]})}));$H.displayName="C08DialogEditToolbar";$H.propTypes={onCancel:l.func,onSave:l.func,onRefresh:l.func,onLoadProds:l.func,refreshWorking:l.bool,editWorking:l.bool};const Wje=e=>{const{...t}=e,n=Ke(),o=a.useContext(lm),{canPrint:s}=o,i=n.handleSubmit(o.onPrintSubmit,o.onPrintSubmitError);return s?r.jsx(xn,{onSubmit:i,...t}):!1};Wje.displayName="C08ExportButtonContainer";const Uje=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,checkEditableWorking:o,onDelete:s,onPrint:i,onSideDrawerOpen:c,...u}=e;return r.jsxs(a.Fragment,{ref:t,...u,children:[i&&r.jsx(Wje,{}),s&&r.jsx(dt,{responsive:!0,startIcon:r.jsx(im,{}),color:"secondary",onClick:s,children:""}),n&&r.jsx(dt,{responsive:!0,startIcon:r.jsx(bo,{}),color:"primary",onClick:n,loading:o,children:""}),r.jsx(jr,{title:"",children:r.jsx(br,{onClick:c,size:"small",children:r.jsx(Po,{})})})]})}));Uje.propTypes={onEdit:l.func,onDelete:l.func,onPrint:l.func,checkEditableWorking:l.bool};const qje=e=>{const{...t}=e,n=a.useContext(lm),o=Ke(),s=a.useContext(Lr),i=a.useMemo(()=>o.handleSubmit(n.onEditorSubmit({setValue:o.setValue,gridMeta:s.gridMeta}),n.onEditorSubmitError),[n,o,s.gridMeta]),c=a.useMemo(()=>n.canDelete,[n.canDelete]),u=o.handleSubmit(n.onPrintSubmit,n.onPrintSubmitError);return n.itemDataReady?n.editing?r.jsx($H,{refreshWorking:n.refreshWorking,onSave:i,editWorking:n.editWorking,onCancel:n.updating?n.confirmReturnReading:n.confirmQuitCreating,...t}):r.jsx(Uje,{onEdit:n.canUpdate?n.handleCheckEditable:null,onDelete:c?n.confirmDelete:null,onPrint:n.canPrint?u:null,checkEditableWorking:n.checkEditableWorking,onSideDrawerOpen:n.handleSideDrawerOpen,...t}):!1};qje.displayName="C08DialogToolbarContainer";const Vje=a.forwardRef((e,t)=>{const{...n}=e,{height:o}=Wt(),s=a.useMemo(()=>o-120,[o]),i=at({defaultValues:{prods:[]}}),{reset:c}=i,u=Ue({name:"txiDept",control:i.control}),d=a.useContext(lm),p=Qr({height:s,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),m=a.useMemo(()=>d.creating?"":d.updating?"":"",[d.creating,d.updating]),f=a.useMemo(()=>d.creating?d.confirmQuitCreating:d.updating?d.confirmQuitUpdating:d.reading?d.cancelAction:null,[d.cancelAction,d.confirmQuitCreating,d.confirmQuitUpdating,d.creating,d.reading,d.updating]),h=a.useMemo(()=>!d.editing||!u,[d.editing,u]),g=a.useMemo(()=>[{...Pe.keyColumn("prod",or(ls,{name:"prod",withStock:!0,packageType:"_",forId:!0,disableClearable:!0,slotProps:{paper:{sx:{width:360}}},focusOnDisabled:!0})),title:"",minWidth:130,maxWidth:150,disabled:h||d.sprodDisabled},{...Pe.keyColumn("ProdData",kt({continuousUpdates:!1})),title:"",disabled:!0,grow:2},{...Pe.keyColumn("PackData_N",kt({continuousUpdates:!1})),minWidth:60,title:"",disabled:!0},{...Pe.keyColumn("SPrice",Jn(2)),title:"",minWidth:100,disabled:!0,cellClassName:d.getSPriceClassName},{...Pe.keyColumn("SQtyNote",kt({continuousUpdates:!1})),minWidth:38,maxWidth:38,title:"",disabled:!0,cellClassName:"star"},{...Pe.keyColumn("SQty",Jn(2)),title:"",minWidth:90,disabled:h||d.sqtyDisabled,cellClassName:d.getSQtyClassName},{...Pe.keyColumn("SAmt",Jn(2)),title:"",minWidth:90,disabled:!0},{...Pe.keyColumn("stype",or(ad,{name:"stype",disableClearable:!0,disableOpenOnInput:!0,autoHighlight:!0,selectOnFocus:!0})),title:"",minWidth:70,maxWidth:70,disabled:h},{...Pe.keyColumn("dtype",or(Xb,{name:"dtype",disableOpenOnInput:!0,selectOnFocus:!0,autoHighlight:!0,slotProps:{paper:{sx:{width:260}}}})),title:"",minWidth:130,maxWidth:160,disabled:h||d.dtypeDisabled}],[h,d.sprodDisabled,d.getSPriceClassName,d.sqtyDisabled,d.getSQtyClassName,d.dtypeDisabled]),x=hr({data:d.grid.gridData,columns:g,skipDisabled:!0,lastCell:Xn.CREATE_ROW}),y=a.useCallback(()=>{if(!u){ae.error(""),i.setFocus("GrtDate");return}x.setActiveCell({col:0,row:0})},[i,x,u]),D=a.useCallback(()=>{d.editing&&i.handleSubmit(d.onEditorSubmit({setValue:i.setValue,gridMeta:x}),d.onEditorSubmitError)()},[d,i,x]);$t(["Control+Enter"],()=>setTimeout(D),{enableOnFormTags:!0});const v=vt(`
		TxoDate,
		employee,
		txiDept,
		depOrders,
		transType,
		deliveryEmployee,
		HDNo
		`,{lastField:y}),T=a.useCallback(I=>{switch(I.name){case"depOrders":return!u;default:return!1}},[u]);return mn(()=>{d.itemDataReady&&(console.log("c08 form reset",d.itemData),c(d.itemData))},[d.itemData,d.itemDataReady]),a.useEffect(()=>{d.committed&&(console.log("committed",d.grid.gridData),D())},[d.committed,d.grid.gridData,D]),r.jsx(Ye,{...i,children:r.jsx(Ct,{...v,isFieldDisabled:T,gridMeta:x,readOnly:h,children:r.jsxs(Er,{ref:t,title:m,responsive:!0,fullWidth:!0,maxWidth:"lg",TitleButtonsComponent:qje,open:d.itemViewOpen,onClose:f,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[{minHeight:"30em",paddingTop:0},p.scroller],...n,children:[r.jsx(LH,{onSubmit:D,creating:d.creating,editing:d.editing,updating:d.updating,readWorking:d.readWorking,readError:d.readError,data:d.itemData,itemDataReady:d.itemDataReady,handleDepOrdersChanged:d.handleDepOrdersChanged({setValue:i.setValue,getValues:i.getValues}),handleTxiDeptChanged:d.handleTxiDeptChanged({setValue:i.setValue,getValues:i.getValues}),purchaseOrdersDisabled:!u}),r.jsx(AH,{BackdropProps:{sx:[ur.BACKDROP_TRANSPARENT]}})]})})})});Vje.displayName="C08DialogContainer";const jA=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:3,...t})};jA.propTypes={loading:l.bool,children:l.oneOfType([l.node])};jA.displayName="C08DateColumn";const zC=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:2,...t})};zC.propTypes={loading:l.bool,children:l.oneOfType([l.node])};zC.displayName="C08DeptIdColumn";const IA=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:4,...t})};IA.propTypes={loading:l.bool,expChecking:l.bool,children:l.oneOfType([l.node])};IA.displayName="C08DeptNameColumn";const Ah=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:3,...t})};Ah.propTypes={loading:l.bool,children:l.oneOfType([l.node])};Ah.displayName="C08IdColumn";const BH=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsxs(io,{ref:t,...n,children:[r.jsx(Hn,{}),r.jsx(Ah,{children:""}),r.jsx(jA,{children:""}),r.jsx(zC,{children:""}),r.jsx(Ah,{children:""}),r.jsx(zC,{children:""}),r.jsx(IA,{}),r.jsx(Ah,{children:""})]})}));BH.propTypes={expChecking:l.bool};BH.displayName="C08ListHeader";const zje=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(lm),s=a.useMemo(()=>"",[]);return r.jsx(dt,{ref:t,variant:"contained",startIcon:r.jsx(Ao,{}),onClick:o.promptCreating,sx:{fontWeight:600},...n,children:s})}));zje.displayName="C08CreateButtonContainer";const Hje=()=>{const e=a.useContext(lm);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};Hje.displayName="C08FetchResultLabelContainer";const Gje=a.memo(()=>r.jsx(r.Fragment,{children:r.jsx(zje,{})}));Gje.displayName="LeftButtons";const WH=a.memo(a.forwardRef(({loading:e,...t},n)=>r.jsx(kn,{pl:0,alignItems:"flex-end",ref:n,LeftComponent:e?Cr:Gje,RightComponent:Hje,...t})));WH.displayName="C08ListViewToolbar";WH.propTypes={loading:l.bool};const Kje=({rowData:e,rowIndex:t})=>{var s;let n=[];if((s=e==null?void 0:e.prod)!=null&&s.ProdID&&!wo.isNullOrEmpty(e==null?void 0:e.StockQty_N)){const i=e.StockQty_N;n.push(`(${i||0})`)}const o=n.join(", ");return console.log(`${Kje.name}`,o),o},UH=({rowData:e,rowIndex:t})=>{var o;let n=[];if((o=e==null?void 0:e.prod)!=null&&o.ProdID&&!wo.isNullOrEmpty(e==null?void 0:e.StockQty_N)){const s=e.StockQty_N;if(n.push({label:"",value:s??0}),e!=null&&e.SafeQty_N){const i=Number(e==null?void 0:e.SafeQty_N)||0,c=i>0?s-i:s;s<(i>0?i:0)&&n.push({label:"",value:c})}}return console.log(`${UH.name}`,n),n},Qje=e=>(e==null?void 0:e.map((t,n)=>{const{SProdID:o,ProdData_N:s,SType:i,SRsnID:c,RsnData_N:u,SOrdID:d,SQtyNote:p,...m}=t,f=(d==null?void 0:d.split("#"))||[],h=f.length>0?f[0]:"";let g={prod:{ProdID:o,ProdData:s},ProdData:s,stype:zc.getOptionById(i),SOrdID:d,ordId:h,SQtyNote:p,dtype:c?{CodeID:c,CodeData:u}:null,...m};return g.tooltip=UH({rowData:g,rowIndex:n}),g}))||[],PEt=e=>e.filter(t=>{var n;return(n=t.prod)==null?void 0:n.ProdID}).map(({Pkey:t,prod:n,SQty:o,SPrice:s,SAmt:i,stype:c,dtype:u,...d},p)=>({Pkey:(t==null?void 0:t.length)<36?"":t,SProdID:n==null?void 0:n.ProdID,ProdData_N:n==null?void 0:n.ProdData,SQty:(o==null?void 0:o.toString())||"",SPrice:(s==null?void 0:s.toString())||"",SAmt:(i==null?void 0:i.toString())||"",SType:(c==null?void 0:c.id)||"",SRsnID:(u==null?void 0:u.CodeID)||"",Seq:p+1,...d})),REt=e=>{const{TxoDate:t,EmplID:n,EmplData_N:o,IDeptID:s,IDeptName_N:i,OrdIDs:c,TrafID:u,TrafData_N:d,DyEmplID:p,DyEmplData_N:m,InvTxo_S:f,Remark:h,SQtyNote:g,...x}=e;return{TxoDate:Re.parseDate(t),employee:{CodeID:n,CodeData:o},txiDept:{DeptID:s,AbbrName:i},depOrders:(c==null?void 0:c.split(/[|,]/).filter(y=>!!y).map(y=>({:y})))||[],transType:u?{CodeID:u,CodeData:d}:null,deliveryEmployee:{CodeID:p,CodeData:m},prods:Qje(f),SQtyNote:g,remark:h.join(`
`),...x}},wEt=(e,t)=>{const{TxoID:n,TxoDate:o,employee:s,txiDept:i,deliveryEmployee:c,transType:u,depOrders:d,remark:p,stock:m,prods:f,prod:h,stype:g,dtype:x,taxExcluded:y,supplier:D,...v}=e;return console.log("DROP props",{stock:m,prods:f,prod:h,stype:g,dtype:x,taxExcluded:y,supplier:D}),{TxoID:n,TxoDate:o?Re.formatDate(o):"",EmplID:(s==null?void 0:s.CodeID)||"",TrafID:(u==null?void 0:u.CodeID)||"",IDeptID:(i==null?void 0:i.DeptID)||"",DyEmplID:c==null?void 0:c.CodeID,OrdIDs:d.map(T=>T.).join(","),Remark:(p==null?void 0:p.split(`
`))||[],...v,...t&&{InvTxo_S:PEt(t)}}},kEt=e=>{const{txoDate:t,employee:n,deliveryEmployee:o,txiDept:s,transType:i,...c}=e;return{...t&&{od:Re.formatDate(t)},...n&&{emp:n.CodeID},...o&&{dm:o.CodeID},...s&&{ind:s==null?void 0:s.DeptID},...i&&{tt:i.CodeID},...c}},AEt=e=>Gn.isAnyPropNotEmpty(e,"txoDate,employee,deliveryEmployee,txiDept,transType"),NEt=e=>{if(!e)return 0;let t=0;for(const n of e){const{SAmt:o}=n;t+=o?Number(o):0}return t},Pp={transformForReading:REt,transformForSubmitting:wEt,transformAsQueryParams:kEt,transformGridForReading:Qje,getTotal:NEt,isFiltered:AEt,getTooltip:Kje,getTooltips:UH},qH=a.memo(e=>{const{index:t,style:n,value:o,onClick:s}=e;return r.jsx("div",{style:n,children:r.jsxs(yo,{borderBottom:!0,onClick:s,children:[r.jsx(na,{}),r.jsx(jt,{children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t}),r.jsx(Ah,{children:o==null?void 0:o.}),r.jsx(jA,{children:o==null?void 0:o.}),r.jsx(zC,{children:o==null?void 0:o.}),r.jsx(Ah,{children:o==null?void 0:o.}),r.jsx(zC,{children:o==null?void 0:o.}),r.jsx(IA,{children:o==null?void 0:o.}),r.jsx(Ah,{children:o==null?void 0:o.})]})})]})})});qH.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,expChecking:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func,promptCopyAuth:l.func};qH.displayName="C08ListRow";const VH=e=>{const t=a.useContext(lm),{isItemLoading:n}=t,{index:o,...s}=e,i=a.useMemo(()=>n(o),[o,n]),c=a.useMemo(()=>t.listData[o],[t.listData,o]);return r.jsx(No,{loading:i,children:r.jsx(qH,{index:o,value:c,onClick:u=>t.handleSelect(u,c),...s})})};VH.propTypes={index:l.number,data:l.object};VH.displayName="C08ListRowContainer";const Yje=()=>{const e=a.useContext(lm),{loadList:t}=e,n=Ke(),{height:o}=Wt(),s=Ue({name:"lvOrder",control:n.control}),i=Yn(s,300),c=Ue({name:"lvTxoDate",control:n.control}),u=Yn(c,300),d=Ue({name:"lvEmployee",control:n.control}),p=Yn(d,300),m=Ue({name:"lvDeliveryEmployee",control:n.control}),f=Yn(m,300),h=Ue({name:"lvDept",control:n.control}),g=Yn(h,300),x=Ue({name:"lvTransType",control:n.control}),y=Yn(x,300);En(()=>{e.loadList({params:{}})},[]),mn(()=>{t({params:{...i&&{q:i==null?void 0:i.},...Pp.transformAsQueryParams({txoDate:u,employee:p,deliveryEmployee:f,txiDept:g,transType:y})},supressLoading:!0})},[i,u,p,f,g,y]);const{isLgOrUp:D}=a.useContext(Zh),v=a.useMemo(()=>o?D?o-200:o-250:300,[o,D]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:VH,height:v,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};Yje.displayName="C08ListViewContainer";const FEt=e=>{if(!e)return"";const{:t}=e;return t?`${t}`:"(?)"},MEt=(e,t)=>e.===t.,_Et=e=>e.,LEt=e=>e.,pC={getOptionLabel:FEt,isOptionEqualToValue:MEt,renderTagLabel:_Et,renderOptionLabel:LEt},zH=a.memo(e=>{const{label:t="",...n}=e,{token:o}=a.useContext(Be),s=a.useMemo(()=>{const i={tp:1e4,opts:1};return Hr.stringify(i)},[]);return r.jsx(bt,{label:t,url:"v1/purchase/trans-out-orders",bearer:o,queryParam:"qs",querystring:s,getOptionLabel:pC.getOptionLabel,isOptionEqualToValue:pC.isOptionEqualToValue,renderOptionLabel:pC.renderOptionLabel,notFoundText:" ${input} ",placeholder:"",typeToSearchText:"...",inputParam:"fz",...n})});zH.propTypes={label:l.string};zH.displayName="TransOutOrderPicker";const HH=a.memo(e=>{const{...t}=e;return r.jsx(Pt,{children:r.jsxs(Vt,{container:!0,spacing:1,columns:24,...t,children:[r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(zH,{label:"",name:"lvOrder",autoFocus:!0,placeholder:"",disableOpenOnInput:!0})}),r.jsx(Vt,{item:!0,md:5,lg:4,children:r.jsx(et,{name:"lvTxoDate",label:"(>)",validate:!0})}),r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(Ar,{name:"lvEmployee",label:"",disableOpenOnInput:!0})}),r.jsx(Vt,{item:!0,md:5,lg:4,children:r.jsx(Ar,{name:"lvDeliveryEmployee",label:"",disableOpenOnInput:!0})}),r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(Uo,{name:"lvDept",label:"",disableOpenOnInput:!0})}),r.jsx(Vt,{item:!0,md:5,lg:4,children:r.jsx(Zb,{name:"lvTransType",label:"",disableOpenOnInput:!0})})]})})});HH.propTypes={};HH.displayName="C08SearchForm";const Jje=e=>{const{...t}=e,n=vt(`
		lvOrder,
		lvTxoDate,
		lvEmployee,
		lvDeliveryEmployee,
		lvDept,
		lvTransType
		`);return r.jsx(Ct,{...n,children:r.jsx(HH,{...t})})};Jje.displayName="C08SearchFormContainer";const Xje=()=>{const e=at({defaultValues:{}});return r.jsxs(Ft,{children:[r.jsxs(Ye,{...e,children:[r.jsx(_t,{}),r.jsxs(li,{children:[r.jsx(Jje,{initSize:"md"}),r.jsx(WH,{}),r.jsx(BH,{}),r.jsx(Yje,{})]})]}),r.jsx(Vje,{})]})};Xje.displayName="C08FrameContainer";const ld=a.createContext(),TA=a.memo(a.forwardRef((e,t)=>{const{children:n,...o}=e;return r.jsx(ys,{ref:t,xs:24,sm:4,...o,children:n})}));TA.propTypes={children:l.oneOfType([l.node,l.array])};TA.displayName="TxoOrderDateColumn";const OA=a.memo(a.forwardRef((e,t)=>{const{children:n,...o}=e;return r.jsx(ys,{ref:t,xs:24,sm:5,...o,children:n})}));OA.propTypes={children:l.oneOfType([l.node,l.array])};OA.displayName="TxoOrderDeptColumn";const EA=a.memo(a.forwardRef((e,t)=>{const{children:n,...o}=e;return r.jsx(ys,{ref:t,xs:24,sm:3,...o,children:n})}));EA.propTypes={children:l.oneOfType([l.node,l.array])};EA.displayName="TxoOrderDeptIdColumn";const Nh=a.memo(a.forwardRef((e,t)=>{const{children:n,...o}=e;return r.jsx(ys,{ref:t,xs:24,sm:4,...o,children:n})}));Nh.propTypes={children:l.oneOfType([l.node,l.array])};Nh.displayName="TxoOrderIdColumn";const GH=a.memo(()=>r.jsxs(Tf,{children:[r.jsx(Nh,{header:!0,children:""}),r.jsx(TA,{header:!0,children:""}),r.jsx(Nh,{header:!0,children:""}),r.jsx(Nh,{header:!0,children:""}),r.jsx(EA,{header:!0,children:""}),r.jsx(OA,{header:!0,children:""})]}));GH.propTypes={sx:l.oneOfType([l.object,l.array])};GH.displayName="TxoOrderGridHeader";const KH=a.memo(a.forwardRef((e,t)=>{const{value:n}=e,o=a.useMemo(()=>`${n.} ${n.}`,[n]);return r.jsxs(j,{ref:t,container:!0,columns:24,spacing:2,children:[r.jsx(Nh,{children:n.}),r.jsx(TA,{children:n.}),r.jsx(Nh,{children:n.}),r.jsx(Nh,{children:n.}),r.jsx(EA,{children:n.}),r.jsx(OA,{children:o})]})}));KH.propTypes={value:l.object};KH.displayName="TxoOrderGridRow";const QH=a.forwardRef((e,t)=>{const{label:n="",...o}=e,{token:s,operator:i}=a.useContext(Be),c=a.useMemo(()=>{const u={tp:100,tidp:i.CurDeptID};return Hr.stringify(u)},[i.CurDeptID]);return r.jsx(bt,{ref:t,label:n,bearer:s,url:"v1/purchase/trans-in-orders/txo-orders",queryParam:"qs",querystring:c,getOptionLabel:pC.getOptionLabel,isOptionEqualToValue:pC.isOptionEqualToValue,renderTagLabel:pC.renderTagLabel,optionLabelSize:"md",GridHeaderComponent:GH,GridRowComponent:KH,notFoundText:" ${input} ",inputParam:"fz",...o})});QH.propTypes={label:l.string,children:l.node};QH.displayName="TxoOrderPicker";const PA=e=>{const{name:t="TxiAmt",...n}=e,o=Ue({name:t}),s=a.useMemo(()=>!isNaN(o)&&o!==""?parseFloat(o).toFixed(2):"0.00",[o]);return r.jsxs(ve,{inline:!0,sx:{fontWeight:700},children:["",r.jsx(nn,{color:"primary",...n,children:s})]})};PA.propTypes={name:l.string};PA.displayName="C09ProdGridSubtotalLabel";const $Et=()=>r.jsx(r.Fragment,{children:r.jsx(PA,{name:"TxiAmt"})}),YH=a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(ld),s=Ke(),i=Ue({name:"txoDept",conrtol:s.control}),c=Ue({name:"txoOrder",conrtol:s.control});return a.useMemo(()=>!o.editing||!i||!!c,[o.editing,i,c])?r.jsx(kn,{ref:t,RightComponent:$Et,...n}):!1});YH.propTypes={};YH.displayName="C09ProdGridBottomToolbar";const BEt=Aa({translationKeys:{button:"",unit:""},RightComponent:PA}),WEt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),JH=a.memo(e=>{const{createRow:t,getRowKey:n,readOnly:o,gridRef:s,data:i,onChange:c,onActiveCellChange:u,getRowClassName:d,height:p=300}=e,m=a.useCallback(({rowData:h})=>({...h,Pkey:zn()}),[]),f=a.useCallback(({rowData:h})=>{console.log("deleteRow",h)},[]);return r.jsx(dr,{ref:s,rowKey:n,lockRows:o,height:p,value:i,onChange:c,onActiveCellChange:u,addRowsComponent:BEt,disableExpandSelection:!0,contextMenuComponent:WEt,createRow:t,duplicateRow:m,rowClassName:d,deleteRow:f})});JH.propTypes={getRowKey:l.func,onChange:l.func,onActiveCellChange:l.func,getRowClassName:l.func,getSPriceClassName:l.func,readOnly:l.bool,height:l.number,gridRef:l.func,data:l.array.isRequired,stypeDisabled:l.func,sprodDisabled:l.func,dtypeDisabled:l.func,sqtyDisabled:l.func,createRow:l.func};JH.displayName="C09ProdGrid";const Zje=e=>{const{...t}=e,n=a.useContext(ld),o=a.useContext(Be),{height:s}=Wt(),i=Ke(),c=a.useContext(Lr),u=a.useMemo(()=>s-366,[s]),d=a.useMemo(()=>n.buildGridChangeHandler({getValues:i.getValues,setValue:i.setValue,gridMeta:c.gridMeta}),[n,i.getValues,i.setValue,c.gridMeta]);return r.jsx(Kn.Provider,{value:{...n.grid,...c.gridMeta,readOnly:c.readOnly},children:r.jsx(JH,{gridRef:c.gridMeta.setGridRef,readOnly:c.readOnly,data:n.gridData,onChange:d,onActiveCellChange:c.gridMeta.handleActiveCellChange,bearer:o.token,height:u,getRowKey:n.getRowKey,createRow:n.createRow,...t})})};Zje.displayName="C09ProdGridContainer";const XH=a.memo(e=>{const{txoOrderPickerRef:t,onSubmit:n,readError:o,readWorking:s,itemDataReady:i,creating:c,editing:u,handleTxoOrderChanged:d,handleTxoDeptChanged:p,remarkDisabled:m,slotProps:f}=e;return r.jsxs("form",{onSubmit:n,children:[s&&r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",minHeight:"30em",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}),o&&r.jsx(lo,{error:o,...f==null?void 0:f.error}),i&&r.jsxs(Pt,{pt:u?1:0,children:[r.jsxs(j,{container:!0,columns:24,spacing:1,children:[!c&&r.jsx(j,{item:!0,xs:24,sm:24,md:3,children:r.jsx($e,{typo:!0,name:"TxiID",label:"",autoFocus:!0,fullWidth:!0,readOnly:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:4.5,children:r.jsx(et,{typo:!0,name:"txiDate",label:"",autoFocus:!0,fullWidth:!0,required:!0,validate:!0,variant:"outlined"})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:24,sm:24,md:5.5,children:r.jsx(QH,{ref:t,typo:!0,name:"txoOrder",label:"",onChanged:d,disableOpenOnInput:!0,slotProps:{paper:{sx:{width:700}}}})}),r.jsx(j,{item:!0,xs:24,sm:24,md:7,children:r.jsx(SA,{typo:!0,multiple:!0,name:"depOrders",label:"",disabled:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:5,children:r.jsx(Uo,{typo:!0,name:"txoDept",label:"",excludesSelf:!0,required:!0,rules:{required:""},onChange:p,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:5,children:r.jsx(Ar,{typo:!0,label:"",name:"employee",required:!0,rules:{required:""},virtualize:!0,disableOpenOnInput:!0})})]}),r.jsx(jt,{py:1,children:r.jsx(Zje,{})}),r.jsx(YH,{}),r.jsx(j,{container:!0,columns:24,children:r.jsx(j,{item:!0,xs:24,children:r.jsx($e,{typo:!0,name:"remark",multiline:!0,minRows:2,maxRows:5,label:"",fullWidth:!0,disabled:m})})})]})]})});XH.propTypes={readWorking:l.bool,readError:l.object,data:l.object,itemDataReady:l.bool,purchaseOrdersDisabled:l.bool,handleRtnDateChanged:l.func,onSubmit:l.func,creating:l.bool,editing:l.bool,handleTxoOrderChanged:l.func,handleTxoDeptChanged:l.func,remarkDisabled:l.bool,slotProps:l.object,txoOrderPickerRef:l.ref};XH.displayName="C09DialogForm";const ZH=a.memo(a.forwardRef((e,t)=>{const{onSave:n,onCancel:o,onRefresh:s,editWorking:i,refreshWorking:c,...u}=e;return r.jsxs(a.Fragment,{ref:t,...u,children:[s&&r.jsx(dt,{responsive:!0,onClick:s,type:"button",endIcon:r.jsx(Jb,{}),color:"info",variant:"contained",loading:c,children:""}),r.jsx(dt,{responsive:!0,onClick:o,color:"warning",variant:"outlined",...u,children:""}),r.jsx(dt,{responsive:!0,onClick:n,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:i,children:""})]})}));ZH.displayName="C09DialogEditToolbar";ZH.propTypes={onCancel:l.func,onSave:l.func,onRefresh:l.func,onLoadProds:l.func,refreshWorking:l.bool,editWorking:l.bool};const e1e=e=>{const{...t}=e,n=Ke(),o=a.useContext(ld),{canPrint:s}=o,i=n.handleSubmit(o.onPrintSubmit,o.onPrintSubmitError);return s?r.jsx(xn,{onSubmit:i,...t}):!1};e1e.displayName="C09ExportButtonContainer";const t1e=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,checkEditableWorking:o,onDelete:s,onPrint:i,onSideDrawerOpen:c,...u}=e;return r.jsxs(a.Fragment,{ref:t,...u,children:[i&&r.jsx(r.Fragment,{children:r.jsx(e1e,{})}),s&&r.jsx(dt,{responsive:!0,startIcon:r.jsx(im,{}),color:"secondary",onClick:s,children:""}),n&&r.jsx(dt,{responsive:!0,startIcon:r.jsx(bo,{}),color:"primary",onClick:n,loading:o,children:""}),r.jsx(jr,{title:"",children:r.jsx(br,{onClick:c,size:"small",children:r.jsx(Po,{})})})]})}));t1e.propTypes={onEdit:l.func,onDelete:l.func,onPrint:l.func,checkEditableWorking:l.bool,onSideDrawerOpen:l.func};const n1e=e=>{const{...t}=e,n=a.useContext(ld),o=Ke(),s=a.useMemo(()=>n.canDelete,[n.canDelete]),i=o.handleSubmit(n.onPrintSubmit,n.onPrintSubmitError);return n.itemDataReady?n.editing?r.jsx(ZH,{onSave:o.handleSubmit(n.onEditorSubmit,n.onEditorSubmitError),editWorking:n.editWorking,onCancel:n.updating?n.confirmReturnReading:n.confirmQuitCreating,...t}):r.jsx(t1e,{onEdit:n.canUpdate?n.handleCheckEditable:null,onDelete:s?n.confirmDelete:null,onPrint:n.canPrint?i:null,checkEditableWorking:n.checkEditableWorking,onSideDrawerOpen:n.handleSideDrawerOpen,...t}):!1};n1e.displayName="C09DialogToolbarContainer";const eG=a.memo(e=>{var s,i;const{anchor:t="right",...n}=e,o=a.useContext(ld);return r.jsxs(Eo,{anchor:t,open:o.sideDrawerOpen,onClose:o.handleSideDrawerClose,...n,children:[r.jsx(pn,{label:"",children:(s=o.itemData)==null?void 0:s.WriteDate_N}),r.jsx(pn,{label:"",children:(i=o.itemData)==null?void 0:i.Writer_N})]})});eG.propTypes={anchor:l.string};eG.displayName="C09Drawer";const r1e=a.forwardRef((e,t)=>{const{...n}=e,{height:o}=Wt(),s=a.useMemo(()=>o-120,[o]),i=at({defaultValues:{prods:[]}}),{reset:c}=i,u=a.useContext(ld),{createWithTxoOrder:d,promptCreating:p}=u,m=Qr({height:s,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),f=a.useMemo(()=>u.creating?"":u.updating?"":"",[u.creating,u.updating]),h=a.useMemo(()=>u.creating?u.confirmQuitCreating:u.updating?u.confirmQuitUpdating:u.reading?u.cancelAction:null,[u.cancelAction,u.confirmQuitCreating,u.confirmQuitUpdating,u.creating,u.reading,u.updating]),g=Ue({name:"txoDept",control:i.control}),x=Ue({name:"txoOrder",control:i.control}),y=a.useMemo(()=>!!x,[x]),D=a.useMemo(()=>!u.editing||!g||!!x,[u.editing,g,x]),v=a.useMemo(()=>[{...Pe.keyColumn("prod",or(ls,{name:"prod",withStock:!0,packageType:"_",forId:!0,disableClearable:!0,slotProps:{paper:{sx:{width:360}}}})),title:"",minWidth:130,maxWidth:150,disabled:D||u.sprodDisabled},{...Pe.keyColumn("ProdData",kt({continuousUpdates:!1})),title:"",disabled:!0,grow:2},{...Pe.keyColumn("PackData_N",kt({continuousUpdates:!1})),minWidth:60,title:"",disabled:!0},{...Pe.keyColumn("SPrice",Jn(2)),title:"",minWidth:100,grow:1,disabled:!0,cellClassName:u.getSPriceClassName},{...Pe.keyColumn("SQty",Jn(2)),title:"",minWidth:90,grow:1,disabled:D||u.sqtyDisabled},{...Pe.keyColumn("SAmt",Jn(2)),title:"",minWidth:90,grow:1,disabled:!0},{...Pe.keyColumn("stype",or(ad,{name:"stype",disableClearable:!0,disableOpenOnInput:!0,autoHighlight:!0,selectOnFocus:!0})),title:"",minWidth:70,maxWidth:70,disabled:D||u.stypeDisabled},{...Pe.keyColumn("dtype",or(Xb,{name:"dtype",disableOpenOnInput:!0,disableClearable:!0,selectOnFocus:!0,autoHighlight:!0,slotProps:{paper:{sx:{width:260}}}})),title:"",minWidth:130,maxWidth:160,disabled:D||u.dtypeDisabled},{...Pe.keyColumn("SoFlag_N",kt({continuousUpdates:!1})),minWidth:38,maxWidth:38,title:"",disabled:!0,cellClassName:"star"}],[D,u.sprodDisabled,u.getSPriceClassName,u.sqtyDisabled,u.stypeDisabled,u.dtypeDisabled]),T=hr({data:u.grid.gridData,columns:v,skipDisabled:!0,lastCell:Xn.CREATE_ROW}),I=a.useCallback(()=>{if(!g){ae.error(""),i.setFocus("txoDept");return}T.setActiveCell({col:0,row:0})},[i,T,g]),P=vt(`
		txiDate,
		txoOrder,
		depOrders,
		txoDept,
		employee,
		`,{lastField:I}),E=i.handleSubmit(u.onEditorSubmit,u.onEditorSubmitError);$t(["Control+Enter"],()=>u.updating?setTimeout(E):null,{enableOnFormTags:!0});const k=a.useCallback(L=>{switch(L.name){case"depOrders":return!0;default:return!1}},[]),w=a.useRef(null),[A]=Ode(),F=A.get("target");mn(()=>{u.itemDataReady&&(console.log("c09 form reset",u.itemData),c(u.itemData),F==""&&setTimeout(()=>{var L;(L=w.current)==null||L.openPopper(),ae.warn("")},500))},[u.itemData,u.itemDataReady]);const _=a.useCallback(L=>{L!=null&&(L?d({id:L}):p())},[d,p]);return $D("target",_),r.jsx(Ye,{...i,children:r.jsxs(Er,{ref:t,title:f,responsive:!0,fullWidth:!0,maxWidth:"lg",TitleButtonsComponent:n1e,open:u.itemViewOpen,onClose:h,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[{minHeight:"30em",paddingTop:0},m.scroller],...n,children:[r.jsx(Ct,{...P,isFieldDisabled:k,gridMeta:T,readOnly:D,children:r.jsx(XH,{txoOrderPickerRef:w,onSubmit:E,creating:u.creating,editing:u.editing,updating:u.updating,readWorking:u.readWorking,readError:u.readError,data:u.itemData,itemDataReady:u.itemDataReady,handleTxoOrderChanged:u.handleTxoOrderChanged({setValue:i.setValue,getValues:i.getValues}),handleTxoDeptChanged:u.handleTxoDeptChanged({setValue:i.setValue,getValues:i.getValues}),remarkDisabled:y})}),r.jsx(eG,{BackdropProps:{sx:[ur.BACKDROP_TRANSPARENT]}})]})})});r1e.displayName="C09DialogContainer";const RA=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:3,...t})};RA.propTypes={loading:l.bool,children:l.oneOfType([l.node])};RA.displayName="C09DateColumn";const wA=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:5,...t})};wA.propTypes={loading:l.bool,children:l.oneOfType([l.node])};wA.displayName="C09DeptColumn";const HC=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:3,...t})};HC.propTypes={loading:l.bool,children:l.oneOfType([l.node])};HC.displayName="C09IdColumn";const kA=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:6,...t})};kA.propTypes={loading:l.bool,children:l.oneOfType([l.node])};kA.displayName="C09UserColumn";l.bool,l.oneOfType([l.node]);l.bool,l.bool,l.oneOfType([l.node]);const tG=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsxs(io,{ref:t,...n,children:[r.jsx(Hn,{}),r.jsx(HC,{children:""}),r.jsx(RA,{children:""}),r.jsx(HC,{children:""}),r.jsx(wA,{children:""}),r.jsx(kA,{children:""})]})}));tG.propTypes={expChecking:l.bool};tG.displayName="C09ListHeader";const o1e=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(ld),s=a.useMemo(()=>"",[]);return r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(Ao,{}),onClick:o.promptCreating,sx:{fontWeight:600},...n,children:s})}));o1e.displayName="C09CreateButtonContainer";const s1e=()=>{const e=a.useContext(ld);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};s1e.displayName="C09FetchResultLabelContainer";const a1e=a.memo(()=>r.jsx(r.Fragment,{children:r.jsx(o1e,{})}));a1e.displayName="LeftButtons";const nG=a.memo(a.forwardRef(({loading:e,...t},n)=>r.jsx(kn,{pl:0,alignItems:"flex-end",ref:n,LeftComponent:e?Cr:a1e,RightComponent:s1e,...t})));nG.displayName="C09ListViewToolbar";nG.propTypes={loading:l.bool};const i1e=e=>(e==null?void 0:e.map(({SProdID:t,ProdData_N:n,SType:o,SRsnID:s,RsnData_N:i,...c})=>({prod:{ProdID:t,ProdData:n},ProdData:n,stype:zc.getOptionById(o),dtype:s?{CodeID:s,CodeData:i}:null,...c})))||[],UEt=e=>e.filter(t=>{var n;return(n=t.prod)==null?void 0:n.ProdID}).map(({Pkey:t,prod:n,SQty:o,SPrice:s,SAmt:i,stype:c,dtype:u,...d},p)=>({Pkey:(t==null?void 0:t.length)<36?"":t,SProdID:n==null?void 0:n.ProdID,ProdData_N:n==null?void 0:n.ProdData,SQty:(o==null?void 0:o.toString())||"",SPrice:(s==null?void 0:s.toString())||"",SAmt:(i==null?void 0:i.toString())||"",SType:(c==null?void 0:c.id)||"",SRsnID:(u==null?void 0:u.CodeID)||"",Seq:p+1,...d})),qEt=e=>{const{TxoID:t,TxiDate:n,EmplID:o,EmplData_N:s,ODeptID:i,ODeptName_N:c,OrdIDs:u,InvTxi_S:d,Remark:p,...m}=e;return{txoOrder:t?{:t}:null,txiDate:Re.parseDate(n),employee:o?{CodeID:o,CodeData:s}:null,txoDept:i?{DeptID:i,AbbrName:c}:null,depOrders:(u==null?void 0:u.split(/[|,]/).filter(f=>!!f).map(f=>({:f})))||[],prods:i1e(d)??[],remark:p.join(`
`),...m}},VEt=(e,t)=>{const{txoOrder:n,txiDate:o,employee:s,txoDept:i,depOrders:c,remark:u,prods:d,stype:p,dtype:m,prod:f,...h}=e;return console.log("ignore props",d,p,m,f),{TxoID:(n==null?void 0:n.)||"",TxiDate:o?Re.formatDate(o):"",EmplID:(s==null?void 0:s.CodeID)||"",ODeptID:(i==null?void 0:i.DeptID)||"",OrdIDs:c.map(g=>g.).join(","),Remark:(u==null?void 0:u.split(`
`))||[],...h,...t&&{InvTxi_S:UEt(t)}}},zEt=e=>{const{txiDate:t,employee:n,txoDept:o,...s}=e;return{...o&&{todp:o==null?void 0:o.DeptID},...n&&{emi:n.CodeID},...t&&{tid:Re.formatDate(t)},...s}},HEt=e=>Gn.isAnyPropNotEmpty(e,"tid,employee,txoDept"),GEt=e=>{if(!e)return 0;let t=0;for(const n of e){const{SAmt:o}=n;t+=o?Number(o):0}return t},Rp={transformForReading:qEt,transformForSubmitting:VEt,transformAsQueryParams:zEt,transformGridForReading:i1e,getTotal:GEt,isFiltered:HEt},rG=a.memo(e=>{const{index:t,style:n,value:o,onClick:s}=e,i=a.useMemo(()=>`${o==null?void 0:o.} ${o==null?void 0:o.}`,[o==null?void 0:o.,o==null?void 0:o.]),c=a.useMemo(()=>`${(o==null?void 0:o.)||"()"} ${(o==null?void 0:o.)||"()"}`,[o==null?void 0:o.,o==null?void 0:o.]);return r.jsx("div",{style:n,children:r.jsxs(yo,{borderBottom:!0,onClick:s,children:[r.jsx(na,{}),r.jsx(jt,{children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t}),r.jsx(HC,{children:o==null?void 0:o.}),r.jsx(RA,{children:o==null?void 0:o.}),r.jsx(HC,{children:o==null?void 0:o.}),r.jsx(wA,{children:i}),r.jsx(kA,{children:c})]})})]})})});rG.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,expChecking:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func,promptCopyAuth:l.func};rG.displayName="C09ListRow";const oG=e=>{const t=a.useContext(ld),{isItemLoading:n}=t,{index:o,...s}=e,i=a.useMemo(()=>n(o),[o,n]),c=a.useMemo(()=>t.listData[o],[t.listData,o]);return r.jsx(No,{loading:i,children:r.jsx(rG,{index:o,value:c,onClick:u=>t.handleSelect(u,c),...s})})};oG.propTypes={index:l.number,data:l.object};oG.displayName="C09ListRowContainer";const l1e=()=>{const e=a.useContext(ld),{loadList:t}=e,n=Ke(),{height:o}=Wt(),s=Ue({name:"lvOrder",control:n.control}),i=Yn(s,300),c=Ue({name:"lvTxiDate",control:n.control}),u=Yn(c,300),d=Ue({name:"lvEmployee",control:n.control}),p=Yn(d,300),m=Ue({name:"lvDept",control:n.control}),f=Yn(m,300);En(()=>{e.loadList({params:{}})},[]),mn(()=>{t({params:{...i&&{q:i==null?void 0:i.},...Rp.transformAsQueryParams({txiDate:u,employee:p,txoDept:f})},supressLoading:!0})},[i,u,p,f]);const h=a.useMemo(()=>o?o-200:300,[o]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:oG,height:h,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};l1e.displayName="C09ListViewContainer";const KEt=e=>{if(!e)return"";const{:t}=e;return t?`${t}`:"(?)"},QEt=(e,t)=>e.===t.,YEt=e=>e.,CL={getOptionLabel:KEt,isOptionEqualToValue:QEt,renderOptionLabel:YEt},sG=a.memo(e=>{const{label:t="",...n}=e,{token:o}=a.useContext(Be),s=a.useMemo(()=>{const i={tp:1e4,opts:1};return Hr.stringify(i)},[]);return r.jsx(bt,{label:t,url:"v1/purchase/trans-in-orders",bearer:o,queryParam:"qs",querystring:s,getOptionLabel:CL.getOptionLabel,isOptionEqualToValue:CL.isOptionEqualToValue,renderOptionLabel:CL.renderOptionLabel,notFoundText:" ${input} ",placeholder:"",typeToSearchText:"...",inputParam:"fz",...n})});sG.propTypes={label:l.string};sG.displayName="TransInOrderPicker";const aG=a.memo(e=>{const{...t}=e;return r.jsx(Pt,{children:r.jsxs(Vt,{container:!0,spacing:1,columns:24,children:[r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(sG,{label:"",name:"lvOrder",autoFocus:!0,placeholder:"",disableOpenOnInput:!0})}),r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(et,{name:"lvTxiDate",label:"()",validate:!0})}),r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(Ar,{name:"lvEmployee",label:"",disableOpenOnInput:!0})}),r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(Uo,{name:"lvDept",label:"",disableOpenOnInput:!0})})]})})});aG.propTypes={};aG.displayName="C08SearchForm";const c1e=e=>{const{...t}=e,n=vt(`
		lvOrder,
		lvTxiDate,
		lvEmployee,
		lvDept,
		`);return r.jsx(Ct,{...n,children:r.jsx(aG,{...t})})};c1e.displayName="C09SearchFormContainer";const u1e=()=>{const e=a.useContext(ld),{promptCreating:t,createWithTxoOrder:n}=e,o=at({defaultValues:{}});return r.jsxs(Ft,{children:[r.jsxs(Ye,{...o,children:[r.jsx(_t,{}),r.jsxs(li,{children:[r.jsx(c1e,{}),r.jsx(nG,{}),r.jsx(tG,{}),r.jsx(l1e,{})]})]}),r.jsx(r1e,{})]})};u1e.displayName="C09FrameContainer";const JEt="",Gle=({action:e})=>`${e}`,XEt=({action:e})=>", ",ZEt=({action:e})=>"",d1e=(e={})=>{const{action:t="",label:n=Gle,entryErrorMessage:o=XEt}=e,{token:s}=a.useContext(Be),i=a.useContext(Mr),c=a.useRef({passed:!1}),{httpPostAsync:u}=Zn(),d=a.useCallback((m={})=>{const{first:f=!1,callback:h,message:g=JEt,title:x=ZEt,label:y=Gle}=m;console.log("promptPwordEntry, first:",f);const D=typeof g=="function"?g({action:t}):g,v=typeof x=="function"?x({action:t}):x,T=typeof y=="function"?y({action:t}):y;i.prompt({title:v,message:D,label:T,triggerCancelOnClose:!0,onConfirm:async({value:I})=>{try{const{status:P}=await u({url:"v2/ou/dept/params/validate",bearer:s,data:{pword:I}});if(console.log("status",P),P.success)console.log("pword passed"),c.current={...c.current,passed:!0},h&&h();else{console.log("pword not passed");const E=typeof o=="function"?o({action:t}):o;ae.error(E),d(m)}}catch(P){console.error(P),ae.error("")}},onCancel:()=>{console.log("pword cancelled")}})},[t,i,o,u,s]);return{performCheck:a.useCallback(({callback:m,...f})=>{var h;if(!((h=c.current)!=null&&h.passed)){d({first:!0,callback:m,...f});return}m?m():console.error(" callback")},[d])}},ePt=()=>{var le,fe,Ae;const e=a.useContext(cr),{itemData:t}=e,n=a.useRef(),{token:o,operator:s}=a.useContext(Be),i=a.useContext(ln),c=Bt({moduleId:"C08"}),u=Co(),[d,p,m,f]=us(!1),{httpGetAsync:h,httpPostAsync:g,httpPutAsync:x,httpDeleteAsync:y}=Zn(),D=a.useContext(Mr),v=so({url:"v1/purchase/trans-out-orders",bearer:o,initialFetchSize:50}),T=a.useCallback(()=>({Pkey:zn(),prod:null,SQty:"",SPrice:"",SRemark:"",ChkQty:"",SOrdID:"",stype:null,dtype:null,SQtyNote:""}),[]),I=yr({gridId:"prods",keyColumn:"Pkey",createRow:T}),P=jf({grid:I,action:""}),{committed:E}=P,k=d1e(),w=a.useCallback(({setValue:Se,formData:be,gridData:Me,reset:we=!1})=>{if(we)Se("TxoAmt","");else{if(Me){const Ge=Pp.getTotal(Me);Se("TxoAmt",Ge.toFixed(2));return}Se("TxoAmt","")}},[]),A=a.useCallback(()=>{const Se={prods:[],TxoDate:new Date,RecvAmt:"",taxExcluded:!1,employee:null,supplier:null,depOrders:[]};e.promptCreating({data:Se}),P.reset(),I.initGridData(Se.prods,{fillRows:!0})},[e,I,P]),F=a.useCallback(async({id:Se,refresh:be=!1})=>{try{const Me=be?n.current:Se;be||(n.current=Se,e.startReading("...",{id:Se}));const{status:we,payload:Ge,error:We}=await h({url:"v1/purchase/trans-out-orders",bearer:o,params:{id:Me}});if(we.success){const Ee=Pp.transformForReading(Ge.data[0]);e.finishedReading({data:Ee}),P.recoverStockMap(Ee.prods,{safety:!0}),I.initGridData(Ee.prods)}else throw We??new Error("")}catch(Me){e.failedReading(Me)}},[h,o,e,P,I]),_=a.useCallback(async({data:Se,setValue:be,gridMeta:Me,overrideCheckDate:we=!1})=>{const Ge=e.creating;try{Ge?e.startCreating():e.startUpdating();const{status:We,error:Ee}=Ge?await g({url:"v1/purchase/trans-out-orders",data:Se,bearer:o,...we&&{params:{override:1}}}):await x({url:"v1/purchase/trans-out-orders",data:Se,bearer:o,...we&&{params:{override:1}}});if(We.success)ae.success(Ge?"":""),Ge?(e.finishedCreating(),e.cancelReading()):(e.finishedUpdating(),F({refresh:!0})),v.loadList({refresh:!0});else throw Ee??new Error("")}catch(We){if(Ge?e.failedCreating():e.failedUpdating(),console.error(`${Ge?"":""} `,We),We.code===102){const Ee=P.getErrorParams(We);P.handleOverrideSQty({setValue:be,gridMeta:Me,formData:Se,...Ee,onCommit:({gridData:Xe})=>{w({gridData:Xe,setValue:be,formData:Se})}})}else We.code==20&&!we?k.performCheck({title:We.message,callback:()=>{_({data:Se,setValue:be,gridMeta:Me,overrideCheckDate:!0})}}):ae.error("",We)}},[e,w,g,x,v,F,k,P,o]),L=a.useCallback(async(Se,be)=>{Se==null||Se.stopPropagation(),e.cancelAction(),F({id:be.})},[e,F]),K=Or(),z=a.useCallback(()=>{D.confirm({message:"?",onConfirm:()=>{e.cancelAction()}})},[e,D]),J=a.useCallback(()=>{D.confirm({message:"?",onConfirm:()=>{e.cancelAction()}})},[e,D]),Q=a.useCallback(()=>{D.confirm({message:"?",onConfirm:()=>{e.cancelUpdating(),F({refresh:!0})}})},[e,D,F]),V=a.useCallback(()=>{D.confirm({message:`${t==null?void 0:t.TxoID}?`,onConfirm:async()=>{try{e.startDeleting(t);const{status:Se,error:be}=await y({url:"v1/purchase/trans-out-orders",bearer:o,params:{id:t==null?void 0:t.TxoID}});if(Se.success)e.cancelAction(),ae.success(` ${t==null?void 0:t.TxoID}`),v.loadList({refresh:!0});else throw be||""}catch(Se){e.failedDeleting(Se),console.error("confirmDelete.failed",Se),ae.error("",Se)}}})},[e,D,y,t,v,o]),W=a.useCallback(({reset:Se})=>()=>{Se({txoDate:null,employee:null,deliveryEmployee:null,txiDept:null,transType:null})},[]),U=a.useCallback(Se=>{console.log("onSearchSubmit",Se),f(),v.loadList({params:Pp.transformAsQueryParams(Se)})},[f,v]),X=a.useCallback(Se=>{console.error("onSearchSubmitError",Se)},[]),te=a.useCallback(({rowData:Se,rowIndex:be})=>`${(Se==null?void 0:Se.Pkey)||be}`,[]),se=a.useCallback(async(Se,{txiDeptId:be})=>{if(!Se){ae.error("",{position:"top-right"});return}try{const{status:Me,payload:we,error:Ge}=await h({url:"v1/purchase/trans-out-orders/prod-info",bearer:o,params:{pd:Se,ind:be}});if(Me.success)return P.updateStockQty(Se,we.Stock),we;throw Ge??new Error("")}catch(Me){ae.error("",Me)}},[h,P,o]),he=a.useCallback(({rowData:Se})=>!Se.sqtyError,[]),pe=a.useCallback(({rowData:Se})=>!!Se.SoFlag_N,[]),ue=a.useCallback(({rowData:Se})=>!!(Se!=null&&Se.SOrdFlag_N),[]),ge=a.useCallback(async({rowData:Se,txiDeptId:be})=>{var We,Ee,Xe,ot,ze;let Me={...Se};const we=(We=Se.prod)!=null&&We.ProdID?await se((Ee=Se.prod)==null?void 0:Ee.ProdID,{txiDeptId:be}):null;let Ge=!(we!=null&&we.Price);return Me.prod&&Ge&&ae.error(`${(Xe=Me.prod)==null?void 0:Xe.ProdData}`),Me={...Me,prod:Ge?null:Me.prod,ProdData:Ge?"":((ot=Me.prod)==null?void 0:ot.ProdData)||"",PackData_N:Ge?"":((ze=Me==null?void 0:Me.prod)==null?void 0:ze.PackData_N)||"",SPrice:Ge?"":we==null?void 0:we.Price,SQty:"",SQtyNote:"",dtype:null,stype:null,StockQty_N:(we==null?void 0:we.Stock)||"",SAmt:""},Me},[se]),Ce=a.useCallback(({rowData:Se})=>{var Me;let be={...Se};return be={...be,SAmt:!Se.SPrice||!Se.SQty?"":(Me=Se.stype)!=null&&Me.id?0:Se.SPrice*Se.SQty},be},[]),Te=a.useCallback(({key:Se,rowData:be})=>!ue({rowData:be}),[ue]),Ne=a.useCallback(({updateResult:Se,prevGridData:be,gridData:Me,rowIndex:we})=>{var We,Ee,Xe,ot,ze;let Ge;return(Se==null?void 0:Se.type)==="DELETE"?Ge=((Ee=(We=be[we])==null?void 0:We.prod)==null?void 0:Ee.ProdID)||"":(Ge=(Xe=Me[we].prod)==null?void 0:Xe.ProdID,Ge||(Ge=((ze=(ot=be[we])==null?void 0:ot.prod)==null?void 0:ze.ProdID)||"")),Ge?Me.map(tt=>{var ft;if(((ft=tt.prod)==null?void 0:ft.ProdID)===Ge){if(tt.SNotQty&&tt.SNotQty<=0||tt.SOutQty&&tt.SOutQty!=0)return{...tt,StockQty_N:"",tooltip:""};const ht=P.getRemainingStock({prodId:Ge,gridData:Me});let en={...tt,StockQty_N:ht};return en={...en,tooltip:Pp.getTooltips({rowData:en,rowIndex:we})},en}return tt}):(console.log("targetProdID ,  mapTooltip"),Me)},[P]),xe=a.useCallback(({fromRowIndex:Se,formData:be,newValue:Me,setValue:we,gridMeta:Ge,updateResult:We})=>async(Ee,Xe)=>{var ht,en,un,Je;const ot=Se+Xe;We.rowIndex=ot;const ze=I.gridData[ot];console.log(` ${ot} ...`,Ee);let tt={...Ee},ft=!1;return((ht=Ee.prod)==null?void 0:ht.ProdID)!==((en=ze.prod)==null?void 0:en.ProdID)&&(We.cols.push("prod"),tt=await ge({rowData:tt,txiDeptId:be.txiDept.DeptID})),Ee.SQty!==ze.SQty&&(We.cols.push("SQty"),tt=P.handleGridSQtyChange({rowData:tt,gridData:Me,rowIndex:ot,setValue:we,gridMeta:Ge,onCommit:({gridData:qt})=>{w({gridData:qt,setValue:we,formData:be});const Tt=Ne({gridData:qt,rowIndex:ot});I.setGridData(Tt)}})),(Ee.SPrice!==ze.SPrice||tt.SQty!==ze.SQty||((un=Ee.stype)==null?void 0:un.id)!==((Je=ze.stype)==null?void 0:Je.id))&&(tt=Ce({rowData:tt}),ft=!0,We.cols.push("SAmt")),ft&&We.rows++,tt},[I,ge,Ce,w,Ne,P]),me=a.useCallback(({gridData:Se,formData:be,setValue:Me,updateResult:we,prevGridData:Ge})=>{if(console.log("onGridChanged",Se),we.rows>0&&!we.cols.includes("prod")&&w({gridData:Se,setValue:Me,formData:be}),(we==null?void 0:we.type)==="DELETE"){const We=Se.filter(Xe=>Xe.SOrdID&&Xe.SOrdID.trim()!=="").map(Xe=>Xe.SOrdID.split("#")[0]),Ee=be.depOrders.filter(Xe=>We.includes(Xe.));Ee.length!=be.depOrders.length&&Me("depOrders",Ee)}if(we.cols.includes("prod")||we.cols.includes("SQty")||we.type==="DELETE"){console.log("before reduce",Se);const We=Ne({updateResult:we,prevGridData:Ge,gridData:Se,rowIndex:we.rowIndex});return console.log("after reduce",We),We}},[w,Ne]),de=a.useCallback(({setValue:Se,gridMeta:be})=>Me=>{P.setCommitted(!1),console.log("onEditorSubmit",Me),console.log("prodGrid.gridData",I.gridData);const we=Pp.transformForSubmitting(Me,I.gridData);console.log("collected",we),_({data:we,setValue:Se,gridMeta:be})},[P,I.gridData,_]),ce=a.useCallback(Se=>{console.error("onEditorSubmitError",Se),ae.error(", ")},[]),ee=a.useMemo(()=>`${i.REPORT_URL}/WebC08Rep.aspx`,[i.REPORT_URL]),De=yn(),ke=a.useCallback(Se=>{var Me;console.log("onPrintSubmit",Se);const be={...Se.outputType&&{Action:Se.outputType.id},DeptID:s==null?void 0:s.CurDeptID,JobName:"C08",IDs:(Me=e.itemData)==null?void 0:Me.TxoID};console.log("data",be),De.open(ee,be)},[(le=e.itemData)==null?void 0:le.TxoID,s==null?void 0:s.CurDeptID,ee,De]),He=a.useCallback(Se=>{console.error("onPrintSubmitError",Se)},[]),qe=a.useCallback(({setValue:Se})=>be=>{console.log("handlePrint",be),Se("outputType",be)},[]),Le=Or(),_e=a.useCallback(async()=>{try{Le.start();const{status:Se,error:be}=await h({url:"v1/purchase/trans-out-orders/check-editable",bearer:o,params:{id:e.itemData.TxoID}});if(Se.success)e.promptUpdating();else throw be??new Error("")}catch(Se){ae.error("",Se)}finally{Le.clear()}},[Le,e,h,o]),H=a.useCallback(({gridData:Se,message:be,setValue:Me,newOrders:we})=>{be&&ae.warn(be);const Ge=[...new Set(Se.map(Ee=>Ee.ordId))],We=we.filter(Ee=>Ge.includes(Ee.));if(We.length<we.length){Me("depOrders",We);const Ee=we.filter(Xe=>!Ge.includes(Xe.)).map(Xe=>Xe.);ae.warn(` ${Ee.join(", ")} `)}},[]),re=a.useCallback(({setValue:Se,getValues:be})=>async Me=>{if(Me.length===0){I.setGridData([],{fillRows:e.creating});return}console.log("handleDepOrdersChanged",Me);const we=be();console.log("formData",we);const Ge=Pp.transformForSubmitting(we,I.gridData);console.log("collected",Ge);try{const{status:We,payload:Ee,error:Xe}=await g({url:"v1/purchase/trans-out-orders/load-prods",bearer:o,data:Ge});if(console.log("load-prods.payload",Ee),We.success){const ot=Pp.transformForReading(Ee.data[0]);console.log("refreshed data",ot),I.setGridData(ot.prods,{fillRows:!0,supressEvents:!0}),w({setValue:Se,formData:ot,gridData:ot.prods}),H({gridData:ot.prods,message:Ee.ErrorMsg,setValue:Se,newOrders:Me})}else throw Xe??new Error("")}catch(We){ae.error("",We)}},[I,e.creating,g,o,w,H]),q=a.useCallback(({setValue:Se,getValues:be})=>async Me=>{var Ge;const we=be();if(((Ge=we.depOrders)==null?void 0:Ge.length)>0||Me==null)console.log("handleTxiDeptChanged",Me),Se("depOrders",[]),I.setGridData([],{fillRows:!0});else{const We=Pp.transformForSubmitting(we,I.gridData);console.log("collected",We);try{const{status:Ee,payload:Xe,error:ot}=await g({url:"v1/purchase/trans-out-orders/refresh-grid",bearer:o,data:We});if(Ee.success){const ze=Pp.transformForReading(Xe.data[0]);console.log("refreshed data",ze),I.setGridData(ze.prods,{fillRows:!0}),w({setValue:Se,gridData:ze.prods})}else throw ot??new Error("")}catch(Ee){ae.error("",Ee)}}},[g,I,w,o]),Y=a.useCallback(({rowData:Se})=>!Se.prod,[]),ie=a.useCallback(({rowData:Se})=>!Se.prod,[]),B=a.useCallback(({rowData:Se})=>{var be,Me;return!Se.prod||!!((Me=(be=e.itemData)==null?void 0:be.txoOrders)!=null&&Me.length)>0},[(Ae=(fe=e.itemData)==null?void 0:fe.txoOrders)==null?void 0:Ae.length]),Z=a.useCallback(({rowData:Se})=>{var be;return(be=Se.stype)!=null&&be.id?"line-through":null},[]),ye=a.useCallback(({rowData:Se})=>Se.sqtyError&&!Se.overrideSqty?"red":null,[]),Ie=a.useCallback(({cell:Se})=>{console.log("focus",Se)},[]);return{...e,...v,...c,loadItem:F,handleSelect:L,popperOpen:d,handlePopperToggle:p,handlePopperOpen:m,handlePopperClose:f,handleReset:W,onSearchSubmit:U,onSearchSubmitError:X,confirmQuitCreating:z,confirmQuitUpdating:J,confirmReturnReading:Q,confirmDelete:V,promptCreating:A,onEditorSubmit:de,onEditorSubmitError:ce,createRow:T,...I,grid:I,getRowKey:te,spriceDisabled:pe,onPrintSubmit:ke,onPrintSubmitError:He,checkEditableWorking:Le.working,handleCheckEditable:_e,refreshWorking:K.working,handleDepOrdersChanged:re,handleTxiDeptChanged:q,stypeDisabled:B,dtypeDisabled:ie,sqtyDisabled:Y,overrideSQtyDisabled:he,getSPriceClassName:Z,getSQtyClassName:ye,sprodDisabled:ue,handleGridCellFocusChange:Ie,...u,committed:E,onUpdateRow:xe,onGridChanged:me,isRowDeletable:Te,handlePrint:qe}},p1e=({children:e})=>{const t=ePt();return r.jsx(lm.Provider,{value:{...t},children:e})};p1e.propTypes={children:l.oneOfType([l.array,l.object])};const tPt=()=>{var ie;const e=a.useContext(cr),{itemData:t}=e,n=a.useRef(),{token:o,operator:s}=a.useContext(Be),i=a.useContext(ln),c=Bt({moduleId:"C09"}),u=Co(),{clearParams:d}=a.useContext(Sn),[p,m,f,h]=us(!1),{httpGetAsync:g,httpPostAsync:x,httpPutAsync:y,httpDeleteAsync:D}=Zn(),v=a.useContext(Mr),T=so({url:"v1/purchase/trans-in-orders",bearer:o,initialFetchSize:50}),I=a.useCallback(()=>({Pkey:zn(),prod:null,SQty:"",SPrice:"",SAmt:"",stype:null,dtype:null,SRemark:"",ChkQty:"",SoQty:0}),[]),P=yr({gridId:"prods",keyColumn:"pkey",createRow:I}),E=a.useCallback(({setValue:B,data:Z,gridData:ye,reset:Ie=!1})=>{if(Ie)B("TxiAmt","");else{if(Z){B("TxiAmt",Z==null?void 0:Z.TxiAmt);return}if(ye){const le=Rp.getTotal(ye);B("TxiAmt",le.toFixed(2));return}B("TxiAmt","")}},[]),k=a.useCallback(()=>{const B={prods:[],txiDate:new Date,TxiAmt:"",employee:null,depOrders:[]};e.promptCreating({data:B}),P.initGridData(B.prods,{fillRows:!0})},[e,P]),w=a.useCallback(async({data:B})=>{try{e.startCreating();const{status:Z,error:ye}=await x({url:"v1/purchase/trans-in-orders",data:B,bearer:o});if(Z.success)ae.success(""),e.finishedCreating(),e.cancelReading(),T.loadList({refresh:!0});else throw ye??new Error("")}catch(Z){e.failedCreating(),console.error("handleCreate.failed",Z),ae.error("",Z)}},[e,x,T,o]),A=a.useCallback(()=>{e.cancelAction(),e.setItemData(null),d()},[d,e]),F=a.useCallback(async({id:B,refresh:Z=!1})=>{try{const ye=Z?n.current:B;Z||(n.current=B,e.startReading("...",{id:B}));const{status:Ie,payload:le,error:fe}=await g({url:"v1/purchase/trans-in-orders",bearer:o,params:{id:ye}});if(Ie.success){const Ae=Rp.transformForReading(le.data[0]);e.finishedReading({data:Ae}),P.handleGridDataLoaded(Ae.prods)}else throw fe??new Error("")}catch(ye){e.failedReading(ye)}},[e,g,P,o]),_=a.useCallback(async(B,Z)=>{B==null||B.stopPropagation(),A(),F({id:Z.})},[A,F]),L=a.useCallback(()=>{v.confirm({message:"?",onConfirm:()=>{A()}})},[A,v]),K=a.useCallback(()=>{v.confirm({message:"?",onConfirm:()=>{A()}})},[A,v]),z=a.useCallback(()=>{v.confirm({message:"?",onConfirm:()=>{e.cancelUpdating(),F({refresh:!0})}})},[e,v,F]),J=a.useCallback(async({data:B})=>{try{e.startUpdating();const{status:Z,error:ye}=await y({url:"v1/purchase/trans-in-orders",data:B,bearer:o});if(Z.success)ae.success(""),e.finishedUpdating(),F({refresh:!0}),T.loadList({refresh:!0});else throw ye??new Error("")}catch(Z){e.failedUpdating(),console.error("handleCreate.failed",Z),ae.error("",Z)}},[e,y,T,F,o]),Q=a.useCallback(()=>{v.confirm({message:`${t==null?void 0:t.TxiID}?`,onConfirm:async()=>{try{e.startDeleting(t);const{status:B,error:Z}=await D({url:"v1/purchase/trans-in-orders",bearer:o,params:{id:t==null?void 0:t.TxiID}});if(B.success)A(),ae.success(` ${t==null?void 0:t.TxiID}`),T.loadList({refresh:!0});else throw Z||""}catch(B){e.failedDeleting(B),console.error("confirmDelete.failed",B),ae.error("",B)}}})},[A,e,v,D,t,T,o]),V=a.useCallback(({reset:B})=>()=>{B({tid:null,employee:null,txoDept:null})},[]),W=a.useCallback(B=>{console.log("onSearchSubmit",B),h(),T.loadList({params:Rp.transformAsQueryParams(B)})},[h,T]),U=a.useCallback(B=>{console.error("onSearchSubmitError",B)},[]),X=a.useCallback(({rowData:B,rowIndex:Z})=>`${(B==null?void 0:B.Pkey)||Z}`,[]),te=a.useCallback(async(B,{txoDeptId:Z})=>{if(!B){ae.error("",{position:"top-right"});return}try{const{status:ye,payload:Ie,error:le}=await g({url:"v1/purchase/trans-in-orders/prod-info",bearer:o,params:{pd:B,todp:Z}});if(ye.success)return Ie;throw le??new Error("")}catch(ye){ae.error("",ye)}},[g,o]),se=a.useCallback(({rowData:B})=>!!B.SoFlag_N,[]),he=a.useCallback(({rowData:B})=>!!B.SoFlag_N,[]),pe=a.useCallback(({rowData:B})=>!!B.SoFlag_N,[]),ue=a.useCallback(({rowData:B})=>!!B.SoFlag_N,[]),ge=a.useCallback(async({id:B})=>{try{e.promptCreating(),e.startReading("...");const{status:Z,payload:ye,error:Ie}=await g({url:"v1/purchase/trans-in-orders/create-with-txo",bearer:o,params:{txoId:B}});if(console.log("create-with-txo response:",ye),Z.success){const le=Rp.transformForReading(ye.data[0]);console.log("refreshed data",le),e.finishedReading({data:{...le,txiDate:new Date}}),P.initGridData(le.prods,{fillRows:!0,supressEvents:!0}),ae.info(` ${B}`)}else throw Ie??new Error("")}catch(Z){ae.error("",Z),e.failedReading(Z)}},[e,P,g,o]),Ce=a.useCallback(({setValue:B,getValues:Z})=>async ye=>{if(console.log("handleTxoOrderChanged",ye),ye)B("txoDept",ye!=null&&ye.?{DeptID:ye.,AbbrName:ye.}:null);else{B("txoDept",null),P.setGridData([],{fillRows:!0}),B("depOrders",[]),B("remark",""),B("TxiAmt","0.00");return}const Ie=Z();console.log("formData",Ie);const le=Rp.transformForSubmitting(Ie,P.gridData);console.log("collected",le);try{const{status:fe,payload:Ae,error:Se}=await x({url:"v1/purchase/trans-in-orders/load-prods",bearer:o,data:le});if(console.log("load-prods.payload",Ae),fe.success){const be=Rp.transformForReading(Ae.data[0]);console.log("refreshed data",be),P.setGridData(be.prods,{fillRows:!0,supressEvents:!0}),B("depOrders",be.depOrders),B("TxoChk",be.TxoChk),B("remark",be.remark),E({setValue:B,data:be,gridData:be.prods})}else throw Se??new Error("")}catch(fe){ae.error("",fe)}},[x,P,E,o]),Te=a.useCallback(({setValue:B,getValues:Z})=>async ye=>{console.log("handleTxoDeptChanged",ye),B("txoOrder",null,{shouldTouch:!0}),P.setGridData([],{fillRows:!0}),B("depOrders",[]),B("remark",""),B("TxiAmt","0.00")},[P]),Ne=a.useCallback(({rowData:B})=>{var ye;return{...B,SAmt:!B.SPrice||!B.SQty?"":(ye=B.stype)!=null&&ye.id?0:B.SPrice*B.SQty}},[]),xe=a.useCallback(async({rowData:B,txiDeptId:Z})=>{const{prod:ye}=B,Ie=ye!=null&&ye.ProdID?await te(ye==null?void 0:ye.ProdID,{txiDeptId:Z}):null;let le=!!(Ie!=null&&Ie.Price),fe={...B,prod:le?B.prod:null,ProdData:le&&(ye==null?void 0:ye.ProdData)||"",PackData_N:le&&(ye==null?void 0:ye.PackData_N)||"",SPrice:le&&(Ie==null?void 0:Ie.Price)||"",SQty:"",SAmt:"",stype:null,dtype:null,SoFlag_N:le&&(Ie==null?void 0:Ie.SoFlag_N)||"",StockQty_N:le&&(Ie==null?void 0:Ie.Stock)||""};return ye&&!le&&ae.error(`${ye.ProdData}`),fe},[te]),me=a.useCallback(({fromRowIndex:B,formData:Z})=>async(ye,Ie)=>{var Se,be,Me,we,Ge;const le=B+Ie,fe=P.gridData[le];console.log(` ${le} ...`,ye);let Ae={...ye};return((Se=ye.prod)==null?void 0:Se.ProdID)!==((be=fe.prod)==null?void 0:be.ProdID)&&(Ae=await xe({rowData:ye,txoDeptId:(Me=Z.txoDept)==null?void 0:Me.DeptID})),(ye.SQty!==fe.SQty||((we=ye.stype)==null?void 0:we.id)!==((Ge=fe.stype)==null?void 0:Ge.id))&&(Ae=Ne({rowData:Ae})),Ae},[P.gridData,xe,Ne]),de=a.useCallback(({getValues:B,setValue:Z,gridMeta:ye})=>async(Ie,le)=>{const fe=B();console.log("handleGridChange",le),console.log("newValue",Ie);const Ae=[...Ie];for(const Se of le)if(Se.type==="UPDATE")if(P.asyncRef.supressEvents)console.log("grid.asyncRef.supressEvents is TRUE, grid changes not triggered");else{const be=await Promise.all(Ie.slice(Se.fromRowIndex,Se.toRowIndex).map(async(Me,we)=>await me({formData:fe,newValue:Ie,setValue:Z,fromRowIndex:Se.fromRowIndex,gridMeta:ye})(Me,we)));console.log("updatedRows",be),Ae.splice(Se.fromRowIndex,be.length,...be)}else Se.type==="DELETE"||Se.type==="CREATE"&&(console.log("dsg.CREATE"),ye.toFirstColumn({nextRow:!0}));console.log("prodGrid.changed",Ae),P.setGridData(Ae),E({gridData:Ae,setValue:Z})},[P,me,E]),ce=a.useCallback(B=>{console.log("onEditorSubmit",B);const Z=Rp.transformForSubmitting(B,P.gridData);console.log("collected",Z),e.creating?w({data:Z}):e.updating?J({data:Z}):console.error("UNKNOWN SUBMIT TYPE")},[e.creating,e.updating,w,J,P.gridData]),ee=a.useCallback(B=>{console.error("onEditorSubmitError",B),ae.error(", ")},[]),De=a.useMemo(()=>`${i.REPORT_URL}/WebC09Rep.aspx`,[i.REPORT_URL]),ke=yn(),He=a.useCallback(B=>{var ye;console.log("onPrintSubmit",B);const Z={...B.outputType&&{Action:B.outputType.id},DeptID:s==null?void 0:s.CurDeptID,JobName:"C09",IDs:(ye=e.itemData)==null?void 0:ye.TxiID};console.log("data",Z),ke.open(De,Z)},[(ie=e.itemData)==null?void 0:ie.TxiID,s==null?void 0:s.CurDeptID,De,ke]),qe=a.useCallback(B=>{console.error("onPrintSubmitError",B)},[]),Le=a.useCallback(({setValue:B})=>Z=>{console.log("handlePrint",Z),B("outputType",Z)},[]),_e=a.useCallback(({setValue:B})=>async Z=>{console.log("onRefreshGridSubmit",Z);try{if(P.gridData.length>0){const ye=Rp.transformForSubmitting(Z,P.gridData);console.log("collected",ye);const{status:Ie,payload:le,error:fe}=await x({url:"v1/purchase/trans-in-orders/refresh-grid",bearer:o,data:ye});if(console.log("refresh-grid.payload",le),Ie.success){const Ae=Rp.transformForReading(le.data[0]);console.log("refreshed data",Ae),P.initGridData(Ae.prods,{fillRows:!0}),E({setValue:B,data:Ae}),ae.info("")}else throw fe??new Error("")}else E({setValue:B,reset:!0})}catch(ye){ae.error("",ye)}},[x,P,E,o]),H=a.useCallback(B=>{console.error("onRefreshGridSubmitError",B)},[]),re=Or(),q=a.useCallback(async()=>{try{re.start();const{status:B,error:Z}=await g({url:"v1/purchase/trans-in-orders/check-editable",bearer:o,params:{id:e.itemData.TxiID}});if(B.success)e.promptUpdating();else throw Z??new Error("")}catch(B){ae.error("",B)}finally{re.clear()}},[re,e,g,o]),Y=a.useCallback(({rowData:B})=>{var Z;return(Z=B.stype)!=null&&Z.id?"line-through":null},[]);return{...e,cancelAction:A,...T,...c,...u,loadItem:F,handleSelect:_,popperOpen:p,handlePopperToggle:m,handlePopperOpen:f,handlePopperClose:h,handleReset:V,onSearchSubmit:W,onSearchSubmitError:U,confirmQuitCreating:L,confirmQuitUpdating:K,confirmReturnReading:z,confirmDelete:Q,promptCreating:k,onEditorSubmit:ce,onEditorSubmitError:ee,createRow:I,...P,grid:P,buildGridChangeHandler:de,getRowKey:X,onPrintSubmit:He,onPrintSubmitError:qe,onRefreshGridSubmit:_e,onRefreshGridSubmitError:H,checkEditableWorking:re.working,handleCheckEditable:q,handleTxoOrderChanged:Ce,getSPriceClassName:Y,handleTxoDeptChanged:Te,sprodDisabled:ue,sqtyDisabled:pe,stypeDisabled:se,dtypeDisabled:he,handlePrint:Le,createWithTxoOrder:ge}},m1e=({children:e})=>{const t=tPt();return r.jsx(ld.Provider,{value:{...t},children:e})};m1e.propTypes={children:l.oneOfType([l.array,l.object])};const nPt=r.jsxs(r.Fragment,{children:[r.jsx(yt,{path:"C01",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(lve,{children:r.jsx(xve,{})})})})}),r.jsx(yt,{path:"C02",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(G0e,{children:r.jsx(ove,{})})})})}),r.jsx(yt,{path:"C03",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx($ve,{children:r.jsx(Yve,{})})})})}),r.jsx(yt,{path:"C04",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(Cve,{children:r.jsx(Nve,{})})})})}),r.jsx(yt,{path:"C05",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(_je,{children:r.jsx(uje,{})})})})}),r.jsx(yt,{path:"C06",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(Lje,{children:r.jsx(jje,{})})})})}),r.jsx(yt,{path:"C07",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx($je,{children:r.jsx(Mje,{})})})})}),r.jsx(yt,{path:"C08",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(p1e,{children:r.jsx(Xje,{})})})})}),r.jsx(yt,{path:"C09",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(m1e,{children:r.jsx(u1e,{})})})})})]}),f1e=e=>(e==null?void 0:e.map((t,n)=>{const{SProdID:o,ProdData_N:s,SExpDate:i,...c}=t;let u={prod:{ProdID:o,ProdData:s},ProdData:s,SExpDate:i,...c};return u.tooltip=iG({rowData:u,rowIndex:n}),u}))||[],rPt=e=>e.filter(t=>{var n;return(n=t.prod)==null?void 0:n.ProdID}).map(({Pkey:t,prod:n,SExpDate:o,SQty:s,StockQty_N:i,...c},u)=>({Pkey:(t==null?void 0:t.length)<36?"":t,SProdID:n==null?void 0:n.ProdID,ProdData_N:n==null?void 0:n.ProdData,SExpDate:Re.formatDate(o),SQty:(s==null?void 0:s.toString())||"",StockQty_N:(i==null?void 0:i.toString())||"",Seq:u+1,...c})),oPt=e=>{const{OutDate:t,PDlineID:n,PDlineData_N:o,EmplID:s,EmplData_N:i,MatOut_S:c,Remark:u,...d}=e;return{OutDate:Re.parseDate(t),employee:{CodeID:s,CodeData:i},pdline:n?{CodeID:n,CodeData:o}:null,prods:f1e(c),remark:u.join(`
`),...d}},sPt=(e,t)=>{const{OutDate:n,employee:o,pdline:s,remark:i,...c}=e;return{OutDate:n?Re.formatDate(n):"",EmplID:(o==null?void 0:o.CodeID)||"",PDlineID:(s==null?void 0:s.CodeID)||"",Remark:(i==null?void 0:i.split(`
`))||[],...t&&{MatOut_S:rPt(t)},...c}},aPt=e=>{const{employee:t,pdate:n,pdline:o}=e;return{...t&&{empi:t.CodeID},...n&&{pdate:Re.formatDate(n)},...o&&{pdline:o.CodeID}}},iPt=e=>{if(!e)return 0;let t=0;for(const n of e){const{SAmt:o}=n;t+=o?Number(o):0}return t},lPt=e=>Gn.isAnyPropNotEmpty(e,"employee,pdate,pdline"),cPt=({newValue:e,rowData:t,rowIndex:n})=>{var s,i,c;if(!((s=t==null?void 0:t.prod)!=null&&s.ProdID))return-1;const o=t.prod.ProdID;for(let u=0;u<e.length;u++)if(u!==n&&((c=(i=e[u])==null?void 0:i.prod)==null?void 0:c.ProdID)===o)return u;return-1},h1e=({rowData:e,rowIndex:t})=>{var s;let n=[];if((s=e==null?void 0:e.prod)!=null&&s.ProdID&&!wo.isNullOrEmpty(e==null?void 0:e.StockQty_N)){const i=e.StockQty_N;n.push(`(${i||0})`)}const o=n.join(", ");return console.log(`${h1e.name}`,o),o},iG=({rowData:e,rowIndex:t})=>{var o;let n=[];if((o=e==null?void 0:e.prod)!=null&&o.ProdID&&!wo.isNullOrEmpty(e==null?void 0:e.StockQty_N)){const s=e.StockQty_N;if(n.push({label:"",value:s??0}),e!=null&&e.SafeQty_N){const i=Number(e==null?void 0:e.SafeQty_N)||0,c=i>0?s-i:s;s<(i>0?i:0)&&n.push({label:"",value:c})}}return console.log(`${iG.name}`,n),n},Vy={transformForReading:oPt,transformForSubmitting:sPt,transformAsQueryParams:aPt,transformGridForReading:f1e,getTotal:iPt,isFiltered:lPt,findProdIndex:cPt,getTooltip:h1e,getTooltips:iG},uPt=()=>{var Y,ie;const e=a.useContext(cr),{itemData:t}=e,n=a.useRef(),{token:o,operator:s}=a.useContext(Be),i=a.useContext(ln),c=Bt({moduleId:"D01"}),u=Co(),[d,p,m,f]=us(!1),{httpGetAsync:h,httpPostAsync:g,httpPutAsync:x,httpDeleteAsync:y}=Zn(),D=a.useContext(Mr),v=so({url:"v1/mat/picking-orders",bearer:o,initialFetchSize:50}),[T,I]=a.useState({expProd:null,expDate:null,expPrompting:!1}),P=a.useCallback(()=>({Pkey:zn(),prod:null,stype:null,SQtyNote:"",SQty:"",SPrice:"",ChkQty:"",SOrdID:"",SExpDate:null}),[]),E=yr({gridId:"prods",keyColumn:"pkey",createRow:P}),k=jf({action:"",grid:E}),{committed:w}=k,A=a.useCallback(()=>{const B={prods:[],OutDate:new Date};e.promptCreating({data:B}),k.reset(),E.initGridData(B.prods,{fillRows:!0})},[e,E,k]),F=a.useCallback(async({id:B,refresh:Z=!1})=>{try{const ye=Z?n.current:B;Z||(n.current=B,e.startReading("...",{id:B}));const{status:Ie,payload:le,error:fe}=await h({url:"v1/mat/picking-orders",bearer:o,params:{id:ye}});if(Ie.success){const Ae=Vy.transformForReading(le.data[0]);e.finishedReading({data:Ae}),k.recoverStockMap(Ae.prods,{}),E.handleGridDataLoaded(Ae.prods)}else throw fe??new Error("")}catch(ye){e.failedReading(ye)}},[h,o,e,k,E]),_=a.useCallback(async({data:B,setValue:Z,gridMeta:ye})=>{const Ie=e.creating;try{Ie?e.startCreating():e.startUpdating();const{status:le,error:fe}=Ie?await g({url:"v1/mat/picking-orders",data:B,bearer:o}):await x({url:"v1/mat/picking-orders",data:B,bearer:o});if(le.success)ae.success(Ie?"":""),Ie?(e.finishedCreating(),e.cancelReading()):(e.finishedUpdating(),F({refresh:!0})),v.loadList({refresh:!0});else throw fe??new Error("")}catch(le){if(Ie?e.failedCreating():e.failedUpdating(),console.error(`${Ie?"":""} `,le),le.code===102){const fe=k.getErrorParams(le);k.handleOverrideSQty({setValue:Z,gridMeta:ye,formData:B,...fe})}else ae.error(`${Ie?"":""}`,le)}},[e,g,x,v,F,k,o]),L=a.useCallback(async(B,Z)=>{B==null||B.stopPropagation(),e.cancelAction(),F({id:Z.})},[e,F]),K=a.useCallback(()=>{D.confirm({message:"?",onConfirm:()=>{e.cancelAction()}})},[e,D]),z=a.useCallback(()=>{D.confirm({message:"?",onConfirm:()=>{e.cancelAction()}})},[e,D]),J=a.useCallback(()=>{D.confirm({message:"?",onConfirm:()=>{e.cancelUpdating(),F({refresh:!0})}})},[e,D,F]),Q=a.useCallback(()=>{D.confirm({message:`${t==null?void 0:t.OutID}?`,onConfirm:async()=>{try{e.startDeleting(t);const{status:B,error:Z}=await y({url:"v1/mat/picking-orders",bearer:o,params:{id:t==null?void 0:t.OutID}});if(B.success)e.cancelAction(),ae.success(` ${t==null?void 0:t.OutID}`),v.loadList({refresh:!0});else throw Z||""}catch(B){e.failedDeleting(B),console.error("confirmDelete.failed",B),ae.error("",B)}}})},[e,D,y,t,v,o]),V=a.useCallback(({reset:B})=>()=>{B({employee:null,pdate:null,pdline:null})},[]),W=a.useCallback(B=>{console.log("onSearchSubmit",B),f(),v.loadList({params:Vy.transformAsQueryParams(B)})},[f,v]),U=a.useCallback(B=>{console.error("onSearchSubmitError",B)},[]),X=a.useCallback(({rowData:B,rowIndex:Z})=>`${(B==null?void 0:B.Pkey)||Z}`,[]),te=a.useMemo(()=>{var B;return!!((B=e.itemData)!=null&&B.OutID)},[(Y=e.itemData)==null?void 0:Y.OutID]),se=a.useCallback(({rowData:B})=>!!B.ordId,[]),he=a.useCallback(({rowData:B})=>!!B.SInqFlag||!!B.stype,[]),pe=a.useCallback(async B=>{if(!B){ae.error("",{position:"top-right"});return}try{const{status:Z,payload:ye,error:Ie}=await h({url:"v1/inv/stock",bearer:o,params:{id:B,safety:1}});if(Z.success)return k.updateStockQty(B,ye.Stock??ye.StockQty),ye;throw Ie??new Error("")}catch(Z){ae.error("",Z)}},[h,k,o]),ue=a.useCallback(async({rowData:B,rowIndex:Z,newValue:ye})=>{var Se,be,Me,we;const Ie=B!=null&&B.prod?await pe((Se=B==null?void 0:B.prod)==null?void 0:Se.ProdID):null,{prod:le}=B,fe=(be=B.prod)!=null&&be.ProdID?Vy.findProdIndex({newValue:ye,rowData:B,rowIndex:Z}):-1,Ae=((Me=B.prod)==null?void 0:Me.ProdID)&&fe!==-1;return Ae?ae.error(`${le.ProdID} / ${le.ProdData} ${fe+1} , `):B.prod&&k.updateStockQty(le.ProdID,le.StockQty),B={...B,prod:Ae||!B.prod?null:B.prod,ProdData:Ae?"":(we=B.prod)==null?void 0:we.ProdData,PackData_N:Ae?"":(le==null?void 0:le.PackData_N)||"",StockQty_N:Ae?"":(le==null?void 0:le.StockQty)||"",SafeQty_N:(Ie==null?void 0:Ie.Safety)??"",SQty:"",SExpDate:"",SQtyNote:"",tooltip:""},B},[pe,k]),ge=a.useCallback(({updateResult:B,prevGridData:Z,gridData:ye,rowIndex:Ie})=>{var fe,Ae,Se,be,Me;let le;return(B==null?void 0:B.type)==="DELETE"?le=((Ae=(fe=Z[Ie])==null?void 0:fe.prod)==null?void 0:Ae.ProdID)||"":(le=(Se=ye[Ie].prod)==null?void 0:Se.ProdID,le||(le=((Me=(be=Z[Ie])==null?void 0:be.prod)==null?void 0:Me.ProdID)||"")),le?ye.map(we=>{var Ge;if(((Ge=we.prod)==null?void 0:Ge.ProdID)===le){const We=k.getRemainingStock({prodId:le,gridData:ye});let Ee={...we,StockQty_N:We};return Ee={...Ee,tooltip:Vy.getTooltips({rowData:Ee,rowIndex:Ie})},Ee}return we}):(console.log("targetProdID ,  mapTooltip"),ye)},[k]),Ce=a.useCallback(({fromRowIndex:B,setValue:Z,newValue:ye,gridMeta:Ie,updateResult:le})=>async(fe,Ae)=>{var we,Ge;const Se=B+Ae;le.rowIndex=Se;const be=E.gridData[Se];console.log(` ${Se} ...`,fe);let Me={...fe};return((we=fe.prod)==null?void 0:we.ProdID)!==((Ge=be.prod)==null?void 0:Ge.ProdID)&&(le.cols.push("prod"),Me=await ue({rowIndex:Se,rowData:Me,newValue:ye})),fe.SQty!==be.SQty&&(le.cols.push("SQty"),Me=k.handleGridSQtyChange({rowData:Me,gridData:ye,rowIndex:Se,setValue:Z,gridMeta:Ie,onCommit:({gridData:We})=>{const Ee=ge({gridData:We,rowIndex:Se});E.setGridData(Ee)}})),Me},[E,ue,ge,k]),Te=a.useCallback(({gridData:B,formData:Z,setValue:ye,updateResult:Ie,prevGridData:le})=>{if(console.log("onGridChanged",B),Ie.cols.includes("prod")||Ie.cols.includes("SQty")||Ie.type==="DELETE"){console.log("before reduce",B);const fe=ge({updateResult:Ie,prevGridData:le,gridData:B,rowIndex:Ie.rowIndex});return console.log("after reduce",fe),fe}},[ge]),Ne=a.useCallback(({setValue:B,gridMeta:Z})=>ye=>{k.setCommitted(!1),console.log("onEditorSubmit",ye);const Ie=Vy.transformForSubmitting(ye,E.gridData);console.log("collected",Ie),_({data:Ie,setValue:B,gridMeta:Z})},[k,E.gridData,_]),xe=a.useCallback(B=>{console.error("onEditorSubmitError",B),ae.error(", ")},[]),me=a.useMemo(()=>`${i.REPORT_URL}/WebD01Rep.aspx`,[i.REPORT_URL]),de=yn(),ce=a.useCallback(B=>{var ye;console.log("onPrintSubmit",B);const Z={...B.outputType&&{Action:B.outputType.id},DeptID:s==null?void 0:s.CurDeptID,JobName:"D01",IDs:(ye=e.itemData)==null?void 0:ye.OutID};console.log("data",Z),de.open(me,Z)},[(ie=e.itemData)==null?void 0:ie.OutID,s==null?void 0:s.CurDeptID,me,de]),ee=a.useCallback(B=>{console.error("onPrintSubmitError",B)},[]),De=a.useCallback(({setValue:B})=>Z=>{console.log("handlePrint",Z),B("outputType",Z)},[]),ke=a.useCallback(()=>{I(B=>({...B,expPrompting:!0}))},[]),He=a.useCallback(()=>{I(B=>({...B,expPrompting:!1}))},[]),qe=a.useCallback(B=>{console.log("onExpSubmit",B),I(Z=>({...Z,expProd:B.expProd,expDate:B.expDate,expPrompting:!1}))},[]),Le=a.useCallback(B=>{console.error("onExpSubmitError",B)},[]),_e=a.useCallback(()=>{I({expProd:null,expDate:null,expPrompting:!1})},[]),H=a.useMemo(()=>T.expProd!==null,[T.expProd]),re=Or(),q=a.useCallback(async()=>{try{re.start();const{status:B,error:Z}=await h({url:"v1/mat/picking-orders/check-editable",bearer:o,params:{id:e.itemData.OutID}});if(B.success)e.promptUpdating();else throw Z??new Error("")}catch(B){ae.error("",B)}finally{re.clear()}},[re,e,h,o]);return{...e,...v,...c,loadItem:F,handleSelect:L,handleReset:V,onSearchSubmit:W,onSearchSubmitError:U,confirmQuitCreating:K,confirmQuitUpdating:z,confirmReturnReading:J,confirmDelete:Q,promptCreating:A,onEditorSubmit:Ne,onEditorSubmitError:xe,...E,grid:E,createRow:P,onUpdateRow:Ce,getRowKey:X,prodDisabled:se,purchaseOrdersDisabled:te,spriceDisabled:he,onPrintSubmit:ce,onPrintSubmitError:ee,handlePrint:De,...T,expChecking:H,onExpDialogOpen:ke,onExpDialogClose:He,cancelExpChecking:_e,onExpSubmit:qe,onExpSubmitError:Le,checkEditableWorking:re.working,handleCheckEditable:q,popperOpen:d,handlePopperToggle:p,handlePopperOpen:m,handlePopperClose:f,...u,committed:w,onGridChanged:Te}},cu=a.createContext(),g1e=({children:e})=>{const t=uPt();return r.jsx(cu.Provider,{value:{...t},children:e})};g1e.propTypes={children:l.oneOfType([l.array,l.object])};const b1e=e=>(e==null?void 0:e.map(({SProdID:t,ProdData_N:n,SExpDate:o,...s})=>({prod:{ProdID:t,ProdData:n},ProdData:n,SExpDate:Re.reformatDateAsDash(o),...s})))||[],dPt=e=>e.filter(t=>{var n;return(n=t.prod)==null?void 0:n.ProdID}).map(({Pkey:t,prod:n,SExpDate:o,SQty:s,StockQty_N:i,...c},u)=>({Pkey:(t==null?void 0:t.length)<36?"":t,SProdID:n==null?void 0:n.ProdID,ProdData_N:n==null?void 0:n.ProdData,SExpDate:Re.formatDate(o),SQty:(s==null?void 0:s.toString())||"",StockQty_N:(i==null?void 0:i.toString())||"",Seq:u+1,...c})),pPt=e=>{const{RetDate:t,PDlineID:n,PDlineData_N:o,EmplID:s,EmplData_N:i,MatRet_S:c,Remark:u,...d}=e;return{RetDate:Re.parseDate(t),employee:{CodeID:s,CodeData:i},pdline:n?{CodeID:n,CodeData:o}:null,prods:b1e(c),remark:u.join(`
`),...d}},mPt=(e,t)=>{const{RetDate:n,employee:o,pdline:s,remark:i,prods:c,prod:u,...d}=e;return console.log("ignores",c,u),{RetDate:n?Re.formatDate(n):"",EmplID:(o==null?void 0:o.CodeID)||"",PDlineID:(s==null?void 0:s.CodeID)||"",Remark:(i==null?void 0:i.split(`
`))||[],...d,...t&&{MatRet_S:dPt(t)}}},fPt=e=>{const{employee:t,rdate:n,pdline:o}=e;return{...t&&{empi:t.CodeID},...n&&{rdate:Re.formatDate(n)},...o&&{pdline:o.CodeID}}},hPt=e=>{if(!e)return 0;let t=0;for(const n of e){const{SAmt:o}=n;t+=o?Number(o):0}return t},gPt=e=>Gn.isAnyPropNotEmpty(e,"employee,pdline,rdate"),bPt=({newValue:e,rowData:t,rowIndex:n})=>{var s,i,c;if(!((s=t==null?void 0:t.prod)!=null&&s.ProdID))return-1;const o=t.prod.ProdID;for(let u=0;u<e.length;u++)if(u!==n&&((c=(i=e[u])==null?void 0:i.prod)==null?void 0:c.ProdID)===o)return u;return-1},Pj={transformForReading:pPt,transformForSubmitting:mPt,transformAsQueryParams:fPt,transformGridForReading:b1e,getTotal:hPt,isFiltered:gPt,findProdIndex:bPt},xPt=()=>{var ie,B;const e=a.useContext(cr),{itemData:t}=e,n=a.useRef(),{token:o,operator:s}=a.useContext(Be),i=a.useContext(ln),c=Bt({moduleId:"D02"}),u=Co(),d=d1e(),[p,m,f,h]=us(!1),{httpGetAsync:g,httpPostAsync:x,httpPutAsync:y,httpDeleteAsync:D}=Zn(),v=a.useContext(Mr),T=so({url:"v1/mat/returning-orders",bearer:o,initialFetchSize:50}),[I,P]=a.useState({expProd:null,expDate:null,expPrompting:!1}),E=a.useCallback(()=>({Pkey:zn(),prod:null,stype:null,SQty:"",SPrice:"",ChkQty:"",SOrdID:""}),[]),k=yr({gridId:"prods",keyColumn:"pkey",createRow:E}),w=a.useCallback(()=>{const Z={prods:[],RetDate:new Date};e.promptCreating({data:Z}),k.initGridData(Z.prods,{fillRows:!0})},[e,k]),A=a.useCallback(()=>{d.performCheck({callback:w})},[w,d]),F=a.useCallback(async({data:Z})=>{try{e.startCreating();const{status:ye,error:Ie}=await x({url:"v1/mat/returning-orders",data:Z,bearer:o});if(ye.success)ae.success(""),e.finishedCreating(),e.cancelReading(),T.loadList({refresh:!0});else throw Ie??new Error("")}catch(ye){e.failedCreating(),console.error("handleCreate.failed",ye),ye.code===102?ae.error("",{position:"top-right"}):ae.error("",ye)}},[e,x,T,o]),_=a.useCallback(async({id:Z,refresh:ye=!1})=>{try{const Ie=ye?n.current:Z;ye||(n.current=Z,e.startReading("...",{id:Z}));const{status:le,payload:fe,error:Ae}=await g({url:"v1/mat/returning-orders",bearer:o,params:{id:Ie}});if(le.success){const Se=Pj.transformForReading(fe.data[0]);e.finishedReading({data:Se}),k.handleGridDataLoaded(Se.prods)}else throw Ae??new Error("")}catch(Ie){e.failedReading(Ie)}},[e,g,k,o]),L=a.useCallback(async(Z,ye)=>{Z==null||Z.stopPropagation(),e.cancelAction(),_({id:ye.})},[e,_]),K=a.useCallback(()=>{v.confirm({message:"?",onConfirm:()=>{e.cancelAction()}})},[e,v]),z=a.useCallback(()=>{v.confirm({message:"?",onConfirm:()=>{e.cancelAction()}})},[e,v]),J=a.useCallback(()=>{v.confirm({message:"?",onConfirm:()=>{e.cancelUpdating(),_({refresh:!0})}})},[e,v,_]),Q=a.useCallback(async({data:Z})=>{try{e.startUpdating();const{status:ye,error:Ie}=await y({url:"v1/mat/returning-orders",data:Z,bearer:o});if(ye.success)ae.success(""),e.finishedUpdating(),_({refresh:!0}),T.loadList({refresh:!0});else throw Ie??new Error("")}catch(ye){e.failedUpdating(),console.error("handleCreate.failed",ye),ae.error("",ye)}},[e,y,T,_,o]),V=a.useCallback(()=>{v.confirm({message:`${t==null?void 0:t.RetID}?`,onConfirm:async()=>{try{e.startDeleting(t);const{status:Z,error:ye}=await D({url:"v1/mat/returning-orders",bearer:o,params:{id:t==null?void 0:t.RetID}});if(Z.success)e.cancelAction(),ae.success(` ${t==null?void 0:t.RetID}`),T.loadList({refresh:!0});else throw ye||""}catch(Z){e.failedDeleting(Z),console.error("confirmDelete.failed",Z),ae.error("",Z)}}})},[e,v,D,t,T,o]),W=a.useCallback(()=>{d.performCheck({callback:V})},[V,d]),U=a.useCallback(({reset:Z})=>()=>{Z({employee:null,rdate:null,pdline:null})},[]),X=a.useCallback(Z=>{console.log("onSearchSubmit",Z),h(),T.loadList({params:Pj.transformAsQueryParams(Z)})},[h,T]),te=a.useCallback(Z=>{console.error("onSearchSubmitError",Z)},[]),se=a.useCallback(({rowData:Z,rowIndex:ye})=>`${(Z==null?void 0:Z.Pkey)||ye}`,[]),he=a.useMemo(()=>{var Z;return!!((Z=e.itemData)!=null&&Z.RetID)},[(ie=e.itemData)==null?void 0:ie.RetID]),pe=a.useCallback(({rowData:Z})=>!!Z.ordId,[]),ue=a.useCallback(({rowData:Z})=>!!Z.SInqFlag||!!Z.stype,[]),ge=a.useCallback(async({rowData:Z,rowIndex:ye,newValue:Ie})=>{var Se,be,Me;const{prod:le}=Z,fe=(Se=Z.prod)!=null&&Se.ProdID?Pj.findProdIndex({newValue:Ie,rowData:Z,rowIndex:ye}):null,Ae=((be=Z.prod)==null?void 0:be.ProdID)&&fe!==-1;return Ae&&ae.error(`${le.ProdID} / ${le.ProdData} ${fe+1} , `),Z={...Z,prod:Ae?null:Z.prod,ProdData:Ae?"":(Me=Z.prod)==null?void 0:Me.ProdData,PackData_N:Ae?"":(le==null?void 0:le.PackData_N)||"",SQty:""},Z},[]),Ce=a.useCallback(({fromRowIndex:Z,newValue:ye})=>async(Ie,le)=>{var be,Me;const fe=Z+le,Ae=k.gridData[fe];console.log(` ${fe} ...`,Ie);let Se={...Ie};return((be=Ie.prod)==null?void 0:be.ProdID)!==((Me=Ae.prod)==null?void 0:Me.ProdID)&&(Se=await ge({rowIndex:fe,rowData:Se,newValue:ye})),Se},[k.gridData,ge]),Te=a.useCallback(({gridMeta:Z})=>async(ye,Ie)=>{console.log("buildGridChangeHandler",Ie),console.log("newValue",ye);const le=[...ye];for(const fe of Ie)if(fe.type==="UPDATE"){const Ae=await Promise.all(ye.slice(fe.fromRowIndex,fe.toRowIndex).map(async(Se,be)=>await Ce({fromRowIndex:fe.fromRowIndex,newValue:ye})(Se,be)));console.log("updatedRows",Ae),le.splice(fe.fromRowIndex,Ae.length,...Ae)}else fe.type==="DELETE"||fe.type==="CREATE"&&(console.log("dsg.CREATE"),Z.toFirstColumn({nextRow:!0}));console.log("prodGrid.changed",le),k.setGridData(le)},[Ce,k]),Ne=a.useCallback(Z=>{console.log("onEditorSubmit",Z);const ye=Pj.transformForSubmitting(Z,k.gridData);console.log("collected",ye),e.creating?F({data:ye}):e.updating?Q({data:ye}):console.error("UNKNOWN SUBMIT TYPE")},[e.creating,e.updating,F,Q,k.gridData]),xe=a.useCallback(Z=>{console.error("onEditorSubmitError",Z)},[]),me=a.useMemo(()=>`${i.REPORT_URL}/WebD02Rep.aspx`,[i.REPORT_URL]),de=yn(),ce=a.useCallback(Z=>{var Ie;console.log("onPrintSubmit",Z);const ye={...Z.outputType&&{Action:Z.outputType.id},DeptID:s==null?void 0:s.CurDeptID,JobName:"D02",IDs:(Ie=e.itemData)==null?void 0:Ie.RetID};console.log("data",ye),de.open(me,ye)},[(B=e.itemData)==null?void 0:B.RetID,s==null?void 0:s.CurDeptID,me,de]),ee=a.useCallback(Z=>{console.error("onPrintSubmitError",Z)},[]),De=a.useCallback(({setValue:Z})=>ye=>{console.log("handlePrint",ye),Z("outputType",ye)},[]),ke=a.useCallback(()=>{P(Z=>({...Z,expPrompting:!0}))},[]),He=a.useCallback(()=>{P(Z=>({...Z,expPrompting:!1}))},[]),qe=a.useCallback(Z=>{console.log("onExpSubmit",Z),P(ye=>({...ye,expProd:Z.expProd,expDate:Z.expDate,expPrompting:!1}))},[]),Le=a.useCallback(Z=>{console.error("onExpSubmitError",Z)},[]),_e=a.useCallback(()=>{P({expProd:null,expDate:null,expPrompting:!1})},[]),H=a.useMemo(()=>I.expProd!==null,[I.expProd]),re=Or(),q=a.useCallback(async()=>{try{re.start();const{status:Z,error:ye}=await g({url:"v1/mat/returning-orders/check-editable",bearer:o,params:{id:e.itemData.RetID}});if(Z.success)e.promptUpdating();else throw ye??new Error("")}catch(Z){ae.error("",Z)}finally{re.clear()}},[re,e,g,o]),Y=a.useCallback(()=>{d.performCheck({callback:q})},[q,d]);return{...e,...T,...c,loadItem:_,handleSelect:L,handleReset:U,onSearchSubmit:X,onSearchSubmitError:te,confirmQuitCreating:K,confirmQuitUpdating:z,confirmReturnReading:J,confirmDelete:V,confirmDeleteWithCheck:W,promptCreating:w,promptCreatingWithCheck:A,onEditorSubmit:Ne,onEditorSubmitError:xe,...k,grid:k,createRow:E,buildGridChangeHandler:Te,getRowKey:se,prodDisabled:pe,purchaseOrdersDisabled:he,spriceDisabled:ue,onPrintSubmit:ce,onPrintSubmitError:ee,handlePrint:De,...I,expChecking:H,onExpDialogOpen:ke,onExpDialogClose:He,cancelExpChecking:_e,onExpSubmit:qe,onExpSubmitError:Le,checkEditableWorking:re.working,handleCheckEditable:q,handleCheckEditableWithCheck:Y,popperOpen:p,handlePopperToggle:m,handlePopperOpen:f,handlePopperClose:h,...u}},uu=a.createContext(),x1e=({children:e})=>{const t=xPt();return r.jsx(uu.Provider,{value:{...t},children:e})};x1e.propTypes={children:l.oneOfType([l.array,l.object])};const y1e=e=>(e==null?void 0:e.map(({SProdID:t,ProdData_N:n,SExpDate:o,SType:s,SRsnID:i,RsnData_N:c,SFlag:u,...d})=>({prod:{ProdID:t,ProdData:n},ProdData:n,reworked:u==="Y",SExpDate:o,stype:zc.getOptionById(s),dtype:i?{CodeID:i,CodeData:c}:null,...d,...d})))||[],yPt=e=>e.filter(t=>{var n;return(n=t.prod)==null?void 0:n.ProdID}).map(({Pkey:t,prod:n,SExpDate:o,SQty:s,stype:i,dtype:c,reworked:u,...d},p)=>({Pkey:(t==null?void 0:t.length)<36?"":t,SProdID:n==null?void 0:n.ProdID,ProdData_N:n==null?void 0:n.ProdData,SExpDate:Re.formatDate(o),SQty:(s==null?void 0:s.toString())||"",SType:(i==null?void 0:i.id)||"",SRsnID:(c==null?void 0:c.CodeID)||"",Seq:p+1,SFlag:u?"Y":"",...d})),CPt=e=>{const{EntDate:t,PDlineID:n,PDlineData_N:o,EmplID:s,EmplData_N:i,ProdEnt_S:c,Remark:u,...d}=e;return{EntDate:Re.parseDate(t),employee:{CodeID:s,CodeData:i},pdline:n?{CodeID:n,CodeData:o}:null,prods:y1e(c),remark:u.join(`
`),...d}},DPt=(e,t)=>{const{EntDate:n,employee:o,pdline:s,remark:i,...c}=e;return{EntDate:n?Re.formatDate(n):"",EmplID:(o==null?void 0:o.CodeID)||"",PDlineID:(s==null?void 0:s.CodeID)||"",Remark:(i==null?void 0:i.split(`
`))||[],...c,...t&&{ProdEnt_S:yPt(t)}}},SPt=e=>{const{employee:t,sdate:n,pdline:o}=e;return{...t&&{empi:t.CodeID},...n&&{sdate:Re.formatDate(n)},...o&&{pdline:o.CodeID}}},vPt=e=>{if(!e)return 0;let t=0;for(const n of e){const{SAmt:o}=n;t+=o?Number(o):0}return t},jPt=e=>Gn.isAnyPropNotEmpty(e,"employee,pdline,sdate"),IPt=({newValue:e,rowData:t,rowIndex:n})=>{var s,i,c;if(!((s=t==null?void 0:t.prod)!=null&&s.ProdID))return-1;const o=t.prod.ProdID;for(let u=0;u<e.length;u++)if(u!==n&&((c=(i=e[u])==null?void 0:i.prod)==null?void 0:c.ProdID)===o)return u;return-1},UP={transformForReading:CPt,transformForSubmitting:DPt,transformAsQueryParams:SPt,transformGridForReading:y1e,getTotal:vPt,isFiltered:jPt,isProdExists:IPt},TPt=()=>{var Y,ie;const e=a.useContext(ln),t=a.useContext(cr),{itemData:n}=t,o=a.useRef(),{token:s,operator:i}=a.useContext(Be),c=Bt({moduleId:"D041"}),u=Co(),[d,p,m,f]=us(!1),{httpGetAsync:h,httpPostAsync:g,httpPutAsync:x,httpDeleteAsync:y}=Zn(),D=a.useContext(Mr),v=so({url:"v1/own-brand/stocking-orders",bearer:s,initialFetchSize:50}),[T,I]=a.useState({expProd:null,expDate:null,expPrompting:!1}),P=a.useCallback(()=>({Pkey:zn(),prod:null,PackData_N:"",SQty:"",SExpDate:null,dtype:null,reworked:!1,stype:null,SRemark:""}),[]),E=yr({gridId:"prods",keyColumn:"pkey",createRow:P}),k=a.useCallback(()=>{const B={prods:[],EntDate:new Date};t.promptCreating({data:B}),E.initGridData(B.prods,{fillRows:!0})},[t,E]),w=a.useCallback(async({data:B})=>{try{t.startCreating();const{status:Z,error:ye}=await g({url:"v1/own-brand/stocking-orders",data:B,bearer:s});if(Z.success)ae.success(""),t.finishedCreating(),t.cancelReading(),v.loadList({refresh:!0});else throw ye??new Error("")}catch(Z){t.failedCreating(),console.error("handleCreate.failed",Z),Z.code===102?ae.error(""):ae.error("",Z)}},[t,g,v,s]),A=a.useCallback(async({id:B,refresh:Z=!1})=>{try{const ye=Z?o.current:B;Z||(o.current=B,t.startReading("...",{id:B}));const{status:Ie,payload:le,error:fe}=await h({url:"v1/own-brand/stocking-orders",bearer:s,params:{id:ye}});if(Ie.success){const Ae=UP.transformForReading(le.data[0]);t.finishedReading({data:Ae}),E.handleGridDataLoaded(Ae.prods)}else throw fe??new Error("")}catch(ye){t.failedReading(ye)}},[t,h,E,s]),F=a.useCallback(async(B,Z)=>{B==null||B.stopPropagation(),t.cancelAction(),A({id:Z.})},[t,A]),_=a.useCallback(()=>{D.confirm({message:"?",onConfirm:()=>{t.cancelAction()}})},[t,D]),L=a.useCallback(()=>{D.confirm({message:"?",onConfirm:()=>{t.cancelAction()}})},[t,D]),K=a.useCallback(()=>{D.confirm({message:"?",onConfirm:()=>{t.cancelUpdating(),A({refresh:!0})}})},[t,D,A]),z=a.useCallback(async({data:B})=>{try{t.startUpdating();const{status:Z,error:ye}=await x({url:"v1/own-brand/stocking-orders",data:B,bearer:s});if(Z.success)ae.success(""),t.finishedUpdating(),A({refresh:!0}),v.loadList({refresh:!0});else throw ye??new Error("")}catch(Z){t.failedUpdating(),console.error("handleCreate.failed",Z),ae.error("",Z)}},[t,x,v,A,s]),J=a.useCallback(()=>{D.confirm({message:`${n==null?void 0:n.EntID}?`,onConfirm:async()=>{try{t.startDeleting(n);const{status:B,error:Z}=await y({url:"v1/own-brand/stocking-orders",bearer:s,params:{id:n==null?void 0:n.EntID}});if(B.success)t.cancelAction(),ae.success(` ${n==null?void 0:n.EntID}`),v.loadList({refresh:!0});else throw Z||""}catch(B){t.failedDeleting(B),console.error("confirmDelete.failed",B),ae.error("",B)}}})},[t,D,y,n,v,s]),Q=a.useCallback(({reset:B})=>()=>{B({employee:null,sdate:null,pdline:null})},[]),V=a.useCallback(B=>{console.log("onSearchSubmit",B),f(),v.loadList({params:UP.transformAsQueryParams(B)})},[f,v]),W=a.useCallback(B=>{console.error("onSearchSubmitError",B)},[]),U=a.useCallback(({rowData:B,rowIndex:Z})=>`${(B==null?void 0:B.Pkey)||Z}`,[]),X=a.useMemo(()=>{var B;return!!((B=t.itemData)!=null&&B.EntID)},[(Y=t.itemData)==null?void 0:Y.EntID]),te=a.useCallback(({rowData:B})=>!!B.ordId,[]),se=a.useCallback(({rowData:B})=>!!B.SInqFlag||!!B.stype,[]),he=a.useCallback(async({rowData:B,rowIndex:Z,newValue:ye})=>{const{prod:Ie}=B;return B={...B,SQty:"",ProdData:(Ie==null?void 0:Ie.ProdData)||"",PackData_N:(Ie==null?void 0:Ie.PackData_N)||"",SExpDate:""},B},[]),pe=a.useCallback(({fromRowIndex:B,newValue:Z})=>async(ye,Ie)=>{var Se,be;const le=B+Ie,fe=E.gridData[le];console.log(` ${le} ...`,ye);let Ae={...ye};return((Se=ye.prod)==null?void 0:Se.ProdID)!==((be=fe.prod)==null?void 0:be.ProdID)&&(Ae=await he({rowIndex:le,rowData:Ae,newValue:Z})),Ae},[E.gridData,he]),ue=a.useCallback(({gridMeta:B})=>async(Z,ye)=>{console.log("buildGridChangeHandler",ye),console.log("newValue",Z);const Ie=[...Z];for(const le of ye)if(le.type==="UPDATE"){const fe=await Promise.all(Z.slice(le.fromRowIndex,le.toRowIndex).map(async(Ae,Se)=>await pe({fromRowIndex:le.fromRowIndex,newValue:Z})(Ae,Se)));console.log("updatedRows",fe),Ie.splice(le.fromRowIndex,fe.length,...fe)}else le.type==="DELETE"||le.type==="CREATE"&&(console.log("dsg.CREATE"),B.toFirstColumn({nextRow:!0}));console.log("prodGrid.changed",Ie),E.setGridData(Ie)},[pe,E]),ge=a.useCallback(B=>{console.log("onEditorSubmit",B);const Z=UP.transformForSubmitting(B,E.gridData);console.log("collected",Z),t.creating?w({data:Z}):t.updating?z({data:Z}):console.error("UNKNOWN SUBMIT TYPE")},[t.creating,t.updating,w,z,E.gridData]),Ce=a.useCallback(B=>{console.error("onEditorSubmitError",B)},[]),Te=a.useMemo(()=>`${e.REPORT_URL}/WebD041Rep.aspx`,[e.REPORT_URL]),Ne=yn(),xe=a.useCallback(B=>{var ye;console.log("onPrintSubmit",B);const Z={...B.outputType&&{Action:B.outputType.id},DeptID:i==null?void 0:i.CurDeptID,JobName:"D041",IDs:(ye=t.itemData)==null?void 0:ye.EntID};console.log("data",Z),Ne.open(Te,Z)},[(ie=t.itemData)==null?void 0:ie.EntID,i==null?void 0:i.CurDeptID,Te,Ne]),me=a.useCallback(B=>{console.error("onPrintSubmitError",B)},[]),de=a.useCallback(({setValue:B})=>Z=>{console.log("handlePrint",Z),B("outputType",Z)},[]),ce=a.useCallback(()=>{I(B=>({...B,expPrompting:!0}))},[]),ee=a.useCallback(()=>{I(B=>({...B,expPrompting:!1}))},[]),De=a.useCallback(B=>{console.log("onExpSubmit",B),I(Z=>({...Z,expProd:B.expProd,expDate:B.expDate,expPrompting:!1}))},[]),ke=a.useCallback(B=>{console.error("onExpSubmitError",B)},[]),He=a.useCallback(()=>{I({expProd:null,expDate:null,expPrompting:!1})},[]),qe=a.useMemo(()=>T.expProd!==null,[T.expProd]),Le=Or(),_e=a.useCallback(async()=>{try{Le.start();const{status:B,error:Z}=await h({url:"v1/own-brand/stocking-orders/check-editable",bearer:s,params:{id:t.itemData.EntID}});if(B.success)t.promptUpdating();else throw Z??new Error("")}catch(B){ae.error("",B)}finally{Le.clear()}},[Le,t,h,s]),H=a.useCallback(({rowData:B})=>!B.prod||!!B.reworked||!!B.stype,[]),re=a.useCallback(({rowData:B})=>!B.prod||!!B.reworked||!!B.dtype,[]),q=a.useCallback(({rowData:B})=>!B.prod||!!B.dtype||!!B.stype,[]);return{...t,...v,...c,loadItem:A,handleSelect:F,handleReset:Q,onSearchSubmit:V,onSearchSubmitError:W,confirmQuitCreating:_,confirmQuitUpdating:L,confirmReturnReading:K,confirmDelete:J,promptCreating:k,onEditorSubmit:ge,onEditorSubmitError:Ce,...E,grid:E,createRow:P,buildGridChangeHandler:ue,getRowKey:U,prodDisabled:te,purchaseOrdersDisabled:X,spriceDisabled:se,onPrintSubmit:xe,onPrintSubmitError:me,handlePrint:de,...T,expChecking:qe,onExpDialogOpen:ce,onExpDialogClose:ee,cancelExpChecking:He,onExpSubmit:De,onExpSubmitError:ke,checkEditableWorking:Le.working,handleCheckEditable:_e,popperOpen:d,handlePopperToggle:p,handlePopperOpen:m,handlePopperClose:f,dtypeDisabled:H,stypeDisabled:re,reworkedDisabled:q,...u}},du=a.createContext(),C1e=({children:e})=>{const t=TPt();return r.jsx(du.Provider,{value:{...t},children:e})};C1e.propTypes={children:l.oneOfType([l.array,l.object])};const D1e=e=>(e==null?void 0:e.map((t,n)=>{const{SProdID:o,ProdData_N:s,SRsnID:i,RsnData_N:c,SCustID:u,CustData_N:d,SDeptID:p,DeptData_N:m,...f}=t;let h={prod:{ProdID:o,ProdData:s},ProdData:s,dtype:i?{CodeID:i,CodeData:c}:null,...f,customer:{CustID:u,CustData:d},dept:{DeptID:p,DeptName:m},...f};return h.tooltip=lG({rowData:h,rowIndex:n}),h}))||[],OPt=e=>e.filter(t=>{var n;return(n=t.prod)==null?void 0:n.ProdID}).map(({Pkey:t,prod:n,SQty:o,SAmt:s,dept:i,dtype:c,customer:u,StockQty_N:d,...p},m)=>({Pkey:(t==null?void 0:t.length)<36?"":t,SProdID:n==null?void 0:n.ProdID,ProdData_N:n==null?void 0:n.ProdData,SQty:(o==null?void 0:o.toString())||"",SAmt:(s==null?void 0:s.toString())||"",SRsnID:(c==null?void 0:c.CodeID)||"",SDeptID:(i==null?void 0:i.DeptID)||"",SCustID:(u==null?void 0:u.CustID)||"",Seq:m+1,StockQty_N:(d==null?void 0:d.toString())||"",...p})),EPt=e=>{const{CxlDate:t,EmplID:n,EmplData_N:o,Cancel_S:s,Remark:i,...c}=e;return{wdate:Re.parseDate(t),employee:{CodeID:n,CodeData:o},prods:D1e(s),remark:i.join(`
`),...c}},PPt=(e,t)=>{const{wdate:n,employee:o,remark:s,...i}=e;return{CxlDate:n?Re.formatDate(n):"",EmplID:(o==null?void 0:o.CodeID)||"",Remark:(s==null?void 0:s.split(`
`))||[],...i,...t&&{Cancel_S:OPt(t)}}},RPt=e=>{const{wdate:t,employee:n,...o}=e;return{...n&&{empi:n.CodeID},...t&&{wdate:Re.formatDate(t)},...o}},wPt=e=>Gn.isAnyPropNotEmpty(e,"wdate,employee"),kPt=e=>{if(!e)return 0;let t=0;for(const n of e){const{SAmt:o}=n;t+=o?Number(o):0}return t},S1e=({rowData:e,rowIndex:t})=>{var s;let n=[];if((s=e==null?void 0:e.prod)!=null&&s.ProdID&&!wo.isNullOrEmpty(e==null?void 0:e.StockQty_N)){const i=e.StockQty_N;n.push(`${i||0}`)}const o=n.join(", ");return console.log(`${S1e.name}`,o),o},lG=({rowData:e,rowIndex:t})=>{var o;let n=[];if((o=e==null?void 0:e.prod)!=null&&o.ProdID&&!wo.isNullOrEmpty(e==null?void 0:e.StockQty_N)){const s=e.StockQty_N;if(n.push({label:"",value:s??0}),e!=null&&e.SafeQty_N){const i=Number(e==null?void 0:e.SafeQty_N)||0,c=i>0?s-i:s;s<(i>0?i:0)&&n.push({label:"",value:c})}}return console.log(`${lG.name}`,n),n},xh={transformForReading:EPt,transformForSubmitting:PPt,transformAsQueryParams:RPt,transformGridForReading:D1e,getTotal:kPt,isFiltered:wPt,getTooltip:S1e,getTooltips:lG},APt=()=>{var re;const e=a.useContext(cr),{itemData:t}=e,n=a.useRef(),{token:o,operator:s}=a.useContext(Be),i=a.useContext(ln),c=Bt({moduleId:"D05"}),u=Co(),[d,p,m,f]=us(!1),{httpGetAsync:h,httpPostAsync:g,httpPutAsync:x,httpDeleteAsync:y}=Zn(),D=a.useContext(Mr),v=so({url:"v1/mat/waste-orders",bearer:o,initialFetchSize:50}),T=a.useCallback(()=>({Pkey:zn(),prod:null,SQty:"",dtype:null,customer:null,dept:null,SAmt:""}),[]),I=yr({gridId:"prods",keyColumn:"Pkey",createRow:T}),P=jf({grid:I}),{committed:E}=P,k=a.useCallback(({setValue:q,gridData:Y,reset:ie=!1})=>{if(ie)q("TotAmt_N","");else{if(Y){const B=xh.getTotal(Y);console.log("total",B),q("TotAmt_N",B.toFixed(2));return}q("TotAmt_N","")}},[]),w=a.useCallback(()=>{const q={prods:[],wdate:new Date,TotAmt_N:"",employee:null};e.promptCreating({data:q}),P.reset(),I.initGridData(q.prods,{fillRows:!0})},[e,I,P]),A=a.useCallback(async({id:q,refresh:Y=!1})=>{try{const ie=Y?n.current:q;Y||(n.current=q,e.startReading("...",{id:q}));const{status:B,payload:Z,error:ye}=await h({url:"v1/mat/waste-orders",bearer:o,params:{id:ie}});if(B.success){const Ie=xh.transformForReading(Z.data[0]);e.finishedReading({data:Ie}),await P.recoverStockMap(Ie.prods),I.initGridData(Ie.prods)}else throw ye??new Error("")}catch(ie){e.failedReading(ie)}},[h,o,e,P,I]),F=a.useCallback(async({data:q,setValue:Y,gridMeta:ie})=>{const B=e.creating;try{B?e.startCreating():e.startUpdating();const{status:Z,error:ye}=B?await g({url:"v1/mat/waste-orders",data:q,bearer:o}):await x({url:"v1/mat/waste-orders",data:q,bearer:o});if(Z.success)ae.success(B?"":""),B?(e.finishedCreating(),e.cancelReading()):(e.finishedUpdating(),A({refresh:!0})),v.loadList({refresh:!0});else throw ye??new Error("")}catch(Z){B?e.failedCreating():e.failedUpdating(),console.error("handleCreate.failed",Z),ae.error("",Z)}},[e,g,x,v,A,o]),_=a.useCallback(async(q,Y)=>{q==null||q.stopPropagation(),e.cancelAction(),A({id:Y.})},[e,A]),L=a.useCallback(()=>{D.confirm({message:"?",onConfirm:()=>{e.cancelAction()}})},[e,D]),K=a.useCallback(()=>{D.confirm({message:"?",onConfirm:()=>{e.cancelAction()}})},[e,D]),z=a.useCallback(()=>{D.confirm({message:"?",onConfirm:()=>{e.cancelUpdating(),A({refresh:!0})}})},[e,D,A]),J=a.useCallback(()=>{D.confirm({message:`${t==null?void 0:t.CxlID}?`,onConfirm:async()=>{try{e.startDeleting(t);const{status:q,error:Y}=await y({url:"v1/mat/waste-orders",bearer:o,params:{id:t==null?void 0:t.CxlID}});if(q.success)e.cancelAction(),ae.success(` ${t==null?void 0:t.CxlID}`),v.loadList({refresh:!0});else throw Y||""}catch(q){e.failedDeleting(q),console.error("confirmDelete.failed",q),ae.error("",q)}}})},[e,D,y,t,v,o]),Q=a.useCallback(({reset:q})=>()=>{q({wdate:null,employee:null})},[]),V=a.useCallback(q=>{console.log("onSearchSubmit",q),f(),v.loadList({params:xh.transformAsQueryParams(q)})},[f,v]),W=a.useCallback(q=>{console.error("onSearchSubmitError",q)},[]),U=a.useCallback(({rowData:q,rowIndex:Y})=>`${(q==null?void 0:q.Pkey)||Y}`,[]),X=a.useCallback(async({rowData:q,rowIndex:Y,gridData:ie,gridMeta:B})=>{var Ae,Se,be,Me;let Z={...q};if(!q.SQty)return{...Z,SAmt:0};const ye=P.getStockExcludingCurrent({rowIndex:Y,prodId:q.prod.ProdID,gridData:ie});if(ye<q.SQty)return Z={...q,SQty:0,SAmt:0},ae.error(` ${Y+1} (${ye} < ${q.SQty})`),B.setActiveCell({col:"SQty",row:Y}),Z;const Ie=(Ae=q==null?void 0:q.prod)==null?void 0:Ae.ProdID,le=((Se=q==null?void 0:q.customer)==null?void 0:Se.CustID)||"",fe=((be=q==null?void 0:q.dept)==null?void 0:be.DeptID)||"";if(Ie&&(le||fe))try{const{status:we,payload:Ge,error:We}=await h({url:"v1/mat/waste-orders/samt",bearer:o,params:{prdi:(Me=q==null?void 0:q.prod)==null?void 0:Me.ProdID,qty:(q==null?void 0:q.SQty)||0,csti:le,depi:fe}});if(we.success){console.log("payload",Ge);const Ee=(parseFloat(Ge.SAmt)||0).toFixed(2);Z={...Z,SAmt:Ee}}else throw We??new Error("")}catch(we){ae.error("",we)}else Z={...Z,SAmt:""};return console.log("processedRowData",Z),Z},[h,P,o]),te=a.useCallback(async({rowData:q,rowIndex:Y,gridData:ie,gridMeta:B})=>{var fe,Ae,Se,be;let Z={...q};if(!q.SQty)return{...Z,SAmt:""};const ye=(fe=q==null?void 0:q.prod)==null?void 0:fe.ProdID,Ie=((Ae=q==null?void 0:q.customer)==null?void 0:Ae.CustID)||"",le=((Se=q==null?void 0:q.dept)==null?void 0:Se.DeptID)||"";if(ye)try{const{status:Me,payload:we,error:Ge}=await h({url:"v1/mat/waste-orders/samt",bearer:o,params:{prdi:(be=q==null?void 0:q.prod)==null?void 0:be.ProdID,qty:(q==null?void 0:q.SQty)||0,csti:Ie,depi:le}});if(Me.success)console.log("payload",we),Z={...Z,SAmt:(parseFloat(we.SAmt)||0).toFixed(2)};else throw Ge??new Error("")}catch(Me){ae.error("",Me)}else Z={...Z,SAmt:""};return console.log("newRowData",Z),Z},[h,o]),se=a.useCallback(async q=>{if(!q){ae.error("",{position:"top-right"});return}try{const{status:Y,payload:ie,error:B}=await h({url:"v1/inv/stock",bearer:o,params:{id:q,safety:1}});if(Y.success)return P.updateStockQty(q,ie.Stock??ie.StockQty),ie;throw B??new Error("")}catch(Y){ae.error("",Y)}},[h,P,o]),he=a.useCallback(async({rowData:q})=>{var Z;const Y=q!=null&&q.prod?await se((Z=q==null?void 0:q.prod)==null?void 0:Z.ProdID):null,{prod:ie}=q;return ie!=null&&ie.ProdID&&P.updateStockQty(ie.ProdID,ie.StockQty),{...q,ProdData:(ie==null?void 0:ie.ProdData)||"",PackData_N:(ie==null?void 0:ie.PackData_N)||"",StockQty_N:(ie==null?void 0:ie.StockQty)||"",SafeQty_N:(Y==null?void 0:Y.Safety)??"",SQty:"",SAmt:"",dtype:null,dept:null,customer:null,tooltip:""}},[P]),pe=a.useCallback(({newValue:q,fromRowIndex:Y,gridMeta:ie,updateResult:B})=>async(Z,ye)=>{var Se,be,Me,we,Ge,We;const Ie=Y+ye;B.rowIndex=Ie;const le=I.gridData[Ie];console.log(` ${Ie} ...`,Z);let fe={...Z},Ae=!1;return((Se=Z.prod)==null?void 0:Se.ProdID)!==((be=le.prod)==null?void 0:be.ProdID)&&(fe=await he({rowData:fe}),B.cols.push("prod")),fe.SQty!==le.SQty&&(B.cols.push("SQty"),fe=await X({rowData:fe,rowIndex:Ie,gridData:q,gridMeta:ie})),(fe.SQty!==le.SQty||((Me=fe.customer)==null?void 0:Me.CustID)!==((we=le.customer)==null?void 0:we.CustID)||((Ge=fe.dept)==null?void 0:Ge.DeptID)!==((We=le.dept)==null?void 0:We.DeptID))&&(fe=await te({rowData:fe,rowIndex:Ie,gridData:q,gridMeta:ie}),Ae=!0,B.cols.push("SAmt")),Ae&&B.rows++,console.log(` ${Ie} `,fe),fe},[I.gridData,he,X,te]),ue=a.useCallback(({updateResult:q,prevGridData:Y,gridData:ie,rowIndex:B})=>{var ye,Ie,le,fe,Ae;let Z;return(q==null?void 0:q.type)==="DELETE"?Z=((Ie=(ye=Y[B])==null?void 0:ye.prod)==null?void 0:Ie.ProdID)||"":(Z=(le=ie[B].prod)==null?void 0:le.ProdID,Z||(Z=((Ae=(fe=Y[B])==null?void 0:fe.prod)==null?void 0:Ae.ProdID)||"")),Z?ie.map((Se,be)=>{var Me;if(((Me=Se.prod)==null?void 0:Me.ProdID)===Z){const we=P.getRemainingStock({prodId:Z,gridData:ie});let Ge={...Se,StockQty_N:we};return Ge={...Ge,tooltip:xh.getTooltips({rowData:Ge,rowIndex:B})},Ge}return Se}):(console.log("targetProdID ,  mapTooltip"),ie)},[P]),ge=a.useCallback(({gridData:q,formData:Y,setValue:ie,updateResult:B,prevGridData:Z})=>{if(B.cols.includes("SAmt")&&k({formData:Y,gridData:q,setValue:ie}),B.cols.includes("prod")||B.cols.includes("SQty")||B.type==="DELETE"){console.log("before reduce",q);const ye=ue({updateResult:B,prevGridData:Z,gridData:q,rowIndex:B.rowIndex});return console.log("after reduce",ye),ye}},[k,ue]),Ce=a.useCallback(({setValue:q,gridMeta:Y})=>ie=>{console.log("onEditorSubmit",ie);const B=xh.transformForSubmitting(ie,I.gridData);console.log("collected",B),F({data:B,setValue:q,gridMeta:Y})},[I.gridData,F]),Te=a.useCallback(q=>{console.error("onEditorSubmitError",q)},[]),Ne=a.useMemo(()=>`${i.REPORT_URL}/WebD05Rep.aspx`,[i.REPORT_URL]),xe=yn(),me=a.useCallback(q=>{var ie;console.log("onPrintSubmit",q);const Y={...q.outputType&&{Action:q.outputType.id},DeptID:s==null?void 0:s.CurDeptID,JobName:"D05",IDs:(ie=e.itemData)==null?void 0:ie.CxlID};console.log("data",Y),xe.open(Ne,Y)},[(re=e.itemData)==null?void 0:re.CxlID,s==null?void 0:s.CurDeptID,Ne,xe]),de=a.useCallback(q=>{console.error("onPrintSubmitError",q)},[]),ce=a.useCallback(({setValue:q})=>Y=>{console.log("handlePrint",Y),q("outputType",Y)},[]),ee=a.useCallback(({setValue:q})=>async Y=>{console.log("onRefreshGridSubmit",Y);try{if(I.gridData.length>0){const ie=xh.transformForSubmitting(Y,I.gridData);console.log("collected",ie);const{status:B,payload:Z,error:ye}=await g({url:"v1/mat/waste-orders/refresh-grid",bearer:o,data:ie});if(console.log("refresh-grid.payload",Z),B.success){const Ie=xh.transformForReading(Z.data[0]);console.log("refreshed data",Ie),I.handleGridDataLoaded(Ie.prods),k({setValue:q,formData:Ie}),ae.info("")}else throw ye??new Error("")}else k({setValue:q,reset:!0})}catch(ie){ae.error("",ie)}},[g,I,k,o]),De=a.useCallback(q=>{console.error("onRefreshGridSubmitError",q)},[]),ke=Or(),He=a.useCallback(async()=>{try{ke.start();const{status:q,error:Y}=await h({url:"v1/mat/waste-orders/check-editable",bearer:o,params:{id:e.itemData.CxlID}});if(q.success)e.promptUpdating();else throw Y??new Error("")}catch(q){ae.error("",q)}finally{ke.clear()}},[ke,e,h,o]),qe=a.useCallback(({rowData:q})=>{var Y;return!!((Y=q==null?void 0:q.dept)!=null&&Y.DeptID)||!(q!=null&&q.prod)},[]),Le=a.useCallback(({rowData:q})=>{var Y;return!!((Y=q==null?void 0:q.customer)!=null&&Y.CustID)||!(q!=null&&q.prod)},[]),_e=a.useCallback(({rowData:q})=>!q.prod,[]),H=a.useCallback(({rowData:q})=>!q.prod,[]);return{...e,...v,...c,loadItem:A,handleSelect:_,popperOpen:d,handlePopperToggle:p,handlePopperOpen:m,handlePopperClose:f,handleReset:Q,onSearchSubmit:V,onSearchSubmitError:W,confirmQuitCreating:L,confirmQuitUpdating:K,confirmReturnReading:z,confirmDelete:J,promptCreating:w,onEditorSubmit:Ce,onEditorSubmitError:Te,...I,grid:I,createRow:T,getRowKey:U,onPrintSubmit:me,onPrintSubmitError:de,handlePrint:ce,onRefreshGridSubmit:ee,onRefreshGridSubmitError:De,checkEditableWorking:ke.working,handleCheckEditable:He,customerDisabled:qe,deptDisabled:Le,sqtyDisabled:_e,dtypeDisabled:H,...u,committed:E,onUpdateRow:pe,onGridChanged:ge}},cm=a.createContext(),v1e=({children:e})=>{const t=APt();return r.jsx(cm.Provider,{value:{...t},children:e})};v1e.propTypes={children:l.oneOfType([l.array,l.object])};const j1e=e=>(e==null?void 0:e.map(({SProdID:t,ProdData_N:n,...o})=>({prod:{ProdID:t,ProdData:n},ProdData:n,...o})))||[],NPt=e=>e.filter(t=>{var n;return(n=t.prod)==null?void 0:n.ProdID}).map(({Pkey:t,prod:n,SQty:o,...s},i)=>({Pkey:(t==null?void 0:t.length)<36?"":t,SProdID:n==null?void 0:n.ProdID,ProdData_N:n==null?void 0:n.ProdData,SQty:(o==null?void 0:o.toString())||"",Seq:i+1,...s})),FPt=e=>{const{RemDate:t,InitDate:n,PDlineID:o,PDlineData_N:s,EmplID:i,EmplData_N:c,MatRem_S:u,Remark:d,...p}=e;return{RemDate:Re.parseDate(t),InitDate:Re.parseDate(n),employee:{CodeID:i,CodeData:c},pdline:o?{CodeID:o,CodeData:s}:null,prods:j1e(u),remark:d.join(`
`),...p}},MPt=(e,t)=>{const{RemDate:n,InitDate:o,employee:s,pdline:i,remark:c,prod:u,prods:d,...p}=e;return console.log("ignores",u,d),{RemDate:n?Re.formatDate(n):"",InitDate:o?Re.formatDate(o):"",EmplID:(s==null?void 0:s.CodeID)||"",PDlineID:(i==null?void 0:i.CodeID)||"",Remark:(c==null?void 0:c.split(`
`))||[],...p,...t&&{MatRem_S:NPt(t)}}},_Pt=e=>{const{employee:t,bdate:n}=e;return{...t&&{empi:t.CodeID},...n&&{bdate:Re.formatDate(n)}}},LPt=e=>{if(!e)return 0;let t=0;for(const n of e){const{SAmt:o}=n;t+=o?Number(o):0}return t},$Pt=e=>Gn.isAnyPropNotEmpty(e,"employee,bdate"),BPt=({newValue:e,rowData:t,rowIndex:n})=>{var s,i,c;if(!((s=t==null?void 0:t.prod)!=null&&s.ProdID))return-1;const o=t.prod.ProdID;for(let u=0;u<e.length;u++)if(u!==n&&((c=(i=e[u])==null?void 0:i.prod)==null?void 0:c.ProdID)===o)return u;return-1},Rj={transformForReading:FPt,transformForSubmitting:MPt,transformAsQueryParams:_Pt,transformGridForReading:j1e,getTotal:LPt,isFiltered:$Pt,findProdIndex:BPt},WPt=()=>{var Ne;const e=a.useContext(cr),{itemData:t}=e,n=a.useRef(),{token:o,operator:s}=a.useContext(Be),i=a.useContext(ln),c=Bt({moduleId:"D06"}),u=Co(),[d,p,m,f]=us(!1),{httpGetAsync:h,httpPostAsync:g,httpPutAsync:x,httpDeleteAsync:y}=Zn(),D=a.useContext(Mr),v=so({url:"v1/mat/balance-orders",bearer:o,initialFetchSize:50}),T=a.useCallback(()=>({Pkey:zn(),prod:null,SQty:""}),[]),I=yr({gridId:"prods",keyColumn:"pkey",createRow:T}),P=a.useCallback(()=>{const xe=new Date,me={prods:[],RemDate:xe,InitDate:Yu(xe,1)};e.promptCreating({data:me}),I.initGridData(me.prods,{fillRows:!0})},[e,I]),E=a.useCallback(async({data:xe})=>{try{e.startCreating();const{status:me,error:de}=await g({url:"v1/mat/balance-orders",data:xe,bearer:o});if(me.success)ae.success(""),e.finishedCreating(),e.cancelReading(),v.loadList({refresh:!0});else throw de??new Error("")}catch(me){e.failedCreating(),console.error("handleCreate.failed",me),me.code===102?ae.error("",{position:"top-right"}):ae.error("",me)}},[e,g,v,o]),k=a.useCallback(async({id:xe,refresh:me=!1})=>{try{const de=me?n.current:xe;me||(n.current=xe,e.startReading("...",{id:xe}));const{status:ce,payload:ee,error:De}=await h({url:"v1/mat/balance-orders",bearer:o,params:{id:de}});if(ce.success){const ke=Rj.transformForReading(ee.data[0]);e.finishedReading({data:ke}),I.handleGridDataLoaded(ke.prods)}else throw De??new Error("")}catch(de){e.failedReading(de)}},[e,h,I,o]),w=a.useCallback(async(xe,me)=>{xe==null||xe.stopPropagation(),e.cancelAction(),k({id:me.})},[e,k]),A=a.useCallback(()=>{D.confirm({message:"?",onConfirm:()=>{e.cancelAction()}})},[e,D]),F=a.useCallback(()=>{D.confirm({message:"?",onConfirm:()=>{e.cancelAction()}})},[e,D]),_=a.useCallback(()=>{D.confirm({message:"?",onConfirm:()=>{e.cancelUpdating(),k({refresh:!0})}})},[e,D,k]),L=a.useCallback(async({data:xe})=>{try{e.startUpdating();const{status:me,error:de}=await x({url:"v1/mat/balance-orders",data:xe,bearer:o});if(me.success)ae.success(""),e.finishedUpdating(),k({refresh:!0}),v.loadList({refresh:!0});else throw de??new Error("")}catch(me){e.failedUpdating(),console.error("handleCreate.failed",me),ae.error("",me)}},[e,x,v,k,o]),K=a.useCallback(()=>{D.confirm({message:`${t==null?void 0:t.RemID}?`,onConfirm:async()=>{try{e.startDeleting(t);const{status:xe,error:me}=await y({url:"v1/mat/balance-orders",bearer:o,params:{id:t==null?void 0:t.RemID}});if(xe.success)e.cancelAction(),ae.success(` ${t==null?void 0:t.RemID}`),v.loadList({refresh:!0});else throw me||""}catch(xe){e.failedDeleting(xe),console.error("confirmDelete.failed",xe),ae.error("",xe)}}})},[e,D,y,t,v,o]),z=a.useCallback(({reset:xe})=>()=>{xe({employee:null,bdate:null})},[]),J=a.useCallback(xe=>{console.log("onSearchSubmit",xe),f(),v.loadList({params:Rj.transformAsQueryParams(xe)})},[f,v]),Q=a.useCallback(xe=>{console.error("onSearchSubmitError",xe)},[]),V=a.useCallback(({rowData:xe,rowIndex:me})=>`${(xe==null?void 0:xe.Pkey)||me}`,[]),W=a.useCallback(async({rowData:xe,rowIndex:me,newValue:de})=>{var ke,He;const{prod:ce}=xe,ee=ce!=null&&ce.ProdID?Rj.findProdIndex({newValue:de,rowData:xe,rowIndex:me}):null,De=((ke=xe.prod)==null?void 0:ke.ProdID)&&ee!==-1;return De&&ae.error(`${ce.ProdID} / ${ce.ProdData} ${ee+1} , `),xe={...xe,prod:De?null:xe.prod,ProdData:De?"":(He=xe.prod)==null?void 0:He.ProdData,PackData_N:De?"":(ce==null?void 0:ce.PackData_N)||"",SQty:""},xe},[]),U=a.useCallback(({fromRowIndex:xe,newValue:me})=>async(de,ce)=>{var He,qe;const ee=xe+ce,De=I.gridData[ee];console.log(` ${ee} ...`,de);let ke={...de};return((He=de.prod)==null?void 0:He.ProdID)!==((qe=De.prod)==null?void 0:qe.ProdID)&&(ke=await W({rowIndex:ee,rowData:ke,newValue:me})),ke},[I.gridData,W]),X=a.useCallback(({getValues:xe,setValue:me,gridMeta:de})=>async(ce,ee)=>{console.log("buildGridChangeHandler",ee),console.log("newValue",ce);const De=[...ce];for(const ke of ee)if(ke.type==="UPDATE"){const He=await Promise.all(ce.slice(ke.fromRowIndex,ke.toRowIndex).map(async(qe,Le)=>await U({fromRowIndex:ke.fromRowIndex,newValue:ce})(qe,Le)));console.log("updatedRows",He),De.splice(ke.fromRowIndex,He.length,...He)}else ke.type==="DELETE"||ke.type==="CREATE"&&(console.log("dsg.CREATE"),de.toFirstColumn({nextRow:!0}));console.log("prodGrid.changed",De),I.setGridData(De)},[U,I]),te=a.useCallback(xe=>{console.log("onEditorSubmit",xe);const me=Rj.transformForSubmitting(xe,I.gridData);console.log("collected",me),e.creating?E({data:me}):e.updating?L({data:me}):console.error("UNKNOWN SUBMIT TYPE")},[e.creating,e.updating,E,L,I.gridData]),se=a.useCallback(xe=>{console.error("onEditorSubmitError",xe)},[]),he=a.useMemo(()=>`${i.REPORT_URL}/WebD06Rep.aspx`,[i.REPORT_URL]),pe=yn(),ue=a.useCallback(xe=>{var de;console.log("onPrintSubmit",xe);const me={...xe.outputType&&{Action:xe.outputType.id},DeptID:s==null?void 0:s.CurDeptID,JobName:"D06",IDs:(de=e.itemData)==null?void 0:de.RemID};console.log("data",me),pe.open(he,me)},[(Ne=e.itemData)==null?void 0:Ne.RemID,s==null?void 0:s.CurDeptID,he,pe]),ge=a.useCallback(xe=>{console.error("onPrintSubmitError",xe)},[]),Ce=a.useCallback(({setValue:xe})=>me=>{console.log("handlePrint",me),xe("outputType",me)},[]),Te=a.useCallback(({setValue:xe})=>me=>{me&&gf(me)?xe("InitDate",Yu(me,1)):xe("InitDate",null)},[]);return{...e,...v,...c,loadItem:k,handleSelect:w,handleReset:z,onSearchSubmit:J,onSearchSubmitError:Q,confirmQuitCreating:A,confirmQuitUpdating:F,confirmReturnReading:_,confirmDelete:K,promptCreating:P,onEditorSubmit:te,onEditorSubmitError:se,...I,grid:I,createRow:T,buildGridChangeHandler:X,getRowKey:V,onPrintSubmit:ue,onPrintSubmitError:ge,handlePrint:Ce,popperOpen:d,handlePopperToggle:p,handlePopperOpen:m,handlePopperClose:f,handleRemDateChanged:Te,...u}},pu=a.createContext(),I1e=({children:e})=>{const t=WPt();return r.jsx(pu.Provider,{value:{...t},children:e})};I1e.propTypes={children:l.oneOfType([l.array,l.object])};const T1e=e=>(e==null?void 0:e.map(({SProdID:t,ProdData_N:n,...o})=>({prod:{ProdID:t,ProdData:n},ProdData:n,...o})))||[],UPt=e=>e.filter(t=>{var n;return(n=t.prod)==null?void 0:n.ProdID}).map(({Pkey:t,prod:n,SQty:o,...s},i)=>({Pkey:(t==null?void 0:t.length)<36?"":t,SProdID:n==null?void 0:n.ProdID,ProdData_N:n==null?void 0:n.ProdData,SQty:(o==null?void 0:o.toString())||"",Seq:i+1,...s})),qPt=e=>{const{EmplID:t,EmplData_N:n,BomCal_S:o,...s}=e;return{employee:{CodeID:t,CodeData:n},prods:T1e(o),...s}},VPt=(e,t)=>{const{employee:n,...o}=e;return{EmplID:(n==null?void 0:n.CodeID)||"",...o,...t&&{BomCal_S:UPt(t)}}},zPt=e=>{const{employee:t}=e;return{...t&&{empi:t.CodeID}}},HPt=e=>{if(!e)return 0;let t=0;for(const n of e){const{SAmt:o}=n;t+=o?Number(o):0}return t},GPt=e=>Gn.isAnyPropNotEmpty(e,"employee"),KPt=({newValue:e,rowData:t,rowIndex:n})=>{var s,i,c;if(!((s=t==null?void 0:t.prod)!=null&&s.ProdID))return-1;const o=t.prod.ProdID;for(let u=0;u<e.length;u++)if(u!==n&&((c=(i=e[u])==null?void 0:i.prod)==null?void 0:c.ProdID)===o)return u;return-1},wj={transformForReading:qPt,transformForSubmitting:VPt,transformAsQueryParams:zPt,transformGridForReading:T1e,getTotal:HPt,isFiltered:GPt,findProdIndex:KPt},QPt=()=>{var Le,_e;const e=a.useContext(ln),t=a.useContext(cr),{itemData:n}=t,o=a.useRef(),{token:s,operator:i}=a.useContext(Be),c=Bt({moduleId:"D07"}),u=Co(),[d,p,m,f]=us(!1),{httpGetAsync:h,httpPostAsync:g,httpPutAsync:x,httpDeleteAsync:y}=Zn(),D=a.useContext(Mr),v=so({url:"v1/mat/demand-est-orders",bearer:s,initialFetchSize:50}),[T,I]=a.useState({expProd:null,expDate:null,expPrompting:!1}),P=a.useCallback(()=>({Pkey:zn(),prod:null,stype:null,SQty:"",SPrice:"",ChkQty:"",SOrdID:""}),[]),E=yr({gridId:"prods",keyColumn:"pkey",createRow:P}),k=a.useCallback(()=>{const H={prods:[],RetDate:new Date};t.promptCreating({data:H}),E.initGridData(H.prods,{fillRows:!0})},[t,E]),w=a.useCallback(async({data:H})=>{try{t.startCreating();const{status:re,error:q}=await g({url:"v1/mat/demand-est-orders",data:H,bearer:s});if(re.success)ae.success(""),t.finishedCreating(),t.cancelReading(),v.loadList({refresh:!0});else throw q??new Error("")}catch(re){t.failedCreating(),console.error("handleCreate.failed",re),re.code===102?ae.error("",{position:"top-right"}):ae.error("",re)}},[t,g,v,s]),A=a.useCallback(async({id:H,refresh:re=!1})=>{try{const q=re?o.current:H;re||(o.current=H,t.startReading("...",{id:H}));const{status:Y,payload:ie,error:B}=await h({url:"v1/mat/demand-est-orders",bearer:s,params:{id:q}});if(Y.success){const Z=wj.transformForReading(ie.data[0]);t.finishedReading({data:Z}),E.handleGridDataLoaded(Z.prods)}else throw B??new Error("")}catch(q){t.failedReading(q)}},[t,h,E,s]),F=a.useCallback(async(H,re)=>{H==null||H.stopPropagation(),t.cancelAction(),A({id:re.})},[t,A]),_=a.useCallback(()=>{D.confirm({message:"?",onConfirm:()=>{t.cancelAction()}})},[t,D]),L=a.useCallback(()=>{D.confirm({message:"?",onConfirm:()=>{t.cancelAction()}})},[t,D]),K=a.useCallback(()=>{D.confirm({message:"?",onConfirm:()=>{t.cancelUpdating(),A({refresh:!0})}})},[t,D,A]),z=a.useCallback(async({data:H})=>{try{t.startUpdating();const{status:re,error:q}=await x({url:"v1/mat/demand-est-orders",data:H,bearer:s});if(re.success)ae.success(""),t.finishedUpdating(),A({refresh:!0}),v.loadList({refresh:!0});else throw q??new Error("")}catch(re){t.failedUpdating(),console.error("handleCreate.failed",re),ae.error("",re)}},[t,x,v,A,s]),J=a.useCallback(()=>{D.confirm({message:`${n==null?void 0:n.CalID}?`,onConfirm:async()=>{try{t.startDeleting(n);const{status:H,error:re}=await y({url:"v1/mat/demand-est-orders",bearer:s,params:{id:n==null?void 0:n.CalID}});if(H.success)t.cancelAction(),ae.success(` ${n==null?void 0:n.CalID}`),v.loadList({refresh:!0});else throw re||""}catch(H){t.failedDeleting(H),console.error("confirmDelete.failed",H),ae.error("",H)}}})},[t,D,y,n,v,s]),Q=a.useCallback(({reset:H})=>()=>{H({employee:null})},[]),V=a.useCallback(H=>{console.log("onSearchSubmit",H),f(),v.loadList({params:wj.transformAsQueryParams(H)})},[f,v]),W=a.useCallback(H=>{console.error("onSearchSubmitError",H)},[]),U=a.useCallback(({rowData:H,rowIndex:re})=>`${(H==null?void 0:H.Pkey)||re}`,[]),X=a.useMemo(()=>{var H;return!!((H=t.itemData)!=null&&H.CalID)},[(Le=t.itemData)==null?void 0:Le.CalID]),te=a.useCallback(({rowData:H})=>!!H.ordId,[]),se=a.useCallback(({rowData:H})=>!!H.SInqFlag||!!H.stype,[]),he=a.useCallback(async({rowData:H,rowIndex:re,newValue:q})=>{var Z,ye;const{prod:Y}=H,ie=Y!=null&&Y.ProdID?wj.findProdIndex({newValue:q,rowData:H,rowIndex:re}):null,B=((Z=H.prod)==null?void 0:Z.ProdID)&&ie!==-1;return B&&ae.error(`${Y.ProdID} / ${Y.ProdData} ${ie+1} , `),H={...H,prod:B?null:H.prod,ProdData:B?"":(ye=H.prod)==null?void 0:ye.ProdData,PackData_N:B?"":(Y==null?void 0:Y.PackData_N)||"",SQty:""},H},[]),pe=a.useCallback(({fromRowIndex:H,newValue:re})=>async(q,Y)=>{var ye,Ie;const ie=H+Y,B=E.gridData[ie];console.log(` ${ie} ...`,q);let Z={...q};return((ye=q.prod)==null?void 0:ye.ProdID)!==((Ie=B.prod)==null?void 0:Ie.ProdID)&&(Z=await he({rowIndex:ie,rowData:Z,newValue:re})),Z},[E.gridData,he]),ue=a.useCallback(({getValues:H,setValue:re,gridMeta:q})=>async(Y,ie)=>{console.log("buildGridChangeHandler",ie),console.log("newValue",Y);const B=[...Y];for(const Z of ie)if(Z.type==="UPDATE"){const ye=await Promise.all(Y.slice(Z.fromRowIndex,Z.toRowIndex).map(async(Ie,le)=>await pe({fromRowIndex:Z.fromRowIndex,newValue:Y})(Ie,le)));console.log("updatedRows",ye),B.splice(Z.fromRowIndex,ye.length,...ye)}else Z.type==="DELETE"||Z.type==="CREATE"&&(console.log("dsg.CREATE"),q.toFirstColumn({nextRow:!0}));console.log("prodGrid.changed",B),E.setGridData(B)},[pe,E]),ge=a.useCallback(H=>{console.log("onEditorSubmit",H);const re=wj.transformForSubmitting(H,E.gridData);console.log("collected",re),t.creating?w({data:re}):t.updating?z({data:re}):console.error("UNKNOWN SUBMIT TYPE")},[t.creating,t.updating,w,z,E.gridData]),Ce=a.useCallback(H=>{console.error("onEditorSubmitError",H)},[]),Te=a.useMemo(()=>`${e.REPORT_URL}/WebD07Rep.aspx`,[e.REPORT_URL]),Ne=yn(),xe=a.useCallback(H=>{var q;console.log("onPrintSubmit",H);const re={...H.outputType&&{Action:H.outputType.id},DeptID:i==null?void 0:i.CurDeptID,JobName:"D07",IDs:(q=t.itemData)==null?void 0:q.CalID};console.log("data",re),Ne.open(Te,re)},[(_e=t.itemData)==null?void 0:_e.CalID,i==null?void 0:i.CurDeptID,Te,Ne]),me=a.useCallback(H=>{console.error("onPrintSubmitError",H)},[]),de=a.useCallback(({setValue:H})=>re=>{console.log("handlePrint",re),H("outputType",re)},[]),ce=a.useCallback(()=>{I(H=>({...H,expPrompting:!0}))},[]),ee=a.useCallback(()=>{I(H=>({...H,expPrompting:!1}))},[]),De=a.useCallback(H=>{console.log("onExpSubmit",H),I(re=>({...re,expProd:H.expProd,expDate:H.expDate,expPrompting:!1}))},[]),ke=a.useCallback(H=>{console.error("onExpSubmitError",H)},[]),He=a.useCallback(()=>{I({expProd:null,expDate:null,expPrompting:!1})},[]),qe=a.useMemo(()=>T.expProd!==null,[T.expProd]);return Or(),{...t,...v,...c,loadItem:A,handleSelect:F,handleReset:Q,onSearchSubmit:V,onSearchSubmitError:W,confirmQuitCreating:_,confirmQuitUpdating:L,confirmReturnReading:K,confirmDelete:J,promptCreating:k,onEditorSubmit:ge,onEditorSubmitError:Ce,...E,grid:E,createRow:P,buildGridChangeHandler:ue,getRowKey:U,prodDisabled:te,purchaseOrdersDisabled:X,spriceDisabled:se,onPrintSubmit:xe,onPrintSubmitError:me,handlePrint:de,...T,expChecking:qe,onExpDialogOpen:ce,onExpDialogClose:ee,cancelExpChecking:He,onExpSubmit:De,onExpSubmitError:ke,popperOpen:d,handlePopperToggle:p,handlePopperOpen:m,handlePopperClose:f,...u}},mu=a.createContext(),O1e=({children:e})=>{const t=QPt();return r.jsx(mu.Provider,{value:{...t},children:e})};O1e.propTypes={children:l.oneOfType([l.array,l.object])};const cG=a.memo(e=>{var s,i;const{anchor:t="right",...n}=e,o=a.useContext(cu);return r.jsxs(Eo,{anchor:t,open:o.sideDrawerOpen,onClose:o.handleSideDrawerClose,slotProps:{backdrop:{sx:[ur.BACKDROP_TRANSPARENT]}},...n,children:[r.jsx(pn,{label:"",children:(s=o.itemData)==null?void 0:s.WriteDate_N}),r.jsx(pn,{label:"",children:(i=o.itemData)==null?void 0:i.Writer_N})]})});cG.propTypes={anchor:l.string};cG.displayName="D01Drawer";const YPt=Aa({translationKeys:{button:"",unit:""}}),JPt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),uG=a.memo(e=>{const{getRowKey:t,readOnly:n,gridRef:o,data:s,onChange:i,onActiveCellChange:c,getRowClassName:u,height:d=300,createRow:p,...m}=e,f=a.useCallback(({rowData:g})=>({...g,Pkey:zn()}),[]),h=a.useCallback(({rowData:g})=>{console.log("deleteRow",g)},[]);return r.jsx(dr,{ref:o,rowKey:t,lockRows:n,height:d+(n?48:0),value:s,onChange:i,onActiveCellChange:c,addRowsComponent:YPt,disableExpandSelection:!0,contextMenuComponent:JPt,createRow:p,duplicateRow:f,rowClassName:u,deleteRow:h,...m})});uG.propTypes={getRowKey:l.func,spriceDisabled:l.func,prodDisabled:l.func,onChange:l.func,onActiveCellChange:l.func,getRowClassName:l.func,getSPriceClassName:l.func,readOnly:l.bool,height:l.number,data:l.array.isRequired,gridRef:l.func,createRow:l.func};uG.displayName="D01ProdGrid";const E1e=e=>{const{...t}=e,n=a.useContext(cu),o=a.useContext(Be),{height:s}=Wt(),i=Ke(),c=a.useContext(Lr),u=a.useMemo(()=>n.buildGridChangeHandler({getValues:i.getValues,setValue:i.setValue,gridMeta:c.gridMeta,onUpdateRow:n.onUpdateRow,onGridChanged:n.onGridChanged}),[n,i.getValues,i.setValue,c.gridMeta]),d=a.useMemo(()=>({...Pe.keyColumn("tooltip",If({arrow:!0,placement:"bottom-end"}))}),[]),p=a.useMemo(()=>s-320,[s]);return r.jsx(Kn.Provider,{value:{...n.grid,...c.gridMeta,readOnly:c.readOnly},children:r.jsx(uG,{gridRef:c.gridMeta.setGridRef,readOnly:c.readOnly,data:n.gridData,onChange:u,onActiveCellChange:c.gridMeta.handleActiveCellChange,bearer:o.token,height:p,getRowKey:n.getRowKey,createRow:n.createRow,stickyRightColumn:d})})};E1e.displayName="D01ProdGridContainer";const dG=a.memo(e=>{const{onSubmit:t,readError:n,data:o,readWorking:s,itemDataReady:i,creating:c,editing:u,updating:d,handleRstDateChanged:p,validateDate:m,slotProps:f,...h}=e;return r.jsxs("form",{onSubmit:t,children:[s&&r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",minHeight:"30em",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}),n&&r.jsx(lo,{error:n,...f==null?void 0:f.error}),i&&r.jsxs(Pt,{pt:u?1:0,children:[r.jsxs(j,{container:!0,columns:24,spacing:1,children:[!c&&r.jsx(j,{item:!0,xs:24,sm:24,md:5,children:r.jsx($e,{typo:!0,name:"OutID",label:"",fullWidth:!0,readOnly:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:6,children:r.jsx(Ar,{typo:!0,label:"",name:"employee",selectOnFocus:!0,autoFocus:!0,required:!0,rules:{required:""},virtualize:!0,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:6,children:r.jsx(et,{typo:!0,name:"OutDate",label:"",fullWidth:!0,required:!0,validate:!0,variant:"outlined",onChanged:p})}),r.jsx(j,{item:!0,xs:24,sm:24,md:6,children:r.jsx(Xo,{typo:!0,label:"",name:"pdline",required:!0,rules:{required:""},disableOpenOnInput:!0,slotProps:{paper:{sx:{width:240}}}})}),r.jsx(ve,{fullWidth:!0})]}),r.jsx(jt,{py:1,children:r.jsx(E1e,{})}),r.jsx(j,{container:!0,columns:24,children:r.jsx(j,{item:!0,xs:24,children:r.jsx($e,{typo:!0,name:"remark",multiline:!0,minRows:2,maxRows:5,label:"",fullWidth:!0})})})]})]})});dG.propTypes={readWorking:l.bool,readError:l.object,data:l.object,itemDataReady:l.bool,purchaseOrdersDisabled:l.bool,handleRstDateChanged:l.func,validateDate:l.func,slotProps:l.object};dG.displayName="D01DialogForm";const pG=a.memo(a.forwardRef((e,t)=>{const{onSave:n,onCancel:o,editWorking:s,...i}=e;return r.jsxs(a.Fragment,{ref:t,...i,children:[r.jsx(dt,{responsive:!0,onClick:o,color:"warning",variant:"outlined",...i,children:""}),r.jsx(dt,{responsive:!0,onClick:n,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:s,children:""})]})}));pG.displayName="D01DialogEditToolbar";pG.propTypes={onCancel:l.func,onSave:l.func,onLoadProds:l.func,editWorking:l.bool};const P1e=e=>{const{...t}=e,n=Ke(),o=a.useContext(cu),{canPrint:s}=o,i=n.handleSubmit(o.onPrintSubmit,o.onPrintSubmitError);return s?r.jsx(xn,{onSubmit:i,...t}):!1};P1e.displayName="D01ExportButtonContainer";const R1e=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,checkEditableWorking:o,onDelete:s,onPrint:i,onSideDrawerOpen:c,...u}=e;return r.jsxs(a.Fragment,{ref:t,...u,children:[i&&r.jsx(r.Fragment,{children:r.jsx(P1e,{})}),s&&r.jsx(dt,{responsive:!0,startIcon:r.jsx(im,{}),color:"secondary",onClick:s,children:""}),n&&r.jsx(dt,{responsive:!0,startIcon:r.jsx(bo,{}),color:"primary",onClick:n,loading:o,children:""}),r.jsx(jr,{title:"",children:r.jsx(br,{onClick:c,size:"small",children:r.jsx(Po,{})})})]})}));R1e.propTypes={onEdit:l.func,onDelete:l.func,onPrint:l.func,onSideDrawerOpen:l.func,checkEditableWorking:l.bool};const w1e=e=>{const{...t}=e,n=a.useContext(cu),o=Ke(),s=a.useContext(Lr),i=a.useMemo(()=>o.handleSubmit(n.onEditorSubmit({setValue:o.setValue,gridMeta:s.gridMeta}),n.onEditorSubmitError),[n,o,s.gridMeta]),c=a.useMemo(()=>n.canDelete,[n.canDelete]),u=o.handleSubmit(n.onPrintSubmit,n.onPrintSubmitError);return n.itemDataReady?n.editing?r.jsx(pG,{onSave:i,editWorking:n.editWorking,onCancel:n.updating?n.confirmReturnReading:n.confirmQuitCreating,...t}):r.jsx(R1e,{onEdit:n.canUpdate?n.handleCheckEditable:null,onDelete:c?n.confirmDelete:null,onPrint:n.canPrint?u:null,checkEditableWorking:n.checkEditableWorking,onSideDrawerOpen:n.handleSideDrawerOpen,...t}):!1};w1e.displayName="D01DialogToolbarContainer";const k1e=a.forwardRef((e,t)=>{const{...n}=e,{height:o}=Wt(),s=a.useMemo(()=>o-120,[o]),i=at({defaultValues:{prods:[]}}),{reset:c}=i,u=Ue({name:"pdline",control:i.control}),d=a.useContext(cu),p=Qr({height:s,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),m=a.useMemo(()=>d.creating?"":d.updating?"":"",[d.creating,d.updating]),f=a.useMemo(()=>d.creating?d.confirmQuitCreating:d.updating?d.confirmQuitUpdating:d.reading?d.cancelAction:null,[d.cancelAction,d.confirmQuitCreating,d.confirmQuitUpdating,d.creating,d.reading,d.updating]),h=a.useMemo(()=>!d.editing||!u,[d.editing,u]),g=a.useMemo(()=>[{...Pe.keyColumn("prod",or(ls,{name:"prod",withStock:!0,packageType:"b",forId:!0,slotProps:{paper:{sx:{width:360}}}})),title:"",minWidth:160,maxWidth:160,disabled:h},{...Pe.keyColumn("ProdData",kt({continuousUpdates:!1})),title:"",disabled:!0,grow:2},{...Pe.keyColumn("PackData_N",kt({continuousUpdates:!1})),minWidth:60,title:"",disabled:!0},{...Pe.keyColumn("SQtyNote",kt({continuousUpdates:!1})),title:"",minWidth:38,maxWidth:38,disabled:!0,cellClassName:"star"},{...Pe.keyColumn("SQty",Jn(2)),title:"",minWidth:90,grow:1,disabled:h},{...Pe.keyColumn("SExpDate",mf),title:"",minWidth:110,maxWidth:110,disabled:h}],[h]),x=hr({data:d.grid.gridData,columns:g,skipDisabled:!0,lastCell:Xn.CREATE_ROW}),y=a.useCallback(()=>{x.setActiveCell({row:0,col:0})},[x]),D=vt(`
		employee,
		OutDate,
		pdline
		`,{lastField:y}),v=i.handleSubmit(d.onEditorSubmit({setValue:i.setValue,gridMeta:x}),d.onEditorSubmitError);return $t(["Control+Enter"],()=>d.editing?setTimeout(v):null,{enableOnFormTags:!0}),mn(()=>{d.itemDataReady&&(console.log("d01 form reset",d.itemData),c(d.itemData))},[d.itemData,d.itemDataReady]),a.useEffect(()=>{d.committed&&(console.log("committed",d.grid.gridData),v())},[d.committed,d.grid.gridData,v]),r.jsx(Ye,{...i,children:r.jsx(Ct,{...D,gridMeta:x,readOnly:h,children:r.jsxs(Er,{ref:t,title:m,responsive:!0,fullWidth:!0,maxWidth:"md",TitleButtonsComponent:w1e,open:d.itemViewOpen,onClose:f,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[{minHeight:"30em",paddingTop:0},p.scroller],...n,children:[r.jsx(dG,{onSubmit:v,creating:d.creating,editing:d.editing,updating:d.updating,readWorking:d.readWorking,readError:d.readError,data:d.itemData,itemDataReady:d.itemDataReady}),r.jsx(cG,{})]})})})});k1e.displayName="D01DialogContainer";const mG=a.memo(e=>{const{onSubmit:t}=e;return r.jsx("form",{onSubmit:t,children:r.jsx(Pt,{pt:1,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,children:r.jsx(fn,{autoFocus:!0,label:"",name:"expProd",required:!0,virtualize:!0,typeToSearchText:",",triggerDelay:100,rules:{required:""},disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(et,{label:"",name:"expDate",validate:!0})})]})})})});mG.propTypes={onSubmit:l.func};mG.displayName="D01ExpDialogForm";const A1e=a.forwardRef((e,t)=>{const{...n}=e,o=at({defaultValues:{}}),s=a.useContext(cu),i=o.handleSubmit(s.onExpSubmit,s.onExpSubmitError),c=vt(`
		expProd,
		expDate
		`,{lastField:i});return mn(()=>{open&&o.reset({expProd:s.expProd,expDate:s.expDate})},[open,s.expProd,s.expDate]),r.jsx(Ye,{...o,children:r.jsx(Er,{ref:t,title:"",responsive:!0,fullWidth:!0,maxWidth:"xs",open:s.expPrompting,onClose:s.onExpDialogClose,onSubmit:i,confirmText:"",onCancel:s.onExpDialogClose,children:r.jsx(Ct,{...c,children:r.jsx(mG,{onSubmit:i})})})})});A1e.displayName="D01ExpDialogContainer";const GC=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:3,...t})};GC.propTypes={loading:l.bool,children:l.oneOfType([l.node])};GC.displayName="D01DateColumn";const AA=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:6,...t})};AA.propTypes={loading:l.bool,children:l.oneOfType([l.node])};AA.displayName="D01DeptColumn";const KC=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:3,...t})};KC.propTypes={loading:l.bool,children:l.oneOfType([l.node])};KC.displayName="D01IdColumn";const NA=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:3,...t})};NA.propTypes={loading:l.bool,children:l.oneOfType([l.node])};NA.displayName="D01UserColumn";l.bool,l.oneOfType([l.node]);l.bool,l.oneOfType([l.node]);l.bool,l.bool,l.oneOfType([l.node]);const FA=e=>{const{...t}=e;return r.jsx(wt,{flex:!0,justifyContent:"flex-end",pr:1,xs:2,...t})};FA.propTypes={loading:l.bool,children:l.oneOfType([l.node])};FA.displayName="D01NumColumn";const fG=a.memo(a.forwardRef((e,t)=>{const{expChecking:n,...o}=e;return r.jsxs(io,{ref:t,...o,children:[r.jsx(Hn,{}),r.jsx(KC,{children:""}),r.jsx(GC,{children:""}),r.jsx(NA,{children:""}),r.jsx(AA,{children:""}),n&&r.jsxs(r.Fragment,{children:[r.jsx(KC,{children:""}),r.jsx(FA,{children:""}),r.jsx(GC,{children:""})]})]})}));fG.propTypes={expChecking:l.bool};fG.displayName="D01ListHeader";const N1e=e=>{const{...t}=e,n=a.useContext(cu);return r.jsx(fG,{expChecking:n.expChecking,...t})};N1e.displayName="D01ListHeaderContainer";const F1e=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(cu),s=a.useMemo(()=>"",[]);return r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(Ao,{}),onClick:o.promptCreating,sx:{fontWeight:600},...n,children:s})}));F1e.displayName="D01CreateButtonContainer";const M1e=()=>{const e=a.useContext(cu);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};M1e.displayName="D01FetchResultLabelContainer";const _1e=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(cu);return r.jsxs(Qp,{variant:"contained",color:"neutral",size:"small",children:[r.jsx(hn,{ref:t,endIcon:r.jsx(zD,{}),onClick:o.onExpDialogOpen,className:"no-margin-right",sx:{fontWeight:600},...n,children:""}),o.expChecking&&r.jsx(fa,{className:"no-margin-right",color:"warning",onClick:o.cancelExpChecking,children:r.jsx(Cf,{fontSize:"small"})})]})}));_1e.displayName="D01ExpCheckingButtonContainer";const L1e=a.memo(()=>r.jsxs(r.Fragment,{children:[r.jsx(F1e,{}),r.jsx(_1e,{})]}));L1e.displayName="LeftButtons";const hG=a.memo(a.forwardRef(({loading:e,...t},n)=>r.jsx(kn,{pl:0,alignItems:"flex-end",ref:n,LeftComponent:e?Cr:L1e,RightComponent:M1e,...t})));hG.displayName="D01ListViewToolbar";hG.propTypes={loading:l.bool};const gG=a.memo(e=>{const{index:t,style:n,value:o,onClick:s,expChecking:i}=e,c=a.useMemo(()=>`${o==null?void 0:o.} ${o==null?void 0:o.}`,[o==null?void 0:o.,o==null?void 0:o.]);return r.jsx("div",{style:n,children:r.jsxs(yo,{borderBottom:!0,onClick:s,children:[r.jsx(na,{}),r.jsx(jt,{children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t}),r.jsx(KC,{children:o==null?void 0:o.}),r.jsx(GC,{children:o==null?void 0:o.}),r.jsx(NA,{children:o==null?void 0:o.}),r.jsx(AA,{children:c}),i&&r.jsxs(r.Fragment,{children:[r.jsx(KC,{children:o==null?void 0:o.}),r.jsx(FA,{children:o==null?void 0:o.}),r.jsx(GC,{children:o==null?void 0:o.})]})]})})]})})});gG.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,expChecking:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func,promptCopyAuth:l.func};gG.displayName="D01ListRow";const bG=e=>{const t=a.useContext(cu),{isItemLoading:n}=t,{index:o,...s}=e,i=a.useMemo(()=>n(o),[o,n]),c=a.useMemo(()=>t.listData[o],[t.listData,o]);return r.jsx(No,{loading:i,children:r.jsx(gG,{index:o,value:c,onClick:u=>t.handleSelect(u,c),expChecking:t.expChecking,...s})})};bG.propTypes={index:l.number,data:l.object};bG.displayName="D01ListRowContainer";const $1e=()=>{const e=a.useContext(cu),{loadList:t}=e,n=Ke(),{height:o}=Wt(),s=Ue({name:"lvOrder",control:n.control}),i=Yn(s,300),c=Ue({name:"lvEmployee",control:n.control}),u=Yn(c,300),d=Ue({name:"lvDate",control:n.control}),p=Yn(d,300),m=Ue({name:"lvPdline",control:n.control}),f=Yn(m,300);En(()=>{e.loadList({params:{}})},[]),mn(()=>{var g;t({params:{...i&&{q:i==null?void 0:i.},...Vy.transformAsQueryParams({...u&&{employee:u},...p&&{pdate:p},...f&&{pdline:f}}),...e.expProd&&{prdi:(g=e.expProd)==null?void 0:g.ProdID},...e.expDate&&{expd:Re.formatDate(e.expDate)}},supressLoading:!0})},[i,p,u,f,e.expProd,e.expDate]);const h=a.useMemo(()=>o?o-200:300,[o]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:bG,height:h,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};$1e.displayName="D01ListViewContainer";const XPt=e=>{if(!e)return"";const{:t}=e;return t?`${t}`:"(?)"},ZPt=(e,t)=>e.===t.,eRt=e=>e.,DL={getOptionLabel:XPt,isOptionEqualToValue:ZPt,renderOptionLabel:eRt},xG=a.memo(e=>{const{label:t="",...n}=e,{token:o}=a.useContext(Be),s=a.useMemo(()=>{const i={tp:1e4,opts:1};return Hr.stringify(i)},[]);return r.jsx(bt,{label:t,url:"v1/mat/picking-orders",bearer:o,queryParam:"qs",querystring:s,getOptionLabel:DL.getOptionLabel,isOptionEqualToValue:DL.isOptionEqualToValue,renderOptionLabel:DL.renderOptionLabel,notFoundText:" ${input} ",placeholder:"",typeToSearchText:"...",inputParam:"fz",...n})});xG.propTypes={label:l.string};xG.displayName="PickingOrderPicker";const yG=a.memo(e=>{const{...t}=e;return r.jsx(Pt,{children:r.jsxs(Vt,{container:!0,spacing:1,columns:24,...t,children:[r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(xG,{label:"",name:"lvOrder",autoFocus:!0,placeholder:"",disableOpenOnInput:!0})}),r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(Ar,{name:"lvEmployee",label:"",disableOpenOnInput:!0})}),r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(et,{name:"lvDate",label:"()",validate:!0,clearable:!0})}),r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(Xo,{name:"lvPdline",label:"",disableOpenOnInput:!0})})]})})});yG.propTypes={};yG.displayName="D01SearchForm";const B1e=e=>{const{...t}=e,n=vt(`
		lvOrder,
		lvEmployee,
		lvDate,
		lvPdline,
		`);return r.jsx(Ct,{...n,children:r.jsx(yG,{...t})})};B1e.displayName="D01SearchFormContainer";const W1e=()=>{const e=at({defaultValues:{}});return r.jsxs(Ft,{children:[r.jsxs(Ye,{...e,children:[r.jsx(_t,{}),r.jsxs(li,{initSize:"md",children:[r.jsx(B1e,{}),r.jsx(hG,{}),r.jsx(N1e,{}),r.jsx($1e,{})]})]}),r.jsx(k1e,{}),r.jsx(A1e,{})]})};W1e.displayName="D01FrameContainer";const tRt=Aa({translationKeys:{button:"",unit:""}}),nRt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),CG=a.memo(e=>{const{createRow:t,getRowKey:n,readOnly:o,gridRef:s,data:i,onChange:c,onActiveCellChange:u,getRowClassName:d,height:p=300}=e,m=a.useCallback(({rowData:h})=>({...h,Pkey:zn()}),[]),f=a.useCallback(({rowData:h})=>{console.log("deleteRow",h)},[]);return r.jsx(dr,{ref:s,rowKey:n,lockRows:o,height:p+(o?48:0),value:i,onChange:c,onActiveCellChange:u,addRowsComponent:tRt,disableExpandSelection:!0,contextMenuComponent:nRt,createRow:t,duplicateRow:m,rowClassName:d,deleteRow:f})});CG.propTypes={getRowKey:l.func,spriceDisabled:l.func,prodDisabled:l.func,createRow:l.func,onChange:l.func,onActiveCellChange:l.func,getRowClassName:l.func,getSPriceClassName:l.func,readOnly:l.bool,height:l.number,data:l.array.isRequired,gridRef:l.func};CG.displayName="D02ProdGrid";const U1e=e=>{const{...t}=e,n=a.useContext(uu),o=a.useContext(Be),{height:s}=Wt(),i=a.useContext(Lr),c=a.useMemo(()=>n.buildGridChangeHandler({gridMeta:i.gridMeta}),[n,i.gridMeta]),u=a.useMemo(()=>s-318,[s]);return r.jsx(Kn.Provider,{value:{...n.grid,...i.gridMeta,readOnly:i.readOnly},children:r.jsx(CG,{gridRef:i.gridMeta.setGridRef,readOnly:i.readOnly,data:n.gridData,onChange:c,onActiveCellChange:i.gridMeta.handleActiveCellChange,bearer:o.token,height:u,getRowKey:n.getRowKey,createRow:n.createRow,...t})})};U1e.displayName="D02ProdGridContainer";const DG=a.memo(e=>{const{onSubmit:t,readError:n,data:o,readWorking:s,itemDataReady:i,creating:c,editing:u,updating:d,handleRstDateChanged:p,slotProps:m,...f}=e;return r.jsxs("form",{onSubmit:t,children:[s&&r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",minHeight:"30em",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}),n&&r.jsx(lo,{error:n,...m==null?void 0:m.error}),i&&r.jsxs(Pt,{pt:u?1:0,children:[r.jsxs(j,{container:!0,columns:24,spacing:1,children:[!c&&r.jsx(j,{item:!0,xs:24,sm:24,md:5,children:r.jsx($e,{typo:!0,name:"RetID",label:"",autoFocus:!0,fullWidth:!0,readOnly:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:6,children:r.jsx(Ar,{typo:!0,label:"",name:"employee",autoFocus:!0,required:!0,rules:{required:""},virtualize:!0,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:6,children:r.jsx(et,{typo:!0,name:"RetDate",label:"",fullWidth:!0,required:!0,validate:!0,variant:"outlined",onChanged:p})}),r.jsx(j,{item:!0,xs:24,sm:24,md:6,children:r.jsx(Xo,{typo:!0,label:"",name:"pdline",required:!0,rules:{required:""},disableOpenOnInput:!0,virtualize:!0})}),r.jsx(ve,{fullWidth:!0})]}),r.jsx(jt,{py:1,children:r.jsx(U1e,{})}),r.jsx(j,{container:!0,columns:24,children:r.jsx(j,{item:!0,xs:24,children:r.jsx($e,{typo:!0,name:"remark",multiline:!0,minRows:2,maxRows:5,label:"",fullWidth:!0})})})]})]})});DG.propTypes={readWorking:l.bool,readError:l.object,data:l.object,itemDataReady:l.bool,purchaseOrdersDisabled:l.bool,handleRstDateChanged:l.func,slotProps:l.object};DG.displayName="D02DialogForm";const SG=a.memo(a.forwardRef((e,t)=>{const{onSave:n,onCancel:o,editWorking:s,...i}=e;return r.jsxs(a.Fragment,{ref:t,...i,children:[r.jsx(dt,{responsive:!0,onClick:o,color:"warning",variant:"outlined",...i,children:""}),r.jsx(dt,{responsive:!0,onClick:n,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:s,children:""})]})}));SG.displayName="D02DialogEditToolbar";SG.propTypes={onCancel:l.func,onSave:l.func,onLoadProds:l.func,editWorking:l.bool};var oj={},Kle;function rRt(){if(Kle)return oj;Kle=1;var e=Qn();Object.defineProperty(oj,"__esModule",{value:!0}),oj.default=void 0;var t=e(sr()),n=rr();return oj.default=(0,t.default)((0,n.jsx)("path",{d:"M16 9v10H8V9zm-1.5-6h-5l-1 1H5v2h14V4h-3.5zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2z"}),"DeleteOutlined"),oj}var oRt=rRt();const MA=qn(oRt),q1e=e=>{const{...t}=e,n=Ke(),o=a.useContext(uu),{canPrint:s}=o,i=n.handleSubmit(o.onPrintSubmit,o.onPrintSubmitError);return s?r.jsx(xn,{onSubmit:i,...t}):!1};q1e.displayName="D02ExportButtonContainer";const V1e=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,checkEditableWorking:o,onDelete:s,onPrint:i,onSideDrawerOpen:c,...u}=e;return r.jsxs(a.Fragment,{ref:t,...u,children:[i&&r.jsx(r.Fragment,{children:r.jsx(q1e,{})}),s&&r.jsx(dt,{responsive:!0,startIcon:r.jsx(MA,{}),color:"secondary",onClick:s,children:""}),n&&r.jsx(dt,{responsive:!0,startIcon:r.jsx(bo,{}),color:"primary",onClick:n,loading:o,children:""}),r.jsx(jr,{title:"",children:r.jsx(br,{onClick:c,size:"small",children:r.jsx(Po,{})})})]})}));V1e.propTypes={onEdit:l.func,onDelete:l.func,onPrint:l.func,onSideDrawerOpen:l.func,checkEditableWorking:l.bool};const z1e=e=>{const{...t}=e,n=a.useContext(uu),o=Ke(),s=a.useMemo(()=>n.canDelete,[n.canDelete]),i=o.handleSubmit(n.onPrintSubmit,n.onPrintSubmitError);return n.itemDataReady?n.editing?r.jsx(SG,{onSave:o.handleSubmit(n.onEditorSubmit,n.onEditorSubmitError),editWorking:n.editWorking,onCancel:n.updating?n.confirmReturnReading:n.confirmQuitCreating,...t}):r.jsx(V1e,{onEdit:n.canUpdate?n.handleCheckEditableWithCheck:null,onDelete:s?n.confirmDeleteWithCheck:null,onPrint:n.canPrint?i:null,checkEditableWorking:n.checkEditableWorking,onSideDrawerOpen:n.handleSideDrawerOpen,...t}):!1};z1e.displayName="D02DialogToolbarContainer";const vG=a.memo(e=>{var s,i;const{anchor:t="right",...n}=e,o=a.useContext(uu);return r.jsxs(Eo,{anchor:t,open:o.sideDrawerOpen,onClose:o.handleSideDrawerClose,slotProps:{backdrop:{sx:[ur.BACKDROP_TRANSPARENT]}},...n,children:[r.jsx(pn,{label:"",children:(s=o.itemData)==null?void 0:s.WriteDate_N}),r.jsx(pn,{label:"",children:(i=o.itemData)==null?void 0:i.Writer_N})]})});vG.propTypes={anchor:l.string};vG.displayName="D02Drawer";const H1e=a.forwardRef((e,t)=>{const{...n}=e,{height:o}=Wt(),s=a.useMemo(()=>o-120,[o]),i=at({defaultValues:{prods:[]}}),{reset:c}=i,u=Ue({name:"pdline",control:i.control}),d=a.useContext(uu),p=Qr({height:s,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),m=a.useMemo(()=>d.creating?"":d.updating?"":"",[d.creating,d.updating]),f=a.useMemo(()=>d.creating?d.confirmQuitCreating:d.updating?d.confirmQuitUpdating:d.reading?d.cancelAction:null,[d.cancelAction,d.confirmQuitCreating,d.confirmQuitUpdating,d.creating,d.reading,d.updating]),h=a.useMemo(()=>!d.editing||!u,[d.editing,u]),g=a.useMemo(()=>[{...Pe.keyColumn("prod",or(ls,{name:"prod",withStock:!0,packageType:"b",forId:!0,disableClearable:!0,slotProps:{paper:{sx:{width:360}}}})),title:"",minWidth:160,maxWidth:160,disabled:h},{...Pe.keyColumn("ProdData",kt({continuousUpdates:!1})),title:"",disabled:!0,grow:2},{...Pe.keyColumn("PackData_N",kt({continuousUpdates:!1})),minWidth:60,title:"",disabled:!0},{...Pe.keyColumn("SQty",Jn(2)),title:"",minWidth:90,grow:1,disabled:h}],[h]),x=hr({data:d.grid.gridData,columns:g,skipDisabled:!0,lastCell:Xn.CREATE_ROW}),y=a.useCallback(()=>{x.setActiveCell({row:0,col:0})},[x]),D=vt(`
		employee,
		RetDate,
		pdline
		`,{lastField:y}),v=a.useCallback(()=>{d.editing&&i.handleSubmit(d.onEditorSubmit,d.onEditorSubmitError)()},[d.editing,d.onEditorSubmit,d.onEditorSubmitError,i]);return $t(["Control+Enter"],()=>setTimeout(v),{enableOnFormTags:!0}),mn(()=>{d.itemDataReady&&(console.log("d02 form reset",d.itemData),c(d.itemData))},[d.itemData,d.itemDataReady]),r.jsx(Ye,{...i,children:r.jsxs(Er,{ref:t,title:m,responsive:!0,fullWidth:!0,maxWidth:"md",TitleButtonsComponent:z1e,open:d.itemViewOpen,onClose:f,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[{minHeight:"30em",paddingTop:0},p.scroller],...n,children:[r.jsx(Ct,{...D,gridMeta:x,readOnly:h,children:r.jsx(DG,{onSubmit:v,creating:d.creating,editing:d.editing,updating:d.updating,readWorking:d.readWorking,readError:d.readError,data:d.itemData,itemDataReady:d.itemDataReady})}),r.jsx(vG,{})]})})});H1e.displayName="D02DialogContainer";const jG=a.memo(e=>{const{onSubmit:t}=e;return r.jsx("form",{onSubmit:t,children:r.jsx(Pt,{pt:1,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,children:r.jsx(fn,{autoFocus:!0,label:"",name:"expProd",required:!0,filterByServer:!0,queryRequired:!0,typeToSearchText:",",triggerDelay:100,rules:{required:""}})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(et,{label:"",name:"expDate",validate:!0})})]})})})});jG.propTypes={onSubmit:l.func};jG.displayName="D02ExpDialogForm";const G1e=a.forwardRef((e,t)=>{const{...n}=e,o=at({defaultValues:{}}),s=a.useContext(uu),i=o.handleSubmit(s.onExpSubmit,s.onExpSubmitError);return mn(()=>{open&&o.reset({expProd:s.expProd,expDate:s.expDate})},[open,s.expProd,s.expDate]),r.jsx(Ye,{...o,children:r.jsx(Er,{ref:t,title:"",responsive:!0,fullWidth:!0,maxWidth:"xs",open:s.expPrompting,onClose:s.onExpDialogClose,onSubmit:i,confirmText:"",onCancel:s.onExpDialogClose,children:r.jsx(jG,{onSubmit:i})})})});G1e.displayName="D02ExpDialogContainer";const QC=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:3,...t})};QC.propTypes={loading:l.bool,children:l.oneOfType([l.node])};QC.displayName="D02DateColumn";const _A=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:6,...t})};_A.propTypes={loading:l.bool,children:l.oneOfType([l.node])};_A.displayName="D02DeptColumn";const YC=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:3,...t})};YC.propTypes={loading:l.bool,children:l.oneOfType([l.node])};YC.displayName="D02IdColumn";const LA=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:3,...t})};LA.propTypes={loading:l.bool,children:l.oneOfType([l.node])};LA.displayName="D02UserColumn";l.bool,l.oneOfType([l.node]);l.bool,l.oneOfType([l.node]);l.bool,l.bool,l.oneOfType([l.node]);const $A=e=>{const{...t}=e;return r.jsx(wt,{flex:!0,justifyContent:"flex-end",pr:1,xs:2,...t})};$A.propTypes={loading:l.bool,children:l.oneOfType([l.node])};$A.displayName="D02NumColumn";const IG=a.memo(a.forwardRef((e,t)=>{const{expChecking:n,...o}=e;return r.jsxs(io,{ref:t,...o,children:[r.jsx(Hn,{}),r.jsx(YC,{children:""}),r.jsx(QC,{children:""}),r.jsx(LA,{children:""}),r.jsx(_A,{children:""}),n&&r.jsxs(r.Fragment,{children:[r.jsx(YC,{children:""}),r.jsx($A,{children:""}),r.jsx(QC,{children:""})]})]})}));IG.propTypes={expChecking:l.bool};IG.displayName="D02ListHeader";const K1e=e=>{const{...t}=e,n=a.useContext(uu);return r.jsx(IG,{expChecking:n.expChecking,...t})};K1e.displayName="D02ListHeaderContainer";const Q1e=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(uu),s=a.useMemo(()=>"",[]);return r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(Ao,{}),onClick:o.promptCreatingWithCheck,sx:{fontWeight:600},...n,children:s})}));Q1e.displayName="D02CreateButtonContainer";const Y1e=()=>{const e=a.useContext(uu);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};Y1e.displayName="D02FetchResultLabelContainer";const sRt=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(uu);return r.jsxs(Qp,{variant:"contained",color:"neutral",size:"small",children:[r.jsx(hn,{ref:t,endIcon:r.jsx(zD,{}),onClick:o.onExpDialogOpen,className:"no-margin-right",sx:{fontWeight:600},...n,children:""}),o.expChecking&&r.jsx(fa,{className:"no-margin-right",color:"warning",onClick:o.cancelExpChecking,children:r.jsx(Cf,{fontSize:"small"})})]})}));sRt.displayName="D02ExpCheckingButtonContainer";const J1e=a.memo(()=>r.jsx(r.Fragment,{children:r.jsx(Q1e,{})}));J1e.displayName="LeftButtons";const TG=a.memo(a.forwardRef(({loading:e,...t},n)=>r.jsx(kn,{pl:0,alignItems:"flex-end",ref:n,LeftComponent:e?Cr:J1e,RightComponent:Y1e,...t})));TG.displayName="D02ListViewToolbar";TG.propTypes={loading:l.bool};const OG=a.memo(e=>{const{index:t,style:n,value:o,onClick:s,expChecking:i}=e,c=a.useMemo(()=>`${o==null?void 0:o.} ${o==null?void 0:o.}`,[o==null?void 0:o.,o==null?void 0:o.]);return r.jsx("div",{style:n,children:r.jsxs(yo,{borderBottom:!0,onClick:s,children:[r.jsx(na,{}),r.jsx(jt,{children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t}),r.jsx(YC,{children:o==null?void 0:o.}),r.jsx(QC,{children:o==null?void 0:o.}),r.jsx(LA,{children:o==null?void 0:o.}),r.jsx(_A,{children:c}),i&&r.jsxs(r.Fragment,{children:[r.jsx(YC,{children:o==null?void 0:o.}),r.jsx($A,{children:o==null?void 0:o.}),r.jsx(QC,{children:o==null?void 0:o.})]})]})})]})})});OG.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,expChecking:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func,promptCopyAuth:l.func};OG.displayName="D02ListRow";const EG=e=>{const t=a.useContext(uu),{isItemLoading:n}=t,{index:o,...s}=e,i=a.useMemo(()=>n(o),[o,n]),c=a.useMemo(()=>t.listData[o],[t.listData,o]);return r.jsx(No,{loading:i,children:r.jsx(OG,{index:o,value:c,onClick:u=>t.handleSelect(u,c),expChecking:t.expChecking,...s})})};EG.propTypes={index:l.number,data:l.object};EG.displayName="D02ListRowContainer";const X1e=()=>{const e=a.useContext(uu),{loadList:t}=e,n=Ke(),{height:o}=Wt(),s=Ue({name:"lvOrder",control:n.control}),i=Yn(s,300),c=Ue({name:"lvEmployee",control:n.control}),u=Yn(c,300),d=Ue({name:"lvDate",control:n.control}),p=Yn(d,300),m=Ue({name:"lvPdline",control:n.control}),f=Yn(m,300);En(()=>{e.loadList({params:{}})},[]),mn(()=>{t({params:{...i&&{q:i==null?void 0:i.},...Pj.transformAsQueryParams({...u&&{employee:u},...p&&{rdate:p},...f&&{pdline:f}})},supressLoading:!0})},[i,p,u,f]);const h=a.useMemo(()=>o?o-200:300,[o]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:EG,height:h,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};X1e.displayName="D02ListViewContainer";const aRt=e=>{if(!e)return"";const{:t}=e;return t?`${t}`:"(?)"},iRt=(e,t)=>e.===t.,lRt=e=>e.,SL={getOptionLabel:aRt,isOptionEqualToValue:iRt,renderOptionLabel:lRt},PG=a.memo(e=>{const{label:t="",...n}=e,{token:o}=a.useContext(Be),s=a.useMemo(()=>{const i={tp:1e4,opts:1};return Hr.stringify(i)},[]);return r.jsx(bt,{label:t,url:"v1/mat/returning-orders",bearer:o,queryParam:"qs",querystring:s,getOptionLabel:SL.getOptionLabel,isOptionEqualToValue:SL.isOptionEqualToValue,renderOptionLabel:SL.renderOptionLabel,notFoundText:" ${input} ",placeholder:"",typeToSearchText:"...",inputParam:"fz",...n})});PG.propTypes={label:l.string};PG.displayName="MatReturnOrderPicker";const RG=a.memo(e=>{const{...t}=e;return r.jsx(Pt,{children:r.jsxs(Vt,{container:!0,spacing:1,columns:24,...t,children:[r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(PG,{label:"",name:"lvOrder",autoFocus:!0,placeholder:"",disableOpenOnInput:!0})}),r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(Ar,{name:"lvEmployee",label:"",disableOpenOnInput:!0})}),r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(et,{name:"lvDate",label:"()",clearable:!0,validate:!0})}),r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(Xo,{name:"lvPdline",label:"",disableOpenOnInput:!0})})]})})});RG.propTypes={};RG.displayName="D02SearchForm";const Z1e=e=>{const{...t}=e,n=vt(`
		lvOrder,
		lvEmployee,
		lvDate,
		lvPdline,
		`);return r.jsx(Ct,{...n,children:r.jsx(RG,{...t})})};Z1e.displayName="D02SearchFormContainer";const eIe=()=>{const e=at({defaultValues:{}});return r.jsxs(Ft,{children:[r.jsxs(Ye,{...e,children:[r.jsx(_t,{}),r.jsxs(li,{children:[r.jsx(Z1e,{}),r.jsx(TG,{}),r.jsx(K1e,{}),r.jsx(X1e,{})]})]}),r.jsx(H1e,{}),r.jsx(G1e,{})]})};eIe.displayName="D02FrameContainer";const wG=a.memo(e=>{var s,i;const{anchor:t="right",...n}=e,o=a.useContext(du);return r.jsxs(Eo,{anchor:t,open:o.sideDrawerOpen,onClose:o.handleSideDrawerClose,slotProps:{backdrop:{sx:[ur.BACKDROP_TRANSPARENT]}},...n,children:[r.jsx(pn,{label:"",children:(s=o.itemData)==null?void 0:s.WriteDate_N}),r.jsx(pn,{label:"",children:(i=o.itemData)==null?void 0:i.Writer_N})]})});wG.propTypes={anchor:l.string};wG.displayName="D041Drawer";const cRt=Aa({translationKeys:{button:"",unit:""}}),uRt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),kG=a.memo(e=>{const{createRow:t,getRowKey:n,readOnly:o,gridRef:s,data:i,onChange:c,onActiveCellChange:u,getRowClassName:d,height:p=300}=e,m=a.useCallback(({rowData:h})=>({...h,Pkey:zn()}),[]),f=a.useCallback(({rowData:h})=>{console.log("deleteRow",h)},[]);return r.jsx(dr,{ref:s,rowKey:n,lockRows:o,height:p+(o?48:0),value:i,onChange:c,onActiveCellChange:u,addRowsComponent:cRt,disableExpandSelection:!0,contextMenuComponent:uRt,createRow:t,duplicateRow:m,rowClassName:d,deleteRow:f})});kG.propTypes={getRowKey:l.func,spriceDisabled:l.func,prodDisabled:l.func,onChange:l.func,onActiveCellChange:l.func,createRow:l.func,getRowClassName:l.func,getSPriceClassName:l.func,readOnly:l.bool,height:l.number,data:l.array.isRequired,gridRef:l.func,dtypeDisabled:l.func,stypeDisabled:l.func,reworkedDisabled:l.func};kG.displayName="D041ProdGrid";const tIe=e=>{const{...t}=e,n=a.useContext(du),o=a.useContext(Be),{height:s}=Wt(),i=Ke(),c=a.useContext(Lr),u=a.useMemo(()=>n.buildGridChangeHandler({getValues:i.getValues,setValue:i.setValue,gridMeta:c.gridMeta}),[n,i.getValues,i.setValue,c.gridMeta]),d=a.useMemo(()=>n.editing?s-318:s-316,[n.editing,s]);return r.jsx(Kn.Provider,{value:{...n.grid,...c.gridMeta,readOnly:c.readOnly},children:r.jsx(kG,{gridRef:c.gridMeta.setGridRef,readOnly:c.readOnly,data:n.gridData,onChange:u,onActiveCellChange:c.gridMeta.handleActiveCellChange,bearer:o.token,height:d,getRowKey:n.getRowKey,dtypeDisabled:n.dtypeDisabled,stypeDisabled:n.stypeDisabled,reworkedDisabled:n.reworkedDisabled,createRow:n.createRow,...t})})};tIe.displayName="D041ProdGridContainer";const AG=a.memo(e=>{const{onSubmit:t,readError:n,data:o,readWorking:s,itemDataReady:i,creating:c,editing:u,updating:d,handleRstDateChanged:p,slotProps:m,...f}=e;return r.jsxs("form",{onSubmit:t,children:[s&&r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",minHeight:"30em",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}),n&&r.jsx(lo,{error:n,...m==null?void 0:m.error}),i&&r.jsxs(Pt,{pt:u?1:0,children:[r.jsxs(j,{container:!0,columns:24,spacing:1,children:[!c&&r.jsx(j,{item:!0,xs:24,sm:24,md:5,children:r.jsx($e,{typo:!0,name:"EntID",label:"",autoFocus:!0,fullWidth:!0,readOnly:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:4,children:r.jsx(Ar,{typo:!0,label:"",name:"employee",autoFocus:!0,required:!0,rules:{required:""},virtualize:!0,disableOpenOnInput:!0,slotProps:{paper:{sx:{width:240}}}})}),r.jsx(j,{item:!0,xs:24,sm:24,md:5,children:r.jsx(et,{typo:!0,name:"EntDate",label:"",fullWidth:!0,required:!0,validate:!0,variant:"outlined",onChanged:p})}),r.jsx(j,{item:!0,xs:24,sm:24,md:5,children:r.jsx(Xo,{typo:!0,label:"",name:"pdline",required:!0,rules:{required:""},disableOpenOnInput:!0,slotProps:{paper:{sx:{width:240}}}})}),r.jsx(ve,{fullWidth:!0})]}),r.jsx(jt,{py:1,children:r.jsx(tIe,{})}),r.jsx(j,{container:!0,columns:24,children:r.jsx(j,{item:!0,xs:24,children:r.jsx($e,{typo:!0,name:"remark",multiline:!0,minRows:2,maxRows:5,label:"",fullWidth:!0})})})]})]})});AG.propTypes={readWorking:l.bool,readError:l.object,data:l.object,itemDataReady:l.bool,purchaseOrdersDisabled:l.bool,handleRstDateChanged:l.func,slotProps:l.object};AG.displayName="D041DialogForm";const NG=a.memo(a.forwardRef((e,t)=>{const{onSave:n,onCancel:o,editWorking:s,...i}=e;return r.jsxs(a.Fragment,{ref:t,...i,children:[r.jsx(dt,{responsive:!0,onClick:o,color:"warning",variant:"outlined",...i,children:""}),r.jsx(dt,{responsive:!0,onClick:n,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:s,children:""})]})}));NG.displayName="D041DialogEditToolbar";NG.propTypes={onCancel:l.func,onSave:l.func,onLoadProds:l.func,editWorking:l.bool};const nIe=e=>{const{...t}=e,n=Ke(),o=a.useContext(du),{canPrint:s}=o,i=n.handleSubmit(o.onPrintSubmit,o.onPrintSubmitError);return s?r.jsx(xn,{onSubmit:i,...t}):!1};nIe.displayName="D041ExportButtonContainer";const rIe=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,onDelete:o,onPrint:s,onSideDrawerOpen:i,checkEditableWorking:c,...u}=e;return r.jsxs(a.Fragment,{ref:t,...u,children:[s&&r.jsx(r.Fragment,{children:r.jsx(nIe,{})}),o&&r.jsx(dt,{responsive:!0,startIcon:r.jsx(MA,{}),color:"secondary",onClick:o,children:""}),n&&r.jsx(dt,{responsive:!0,startIcon:r.jsx(bo,{}),color:"primary",onClick:n,loading:c,children:""}),r.jsx(jr,{title:"",children:r.jsx(br,{onClick:i,size:"small",children:r.jsx(Po,{})})})]})}));rIe.propTypes={onEdit:l.func,onDelete:l.func,onPrint:l.func,onSideDrawerOpen:l.func,checkEditableWorking:l.bool};const oIe=e=>{const{...t}=e,n=a.useContext(du),o=Ke(),s=a.useMemo(()=>n.canDelete,[n.canDelete]),i=o.handleSubmit(n.onPrintSubmit,n.onPrintSubmitError);return n.itemDataReady?n.editing?r.jsx(NG,{onSave:o.handleSubmit(n.onEditorSubmit,n.onEditorSubmitError),editWorking:n.editWorking,onCancel:n.updating?n.confirmReturnReading:n.confirmQuitCreating,...t}):r.jsx(rIe,{onEdit:n.canUpdate?n.handleCheckEditable:null,onDelete:s?n.confirmDelete:null,onPrint:n.canPrint?i:null,checkEditableWorking:n.checkEditableWorking,onSideDrawerOpen:n.handleSideDrawerOpen,...t}):!1};oIe.displayName="D041DialogToolbarContainer";const sIe=a.forwardRef((e,t)=>{const{...n}=e,{height:o}=Wt(),s=a.useMemo(()=>o-120,[o]),i=at({defaultValues:{prods:[]}}),{reset:c}=i,u=Ue({name:"employee",control:i.control}),d=Ue({name:"EntDate",control:i.control}),p=Ue({name:"pdline",control:i.control}),m=a.useContext(du),f=Qr({height:s,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),h=a.useMemo(()=>m.creating?"":m.updating?"":"",[m.creating,m.updating]),g=a.useMemo(()=>m.creating?m.confirmQuitCreating:m.updating?m.confirmQuitUpdating:m.reading?m.cancelAction:null,[m.cancelAction,m.confirmQuitCreating,m.confirmQuitUpdating,m.creating,m.reading,m.updating]),x=a.useCallback(()=>{m.editing&&i.handleSubmit(m.onEditorSubmit,m.onEditorSubmitError)()},[m.editing,m.onEditorSubmit,m.onEditorSubmitError,i]);$t(["Control+Enter"],()=>setTimeout(x),{enableOnFormTags:!0});const y=a.useMemo(()=>!m.editing||!u||!p||!d,[m.editing,u,d,p]),D=a.useMemo(()=>[{...Pe.keyColumn("prod",or(ls,{name:"prod",withStock:!0,packageType:"b",forId:!0,disableClearable:!0,slotProps:{paper:{sx:{width:360}}}})),title:"",minWidth:160,maxWidth:160,disabled:y},{...Pe.keyColumn("ProdData",kt({continuousUpdates:!1})),title:"",disabled:!0,grow:2},{...Pe.keyColumn("PackData_N",kt({continuousUpdates:!1})),minWidth:60,title:"",disabled:!0},{...Pe.keyColumn("SQty",Jn(2)),title:"",minWidth:90,grow:1,disabled:y},{...Pe.keyColumn("SExpDate",mf),title:"",minWidth:110,maxWidth:110,disabled:y},{...Pe.keyColumn("dtype",or(Xb,{name:"dtype",disableOpenOnInput:!0,disableClearable:!0,selectOnFocus:!0,autoHighlight:!0,slotProps:{paper:{sx:{width:260}}}})),title:"",minWidth:130,maxWidth:160,disabled:y||m.dtypeDisabled},{...Pe.keyColumn("reworked",Wi({size:"medium",focusNextCell:!1})),title:"",minWidth:38,maxWidth:38,disabled:y||m.reworkedDisabled},{...Pe.keyColumn("stype",or(ad,{name:"stype",disableClearable:!0,disableOpenOnInput:!0,autoHighlight:!0,selectOnFocus:!0})),title:"",minWidth:70,maxWidth:70,disabled:y||m.stypeDisabled},{...Pe.keyColumn("SRemark",kt({continuousUpdates:!1})),title:"",grow:3,disabled:y}],[m.dtypeDisabled,m.reworkedDisabled,m.stypeDisabled,y]),v=hr({data:m.grid.gridData,grid:m.grid,columns:D,skipDisabled:!0,lastCell:Xn.CREATE_ROW}),T=a.useCallback(()=>{v.setActiveCell({row:0,col:0})},[v]),I=vt(`
		employee,
		EntDate,
		pdline
		`,{lastField:T});return mn(()=>{m.itemDataReady&&(console.log("d041 form reset",m.itemData),c(m.itemData))},[m.itemData,m.itemDataReady]),r.jsx(Ye,{...i,children:r.jsxs(Er,{ref:t,title:h,responsive:!0,fullWidth:!0,maxWidth:"lg",TitleButtonsComponent:oIe,open:m.itemViewOpen,onClose:g,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[{minHeight:"30em",paddingTop:0},f.scroller],...n,children:[r.jsx(Ct,{...I,gridMeta:v,readOnly:y,children:r.jsx(AG,{onSubmit:x,creating:m.creating,editing:m.editing,updating:m.updating,readWorking:m.readWorking,readError:m.readError,data:m.itemData,itemDataReady:m.itemDataReady})}),r.jsx(wG,{})]})})});sIe.displayName="D041DialogContainer";const FG=a.memo(e=>{const{onSubmit:t}=e;return r.jsx("form",{onSubmit:t,children:r.jsx(Pt,{pt:1,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,children:r.jsx(fn,{name:"expProd",label:"",autoFocus:!0,required:!0,virtualize:!0,typeToSearchText:",",triggerDelay:100,rules:{required:""},disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(et,{label:"",name:"expDate",validate:!0})})]})})})});FG.propTypes={onSubmit:l.func};FG.displayName="D041ExpDialogForm";const aIe=a.forwardRef((e,t)=>{const{...n}=e,o=at({defaultValues:{}}),s=a.useContext(du),i=a.useMemo(()=>o.handleSubmit(s.onExpSubmit,s.onExpSubmitError),[s.onExpSubmit,s.onExpSubmitError,o]),c=vt(`
		expProd,
		expDate
		`,{lastField:i});return mn(()=>{open&&o.reset({expProd:s.expProd,expDate:s.expDate})},[open,s.expProd,s.expDate]),r.jsx(Ye,{...o,children:r.jsx(Er,{ref:t,title:"",responsive:!0,fullWidth:!0,maxWidth:"xs",open:s.expPrompting,onClose:s.onExpDialogClose,onSubmit:i,confirmText:"",onCancel:s.onExpDialogClose,children:r.jsx(Ct,{...c,children:r.jsx(FG,{onSubmit:i})})})})});aIe.displayName="D041ExpDialogContainer";const JC=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:3,...t})};JC.propTypes={loading:l.bool,children:l.oneOfType([l.node])};JC.displayName="D041DateColumn";const BA=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:5,...t})};BA.propTypes={loading:l.bool,children:l.oneOfType([l.node])};BA.displayName="D041DeptColumn";const XC=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:3,...t})};XC.propTypes={loading:l.bool,children:l.oneOfType([l.node])};XC.displayName="D041IdColumn";const WA=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:4,...t})};WA.propTypes={loading:l.bool,children:l.oneOfType([l.node])};WA.displayName="D041UserColumn";l.bool,l.oneOfType([l.node]);l.bool,l.oneOfType([l.node]);l.bool,l.bool,l.oneOfType([l.node]);const UA=e=>{const{...t}=e;return r.jsx(wt,{flex:!0,justifyContent:"flex-end",pr:1,xs:2,...t})};UA.propTypes={loading:l.bool,children:l.oneOfType([l.node])};UA.displayName="D041NumColumn";const MG=a.memo(a.forwardRef((e,t)=>{const{expChecking:n,...o}=e;return r.jsxs(io,{ref:t,...o,children:[r.jsx(Hn,{}),r.jsx(XC,{children:""}),r.jsx(JC,{children:""}),r.jsx(WA,{children:""}),r.jsx(BA,{children:""}),n&&r.jsxs(r.Fragment,{children:[r.jsx(XC,{children:""}),r.jsx(UA,{children:""}),r.jsx(JC,{children:""})]})]})}));MG.propTypes={expChecking:l.bool};MG.displayName="D041ListHeader";const iIe=e=>{const{...t}=e,n=a.useContext(du);return r.jsx(MG,{expChecking:n.expChecking,...t})};iIe.displayName="D041ListHeaderContainer";const lIe=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(du),s=a.useMemo(()=>"",[]);return r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(Ao,{}),onClick:o.promptCreating,sx:{fontWeight:600},...n,children:s})}));lIe.displayName="D041CreateButtonContainer";const cIe=()=>{const e=a.useContext(du);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};cIe.displayName="D041FetchResultLabelContainer";const uIe=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(du);return r.jsxs(Qp,{variant:"contained",color:"neutral",size:"small",children:[r.jsx(hn,{ref:t,endIcon:r.jsx(zD,{}),onClick:o.onExpDialogOpen,className:"no-margin-right",sx:{fontWeight:600},...n,children:""}),o.expChecking&&r.jsx(fa,{className:"no-margin-right",color:"warning",onClick:o.cancelExpChecking,children:r.jsx(Cf,{fontSize:"small"})})]})}));uIe.displayName="D041ExpCheckingButtonContainer";const dIe=a.memo(()=>r.jsxs(r.Fragment,{children:[r.jsx(lIe,{}),r.jsx(uIe,{})]}));dIe.displayName="LeftButtons";const _G=a.memo(a.forwardRef(({loading:e,...t},n)=>r.jsx(kn,{pl:0,alignItems:"flex-end",ref:n,LeftComponent:e?Cr:dIe,RightComponent:cIe,...t})));_G.displayName="D041ListViewToolbar";_G.propTypes={loading:l.bool};const LG=a.memo(e=>{const{index:t,style:n,value:o,onClick:s,expChecking:i}=e,c=a.useMemo(()=>`${(o==null?void 0:o.)||""} ${(o==null?void 0:o.)||""}`,[o==null?void 0:o.,o==null?void 0:o.]),u=a.useMemo(()=>`${(o==null?void 0:o.)||""} ${(o==null?void 0:o.)||""}`,[o==null?void 0:o.,o==null?void 0:o.]);return r.jsx("div",{style:n,children:r.jsxs(yo,{borderBottom:!0,onClick:s,children:[r.jsx(na,{}),r.jsx(jt,{children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t}),r.jsx(XC,{children:o==null?void 0:o.}),r.jsx(JC,{children:o==null?void 0:o.}),r.jsx(WA,{children:u}),r.jsx(BA,{children:c}),i&&r.jsxs(r.Fragment,{children:[r.jsx(XC,{children:o==null?void 0:o.}),r.jsx(UA,{children:o==null?void 0:o.}),r.jsx(JC,{children:o==null?void 0:o.})]})]})})]})})});LG.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,expChecking:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func,promptCopyAuth:l.func};LG.displayName="D041ListRow";const $G=e=>{const t=a.useContext(du),{isItemLoading:n}=t,{index:o,...s}=e,i=a.useMemo(()=>n(o),[o,n]),c=a.useMemo(()=>t.listData[o],[t.listData,o]);return r.jsx(No,{loading:i,children:r.jsx(LG,{index:o,value:c,onClick:u=>t.handleSelect(u,c),expChecking:t.expChecking,...s})})};$G.propTypes={index:l.number,data:l.object};$G.displayName="D041ListRowContainer";const pIe=()=>{const e=a.useContext(du),{loadList:t}=e,n=Ke(),{height:o}=Wt(),s=Ue({name:"lvOrder",control:n.control}),i=Yn(s,300),c=Ue({name:"lvEmployee",control:n.control}),u=Yn(c,300),d=Ue({name:"lvDate",control:n.control}),p=Yn(d,300),m=Ue({name:"lvPdline",control:n.control}),f=Yn(m,300);En(()=>{e.loadList({params:{}})},[]),mn(()=>{var g;t({params:{...i&&{q:i==null?void 0:i.},...UP.transformAsQueryParams({...u&&{employee:u},...p&&{sdate:p},...f&&{pdline:f}}),...e.expProd&&{prdi:(g=e.expProd)==null?void 0:g.ProdID},...e.expDate&&{expd:Re.formatDate(e.expDate)}},supressLoading:!0})},[i,p,u,f,e.expProd,e.expDate]);const h=a.useMemo(()=>o?o-200:300,[o]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:$G,height:h,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};pIe.displayName="D041ListViewContainer";const dRt=e=>{if(!e)return"";const{:t}=e;return t?`${t}`:"(?)"},pRt=(e,t)=>e.===t.,mRt=e=>e.,vL={getOptionLabel:dRt,isOptionEqualToValue:pRt,renderOptionLabel:mRt},BG=a.memo(e=>{const{label:t="",...n}=e,{token:o}=a.useContext(Be),s=a.useMemo(()=>{const i={tp:1e4,opts:1};return Hr.stringify(i)},[]);return r.jsx(bt,{label:t,url:"v1/own-brand/stocking-orders",bearer:o,queryParam:"qs",querystring:s,getOptionLabel:vL.getOptionLabel,isOptionEqualToValue:vL.isOptionEqualToValue,renderOptionLabel:vL.renderOptionLabel,notFoundText:" ${input} ",placeholder:"",typeToSearchText:"...",inputParam:"fz",...n})});BG.propTypes={label:l.string};BG.displayName="OwnBrandStockingOrderPicker";const WG=a.memo(e=>{const{...t}=e;return r.jsx(Pt,{children:r.jsxs(Vt,{container:!0,spacing:1,columns:24,...t,children:[r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(BG,{label:"",name:"lvOrder",autoFocus:!0,placeholder:"",disableOpenOnInput:!0})}),r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(Ar,{name:"lvEmployee",label:"",disableOpenOnInput:!0})}),r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(et,{name:"lvDate",label:"()",validate:!0,clearable:!0})}),r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(Xo,{name:"lvPdline",label:"",disableOpenOnInput:!0})})]})})});WG.propTypes={};WG.displayName="D041SearchForm";const mIe=e=>{const{...t}=e,n=vt(`
		lvOrder,
		lvEmployee,
		lvDate,
		lvPdline,
		`);return r.jsx(Ct,{...n,children:r.jsx(WG,{...t})})};mIe.displayName="D041SearchFormContainer";const fIe=()=>{const e=at({defaultValues:{}});return r.jsxs(Ft,{children:[r.jsxs(Ye,{...e,children:[r.jsx(_t,{}),r.jsxs(li,{children:[r.jsx(mIe,{initSize:"md"}),r.jsx(_G,{}),r.jsx(iIe,{}),r.jsx(pIe,{})]})]}),r.jsx(sIe,{}),r.jsx(aIe,{})]})};fIe.displayName="D041FrameContainer";const UG=a.memo(e=>{var s,i;const{anchor:t="right",...n}=e,o=a.useContext(cm);return r.jsxs(Eo,{anchor:t,open:o.sideDrawerOpen,onClose:o.handleSideDrawerClose,slotProps:{backdrop:{sx:[ur.BACKDROP_TRANSPARENT]}},...n,children:[r.jsx(pn,{label:"",children:(s=o.itemData)==null?void 0:s.WriteDate_N}),r.jsx(pn,{label:"",children:(i=o.itemData)==null?void 0:i.Writer_N})]})});UG.propTypes={anchor:l.string};UG.displayName="D05Drawer";const qA=e=>{const{name:t="TotAmt_N",...n}=e,o=Ue({name:t}),s=a.useMemo(()=>!isNaN(o)&&o!==""?parseFloat(o).toFixed(2):"0.00",[o]);return r.jsxs(ve,{inline:!0,sx:{fontWeight:700},children:["",r.jsx(nn,{color:"primary",...n,children:s})]})};qA.propTypes={name:l.string};qA.displayName="D05ProdGridSubtotalLabel";const fRt=()=>r.jsx(r.Fragment,{children:r.jsx(qA,{name:"TotAmt_N"})}),qG=a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(Lr);return!o.readOnly||!o.readOnly?!1:r.jsx(kn,{ref:t,RightComponent:fRt,...n})});qG.propTypes={};qG.displayName="D05ProdGridBottomToolbar";const hRt=Aa({translationKeys:{button:"",unit:""},RightComponent:qA}),gRt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),VG=a.memo(e=>{const{getRowKey:t,readOnly:n,gridRef:o,data:s,height:i=300,...c}=e,u=a.useCallback(({rowData:p})=>({...p,Pkey:zn()}),[]),d=a.useCallback(({rowData:p})=>{console.log("deleteRow",p)},[]);return r.jsx(dr,{ref:o,rowKey:t,lockRows:n,height:i,value:s,addRowsComponent:hRt,disableExpandSelection:!0,contextMenuComponent:gRt,duplicateRow:u,deleteRow:d,...c})});VG.propTypes={getRowKey:l.func,onChange:l.func,onActiveCellChange:l.func,getRowClassName:l.func,getSPriceClassName:l.func,readOnly:l.bool,height:l.number,gridRef:l.func,data:l.array.isRequired,sprodDisabled:l.func,dtypeDisabled:l.func,sqtyDisabled:l.func,deptDisabled:l.func,customerDisabled:l.func};VG.displayName="D05ProdGrid";const hIe=e=>{const{...t}=e,n=a.useContext(cm),o=a.useContext(Be),{height:s}=Wt(),i=Ke(),c=a.useContext(Lr);a.useMemo(()=>!n.editing,[n.editing]);const u=a.useMemo(()=>s-318,[s]),d=a.useMemo(()=>n.buildGridChangeHandler({getValues:i.getValues,setValue:i.setValue,gridMeta:c.gridMeta,onUpdateRow:n.onUpdateRow,onGridChanged:n.onGridChanged}),[n,i.getValues,i.setValue,c.gridMeta]),p=a.useMemo(()=>({...Pe.keyColumn("tooltip",If({arrow:!0,placement:"bottom-end"}))}),[]);return r.jsx(Kn.Provider,{value:{...n.grid,...c.gridMeta,readOnly:c.readOnly},children:r.jsx(VG,{gridRef:c.gridMeta.setGridRef,readOnly:c.readOnly,data:n.gridData,onChange:d,onActiveCellChange:c.gridMeta.handleActiveCellChange,bearer:o.token,height:u,getRowKey:n.getRowKey,customerDisabled:n.customerDisabled,deptDisabled:n.deptDisabled,sqtyDisabled:n.sqtyDisabled,dtypeDisabled:n.dtypeDisabled,createRow:n.createRow,stickyRightColumn:p,...t})})};hIe.displayName="D05ProdGridContainer";const zG=a.memo(e=>{const{creating:t,onSubmit:n,readError:o,readWorking:s,itemDataReady:i,editing:c,remarkDisabled:u,slotProps:d}=e;return r.jsxs("form",{onSubmit:n,children:[s&&r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",minHeight:"30em",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}),o&&r.jsx(lo,{error:o,...d==null?void 0:d.error}),i&&r.jsxs(Pt,{pt:c?1:0,children:[r.jsxs(j,{container:!0,columns:24,spacing:1,children:[!t&&r.jsx(j,{item:!0,xs:24,sm:24,md:4,children:r.jsx($e,{typo:!0,name:"CxlID",label:"",fullWidth:!0,readOnly:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:4.5,children:r.jsx(et,{autoFocus:!0,typo:!0,name:"wdate",label:"",fullWidth:!0,required:!0,validate:!0,variant:"outlined"})}),r.jsx(j,{item:!0,xs:24,sm:24,md:5,children:r.jsx(Ar,{typo:!0,label:"",name:"employee",required:!0,rules:{required:""},virtualize:!0,disableOpenOnInput:!0})})]}),r.jsx(jt,{py:1,children:r.jsx(hIe,{})}),r.jsx(qG,{}),r.jsx(j,{container:!0,columns:24,children:r.jsx(j,{item:!0,xs:24,children:r.jsx($e,{typo:!0,name:"remark",multiline:!0,minRows:2,maxRows:5,label:"",fullWidth:!0,disabled:u})})})]})]})});zG.propTypes={readWorking:l.bool,readError:l.object,data:l.object,itemDataReady:l.bool,purchaseOrdersDisabled:l.bool,handleRtnDateChanged:l.func,onSubmit:l.func,editing:l.bool,handleTxoOrdersChanged:l.func,handleTxoDeptChanged:l.func,remarkDisabled:l.bool,slotProps:l.object};zG.displayName="D05DialogForm";const HG=a.memo(a.forwardRef((e,t)=>{const{onSave:n,onCancel:o,onRefresh:s,editWorking:i,refreshWorking:c,...u}=e;return r.jsxs(a.Fragment,{ref:t,...u,children:[s&&r.jsx(dt,{responsive:!0,onClick:s,type:"button",endIcon:r.jsx(Jb,{}),color:"info",variant:"contained",loading:c,children:""}),r.jsx(dt,{responsive:!0,onClick:o,color:"warning",variant:"outlined",...u,children:""}),r.jsx(dt,{responsive:!0,onClick:n,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:i,children:""})]})}));HG.displayName="D05DialogEditToolbar";HG.propTypes={onCancel:l.func,onSave:l.func,onRefresh:l.func,onLoadProds:l.func,refreshWorking:l.bool,editWorking:l.bool};const gIe=e=>{const{...t}=e,n=Ke(),o=a.useContext(cm),{canPrint:s}=o,i=n.handleSubmit(o.onPrintSubmit,o.onPrintSubmitError);return s?r.jsx(xn,{onSubmit:i,...t}):!1};gIe.displayName="D05ExportButtonContainer";const bIe=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,checkEditableWorking:o,onDelete:s,onPrint:i,onSideDrawerOpen:c,...u}=e;return r.jsxs(a.Fragment,{ref:t,...u,children:[i&&r.jsx(r.Fragment,{children:r.jsx(gIe,{})}),s&&r.jsx(dt,{responsive:!0,startIcon:r.jsx(im,{}),color:"secondary",onClick:s,children:""}),n&&r.jsx(dt,{responsive:!0,startIcon:r.jsx(bo,{}),color:"primary",onClick:n,loading:o,children:""}),r.jsx(jr,{title:"",children:r.jsx(br,{onClick:c,size:"small",children:r.jsx(Po,{})})})]})}));bIe.propTypes={onEdit:l.func,onDelete:l.func,onPrint:l.func,onSideDrawerOpen:l.func,checkEditableWorking:l.bool};const xIe=e=>{const{...t}=e,n=a.useContext(cm),o=Ke(),s=a.useContext(Lr),i=a.useMemo(()=>o.handleSubmit(n.onEditorSubmit({setValue:o.setValue,gridMeta:s.gridMeta}),n.onEditorSubmitError),[n,o,s.gridMeta]),c=a.useMemo(()=>n.canDelete,[n.canDelete]),u=o.handleSubmit(n.onPrintSubmit,n.onPrintSubmitError);return n.itemDataReady?n.editing?r.jsx(HG,{onSave:i,editWorking:n.editWorking,onCancel:n.updating?n.confirmReturnReading:n.confirmQuitCreating,...t}):r.jsx(bIe,{onEdit:n.canUpdate?n.handleCheckEditable:null,onDelete:c?n.confirmDelete:null,onPrint:n.canPrint?u:null,onSideDrawerOpen:n.handleSideDrawerOpen,checkEditableWorking:n.checkEditableWorking,...t}):!1};xIe.displayName="D05DialogToolbarContainer";const yIe=a.forwardRef((e,t)=>{const{...n}=e,{height:o}=Wt(),s=a.useMemo(()=>o-120,[o]),i=at({defaultValues:{prods:[]}}),{reset:c}=i,u=a.useContext(cm),d=Qr({height:s,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),p=a.useMemo(()=>u.creating?"":u.updating?"":"",[u.creating,u.updating]),m=a.useMemo(()=>u.creating?u.confirmQuitCreating:u.updating?u.confirmQuitUpdating:u.reading?u.cancelAction:null,[u.cancelAction,u.confirmQuitCreating,u.confirmQuitUpdating,u.creating,u.reading,u.updating]),f=Ue({name:"wdate",control:i.control}),h=Ue({name:"employee",control:i.control}),g=a.useMemo(()=>!u.editing||!f||!h,[u.editing,h,f]),x=a.useMemo(()=>[{...Pe.keyColumn("prod",or(ls,{name:"prod",withStock:!0,packageType:"_",forId:!0,disableClearable:!0,slotProps:{paper:{sx:{width:360}}}})),title:"",minWidth:160,maxWidth:160,disabled:g},{...Pe.keyColumn("ProdData",kt({continuousUpdates:!1})),title:"",disabled:!0,grow:2},{...Pe.keyColumn("PackData_N",kt({continuousUpdates:!1})),minWidth:60,title:"",disabled:!0},{...Pe.keyColumn("SQty",Jn(2)),title:"",minWidth:90,grow:1,disabled:g||u.sqtyDisabled},{...Pe.keyColumn("dtype",or(Xb,{name:"dtype",disableOpenOnInput:!0,disableClearable:!0,selectOnFocus:!0,autoHighlight:!0,slotProps:{paper:{sx:{width:260}}}})),title:"",minWidth:130,maxWidth:160,disabled:g||u.dtypeDisabled},{...Pe.keyColumn("customer",or(c2,{name:"customer",forId:!0,selectOnFocus:!0,triggerDelay:100,virtualize:!0,disableOpenOnInput:!0,disableClearable:!0,autoHighlight:!0,slotProps:{paper:{sx:{width:380}}}})),title:"",minWidth:130,maxWidth:150,disabled:g||u.customerDisabled},{...Pe.keyColumn("dept",or(NC,{name:"dept",disableOpenOnInput:!0,forId:!0,disableClearable:!0,selectOnFocus:!0,autoHighlight:!0,slotProps:{paper:{sx:{width:200}}}})),title:"",minWidth:130,maxWidth:150,disabled:g||u.deptDisabled},{...Pe.keyColumn("SAmt",Jn(2)),title:"",minWidth:90,grow:1,disabled:!0}],[u.customerDisabled,u.deptDisabled,u.dtypeDisabled,u.sqtyDisabled,g]),y=hr({data:u.grid.gridData,columns:x,skipDisabled:!0,lastCell:Xn.CREATE_ROW}),D=a.useCallback(()=>{if(!f){ae.error(""),i.setFocus("wdate");return}if(!h){ae.error(""),i.setFocus("employee");return}y.setActiveCell({col:0,row:0})},[h,i,y,f]),v=vt(`
		wdate,
		employee
		`,{lastField:D}),T=a.useCallback(()=>{u.editing&&i.handleSubmit(u.onEditorSubmit({setValue:i.setValue,gridMeta:y}),u.onEditorSubmitError)()},[u,i,y]);return $t(["Control+Enter"],()=>setTimeout(T),{enableOnFormTags:!0}),mn(()=>{u.itemDataReady&&(console.log("d05 form reset",u.itemData),c(u.itemData))},[u.itemData,u.itemDataReady]),r.jsx(Ye,{...i,children:r.jsx(Ct,{...v,gridMeta:y,readOnly:g,children:r.jsxs(Er,{ref:t,title:p,responsive:!0,fullWidth:!0,maxWidth:"lg",TitleButtonsComponent:xIe,open:u.itemViewOpen,onClose:m,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[{minHeight:"30em",paddingTop:0},d.scroller],...n,children:[r.jsx(zG,{onSubmit:T,creating:u.creating,editing:u.editing,updating:u.updating,readWorking:u.readWorking,readError:u.readError,data:u.itemData,itemDataReady:u.itemDataReady}),r.jsx(UG,{})]})})})});yIe.displayName="D05DialogContainer";const VA=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:3,...t})};VA.propTypes={loading:l.bool,children:l.oneOfType([l.node])};VA.displayName="D05DateColumn";l.bool,l.oneOfType([l.node]);const zA=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:3,...t})};zA.propTypes={loading:l.bool,children:l.oneOfType([l.node])};zA.displayName="D05IdColumn";const HA=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:6,...t})};HA.propTypes={loading:l.bool,children:l.oneOfType([l.node])};HA.displayName="D05UserColumn";l.bool,l.oneOfType([l.node]);l.bool,l.bool,l.oneOfType([l.node]);const GG=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsxs(io,{ref:t,...n,children:[r.jsx(Hn,{}),r.jsx(zA,{children:""}),r.jsx(VA,{children:""}),r.jsx(HA,{children:""})]})}));GG.propTypes={expChecking:l.bool};GG.displayName="D05ListHeader";const CIe=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(cm),s=a.useMemo(()=>"",[]);return r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(Ao,{}),onClick:o.promptCreating,sx:{fontWeight:600},...n,children:s})}));CIe.displayName="D05CreateButtonContainer";const DIe=()=>{const e=a.useContext(cm);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};DIe.displayName="D05FetchResultLabelContainer";const SIe=a.memo(()=>r.jsx(r.Fragment,{children:r.jsx(CIe,{})}));SIe.displayName="LeftButtons";const KG=a.memo(a.forwardRef(({loading:e,...t},n)=>r.jsx(kn,{pl:0,alignItems:"flex-end",ref:n,LeftComponent:e?Cr:SIe,RightComponent:DIe,...t})));KG.displayName="D05ListViewToolbar";KG.propTypes={loading:l.bool};const QG=a.memo(e=>{const{index:t,style:n,value:o,onClick:s}=e,i=a.useMemo(()=>`${(o==null?void 0:o.)||""} ${(o==null?void 0:o.)||""}`,[o==null?void 0:o.,o==null?void 0:o.]);return r.jsx("div",{style:n,children:r.jsxs(yo,{borderBottom:!0,onClick:s,children:[r.jsx(na,{}),r.jsx(jt,{children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t}),r.jsx(zA,{children:o==null?void 0:o.}),r.jsx(VA,{children:o==null?void 0:o.}),r.jsx(HA,{children:i})]})})]})})});QG.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,expChecking:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func,confirmResetPword:l.func,promptCopyAuth:l.func};QG.displayName="D05ListRow";const YG=e=>{const t=a.useContext(cm),{isItemLoading:n}=t,{index:o,...s}=e,i=a.useMemo(()=>n(o),[o,n]),c=a.useMemo(()=>t.listData[o],[t.listData,o]);return r.jsx(No,{loading:i,children:r.jsx(QG,{index:o,value:c,onClick:u=>t.handleSelect(u,c),...s})})};YG.propTypes={index:l.number,data:l.object};YG.displayName="D05ListRowContainer";const vIe=()=>{const e=a.useContext(cm),{loadList:t}=e,n=Ke(),{height:o}=Wt(),s=Ue({name:"lvOrder",control:n.control}),i=Yn(s,300),c=Ue({name:"lvEmployee",control:n.control}),u=Yn(c,300),d=Ue({name:"lvDate",control:n.control}),p=Yn(d,300);En(()=>{e.loadList({params:{}})},[]),mn(()=>{t({params:{...i&&{q:i==null?void 0:i.},...xh.transformAsQueryParams({...u&&{employee:u},...p&&{wdate:p}})},supressLoading:!0})},[i,p,u]);const m=a.useMemo(()=>o?o-200:300,[o]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:YG,height:m,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};vIe.displayName="D05ListViewContainer";const bRt=e=>{if(!e)return"";const{:t}=e;return t?`${t}`:"(?)"},xRt=(e,t)=>e.===t.,yRt=e=>e.,jL={getOptionLabel:bRt,isOptionEqualToValue:xRt,renderOptionLabel:yRt},JG=a.memo(e=>{const{label:t="",...n}=e,{token:o}=a.useContext(Be),s=a.useMemo(()=>{const i={tp:1e4,opts:1};return Hr.stringify(i)},[]);return r.jsx(bt,{label:t,url:"v1/mat/waste-orders",bearer:o,queryParam:"qs",querystring:s,getOptionLabel:jL.getOptionLabel,isOptionEqualToValue:jL.isOptionEqualToValue,renderOptionLabel:jL.renderOptionLabel,notFoundText:" ${input} ",placeholder:"",typeToSearchText:"...",inputParam:"fz",...n})});JG.propTypes={label:l.string};JG.displayName="MatWasteOrderPicker";const XG=a.memo(e=>{const{...t}=e;return r.jsx(Pt,{children:r.jsxs(Vt,{container:!0,spacing:1,columns:24,children:[r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(JG,{label:"",name:"lvOrder",autoFocus:!0,placeholder:"",disableOpenOnInput:!0})}),r.jsx(Vt,{item:!0,md:6,lg:4,...t,children:r.jsx(et,{name:"lvDate",label:"()",clearable:!0,clearOnEscape:!0,validate:!0})}),r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(Ar,{name:"lvEmployee",label:"",disableOpenOnInput:!0})})]})})});XG.propTypes={};XG.displayName="D05SearchForm";const jIe=e=>{const{...t}=e,n=vt(`
		lvOrder,
		lvDate,
		lvEmployee,
		`);return r.jsx(Ct,{...n,children:r.jsx(XG,{...t})})};jIe.displayName="D05SearchFormContainer";const IIe=()=>{const e=at({defaultValues:{}});return r.jsxs(Ft,{children:[r.jsxs(Ye,{...e,children:[r.jsx(_t,{}),r.jsxs(li,{children:[r.jsx(jIe,{initSize:"md"}),r.jsx(KG,{}),r.jsx(GG,{}),r.jsx(vIe,{})]})]}),r.jsx(yIe,{})]})};IIe.displayName="D05FrameContainer";const CRt=Aa({translationKeys:{button:"",unit:""}}),DRt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),ZG=a.memo(e=>{const{createRow:t,getRowKey:n,readOnly:o,gridRef:s,data:i,onChange:c,onActiveCellChange:u,getRowClassName:d,height:p=300}=e,m=a.useCallback(({rowData:h})=>({...h,Pkey:zn()}),[]),f=a.useCallback(({rowData:h})=>{console.log("deleteRow",h)},[]);return r.jsx(dr,{ref:s,rowKey:n,lockRows:o,height:p+(o?48:0),value:i,onChange:c,onActiveCellChange:u,addRowsComponent:CRt,disableExpandSelection:!0,contextMenuComponent:DRt,createRow:t,duplicateRow:m,rowClassName:d,deleteRow:f})});ZG.propTypes={getRowKey:l.func,spriceDisabled:l.func,prodDisabled:l.func,onChange:l.func,onActiveCellChange:l.func,getRowClassName:l.func,getSPriceClassName:l.func,readOnly:l.bool,height:l.number,data:l.array.isRequired,gridRef:l.func};ZG.displayName="D06ProdGrid";const TIe=e=>{const{...t}=e,n=a.useContext(pu),o=a.useContext(Be),{height:s}=Wt(),i=Ke(),c=a.useContext(Lr),u=a.useMemo(()=>n.buildGridChangeHandler({getValues:i.getValues,setValue:i.setValue,gridMeta:c.gridMeta}),[n,i.getValues,i.setValue,c.gridMeta]),d=a.useMemo(()=>s-368,[s]);return r.jsx(Kn.Provider,{value:{...n.grid,...c.gridMeta,readOnly:c.readOnly},children:r.jsx(ZG,{gridRef:c.gridMeta.setGridRef,readOnly:c.readOnly,data:n.gridData,onChange:u,onActiveCellChange:c.gridMeta.handleActiveCellChange,bearer:o.token,height:d,getRowKey:n.getRowKey,createRow:n.createRow,...t})})};TIe.displayName="D06ProdGridContainer";const e8=a.memo(e=>{const{onSubmit:t,readError:n,data:o,readWorking:s,itemDataReady:i,creating:c,editing:u,updating:d,handleRemDateChanged:p,validateDate:m,slotProps:f,...h}=e;return r.jsxs("form",{onSubmit:t,children:[s&&r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",minHeight:"30em",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}),n&&r.jsx(lo,{error:n,...f==null?void 0:f.error}),i&&r.jsxs(Pt,{pt:u?1:0,children:[r.jsxs(j,{container:!0,columns:24,spacing:1,children:[!c&&r.jsx(j,{item:!0,xs:24,sm:24,md:5,children:r.jsx($e,{typo:!0,name:"RemID",label:"",autoFocus:!0,fullWidth:!0,readOnly:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:6,children:r.jsx(Ar,{typo:!0,label:"",name:"employee",autoFocus:!0,required:!0,rules:{required:""},virtualize:!0,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:5.5,children:r.jsx(et,{typo:!0,name:"RemDate",label:"",fullWidth:!0,required:!0,validate:!0,variant:"outlined",onChanged:p})}),r.jsx(j,{item:!0,xs:24,sm:24,md:5.5,children:r.jsx(et,{typo:!0,name:"InitDate",label:"",fullWidth:!0,required:!0,validate:!0,variant:"outlined",readOnly:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:6,children:r.jsx(Xo,{typo:!0,label:"",name:"pdline",required:!0,rules:{required:""},disableOpenOnInput:!0})}),r.jsx(ve,{fullWidth:!0})]}),r.jsx(jt,{py:1,children:r.jsx(TIe,{})}),r.jsx(j,{container:!0,columns:24,children:r.jsx(j,{item:!0,xs:24,children:r.jsx($e,{typo:!0,name:"remark",multiline:!0,minRows:2,maxRows:5,label:"",fullWidth:!0})})})]})]})});e8.propTypes={readWorking:l.bool,readError:l.object,data:l.object,itemDataReady:l.bool,purchaseOrdersDisabled:l.bool,handleRemDateChanged:l.func,validateDate:l.func,slotProps:l.object};e8.displayName="D06DialogForm";const t8=a.memo(a.forwardRef((e,t)=>{const{onSave:n,onCancel:o,editWorking:s,...i}=e;return r.jsxs(a.Fragment,{ref:t,...i,children:[r.jsx(dt,{responsive:!0,onClick:o,color:"warning",variant:"outlined",...i,children:""}),r.jsx(dt,{responsive:!0,onClick:n,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:s,children:""})]})}));t8.displayName="D06DialogEditToolbar";t8.propTypes={onCancel:l.func,onSave:l.func,onLoadProds:l.func,editWorking:l.bool};const OIe=e=>{const{...t}=e,n=Ke(),o=a.useContext(pu),{canPrint:s}=o,i=n.handleSubmit(o.onPrintSubmit,o.onPrintSubmitError);return s?r.jsx(xn,{onSubmit:i,...t}):!1};OIe.displayName="D06ExportButtonContainer";const EIe=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,checkEditableWorking:o,onDelete:s,onPrint:i,onSideDrawerOpen:c,...u}=e;return r.jsxs(a.Fragment,{ref:t,...u,children:[i&&r.jsx(r.Fragment,{children:r.jsx(OIe,{})}),s&&r.jsx(dt,{responsive:!0,startIcon:r.jsx(MA,{}),color:"secondary",onClick:s,children:""}),n&&r.jsx(dt,{responsive:!0,startIcon:r.jsx(bo,{}),color:"primary",onClick:n,loading:o,children:""}),r.jsx(jr,{title:"",children:r.jsx(br,{onClick:c,size:"small",children:r.jsx(Po,{})})})]})}));EIe.propTypes={onEdit:l.func,onDelete:l.func,onPrint:l.func,onSideDrawerOpen:l.func,checkEditableWorking:l.bool};const PIe=e=>{const{...t}=e,n=a.useContext(pu),o=Ke(),s=a.useMemo(()=>n.canDelete,[n.canDelete]),i=o.handleSubmit(n.onPrintSubmit,n.onPrintSubmitError);return n.itemDataReady?n.editing?r.jsx(t8,{onSave:o.handleSubmit(n.onEditorSubmit,n.onEditorSubmitError),editWorking:n.editWorking,onCancel:n.updating?n.confirmReturnReading:n.confirmQuitCreating,...t}):r.jsx(EIe,{onEdit:n.canUpdate?n.promptUpdating:null,onDelete:s?n.confirmDelete:null,onPrint:n.canPrint?i:null,checkEditableWorking:n.checkEditableWorking,onSideDrawerOpen:n.handleSideDrawerOpen,...t}):!1};PIe.displayName="D06DialogToolbarContainer";const n8=a.memo(e=>{var s,i;const{anchor:t="right",...n}=e,o=a.useContext(pu);return r.jsxs(Eo,{anchor:t,open:o.sideDrawerOpen,onClose:o.handleSideDrawerClose,slotProps:{backdrop:{sx:[ur.BACKDROP_TRANSPARENT]}},...n,children:[r.jsx(pn,{label:"",children:(s=o.itemData)==null?void 0:s.WriteDate_N}),r.jsx(pn,{label:"",children:(i=o.itemData)==null?void 0:i.Writer_N})]})});n8.propTypes={anchor:l.string};n8.displayName="D06Drawer";const RIe=a.forwardRef((e,t)=>{const{...n}=e,{height:o}=Wt(),s=a.useMemo(()=>o-120,[o]),i=at({defaultValues:{prods:[]}}),{reset:c}=i,u=a.useContext(pu),d=Qr({height:s,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),p=a.useMemo(()=>u.creating?"":u.updating?"":"",[u.creating,u.updating]),m=a.useMemo(()=>u.creating?u.confirmQuitCreating:u.updating?u.confirmQuitUpdating:u.reading?u.cancelAction:null,[u.cancelAction,u.confirmQuitCreating,u.confirmQuitUpdating,u.creating,u.reading,u.updating]),f=a.useCallback(()=>{u.editing&&i.handleSubmit(u.onEditorSubmit,u.onEditorSubmitError)()},[u.editing,u.onEditorSubmit,u.onEditorSubmitError,i]);$t(["Control+Enter"],()=>setTimeout(f),{enableOnFormTags:!0});const h=a.useMemo(()=>!u.editing,[u.editing]),g=a.useMemo(()=>[{...Pe.keyColumn("prod",or(ls,{name:"prod",withStock:!0,packageType:"b",forId:!0,slotProps:{paper:{sx:{width:360}}}})),title:"",minWidth:160,maxWidth:160,disabled:h},{...Pe.keyColumn("ProdData",kt({continuousUpdates:!1})),title:"",disabled:!0,grow:2},{...Pe.keyColumn("PackData_N",kt({continuousUpdates:!1})),minWidth:60,title:"",disabled:!0},{...Pe.keyColumn("SQty",Jn(2)),title:"",minWidth:90,grow:1,disabled:h}],[h]),x=hr({data:u.grid.gridData,columns:g,skipDisabled:!0,lastCell:Xn.CREATE_ROW}),y=a.useCallback(()=>{x.setActiveCell({col:0,row:0})},[x]),D=vt(`
		employee,
		RemDate,
		InitDate,
		pdline,

		`,{lastField:y}),v=a.useCallback(T=>{switch(T.name){case"InitDate":return!0;default:return!1}},[]);return mn(()=>{u.itemDataReady&&(console.log("d06 form reset",u.itemData),c(u.itemData))},[u.itemData,u.itemDataReady]),r.jsx(Ye,{...i,children:r.jsxs(Er,{ref:t,title:p,responsive:!0,fullWidth:!0,maxWidth:"md",TitleButtonsComponent:PIe,open:u.itemViewOpen,onClose:m,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[{minHeight:"30em",paddingTop:0},d.scroller],...n,children:[r.jsx(Ct,{...D,isFieldDisabled:v,gridMeta:x,readOnly:h,children:r.jsx(e8,{onSubmit:f,creating:u.creating,editing:u.editing,updating:u.updating,readWorking:u.readWorking,readError:u.readError,data:u.itemData,itemDataReady:u.itemDataReady,handleRemDateChanged:u.handleRemDateChanged({setValue:i.setValue})})}),r.jsx(n8,{})]})})});RIe.displayName="D06DialogContainer";const r8=a.memo(e=>{const{onSubmit:t}=e;return r.jsx("form",{onSubmit:t,children:r.jsx(Pt,{pt:1,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,children:r.jsx(fn,{autoFocus:!0,label:"",name:"expProd",required:!0,virtualize:!0,typeToSearchText:",",triggerDelay:100,rules:{required:""}})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(et,{label:"",name:"expDate",validate:!0})})]})})})});r8.propTypes={onSubmit:l.func};r8.displayName="D06ExpDialogForm";const wIe=a.forwardRef((e,t)=>{const{...n}=e,o=at({defaultValues:{}}),s=a.useContext(pu),i=o.handleSubmit(s.onExpSubmit,s.onExpSubmitError);return mn(()=>{open&&o.reset({expProd:s.expProd,expDate:s.expDate})},[open,s.expProd,s.expDate]),r.jsx(Ye,{...o,children:r.jsx(Er,{ref:t,title:"",responsive:!0,fullWidth:!0,maxWidth:"xs",open:s.expPrompting,onClose:s.onExpDialogClose,onSubmit:i,confirmText:"",onCancel:s.onExpDialogClose,children:r.jsx(r8,{onSubmit:i})})})});wIe.displayName="D06ExpDialogContainer";const GA=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:3,...t})};GA.propTypes={loading:l.bool,children:l.oneOfType([l.node])};GA.displayName="D06DateColumn";const KA=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:5,...t})};KA.propTypes={loading:l.bool,children:l.oneOfType([l.node])};KA.displayName="D06DeptColumn";const QA=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:3,...t})};QA.propTypes={loading:l.bool,children:l.oneOfType([l.node])};QA.displayName="D06IdColumn";const YA=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:4,...t})};YA.propTypes={loading:l.bool,children:l.oneOfType([l.node])};YA.displayName="D06UserColumn";l.bool,l.oneOfType([l.node]);l.bool,l.oneOfType([l.node]);l.bool,l.bool,l.oneOfType([l.node]);l.bool,l.oneOfType([l.node]);const o8=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsxs(io,{ref:t,...n,children:[r.jsx(Hn,{}),r.jsx(QA,{children:""}),r.jsx(GA,{children:""}),r.jsx(YA,{children:""}),r.jsx(KA,{children:""})]})}));o8.propTypes={expChecking:l.bool};o8.displayName="D06ListHeader";const kIe=e=>{const{...t}=e,n=a.useContext(pu);return r.jsx(o8,{expChecking:n.expChecking,...t})};kIe.displayName="D06ListHeaderContainer";const AIe=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(pu),s=a.useMemo(()=>"",[]);return r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(Ao,{}),onClick:o.promptCreating,sx:{fontWeight:600},...n,children:s})}));AIe.displayName="D06CreateButtonContainer";const NIe=()=>{const e=a.useContext(pu);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};NIe.displayName="D06FetchResultLabelContainer";const SRt=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(pu);return r.jsxs(Qp,{variant:"contained",color:"neutral",size:"small",children:[r.jsx(hn,{ref:t,endIcon:r.jsx(zD,{}),onClick:o.onExpDialogOpen,className:"no-margin-right",sx:{fontWeight:600},...n,children:""}),o.expChecking&&r.jsx(fa,{className:"no-margin-right",color:"warning",onClick:o.cancelExpChecking,children:r.jsx(Cf,{fontSize:"small"})})]})}));SRt.displayName="D06ExpCheckingButtonContainer";const FIe=a.memo(()=>r.jsx(r.Fragment,{children:r.jsx(AIe,{})}));FIe.displayName="LeftButtons";const s8=a.memo(a.forwardRef(({loading:e,...t},n)=>r.jsx(kn,{pl:0,alignItems:"flex-end",ref:n,LeftComponent:e?Cr:FIe,RightComponent:NIe,...t})));s8.displayName="D06ListViewToolbar";s8.propTypes={loading:l.bool};const a8=a.memo(e=>{const{index:t,style:n,value:o,onClick:s}=e,i=a.useMemo(()=>`${o==null?void 0:o.} ${o==null?void 0:o.}`,[o==null?void 0:o.,o==null?void 0:o.]),c=a.useMemo(()=>`${(o==null?void 0:o.)||""} ${(o==null?void 0:o.)||""}`,[o==null?void 0:o.,o==null?void 0:o.]);return r.jsx("div",{style:n,children:r.jsxs(yo,{borderBottom:!0,onClick:s,children:[r.jsx(na,{}),r.jsx(jt,{children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t}),r.jsx(QA,{children:o==null?void 0:o.}),r.jsx(GA,{children:o==null?void 0:o.}),r.jsx(YA,{children:c}),r.jsx(KA,{children:i})]})})]})})});a8.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,expChecking:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func,confirmResetPword:l.func,promptCopyAuth:l.func};a8.displayName="D06ListRow";const i8=e=>{const t=a.useContext(pu),{isItemLoading:n}=t,{index:o,...s}=e,i=a.useMemo(()=>n(o),[o,n]),c=a.useMemo(()=>t.listData[o],[t.listData,o]);return r.jsx(No,{loading:i,children:r.jsx(a8,{index:o,value:c,onClick:u=>t.handleSelect(u,c),expChecking:t.expChecking,...s})})};i8.propTypes={index:l.number,data:l.object};i8.displayName="D06ListRowContainer";const MIe=()=>{const e=a.useContext(pu),{loadList:t}=e,n=Ke(),{height:o}=Wt(),s=Ue({name:"lvOrder",control:n.control}),i=Yn(s,300),c=Ue({name:"lvEmployee",control:n.control}),u=Yn(c,300),d=Ue({name:"lvDate",control:n.control}),p=Yn(d,300);En(()=>{e.loadList({params:{}})},[]),mn(()=>{t({params:{...i&&{q:i==null?void 0:i.},...Rj.transformAsQueryParams({employee:u,bdate:p})},supressLoading:!0})},[i,p,u]);const m=a.useMemo(()=>o?o-200:300,[o]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:i8,height:m,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};MIe.displayName="D06ListViewContainer";const vRt=e=>{if(!e)return"";const{:t}=e;return t?`${t}`:"(?)"},jRt=(e,t)=>e.===t.,IRt=e=>e.,IL={getOptionLabel:vRt,isOptionEqualToValue:jRt,renderOptionLabel:IRt},l8=a.memo(e=>{const{label:t="MatBalanceOrderPicker",...n}=e,{token:o}=a.useContext(Be),s=a.useMemo(()=>{const i={tp:1e4,opts:1};return Hr.stringify(i)},[]);return r.jsx(bt,{label:t,url:"v1/mat/balance-orders",bearer:o,queryParam:"qs",querystring:s,getOptionLabel:IL.getOptionLabel,isOptionEqualToValue:IL.isOptionEqualToValue,renderOptionLabel:IL.renderOptionLabel,notFoundText:" ${input} ",placeholder:"",typeToSearchText:"...",inputParam:"fz",...n})});l8.propTypes={label:l.string};l8.displayName="MatBalanceOrderPicker";const c8=a.memo(e=>{const{...t}=e;return r.jsx(Pt,{children:r.jsxs(Vt,{container:!0,spacing:1,columns:24,...t,children:[r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(l8,{label:"",name:"lvOrder",autoFocus:!0,placeholder:"",disableOpenOnInput:!0})}),r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(Ar,{name:"lvEmployee",label:"",disableOpenOnInput:!0})}),r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(et,{name:"lvDate",label:"()",validate:!0})})]})})});c8.propTypes={};c8.displayName="D06SearchForm";const _Ie=e=>{const{...t}=e,n=vt(`
		lvOrder,
		lvEmployee,
		lvDate,
		`);return r.jsx(Ct,{...n,children:r.jsx(c8,{...t})})};_Ie.displayName="D06SearchFormContainer";const LIe=()=>{const e=at({defaultValues:{}});return r.jsxs(Ft,{children:[r.jsxs(Ye,{...e,children:[r.jsx(_t,{}),r.jsxs(li,{children:[r.jsx(_Ie,{initSize:"md"}),r.jsx(s8,{}),r.jsx(kIe,{}),r.jsx(MIe,{})]})]}),r.jsx(RIe,{}),r.jsx(wIe,{})]})};LIe.displayName="D06FrameContainer";const u8=a.memo(e=>{var s,i;const{anchor:t="right",...n}=e,o=a.useContext(mu);return r.jsxs(Eo,{anchor:t,open:o.sideDrawerOpen,onClose:o.handleSideDrawerClose,slotProps:{backdrop:{sx:[ur.BACKDROP_TRANSPARENT]}},...n,children:[r.jsx(pn,{label:"",children:(s=o.itemData)==null?void 0:s.WriteDate_N}),r.jsx(pn,{label:"",children:(i=o.itemData)==null?void 0:i.Writer_N})]})});u8.propTypes={anchor:l.string};u8.displayName="D07Drawer";const TRt=Aa({translationKeys:{button:"",unit:""}}),ORt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS","MOVE_ROW"].includes(e.type)}),d8=a.memo(e=>{const{createRow:t,getRowKey:n,readOnly:o,gridRef:s,data:i,onChange:c,onActiveCellChange:u,getRowClassName:d,height:p=300}=e,m=a.useCallback(({rowData:h})=>({...h,Pkey:zn()}),[]),f=a.useCallback(({rowData:h})=>{console.log("deleteRow",h)},[]);return r.jsx(dr,{ref:s,rowKey:n,lockRows:o,height:p+(o?48:0),value:i,onChange:c,onActiveCellChange:u,addRowsComponent:TRt,disableExpandSelection:!0,contextMenuComponent:ORt,createRow:t,duplicateRow:m,rowClassName:d,deleteRow:f})});d8.propTypes={createRow:l.func,getRowKey:l.func,spriceDisabled:l.func,prodDisabled:l.func,onChange:l.func,onActiveCellChange:l.func,getRowClassName:l.func,getSPriceClassName:l.func,readOnly:l.bool,height:l.number,data:l.array.isRequired,gridRef:l.func};d8.displayName="D07ProdGrid";const $Ie=e=>{const{...t}=e,n=a.useContext(mu),o=a.useContext(Be),{height:s}=Wt(),i=Ke(),c=a.useContext(Lr),u=a.useMemo(()=>n.buildGridChangeHandler({getValues:i.getValues,setValue:i.setValue,gridMeta:c.gridMeta}),[n,i.getValues,i.setValue,c.gridMeta]),d=a.useMemo(()=>s-258,[s]);return r.jsx(Kn.Provider,{value:{...n.grid,...c.gridMeta,readOnly:c.readOnly},children:r.jsx(d8,{gridRef:c.gridMeta.setGridRef,readOnly:c.readOnly,data:n.gridData,onChange:u,onActiveCellChange:c.gridMeta.handleActiveCellChange,bearer:o.token,height:d,getRowKey:n.getRowKey,createRow:n.createRow,...t})})};$Ie.displayName="D07ProdGridContainer";const p8=a.memo(e=>{const{onSubmit:t,readError:n,data:o,readWorking:s,itemDataReady:i,creating:c,editing:u,updating:d,handleRstDateChanged:p,slotProps:m,...f}=e;return r.jsxs("form",{onSubmit:t,children:[s&&r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",minHeight:"30em",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}),n&&r.jsx(lo,{error:n,...m==null?void 0:m.error}),i&&r.jsxs(Pt,{pt:u?1:0,children:[r.jsxs(j,{container:!0,columns:24,spacing:1,children:[r.jsx(j,{item:!0,xs:24,sm:24,md:5,children:r.jsx($e,{typo:!0,name:"CalID",label:"",autoFocus:!0,fullWidth:!0,required:!0,rules:{required:""},readOnly:!u})}),r.jsx(j,{item:!0,xs:12,sm:12,md:8,children:r.jsx($e,{typo:!0,name:"CalData",label:"",fullWidth:!0,required:!0,rules:{required:""},readOnly:!u})}),r.jsx(j,{item:!0,xs:24,sm:24,md:6,children:r.jsx(Ar,{typo:!0,label:"",name:"employee",required:!0,rules:{required:""},virtualize:!0,disableOpenOnInput:!0,slotProps:{paper:{sx:{width:360}}}})})]}),r.jsx(jt,{py:1,children:r.jsx($Ie,{})})]})]})});p8.propTypes={readWorking:l.bool,readError:l.object,data:l.object,itemDataReady:l.bool,purchaseOrdersDisabled:l.bool,handleRstDateChanged:l.func,slotProps:l.object};p8.displayName="D07DialogForm";const m8=a.memo(a.forwardRef((e,t)=>{const{onSave:n,onCancel:o,editWorking:s,...i}=e;return r.jsxs(a.Fragment,{ref:t,...i,children:[r.jsx(dt,{responsive:!0,onClick:o,color:"warning",variant:"outlined",...i,children:""}),r.jsx(dt,{responsive:!0,onClick:n,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:s,children:""})]})}));m8.displayName="D07DialogEditToolbar";m8.propTypes={onCancel:l.func,onSave:l.func,onLoadProds:l.func,editWorking:l.bool};const BIe=e=>{const{...t}=e,n=Ke(),o=a.useContext(mu),{canPrint:s}=o,i=n.handleSubmit(o.onPrintSubmit,o.onPrintSubmitError);return s?r.jsx(xn,{onSubmit:i,...t}):!1};BIe.displayName="D07ExportButtonContainer";const WIe=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,checkEditableWorking:o,onDelete:s,onPrint:i,onSideDrawerOpen:c,...u}=e;return r.jsxs(a.Fragment,{ref:t,...u,children:[i&&r.jsx(r.Fragment,{children:r.jsx(BIe,{})}),s&&r.jsx(dt,{responsive:!0,startIcon:r.jsx(MA,{}),color:"secondary",onClick:s,children:""}),n&&r.jsx(dt,{responsive:!0,startIcon:r.jsx(bo,{}),color:"primary",onClick:n,loading:o,children:""}),r.jsx(jr,{title:"",children:r.jsx(br,{onClick:c,size:"small",children:r.jsx(Po,{})})})]})}));WIe.propTypes={onEdit:l.func,onDelete:l.func,onPrint:l.func,onSideDrawerOpen:l.func,checkEditableWorking:l.bool};const UIe=e=>{const{...t}=e,n=a.useContext(mu),o=Ke(),s=a.useMemo(()=>n.canDelete,[n.canDelete]),i=o.handleSubmit(n.onPrintSubmit,n.onPrintSubmitError);return n.itemDataReady?n.editing?r.jsx(m8,{onSave:o.handleSubmit(n.onEditorSubmit,n.onEditorSubmitError),editWorking:n.editWorking,onCancel:n.updating?n.confirmReturnReading:n.confirmQuitCreating,...t}):r.jsx(WIe,{onEdit:n.canUpdate?n.promptUpdating:null,onDelete:s?n.confirmDelete:null,onPrint:n.canPrint?i:null,onSideDrawerOpen:n.handleSideDrawerOpen,...t}):!1};UIe.displayName="D07DialogToolbarContainer";const qIe=a.forwardRef((e,t)=>{const{...n}=e,{height:o}=Wt(),s=a.useMemo(()=>o-120,[o]),i=at({defaultValues:{prods:[]}}),{reset:c}=i,u=a.useContext(mu),d=Qr({height:s,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),p=a.useMemo(()=>u.creating?"":u.updating?"":"",[u.creating,u.updating]),m=a.useMemo(()=>u.creating?u.confirmQuitCreating:u.updating?u.confirmQuitUpdating:u.reading?u.cancelAction:null,[u.cancelAction,u.confirmQuitCreating,u.confirmQuitUpdating,u.creating,u.reading,u.updating]),f=a.useCallback(()=>{u.editing&&i.handleSubmit(u.onEditorSubmit,u.onEditorSubmitError)()},[u.editing,u.onEditorSubmit,u.onEditorSubmitError,i]);$t(["Control+Enter"],()=>setTimeout(f),{enableOnFormTags:!0});const h=a.useMemo(()=>!u.editing,[u.editing]),g=a.useMemo(()=>[{...Pe.keyColumn("prod",or(ls,{name:"prod",withStock:!0,packageType:"b",forId:!0,slotProps:{paper:{sx:{width:360}}}})),title:"",minWidth:160,maxWidth:160,disabled:h},{...Pe.keyColumn("ProdData",kt({continuousUpdates:!1})),title:"",disabled:!0,grow:2},{...Pe.keyColumn("PackData_N",kt({continuousUpdates:!1})),minWidth:60,title:"",disabled:!0},{...Pe.keyColumn("SQty",Jn(2)),title:"",minWidth:90,grow:1,disabled:h}],[h]),x=hr({data:u.grid.gridData,columns:g,skipDisabled:!0,lastCell:Xn.CREATE_ROW}),y=Ue({name:"CalID",control:i.control}),D=Ue({name:"CalData",control:i.control}),v=Ue({name:"employee",control:i.control}),T=a.useCallback(()=>{if(!y){ae.error(""),i.setFocus("CalID");return}if(!D){ae.error(""),i.setFocus("CalData");return}if(!v){ae.error(""),i.setFocus("employee");return}x.setActiveCell({col:0,row:0})},[D,y,v,i,x]),I=vt(`
		CalID,
		CalData,
		employee,
		`,{lastField:T});return mn(()=>{u.itemDataReady&&(console.log("d07 form reset",u.itemData),c(u.itemData))},[u.itemData,u.itemDataReady]),r.jsx(Ye,{...i,children:r.jsxs(Er,{ref:t,title:p,responsive:!0,fullWidth:!0,maxWidth:"md",TitleButtonsComponent:UIe,open:u.itemViewOpen,onClose:m,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[{minHeight:"30em",paddingTop:0},d.scroller],...n,children:[r.jsx(Ct,{...I,gridMeta:x,readOnly:h,children:r.jsx(p8,{onSubmit:f,creating:u.creating,editing:u.editing,updating:u.updating,readWorking:u.readWorking,readError:u.readError,data:u.itemData,itemDataReady:u.itemDataReady})}),r.jsx(u8,{})]})})});qIe.displayName="D07DialogContainer";const f8=a.memo(e=>{const{onSubmit:t}=e;return r.jsx("form",{onSubmit:t,children:r.jsx(Pt,{pt:1,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,children:r.jsx(fn,{autoFocus:!0,label:"",name:"expProd",required:!0,virtualize:!0,typeToSearchText:",",triggerDelay:100,rules:{required:""}})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(et,{label:"",name:"expDate",validate:!0})})]})})})});f8.propTypes={onSubmit:l.func};f8.displayName="D07ExpDialogForm";const VIe=a.forwardRef((e,t)=>{const{...n}=e,o=at({defaultValues:{}}),s=a.useContext(mu),i=o.handleSubmit(s.onExpSubmit,s.onExpSubmitError);return mn(()=>{open&&o.reset({expProd:s.expProd,expDate:s.expDate})},[open,s.expProd,s.expDate]),r.jsx(Ye,{...o,children:r.jsx(Er,{ref:t,title:"",responsive:!0,fullWidth:!0,maxWidth:"xs",open:s.expPrompting,onClose:s.onExpDialogClose,onSubmit:i,confirmText:"",onCancel:s.onExpDialogClose,children:r.jsx(f8,{onSubmit:i})})})});VIe.displayName="D07ExpDialogContainer";const JA=e=>{const{loading:t,children:n,...o}=e,s=t&&!n;return r.jsx(j,{item:!0,pr:1,xs:4,sm:4,md:4,lg:3,...o,children:s?r.jsx(ji,{}):n||""})};JA.propTypes={loading:l.bool,children:l.oneOfType([l.node])};JA.displayName="D07IdColumn";const XA=e=>{const{loading:t,children:n,...o}=e,s=t&&!n;return r.jsx(j,{item:!0,pr:1,xs:4,sm:4,md:4,lg:10,...o,children:s?r.jsx(ji,{}):n||""})};XA.propTypes={loading:l.bool,children:l.oneOfType([l.node])};XA.displayName="D07OrderNameColumn";const ZA=e=>{const{loading:t,children:n,...o}=e,s=t&&!n;return r.jsx(j,{item:!0,pr:1,xs:9,sm:9,md:9,lg:8,...o,children:s?r.jsx(ji,{}):n||""})};ZA.propTypes={loading:l.bool,children:l.oneOfType([l.node])};ZA.displayName="D07UserColumn";const h8=a.memo(a.forwardRef((e,t)=>{const{expChecking:n,...o}=e;return r.jsxs(io,{ref:t,...o,children:[r.jsx(Hn,{}),r.jsx(JA,{children:""}),r.jsx(XA,{children:""}),r.jsx(ZA,{children:""})]})}));h8.propTypes={expChecking:l.bool};h8.displayName="D07ListHeader";const zIe=e=>{const{...t}=e,n=a.useContext(mu);return r.jsx(h8,{expChecking:n.expChecking,...t})};zIe.displayName="D07ListHeaderContainer";const HIe=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(mu),s=a.useMemo(()=>"",[]);return r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(Ao,{}),onClick:o.promptCreating,sx:{fontWeight:600},...n,children:s})}));HIe.displayName="D07CreateButtonContainer";const GIe=()=>{const e=a.useContext(mu);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};GIe.displayName="D07FetchResultLabelContainer";const ERt=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(mu);return r.jsxs(Qp,{variant:"contained",color:"neutral",size:"small",children:[r.jsx(hn,{ref:t,endIcon:r.jsx(zD,{}),onClick:o.onExpDialogOpen,className:"no-margin-right",sx:{fontWeight:600},...n,children:""}),o.expChecking&&r.jsx(fa,{className:"no-margin-right",color:"warning",onClick:o.cancelExpChecking,children:r.jsx(Cf,{fontSize:"small"})})]})}));ERt.displayName="D07ExpCheckingButtonContainer";const KIe=a.memo(()=>r.jsx(r.Fragment,{children:r.jsx(HIe,{})}));KIe.displayName="LeftButtons";const g8=a.memo(a.forwardRef(({loading:e,...t},n)=>r.jsx(kn,{pl:0,alignItems:"flex-end",ref:n,LeftComponent:e?Cr:KIe,RightComponent:GIe,...t})));g8.displayName="D07ListViewToolbar";g8.propTypes={loading:l.bool};l.bool,l.oneOfType([l.node]);l.bool,l.oneOfType([l.node]);l.bool,l.oneOfType([l.node]);l.bool,l.bool,l.oneOfType([l.node]);l.bool,l.oneOfType([l.node]);const b8=a.memo(e=>{const{index:t,style:n,value:o,loading:s,onClick:i,expChecking:c}=e,u=a.useMemo(()=>`${(o==null?void 0:o.)||""} ${(o==null?void 0:o.)||""}`,[o==null?void 0:o.,o==null?void 0:o.]);return r.jsx("div",{style:n,children:r.jsxs(yo,{borderBottom:!0,onClick:i,children:[r.jsx(na,{}),r.jsx(jt,{children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t}),r.jsx(JA,{loading:s,children:(o==null?void 0:o.)||""}),r.jsx(XA,{loading:s,children:(o==null?void 0:o.)||""}),r.jsx(ZA,{loading:s,children:u})]})})]})})});b8.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,expChecking:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func,confirmResetPword:l.func,promptCopyAuth:l.func};b8.displayName="D07ListRow";const x8=e=>{const t=a.useContext(mu),{isItemLoading:n}=t,{index:o,...s}=e,i=a.useMemo(()=>n(o),[o,n]),c=a.useMemo(()=>t.listData[o],[t.listData,o]);return r.jsx(b8,{index:o,loading:i,value:c,onClick:u=>t.handleSelect(u,c),expChecking:t.expChecking,...s})};x8.propTypes={index:l.number,data:l.object};x8.displayName="D07ListRowContainer";const QIe=()=>{const e=a.useContext(mu),{loadList:t}=e,n=Ke(),{height:o}=Wt(),s=Ue({name:"q",control:n.control}),i=Gr(s,300),c=Ue({name:"lvEmployee",control:n.control}),u=Yn(c,300);En(()=>{e.loadList({params:{}})},[]),mn(()=>{t({params:{q:i,...wj.transformAsQueryParams({employee:u})},supressLoading:!0})},[i,u]);const d=a.useMemo(()=>o?o-200:300,[o]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:x8,height:d,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};QIe.displayName="D07ListViewContainer";const y8=a.memo(e=>{const{...t}=e;return r.jsx(Pt,{children:r.jsxs(Vt,{container:!0,spacing:1,columns:24,...t,children:[r.jsx(Vt,{item:!0,md:5,children:r.jsx($e,{name:"q",label:"",size:"small",fullWidth:!0,autoFocus:!0,clearable:!0,clearOnEscape:!0})}),r.jsx(Vt,{item:!0,md:5,children:r.jsx(Ar,{name:"lvEmployee",label:"",disableOpenOnInput:!0})})]})})});y8.propTypes={};y8.displayName="D07SearchForm";const YIe=e=>{const{...t}=e,n=vt(`
		q,
		lvEmployee,
		`);return r.jsx(Ct,{...n,children:r.jsx(y8,{...t})})};YIe.displayName="D07SearchFormContainer";const JIe=()=>{const e=at({defaultValues:{}});return r.jsxs(Ft,{children:[r.jsxs(Ye,{...e,children:[r.jsx(_t,{}),r.jsxs(li,{children:[r.jsx(YIe,{}),r.jsx(g8,{}),r.jsx(zIe,{}),r.jsx(QIe,{})]})]}),r.jsx(qIe,{}),r.jsx(VIe,{})]})};JIe.displayName="D07FrameContainer";const PRt=r.jsxs(r.Fragment,{children:[r.jsx(yt,{path:"D01",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(g1e,{children:r.jsx(W1e,{})})})})}),r.jsx(yt,{path:"D02",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(x1e,{children:r.jsx(eIe,{})})})})}),r.jsx(yt,{path:"D041",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(C1e,{children:r.jsx(fIe,{})})})})}),r.jsx(yt,{path:"D05",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(v1e,{children:r.jsx(IIe,{})})})})}),r.jsx(yt,{path:"D06",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(I1e,{children:r.jsx(LIe,{})})})})}),r.jsx(yt,{path:"D07",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(O1e,{children:r.jsx(JIe,{})})})})})]}),RRt=()=>({Pkey:zn(),prod:null,ProdData_N:"",PackData_N:"",SQflag:"",SPrice:"",SOutQty:"",SQty:"",SAmt:"",stype:null,SRemark:"",SNotQty:""}),rB=Object.freeze({RETAIL:"Y",NORMAL:"N"}),C8=[{id:rB.RETAIL,label:""},{id:rB.NORMAL,label:""}],wRt=e=>{if(!e)return"";const{id:t,label:n}=e;return`[${t||"  "}] ${n}`},kRt=e=>C8.find(t=>t.id===e),ARt=e=>C8.find(t=>{var n;return((n=t.id)==null?void 0:n.toLowerCase())===(e==null?void 0:e.toLowerCase())}),NRt=(e,t)=>(e==null?void 0:e.id)==(t==null?void 0:t.id),Eb=Object.freeze({NONE:"",NOT:"N",MARK_AS_SQUARED:"Y",SQUARED:"*"}),XIe=[{id:Eb.NOT,label:"[ ]"},{id:Eb.MARK_AS_SQUARED,label:"[Y]"},{id:Eb.SQUARED,label:"[*]"}],FRt=e=>XIe.find(t=>t.id===e),D8=[{id:Eb.NONE,label:""},{id:Eb.MARK_AS_SQUARED,label:""},{id:Eb.SQUARED,label:""}],MRt=e=>{if(!e)return"";const{id:t,label:n}=e;return[n].filter(Boolean).join(" ")},ZIe=e=>D8.find(t=>t.id===e),_Rt=e=>D8.find(t=>{var n;return((n=t.id)==null?void 0:n.toLowerCase())===(e==null?void 0:e.toLowerCase())}),LRt=(e,t)=>(e==null?void 0:e.id)==(t==null?void 0:t.id),$Rt=e=>!1,BRt=(e,t,n)=>(e==null?void 0:e.map(o=>{const{ProdID:s,ProdData_N:i,PackData_N:c,Price_N:u}=o;return{Pkey:zn(),prod:{ProdID:s,ProdData:i},ProdData_N:i,PackData_N:c,Price:u,employee:s?t:null,QDate:s?n:null}}))||[],eTe=({rowData:e,rowIndex:t})=>{var s;let n=[];if((s=e==null?void 0:e.prod)!=null&&s.ProdID){if(!wo.isNullOrEmpty(e==null?void 0:e.StockQty_N)){const i=e.StockQty_N;n.push(`${i||0}`)}if(!wo.isNullOrEmpty(e==null?void 0:e.OrdQty_N)){const i=e.OrdQty_N;n.push(`${i||0}`)}if(!wo.isNullOrEmpty(e==null?void 0:e.LaveQty_N)){const i=e.LaveQty_N;n.push(`${i||0}`)}}const o=n.join(", ");return console.log(`${eTe.name}`,o),o},S8=({rowData:e,rowIndex:t})=>{var o;let n=[];if((o=e==null?void 0:e.prod)!=null&&o.ProdID){if(e!=null&&e.StockQty_N){const s=e.StockQty_N;n.push({label:"",value:s??0})}if(e!=null&&e.OrdQty_N){const s=e.OrdQty_N;n.push({label:"",value:s??0})}if(e!=null&&e.LaveQty_N){const s=Number(e.LaveQty_N),i=Number(e==null?void 0:e.SafeQty_N)||0,c=i>0?s-i:s;s<(i>0?i:0)&&n.push({label:"",value:c})}}return console.log(`${S8.name}`,n),n},tTe=e=>(e==null?void 0:e.map((t,n)=>{const{SProdID:o,ProdData_N:s,PackData_N:i,SType:c,...u}=t;let d={prod:o?{ProdID:o,ProdData:s}:null,ProdData_N:s,PackData_N:i,stype:zc.getOptionById(c),...u};return d.tooltip=S8({rowData:d,rowIndex:n}),d}))||[],WRt=e=>e.filter(t=>{var n;return(n=t.prod)==null?void 0:n.ProdID}).map((t,n)=>{const{Pkey:o,prod:s,SPrice:i,SQty:c,SAmt:u,stype:d,SNotQty:p,SOutQty:m,...f}=t;return{Pkey:(o==null?void 0:o.length)<36?"":o,SProdID:s?s.ProdID:"",SQty:(c==null?void 0:c.toString())||"",SPrice:(i==null?void 0:i.toString())||"",SAmt:(u==null?void 0:u.toString())||"",SType:(d==null?void 0:d.id)||"",SNotQty:(p==null?void 0:p.toString())||"",SOutQty:(m==null?void 0:m.toString())||"",Seq:n+1,...f}}),nTe=e=>{const{TrafID:t,TrafData_N:n}=e||{};return t?{CodeID:t,CodeData:n}:null},rTe=e=>{const{TaxType:t}=e||{};return t==="Y"},URt=(e={})=>{const{SalType:t}=e;return t==="Y"},oTe=e=>{const{RecvID:t,RecvData_N:n}=e||{};return t?{CodeID:t,CodeData:n}:null},sTe=e=>{const{EmplID:t,EmplData_N:n}=e||{};return t?{CodeID:t,CodeData:n}:null},qRt=e=>{const{EmplID:t,EmplData_N:n,ArrDate:o,OrdDate:s,CFlag:i,SalType:c,CustID:u,CustName:d,RecvID:p,RecvData_N:m,TaxType:f,TrafID:h,TrafData_N:g,PrtAmt:x,SaleOrd_S:y,Remark:D,...v}=e;return{OrdDate:Re.parseDate(s),ArrDate:Re.parseDate(o),squared:ZIe(i),retail:URt({SalType:c}),customer:u?{CustID:u,CustData:d}:null,CustName:d,paymentType:oTe({RecvID:p,RecvData_N:m}),employee:sTe({EmplID:t,EmplData_N:n}),transType:nTe({TrafID:h,TrafData_N:g}),taxExcluded:rTe({TaxType:f}),dontPrtAmt:x==="N",prods:tTe(y),remark:D.join(`
`),...v}},VRt=(e,t)=>{const{OrdDate:n,ArrDate:o,squared:s,retail:i,customer:c,CustName:u,paymentType:d,employee:p,transType:m,dontPrtAmt:f,taxExcluded:h,remark:g,prod:x,prods:y,stype:D,...v}=e;return console.log("ignores",x,y,D),{OrdDate:Re.formatDate(n),ArrDate:Re.formatDate(o),CFlag:(s==null?void 0:s.id)||"",SalType:i?"Y":"",CustID:(c==null?void 0:c.CustID)||"",CustName:u,RecvID:(d==null?void 0:d.CodeID)||"",EmplID:(p==null?void 0:p.CodeID)||"",PrtAmt:f?"N":"Y",Remark:g.split(`
`),TrafID:(m==null?void 0:m.CodeID)||"",TaxType:h?"Y":"",...v,...t&&{SaleOrd_S:WRt(t)}}},zRt=e=>{switch(e==null?void 0:e.toUpperCase()){case"N":return"";case"":return null;default:return e==null?void 0:e.toUpperCase()}},HRt=e=>{switch(e==null?void 0:e.toUpperCase()){case"N":return 0;case"Y":return 1;case"":default:return null}},GRt=e=>{var o,s,i,c;console.log("transformAsQueryParams",e);const t=zRt((o=e.squared)==null?void 0:o.id),n=HRt((s=e.salesType)==null?void 0:s.id);return{q:e.q,ordDate:Re.formatDate(e.ordDate),arrDate:Re.formatDate(e.arrDate),...t!=null&&{cflag:t},...n!=null&&{retail:n},cust:(i=e.cust)==null?void 0:i.CustID,custName:e.custName,compTel:e.compTel,employee:(c=e.employee)==null?void 0:c.CodeID}},KRt=e=>{var t,n,o,s,i,c;return{pi:(t=e.sprod)==null?void 0:t.ProdID,pi2:(n=e.eprod)==null?void 0:n.ProdID,pn:e.prodName,cl:(o=e.catL)==null?void 0:o.LClas,cm:(s=e.catM)==null?void 0:s.MClas,cs:(i=e.catS)==null?void 0:i.SClas,ta:(c=e.typeA)==null?void 0:c.id}},QRt=e=>{if(!e)return 0;let t=0;for(const n of e){const{SAmt:o}=n;t+=o?Number(o):0}return t},Go={createRow:RRt,transformForReading:qRt,transformForSubmitting:VRt,transformAsQueryParams:GRt,transformForGridImport:BRt,transformGridForReading:tTe,transformProdCriteriaAsQueryParams:KRt,SquaredState:Eb,listSquaredOptions:XIe,getListSquaredOptionById:FRt,squaredOptions:D8,getSquaredOptionLabel:MRt,getSquaredOptionById:ZIe,getSquaredOptionDisabled:$Rt,findSquaredOptionByInput:_Rt,isSquaredOptionEqualToValue:LRt,SalesType:rB,salesTypeOptions:C8,getSalesTypeOptionLabel:wRt,getSalesTypeOptionById:kRt,findSalesTypeOptionByInput:ARt,isSalesTypeOptionEqualToValue:NRt,getTransType:nTe,getTaxExcluded:rTe,getPaymentType:oTe,getEmployee:sTe,getTotal:QRt,getTooltip:eTe,getTooltips:S8},YRt=()=>{var Ge,We;const e=a.useContext(ln),t=a.useContext(cr),{itemData:n}=t,o=a.useRef(),{token:s,operator:i}=a.useContext(Be),c=Bt({moduleId:"E01"}),{toModule:u}=nm(),d=Co(),[p,m]=a.useState(),{httpGetAsync:f,httpPostAsync:h,httpPutAsync:g,httpDeleteAsync:x}=Zn(),y=a.useContext(Mr),D=so({url:"v1/sales/customer-orders",bearer:s,initialFetchSize:50}),v=a.useCallback(()=>Go.createRow(),[]),T=yr({gridId:"prods",keyColumn:"Pkey",createRow:v}),I=jf({grid:T,convType:"s"}),P=a.useRef(),E=a.useCallback(()=>P.current,[]),k=a.useCallback(Ee=>{P.current={...P.current,...Ee},console.log("prevData",E())},[E]),w=a.useCallback(({rowData:Ee})=>{var Xe;return(Xe=Ee.stype)!=null&&Xe.id?"line-through":null},[]),A=a.useCallback(({rowData:Ee})=>!!Ee.SQflag||!!Ee.stype,[]),F=a.useCallback(({rowData:Ee})=>Ee.SOutQty>0||(!!(n!=null&&n.SalIDs)&&Ee.SQty!==Ee.SNotQty&&Ee.SNotQty)>0,[n==null?void 0:n.SalIDs]),_=a.useCallback(({rowData:Ee})=>(Ee==null?void 0:Ee.SOutQty)&&Number(Ee==null?void 0:Ee.SOutQty)>=Number(Ee==null?void 0:Ee.SQty),[]),L=a.useCallback(({rowData:Ee})=>(n==null?void 0:n.SalIDs)||(Ee==null?void 0:Ee.SOutQty)&&Number(Ee==null?void 0:Ee.SOutQty)>0,[n==null?void 0:n.SalIDs]),K=a.useCallback(()=>{const Ee={OrdDate:new Date,ArrDate:new Date,taxExcluded:!1,retail:!1,prods:[]};t.promptCreating({data:Ee}),I.reset(),T.initGridData(Ee.prods,{fillRows:13})},[t,T,I]),z=a.useCallback(async({data:Ee})=>{try{t.startCreating();const{status:Xe,error:ot}=await h({url:"v1/sales/customer-orders",data:Ee,bearer:s});if(Xe.success)ae.success(""),t.finishedCreating(),t.cancelReading(),D.loadList({refresh:!0});else throw ot??new Error("")}catch(Xe){t.failedCreating(),console.error("handleCreate.failed",Xe),ae.error("",Xe)}},[t,h,D,s]),J=a.useCallback(async({id:Ee,refresh:Xe=!1})=>{try{const ot=Xe?o.current:Ee;Xe||(o.current=ot,t.startReading("...",{itemId:ot}));const{status:ze,payload:tt,error:ft}=await f({url:"v1/sales/customer-orders",bearer:s,params:{id:ot}});if(ze.success){const ht=Go.transformForReading(tt.data[0]);t.finishedReading({data:ht}),I.recoverStockMap(ht.prods,{stock:{simulate:!1},prepared:{excludeSelfOrder:!0},safety:!0}),m(ht),T.initGridData(ht.prods)}else throw ft??new Error("")}catch(ot){t.failedReading(ot)}},[f,s,t,I,T]),Q=a.useCallback(async(Ee,Xe)=>{console.log("handleSelect",Xe),Ee==null||Ee.stopPropagation(),t.cancelAction(),J({id:Xe.})},[t,J]),V=a.useCallback(()=>{y.confirm({message:"?",onConfirm:()=>{t.cancelAction()}})},[t,y]),W=a.useCallback(()=>{y.confirm({message:"?",onConfirm:()=>{t.cancelAction(),J({refresh:!0})}})},[t,y,J]),U=a.useCallback(()=>{y.confirm({message:"?",onConfirm:()=>{t.cancelUpdating(),J({refresh:!0})}})},[t,y,J]),X=a.useCallback(async({data:Ee})=>{try{t.startUpdating();const{status:Xe,error:ot}=await g({url:"v1/sales/customer-orders",data:Ee,bearer:s});if(Xe.success)ae.success(""),t.finishedUpdating(),J({refresh:!0}),D.loadList({refresh:!0});else throw ot??new Error("")}catch(Xe){t.failedUpdating(),console.error("handleCreate.failed",Xe),ae.error("",Xe)}},[t,g,D,J,s]),te=a.useCallback(()=>{y.confirm({message:`${n==null?void 0:n.OrdID}?`,onConfirm:async()=>{try{t.startDeleting(n);const{status:Ee,error:Xe}=await x({url:"v1/sales/customer-orders",bearer:s,params:{id:n==null?void 0:n.OrdID}});if(Ee.success)t.cancelAction(),ae.success(` ${n==null?void 0:n.OrdID}`),D.loadList({refresh:!0});else throw Xe||""}catch(Ee){t.failedDeleting(Ee),console.error("confirmDelete.failed",Ee),ae.error("",Ee)}}})},[t,y,x,n,D,s]),se=a.useCallback(Ee=>{console.log("onSearchSubmit",Ee)},[]),he=a.useCallback(Ee=>{console.error("onSearchSubmitError",Ee)},[]),pe=a.useCallback(async(Ee,{formData:Xe})=>{var ot;if(!Ee){ae.error("",{position:"top-right"});return}if(!_w.isDate(Xe.OrdDate)){ae.error("",{position:"top-right"});return}try{const{status:ze,payload:tt,error:ft}=await f({url:"v1/sales/customer-orders/prod-info",bearer:s,params:{id:Ee,retail:Xe.retail?1:0,cst:((ot=Xe.customer)==null?void 0:ot.CustID)||"",ordDate:Re.formatDate(Xe.OrdDate)}});if(ze.success)return I.updateStockQty(Ee,tt.StockQty),{...tt,...tt.Price&&{SQflag:tt.QFlag}};throw ft??new Error("")}catch(ze){ae.error("",ze)}},[f,I,s]),ue=a.useCallback(async({taxExcluded:Ee,gridData:Xe,setValue:ot})=>{const ze=Go.getTotal(Xe);try{const{status:tt,payload:ft,error:ht}=await f({url:"v1/sales/customer-orders/refresh-amt",bearer:s,data:{taxExcluded:Ee?1:0,ordAmt:ze}});if(tt.success)console.log("refresh-amt",ft),ot("OrdAmt",ze.toString()),ot("TaxAmt",ft.TaxAmt),ot("TotAmt",ft.TotAmt);else throw ht||new Error("")}catch(tt){ae.error("",tt)}},[f,s]),ge=a.useCallback(({setValue:Ee,getValues:Xe})=>async ot=>{console.log("onTaxTypeChanged",ot),ue({gridData:T.gridData,taxExcluded:ot,setValue:Ee})},[ue,T.gridData]),Ce=a.useCallback(({setValue:Ee})=>Xe=>{console.log("onActiveCellChange",Xe)},[]),Te=a.useCallback(async({rowData:Ee,rowIndex:Xe,formData:ot,newValue:ze,updateResult:tt})=>{var un,Je,qt;let ft={...Ee};const ht=(un=Ee==null?void 0:Ee.prod)==null?void 0:un.ProdID,en=ht?await pe(ht,{formData:ot}):null;return ht&&(I.updateStockQty(ht,Number(en==null?void 0:en.StockQty)),I.updatePreparedQty(ht,Number(en==null?void 0:en.NotQty))),ft={...ft,prod:en?ft.prod:null,ProdData_N:en?((Je=ft.prod)==null?void 0:Je.ProdData)??"":"",PackData_N:((qt=ft==null?void 0:ft.prod)==null?void 0:qt.PackData_N)??"",SQflag:(en==null?void 0:en.QFlag)??"",SPrice:(en==null?void 0:en.Price)??"",SafeQty_N:(en==null?void 0:en.SafeQty_N)??"",SQty:"",SAmt:"",stype:null,SRemark:"",SNotQty:"",SOutQty:"",StockQty:"",OrdQty_N:"",LaveQty_N:"",tooltip:""},ft},[pe,I]),Ne=a.useCallback(({fromRowIndex:Ee,formData:Xe,newValue:ot,updateResult:ze})=>async(tt,ft)=>{var qt,Tt,Jt,st,Dt;const ht=Ee+ft;ze.rowIndex=ht;const en=T.gridData[ht];console.log(` ${ht+1} ...`,tt);let un={...tt},Je=!1;return((qt=un.prod)==null?void 0:qt.ProdID)!==((Tt=en==null?void 0:en.prod)==null?void 0:Tt.ProdID)&&(console.log(`prod[${ht+1}] changed`,tt==null?void 0:tt.prod),un=await Te({rowData:un,rowIndex:ht,oldRowData:en,formData:Xe,newValue:ot}),ze.cols.push("prod")),un.SQty!==en.SQty&&(ze.cols.push("SQty"),un={...un,SNotQty:tt.SQty},ze.cols.push("SNotQty")),(((Jt=un.stype)==null?void 0:Jt.id)!==((st=en.stype)==null?void 0:st.id)||un.SPrice!==en.SPrice||un.SQty!==en.SQty)&&(Je=!0,un={...un,SAmt:!un.SPrice||!un.SQty?"":(Dt=un.stype)!=null&&Dt.id?0:un.SPrice*un.SQty},ze.cols.push("SAmt")),tt.SNotQty!==en.SNotQty&&(un={...un,SNotQty:tt.SNotQty===0?0:tt.SQty-tt.SOutQty},ze.cols.push("SNotQty")),Je&&ze.rows++,un},[T.gridData,Te]),xe=a.useCallback(({rowData:Ee})=>!!(n!=null&&n.SalIDs),[n==null?void 0:n.SalIDs]),me=a.useCallback(({key:Ee,rowData:Xe})=>!(n!=null&&n.SalIDs),[n==null?void 0:n.SalIDs]),de=a.useCallback(({updateResult:Ee,prevGridData:Xe,gridData:ot,rowIndex:ze})=>{var ft,ht,en,un,Je;console.log(`mapTooltip(rowIndex: ${ze})`);let tt;return(Ee==null?void 0:Ee.type)==="DELETE"?tt=((ht=(ft=Xe[ze])==null?void 0:ft.prod)==null?void 0:ht.ProdID)||"":(tt=(en=ot[ze].prod)==null?void 0:en.ProdID,tt||(tt=((Je=(un=Xe[ze])==null?void 0:un.prod)==null?void 0:Je.ProdID)||"")),tt?ot.map((qt,Tt)=>{var Jt;if(((Jt=qt.prod)==null?void 0:Jt.ProdID)===tt){if(qt.SNotQty&&qt.SNotQty<=0||qt.SOutQty&&qt.SOutQty!=0)return{...qt,StockQty_N:"",OrdQty_N:"",LaveQty_N:"",tooltip:""};let st=ot.reduce((Rt,Ze)=>{var dn;return((dn=Ze.prod)==null?void 0:dn.ProdID)===tt?Rt+Number(Ze.SQty||0):Rt},0);const Dt=I.getStockQty(tt),An=I.getPreparedQty(tt)+st,_n=Dt-An;let pt={...qt,StockQty_N:Dt,OrdQty_N:An,LaveQty_N:_n};return pt={...pt,tooltip:Go.getTooltips({rowData:pt,rowIndex:ze})},pt}return qt}):ot},[I]),ce=a.useCallback(async({gridData:Ee,formData:Xe,setValue:ot,updateResult:ze,prevGridData:tt})=>{if(console.log("useE01.onGridChanged",ze),ze.rows>0&&!ze.cols.includes("prod")&&await ue({gridData:Ee,taxExcluded:Xe.taxExcluded,setValue:ot}),ze.cols.includes("prod")||ze.cols.includes("SQty")||ze.type==="DELETE"){console.log("before reduce",Ee);const ft=de({updateResult:ze,prevGridData:tt,gridData:Ee,rowIndex:ze.rowIndex});return console.log("after reduce",ft),ft}},[ue,de]),ee=a.useCallback(Ee=>{console.log("onEditorSubmit",Ee);const Xe=Go.transformForSubmitting(Ee,T.gridData);console.log("collected",Xe),t.creating?z({data:Xe}):t.updating?X({data:Xe}):console.error("UNKNOWN SUBMIT TYPE")},[t.creating,t.updating,T,z,X]),De=a.useCallback(Ee=>{console.error("onEditorSubmitError",Ee)},[]),ke=a.useCallback(({rowData:Ee,rowIndex:Xe})=>`${(Ee==null?void 0:Ee.Pkey)||Xe}`,[]),He=Or(),[qe,Le]=a.useState({criteria:null,saveKey:null,totalElements:null,loading:!1}),_e=a.useCallback(async Ee=>{if(!s)throw new Error("token not specified");if(Gn.isAllPropsEmpty(Ee)){console.log("criteria is empty"),qe.saveKey&&Le(Xe=>({...Xe,saveKey:null,totalElements:null}));return}Le(Xe=>({...Xe,loading:!0,criteria:Ee}));try{const{status:Xe,payload:ot,error:ze}=await f({url:"v1/prod/data-grid/E01",bearer:s,params:{...Go.transformProdCriteriaAsQueryParams(Ee),pk:1}});if(Xe.success)Le(tt=>{var ft,ht;return{...tt,saveKey:(ft=ot.Select)==null?void 0:ft.SaveKey,totalElements:(ht=ot.Select)==null?void 0:ht.TotalRecord}});else throw ze??new Error("")}catch(Xe){console.error("peek failed",Xe),ae.error("",Xe)}finally{Le(Xe=>({...Xe,loading:!1}))}},[f,qe.saveKey,s]),H=a.useCallback(({form:Ee})=>async Xe=>{var ot;console.log("onImportProdsSubmit",Xe);try{He.start();const{status:ze,payload:tt,error:ft}=await f({url:"v1/prod/data-grid/E01",bearer:s,params:{...Go.transformProdCriteriaAsQueryParams(qe.criteria),sk:qe.saveKey}});if(ze.success){const ht=((ot=tt.data)==null?void 0:ot[0].E01031_W1)||[];console.log("data",ht);const en=Ee.getValues();T.initGridData(Go.transformForGridImport(ht,en==null?void 0:en.employee,en==null?void 0:en.Date),{createRow:v}),ae.success(` ${ht.length} `),He.clear()}else throw ft??new Error("")}catch(ze){He.fail({error:ze}),ae.error("",ze)}},[v,f,He,qe.criteria,qe.saveKey,T,s]),re=a.useCallback(Ee=>{console.error("onImportProdsSubmitError",Ee)},[]),q=a.useMemo(()=>`${e.REPORT_URL}/WebE01Rep.aspx`,[e.REPORT_URL]),Y=yn(),ie=a.useCallback(Ee=>{var ot;console.log("onPrintSubmit",Ee);const Xe={...Ee.outputType&&{Action:Ee.outputType.id},DeptID:i==null?void 0:i.CurDeptID,JobName:"E01",IDs:(ot=t.itemData)==null?void 0:ot.OrdID};console.log("data",Xe),Y.open(q,Xe)},[(Ge=t.itemData)==null?void 0:Ge.OrdID,i==null?void 0:i.CurDeptID,q,Y]),B=a.useCallback(Ee=>{console.error("onPrintSubmitError",Ee)},[]),Z=a.useCallback(({setValue:Ee})=>Xe=>{console.log("handlePrint",Xe),Ee("outputType",Xe)},[]),ye=vt(`
		sprod,
		eprod,
		typeA,
		catL,
		catM,
		catS
		`),Ie=a.useMemo(()=>(n==null?void 0:n.CFlag)==="*"||t.creating,[t.creating,n==null?void 0:n.CFlag]),le=a.useCallback(({setValue:Ee,gridMeta:Xe})=>ot=>{console.log("handleRetailChange",ot),Ee("customer",null),Ee("CustName",""),Ee("CompTel",""),Ee("RecAddr",""),Ee("InvAddr",""),Ee("UniForm",""),Ee("transType",null,{shouldTouch:!0}),Ee("taxExcluded",null,{shouldTouch:!0}),Ee("paymentType",null,{shouldTouch:!0}),Ee("employee",null,{shouldTouch:!0}),Xe.setActiveCell(null),T.initGridData([],{fillRows:!0})},[T]),fe=a.useCallback(({setValue:Ee})=>async Xe=>{console.log("onRefreshGridSubmit",Xe);try{const ot=Go.transformForSubmitting(Xe,T.gridData);console.log("collected",ot);const{status:ze,payload:tt,error:ft}=await h({url:"v1/sales/customer-orders/refresh-grid",bearer:s,data:ot});if(console.log("refresh-grid.payload",tt),ze.success){const ht=Go.transformForReading(tt.data[0]);console.log("data.prods",ht.prods),T.initGridData(T.fillRows({data:ht.prods,createRow:v})),Ee("TaxAmt",ht.TaxAmt),Ee("OrdAmt",ht.OrdAmt),Ee("TotAmt",ht.TotAmt),k({customer:ht==null?void 0:ht.customer})}else throw ft??new Error("")}catch(ot){console.error("onRefreshGridSubmit failed",ot),ae.error("",ot);const ze=E();Ee("customer",ze==null?void 0:ze.customer)}},[T,h,s,v,k,E]),Ae=a.useCallback(Ee=>{console.error("onRefreshGridSubmitError",Ee)},[]),Se=a.useCallback(({setValue:Ee,getValues:Xe,formMeta:ot,gridMeta:ze,handleSubmit:tt})=>async ft=>{console.log("handleCustomerChange",ft),ot.supressEvents(),Ee("CustName",(ft==null?void 0:ft.AbbrName)??"");let ht=null;if(ft){const en=Xe("retail");try{const{status:un,payload:Je,error:qt}=await f({url:"v1/sales/customer-orders/customer-info",bearer:s,params:{cst:ft.CustID,sal:en?"Y":""}});if(un.success)ht=Je.data[0];else throw qt??new Error("")}catch(un){console.error(un),ae.error("",un)}}Ee("CompTel",(ht==null?void 0:ht.CompTel)||""),Ee("RecAddr",(ht==null?void 0:ht.RecAddr)||""),Ee("InvAddr",(ht==null?void 0:ht.InvAddr)||""),Ee("UniForm",(ht==null?void 0:ht.UniForm)||""),Ee("transType",Go.getTransType(ht),{shouldTouch:!0}),Ee("taxExcluded",Go.getTaxExcluded(ht),{shouldTouch:!0}),Ee("paymentType",Go.getPaymentType(ht),{shouldTouch:!0}),Ee("employee",Go.getEmployee(ht),{shouldTouch:!0}),T.gridData.filter(en=>{var un;return(un=en.prod)==null?void 0:un.ProdID}).length>0?tt():console.log("grid is empty, refresh-grid not triggered"),ze.setActiveCell(null),ot.enableEvents()},[T.gridData,f,s]),be=Or(),Me=a.useCallback(async()=>{try{be.start();const{status:Ee,error:Xe}=await f({url:"v1/sales/customer-orders/check-editable",bearer:s,params:{id:t.itemData.OrdID}});if(Ee.success)t.promptUpdating();else throw Xe??new Error("")}catch(Ee){ae.error("",Ee)}finally{be.clear()}},[be,t,f,s]),we=a.useCallback(()=>{var Ee;u("E021",{target:(Ee=t.itemData)==null?void 0:Ee.OrdID})},[(We=t.itemData)==null?void 0:We.OrdID,u]);return{...t,...D,...c,selectedOrd:p,loadItem:J,handleSelect:Q,onSearchSubmit:se,onSearchSubmitError:he,confirmQuitCreating:V,confirmQuitUpdating:W,confirmReturnReading:U,confirmDelete:te,promptCreating:K,onEditorSubmit:ee,onEditorSubmitError:De,createRow:v,...T,grid:T,onUpdateRow:Ne,getRowKey:ke,isRowDeletable:me,sprodDisabled:xe,importProdsWorking:He.working,promptImportProds:He.prompt,cancelImportProds:He.clear,importProdsDialogOpen:He.active,onImportProdsSubmit:H,onImportProdsSubmitError:re,peekProds:_e,ipState:qe,onPrintSubmit:ie,onPrintSubmitError:B,handlePrint:Z,loadProdFormMeta:ye,...d,squaredDisabled:Ie,handleRetailChange:le,handleCustomerChange:Se,getSPriceClassName:w,spriceDisabled:A,sqtyDisabled:F,sNotQtyDisabled:_,stypeDisabled:L,onGridChanged:ce,handleTaxTypeChange:ge,checkEditableWorking:be.working,handleCheckEditable:Me,onActiveCellChange:Ce,onRefreshGridSubmit:fe,onRefreshGridSubmitError:Ae,gotoE021:we}},fu=a.createContext(),aTe=({children:e})=>{const t=YRt();return r.jsx(fu.Provider,{value:{...t},children:e})};aTe.propTypes={children:l.oneOfType([l.array,l.object])};const JRt=()=>({Pkey:zn(),prod:null,ProdData_N:"",PackData_N:"",SQflag:"",SPrice:"",SQty:"",SAmt:"",stype:null,dtype:null,SRemark:""}),qP=Object.freeze({NONE:"",RETAIL:"Y",NORMAL:"N"}),v8=[{id:qP.NONE,label:""},{id:qP.RETAIL,label:""},{id:qP.NORMAL,label:""}],XRt=e=>{if(!e)return"";const{id:t,label:n}=e;return`[${t||"  "}] ${n}`},ZRt=e=>v8.find(t=>t.id===e),ewt=e=>v8.find(t=>{var n;return((n=t.id)==null?void 0:n.toLowerCase())===(e==null?void 0:e.toLowerCase())}),twt=(e,t)=>(e==null?void 0:e.id)==(t==null?void 0:t.id),kj=Object.freeze({NONE:"",NOT:"N",MARK_AS_SQUARED:"Y",SQUARED:"*"}),j8=[{id:kj.NONE,label:""},{id:kj.NOT,label:""},{id:kj.MARK_AS_SQUARED,label:""},{id:kj.SQUARED,label:""}],nwt=e=>{if(!e)return"";const{id:t,label:n}=e;return`[${t||"  "}] ${n}`},rwt=e=>j8.find(t=>t.id===e),owt=e=>j8.find(t=>{var n;return((n=t.id)==null?void 0:n.toLowerCase())===(e==null?void 0:e.toLowerCase())}),swt=(e,t)=>(e==null?void 0:e.id)==(t==null?void 0:t.id),awt=e=>!1,iwt=(e,t,n)=>(e==null?void 0:e.map(o=>{const{ProdID:s,ProdData_N:i,PackData_N:c,Price_N:u}=o;return{Pkey:zn(),prod:{ProdID:s,ProdData:i},ProdData_N:i,PackData_N:c,Price:u,employee:s?t:null,QDate:s?n:null}}))||[],iTe=e=>e==null?void 0:e.map((t,n)=>{const{Pkey:o,ProdData_N:s,PackData_N:i,SAmt:c,SPrice:u,SProdID:d,SQflag:p,SQty:m,SQtyNote:f,SRemark:h,SType:g,SRsnID:x,RsnData_N:y,Seq:D,...v}=t;let T={Pkey:o,prod:d?{ProdID:d,ProdData:s}:null,ProdData_N:s,PackData_N:i,SQflag:p,SPrice:u,SQtyNote:f,SQty:m,SAmt:c,stype:zc.getOptionById(g),dtype:cwt({SRsnID:x,RsnData_N:y}),SRemark:h,Seq:D,...v};return T.tooltip=I8({rowData:T,rowIndex:n}),T}),lwt=e=>e.filter(t=>{var n;return(n=t.prod)==null?void 0:n.ProdID}).map((t,n)=>{const{Pkey:o,prod:s,SPrice:i,SQty:c,SAmt:u,stype:d,dtype:p,...m}=t;return{Pkey:(o==null?void 0:o.length)<36?"":o,SProdID:s?s.ProdID:"",SQty:(c==null?void 0:c.toString())||"",SPrice:(i==null?void 0:i.toString())||"",SAmt:(u==null?void 0:u.toString())||"",SType:(d==null?void 0:d.id)||"",SRsnID:(p==null?void 0:p.CodeID)||"",Seq:n+1,...m}}),lTe=e=>{const{TrafID:t,TrafData_N:n}=e||{};return t?{CodeID:t,CodeData:n}:null},cwt=e=>{const{SRsnID:t,RsnData_N:n}=e||{};return t?{CodeID:t,CodeData:n}:null},cTe=e=>{const{TaxType:t}=e||{};return t==="Y"},uwt=(e={})=>{const{SalType:t}=e;return t==="Y"},uTe=e=>{const{RecvID:t,RecvData_N:n}=e||{};return t?{CodeID:t,CodeData:n}:null},dTe=e=>{const{EmplID:t,EmplData_N:n}=e||{};return t?{CodeID:t,CodeData:n}:null},I8=({rowData:e,rowIndex:t})=>{var o;let n=[];return(o=e==null?void 0:e.prod)!=null&&o.ProdID&&e.SOrdID&&n.push({label:"",value:e.SOrdID.includes("#")?e.SOrdID.split("#")[0]:e.SOrdID||""}),console.log(`${I8.name}`,n),n},dwt=e=>{const{EmplID:t,EmplData_N:n,RetDate:o,SalType:s,CustID:i,CustName:c,RecvID:u,RecvData_N:d,TaxType:p,TrafID:m,TrafData_N:f,SaleRet_S:h,Remark:g,...x}=e;return{RetDate:Re.parseDate(o),retail:uwt({SalType:s}),customer:i?{CustID:i,CustData:c}:null,CustName:c,paymentType:uTe({RecvID:u,RecvData_N:d}),employee:dTe({EmplID:t,EmplData_N:n}),transType:lTe({TrafID:m,TrafData_N:f}),taxExcluded:cTe({TaxType:p}),prods:iTe(h),remark:g.join(`
`),...x}},pwt=(e,t)=>{const{RetDate:n,retail:o,customer:s,CustName:i,paymentType:c,employee:u,transType:d,taxExcluded:p,remark:m,...f}=e;return{RetDate:Re.formatDate(n)||"",SalType:o?"Y":"",CustID:(s==null?void 0:s.CustID)||"",CustName:i,RecvID:(c==null?void 0:c.CodeID)||"",EmplID:(u==null?void 0:u.CodeID)||"",Remark:m.split(`
`),TrafID:(d==null?void 0:d.CodeID)||"",TaxType:p?"Y":"",...f,...t&&{SaleRet_S:lwt(t)}}},mwt=e=>{switch(e==null?void 0:e.toUpperCase()){case"N":return 0;case"Y":return 1;case"":default:return null}},fwt=e=>{var n,o,s;console.log("transformAsQueryParams",e);const t=mwt((n=e.salesType)==null?void 0:n.id);return{q:e.q,rdate:Re.formatDate(e.returnDate),...t!=null&&{retail:t},cust:(o=e.cust)==null?void 0:o.CustID,...e.custName&&{custName:e.custName},...e.compTel&&{compTel:e.compTel},employee:(s=e.employee)==null?void 0:s.CodeID}},hwt=e=>{var t,n,o,s,i,c;return{pi:(t=e.sprod)==null?void 0:t.ProdID,pi2:(n=e.eprod)==null?void 0:n.ProdID,pn:e.prodName,cl:(o=e.catL)==null?void 0:o.LClas,cm:(s=e.catM)==null?void 0:s.MClas,cs:(i=e.catS)==null?void 0:i.SClas,ta:(c=e.typeA)==null?void 0:c.id}},gwt=e=>{if(!e)return 0;let t=0;for(const n of e){const{SAmt:o}=n;t+=o?Number(o):0}return t},rl={createRow:JRt,transformForReading:dwt,transformForSubmitting:pwt,transformAsQueryParams:fwt,transformForGridImport:iwt,transformGridForReading:iTe,transformProdCriteriaAsQueryParams:hwt,SquaredState:kj,squaredOptions:j8,getSquaredOptionLabel:nwt,getSquaredOptionById:rwt,getSquaredOptionDisabled:awt,findSquaredOptionByInput:owt,isSquaredOptionEqualToValue:swt,SalesType:qP,salesTypeOptions:v8,getSalesTypeOptionLabel:XRt,getSalesTypeOptionById:ZRt,findSalesTypeOptionByInput:ewt,isSalesTypeOptionEqualToValue:twt,getTransType:lTe,getTaxExcluded:cTe,getPaymentType:uTe,getEmployee:dTe,getTotal:gwt,getTooltips:I8},bwt=()=>{var re;const e=a.useContext(ln),t=a.useContext(cr),{itemData:n}=t,o=a.useRef(),{token:s,operator:i}=a.useContext(Be),c=Bt({moduleId:"E03"}),u=Co(),[d,p]=a.useState(),{httpGetAsync:m,httpPostAsync:f,httpPutAsync:h,httpDeleteAsync:g}=Zn(),x=a.useContext(Mr),y=so({url:"v1/sales/customer-return-orders",bearer:s,initialFetchSize:50}),D=a.useCallback(()=>rl.createRow(),[]),v=yr({gridId:"prods",keyColumn:"Pkey",createRow:D}),T=a.useCallback(({rowData:q})=>{var Y;return(Y=q.stype)!=null&&Y.id?"line-through":null},[]),I=a.useCallback(({rowData:q})=>!!q.SQflag||!!q.stype,[]),P=a.useCallback(()=>{const q={RetDate:new Date,taxExcluded:!1,retail:!1,RetAmt:0,prods:[]};t.promptCreating({data:q}),v.initGridData(q.prods,{fillRows:13})},[t,v]);a.useCallback(({setValue:q,formData:Y,reset:ie=!1})=>{ie?(q("RetAmt",""),q("TaxAmt",""),q("TotAmt",""),q("RecdAmt",""),q("RedAmt","")):(q("RetAmt",Y.RetAmt),q("TaxAmt",Y.TaxAmt),q("TotAmt",Y.TotAmt),q("RecdAmt",Y.RecdAmt),q("RedAmt",Y.RedAmt))},[]);const E=a.useCallback(async({gridData:q,setValue:Y,formData:ie})=>{const B=rl.getTotal(q);try{const{status:Z,payload:ye,error:Ie}=await m({url:"v1/sales/customer-return-orders/refresh-amt",bearer:s,data:{taxExcluded:ie.taxExcluded?1:0,returningAmt:B,returnedAmt:ie.RfdAmt}});if(Z.success)console.log("refresh-amt",ye),Y("RetAmt",B.toString()),Y("TaxAmt",ye.TaxAmt),Y("TotAmt",ye.TotAmt),Y("RedAmt",ye.RedAmt);else throw Ie||new Error("")}catch(Z){ae.error("",Z)}},[m,s]),k=a.useCallback(async({id:q,refresh:Y=!1})=>{try{const ie=Y?o.current:q;Y||(o.current=ie,t.startReading("...",{itemId:ie}));const{status:B,payload:Z,error:ye}=await m({url:"v1/sales/customer-return-orders",bearer:s,params:{id:ie}});if(B.success){const Ie=rl.transformForReading(Z.data[0]);t.finishedReading({data:Ie}),p(Ie),v.initGridData(Ie.prods)}else throw ye??new Error("")}catch(ie){t.failedReading(ie)}},[m,s,t,v]),w=a.useCallback(async({data:q})=>{const Y=t.creating;try{Y?t.startCreating():t.startUpdating();const ie=Y?f:h,{status:B,error:Z}=await ie({url:"v1/sales/customer-return-orders",data:q,bearer:s});if(B.success)ae.success(Y?"":""),Y?(t.finishedCreating(),t.cancelReading()):(t.finishedUpdating(),k({refresh:!0})),y.loadList({refresh:!0});else throw Z??new Error("")}catch(ie){Y?t.failedCreating():t.failedUpdating(),console.error(`${Y?"":""}`,ie),ae.error(`${Y?"":""}`,ie)}},[t,f,h,y,k,s]),A=a.useCallback(async(q,Y)=>{console.log("handleSelect",Y),q==null||q.stopPropagation(),t.cancelAction(),k({id:Y.})},[t,k]),F=a.useCallback(()=>{x.confirm({message:"?",onConfirm:()=>{t.cancelAction()}})},[t,x]),_=a.useCallback(()=>{x.confirm({message:"?",onConfirm:()=>{t.cancelAction(),k({refresh:!0})}})},[t,x,k]),L=a.useCallback(()=>{x.confirm({message:"?",onConfirm:()=>{t.cancelUpdating(),k({refresh:!0})}})},[t,x,k]),K=a.useCallback(()=>{x.confirm({message:`${n==null?void 0:n.RetID}?`,onConfirm:async()=>{try{t.startDeleting(n);const{status:q,error:Y}=await g({url:"v1/sales/customer-return-orders",bearer:s,params:{id:n==null?void 0:n.RetID}});if(q.success)t.cancelAction(),ae.success(` ${n==null?void 0:n.RetID}`),y.loadList({refresh:!0});else throw Y||""}catch(q){t.failedDeleting(q),console.error("confirmDelete.failed",q),ae.error("",q)}}})},[t,x,g,n,y,s]),z=a.useCallback(q=>{console.log("onSearchSubmit",q)},[]),J=a.useCallback(q=>{console.error("onSearchSubmitError",q)},[]),Q=a.useCallback(async(q,{formData:Y})=>{var ie;if(!q){ae.error("",{position:"top-right"});return}if(!_w.isDate(Y.RetDate)){ae.error("",{position:"top-right"});return}try{const{status:B,payload:Z,error:ye}=await m({url:"v1/sales/customer-return-orders/prod-info",bearer:s,params:{id:q,retail:Y.retail?1:0,cst:((ie=Y.customer)==null?void 0:ie.CustID)||"",rdate:Re.formatDate(Y.RetDate),compTel:Y.CompTel||""}});if(B.success)return Z;throw ye??new Error("")}catch(B){ae.error("",B)}},[m,s]),V=a.useCallback(({setValue:q,getValues:Y})=>async ie=>{console.log("onTaxTypeChanged",ie);const B=Y();console.log("formData",B),E({gridData:v.gridData,setValue:q,formData:{...B,taxExcluded:ie}})},[E,v.gridData]),W=a.useCallback(async({rowData:q,formData:Y})=>{var ye,Ie,le,fe;let ie={...q};const B=Y.retail,Z=(ye=q==null?void 0:q.prod)!=null&&ye.ProdID?await Q((Ie=q==null?void 0:q.prod)==null?void 0:Ie.ProdID,{formData:Y}):null;return ie={...ie,prod:Z?ie.prod:null,ProdData_N:Z&&((le=ie.prod)==null?void 0:le.ProdData)||"",PackData_N:Z&&((fe=ie==null?void 0:ie.prod)==null?void 0:fe.PackData_N)||"",SQflag:Z&&!B?"*":"",SPrice:(Z==null?void 0:Z.SPrice)||"",SQty:"",SAmt:"",stype:null,dtype:null,SRemark:""},ie},[Q]),U=a.useCallback(({fromRowIndex:q,formData:Y,newValue:ie,setValue:B,gridMeta:Z,updateResult:ye})=>async(Ie,le)=>{var be,Me,we,Ge,We;const fe=q+le,Ae=v.gridData[fe];console.log(` ${fe+1} ...`,Ie);let Se={...Ie};return((be=Se.prod)==null?void 0:be.ProdID)!==((Me=Ae==null?void 0:Ae.prod)==null?void 0:Me.ProdID)&&(console.log(`prod[${fe+1}] changed`,Ie==null?void 0:Ie.prod),Se=await W({rowData:Ie,oldRowData:Ae,formData:Y,newValue:ie})),(((we=Se.stype)==null?void 0:we.id)!==((Ge=Ae.stype)==null?void 0:Ge.id)||Se.SPrice!==Ae.SPrice||Se.SQty!==Ae.SQty)&&(Se={...Se,SAmt:!Se.SPrice||!Se.SQty?"":(We=Se.stype)!=null&&We.id?0:Se.SPrice*Se.SQty},ye.rows++),Se},[v.gridData,W]),X=a.useCallback(({gridData:q,formData:Y,setValue:ie})=>{console.log("onGridChanged",q),E({gridData:q,setValue:ie,formData:Y})},[E]),te=a.useCallback(q=>{console.log("onEditorSubmit",q);const Y=rl.transformForSubmitting(q,v.gridData);console.log("collected",Y),w({data:Y})},[v.gridData,w]),se=a.useCallback(q=>{console.error("onEditorSubmitError",q)},[]),he=a.useCallback(({rowData:q,rowIndex:Y})=>`${(q==null?void 0:q.Pkey)||Y}`,[]),pe=Or(),[ue,ge]=a.useState({criteria:null,saveKey:null,totalElements:null,loading:!1}),Ce=a.useCallback(async q=>{if(!s)throw new Error("token not specified");if(Gn.isAllPropsEmpty(q)){console.log("criteria is empty"),ue.saveKey&&ge(Y=>({...Y,saveKey:null,totalElements:null}));return}ge(Y=>({...Y,loading:!0,criteria:q}));try{const{status:Y,payload:ie,error:B}=await m({url:"v1/prod/data-grid/E03",bearer:s,params:{...rl.transformProdCriteriaAsQueryParams(q),pk:1}});if(Y.success)ge(Z=>{var ye,Ie;return{...Z,saveKey:(ye=ie.Select)==null?void 0:ye.SaveKey,totalElements:(Ie=ie.Select)==null?void 0:Ie.TotalRecord}});else throw B??new Error("")}catch(Y){console.error("peek failed",Y),ae.error("",Y)}finally{ge(Y=>({...Y,loading:!1}))}},[m,ue.saveKey,s]),Te=a.useCallback(({form:q})=>async Y=>{var ie;console.log("onImportProdsSubmit",Y);try{pe.start();const{status:B,payload:Z,error:ye}=await m({url:"v1/prod/data-grid/E03",bearer:s,params:{...rl.transformProdCriteriaAsQueryParams(ue.criteria),sk:ue.saveKey}});if(B.success){const Ie=((ie=Z.data)==null?void 0:ie[0].E03031_W1)||[];console.log("data",Ie);const le=q.getValues();v.initGridData(rl.transformForGridImport(Ie,le==null?void 0:le.employee,le==null?void 0:le.Date),{fillRows:!0}),ae.success(` ${Ie.length} `),pe.clear()}else throw ye??new Error("")}catch(B){pe.fail({error:B}),ae.error("",B)}},[m,pe,ue.criteria,ue.saveKey,v,s]),Ne=a.useCallback(q=>{console.error("onImportProdsSubmitError",q)},[]),xe=a.useMemo(()=>`${e.REPORT_URL}/WebE03Rep.aspx`,[e.REPORT_URL]),me=yn(),de=a.useCallback(q=>{var ie;console.log("onPrintSubmit",q);const Y={...q.outputType&&{Action:q.outputType.id},DeptID:i==null?void 0:i.CurDeptID,JobName:"E03",IDs:(ie=t.itemData)==null?void 0:ie.RetID};console.log("data",Y),me.open(xe,Y)},[(re=t.itemData)==null?void 0:re.RetID,i==null?void 0:i.CurDeptID,xe,me]),ce=a.useCallback(q=>{console.error("onPrintSubmitError",q)},[]),ee=a.useCallback(({setValue:q})=>Y=>{console.log("handlePrint",Y),q("outputType",Y)},[]),De=vt(`
		sprod,
		eprod,
		typeA,
		catL,
		catM,
		catS
		`),ke=a.useMemo(()=>(n==null?void 0:n.CFlag)==="*"||t.creating,[t.creating,n==null?void 0:n.CFlag]),He=a.useCallback(({setValue:q,gridMeta:Y})=>ie=>{console.log("handleRetailChange",ie),q("customer",null),q("CustName",""),q("CompTel",""),q("RecAddr",""),q("InvAddr",""),q("UniForm",""),q("transType",null,{shouldTouch:!0}),q("taxExcluded",null,{shouldTouch:!0}),q("paymentType",null,{shouldTouch:!0}),q("employee",null,{shouldTouch:!0}),q("RfdAmt",""),Y.setActiveCell(null),v.initGridData([],{fillRows:!0})},[v]),qe=a.useCallback(({setValue:q,getValues:Y,formMeta:ie,gridMeta:B})=>async Z=>{console.log("handleCustomerChange",Z),ie.supressEvents(),q("CustName",(Z==null?void 0:Z.CustData)||"");let ye=null;if(Z){const Ie=Y("retail");try{const{status:le,payload:fe,error:Ae}=await m({url:"v1/sales/customer-orders/customer-info",bearer:s,params:{cst:Z.CustID,sal:Ie?"Y":""}});if(le.success)ye=fe.data[0];else throw Ae??new Error("")}catch(le){console.error(le),ae.error("",le)}}q("CompTel",(ye==null?void 0:ye.CompTel)||""),q("RecAddr",(ye==null?void 0:ye.RecAddr)||""),q("InvAddr",(ye==null?void 0:ye.InvAddr)||""),q("UniForm",(ye==null?void 0:ye.UniForm)||""),q("transType",rl.getTransType(ye),{shouldTouch:!0}),q("taxExcluded",rl.getTaxExcluded(ye),{shouldTouch:!0}),q("paymentType",rl.getPaymentType(ye),{shouldTouch:!0}),q("employee",rl.getEmployee(ye),{shouldTouch:!0}),q("RfdAmt",""),B.setActiveCell(null),ie.enableEvents()},[m,s]),Le=a.useCallback(({setValue:q,getValues:Y})=>ie=>{console.log("handleRfdAmtChange",ie);const B=Y();console.log("formData",B),E({gridData:v.gridData,setValue:q,formData:B})},[v.gridData,E]),_e=Or(),H=a.useCallback(async()=>{try{_e.start();const{status:q,error:Y}=await m({url:"v1/sales/customer-return-orders/check-editable",bearer:s,params:{id:t.itemData.RetID}});if(q.success)t.promptUpdating();else throw Y??new Error("")}catch(q){ae.error("",q)}finally{_e.clear()}},[_e,t,m,s]);return{...t,...y,...c,selectedOrd:d,loadItem:k,handleSelect:A,onSearchSubmit:z,onSearchSubmitError:J,confirmQuitCreating:F,confirmQuitUpdating:_,confirmReturnReading:L,confirmDelete:K,promptCreating:P,onEditorSubmit:te,onEditorSubmitError:se,createRow:D,...v,grid:v,onUpdateRow:U,getRowKey:he,importProdsWorking:pe.working,promptImportProds:pe.prompt,cancelImportProds:pe.clear,importProdsDialogOpen:pe.active,onImportProdsSubmit:Te,onImportProdsSubmitError:Ne,peekProds:Ce,ipState:ue,onPrintSubmit:de,onPrintSubmitError:ce,handlePrint:ee,loadProdFormMeta:De,...u,squaredDisabled:ke,handleRetailChange:He,handleCustomerChange:qe,getSPriceClassName:T,spriceDisabled:I,onGridChanged:X,handleTaxTypeChange:V,handleRfdAmtChange:Le,checkEditableWorking:_e.working,handleCheckEditable:H}},hu=a.createContext(),pTe=({children:e})=>{const t=bwt();return r.jsx(hu.Provider,{value:{...t},children:e})};pTe.propTypes={children:l.oneOfType([l.array,l.object])};const T8=a.memo(e=>{var s,i,c;const{anchor:t="right",...n}=e,o=a.useContext(fu);return r.jsxs(Eo,{anchor:t,open:o.sideDrawerOpen,onClose:o.handleSideDrawerClose,slotProps:{backdrop:{sx:[ur.BACKDROP_TRANSPARENT]}},...n,children:[r.jsx(pn,{label:"",children:(s=o.itemData)==null?void 0:s.WriteDate_N}),r.jsx(pn,{label:"",children:(i=o.itemData)==null?void 0:i.Writer_N}),r.jsx(pn,{label:"",children:(c=o.itemData)==null?void 0:c.SalIDs})]})});T8.propTypes={anchor:l.string};T8.displayName="E01Drawer";l.string.isRequired;const O8=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(bt,{ref:t,fullWidth:!0,disableClearable:!0,label:"",options:Go.squaredOptions,getOptionLabel:Go.getSquaredOptionLabel,isOptionEqualToValue:Go.isOptionEqualToValue,getOptionDisabled:Go.getSquaredOptionDisabled,findByInput:Go.findSquaredOptionByInput,emptyId:!0,...n})}));O8.propTypes={label:l.string,children:l.node};O8.displayName="E01SquaredPicker";const eN=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useMemo(()=>ur.ofGridBottomToolbar(),[]);return r.jsx(kn,{...o,ref:t,...n})}));eN.displayName="DSGBottomToolbar";const E8=a.memo(()=>r.jsxs(Ns,{sx:[e=>({"& > *":{marginLeft:e.spacing(3)}})],children:[r.jsx(oi,{label:"",name:"TaxAmt"}),r.jsx(oi,{label:"",name:"OrdAmt"}),r.jsx(oi,{label:"",name:"TotAmt"})]}));E8.displayName="E01ProdGridToolbarLabels";const P8=a.forwardRef((e,t)=>{const{...n}=e;return a.useContext(Lr).readOnly?r.jsx(eN,{ref:t,RightComponent:E8,...n}):!1});P8.propTypes={};P8.displayName="E01ProdGridBottomToolbar";const xwt=Aa({RightComponent:E8}),ywt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),R8=a.memo(e=>{const{getRowKey:t,createRow:n,readOnly:o,gridRef:s,data:i,onChange:c,getRowClassName:u,height:d=300,...p}=e,m=a.useCallback(({rowData:f})=>({...f,Pkey:zn()}),[]);return r.jsx(dr,{ref:s,rowKey:t,lockRows:o,height:d+(o?48:0),value:i,onChange:c,addRowsComponent:xwt,disableExpandSelection:!0,contextMenuComponent:ywt,createRow:n,duplicateRow:m,rowClassName:u,...p})});R8.propTypes={getRowKey:l.func,onChange:l.func};R8.displayName="E01ProdGrid";const mTe=e=>{const{...t}=e,n=a.useContext(fu),{height:o}=Wt(),s=a.useContext(Lr),i=Ke(),c=a.useMemo(()=>n.buildGridChangeHandler({gridMeta:s.gridMeta,getValues:i.getValues,setValue:i.setValue,onUpdateRow:n.onUpdateRow,onGridChanged:n.onGridChanged,onCheckRow:n.onCheckRow,isRowDeletable:n.isRowDeletable}),[n,i.getValues,i.setValue,s.gridMeta]),u=a.useMemo(()=>o-430-(s.readOnly?ur.GRID_BOTTOM_TOOLBAR_HEIGHT:0),[s.readOnly,o]),d=a.useMemo(()=>({...Pe.keyColumn("tooltip",If({arrow:!0,placement:"bottom-end"}))}),[]);return r.jsx(Kn.Provider,{value:{...n.grid,...s.gridMeta,readOnly:s.readOnly},children:r.jsx(R8,{gridRef:s.gridMeta.setGridRef,readOnly:s.readOnly,data:n.grid.gridData,onChange:c,onActiveCellChange:s.gridMeta.handleActiveCellChange,height:u,getRowKey:n.getRowKey,createRow:n.createRow,stickyRightColumn:d,...t})})};mTe.displayName="E01ProdGridContainer";const tN=e=>{const{retailName:t,...n}=e,o=Ue({name:t});return r.jsx(ho,{forNew:o,virtualize:!0,...n})};tN.propTypes={retailName:l.string.isRequired};tN.displayName="AdaptiveCustomerPicker";const w8=a.memo(e=>{const{readError:t,squaredDisabled:n,readWorking:o,itemDataReady:s,creating:i,editing:c,updating:u,handleRetailChange:d,handleCustomerChange:p,validateCustomer:m,customerRequired:f,handleTaxTypeChange:h,slotProps:g,...x}=e;return r.jsxs(r.Fragment,{children:[o&&r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",minHeight:"30em",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}),t&&r.jsx(lo,{error:t,...g==null?void 0:g.error}),s&&r.jsx(r.Fragment,{children:r.jsxs(Pt,{pt:1,children:[r.jsxs(j,{container:!0,columns:24,spacing:1,children:[!i&&r.jsx(j,{item:!0,md:4,children:r.jsx($e,{typo:!0,name:"OrdID",label:"",readOnly:!0})}),r.jsx(j,{item:!0,md:4.5,children:r.jsx(et,{typo:!0,autoFocus:!0,name:"OrdDate",label:"",fullWidth:!0,variant:"outlined",required:!0,validate:!0,clearable:!0})}),r.jsx(j,{item:!0,md:4.5,children:r.jsx(et,{typo:!0,name:"ArrDate",label:"",variant:"outlined",fullWidth:!0,required:!0,validate:!0,clearable:!0})}),r.jsx(j,{item:!0,md:3.5,children:r.jsx(O8,{typo:!0,name:"squared",label:"",disabled:n,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,md:3,children:r.jsx(xr,{typo:!0,label:"",name:"dontPrtAmt",size:"small",color:"secondary",fullWidth:!0,slotProps:{label:{slotProps:{typography:{variant:"body2"}}}}})}),r.jsx(j,{item:!0,md:4.5,children:r.jsx(Ar,{typo:!0,label:"",name:"employee",virtualize:!0,disableOpenOnInput:!0})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,md:2,children:r.jsx(xr,{typo:!0,label:"",name:"retail",size:"small",onChange:d})}),r.jsx(j,{item:!0,md:3.5,children:r.jsx(tN,{retailName:"retail",forId:!0,typo:!0,name:"customer",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,onChanged:p,required:f,rules:{validate:m},slotProps:{paper:{sx:{width:360}}}})}),r.jsx(j,{item:!0,md:6.5,children:r.jsx($e,{typo:!0,label:"",name:"CustName",fullWidth:!0,required:!0,rules:{required:""}})}),r.jsx(j,{item:!0,md:3,children:r.jsx(Hb,{typo:!0,label:"",name:"paymentType",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,md:5,children:r.jsx($e,{typo:!0,label:"",name:"CompTel",required:!0,fullWidth:!0,rules:{required:""}})}),r.jsx(j,{item:!0,md:3,children:r.jsx(xr,{typo:!0,label:"",name:"taxExcluded",size:"medium",onChange:h})}),r.jsx(j,{item:!0,md:8,children:r.jsx($e,{typo:!0,label:"",name:"RecAddr",fullWidth:!0})}),r.jsx(j,{item:!0,md:4,children:r.jsx(Zb,{typo:!0,name:"transType",label:"",disableOpenOnInput:!0})}),r.jsx(j,{item:!0,md:8,children:r.jsx($e,{typo:!0,label:"",name:"InvAddr",fullWidth:!0})}),r.jsx(j,{item:!0,md:4,children:r.jsx($e,{typo:!0,label:"",name:"UniForm"})}),r.jsx(j,{item:!0,xs:24})]}),r.jsxs(Ns,{py:1,children:[r.jsx(mTe,{}),r.jsx(P8,{})]}),r.jsx(j,{container:!0,columns:24,children:r.jsx(j,{item:!0,xs:24,children:r.jsx($e,{typo:!0,name:"remark",multiline:!0,minRows:2,maxRows:5,label:"",fullWidth:!0})})})]})})]})});w8.propTypes={creating:l.bool,readWorking:l.bool,readError:l.object,data:l.object,itemDataReady:l.bool,squaredDisabled:l.bool,handleRetailChange:l.func,handleTaxTypeChange:l.func,handleCustomerChange:l.func,validateCustomer:l.func,customerRequired:l.bool,slotProps:l.object};w8.displayName="E01DialogForm";const fTe=e=>{const{...t}=e,n=Ue(),o=a.useContext(fu),{peekProds:s,importProdsWorking:i,ipState:{loading:c,totalElements:u}}=o,d=Gr(n,300),[p,m]=a.useState(),f=a.useMemo(()=>JSON.stringify(d),[d]);a.useEffect(()=>{f!==p&&(m(f),console.log("criteria changed",d),s(d))},[d,p,f,s]);const h=a.useMemo(()=>Gn.isAllPropsEmpty(n)?"":u?`(${u})`:"()",[n,u]),g=a.useMemo(()=>!u,[u]);return r.jsx(dt,{type:"submit",disabled:g,size:"small",responsive:!0,loading:c||i,sx:{fontWeight:600},...t,children:h})};fTe.displayName="E01ImportProdsButtonContainer";const k8=a.memo(e=>{const{onSubmit:t,...n}=e;return r.jsx("form",{onSubmit:t,...n,children:r.jsxs(jt,{pt:1,children:[r.jsxs(j,{container:!0,spacing:1,columns:24,children:[r.jsx(j,{item:!0,xs:24,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"sprod",label:"",size:"small",virtualize:!0,autoFocus:!0,typeToSearchText:",",optionLabelSize:"md",disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"eprod",label:"",size:"small",virtualize:!0,typeToSearchText:",",optionLabelSize:"md",disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,md:12,children:r.jsx(Yd,{name:"typeA",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,md:8,children:r.jsx(Pl,{name:"catL",disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:240}}}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:8,children:r.jsx(El,{name:"catM",disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:240}}}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:8,children:r.jsx(ou,{name:"catS",disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:240}}}})})]}),r.jsx(kn,{align:"right",children:r.jsx(jr,{title:"shift+Enter",children:r.jsx(fTe,{variant:"contained",color:"primary"})})})]})})});k8.propTypes={onSubmit:l.func};k8.displayName="E01LoadProdsForm";const A8=a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(fu),s=at({defaultValues:{}}),i=s.handleSubmit(o.onImportProdsSubmit({form:s}),o.onImportProdsSubmitError);return r.jsx(Er,{ref:t,responsive:!0,fullWidth:!0,maxWidth:"sm",title:"",open:o.importProdsDialogOpen,onClose:o.cancelImportProds,hideCloseButton:!1,confirmTooltip:"shift+Enter",...n,children:r.jsx(Ye,{...s,children:r.jsx(Ct,{...o.loadProdFormMeta,children:r.jsx(k8,{onSubmit:i})})})})});A8.propTypes={};A8.displayName="E01ImportProdsDialogContainer";const N8=a.memo(a.forwardRef((e,t)=>{const{onSave:n,onCancel:o,loading:s,...i}=e;return r.jsxs(a.Fragment,{ref:t,...i,children:[r.jsx(dt,{responsive:!0,onClick:o,color:"warning",variant:"outlined",...i,children:""}),r.jsx(dt,{responsive:!0,onClick:n,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:s,children:""}),r.jsx(A8,{})]})}));N8.displayName="E01DialogEditToolbar";N8.propTypes={onCancel:l.func,onSave:l.func,onLoadProds:l.func,loading:l.bool,readOnly:l.bool};const hTe=e=>{const{...t}=e,n=Ke(),o=a.useContext(fu),{canPrint:s}=o,i=n.handleSubmit(o.onPrintSubmit,o.onPrintSubmitError);return s?r.jsx(xn,{onSubmit:i,...t}):!1};hTe.displayName="E01ExportButtonContainer";var sj={},Qle;function Cwt(){if(Qle)return sj;Qle=1;var e=Qn();Object.defineProperty(sj,"__esModule",{value:!0}),sj.default=void 0;var t=e(sr()),n=rr();return sj.default=(0,t.default)((0,n.jsx)("path",{d:"m17.66 9.53-7.07 7.07-4.24-4.24 1.41-1.41 2.83 2.83 5.66-5.66zM4 12c0-2.33 1.02-4.42 2.62-5.88L9 8.5v-6H3l2.2 2.2C3.24 6.52 2 9.11 2 12c0 5.19 3.95 9.45 9 9.95v-2.02c-3.94-.49-7-3.86-7-7.93m18 0c0-5.19-3.95-9.45-9-9.95v2.02c3.94.49 7 3.86 7 7.93 0 2.33-1.02 4.42-2.62 5.88L15 15.5v6h6l-2.2-2.2c1.96-1.82 3.2-4.41 3.2-7.3"}),"PublishedWithChanges"),sj}var Dwt=Cwt();const gTe=qn(Dwt),bTe=e=>{var c,u;const{...t}=e,n=a.useContext(fu),{canReview:o}=n,s=a.useMemo(()=>!o,[o]),i=a.useMemo(()=>s?"":"",[s]);return[Go.SquaredState.SQUARED,Go.SquaredState.MARK_AS_SQUARED].includes((u=(c=n.itemData)==null?void 0:c.squared)==null?void 0:u.id)?!1:r.jsx(Ra,{title:i,children:r.jsx(dt,{startIcon:r.jsx(gTe,{}),disabled:s,...t,children:""})})};bTe.displayName="E01ConvertToSalesOrderButton";const xTe=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,onDelete:o,onPrint:s,onSideDrawerOpen:i,onConvert:c,...u}=e;return r.jsxs(a.Fragment,{ref:t,...u,children:[s&&r.jsx(r.Fragment,{children:r.jsx(hTe,{})}),r.jsx(bTe,{onClick:c}),o&&r.jsx(hn,{startIcon:r.jsx(Fs,{}),color:"secondary",onClick:o,children:""}),n&&r.jsx(hn,{startIcon:r.jsx(bo,{}),color:"primary",onClick:n,children:""}),r.jsx(jr,{title:"",children:r.jsx(br,{onClick:i,size:"small",children:r.jsx(Po,{})})})]})}));xTe.propTypes={onEdit:l.func,onDelete:l.func,onPrint:l.func,onSideDrawerOpen:l.func,onConvert:l.func};const yTe=e=>{const{...t}=e,n=a.useContext(fu),o=Ke(),s=o.handleSubmit(n.onPrintSubmit,n.onPrintSubmitError),i=a.useMemo(()=>o.handleSubmit(n.onEditorSubmit,n.onEditorSubmitError),[n.onEditorSubmit,n.onEditorSubmitError,o]),c=a.useMemo(()=>n.updating?n.confirmReturnReading:n.confirmQuitCreating,[n.confirmQuitCreating,n.confirmReturnReading,n.updating]),u=a.useMemo(()=>n.canUpdate?n.handleCheckEditable:null,[n.canUpdate,n.handleCheckEditable]);return n.itemDataReady?n.editing?r.jsx(N8,{onSave:i,onCancel:c,loading:n.editWorking,...t}):r.jsx(xTe,{onEdit:u,onDelete:n.canDelete?n.confirmDelete:null,onPrint:n.canPrint?s:null,onSideDrawerOpen:n.handleSideDrawerOpen,onConvert:n.gotoE021,...t}):!1};yTe.displayName="E01DialogToolbarContainer";const CTe=a.forwardRef((e,t)=>{const{...n}=e,{height:o}=Wt(),s=a.useMemo(()=>o-120,[o]),i=at({defaultValues:{quotes:[]}}),c=a.useContext(fu),u=Ue({name:"OrdDate",control:i.control}),d=Yn(u,300);mn(()=>{c.editing&&i.setValue("ArrDate",d)},[d]);const p=Ue({name:"ArrDate",control:i.control}),m=Ue({name:"CompTel",control:i.control}),f=Ue({name:"CustName",control:i.control}),h=Ue({name:"retail",control:i.control}),g=Ue({name:"customer",control:i.control}),x=Qr({height:s,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),y=a.useMemo(()=>c.creating?"":c.updating?"":"",[c.creating,c.updating]),D=a.useMemo(()=>c.creating?c.confirmQuitCreating:c.updating?c.confirmQuitUpdating:c.reading?c.cancelAction:null,[c.cancelAction,c.confirmQuitCreating,c.confirmQuitUpdating,c.creating,c.reading,c.updating]),v=a.useCallback(()=>{c.editing&&i.handleSubmit(c.onEditorSubmit,c.onEditorSubmitError)()},[c.editing,c.onEditorSubmit,c.onEditorSubmitError,i]);$t(["Control+Enter"],()=>setTimeout(v),{enableOnFormTags:!0});const T=i.handleSubmit(c.onRefreshGridSubmit({setValue:i.setValue}),c.onRefreshGridSubmitError),I=a.useMemo(()=>!c.editing||!u||!p||!f||!h&&!g,[p,f,g,c.editing,u,h]),P=a.useMemo(()=>[{...Pe.keyColumn("prod",or(ls,{name:"prod",packageType:"s",forId:!0,cst:(g==null?void 0:g.CustID)||"",retail:h,disableClearable:!0,withPrice:!0,withStock:!0,slotProps:{paper:{sx:{width:360}}},clearOptionsOnChange:!0,focusOnDisabled:!0})),title:"",minWidth:130,maxWidth:150,disabled:I||c.sprodDisabled},{...Pe.keyColumn("ProdData_N",kt({continuousUpdates:!1})),title:"",disabled:!0,grow:1.8},{...Pe.keyColumn("PackData_N",kt({continuousUpdates:!1})),title:"",minWidth:80,maxWidth:80,disabled:!0},{...Pe.keyColumn("SQflag",kt({continuousUpdates:!1})),minWidth:38,maxWidth:38,title:"",disabled:!0,cellClassName:"star"},{...Pe.keyColumn("SPrice",Jn(2)),title:"",minWidth:100,disabled:I||c.spriceDisabled,cellClassName:c.getSPriceClassName},{...Pe.keyColumn("SQty",Jn(2)),title:"",minWidth:100,disabled:I||c.sqtyDisabled},{...Pe.keyColumn("SAmt",Jn(2)),title:"",minWidth:120,disabled:!0},{...Pe.keyColumn("stype",or(ad,{name:"stype",disableClearable:!0,disableOpenOnInput:!0,autoHighlight:!0,selectOnFocus:!0})),title:"",minWidth:70,maxWidth:70,disabled:I||c.stypeDisabled},{...Pe.keyColumn("SRemark",kt({continuousUpdates:!1})),title:"",grow:1,disabled:I},{...Pe.keyColumn("SNotQty",Jn(2)),title:"",minWidth:90,grow:1,disabled:I||c.sNotQtyDisabled}],[g==null?void 0:g.CustID,c.getSPriceClassName,c.sNotQtyDisabled,c.spriceDisabled,c.sprodDisabled,c.sqtyDisabled,c.stypeDisabled,I,h]),E=hr({data:c.grid.gridData,columns:P,skipDisabled:!0,lastCell:Xn.CREATE_ROW}),k=a.useCallback(()=>{if(!u){ae.error(""),i.setFocus("OrdDate");return}if(!p){ae.error(""),i.setFocus("ArrDate");return}if(!m){ae.error(""),i.setFocus("CompTel");return}if(!f){ae.error(""),i.setFocus("CustName");return}if(!h&&!g){ae.error(""),i.setFocus("customer");return}E.setActiveCell({col:0,row:0})},[p,m,f,g,i,E,u,h]),w=vt(`
		OrdDate,
		ArrDate,
		squared,
		dontPrtAmt,
		employee,
		retail,
		customer,
		CustName,
		paymentType,
		CompTel,
		taxExcluded,
		RecAddr,
		transType,
		InvAddr,
		UniForm,
		`,{lastField:k}),A=a.useCallback(L=>{switch(L.name){case"squared":return c.squaredDisabled;default:return!1}},[c.squaredDisabled]),F=a.useCallback(L=>!h&&!L?"":!0,[h]),_=a.useMemo(()=>!h,[h]);return mn(()=>{c.itemDataReady&&(console.log("e01 form reset",c.itemData),i.reset(c.itemData))},[c.itemData,c.itemDataReady]),r.jsx(Ye,{...i,children:r.jsxs(Er,{ref:t,title:y,responsive:!0,fullWidth:!0,maxWidth:"lg",TitleButtonsComponent:yTe,open:c.itemViewOpen,onClose:D,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[{minHeight:"30em",paddingTop:0},x.scroller],...n,children:[r.jsx("form",{onSubmit:v,children:r.jsx(Ct,{...w,gridMeta:E,readOnly:I,isFieldDisabled:A,children:r.jsx(w8,{creating:c.creating,editing:c.editing,updating:c.updating,readWorking:c.readWorking,readError:c.readError,data:c.itemData,itemDataReady:c.itemDataReady,squaredDisabled:c.squaredDisabled,handleCustomerChange:c.handleCustomerChange({setValue:i.setValue,getValues:i.getValues,formMeta:w,gridMeta:E,handleSubmit:T}),handleRetailChange:c.handleRetailChange({setValue:i.setValue,gridMeta:E}),validateCustomer:F,customerRequired:_,handleTaxTypeChange:c.handleTaxTypeChange({setValue:i.setValue,getValues:i.getValues})})})}),r.jsx(T8,{})]})})});CTe.displayName="E01DialogContainer";const Yle=Object.freeze({RETAIL:"Y",NORMAL:"N"}),DTe=[{id:Yle.RETAIL,label:""},{id:Yle.NORMAL,label:""}],Swt=e=>{if(!e)return"";const{id:t,label:n}=e;return`[${t||"  "}] ${n}`},vwt=e=>DTe.find(t=>{var n;return((n=t.id)==null?void 0:n.toLowerCase())===(e==null?void 0:e.toLowerCase())}),jwt=(e,t)=>(e==null?void 0:e.id)==(t==null?void 0:t.id),bP={options:DTe,getOptionLabel:Swt,findOptionByInput:vwt,isOptionEqualToValue:jwt},rp=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(bt,{ref:t,fullWidth:!0,options:bP.options,getOptionLabel:bP.getOptionLabel,isOptionEqualToValue:bP.isOptionEqualToValue,findByInput:bP.findOptionByInput,notFoundText:" ${input} ",placeholder:": +",...n})}));rp.propTypes={label:l.string,children:l.node};rp.displayName="SalesTypePicker";const F8=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(bt,{ref:t,fullWidth:!0,label:"",options:Go.listSquaredOptions,getOptionLabel:Go.getSquaredOptionLabel,isOptionEqualToValue:Go.isSquaredOptionEqualToValue,getOptionDisabled:Go.getSquaredOptionDisabled,findByInput:Go.findSquaredOptionByInput,notFoundText:" ${input} ",emptyId:!0,...n})}));F8.propTypes={label:l.string,children:l.node};F8.displayName="E01ListSquaredPicker";const M8=a.memo(e=>{const{...t}=e;return r.jsx("form",{children:r.jsx(Pt,{...t,children:r.jsxs(j,{container:!0,columns:24,spacing:1,children:[r.jsx(j,{item:!0,md:5,children:r.jsx($e,{autoFocus:!0,name:"q",label:"",size:"small",clearable:!0,placeholder:""})}),r.jsx(j,{item:!0,md:5,children:r.jsx(et,{name:"lvOrdDate",label:"",clearable:!0,validate:!0})}),r.jsx(j,{item:!0,md:5,children:r.jsx(et,{name:"lvArrDate",label:"",clearable:!0,validate:!0})}),r.jsx(j,{item:!0,md:4,children:r.jsx(F8,{name:"lvSquared",label:"",clearable:!0})}),r.jsx(j,{item:!0,md:5,children:r.jsx(Ar,{name:"lvEmployee",label:"",fullWidth:!0,disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,md:5,children:r.jsx(rp,{name:"lvSalesType",label:""})}),r.jsx(j,{item:!0,md:8,children:r.jsxs(ve,{inline:!0,fullWidth:!0,gap:.2,children:[r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xr,{label:"",name:"lvRetail",size:"small",variant:"outlined"})}),r.jsx(ve,{flex:1,children:r.jsx(tN,{name:"lvCust",retailName:"lvRetail",forId:!0,disableOpenOnInput:!0,slotProps:{paper:{sx:{width:360}}}})})]})}),r.jsx(j,{item:!0,md:6,children:r.jsx($e,{name:"lvCustName",label:"",size:"small",clearable:!0,placeholder:"",fullWidth:!0})}),r.jsx(j,{item:!0,md:5,children:r.jsx($e,{name:"lvCompTel",label:"",size:"small",clearable:!0,placeholder:"",fullWidth:!0})})]})})})});M8.propTypes={};M8.displayName="E01ListForm";const STe=e=>{const{...t}=e,n=vt(`
		q,
		lvOrdDate,
		lvArrDate,
		lvSquared,
		lvEmployee,
		lvSalesType,
		lvRetail,
		lvCust,
		lvCustName,
		lvCompTel,
		`);return r.jsx(Ct,{...n,children:r.jsx(M8,{...t})})};STe.displayName="E01ListFormContainer";const nN=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:8,lg:8,...t})};nN.propTypes={loading:l.bool,children:l.oneOfType([l.node])};nN.displayName="E01CustomerColumn";const rN=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:3,...t})};rN.propTypes={loading:l.bool,children:l.oneOfType([l.node])};rN.displayName="E01DateColumn";const ZC=e=>{const{...t}=e;return r.jsx(wt,{flex:!0,pr:1,xs:2,justifyContent:"center",...t})};ZC.propTypes={loading:l.bool,children:l.oneOfType([l.node])};ZC.displayName="E01FlagColumn";const oN=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:3,...t})};oN.propTypes={loading:l.bool,children:l.oneOfType([l.node])};oN.displayName="E01IdColumn";const sN=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:4,...t})};sN.propTypes={loading:l.bool,children:l.oneOfType([l.node])};sN.displayName="E01UserColumn";const _8=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsxs(io,{ref:t,...n,children:[r.jsx(Hn,{}),r.jsx(oN,{children:""}),r.jsx(ZC,{children:""}),r.jsx(rN,{children:""}),r.jsx(ZC,{children:""}),r.jsx(nN,{children:""}),r.jsx(sN,{children:""})]})}));_8.propTypes={};_8.displayName="E01ListHeader";const vTe=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(fu),s=a.useMemo(()=>"",[]);return r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(Ao,{}),onClick:o.promptCreating,sx:{fontWeight:600},...n,children:s})}));vTe.displayName="E01CreateButtonContainer";const jTe=()=>{const e=a.useContext(fu);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};jTe.displayName="E01FetchResultLabelContainer";const ITe=a.memo(()=>r.jsx(r.Fragment,{children:r.jsx(vTe,{})}));ITe.displayName="LeftButtons";const TTe=a.memo(a.forwardRef(({...e},t)=>r.jsx(kn,{pl:0,pr:1,alignItems:"flex-end",ref:t,LeftComponent:ITe,RightComponent:jTe,...e})));TTe.displayName="E01ListViewToolbar";const L8=a.memo(e=>{const{index:t,style:n,value:o,onClick:s}=e,{:i,:c,ProdID:u,ProdData_N:d,PackData_N:p,QEmplID:m,EmplData_N:f}=o||{},h=a.useMemo(()=>[i,c].filter(Boolean).join(" "),[i,c]);return r.jsx("div",{style:n,children:r.jsx(yo,{borderBottom:!0,onClick:s,children:r.jsx(jt,{children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t}),r.jsx(oN,{children:(o==null?void 0:o.)||""}),r.jsx(ZC,{children:(o==null?void 0:o.)||""}),r.jsx(rN,{children:(o==null?void 0:o.)||""}),r.jsx(ZC,{children:(o==null?void 0:o.)||""}),r.jsx(nN,{children:h}),r.jsx(sN,{children:(o==null?void 0:o.)||""})]})})})})});L8.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func,confirmResetPword:l.func,promptCopyAuth:l.func};L8.displayName="E01ListRow";const $8=e=>{const t=a.useContext(fu),{isItemLoading:n}=t,{index:o,...s}=e,i=a.useMemo(()=>n(o),[o,n]),c=a.useMemo(()=>t.listData[o],[t.listData,o]);return r.jsx(No,{loading:i,children:r.jsx(L8,{index:o,value:c,onClick:u=>t.handleSelect(u,c),...s})})};$8.propTypes={index:l.number,data:l.object};$8.displayName="E01ListRowContainer";const OTe=()=>{const e=a.useContext(fu),{loadList:t}=e,n=Ke(),{height:o}=Wt(),s=Ue({name:"q",control:n.control}),i=Ue({name:"lvOrdDate",control:n.control}),c=Ue({name:"lvArrDate",control:n.control}),u=Ue({name:"lvSquared",control:n.control}),d=Ue({name:"lvSalesType",control:n.control});Ue({name:"lvRetail",control:n.control});const p=Ue({name:"lvCust",control:n.control}),m=Ue({name:"lvCustName",control:n.control}),f=Ue({name:"lvCompTel",control:n.control}),h=Ue({name:"lvEmployee",control:n.control});En(()=>{e.loadList({params:Go.transformAsQueryParams({squared:Go.getListSquaredOptionById(Go.SquaredState.NOT)})})},[]),mn(()=>{t({params:Go.transformAsQueryParams({q:s,ordDate:i,arrDate:c,squared:u,salesType:d,cust:p,custName:m,compTel:f,employee:h}),supressLoading:!0})},[s,i,c,u,d,p,m,f,h]);const g=a.useMemo(()=>o?o-250:300,[o]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:$8,height:g,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};OTe.displayName="E01ListViewContainer";const ETe=()=>{const e=at({defaultValues:{lvOrdDate:null,lvSquared:Go.getListSquaredOptionById(Go.SquaredState.NOT)}});return r.jsx(Ye,{...e,children:r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(STe,{}),r.jsx(TTe,{}),r.jsx(_8,{}),r.jsx(OTe,{}),r.jsx(CTe,{})]})})};ETe.displayName="E01FrameContainer";const fc=a.createContext(),B8=a.memo(e=>{var s,i,c,u;const{anchor:t="right",...n}=e,o=a.useContext(fc);return r.jsxs(Eo,{anchor:t,open:o.sideDrawerOpen,onClose:o.handleSideDrawerClose,slotProps:{backdrop:{sx:[ur.BACKDROP_TRANSPARENT]}},...n,children:[((s=o.itemData)==null?void 0:s.AccYMD)&&r.jsx(pn,{label:"",children:(i=o.itemData)==null?void 0:i.AccYMD}),r.jsx(pn,{label:"",children:(c=o.itemData)==null?void 0:c.WriteDate_N}),r.jsx(pn,{label:"",children:(u=o.itemData)==null?void 0:u.Writer_N})]})});B8.propTypes={anchor:l.string};B8.displayName="E021Drawer";const aN=a.memo(a.forwardRef((e,t)=>{const{children:n,...o}=e;return r.jsx(ys,{ref:t,xs:24,sm:4,...o,children:n})}));aN.propTypes={children:l.oneOfType([l.node,l.array])};aN.displayName="DepOrderDateColumn";const iN=a.memo(a.forwardRef((e,t)=>{const{children:n,...o}=e;return r.jsx(ys,{ref:t,xs:24,sm:3,...o,children:n})}));iN.propTypes={children:l.oneOfType([l.node,l.array])};iN.displayName="DepOrderDeptIdColumn";const lN=a.memo(a.forwardRef((e,t)=>{const{children:n,...o}=e;return r.jsx(ys,{ref:t,xs:24,sm:6,...o,children:n})}));lN.propTypes={children:l.oneOfType([l.node,l.array])};lN.displayName="DepOrderDeptNameColumn";const W8=a.memo(a.forwardRef((e,t)=>{const{children:n,header:o=!1,typoVariant:s,...i}=e;return r.jsx(Ms,{ref:t,item:!0,...i,children:r.jsx(nn,{variant:s||o?"subtitle2":"body2",children:n})})}));W8.propTypes={children:l.oneOfType([l.node,l.array]),typoVariant:l.string,header:l.bool};W8.displayName="FlexOptionGridColumn";const eD=a.memo(a.forwardRef((e,t)=>{const{children:n,...o}=e;return r.jsx(W8,{ref:t,xs:24,sm:2,...o,children:n})}));eD.propTypes={children:l.oneOfType([l.node,l.array])};eD.displayName="DepOrderFlagColumn";const cN=a.memo(a.forwardRef((e,t)=>{const{children:n,...o}=e;return r.jsx(ys,{ref:t,xs:24,sm:3,...o,children:n})}));cN.propTypes={children:l.oneOfType([l.node,l.array])};cN.displayName="DepOrderIdColumn";const uN=a.memo(a.forwardRef((e,t)=>{const{children:n,...o}=e;return r.jsx(ys,{ref:t,xs:24,sm:3,...o,children:n})}));uN.propTypes={children:l.oneOfType([l.node,l.array])};uN.displayName="DepOrderUserColumn";const U8=a.memo(()=>r.jsxs(Tf,{children:[r.jsx(cN,{header:!0,children:""}),r.jsx(eD,{header:!0,justifyContent:"center",children:""}),r.jsx(aN,{header:!0,children:""}),r.jsx(uN,{header:!0,children:""}),r.jsx(eD,{header:!0,justifyContent:"center",children:""}),r.jsx(iN,{header:!0,children:""}),r.jsx(lN,{header:!0,children:""})]}));U8.propTypes={sx:l.oneOfType([l.object,l.array])};U8.displayName="PurchaseDepOrderGridHeader";const q8=a.memo(a.forwardRef((e,t)=>{const{value:n}=e;return r.jsxs(j,{ref:t,container:!0,columns:24,spacing:2,children:[r.jsx(cN,{children:n.}),r.jsx(eD,{justifyContent:"center",children:n.}),r.jsx(aN,{children:n.}),r.jsx(uN,{children:n.}),r.jsx(eD,{justifyContent:"center",children:n.}),r.jsx(iN,{children:n.}),r.jsx(lN,{children:n.})]})}));q8.propTypes={value:l.object};q8.displayName="DepOrderGridRow";const V8=e=>{const{label:t="",...n}=e,{token:o}=a.useContext(Be),s=Ue({name:"retail"}),i=Ue({name:"customer"}),c=a.useMemo(()=>{const u={tp:100,...s&&{retail:1},...(i==null?void 0:i.CustID)&&{cst:i.CustID??""}};return Hr.stringify(u)},[i==null?void 0:i.CustID,s]);return r.jsx(bt,{label:t,bearer:o,url:"v1/sales/customer-invoices/customer-orders",queryParam:"qs",querystring:c,getOptionLabel:dC.getOptionLabel,isOptionEqualToValue:dC.isOptionEqualToValue,renderTagLabel:dC.renderTagLabel,optionLabelSize:"md",GridHeaderComponent:U8,GridRowComponent:q8,notFoundText:" ${input} ",inputParam:"fz",clearOptionsOnChange:!0,...n})};V8.propTypes={label:l.string,children:l.node};V8.displayName="DepOrderPicker";const dN=e=>{const{retailName:t,...n}=e,o=Ue({name:t});return r.jsx(ho,{forNew:o,virtualize:!0,...n})};dN.propTypes={retailName:l.string.isRequired};dN.displayName="E021CustomerPicker";const z8=a.memo(()=>{const e=a.useContext(fc),t=Ke();return r.jsxs(VD,{children:[r.jsx(oi,{label:"",name:"SalAmt",sx:{minWidth:"9rem"}}),r.jsx(oi,{label:"",name:"TaxAmt",sx:{minWidth:"9rem"}}),r.jsx(oi,{label:"",name:"TotAmt",sx:{minWidth:"9rem"}}),r.jsx($e,{typo:!0,slotProps:{label:{flex:!0,inline:!0,sx:{minWidth:"9rem"},labelProps:{variant:"body1"}}},inline:!0,dense:!0,name:"RecdAmt",label:"",type:"number",renderLabel:wo.formatPrice,sx:{width:"9rem"},onChange:e.handleRecdAmtChange({setValue:t.setValue,getValues:t.getValues})}),r.jsx(oi,{label:"",name:"ArecAmt",sx:{minWidth:"9rem"}})]})});z8.displayName="E021ProdGridToolbarLabels";const H8=a.forwardRef((e,t)=>{const{...n}=e;return a.useContext(Lr).readOnly?r.jsx(eN,{ref:t,RightComponent:z8,...n}):!1});H8.propTypes={};H8.displayName="E021ProdGridBottomToolbar";const Iwt=Aa({RightComponent:z8}),Twt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),G8=a.memo(e=>{const{getRowKey:t,createRow:n,readOnly:o,gridRef:s,data:i,onChange:c,getRowClassName:u,height:d=300,bearer:p,...m}=e,f=a.useCallback(({rowData:h})=>({...h,Pkey:zn()}),[]);return r.jsx(dr,{ref:s,rowKey:t,lockRows:o,height:d+(o?48:0),value:i,onChange:c,addRowsComponent:Iwt,disableExpandSelection:!0,contextMenuComponent:Twt,createRow:n,duplicateRow:f,rowClassName:u,...m})});G8.propTypes={getRowKey:l.func,onChange:l.func};G8.displayName="E021ProdGrid";const PTe=e=>{const{...t}=e,n=a.useContext(fc),o=a.useContext(Be),{height:s}=Wt(),i=a.useContext(Lr),c=Ke(),u=a.useMemo(()=>n.buildGridChangeHandler({gridMeta:i.gridMeta,getValues:c.getValues,setValue:c.setValue,onUpdateRow:n.onUpdateRow,onGridChanged:n.onGridChanged,onCheckRow:n.onCheckRow}),[n,c.getValues,c.setValue,i.gridMeta]),d=a.useMemo(()=>s-475-(i.readOnly?ur.GRID_BOTTOM_TOOLBAR_HEIGHT:0),[i.readOnly,s]),p=a.useMemo(()=>({...Pe.keyColumn("tooltip",If({arrow:!0,placement:"left-start"}))}),[]);return r.jsx(Kn.Provider,{value:{...n.grid,...i.gridMeta,readOnly:i.readOnly},children:r.jsx(G8,{gridRef:i.gridMeta.setGridRef,readOnly:i.readOnly,data:n.grid.gridData,onChange:u,onActiveCellChange:i.gridMeta.handleActiveCellChange,bearer:o.token,height:d,getRowKey:n.getRowKey,createRow:n.createRow,stickyRightColumn:p,...t})})};PTe.displayName="E021ProdGridContainer";const K8=a.memo(e=>{const{readError:t,readWorking:n,itemDataReady:o,creating:s,editing:i,updating:c,handleCustomerOrdersChanged:u,handleRetailChange:d,handleCustomerChange:p,validateCustomer:m,customerRequired:f,handleTaxTypeChange:h,slotProps:g,...x}=e;return r.jsxs(r.Fragment,{children:[n&&r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",minHeight:"30em",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}),t&&r.jsx(lo,{error:t,...g==null?void 0:g.error}),o&&r.jsx(r.Fragment,{children:r.jsxs(Pt,{pt:1,children:[r.jsxs(j,{container:!0,columns:24,spacing:.8,children:[!s&&r.jsx(j,{item:!0,md:6.5,children:r.jsx($e,{typo:!0,name:"SalID",label:"",fullWidth:!0,readOnly:!0})}),r.jsx(j,{item:!0,md:4.5,children:r.jsx(et,{typo:!0,autoFocus:!0,name:"SalDate",label:"",variant:"outlined",fullWidth:!0,required:!0,validate:!0})}),r.jsx(j,{item:!0,md:4.5,children:r.jsx(et,{typo:!0,name:"ArrDate",label:"",variant:"outlined",fullWidth:!0,required:!0,validate:!0})}),r.jsx(j,{item:!0,md:4.5,children:r.jsx(et,{typo:!0,name:"RetDate",label:"",variant:"outlined",fullWidth:!0,validate:!0})}),r.jsx(j,{item:!0,md:3,lg:4,children:r.jsx(xr,{typo:!0,variant:"outlined",label:"",name:"dontPrtAmt",size:"small",color:"secondary",slotProps:{label:{typography:{variant:"body2"}}}})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,md:2.5,children:r.jsx(xr,{fullWidth:!0,typo:!0,size:"small",variant:"outlined",label:"",name:"retail",onChange:d})}),r.jsx(j,{item:!0,md:4,children:r.jsx(dN,{retailName:"retail",forId:!0,typo:!0,name:"customer",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,onChanged:p,required:f,rules:{validate:m},slotProps:{paper:{sx:{width:360}}}})}),r.jsx(j,{item:!0,md:8,children:r.jsx(V8,{typo:!0,multiple:!0,name:"customerOrders",label:"",onChanged:u,disableOpenOnInput:!0,slotProps:{paper:{sx:{width:660}},popper:{placement:"bottom"}}})}),r.jsx(j,{item:!0,md:6,children:r.jsx($e,{typo:!0,label:"",name:"CustName",fullWidth:!0,required:!0,rules:{required:""}})}),r.jsx(j,{item:!0,md:4,children:r.jsx($e,{typo:!0,label:"",name:"CompTel",fullWidth:!0,required:!0,rules:{required:""}})}),r.jsx(j,{item:!0,md:5,children:r.jsx(Ar,{typo:!0,label:"",name:"employee",required:!0,rules:{required:""},virtualize:!0,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,md:8.5,children:r.jsx($e,{typo:!0,label:"",name:"RecAddr",fullWidth:!0})}),r.jsx(j,{item:!0,md:4,children:r.jsx(Zb,{typo:!0,name:"transType",label:"",disableOpenOnInput:!0,slotProps:{paper:{sx:{width:200}}}})}),r.jsx(j,{item:!0,md:2.5,children:r.jsx(xr,{typo:!0,label:"",fullWidth:!0,variant:"outlined",name:"taxExcluded",slotProps:{label:{typography:{variant:"body2"}}},onChange:h})}),r.jsx(j,{item:!0,md:4,children:r.jsx(Hb,{typo:!0,label:"",name:"paymentType",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,md:6,children:r.jsx($e,{typo:!0,label:"",name:"InvAddr",fullWidth:!0})}),r.jsx(j,{item:!0,md:4,children:r.jsx($e,{typo:!0,label:"",name:"UniForm"})}),r.jsx(j,{item:!0,md:5,children:r.jsx(Ar,{typo:!0,label:"",name:"deliveryEmployee",virtualize:!0,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,md:5,children:r.jsx($e,{typo:!0,name:"HDNo",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,md:4,children:r.jsx($e,{typo:!0,name:"InvNo",label:"",fullWidth:!0})})]}),r.jsxs(Ns,{py:1,children:[r.jsx(PTe,{}),r.jsx(H8,{})]}),r.jsx(j,{container:!0,columns:24,children:r.jsx(j,{item:!0,xs:24,children:r.jsx($e,{typo:!0,name:"remark",multiline:!0,minRows:1,maxRows:5,label:"",fullWidth:!0})})})]})})]})});K8.propTypes={creating:l.bool,readWorking:l.bool,readError:l.object,data:l.object,itemDataReady:l.bool,squaredDisabled:l.bool,handleRetailChange:l.func,handleTaxTypeChange:l.func,handleCustomerChange:l.func,validateCustomer:l.func,handleCustomerOrdersChanged:l.func,customerRequired:l.bool,slotProps:l.object};K8.displayName="E021DialogForm";const RTe=e=>{const{...t}=e,n=Ue(),o=a.useContext(fc),{peekProds:s,importProdsWorking:i,ipState:{loading:c,totalElements:u}}=o,d=Gr(n,300),[p,m]=a.useState(),f=a.useMemo(()=>JSON.stringify(d),[d]);a.useEffect(()=>{f!==p&&(m(f),console.log("criteria changed",d),s(d))},[d,p,f,s]);const h=a.useMemo(()=>Gn.isAllPropsEmpty(n)?"":u?`(${u})`:"()",[n,u]),g=a.useMemo(()=>!u,[u]);return r.jsx(dt,{type:"submit",disabled:g,size:"small",responsive:!0,loading:c||i,sx:{fontWeight:600},...t,children:h})};RTe.displayName="E021ImportProdsButtonContainer";const Q8=a.memo(e=>{const{onSubmit:t,...n}=e;return r.jsx("form",{onSubmit:t,...n,children:r.jsxs(jt,{pt:1,children:[r.jsxs(j,{container:!0,spacing:1,columns:24,children:[r.jsx(j,{item:!0,xs:12,children:r.jsx(fn,{name:"sprod",label:"",size:"small",virtualize:!0,autoFocus:!0,typeToSearchText:",",optionLabelSize:"md",disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}}})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(fn,{name:"eprod",label:"",size:"small",virtualize:!0,typeToSearchText:",",optionLabelSize:"md",disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}}})}),r.jsx(j,{item:!0,md:12,children:r.jsx(Yd,{name:"typeA",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,md:8,children:r.jsx(Pl,{name:"catL",disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:240}}}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:8,children:r.jsx(El,{name:"catM",disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:240}}}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:8,children:r.jsx(ou,{name:"catS",disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:240}}}})})]}),r.jsx(kn,{align:"right",children:r.jsx(jr,{title:"shift+Enter",children:r.jsx(RTe,{variant:"contained",color:"primary"})})})]})})});Q8.propTypes={onSubmit:l.func};Q8.displayName="E021LoadProdsForm";const Y8=a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(fc),s=at({defaultValues:{}}),i=s.handleSubmit(o.onImportProdsSubmit({form:s}),o.onImportProdsSubmitError);return r.jsx(Er,{ref:t,responsive:!0,fullWidth:!0,maxWidth:"sm",title:"",open:o.importProdsDialogOpen,onClose:o.cancelImportProds,hideCloseButton:!1,confirmTooltip:"shift+Enter",...n,children:r.jsx(Ye,{...s,children:r.jsx(Ct,{...o.loadProdFormMeta,children:r.jsx(Q8,{onSubmit:i})})})})});Y8.propTypes={};Y8.displayName="E021ImportProdsDialogContainer";const J8=a.memo(a.forwardRef((e,t)=>{const{onSave:n,onCancel:o,loading:s,...i}=e;return r.jsxs(a.Fragment,{ref:t,...i,children:[r.jsx(dt,{responsive:!0,onClick:o,color:"warning",variant:"outlined",...i,children:""}),r.jsx(dt,{responsive:!0,onClick:n,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:s,children:""}),r.jsx(Y8,{})]})}));J8.displayName="E021DialogEditToolbar";J8.propTypes={onCancel:l.func,onSave:l.func,onLoadProds:l.func,loading:l.bool,readOnly:l.bool};const wTe=e=>{const{...t}=e,n=Ke(),o=a.useContext(fc),{canPrint:s}=o,i=n.handleSubmit(o.onPrintSubmit,o.onPrintSubmitError);return s?r.jsx(xn,{onSubmit:i,...t}):!1};wTe.displayName="E021ExportButtonContainer";const kTe=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,onDelete:o,onPrint:s,onSideDrawerOpen:i,...c}=e;return r.jsxs(a.Fragment,{ref:t,...c,children:[s&&r.jsx(r.Fragment,{children:r.jsx(wTe,{})}),o&&r.jsx(hn,{startIcon:r.jsx(Fs,{}),color:"secondary",onClick:o,children:""}),n&&r.jsx(hn,{startIcon:r.jsx(bo,{}),color:"primary",onClick:n,children:""}),r.jsx(jr,{title:"",children:r.jsx(br,{onClick:i,size:"small",children:r.jsx(Po,{})})})]})}));kTe.propTypes={onEdit:l.func,onDelete:l.func,onPrint:l.func,onSideDrawerOpen:l.func};const ATe=e=>{const{...t}=e,n=a.useContext(fc),o=Ke(),s=a.useContext(Lr),i=o.handleSubmit(n.onPrintSubmit,n.onPrintSubmitError),c=a.useMemo(()=>o.handleSubmit(n.onEditorSubmit({setValue:o.setValue,gridMeta:s.gridMeta}),n.onEditorSubmitError),[n,o,s.gridMeta]),u=a.useMemo(()=>n.updating?n.confirmReturnReading:n.confirmQuitCreating,[n.confirmQuitCreating,n.confirmReturnReading,n.updating]),d=a.useMemo(()=>n.canUpdate?n.handleCheckEditable:null,[n.canUpdate,n.handleCheckEditable]);return n.itemDataReady?n.editing?r.jsx(J8,{onSave:c,onCancel:u,loading:n.editWorking,...t}):r.jsx(kTe,{onEdit:d,onDelete:n.canDelete?n.confirmDelete:null,onPrint:n.canPrint?i:null,onSideDrawerOpen:n.handleSideDrawerOpen,...t}):!1};ATe.displayName="E021DialogToolbarContainer";const NTe=a.forwardRef((e,t)=>{const{...n}=e,{height:o}=Wt(),s=a.useMemo(()=>o-120,[o]),i=at({defaultValues:{SalDate:new Date,ArrDate:new Date,taxExcluded:!1,customerOrders:[],retail:!1,RecdAmt:0,prods:[]}}),{setValue:c,reset:u}=i,d=a.useContext(fc),{createWithPurchaseOrder:p}=d,m=Ue({name:"SalDate",control:i.control}),f=Yn(m,300);mn(()=>{d.editing&&i.setValue("ArrDate",f)},[f]);const h=Ue({name:"ArrDate",control:i.control}),g=Ue({name:"CompTel",control:i.control}),x=Ue({name:"CustName",control:i.control}),y=Ue({name:"retail",control:i.control}),D=Ue({name:"customer",control:i.control}),v=Ue({name:"employee",control:i.control}),T=Qr({height:s,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),I=a.useMemo(()=>d.creating?"":d.updating?"":"",[d.creating,d.updating]),P=a.useMemo(()=>d.creating?d.confirmQuitCreating:d.updating?d.confirmQuitUpdating:d.reading?d.cancelAction:null,[d.cancelAction,d.confirmQuitCreating,d.confirmQuitUpdating,d.creating,d.reading,d.updating]),E=a.useMemo(()=>!d.editing||!m||!h||!g||!x||!v||!y&&!D,[d.editing,m,h,g,x,v,y,D]),k=a.useMemo(()=>[{...Pe.keyColumn("prod",or(ls,{name:"innerProd",packageType:"s",forId:!0,cst:(D==null?void 0:D.CustID)||"",retail:y,disableClearable:!0,withPrice:!0,slotProps:{paper:{sx:{width:360}}},clearOptionsOnChange:!0})),title:"",minWidth:130,maxWidth:150,disabled:E},{...Pe.keyColumn("ProdData_N",kt({continuousUpdates:!1})),title:"",disabled:!0,grow:2},{...Pe.keyColumn("PackData_N",kt({continuousUpdates:!1})),title:"",minWidth:80,maxWidth:80,disabled:!0},{...Pe.keyColumn("SQflag",kt({continuousUpdates:!1})),minWidth:38,maxWidth:38,title:"",disabled:!0,cellClassName:"star"},{...Pe.keyColumn("SPrice",Jn(2)),title:"",minWidth:100,disabled:E||d.spriceDisabled,cellClassName:d.getSPriceClassName},{...Pe.keyColumn("SQtyNote",kt({continuousUpdates:!1})),minWidth:38,maxWidth:38,title:"",disabled:!0,cellClassName:"star"},{...Pe.keyColumn("SQty",Jn(2)),title:"",minWidth:100,disabled:E||d.sqtyDisabled},{...Pe.keyColumn("SAmt",Jn(2)),title:"",minWidth:120,disabled:!0},{...Pe.keyColumn("stype",or(ad,{name:"stype",disableClearable:!0,disableOpenOnInput:!0,autoHighlight:!0,selectOnFocus:!0})),title:"",minWidth:70,maxWidth:70,disabled:E||d.stypeDisabled},{...Pe.keyColumn("SRemark",kt({continuousUpdates:!1})),title:"",grow:1.8,disabled:E}],[D==null?void 0:D.CustID,d.getSPriceClassName,d.spriceDisabled,d.sqtyDisabled,d.stypeDisabled,E,y]),w=hr({data:d.grid.gridData,columns:k,skipDisabled:!0,lastCell:Xn.CREATE_ROW}),A=a.useCallback(()=>{if(!m){ae.error(""),i.setFocus("OrdDate");return}if(!h){ae.error(""),i.setFocus("ArrDate");return}if(!g){ae.error(""),i.setFocus("CompTel");return}if(!x){ae.error(""),i.setFocus("CustName");return}if(!y&&!D){ae.error(""),i.setFocus("customer");return}w.setActiveCell({col:0,row:0})},[m,h,g,x,y,D,w,i]),F=a.useCallback(U=>!y&&!U?"":!0,[y]),_=a.useMemo(()=>!y,[y]),L=a.useCallback(U=>{switch(U.name){default:return!1}},[]),K=vt(`
		SalDate,
		ArrDate,
		RetDate,
		dontPrtAmt,
		retail,
		customer,
		customerOrders,
		CustName,
		CompTel,
		employee,
		RecAddr,
		transType,
		taxExcluded,
		paymentType,
		InvAddr,
		UniForm,
		deliveryEmployee,
		HDNo,
		InvNo
		`,{lastField:A}),{enableEvents:z}=K,J=a.useCallback(()=>{d.editing&&i.handleSubmit(d.onEditorSubmit({setValue:i.setValue,gridMeta:w}),d.onEditorSubmitError)()},[d,i,w]);$t(["Control+Enter"],()=>setTimeout(J),{enableOnFormTags:!0});const Q=i.handleSubmit(d.onRefreshGridSubmit({setValue:i.setValue}),d.onRefreshGridSubmitError);mn(()=>{d.itemDataReady&&(console.log("e021 form reset",d.itemData),u(d.itemData),z())},[d.itemData,d.itemDataReady]);const V=a.useMemo(()=>d.handleCustomerChange({setValue:i.setValue,getValues:i.getValues,formMeta:K,gridMeta:w,handleRefreshGridSubmit:Q}),[d,i.getValues,i.setValue,K,w,Q]);a.useEffect(()=>{d.committed&&(console.log("committed",d.grid.gridData),J())},[d.committed,d.grid.gridData,J]);const W=a.useCallback(U=>{U&&(K.supressEvents(),p({id:U}))},[p,K]);return $D("target",W),r.jsx(Ye,{...i,children:r.jsx(Ct,{...K,gridMeta:w,readOnly:E,isFieldDisabled:L,children:r.jsxs(Er,{ref:t,title:I,responsive:!0,fullWidth:!0,maxWidth:"lg",TitleButtonsComponent:ATe,open:d.itemViewOpen,onClose:P,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[{minHeight:"30em",paddingTop:0},T.scroller],...n,children:[r.jsx("form",{onSubmit:J,children:r.jsx(K8,{creating:d.creating,editing:d.editing,updating:d.updating,readWorking:d.readWorking,readError:d.readError,data:d.itemData,itemDataReady:d.itemDataReady,squaredDisabled:d.squaredDisabled,handleCustomerChange:V,handleRetailChange:d.handleRetailChange({setValue:i.setValue,gridMeta:w}),validateCustomer:F,customerRequired:_,handleTaxTypeChange:d.handleTaxTypeChange({setValue:i.setValue,getValues:i.getValues}),handleCustomerOrdersChanged:d.handleCustomerOrdersChanged2({setValue:i.setValue,getValues:i.getValues,reset:i.reset,formMeta:K})})}),r.jsx(B8,{})]})})})});NTe.displayName="E021DialogContainer";const pN=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:8,...t})};pN.propTypes={loading:l.bool,children:l.oneOfType([l.node])};pN.displayName="E021CustomerColumn";const tD=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:3,...t})};tD.propTypes={loading:l.bool,children:l.oneOfType([l.node])};tD.displayName="E021DateColumn";const mN=e=>{const{...t}=e;return r.jsx(wt,{flex:!0,pr:1,xs:2,justifyContent:"center",...t})};mN.propTypes={loading:l.bool,children:l.oneOfType([l.node])};mN.displayName="E021FlagColumn";const fN=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:3,...t})};fN.propTypes={loading:l.bool,children:l.oneOfType([l.node])};fN.displayName="E021IdColumn";const hN=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:4,...t})};hN.propTypes={loading:l.bool,children:l.oneOfType([l.node])};hN.displayName="E021UserColumn";const X8=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsxs(io,{ref:t,...n,children:[r.jsx(Hn,{}),r.jsx(fN,{children:""}),r.jsx(tD,{children:""}),r.jsx(tD,{children:""}),r.jsx(mN,{children:""}),r.jsx(pN,{children:""}),r.jsx(hN,{children:""})]})}));X8.propTypes={};X8.displayName="E021ListHeader";const FTe=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(fc),s=a.useMemo(()=>"",[]);return r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(Ao,{}),onClick:o.handlePromptCreating,sx:{fontWeight:600},...n,children:s})}));FTe.displayName="E021CreateButtonContainer";const MTe=()=>{const e=a.useContext(fc);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};MTe.displayName="E021FetchResultLabelContainer";const _Te=a.memo(()=>r.jsx(r.Fragment,{children:r.jsx(FTe,{})}));_Te.displayName="LeftButtons";const LTe=a.memo(a.forwardRef(({...e},t)=>r.jsx(kn,{pl:0,pr:1,alignItems:"flex-end",ref:t,LeftComponent:_Te,RightComponent:MTe,...e})));LTe.displayName="E021ListViewToolbar";const Owt=Object.freeze({MANAGER:Symbol("E021"),CLEARK:Symbol("E02")}),Ewt=()=>({Pkey:zn(),prod:null,ProdData_N:"",PackData_N:"",SQflag:"",SPrice:"",SOutQty:"",SQty:"",SAmt:"",stype:null,SRemark:"",SNotQty:"",SOrdID:"",SQtyOrig:""}),oB=Object.freeze({NONE:"",RETAIL:"Y",NORMAL:"N"}),Z8=[{id:oB.RETAIL,label:""},{id:oB.NORMAL,label:""}],Pwt=e=>{if(!e)return"";const{id:t,label:n}=e;return`[${t||"  "}] ${n}`},Rwt=e=>Z8.find(t=>t.id===e),wwt=e=>Z8.find(t=>{var n;return((n=t.id)==null?void 0:n.toLowerCase())===(e==null?void 0:e.toLowerCase())}),kwt=(e,t)=>(e==null?void 0:e.id)==(t==null?void 0:t.id),VP=Object.freeze({NONE:"",NOT:"N",MARK_AS_SQUARED:"Y",SQUARED:"*"}),e7=[{id:VP.NOT,label:""},{id:VP.MARK_AS_SQUARED,label:""},{id:VP.SQUARED,label:""}],Awt=e=>{if(!e)return"";const{id:t,label:n}=e;return`[${t||"  "}] ${n}`},Nwt=e=>e7.find(t=>t.id===e),Fwt=e=>e7.find(t=>{var n;return((n=t.id)==null?void 0:n.toLowerCase())===(e==null?void 0:e.toLowerCase())}),Mwt=(e,t)=>(e==null?void 0:e.id)==(t==null?void 0:t.id),_wt=e=>!1,Lwt=(e,t,n)=>(e==null?void 0:e.map(o=>{const{ProdID:s,ProdData_N:i,PackData_N:c,Price_N:u}=o;return{Pkey:zn(),prod:{ProdID:s,ProdData:i},ProdData_N:i,PackData_N:c,Price:u,employee:s?t:null,QDate:s?n:null}}))||[],$Te=({rowData:e,rowIndex:t})=>{var s;let n=[];if((s=e==null?void 0:e.prod)!=null&&s.ProdID){if(!wo.isNullOrEmpty(e==null?void 0:e.StockQty_N)){const i=e.StockQty_N;n.push(`${i||0}`)}if(!wo.isNullOrEmpty(e==null?void 0:e.OrdQty_N)){const i=e.OrdQty_N;n.push(`${i||0}`)}if(!wo.isNullOrEmpty(e==null?void 0:e.LaveQty_N)){const i=e.LaveQty_N;n.push(`${i||0}`)}wo.isNullOrEmpty(e==null?void 0:e.SOrdID)||e.SOrdID&&n.push(`: ${e.SOrdID.includes("#")?e.SOrdID.split("#")[0]:e.SOrdID||""}`)}const o=n.join(", ");return console.log(`${$Te.name}`,o),o},t7=({rowData:e,rowIndex:t})=>{var o;let n=[];if((o=e==null?void 0:e.prod)!=null&&o.ProdID){if(!wo.isNullOrEmpty(e==null?void 0:e.StockQty_N)){const s=e.StockQty_N;if(n.push({label:"",value:s??0}),e!=null&&e.SafeQty_N){const i=Number(e==null?void 0:e.SafeQty_N)||0,c=i>0?s-i:s;s<(i>0?i:0)&&n.push({label:"",value:c})}}if(!wo.isNullOrEmpty(e==null?void 0:e.OrdQty_N)){const s=e.OrdQty_N;n.push({label:"",value:s??0})}if(!wo.isNullOrEmpty(e==null?void 0:e.LaveQty_N)){const s=e.LaveQty_N;n.push({label:"",value:s??0})}wo.isNullOrEmpty(e==null?void 0:e.SOrdID)||e.SOrdID&&n.push({label:"",value:e.SOrdID.includes("#")?e.SOrdID.split("#")[0]:e.SOrdID||""})}return console.log(`${t7.name}`,n),n},BTe=e=>e==null?void 0:e.map((t,n)=>{const{Pkey:o,ProdData_N:s,PackData_N:i,SAmt:c,SOrdID:u,SPrice:d,SProdID:p,SQflag:m,SQty:f,SQtyNote:h,SQtyOrig:g,SRemark:x,SType:y,Seq:D,...v}=t;let T={Pkey:o,prod:p?{ProdID:p,ProdData:s}:null,ProdData_N:s,PackData_N:i,SQflag:m,SPrice:d,SQtyNote:h,SQtyOrig:g,SQty:f,SAmt:c,stype:zc.getOptionById(y),SRemark:x,Seq:D,SOrdID:u,...v};return T.tooltip=t7({rowData:T,rowIndex:n}),T}),$wt=e=>e.filter(t=>{var n;return(n=t.prod)==null?void 0:n.ProdID}).map((t,n)=>{const{Pkey:o,prod:s,SPrice:i,SQty:c,SAmt:u,stype:d,SOutQty:p,StockQty_N:m,tooltip:f,sqtyError:h,...g}=t;return console.log("skipping",h,f),{Pkey:(o==null?void 0:o.length)<36?"":o,SProdID:s?s.ProdID:"",SQty:(c==null?void 0:c.toString())||"",SPrice:(i==null?void 0:i.toString())||"",SAmt:(u==null?void 0:u.toString())||"",SType:(d==null?void 0:d.id)||"",SOutQty:(p==null?void 0:p.toString())||"",StockQty_N:(m==null?void 0:m.toString())||"",Seq:n+1,...g}}),WTe=e=>{const{TrafID:t,TrafData_N:n}=e||{};return t?{CodeID:t,CodeData:n}:null},UTe=e=>{const{TaxType:t}=e||{};return t==="Y"},Bwt=(e={})=>{const{SalType:t}=e;return t==="Y"},qTe=e=>{const{RecvID:t,RecvData_N:n}=e||{};return t?{CodeID:t,CodeData:n}:null},Wwt=e=>{const{DyEmplID:t,DyEmplData_N:n}=e??{};return t?{CodeID:t,CodeData:n}:null},VTe=e=>{const{EmplID:t,EmplData_N:n}=e||{};return t?{CodeID:t,CodeData:n}:null},Uwt=e=>{const{EmplID:t,EmplData_N:n,SalDate:o,ArrDate:s,RetDate:i,SalType:c,CustID:u,CustName:d,RecvID:p,RecvData_N:m,TaxType:f,TrafID:h,TrafData_N:g,PrtAmt:x,DyEmplID:y,DyEmplData_N:D,OrdIDs:v,Sales_S:T,Remark:I,...P}=e;return{SalDate:Re.parseDate(o),ArrDate:Re.parseDate(s),RetDate:Re.parseDate(i),retail:Bwt({SalType:c}),customer:u?{CustID:u,CustData:d}:null,CustName:d,customerOrders:(v==null?void 0:v.split(/[|,]/).filter(E=>!!E).map(E=>({:E})))||[],paymentType:qTe({RecvID:p,RecvData_N:m}),employee:VTe({EmplID:t,EmplData_N:n}),transType:WTe({TrafID:h,TrafData_N:g}),taxExcluded:UTe({TaxType:f}),dontPrtAmt:x==="N",deliveryEmployee:Wwt({DyEmplID:y,DyEmplData_N:D}),prods:BTe(T),remark:I.join(`
`),...P}},qwt=(e,t)=>{const{SalDate:n,ArrDate:o,RetDate:s,retail:i,customer:c,CustName:u,paymentType:d,employee:p,transType:m,dontPrtAmt:f,taxExcluded:h,remark:g,prods:x,customerOrders:y,stype:D,innerProd:v,deliveryEmployee:T,...I}=e;return console.log("ignore props:",x,y,D,v),{SalDate:Re.formatDate(n)||"",ArrDate:Re.formatDate(o)||"",RetDate:Re.formatDate(s)||"",SalType:i?"Y":"",CustID:(c==null?void 0:c.CustID)||"",OrdIDs:y.map(P=>P.).filter(Boolean).join("|"),CustName:u,RecvID:(d==null?void 0:d.CodeID)||"",EmplID:(p==null?void 0:p.CodeID)||"",PrtAmt:f?"N":"Y",Remark:g.split(`
`),TrafID:(m==null?void 0:m.CodeID)||"",TaxType:h?"Y":"",DyEmplID:(T==null?void 0:T.CodeID)??"",...I,...t&&{Sales_S:$wt(t)}}},Vwt=e=>{switch(e==null?void 0:e.toUpperCase()){case"N":return 0;case"Y":return 1;case"":default:return null}},zwt=e=>{var n,o,s;console.log("transformAsQueryParams",e);const t=Vwt((n=e.salesType)==null?void 0:n.id);return{q:e.q,salesDate:Re.formatDate(e.salesDate),arrDate:Re.formatDate(e.arrDate),...t!=null&&{retail:t},...e.cust&&{cust:(o=e.cust)==null?void 0:o.CustID},...e.custName&&{custName:e.custName},...e.compTel&&{compTel:e.compTel},employee:(s=e.employee)==null?void 0:s.CodeID}},Hwt=e=>{var t,n,o,s,i,c;return{pi:(t=e.sprod)==null?void 0:t.ProdID,pi2:(n=e.eprod)==null?void 0:n.ProdID,pn:e.prodName,cl:(o=e.catL)==null?void 0:o.LClas,cm:(s=e.catM)==null?void 0:s.MClas,cs:(i=e.catS)==null?void 0:i.SClas,ta:(c=e.typeA)==null?void 0:c.id}},Gwt=e=>{if(!e)return 0;let t=0;for(const n of e){const{SAmt:o}=n;t+=o?Number(o):0}return t},as={createRow:Ewt,transformForReading:Uwt,transformForSubmitting:qwt,transformAsQueryParams:zwt,transformForGridImport:Lwt,transformGridForReading:BTe,transformProdCriteriaAsQueryParams:Hwt,SquaredState:VP,squaredOptions:e7,getSquaredOptionLabel:Awt,getSquaredOptionById:Nwt,getSquaredOptionDisabled:_wt,findSquaredOptionByInput:Fwt,isSquaredOptionEqualToValue:Mwt,SalesType:oB,salesTypeOptions:Z8,getSalesTypeOptionLabel:Pwt,getSalesTypeOptionById:Rwt,findSalesTypeOptionByInput:wwt,isSalesTypeOptionEqualToValue:kwt,getTransType:WTe,getTaxExcluded:UTe,getPaymentType:qTe,getEmployee:VTe,getTotal:Gwt,getTooltip:$Te,getTooltips:t7,Mode:Owt},n7=a.memo(e=>{const{index:t,style:n,value:o,onClick:s}=e,{:i,:c}=o||{},u=a.useMemo(()=>[i,c].filter(Boolean).join(" "),[i,c]);return r.jsx("div",{style:n,children:r.jsx(yo,{borderBottom:!0,onClick:s,children:r.jsx(jt,{children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t}),r.jsx(fN,{children:(o==null?void 0:o.)||""}),r.jsx(tD,{children:(o==null?void 0:o.)||""}),r.jsx(tD,{children:(o==null?void 0:o.)||""}),r.jsx(mN,{children:(o==null?void 0:o.)||""}),r.jsx(pN,{children:u}),r.jsx(hN,{children:(o==null?void 0:o.)||""})]})})})})});n7.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func,confirmResetPword:l.func,promptCopyAuth:l.func};n7.displayName="E021ListRow";const r7=e=>{const t=a.useContext(fc),{isItemLoading:n}=t,{index:o,...s}=e,i=a.useMemo(()=>n(o),[o,n]),c=a.useMemo(()=>t.listData[o],[t.listData,o]),u=a.useCallback(d=>{t.handleSelect(d,c)},[t,c]);return r.jsx(No,{loading:i,children:r.jsx(n7,{index:o,value:c,onClick:u,...s})})};r7.propTypes={index:l.number,data:l.object};r7.displayName="E021ListRowContainer";const zTe=()=>{const e=a.useContext(fc),{loadList:t}=e,n=Ke(),{height:o}=Wt(),s=Ue({name:"q",control:n.control}),i=Ue({name:"lvSalesDate",control:n.control}),c=Ue({name:"lvArrDate",control:n.control}),u=Ue({name:"lvSquared",control:n.control}),d=Ue({name:"lvSalesType",control:n.control});Ue({name:"lvRetail",control:n.control});const p=Ue({name:"lvCust",control:n.control}),m=Ue({name:"lvCustName",control:n.control}),f=Ue({name:"lvCompTel",control:n.control}),h=Ue({name:"lvEmployee",control:n.control});En(()=>{e.loadList()},[]),mn(()=>{t({params:as.transformAsQueryParams({q:s,salesDate:i,arrDate:c,squared:u,salesType:d,cust:p,custName:m,compTel:f,employee:h}),supressLoading:!0})},[s,i,c,u,d,p,m,f,h]);const g=a.useMemo(()=>o?o-250:300,[o]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:r7,height:g,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};zTe.displayName="E021ListViewContainer";const o7=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(bt,{ref:t,fullWidth:!0,options:as.salesTypeOptions,getOptionLabel:as.getSalesTypeOptionLabel,isOptionEqualToValue:as.isSalesTypeOptionEqualToValue,findByInput:as.findSalesTypeOptionByInput,notFoundText:" ${input} ",emptyId:!0,...n})}));o7.propTypes={label:l.string,children:l.node};o7.displayName="E021SalesTypePicker";const s7=a.memo(e=>{const{...t}=e;return r.jsx(Pt,{children:r.jsx("form",{...t,children:r.jsxs(Vt,{container:!0,columns:24,spacing:1,initSize:"xs",children:[r.jsx(Vt,{item:!0,xs:4,children:r.jsx($e,{autoFocus:!0,name:"q",label:"",size:"small",clearable:!0,placeholder:""})}),r.jsx(Vt,{item:!0,xs:5,children:r.jsx(et,{name:"lvSalesDate",label:"",clearable:!0,validate:!0})}),r.jsx(Vt,{item:!0,xs:5,children:r.jsx(et,{name:"lvArrDate",label:"",clearable:!0,validate:!0})}),r.jsx(Vt,{item:!0,xs:6,children:r.jsx(Ar,{name:"lvEmployee",label:"",fullWidth:!0,disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(Vt,{item:!0,xs:4,children:r.jsx(o7,{name:"lvSalesType",label:"",placeholder:"=+"})}),r.jsx(Vt,{item:!0,xs:4,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xr,{variant:"outlined",fullWidth:!0,label:"",name:"lvRetail",size:"small",slotProps:{label:{labelPlacement:"start"}}})})}),r.jsx(Vt,{item:!0,xs:5,children:r.jsx(dN,{name:"lvCust",retailName:"lvRetail",forId:!0,disableOpenOnInput:!0,slotProps:{paper:{sx:{width:360}}}})}),r.jsx(Vt,{item:!0,xs:5,children:r.jsx($e,{name:"lvCustName",label:"",size:"small",clearable:!0,placeholder:"",fullWidth:!0})}),r.jsx(Vt,{item:!0,xs:6,children:r.jsx($e,{name:"lvCompTel",label:"",size:"small",clearable:!0,placeholder:"",fullWidth:!0})})]})})})});s7.propTypes={};s7.displayName="E021SearchForm";const HTe=e=>{const{...t}=e,n=vt(`
		q,
		lvSalesDate,
		lvArrDate,
		lvEmployee,
		lvSalesType,
		lvRetail,
		lvCust,
		lvCustName,
		lvCompTel,
		`);return r.jsx(Ct,{...n,children:r.jsx(s7,{...t})})};HTe.displayName="E021SearchFormContainer";const sB=()=>{const e=at({defaultValues:{}});return r.jsx(Ye,{...e,children:r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(HTe,{initSize:"md"}),r.jsx(LTe,{}),r.jsx(X8,{}),r.jsx(zTe,{}),r.jsx(NTe,{})]})})};sB.displayName="E021FrameContainer";const a7=a.memo(e=>{var s,i,c,u;const{anchor:t="right",...n}=e,o=a.useContext(hu);return r.jsxs(Eo,{anchor:t,open:o.sideDrawerOpen,onClose:o.handleSideDrawerClose,slotProps:{backdrop:{sx:[ur.BACKDROP_TRANSPARENT]}},...n,children:[((s=o.itemData)==null?void 0:s.AccYMD)&&r.jsx(pn,{label:"",children:(i=o.itemData)==null?void 0:i.AccYMD}),r.jsx(pn,{label:"",children:(c=o.itemData)==null?void 0:c.WriteDate_N}),r.jsx(pn,{label:"",children:(u=o.itemData)==null?void 0:u.Writer_N})]})});a7.propTypes={anchor:l.string};a7.displayName="E03Drawer";const gN=e=>{const{retailName:t,...n}=e,o=Ue({name:t});return r.jsx(ho,{forNew:o,...n})};gN.propTypes={retailName:l.string.isRequired};gN.displayName="E03CustomerPicker";const i7=a.memo(()=>{const e=a.useContext(hu),t=Ke();return r.jsxs(VD,{children:[r.jsx(oi,{label:"",name:"RetAmt",sx:{minWidth:"9rem"}}),r.jsx(oi,{label:"",name:"TaxAmt",sx:{minWidth:"9rem"}}),r.jsx(oi,{label:"",name:"TotAmt",sx:{minWidth:"9rem"}}),r.jsx($e,{typo:!0,slotProps:{label:{flex:!0,inline:!0,sx:{minWidth:"9rem"},labelProps:{variant:"body1"}}},inline:!0,dense:!0,name:"RfdAmt",label:"",type:"number",renderLabel:wo.formatPrice,sx:{width:"9rem"},onChange:e.handleRfdAmtChange({setValue:t.setValue,getValues:t.getValues})}),r.jsx(oi,{label:"",name:"RedAmt",sx:{minWidth:"9rem"}})]})});i7.displayName="E03ProdGridToolbarLabels";const l7=a.forwardRef((e,t)=>{const{...n}=e;return a.useContext(Lr).readOnly?r.jsx(eN,{ref:t,RightComponent:i7,...n}):!1});l7.propTypes={};l7.displayName="E03ProdGridBottomToolbar";const Kwt=Aa({RightComponent:i7}),Qwt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),c7=a.memo(e=>{const{getRowKey:t,createRow:n,readOnly:o,gridRef:s,data:i,onChange:c,getRowClassName:u,height:d=300,bearer:p,...m}=e,f=a.useCallback(({rowData:h})=>({...h,Pkey:zn()}),[]);return r.jsx(dr,{ref:s,rowKey:t,lockRows:o,height:d+(o?48:0),value:i,onChange:c,addRowsComponent:Kwt,disableExpandSelection:!0,contextMenuComponent:Qwt,createRow:n,duplicateRow:f,rowClassName:u,...m})});c7.propTypes={getRowKey:l.func,onChange:l.func};c7.displayName="E03ProdGrid";const GTe=e=>{const{...t}=e,n=a.useContext(hu),o=a.useContext(Be),{height:s}=Wt(),i=a.useContext(Lr),c=Ke(),u=a.useMemo(()=>n.buildGridChangeHandler({gridMeta:i.gridMeta,getValues:c.getValues,setValue:c.setValue,onUpdateRow:n.onUpdateRow,onGridChanged:n.onGridChanged,onCheckRow:n.onCheckRow}),[n,c.getValues,c.setValue,i.gridMeta]),d=a.useMemo(()=>s-414-(i.readOnly?ur.GRID_BOTTOM_TOOLBAR_HEIGHT:0),[i.readOnly,s]),p=a.useMemo(()=>({...Pe.keyColumn("tooltip",If({arrow:!0,placement:"bottom-end"}))}),[]);return r.jsx(Kn.Provider,{value:{...n.grid,...i.gridMeta,readOnly:i.readOnly},children:r.jsx(c7,{gridRef:i.gridMeta.setGridRef,readOnly:i.readOnly,data:n.grid.gridData,onChange:u,onActiveCellChange:i.gridMeta.handleActiveCellChange,bearer:o.token,height:d,getRowKey:n.getRowKey,createRow:n.createRow,stickyRightColumn:p,...t})})};GTe.displayName="E03ProdGridContainer";const u7=a.memo(e=>{const{readError:t,readWorking:n,itemDataReady:o,creating:s,editing:i,updating:c,handleRetailChange:u,handleCustomerChange:d,validateCustomer:p,customerRequired:m,handleTaxTypeChange:f,slotProps:h,...g}=e;return r.jsxs(r.Fragment,{children:[n&&r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",minHeight:"30em",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}),t&&r.jsx(lo,{error:t,...h==null?void 0:h.error}),o&&r.jsx(r.Fragment,{children:r.jsxs(Pt,{pt:1,children:[r.jsxs(j,{container:!0,columns:24,spacing:.8,children:[!s&&r.jsx(j,{item:!0,xs:24,sm:24,md:6,children:r.jsx($e,{typo:!0,name:"RetID",label:"",fullWidth:!0,readOnly:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:4.5,children:r.jsx(et,{typo:!0,autoFocus:!0,name:"RetDate",label:"",fullWidth:!0,required:!0,variant:"outlined",validate:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:2,children:r.jsx(xr,{typo:!0,label:"",name:"retail",onChange:u})}),r.jsx(j,{item:!0,xs:24,sm:24,md:4,children:r.jsx(gN,{retailName:"retail",forId:!0,typo:!0,name:"customer",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,onChanged:d,required:m,rules:{validate:p},slotProps:{paper:{sx:{width:360}}}})}),r.jsx(j,{item:!0,xs:24,sm:24,md:4,children:r.jsx(Hb,{typo:!0,label:"",name:"paymentType",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:24,sm:24,md:6.5,children:r.jsx($e,{typo:!0,label:"",name:"CustName",fullWidth:!0,required:!0,rules:{required:""}})}),r.jsx(j,{item:!0,xs:24,sm:24,md:4,children:r.jsx($e,{typo:!0,label:"",name:"CompTel",fullWidth:!0,required:!0,rules:{required:""}})}),r.jsx(j,{item:!0,xs:24,sm:24,md:4.5,children:r.jsx(Ar,{typo:!0,label:"",name:"employee",required:!0,rules:{required:""},virtualize:!0,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:2,children:r.jsx(xr,{typo:!0,label:"",name:"taxExcluded",size:"medium",slotProps:{label:{typography:{variant:"body2"}}},onChange:f})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:24,sm:24,md:6.5,children:r.jsx($e,{typo:!0,label:"",name:"RecAddr",fullWidth:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:4,children:r.jsx(Zb,{typo:!0,name:"transType",label:"",disableOpenOnInput:!0,slotProps:{paper:{sx:{width:200}}}})}),r.jsx(j,{item:!0,xs:24,sm:24,md:6.5,children:r.jsx($e,{typo:!0,label:"",name:"InvAddr",fullWidth:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:3.5,children:r.jsx($e,{typo:!0,name:"InvNo",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:24,sm:24,md:3.5,children:r.jsx($e,{typo:!0,label:"",name:"UniForm"})})]}),r.jsxs(Ns,{py:1,children:[r.jsx(GTe,{}),r.jsx(l7,{})]}),r.jsx(j,{container:!0,columns:24,children:r.jsx(j,{item:!0,xs:24,children:r.jsx($e,{typo:!0,name:"remark",multiline:!0,minRows:2,maxRows:5,label:"",fullWidth:!0})})})]})})]})});u7.propTypes={creating:l.bool,readWorking:l.bool,readError:l.object,data:l.object,itemDataReady:l.bool,squaredDisabled:l.bool,handleRetailChange:l.func,handleTaxTypeChange:l.func,handleCustomerChange:l.func,validateCustomer:l.func,customerRequired:l.bool,slotProps:l.object};u7.displayName="E03DialogForm";const KTe=e=>{const{...t}=e,n=Ue(),o=a.useContext(hu),{peekProds:s,importProdsWorking:i,ipState:{loading:c,totalElements:u}}=o,d=Gr(n,300),[p,m]=a.useState(),f=a.useMemo(()=>JSON.stringify(d),[d]);a.useEffect(()=>{f!==p&&(m(f),console.log("criteria changed",d),s(d))},[d,p,f,s]);const h=a.useMemo(()=>Gn.isAllPropsEmpty(n)?"":u?`(${u})`:"()",[n,u]),g=a.useMemo(()=>!u,[u]);return r.jsx(dt,{type:"submit",disabled:g,size:"small",responsive:!0,loading:c||i,sx:{fontWeight:600},...t,children:h})};KTe.displayName="E03ImportProdsButtonContainer";const d7=a.memo(e=>{const{onSubmit:t,...n}=e;return r.jsx("form",{onSubmit:t,...n,children:r.jsxs(jt,{pt:1,children:[r.jsxs(j,{container:!0,spacing:1,columns:24,children:[r.jsx(j,{item:!0,xs:12,children:r.jsx(fn,{name:"sprod",label:"",size:"small",virtualize:!0,autoFocus:!0,typeToSearchText:",",optionLabelSize:"md",disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}}})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(fn,{name:"eprod",label:"",size:"small",virtualize:!0,typeToSearchText:",",optionLabelSize:"md",disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}}})}),r.jsx(j,{item:!0,md:12,children:r.jsx(Yd,{name:"typeA",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,md:8,children:r.jsx(Pl,{name:"catL",disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:240}}}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:8,children:r.jsx(El,{name:"catM",disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:240}}}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:8,children:r.jsx(ou,{name:"catS",disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:240}}}})})]}),r.jsx(kn,{align:"right",children:r.jsx(jr,{title:"shift+Enter",children:r.jsx(KTe,{variant:"contained",color:"primary"})})})]})})});d7.propTypes={onSubmit:l.func};d7.displayName="E03LoadProdsForm";const p7=a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(hu),s=at({defaultValues:{}}),i=s.handleSubmit(o.onImportProdsSubmit({form:s}),o.onImportProdsSubmitError);return r.jsx(Er,{ref:t,responsive:!0,fullWidth:!0,maxWidth:"sm",title:"",open:o.importProdsDialogOpen,onClose:o.cancelImportProds,hideCloseButton:!1,confirmTooltip:"shift+Enter",...n,children:r.jsx(Ye,{...s,children:r.jsx(Ct,{...o.loadProdFormMeta,children:r.jsx(d7,{onSubmit:i})})})})});p7.propTypes={};p7.displayName="E03ImportProdsDialogContainer";const m7=a.memo(a.forwardRef((e,t)=>{const{onSave:n,onCancel:o,loading:s,...i}=e;return r.jsxs(a.Fragment,{ref:t,...i,children:[r.jsx(dt,{responsive:!0,onClick:o,color:"warning",variant:"outlined",...i,children:""}),r.jsx(dt,{responsive:!0,onClick:n,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:s,children:""}),r.jsx(p7,{})]})}));m7.displayName="E03DialogEditToolbar";m7.propTypes={onCancel:l.func,onSave:l.func,onLoadProds:l.func,loading:l.bool,readOnly:l.bool};const QTe=e=>{const{...t}=e,n=Ke(),o=a.useContext(hu),{canPrint:s}=o,i=n.handleSubmit(o.onPrintSubmit,o.onPrintSubmitError);return s?r.jsx(xn,{onSubmit:i,...t}):!1};QTe.displayName="E03ExportButtonContainer";const YTe=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,onDelete:o,onPrint:s,onSideDrawerOpen:i,...c}=e;return r.jsxs(a.Fragment,{ref:t,...c,children:[s&&r.jsx(r.Fragment,{children:r.jsx(QTe,{})}),o&&r.jsx(hn,{startIcon:r.jsx(Fs,{}),color:"secondary",onClick:o,children:""}),n&&r.jsx(hn,{startIcon:r.jsx(bo,{}),color:"primary",onClick:n,children:""}),r.jsx(jr,{title:"",children:r.jsx(br,{onClick:i,size:"small",children:r.jsx(Po,{})})})]})}));YTe.propTypes={onEdit:l.func,onDelete:l.func,onPrint:l.func,onSideDrawerOpen:l.func};const JTe=e=>{const{...t}=e,n=a.useContext(hu),o=Ke();a.useContext(Lr);const s=o.handleSubmit(n.onPrintSubmit,n.onPrintSubmitError),i=a.useMemo(()=>o.handleSubmit(n.onEditorSubmit,n.onEditorSubmitError),[n,o]),c=a.useMemo(()=>n.updating?n.confirmReturnReading:n.confirmQuitCreating,[n.confirmQuitCreating,n.confirmReturnReading,n.updating]),u=a.useMemo(()=>n.canUpdate?n.handleCheckEditable:null,[n.canUpdate,n.handleCheckEditable]);return n.itemDataReady?n.editing?r.jsx(m7,{onSave:i,onCancel:c,loading:n.editWorking,...t}):r.jsx(YTe,{onEdit:u,onDelete:n.canDelete?n.confirmDelete:null,onPrint:n.canPrint?s:null,onSideDrawerOpen:n.handleSideDrawerOpen,...t}):!1};JTe.displayName="E03DialogToolbarContainer";const XTe=a.forwardRef((e,t)=>{var _;const{...n}=e,{height:o}=Wt(),s=a.useMemo(()=>o-120,[o]),i=at({defaultValues:{quotes:[]}}),c=a.useContext(hu),u=Ue({name:"RetDate",control:i.control}),d=Ue({name:"CompTel",control:i.control}),p=Ue({name:"CustName",control:i.control}),m=Ue({name:"retail",control:i.control}),f=Ue({name:"customer",control:i.control}),h=Ue({name:"employee",control:i.control}),g=Qr({height:s,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),x=a.useMemo(()=>c.creating?"":c.updating?"":"",[c.creating,c.updating]),y=a.useMemo(()=>c.creating?c.confirmQuitCreating:c.updating?c.confirmQuitUpdating:c.reading?c.cancelAction:null,[c.cancelAction,c.confirmQuitCreating,c.confirmQuitUpdating,c.creating,c.reading,c.updating]),D=a.useMemo(()=>!c.editing||!u||!d||!p||!(h!=null&&h.CodeID)||!m&&!(f!=null&&f.CustID),[d,p,f==null?void 0:f.CustID,c.editing,h==null?void 0:h.CodeID,m,u]),v=a.useMemo(()=>[{...Pe.keyColumn("prod",or(ls,{name:"innerProd",packageType:"s",forId:!0,cst:(f==null?void 0:f.CustID)||"",retail:m,compTel:d,disableClearable:!0,withPrice:!0,slotProps:{paper:{sx:{width:360}}},clearOptionsOnChange:!0})),title:"",minWidth:130,maxWidth:150,disabled:D},{...Pe.keyColumn("ProdData_N",kt({continuousUpdates:!1})),title:"",disabled:!0,grow:1.5},{...Pe.keyColumn("PackData_N",kt({continuousUpdates:!1})),title:"",minWidth:80,maxWidth:80,disabled:!0},{...Pe.keyColumn("SQflag",kt({continuousUpdates:!1})),minWidth:38,maxWidth:38,title:"",disabled:!0,cellClassName:"star"},{...Pe.keyColumn("SPrice",Jn(2)),title:"",minWidth:100,disabled:D||c.spriceDisabled,cellClassName:c.getSPriceClassName},{...Pe.keyColumn("SQty",Jn(2)),title:"",minWidth:100,disabled:D||c.sqtyDisabled},{...Pe.keyColumn("SAmt",Jn(2)),title:"",minWidth:120,disabled:!0},{...Pe.keyColumn("stype",or(ad,{name:"stype",disableClearable:!0,disableOpenOnInput:!0,autoHighlight:!0,selectOnFocus:!0})),title:"",minWidth:70,maxWidth:70,disabled:D},{...Pe.keyColumn("dtype",or(Xb,{name:"dtype",disableOpenOnInput:!0,disableClearable:!0,selectOnFocus:!0,autoHighlight:!0,slotProps:{paper:{sx:{width:260}}}})),title:"",minWidth:130,maxWidth:160,disabled:D||c.dtypeDisabled},{...Pe.keyColumn("SRemark",kt({continuousUpdates:!1})),title:"",grow:1.8,disabled:D}],[d,f==null?void 0:f.CustID,c.dtypeDisabled,c.getSPriceClassName,c.spriceDisabled,c.sqtyDisabled,D,m]),T=hr({data:c.grid.gridData,columns:v,skipDisabled:!0,lastCell:Xn.CREATE_ROW}),I=a.useCallback(()=>{if(!u){ae.error(""),i.setFocus("OrdDate");return}if(!d){ae.error(""),i.setFocus("CompTel");return}if(!p){ae.error(""),i.setFocus("CustName");return}if(!m&&!f){ae.error(""),i.setFocus("customer");return}T.setActiveCell({col:0,row:0})},[u,d,p,m,f,T,i]),P=a.useCallback(L=>!m&&!L?"":!0,[m]),E=a.useMemo(()=>!m,[m]),k=a.useMemo(()=>{var L;return!!((L=c.itemData)!=null&&L.SalID)||!f&&!m},[f,(_=c.itemData)==null?void 0:_.SalID,m]),w=a.useCallback(L=>{switch(L.name){case"customerOrders":return k;default:return!1}},[k]),A=vt(`
		RetDate,
		retail,
		customer,
		paymentType,
		CustName,
		CompTel,
		employee,
		taxExcluded,
		RecAddr,
		transType,
		InvAddr,
		InvNo,
		UniForm,
		`,{lastField:I}),F=a.useCallback(()=>{c.editing&&i.handleSubmit(c.onEditorSubmit,c.onEditorSubmitError)()},[c.editing,c.onEditorSubmit,c.onEditorSubmitError,i]);return $t(["Control+Enter"],()=>setTimeout(F),{enableOnFormTags:!0}),mn(()=>{c.itemDataReady&&(console.log("e03 form reset",c.itemData),i.reset(c.itemData))},[c.itemData,c.itemDataReady]),a.useEffect(()=>{c.committed&&(console.log("committed",c.grid.gridData),F())},[c.committed,c.grid.gridData,F]),r.jsx(Ye,{...i,children:r.jsx(Ct,{...A,gridMeta:T,readOnly:D,isFieldDisabled:w,children:r.jsxs(Er,{ref:t,title:x,responsive:!0,fullWidth:!0,maxWidth:"lg",TitleButtonsComponent:JTe,open:c.itemViewOpen,onClose:y,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[{minHeight:"30em",paddingTop:0},g.scroller],...n,children:[r.jsx("form",{onSubmit:F,children:r.jsx(u7,{creating:c.creating,editing:c.editing,updating:c.updating,readWorking:c.readWorking,readError:c.readError,data:c.itemData,itemDataReady:c.itemDataReady,squaredDisabled:c.squaredDisabled,handleCustomerChange:c.handleCustomerChange({setValue:i.setValue,getValues:i.getValues,formMeta:A,gridMeta:T}),handleRetailChange:c.handleRetailChange({setValue:i.setValue,gridMeta:T}),validateCustomer:P,customerRequired:E,handleTaxTypeChange:c.handleTaxTypeChange({setValue:i.setValue,getValues:i.getValues}),handleRfdAmtChange:c.handleRfdAmtChange})}),r.jsx(a7,{})]})})})});XTe.displayName="E03DialogContainer";const f7=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(bt,{ref:t,fullWidth:!0,disableClearable:!0,label:"",options:rl.salesTypeOptions,getOptionLabel:rl.getSalesTypeOptionLabel,isOptionEqualToValue:rl.isSalesTypeOptionEqualToValue,findByInput:rl.findSalesTypeOptionByInput,notFoundText:" ${input} ",placeholder:": +",emptyId:!0,...n})}));f7.propTypes={label:l.string,children:l.node};f7.displayName="E03SalesTypePicker";const h7=a.memo(e=>{const{...t}=e;return r.jsx(Pt,{...t,children:r.jsxs(j,{container:!0,columns:24,spacing:1,children:[r.jsx(j,{item:!0,md:5,children:r.jsx($e,{autoFocus:!0,name:"q",label:"",size:"small",clearable:!0,placeholder:""})}),r.jsx(j,{item:!0,md:6,children:r.jsx(et,{name:"lvRtnDate",label:"",clearable:!0,validate:!0})}),r.jsx(j,{item:!0,md:6,children:r.jsx(Ar,{name:"lvEmployee",label:"",fullWidth:!0,disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,md:5,children:r.jsx(f7,{name:"lvSalesType",label:"",clearable:!0})}),r.jsx(j,{item:!0,md:3,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xr,{label:"",name:"lvRetail",size:"small",slotProps:{label:{labelPlacement:"start"}}})})}),r.jsx(j,{item:!0,md:5,children:r.jsx(gN,{name:"lvCust",retailName:"lvRetail",forId:!0,disableOpenOnInput:!0,slotProps:{paper:{sx:{width:360}}}})}),r.jsx(j,{item:!0,md:6,children:r.jsx($e,{name:"lvCustName",label:"",size:"small",clearable:!0,placeholder:"",fullWidth:!0})}),r.jsx(j,{item:!0,md:5,children:r.jsx($e,{name:"lvCompTel",label:"",size:"small",clearable:!0,placeholder:"",fullWidth:!0})})]})})});h7.propTypes={};h7.displayName="E03ListForm";const ZTe=e=>{const{...t}=e,n=vt(`
		q,
		lvRtnDate,
		lvEmployee,
		lvSalesType,
		lvRetail,
		lvCust,
		lvCustName,
		lvCompTel,
		`);return r.jsx(Ct,{...n,children:r.jsx(h7,{...t})})};ZTe.displayName="E03ListFormContainer";const bN=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:8,...t})};bN.propTypes={loading:l.bool,children:l.oneOfType([l.node])};bN.displayName="E03CustomerColumn";const nD=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:3,...t})};nD.propTypes={loading:l.bool,children:l.oneOfType([l.node])};nD.displayName="E03DateColumn";const xN=e=>{const{...t}=e;return r.jsx(wt,{flex:!0,pr:1,xs:2,justifyContent:"center",...t})};xN.propTypes={loading:l.bool,children:l.oneOfType([l.node])};xN.displayName="E03FlagColumn";const yN=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:3,...t})};yN.propTypes={loading:l.bool,children:l.oneOfType([l.node])};yN.displayName="E03IdColumn";const CN=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:4,...t})};CN.propTypes={loading:l.bool,children:l.oneOfType([l.node])};CN.displayName="E03UserColumn";const g7=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsxs(io,{ref:t,...n,children:[r.jsx(Hn,{}),r.jsx(yN,{children:""}),r.jsx(nD,{children:""}),r.jsx(nD,{children:""}),r.jsx(xN,{children:""}),r.jsx(bN,{children:""}),r.jsx(CN,{children:""})]})}));g7.propTypes={};g7.displayName="E03ListHeader";const eOe=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(hu),s=a.useMemo(()=>"",[]);return r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(Ao,{}),onClick:o.promptCreating,sx:{fontWeight:600},...n,children:s})}));eOe.displayName="E03CreateButtonContainer";const tOe=()=>{const e=a.useContext(hu);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};tOe.displayName="E03FetchResultLabelContainer";const nOe=a.memo(()=>r.jsx(r.Fragment,{children:r.jsx(eOe,{})}));nOe.displayName="LeftButtons";const rOe=a.memo(a.forwardRef(({...e},t)=>r.jsx(kn,{pl:0,pr:1,alignItems:"flex-end",ref:t,LeftComponent:nOe,RightComponent:tOe,...e})));rOe.displayName="E03ListViewToolbar";const b7=a.memo(e=>{const{index:t,style:n,value:o,onClick:s}=e,{:i,:c}=o||{},u=a.useMemo(()=>[i,c].filter(Boolean).join(" "),[i,c]);return r.jsx("div",{style:n,children:r.jsx(yo,{borderBottom:!0,onClick:s,children:r.jsx(jt,{children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t}),r.jsx(yN,{children:(o==null?void 0:o.)||""}),r.jsx(nD,{children:(o==null?void 0:o.)||""}),r.jsx(nD,{children:(o==null?void 0:o.)||""}),r.jsx(xN,{children:(o==null?void 0:o.)||""}),r.jsx(bN,{children:u}),r.jsx(CN,{children:(o==null?void 0:o.)||""})]})})})})});b7.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func,confirmResetPword:l.func,promptCopyAuth:l.func};b7.displayName="E03ListRow";const x7=e=>{const t=a.useContext(hu),{isItemLoading:n}=t,{index:o,...s}=e,i=a.useMemo(()=>n(o),[o,n]),c=a.useMemo(()=>t.listData[o],[t.listData,o]);return r.jsx(No,{loading:i,children:r.jsx(b7,{index:o,value:c,onClick:u=>t.handleSelect(u,c),...s})})};x7.propTypes={index:l.number,data:l.object};x7.displayName="E03ListRowContainer";const oOe=()=>{const e=a.useContext(hu),{loadList:t}=e,n=Ke(),{height:o}=Wt(),s=Ue({name:"q",control:n.control}),i=Ue({name:"lvRtnDate",control:n.control}),c=Ue({name:"lvArrDate",control:n.control}),u=Ue({name:"lvSquared",control:n.control}),d=Ue({name:"lvSalesType",control:n.control}),p=Ue({name:"lvCust",control:n.control}),m=Ue({name:"lvCustName",control:n.control}),f=Ue({name:"lvCompTel",control:n.control}),h=Ue({name:"lvEmployee",control:n.control}),g=Gr({q:s,returnDate:i,arrDate:c,squared:u,salesType:d,cust:p,custName:m,compTel:f,employee:h},300),x=a.useMemo(()=>o?o-250:300,[o]);return En(()=>{e.loadList()},[]),mn(()=>{t({params:rl.transformAsQueryParams(g),supressLoading:!0})},[g]),r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:x7,height:x,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};oOe.displayName="E03ListViewContainer";const sOe=()=>{const e=at({defaultValues:{lvSquared:as.getSquaredOptionById(as.SquaredState.NONE),lvSalesType:as.getSalesTypeOptionById(as.SalesType.NONE)}});return r.jsx(Ye,{...e,children:r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(ZTe,{}),r.jsx(rOe,{}),r.jsx(g7,{}),r.jsx(oOe,{}),r.jsx(XTe,{})]})})};sOe.displayName="E03FrameContainer";const aOe=({mode:e})=>{var un;const t=a.useContext(ln),n=a.useContext(cr),{itemData:o}=n,s=a.useRef();a.useRef();const i=a.useRef([]),{token:c,operator:u}=a.useContext(Be),d=a.useMemo(()=>{switch(e){case as.Mode.MANAGER:return"E021";default:return"E02"}},[e]),p=Bt({moduleId:d}),m=Co(),{clearParams:f}=a.useContext(Sn),[h,g]=a.useState(),{httpGetAsync:x,httpPostAsync:y,httpPutAsync:D,httpDeleteAsync:v}=Zn(),T=a.useContext(Mr),I=so({url:"v1/sales/invoices",bearer:c,initialFetchSize:50}),P=a.useRef(),E=a.useCallback(()=>P.current,[]),k=a.useCallback(Je=>{P.current={...P.current,...Je},console.log("prevData",E())},[E]),w=a.useCallback(()=>as.createRow(),[]),A=yr({gridId:"prods",keyColumn:"Pkey",createRow:w}),F=jf({grid:A,convType:"s"}),{committed:_}=F,L=a.useCallback(({rowData:Je})=>{var qt;return(qt=Je.stype)!=null&&qt.id?"line-through":null},[]),K=a.useCallback(({rowData:Je})=>e!=as.Mode.MANAGER,[e]),z=a.useCallback(({rowData:Je})=>!!Je.SQflag||!!Je.stype,[]),J=a.useCallback(({rowData:Je})=>Je.SOutQty>0||(!!(o!=null&&o.SalIDs)&&Je.SQty!==Je.SNotQty&&Je.SNotQty)>0,[o==null?void 0:o.SalIDs]),Q=a.useCallback(({rowData:Je})=>(Je==null?void 0:Je.SNotQty)&&Number(Je==null?void 0:Je.SNotQty)<=0,[]),V=a.useCallback(()=>{const Je={SalDate:new Date,ArrDate:new Date,taxExcluded:!1,customerOrders:[],retail:!1,RecdAmt:0,prods:[]};n.promptCreating({data:Je}),F.reset(),A.initGridData(Je.prods,{fillRows:13}),console.log("grid cleared in promptCreating")},[n,A,F]),W=a.useCallback(Je=>{Je==null||Je.stopPropagation(),V()},[V]),U=a.useCallback(({setValue:Je,formData:qt})=>{Je("dontPrtAmt",(qt==null?void 0:qt.dontPrtAmt)??!1)},[]),X=a.useCallback(({setValue:Je,formData:qt,reset:Tt=!1})=>{Tt?(Je("SalAmt",""),Je("TaxAmt",""),Je("TotAmt",""),Je("RecdAmt",""),Je("ArecAmt","")):(Je("SalAmt",qt.SalAmt),Je("TaxAmt",qt.TaxAmt),Je("TotAmt",qt.TotAmt),Je("RecdAmt",qt.RecdAmt),Je("ArecAmt",qt.ArecAmt))},[]),te=a.useCallback(({setValue:Je,formMeta:qt})=>Tt=>{qt.supressEvents(),Je("retail",Tt?Tt==null?void 0:Tt.retail:!1),Je("customer",Tt?Tt==null?void 0:Tt.customer:null),Je("CustName",(Tt==null?void 0:Tt.CustName)||""),Je("CompTel",(Tt==null?void 0:Tt.CompTel)||""),Je("RecAddr",(Tt==null?void 0:Tt.RecAddr)||""),Je("InvAddr",(Tt==null?void 0:Tt.InvAddr)||""),Je("UniForm",(Tt==null?void 0:Tt.UniForm)||""),Je("transType",(Tt==null?void 0:Tt.transType)||""),Je("employee",(Tt==null?void 0:Tt.employee)||""),Je("taxExcluded",(Tt==null?void 0:Tt.taxExcluded)||""),Je("paymentType",(Tt==null?void 0:Tt.paymentType)||""),Je("remark",(Tt==null?void 0:Tt.remark)||""),qt.enableEvents()},[]),se=a.useCallback(async({formData:Je,gridData:qt,setValue:Tt})=>{const Jt=as.getTotal(qt);try{const{status:st,payload:Dt,error:Gt}=await x({url:"v1/sales/invoices/refresh-amt",bearer:c,data:{taxExcluded:Je.taxExcluded?1:0,salesAmt:Jt,receivedAmt:Je.RecdAmt}});if(st.success)console.log("refresh-amt",Dt),Tt("SalAmt",Jt.toString()),Tt("TaxAmt",Dt.TaxAmt),Tt("TotAmt",Dt.TotAmt),Tt("ArecAmt",Dt.ArecAmt);else throw Gt||new Error("")}catch(st){ae.error("",st)}},[x,c]),he=a.useCallback(async({id:Je,refresh:qt=!1})=>{try{const Tt=qt?s.current:Je;qt||(s.current=Tt,n.startReading("...",{itemId:Tt}));const{status:Jt,payload:st,error:Dt}=await x({url:"v1/sales/invoices",bearer:c,params:{id:Tt}});if(Jt.success){const Gt=as.transformForReading(st.data[0]);n.finishedReading({data:Gt}),i.current=Gt.customerOrders,F.recoverStockMap(Gt.prods,{}),g(Gt),A.initGridData(Gt.prods)}else throw Dt??new Error("")}catch(Tt){n.failedReading(Tt)}},[x,c,n,F,A]),pe=a.useCallback(async({id:Je})=>{try{n.promptCreating(),n.startReading("...");const{status:qt,payload:Tt,error:Jt}=await x({url:"v1/sales/invoices/create-with",bearer:c,params:{id:Je}});if(qt.success){const st=as.transformForReading(Tt.data[0]);n.finishedReading({data:{...st,Date:new Date,ArrDate:new Date}}),i.current=st.customerOrders,F.recoverStockMap(st.prods,{}),A.initGridData(st.prods,{fillRows:!0}),ae.info(` ${Je}`)}else throw Jt??new Error("")}catch(qt){n.failedReading(qt)}},[x,c,n,F,A]),ue=a.useCallback(({updateResult:Je,prevGridData:qt,gridData:Tt,rowIndex:Jt})=>{var Dt,Gt,An,_n,pt;let st;return(Je==null?void 0:Je.type)==="DELETE"?st=((Gt=(Dt=qt[Jt])==null?void 0:Dt.prod)==null?void 0:Gt.ProdID)||"":(st=(An=Tt[Jt].prod)==null?void 0:An.ProdID,st||(st=((pt=(_n=qt[Jt])==null?void 0:_n.prod)==null?void 0:pt.ProdID)||"")),st?Tt.map(Rt=>{var Ze;if(((Ze=Rt.prod)==null?void 0:Ze.ProdID)===st){if(Rt.SNotQty&&Rt.SNotQty<=0||Rt.SOutQty&&Rt.SOutQty!=0)return{...Rt,StockQty_N:"",tooltip:""};const dn=F.getRemainingStock({prodId:st,gridData:Tt});let Yt={...Rt,StockQty_N:dn};return Yt={...Yt,tooltip:as.getTooltips({rowData:Yt,rowIndex:Jt})},Yt}return Rt}):(console.log("targetProdID ,  mapTooltip"),Tt)},[F]),ge=a.useCallback(async({data:Je,setValue:qt,gridMeta:Tt})=>{const Jt=n.creating;try{Jt?n.startCreating():n.startUpdating();const{status:st,error:Dt}=Jt?await y({url:"v1/sales/invoices",data:Je,bearer:c,params:{mode:e.description}}):await D({url:"v1/sales/invoices",data:Je,bearer:c,params:{mode:e.description}});if(st.success)ae.success(Jt?"":""),Jt?(n.finishedCreating(),n.cancelReading()):(n.finishedUpdating(),he({refresh:!0})),I.loadList({refresh:!0});else throw Dt??new Error("")}catch(st){if(Jt?n.failedCreating():n.failedUpdating(),console.error(`${Jt?"":""} `,st),st.code===102){const Dt=F.getErrorParams(st);F.handleOverrideSQty({setValue:qt,gridMeta:Tt,formData:Je,...Dt,onCommit:({gridData:Gt})=>{se({gridData:Gt,setValue:qt,formData:Je});const An=ue({gridData:Gt,rowIndex:Dt.rowIndex});A.setGridData(An)}})}else ae.error(`${Jt?"":""}`,st)}},[n,y,c,e,D,I,he,A,F,se,ue]),Ce=a.useCallback(()=>{n.cancelAction(),n.setItemData(null),f()},[f,n]),Te=a.useCallback(async(Je,qt)=>{console.log("handleSelect",qt),Je==null||Je.stopPropagation(),Ce(),he({id:qt.})},[Ce,he]),Ne=a.useCallback(()=>{T.confirm({message:"?",onConfirm:()=>{Ce()}})},[Ce,T]),xe=a.useCallback(()=>{T.confirm({message:"?",onConfirm:()=>{Ce(),he({refresh:!0})}})},[Ce,T,he]),me=a.useCallback(()=>{T.confirm({message:"?",onConfirm:()=>{n.cancelUpdating(),he({refresh:!0})}})},[n,T,he]),de=a.useCallback(()=>{T.confirm({message:`${o==null?void 0:o.SalID}?`,onConfirm:async()=>{try{n.startDeleting(o);const{status:Je,error:qt}=await v({url:"v1/sales/invoices",bearer:c,params:{id:o==null?void 0:o.SalID,mode:e.description}});if(Je.success)Ce(),ae.success(` ${o==null?void 0:o.SalID}`),I.loadList({refresh:!0});else throw qt||""}catch(Je){n.failedDeleting(Je),console.error("confirmDelete.failed",Je),ae.error("",Je)}}})},[Ce,n,T,v,o,I,e,c]),ce=a.useCallback(Je=>{console.log("onSearchSubmit",Je)},[]),ee=a.useCallback(Je=>{console.error("onSearchSubmitError",Je)},[]),De=a.useCallback(async(Je,{formData:qt})=>{var Tt;if(!Je){ae.error("",{position:"top-right"});return}if(!_w.isDate(qt.SalDate)){ae.error("",{position:"top-right"});return}try{const{status:Jt,payload:st,error:Dt}=await x({url:"v1/sales/invoices/prod-info",bearer:c,params:{id:Je,retail:qt.retail?1:0,cst:((Tt=qt.customer)==null?void 0:Tt.CustID)||"",sdate:Re.formatDate(qt.SalDate)}});if(Jt.success)return F.updateStockQty(Je,st.StockQty),{...st};throw Dt??new Error("")}catch(Jt){ae.error("",Jt)}},[x,F,c]),ke=a.useCallback(({setValue:Je,getValues:qt})=>async Tt=>{console.log("onTaxTypeChanged",Tt);const Jt=qt();console.log("formData",Jt),se({formData:{...Jt,taxExcluded:Tt},gridData:A.gridData,setValue:Je})},[se,A.gridData]),He=a.useCallback(async({rowData:Je,formData:qt})=>{var Dt,Gt,An;let Tt={...Je};const Jt=(Dt=Je==null?void 0:Je.prod)==null?void 0:Dt.ProdID,st=Jt?await De(Jt,{formData:qt}):null;return Jt&&(F.updateStockQty(Jt,Number(st==null?void 0:st.StockQty)),F.updatePreparedQty(Jt,Number(st==null?void 0:st.NotQty))),Tt={...Tt,prod:st?Tt.prod:null,ProdData_N:st&&((Gt=Tt.prod)==null?void 0:Gt.ProdData)||"",PackData_N:((An=Tt==null?void 0:Tt.prod)==null?void 0:An.PackData_N)||"",SQflag:(st==null?void 0:st.QFlag)||"",SPrice:(st==null?void 0:st.Price)||"",SQty:"",SAmt:"",stype:null,SRemark:"",SNotQty:"",SQtyNote:"",StockQty:"",SafeQty_N:(st==null?void 0:st.SafeQty_N)??"",tooltip:""},Tt},[De,F]),qe=a.useCallback(({fromRowIndex:Je,formData:qt,newValue:Tt,setValue:Jt,gridMeta:st,updateResult:Dt})=>async(Gt,An)=>{var dn,Yt,lt,Qe,rn;const _n=Je+An;Dt.rowIndex=_n;const pt=A.gridData[_n];console.log(` ${_n+1} ...`,Gt);let Rt={...Gt},Ze=!1;return((dn=Rt.prod)==null?void 0:dn.ProdID)!==((Yt=pt==null?void 0:pt.prod)==null?void 0:Yt.ProdID)&&(Dt.cols.push("prod"),console.log(`prod[${_n+1}] changed`,Gt==null?void 0:Gt.prod),Rt=await He({rowData:Gt,oldRowData:pt,formData:qt,newValue:Tt})),Rt.SQty!==pt.SQty&&(Dt.cols.push("SQty"),Rt=F.handleGridSQtyChange({rowData:Rt,gridData:Tt,rowIndex:_n,setValue:Jt,gridMeta:st,onCommit:({gridData:Cn})=>{se({formData:qt,gridData:Cn,setValue:Jt});const gr=ue({gridData:Cn,rowIndex:_n});A.setGridData(gr)}}),Rt={...Rt,SNotQty:Gt.SQty},Dt.cols.push("SNotQty")),(((lt=Rt.stype)==null?void 0:lt.id)!==((Qe=pt.stype)==null?void 0:Qe.id)||Rt.SPrice!==pt.SPrice||Rt.SQty!==pt.SQty)&&(Rt={...Rt,SAmt:!Rt.SPrice||!Rt.SQty?"":(rn=Rt.stype)!=null&&rn.id?0:Rt.SPrice*Rt.SQty},Ze=!0,Dt.cols.push("SAmt")),Rt.SNotQty!==pt.SNotQty&&(Rt={...Rt,SNotQty:Rt.SNotQty===0?0:Rt.SQty-Rt.SOutQty},Dt.cols.push("SNotQty")),Ze&&Dt.rows++,Rt},[A,He,se,F,ue]),Le=a.useCallback(({gridData:Je,formData:qt,setValue:Tt,updateResult:Jt,prevGridData:st})=>{if(console.log("onGridChanged",Je),se({gridData:Je,setValue:Tt,formData:qt}),Jt.cols.includes("prod")||Jt.cols.includes("SQty")||Jt.type==="DELETE"){console.log("before reduce",Je);const Dt=ue({updateResult:Jt,prevGridData:st,gridData:Je,rowIndex:Jt.rowIndex});return console.log("after reduce",Dt),Dt}},[se,ue]),_e=a.useCallback(({setValue:Je,gridMeta:qt})=>Tt=>{F.setCommitted(!1),console.log("onEditorSubmit",Tt);const Jt=as.transformForSubmitting(Tt,A.gridData);console.log("collected",Jt),ge({data:Jt,setValue:Je,gridMeta:qt})},[A.gridData,ge,F]),H=a.useCallback(Je=>{console.error("onEditorSubmitError",Je)},[]),re=a.useCallback(({rowData:Je,rowIndex:qt})=>`${(Je==null?void 0:Je.Pkey)||qt}`,[]),q=Or(),[Y,ie]=a.useState({criteria:null,saveKey:null,totalElements:null,loading:!1}),B=a.useCallback(async Je=>{if(!c)throw new Error("token not specified");if(Gn.isAllPropsEmpty(Je)){console.log("criteria is empty"),Y.saveKey&&ie(qt=>({...qt,saveKey:null,totalElements:null}));return}ie(qt=>({...qt,loading:!0,criteria:Je}));try{const{status:qt,payload:Tt,error:Jt}=await x({url:"v1/prod/data-grid/E021",bearer:c,params:{...as.transformProdCriteriaAsQueryParams(Je),pk:1}});if(qt.success)ie(st=>{var Dt,Gt;return{...st,saveKey:(Dt=Tt.Select)==null?void 0:Dt.SaveKey,totalElements:(Gt=Tt.Select)==null?void 0:Gt.TotalRecord}});else throw Jt??new Error("")}catch(qt){console.error("peek failed",qt),ae.error("",qt)}finally{ie(qt=>({...qt,loading:!1}))}},[x,Y.saveKey,c]),Z=a.useCallback(({form:Je})=>async qt=>{var Tt;console.log("onImportProdsSubmit",qt);try{q.start();const{status:Jt,payload:st,error:Dt}=await x({url:"v1/prod/data-grid/E021",bearer:c,params:{...as.transformProdCriteriaAsQueryParams(Y.criteria),sk:Y.saveKey}});if(Jt.success){const Gt=((Tt=st.data)==null?void 0:Tt[0].E021031_W1)||[];console.log("data",Gt);const An=Je.getValues();A.initGridData(as.transformForGridImport(Gt,An==null?void 0:An.employee,An==null?void 0:An.Date),{fillRows:!0}),ae.success(` ${Gt.length} `),q.clear()}else throw Dt??new Error("")}catch(Jt){q.fail({error:Jt}),ae.error("",Jt)}},[x,q,Y.criteria,Y.saveKey,A,c]),ye=a.useCallback(Je=>{console.error("onImportProdsSubmitError",Je)},[]),Ie=a.useMemo(()=>`${t.REPORT_URL}/WebE02Rep.aspx`,[t.REPORT_URL]),le=yn(),fe=a.useCallback(Je=>{var Tt;console.log("onPrintSubmit",Je);const qt={...Je.outputType&&{Action:Je.outputType.id},DeptID:u==null?void 0:u.CurDeptID,JobName:"E021",IDs:(Tt=n.itemData)==null?void 0:Tt.SalID};console.log("data",qt),le.open(Ie,qt)},[(un=n.itemData)==null?void 0:un.SalID,u==null?void 0:u.CurDeptID,Ie,le]),Ae=a.useCallback(Je=>{console.error("onPrintSubmitError",Je)},[]),Se=a.useCallback(({setValue:Je})=>qt=>{console.log("handlePrint",qt),Je("outputType",qt)},[]),be=vt(`
		sprod,
		eprod,
		typeA,
		catL,
		catM,
		catS
		`),Me=a.useMemo(()=>(o==null?void 0:o.CFlag)==="*"||n.creating,[n.creating,o==null?void 0:o.CFlag]),we=a.useCallback(({setValue:Je,gridMeta:qt})=>Tt=>{console.log("handleRetailChange",Tt),Je("customer",null),Je("CustName",""),Je("CompTel",""),Je("RecAddr",""),Je("InvAddr",""),Je("UniForm",""),Je("transType",null,{shouldTouch:!0}),Je("taxExcluded",null,{shouldTouch:!0}),Je("paymentType",null,{shouldTouch:!0}),Je("employee",null,{shouldTouch:!0}),Je("remark",""),qt.setActiveCell(null)},[]),Ge=a.useCallback(({setValue:Je})=>async qt=>{console.log("onRefreshGridSubmit",qt);try{const Tt=as.transformForSubmitting(qt,A.gridData);console.log("collected",Tt);const{status:Jt,payload:st,error:Dt}=await y({url:"v1/sales/invoices/refresh-grid",bearer:c,data:Tt});if(console.log("refresh-grid.payload",st),Jt.success){const Gt=as.transformForReading(st.data[0]);console.log("data.prods",Gt.prods),A.initGridData(Gt.prods,{fillRows:!0}),Je("SalAmt",Gt.SalAmt),Je("TaxAmt",Gt.TaxAmt),Je("TotAmt",Gt.TotAmt),Je("RecdAmt",Gt.RecdAmt),Je("ArecAmt",Gt.ArecAmt),k({customer:Gt==null?void 0:Gt.customer})}else throw Dt??new Error("")}catch(Tt){console.error("onRefreshGridSubmit failed",Tt),ae.error("",Tt);const Jt=E();Je("customer",Jt==null?void 0:Jt.customer)}},[A,y,c,k,E]),We=a.useCallback(Je=>{console.error("onRefreshGridSubmitError",Je)},[]),Ee=a.useCallback(({setValue:Je,getValues:qt,formMeta:Tt,gridMeta:Jt,handleRefreshGridSubmit:st})=>async Dt=>{console.log("handleCustomerChange",Dt),Tt.supressEvents();const Gt=qt(),An=!!Gt.customerOrders&&Gt.customerOrders.length>0;let _n=null;if(Dt){const pt=qt("retail");try{const{status:Rt,payload:Ze,error:dn}=await x({url:"v1/sales/customer-orders/customer-info",bearer:c,params:{cst:Dt.CustID,sal:pt?"Y":""}});if(Rt.success)_n=Ze.data[0];else throw dn??new Error("")}catch(Rt){console.error(Rt),ae.error("",Rt)}}An?Je("customerOrders",[]):(Je("CustName",(Dt==null?void 0:Dt.CustData)??"",{shouldTouch:!0}),Je("CompTel",(_n==null?void 0:_n.CompTel)??"",{shouldTouch:!0}),Je("RecAddr",(_n==null?void 0:_n.RecAddr)??"",{shouldTouch:!0}),Je("InvAddr",(_n==null?void 0:_n.InvAddr)??"",{shouldTouch:!0}),Je("UniForm",(_n==null?void 0:_n.UniForm)??"",{shouldTouch:!0}),Je("transType",as.getTransType(_n),{shouldTouch:!0}),Je("taxExcluded",as.getTaxExcluded(_n),{shouldTouch:!0}),Je("paymentType",as.getPaymentType(_n),{shouldTouch:!0}),Je("employee",as.getEmployee(_n),{shouldTouch:!0})),A.gridData.filter(pt=>{var Rt;return(Rt=pt.prod)==null?void 0:Rt.ProdID}).length>0?st():console.log("grid is empty, refresh-grid not triggered"),Jt.setActiveCell(null),Tt.enableEvents()},[A.gridData,x,c]),Xe=a.useCallback(({setValue:Je,getValues:qt,formMeta:Tt})=>async Jt=>{var _n,pt,Rt,Ze,dn;console.log("crud.readWorking",n.readWorking),console.log("handleCustomerOrdersChanged2",Jt);const st=qt();console.log("formData after customerOrdersChanged",st);const Dt=((_n=Jt==null?void 0:Jt[0])==null?void 0:_n.)??((pt=st.customer)==null?void 0:pt.CustID)??"",Gt=((Rt=Jt==null?void 0:Jt[0])==null?void 0:Rt.)=="Y"||st.retail,An=!!st.customer&&((Ze=Jt==null?void 0:Jt[0])==null?void 0:Ze.)==((dn=st.customer)==null?void 0:dn.CustID);if(!Jt||Jt.length===0){te({setValue:Je,formMeta:Tt})(null),U({setValue:Je,formData:null}),X({setValue:Je,formData:null,reset:!0}),A.setGridData(A.fillRows({data:[]}),{supressEvents:!0}),console.log("grid cleared in handleCustomerOrdersChanged2");return}try{const{status:Yt,payload:lt,error:Qe}=await x({url:"v1/sales/invoices/load-prods",bearer:c,params:{cst:Dt,ids:Jt.map(rn=>rn.).join(","),retail:Gt?1:0}});if(console.log("load-prods.payload",lt),Yt.success){const rn=as.transformForReading(lt.data[0]);console.log("refreshed data",rn);const{prods:Cn,...gr}=rn;A.setGridData(A.fillRows({data:Cn}),{supressEvents:!0}),i.current=rn.customerOrders,An||te({setValue:Je,formMeta:Tt})(gr),U({setValue:Je,formData:rn}),X({setValue:Je,formData:rn,reset:!rn})}else throw Qe??new Error("")}catch(Yt){ae.error("",Yt),Yt.code==4&&i.current&&Je("customerOrders",i.current)}},[n.readWorking,A,x,c,X,te,U]),ot=a.useCallback(({setValue:Je,getValues:qt,reset:Tt})=>async Jt=>{var Dt,Gt,An;console.log("handleCustomerOrdersChanged",Jt);const st=qt();if(console.log("formData",st),Jt.length===0){Je("dontPrtAmt",!1),A.setGridData(A.fillRows({data:[]}),{supressEvents:!0}),console.log("grid cleared in handleCustomerOrdersChanged");return}try{const _n=((Dt=Jt[0])==null?void 0:Dt.)||((Gt=st.customer)==null?void 0:Gt.CustID),pt=((An=Jt[0])==null?void 0:An.)||st.retail;if(!_n){console.error(", load-prods ");return}const{status:Rt,payload:Ze,error:dn}=await x({url:"v1/sales/invoices/load-prods",bearer:c,params:{cst:_n,ids:Jt.map(Yt=>Yt.).join(","),retail:pt?1:0}});if(console.log("load-prods.payload",Ze),Rt.success){const Yt=as.transformForReading(Ze.data[0]);console.log("refreshed data",Yt);const{prods:lt,...Qe}=Yt;A.setGridData(A.fillRows({data:lt}),{supressEvents:!0}),Je("CustName",(Yt==null?void 0:Yt.CustName)||""),Je("CompTel",(Yt==null?void 0:Yt.CompTel)||""),Je("RecAddr",(Yt==null?void 0:Yt.RecAddr)||""),Je("InvAddr",(Yt==null?void 0:Yt.InvAddr)||""),Je("UniForm",(Yt==null?void 0:Yt.UniForm)||""),Je("transType",(Yt==null?void 0:Yt.transType)||""),Je("employee",(Yt==null?void 0:Yt.employee)||""),Je("taxExcluded",(Yt==null?void 0:Yt.taxExcluded)||""),Je("paymentType",(Yt==null?void 0:Yt.paymentType)||""),Je("remark",(Yt==null?void 0:Yt.remark)||""),Je("dontPrtAmt",Yt.dontPrtAmt??!1),X({setValue:Je,formData:Yt})}else throw dn??new Error("")}catch(_n){ae.error("",_n)}},[A,x,c,X]),ze=a.useCallback(({setValue:Je,getValues:qt})=>Tt=>{console.log("handleRecdAmtChange",Tt);const Jt=qt();console.log("formData",Jt),se({gridData:A.gridData,setValue:Je,formData:Jt})},[A.gridData,se]),tt=Or(),ft=a.useCallback(async()=>{try{tt.start();const{status:Je,error:qt}=await x({url:"v1/sales/invoices/check-editable",bearer:c,params:{id:n.itemData.SalID}});if(Je.success)n.promptUpdating();else throw qt??new Error("")}catch(Je){ae.error("",Je)}finally{tt.clear()}},[tt,n,x,c]),ht=Or(),en=a.useCallback(async({setValue:Je,orderId:qt})=>{var Tt,Jt;try{V(),ht.start({message:"..."});const{status:st,payload:Dt,error:Gt}=await x({url:"v1/sales/invoices/customer-orders",bearer:c,params:{fz:qt}});if(st.success){if(console.log("loaded customer-orders",Dt),!Dt.data||((Tt=Dt.data)==null?void 0:Tt.lenth)==0)throw new Error(`[${qt}]`);if(Dt.data.length>1)throw new Error(`[${qt}]`);if(((Jt=Dt.data)==null?void 0:Jt.length)==1){const An=Dt.data[0];Je("customerOrders",[An])}}else throw Gt??new Error("");ht.clear()}catch(st){ht.fail({error:st})}},[x,ht,V,c]);return En(()=>{n.cancelAction()},[]),{...n,cancelAction:Ce,...I,...p,selectedOrd:h,loadItem:he,handleSelect:Te,onSearchSubmit:ce,onSearchSubmitError:ee,confirmQuitCreating:Ne,confirmQuitUpdating:xe,confirmReturnReading:me,confirmDelete:de,handlePromptCreating:W,promptCreating:V,onEditorSubmit:_e,onEditorSubmitError:H,createRow:w,...A,grid:A,onUpdateRow:qe,getRowKey:re,importProdsWorking:q.working,promptImportProds:q.prompt,cancelImportProds:q.clear,importProdsDialogOpen:q.active,onImportProdsSubmit:Z,onImportProdsSubmitError:ye,peekProds:B,ipState:Y,onPrintSubmit:fe,onPrintSubmitError:Ae,handlePrint:Se,loadProdFormMeta:be,...m,squaredDisabled:Me,handleRetailChange:we,handleCustomerChange:Ee,getSPriceClassName:L,spriceDisabled:z,sqtyDisabled:J,sNotQtyDisabled:Q,onGridChanged:Le,handleTaxTypeChange:ke,handleRecdAmtChange:ze,handleCustomerOrdersChangedOld:ot,handleCustomerOrdersChanged2:Xe,committed:_,checkEditableWorking:tt.working,handleCheckEditable:ft,onRefreshGridSubmit:Ge,onRefreshGridSubmitError:We,loadPurchaseOrder:en,loadOrderWorking:ht.working,createWithPurchaseOrder:pe,stypeDisabled:K}},iOe=({children:e})=>{const t=aOe({mode:as.Mode.MANAGER});return r.jsx(fc.Provider,{value:{...t},children:e})};iOe.propTypes={children:l.oneOfType([l.array,l.object])};const lOe=({children:e})=>{const t=aOe({mode:as.Mode.CLEARK});return r.jsx(fc.Provider,{value:{...t},children:e})};lOe.propTypes={children:l.oneOfType([l.array,l.object])};const Ywt=r.jsxs(r.Fragment,{children:[r.jsx(yt,{path:"E01",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(aTe,{children:r.jsx(ETe,{})})})})}),r.jsx(yt,{path:"E02",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(lOe,{children:r.jsx(sB,{})})})})}),r.jsx(yt,{path:"E021",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(iOe,{children:r.jsx(sB,{})})})})}),r.jsx(yt,{path:"E03",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(pTe,{children:r.jsx(sOe,{})})})})})]}),Jwt=e=>(e==null?void 0:e.map(t=>({Pkey:zn(),prod:{ProdID:t.ProdID,ProdData:t.ProdData_N},ProdData_N:t.ProdData_N,PackData_N:t.PackData_N,Seq:t.Seq})))||[],cOe=e=>(e==null?void 0:e.map(({SProdID:t,ProdData_N:n,PackData_N:o,Seq:s})=>({prod:{ProdID:t,ProdData:n},ProdData_N:n,PackData_N:o,Seq:s})))||[],Xwt=e=>e.filter(t=>{var n;return(n=t.prod)==null?void 0:n.ProdID}).map(({prod:t},n)=>({SProdID:t==null?void 0:t.ProdID,Seq:n+1})),Zwt=e=>{const{Order:t,Message_N:n,EmplID:o,EmplData_N:s,FactID:i,FactData_N:c,PhyLst_S:u,...d}=e;return{employee:{CodeID:o,CodeData:s},supplier:i?{FactID:i,FactData:c}:null,prods:cOe(u),Order:t==="Y",...d}},ekt=(e,t)=>{const{PhyID:n,PhyData:o,Order:s,employee:i,supplier:c}=e;return{PhyID:n,PhyData:o,Order:s?"Y":"",EmplID:(i==null?void 0:i.CodeID)||"",FactID:(c==null?void 0:c.FactID)||"",...t&&{PhyLst_S:Xwt(t)}}},tkt=e=>{var t,n;return{prod1:(t=e.sprod)==null?void 0:t.ProdID,prod2:(n=e.eprod)==null?void 0:n.ProdID}},nkt=({newValue:e,rowData:t,rowIndex:n})=>{var s,i,c;if(!((s=t==null?void 0:t.prod)!=null&&s.ProdID))return-1;const o=t.prod.ProdID;for(let u=0;u<e.length;u++)if(u!==n&&((c=(i=e[u])==null?void 0:i.prod)==null?void 0:c.ProdID)===o)return u;return-1},Ty={transformForReading:Zwt,transformForSubmitting:ekt,transformAsQueryParams:tkt,transformForGridImport:Jwt,transformGridForReading:cOe,findProdIndex:nkt},rkt=()=>{var de,ce;const e=a.useContext(cr),{itemData:t}=e,n=a.useRef(),{token:o,operator:s}=a.useContext(Be),i=Bt({moduleId:"F01"}),c=a.useContext(ln),u=a.useMemo(()=>{var ee;return!!((ee=c==null?void 0:c.BATCH)!=null&&ee.F01)},[(de=c==null?void 0:c.BATCH)==null?void 0:de.F01]),d=Co(),[p,m]=a.useState(),{httpGetAsync:f,httpPostAsync:h,httpPutAsync:g,httpDeleteAsync:x}=Zn(),y=a.useContext(Mr),D=so({url:"v1/inv/taking/listing",bearer:o,initialFetchSize:50}),v=a.useCallback(()=>({Pkey:zn(),prod:null,SPrice:""}),[]),T=yr({gridId:"prods",keyColumn:"pkey",createRow:v}),I=a.useCallback(()=>{const ee={prods:[]};e.promptCreating({data:ee}),T.initGridData(ee.prods,{fillRows:!0})},[e,T]),P=a.useCallback(async({data:ee})=>{try{e.startCreating();const{status:De,error:ke}=await h({url:"v1/inv/taking/listing",data:ee,bearer:o});if(De.success)ae.success(""),e.finishedCreating(),e.cancelReading(),D.loadList({refresh:!0});else throw ke??new Error("")}catch(De){e.failedCreating(),console.error("handleCreate.failed",De),ae.error("",De)}},[e,h,D,o]),E=a.useCallback(async({id:ee,refresh:De=!1})=>{try{const ke=De?n.current:ee;De||(n.current=ee,e.startReading("...",{id:ee}));const{status:He,payload:qe,error:Le}=await f({url:"v1/inv/taking/listing",bearer:o,params:{id:ke}});if(He.success){const _e=Ty.transformForReading(qe.data[0]);e.finishedReading({data:_e}),m(_e),T.handleGridDataLoaded(_e.prods)}else throw Le??new Error("")}catch(ke){e.failedReading(ke)}},[e,f,T,o]),k=a.useCallback(async(ee,De)=>{ee==null||ee.stopPropagation(),e.cancelAction(),E({id:De.PhyID})},[e,E]),w=a.useCallback(()=>{y.confirm({message:"?",onConfirm:()=>{e.cancelAction()}})},[e,y]),A=a.useCallback(()=>{y.confirm({message:"?",onConfirm:()=>{e.cancelAction(),E({refresh:!0})}})},[e,y,E]),F=a.useCallback(()=>{y.confirm({message:"?",onConfirm:()=>{e.cancelUpdating(),E({refresh:!0})}})},[e,y,E]),_=a.useCallback(async({data:ee})=>{try{e.startUpdating();const{status:De,error:ke}=await g({url:"v1/inv/taking/listing",data:ee,bearer:o});if(De.success)ae.success(""),e.finishedUpdating(),E({refresh:!0}),D.loadList({refresh:!0});else throw ke??new Error("")}catch(De){e.failedUpdating(),console.error("handleCreate.failed",De),ae.error("",De)}},[e,g,D,E,o]),L=a.useCallback(()=>{y.confirm({message:`${t==null?void 0:t.PhyID}?`,onConfirm:async()=>{try{e.startDeleting(t);const{status:ee,error:De}=await x({url:"v1/inv/taking/listing",bearer:o,params:{id:t==null?void 0:t.PhyID}});if(ee.success)e.cancelAction(),ae.success(` ${t==null?void 0:t.PhyID}`),D.loadList({refresh:!0});else throw De||""}catch(ee){e.failedDeleting(ee),console.error("confirmDelete.failed",ee),ae.error("",ee)}}})},[e,y,x,t,D,o]),K=a.useCallback(ee=>{console.log("onSearchSubmit",ee)},[]),z=a.useCallback(ee=>{console.error("onSearchSubmitError",ee)},[]),J=a.useCallback(({rowData:ee,rowIndex:De,newValue:ke})=>{var H,re,q,Y;const{prod:He}=ee,qe=(H=ee.prod)!=null&&H.ProdID?Ty.findProdIndex({newValue:ke,rowData:ee,rowIndex:De}):-1,Le=((re=ee.prod)==null?void 0:re.ProdID)&&qe!==-1;Le&&ae.error(`${He.ProdID} / ${He.ProdData} ${qe+1} , `);let _e={...ee};return _e={..._e,prod:Le||!ee.prod?null:ee.prod,ProdData_N:Le?"":((q=ee==null?void 0:ee.prod)==null?void 0:q.ProdData)||"",PackData_N:Le?"":((Y=ee==null?void 0:ee.prod)==null?void 0:Y.PackData_N)||""},_e},[]),Q=a.useCallback(({fromRowIndex:ee,formData:De,newValue:ke,setValue:He,gridMeta:qe,updateResult:Le})=>async(_e,H)=>{var ie,B;const re=ee+H,q=T.gridData[re];console.log(` ${re+1} ...`,_e);let Y={..._e};return((ie=Y.prod)==null?void 0:ie.ProdID)!=((B=q.prod)==null?void 0:B.ProdID)&&(console.log(`prod[${re}] changed`,Y==null?void 0:Y.prod),Y=await J({rowIndex:re,rowData:Y,newValue:ke})),Y},[T.gridData,J]),V=a.useCallback(ee=>{console.log("onEditorSubmit",ee);const De=Ty.transformForSubmitting(ee,T.gridData);console.log("collected",De),e.creating?P({data:De}):e.updating?_({data:De}):console.error("UNKNOWN SUBMIT TYPE")},[e.creating,e.updating,P,_,T.gridData]),W=a.useCallback(ee=>{console.error("onEditorSubmitError",ee)},[]),U=a.useCallback(({rowData:ee,rowIndex:De})=>`${(ee==null?void 0:ee.Pkey)||De}`,[]),X=Or(),[te,se]=a.useState({criteria:null,totalElements:null,loading:!1}),he=a.useCallback(async ee=>{if(!o)throw new Error("token not specified");if(Gn.isAllPropsEmpty(ee)){console.log("criteria is empty"),te.saveKey&&se(De=>({...De,saveKey:null,totalElements:null}));return}se(De=>({...De,loading:!0,criteria:ee}));try{const{status:De,payload:ke,error:He}=await f({url:"v1/inv/taking/load-prods",bearer:o,params:{...Ty.transformAsQueryParams(ee),pk:1}});if(De.success)se(qe=>{var Le;return{...qe,totalElements:(Le=ke.Select)==null?void 0:Le.Count}});else throw He??new Error("")}catch(De){console.error("peek failed",De),ae.error("",De)}finally{se(De=>({...De,loading:!1}))}},[f,te.saveKey,o]),pe=a.useCallback(async ee=>{var De;console.log("onImportProdsSubmit",ee);try{X.start();const{status:ke,payload:He,error:qe}=await f({url:"v1/inv/taking/load-prods",bearer:o,params:{...Ty.transformAsQueryParams(te.criteria)}});if(ke.success){const Le=((De=He.data)==null?void 0:De[0].PhyLst_S)||[];console.log("data",Le),T.initGridData(Ty.transformForGridImport(Le),{fillRows:!0}),ae.success(` ${Le.length} `),X.clear()}else throw qe??new Error("")}catch(ke){X.fail({error:ke}),ae.error("",ke)}},[f,X,te.criteria,T,o]),ue=a.useCallback(ee=>{console.error("onImportProdsSubmitError",ee)},[]),ge=a.useMemo(()=>`${c.REPORT_URL}/WebF01Rep.aspx`,[c.REPORT_URL]),Ce=yn(),Te=a.useCallback(ee=>{var ke;console.log("onPrintSubmit",ee);const De={...ee.outputType&&{Action:ee.outputType.id},DeptID:s==null?void 0:s.CurDeptID,JobName:"F01",IDs:(ke=e.itemData)==null?void 0:ke.PhyID};console.log("data",De),Ce.open(ge,De)},[(ce=e.itemData)==null?void 0:ce.PhyID,s==null?void 0:s.CurDeptID,ge,Ce]),Ne=a.useCallback(ee=>{console.error("onPrintSubmitError",ee)},[]),xe=a.useCallback(({setValue:ee})=>De=>{console.log("handlePrint",De),ee("outputType",De)},[]),me=vt(`
		sprod,
		eprod,
		typeA,
		catL,
		catM,
		catS
		`);return{...e,...D,...i,selectedInq:p,loadItem:E,handleSelect:k,onSearchSubmit:K,onSearchSubmitError:z,confirmQuitCreating:w,confirmQuitUpdating:A,confirmReturnReading:F,confirmDelete:L,promptCreating:I,onEditorSubmit:V,onEditorSubmitError:W,...T,grid:T,getRowKey:U,importProdsWorking:X.working,promptImportProds:X.prompt,cancelImportProds:X.clear,importProdsDialogOpen:X.active,onImportProdsSubmit:pe,onImportProdsSubmitError:ue,peekProds:he,ipState:te,onPrintSubmit:Te,onPrintSubmitError:Ne,handlePrint:xe,loadProdFormMeta:me,...d,onUpdateRow:Q,createRow:v,doBatch:u}},gu=a.createContext(),uOe=e=>{const{children:t}=e,n=a.useContext(Be),o=rkt({token:n.token});return r.jsx(gu.Provider,{value:{...o},children:t})};uOe.propTypes={children:l.oneOfType([l.array,l.object])};const HD=a.createContext(),dOe=e=>(e==null?void 0:e.map(t=>{const{SPhyID:n,SPhyData_N:o,...s}=t;return{listing:n?{PhyID:n,PhyData:o}:null,PhyData:o,...s}}))||[],pOe=e=>e.filter(t=>{var n;return(n=t.listing)==null?void 0:n.PhyID}).map(t=>{const{listing:n}=t;return{SPhyID:n==null?void 0:n.PhyID}}),okt=e=>{const{ActDate:t,PhyAct_S:n,...o}=e;return{ActDate:Re.parseDate(t),prods:dOe(n),...o}},skt=(e,t)=>{const{ActDate:n}=e;return{ActDate:Re.formatDate(n),PhyAct_S:pOe(t)}},akt=()=>({listing:null,PhyData:""}),zP={transformGridForReading:dOe,transformGridForSubmitting:pOe,transformForReading:okt,transformForSubmitting:skt,createRow:akt},ikt=({token:e})=>{const t=a.useContext(cr),{itemData:n}=t,[o,s]=a.useState({staging:!1}),{httpGetAsync:i,httpPutAsync:c,httpDeleteAsync:u}=Zn(),d=Bt({moduleId:"F02"}),p=a.useContext(Mr),m=yr({gridId:"prods",keyColumn:"pkey",createRow:zP.createRow}),f=a.useCallback(v=>{const T=v.data[0];s(I=>({...I,data:T}))},[]),h=a.useCallback(async({refresh:v=!1}={})=>{try{v||(t.startLoading("..."),m.setGridLoading(!0));const{status:T,payload:I,error:P}=await i({url:"v1/inv/taking/staging",bearer:e});if(T.success){const E=zP.transformForReading(I.data[0]);console.log("data",E),t.finishedLoading({data:E}),s(k=>{var w;return{...k,staging:((w=E.prods)==null?void 0:w.length)>0}}),m.initGridData(E.prods,{fillRows:15}),m.handleLock()}else throw P??new Error("")}catch(T){t.failedLoading(T)}finally{m.setGridLoading(!1)}},[t,i,m,e]),g=a.useCallback(()=>{p.confirm({message:"?",onConfirm:async()=>{try{t.startDeleting(n);const{status:v,error:T}=await u({url:"v1/inv/taking/staging",bearer:e});if(v.success)t.cancelAction(),ae.success(""),h();else throw T||""}catch(v){t.failedDeleting(v),console.error("confirmDelete.failed",v),ae.error("",v)}}})},[t,p,u,n,h,e]),x=a.useCallback(({fromRowIndex:v,formData:T,newValue:I,setValue:P,gridMeta:E,updateResult:k})=>async(w,A)=>{var K,z,J;const F=v+A,_=m.gridData[F];k.rowIndex=F,console.log(` ${F+1} ...`,w);let L={...w};return((K=L.listing)==null?void 0:K.PhyID)!=((z=_.listing)==null?void 0:z.PhyID)&&(console.log(`listing[${F}] changed`,L==null?void 0:L.listing),L={...L,PhyData:((J=L.listing)==null?void 0:J.PhyData)||""}),L},[m.gridData]),y=a.useCallback(async v=>{console.log("onSubmit",v),console.log("grid.gridData",m.gridData);try{t.startUpdating();const{status:T,error:I}=await c({url:"v1/inv/taking/staging",bearer:e,data:zP.transformForSubmitting(v,m.gridData)});if(T.success)ae.success(""),t.finishedUpdating(),m.commitChanges(),h();else throw I??new Error("")}catch(T){console.error("onSubmit.failed",T),ae.error("",T)}finally{t.finishedUpdating()}},[t,m,c,h,e]),D=a.useCallback(v=>{console.error("onSubmitError",v)},[]);return{...t,...o,grid:m,...d,handleLoaded:f,onUpdateRow:x,load:h,onSubmit:y,onSubmitError:D,confirmDelete:g}},mOe=e=>{const{children:t}=e,n=a.useContext(Be),o=ikt({token:n.token});return r.jsx(HD.Provider,{value:{...o},children:t})};mOe.propTypes={children:l.oneOfType([l.array,l.object])};const fOe=e=>(e==null?void 0:e.map(({...t})=>({...t})))||[],lkt=e=>e.filter(t=>t.SProdID).map(({SProdID:t,SQty:n},o)=>({SProdID:t,SQty:(n==null?void 0:n.toString())||"",Seq:o+1})),ckt=e=>{const{ActDate_N:t,F03_S:n,...o}=e;return{ActDate_N:Re.parseDate(t),prods:fOe(n),...o}},ukt=(e,t)=>{const{PhyID:n}=e;return{PhyID:n,...t&&{F03_S:lkt(t)}}},dkt=e=>{const{employee:t}=e;return{}},pkt=e=>Gn.isAnyPropNotEmpty(e,"employee"),Aj={transformForReading:ckt,transformForSubmitting:ukt,transformAsQueryParams:dkt,transformGridForReading:fOe,isFiltered:pkt},mkt=()=>{var Le,_e;const e=a.useContext(ln),t=a.useContext(cr),{itemData:n}=t,o=a.useRef(),{token:s,operator:i}=a.useContext(Be),c=Bt({moduleId:"F03"}),u=Co(),[d,p,m,f]=us(!1),{httpGetAsync:h,httpPostAsync:g,httpPutAsync:x,httpDeleteAsync:y}=Zn(),D=a.useContext(Mr),v=so({url:"v1/inv/taking/filling",bearer:s,initialFetchSize:50}),[T,I]=a.useState({expProd:null,expDate:null,expPrompting:!1}),P=a.useCallback(()=>({Pkey:zn(),prod:null,stype:null,SQty:"",SPrice:"",ChkQty:"",SOrdID:""}),[]),E=yr({gridId:"prods",keyColumn:"pkey",createRow:P}),k=a.useCallback(()=>{const H={prods:[],RetDate:new Date};t.promptCreating({data:H}),E.initGridData(H.prods,{fillRows:!0})},[t,E]),w=a.useCallback(async({data:H})=>{try{t.startCreating();const{status:re,error:q}=await g({url:"v1/inv/taking/filling",data:H,bearer:s});if(re.success)ae.success(""),t.finishedCreating(),t.cancelReading(),v.loadList({refresh:!0});else throw q??new Error("")}catch(re){t.failedCreating(),console.error("handleCreate.failed",re),re.code===102?ae.error("",{position:"top-right"}):ae.error("",re)}},[t,g,v,s]),A=a.useCallback(async({id:H,refresh:re=!1})=>{try{const q=re?o.current:H;re||(o.current=H,t.startReading("...",{id:H}));const{status:Y,payload:ie,error:B}=await h({url:"v1/inv/taking/filling",bearer:s,params:{id:q}});if(Y.success){const Z=Aj.transformForReading(ie.data[0]);t.finishedReading({data:Z}),E.handleGridDataLoaded(Z.prods)}else throw B??new Error("")}catch(q){t.failedReading(q)}},[t,h,E,s]),F=a.useCallback(async(H,re)=>{H==null||H.stopPropagation(),t.cancelAction(),A({id:re.PhyID})},[t,A]),_=a.useCallback(()=>{D.confirm({message:"?",onConfirm:()=>{t.cancelAction()}})},[t,D]),L=a.useCallback(()=>{D.confirm({message:"?",onConfirm:()=>{t.cancelAction()}})},[t,D]),K=a.useCallback(()=>{D.confirm({message:"?",onConfirm:()=>{t.cancelUpdating(),A({refresh:!0})}})},[t,D,A]),z=a.useCallback(async({data:H})=>{try{t.startUpdating();const{status:re,error:q}=await x({url:"v1/inv/taking/filling",data:H,bearer:s});if(re.success)ae.success(""),t.finishedUpdating(),A({refresh:!0}),v.loadList({refresh:!0});else throw q??new Error("")}catch(re){t.failedUpdating(re),console.error("handleCreate.failed",re),ae.error("",re)}},[t,x,v,A,s]),J=a.useCallback(()=>{D.confirm({message:`${n==null?void 0:n.CalID}?`,onConfirm:async()=>{try{t.startDeleting(n);const{status:H,error:re}=await y({url:"v1/inv/taking/filling",bearer:s,params:{id:n==null?void 0:n.CalID}});if(H.success)t.cancelAction(),ae.success(` ${n==null?void 0:n.CalID}`),v.loadList({refresh:!0});else throw re||""}catch(H){t.failedDeleting(H),console.error("confirmDelete.failed",H),ae.error("",H)}}})},[t,D,y,n,v,s]),Q=a.useCallback(({reset:H})=>()=>{H({employee:null})},[]),V=a.useCallback(H=>{console.log("onSearchSubmit",H),f(),v.loadList({params:Aj.transformAsQueryParams(H)})},[f,v]),W=a.useCallback(H=>{console.error("onSearchSubmitError",H)},[]),U=a.useCallback(({rowData:H,rowIndex:re})=>`${(H==null?void 0:H.Pkey)||re}`,[]),X=a.useMemo(()=>{var H;return!!((H=t.itemData)!=null&&H.CalID)},[(Le=t.itemData)==null?void 0:Le.CalID]),te=a.useCallback(({rowData:H})=>!!H.ordId,[]),se=a.useCallback(({rowData:H})=>!!H.SInqFlag||!!H.stype,[]),he=a.useCallback(async({rowData:H,rowIndex:re,newValue:q})=>{var Z,ye;const{prod:Y}=H,ie=Y!=null&&Y.ProdID?Aj.findProdIndex({newValue:q,rowData:H,rowIndex:re}):null,B=((Z=H.prod)==null?void 0:Z.ProdID)&&ie!==-1;return B&&ae.error(`${Y.ProdID} / ${Y.ProdData} ${ie+1} , `),H={...H,prod:B?null:H.prod,ProdData:B?"":(ye=H.prod)==null?void 0:ye.ProdData,PackData_N:B?"":(Y==null?void 0:Y.PackData_N)||"",SQty:""},H},[]),pe=a.useCallback(({fromRowIndex:H,newValue:re})=>async(q,Y)=>{var ye,Ie;const ie=H+Y,B=E.gridData[ie];console.log(` ${ie} ...`,q);let Z={...q};return((ye=q.prod)==null?void 0:ye.ProdID)!==((Ie=B.prod)==null?void 0:Ie.ProdID)&&(Z=await he({rowIndex:ie,rowData:Z,newValue:re})),Z},[E.gridData,he]),ue=a.useCallback(({getValues:H,setValue:re,gridMeta:q})=>async(Y,ie)=>{console.log("buildGridChangeHandler",ie),console.log("newValue",Y);const B=[...Y];for(const Z of ie)if(Z.type==="UPDATE"){const ye=await Promise.all(Y.slice(Z.fromRowIndex,Z.toRowIndex).map(async(Ie,le)=>await pe({fromRowIndex:Z.fromRowIndex,newValue:Y})(Ie,le)));console.log("updatedRows",ye),B.splice(Z.fromRowIndex,ye.length,...ye)}else Z.type==="DELETE"||Z.type==="CREATE"&&(console.log("dsg.CREATE"),q.toFirstColumn({nextRow:!0}));console.log("prodGrid.changed",B),E.setGridData(B)},[pe,E]),ge=a.useCallback(H=>{console.log("onEditorSubmit",H);const re=Aj.transformForSubmitting(H,E.gridData);console.log("collected",re),t.creating?w({data:re}):t.updating?z({data:re}):console.error("UNKNOWN SUBMIT TYPE")},[t.creating,t.updating,w,z,E.gridData]),Ce=a.useCallback(H=>{console.error("onEditorSubmitError",H)},[]),Te=a.useMemo(()=>`${e.REPORT_URL}/WebF03Rep.aspx`,[e.REPORT_URL]),Ne=yn(),xe=a.useCallback(H=>{var q;console.log("onPrintSubmit",H);const re={...H.outputType&&{Action:H.outputType.id},DeptID:i==null?void 0:i.CurDeptID,JobName:"F03",IDs:(q=t.itemData)==null?void 0:q.PhyID};console.log("data",re),Ne.open(Te,re)},[(_e=t.itemData)==null?void 0:_e.PhyID,i==null?void 0:i.CurDeptID,Te,Ne]),me=a.useCallback(H=>{console.error("onPrintSubmitError",H)},[]),de=a.useCallback(({setValue:H})=>re=>{console.log("handlePrint",re),H("outputType",re)},[]),ce=a.useCallback(()=>{I(H=>({...H,expPrompting:!0}))},[]),ee=a.useCallback(()=>{I(H=>({...H,expPrompting:!1}))},[]),De=a.useCallback(H=>{console.log("onExpSubmit",H),I(re=>({...re,expProd:H.expProd,expDate:H.expDate,expPrompting:!1}))},[]),ke=a.useCallback(H=>{console.error("onExpSubmitError",H)},[]),He=a.useCallback(()=>{I({expProd:null,expDate:null,expPrompting:!1})},[]),qe=a.useMemo(()=>T.expProd!==null,[T.expProd]);return Or(),{...t,...v,...c,loadItem:A,handleSelect:F,handleReset:Q,onSearchSubmit:V,onSearchSubmitError:W,confirmQuitCreating:_,confirmQuitUpdating:L,confirmReturnReading:K,confirmDelete:J,promptCreating:k,onEditorSubmit:ge,onEditorSubmitError:Ce,...E,grid:E,createRow:P,buildGridChangeHandler:ue,getRowKey:U,prodDisabled:te,purchaseOrdersDisabled:X,spriceDisabled:se,onPrintSubmit:xe,onPrintSubmitError:me,handlePrint:de,...T,expChecking:qe,onExpDialogOpen:ce,onExpDialogClose:ee,cancelExpChecking:He,onExpSubmit:De,onExpSubmitError:ke,popperOpen:d,handlePopperToggle:p,handlePopperOpen:m,handlePopperClose:f,...u}},bu=a.createContext(),hOe=({children:e})=>{const t=mkt();return r.jsx(bu.Provider,{value:{...t},children:e})};hOe.propTypes={children:l.oneOfType([l.array,l.object])};const aB=Object.freeze({SUMMARY:"1",DIFF:"2"}),gOe=[{id:aB.SUMMARY,name:""},{id:aB.DIFF,name:""}],fkt=e=>{if(!e)return"";const{id:t,name:n}=e;return[t,n].filter(Boolean).join(" ")},hkt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),gkt=e=>gOe.find(t=>t.id===e),bkt=e=>{const{ActDate:t,outputType:n,PrtType:o,PrtID:s,...i}=e;return{ActDate:Re.formatDate(t),Action:(n==null?void 0:n.id)||"",PrtType:(o==null?void 0:o.id)||"",PrtID:s?"Y":"N",...i}},xkt=e=>{const{ActDate:t,PhyIDs:n,PrtID:o,...s}=e;return{ActDate:Re.parseDate(t),PhyIDs:n}},Fh={transformForSubmitting:bkt,transformForReading:xkt,DataType:aB,dataTypeOptions:gOe,getOptionLabel:fkt,isOptionEqualToValue:hkt,getDataTypeById:gkt},ykt=()=>{var D,v,T;const e=a.useContext(ln),t=a.useMemo(()=>{var I;return!!((I=e==null?void 0:e.BATCH)!=null&&I.F01)},[(D=e==null?void 0:e.BATCH)==null?void 0:D.F01]),n=a.useContext(cr),{token:o,operator:s}=a.useContext(Be),{httpGetAsync:i}=Zn(),c=Bt({moduleId:"F04"}),u=a.useContext(Sn),d=Un(),p=vt(`
		PrtType,
		PrtID,
		outputType,
		`),m=a.useMemo(()=>`${e.REPORT_URL}/WebF04Rep.aspx`,[e.REPORT_URL]),f=yn(),h=a.useCallback(I=>{var E,k;console.log("onSubmit",I);const P={...Fh.transformForSubmitting(I),JobName:"F04",DeptID:s==null?void 0:s.CurDeptID,...t&&{PrtForm:"Y"}};d.show({data:P,url:m,title:`${(E=u.menuItemSelected)==null?void 0:E.JobID} ${(k=u.menuItemSelected)==null?void 0:k.JobName}`})},[(v=u.menuItemSelected)==null?void 0:v.JobID,(T=u.menuItemSelected)==null?void 0:T.JobName,d,t,s==null?void 0:s.CurDeptID,m]),g=a.useCallback(I=>{console.log("onSubmit",I);const P={...Fh.transformForSubmitting(I),JobName:"F04",DeptID:s==null?void 0:s.CurDeptID,...t&&{PrtForm:"Y"}};console.log("data",P),f.open(m,P)},[t,s==null?void 0:s.CurDeptID,m,f]),x=a.useCallback(I=>{console.error("onSubmitError",I)},[]),y=a.useCallback(async({refresh:I=!1}={})=>{try{I||n.startLoading("...");const{status:P,payload:E,error:k}=await i({url:"v1/inv/taking/staging-info",bearer:o});if(P.success){const w=Fh.transformForReading(E.data[0]);console.log("data",w),n.finishedLoading({data:w})}else throw k??new Error("")}catch(P){n.failedLoading(P)}},[n,i,o]);return{...c,onSubmit:g,onSubmitError:x,formMeta:p,onDebugSubmit:h,load:y,...n,doBatch:t}},bOe=a.createContext(),xOe=({children:e})=>{const t=ykt(),n=at({defaultValues:{PrtType:Fh.getDataTypeById(Fh.DataType.DIFF),outputType:jn.getDefaultOption(),PrtID:!0}});return r.jsx(Ye,{...n,children:r.jsx(bOe.Provider,{value:{...t},children:e})})};xOe.propTypes={children:l.oneOfType([l.array,l.element])};const Ckt=e=>{const{ActDate:t,PhyIDs:n}=e;return{ActDate:Re.parseDate(t),PhyIDs:n}},Dkt={transformForReading:Ckt},Skt=()=>{const e=a.useContext(cr),{token:t}=a.useContext(Be),n=a.useContext(Mr),{httpGetAsync:o,httpPostAsync:s}=Zn(),i=Bt({moduleId:"F05"}),c=vt(`

		`),u=a.useCallback(async()=>{console.log("handleClose");try{e.startUpdating();const{status:m,error:f}=await s({url:"v1/inv/taking/staging/close-out",bearer:t});if(m.success)ae.success("");else throw f??new Error("")}catch(m){e.failedUpdating(m),console.error(m),ae.error("",m)}finally{e.finishedUpdating()}},[e,s,t]),d=a.useCallback(()=>{n.confirm({message:"?",onConfirm:()=>{u()}})},[n,u]),p=a.useCallback(async({refresh:m=!1}={})=>{try{m||e.startLoading("...");const{status:f,payload:h,error:g}=await o({url:"v1/inv/taking/staging-info",bearer:t});if(f.success){const x=Dkt.transformForReading(h.data[0]);console.log("data",x),e.finishedLoading({data:x})}else throw g??new Error("")}catch(f){e.failedLoading(f)}},[e,o,t]);return{...i,...e,confirmClose:d,formMeta:c,load:p}},y7=a.createContext(),yOe=({children:e})=>{const t=Skt(),{operator:n}=a.useContext(Be),o=at({defaultValues:{dept:{DeptID:n.CurDeptID,AbbrName:n.CurDeptName},outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...o,children:r.jsx(y7.Provider,{value:{...t},children:e})})};yOe.propTypes={children:l.oneOfType([l.array,l.element])};const iB=Object.freeze({SUMMARY:1,DIFF:2}),COe=[{id:iB.SUMMARY,name:""},{id:iB.DIFF,name:""}],vkt=e=>{if(!e)return"";const{id:t,name:n}=e;return[t,n].filter(Boolean).join(" ")},jkt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),Ikt=e=>COe.find(t=>t.id===e),Tkt=e=>{const{outputType:t,accEntry:n,PrtType:o,...s}=e;return{JobName:"F06",PrtType:(o==null?void 0:o.id)||"",Action:(t==null?void 0:t.id)||"",ActDate:(n==null?void 0:n.ActDate)||"",Seq:(n==null?void 0:n.Seq)||"",...s}},Pb={transformForSubmitting:Tkt,DataType:iB,dataTypeOptions:COe,getOptionLabel:vkt,isOptionEqualToValue:jkt,getDataTypeById:Ikt},Okt=()=>{var h,g;const e=a.useContext(ln),{operator:t,token:n}=a.useContext(Be),o=Bt({moduleId:"F06"}),s=a.useContext(Sn),i=Un(),c=vt(`
		accEntry,
		PrtType,
		outputType,
		`),u=a.useMemo(()=>`${e.REPORT_URL}/WebF06Rep.aspx`,[e.REPORT_URL]),d=yn(),p=a.useCallback(x=>{var D,v;console.log("onSubmit",x);const y={...Pb.transformForSubmitting(x),DeptId:t.CurDeptID};i.show({data:y,url:u,title:`${(D=s.menuItemSelected)==null?void 0:D.JobID} ${(v=s.menuItemSelected)==null?void 0:v.JobName}`})},[(h=s.menuItemSelected)==null?void 0:h.JobID,(g=s.menuItemSelected)==null?void 0:g.JobName,i,t.CurDeptID,u]),m=a.useCallback(x=>{console.log("onSubmit",x);const y={...Pb.transformForSubmitting(x),DeptId:t.CurDeptID};console.log("data",y),d.open(u,y)},[t.CurDeptID,u,d]),f=a.useCallback(x=>{console.error("onSubmitError",x)},[]);return{...o,onSubmit:m,onSubmitError:f,formMeta:c,onDebugSubmit:p}},DOe=a.createContext(),SOe=({children:e})=>{const t=Okt(),n=at({defaultValues:{PrtType:Pb.getDataTypeById(Pb.DataType.DIFF),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(DOe.Provider,{value:{...t},children:e})})};SOe.propTypes={children:l.oneOfType([l.array,l.element])};const Ekt=e=>{const{CutYM:t}=e;return{CutYM:t}},vOe={transformForReading:Ekt},Pkt=()=>{const e=a.useContext(cr),{token:t}=a.useContext(Be),{httpGetAsync:n,httpPostAsync:o}=Zn(),s=a.useContext(Mr),i=Bt({moduleId:"F07"}),c=vt(`
		
		`),u=a.useCallback(async({refresh:g=!1}={})=>{try{g||e.startLoading("...");const{status:x,payload:y,error:D}=await n({url:"v1/inv/taking/carry-forward",bearer:t});if(x.success){const v=vOe.transformForReading(y.data[0]);console.log("data",v),e.finishedLoading({data:v})}else throw D??new Error("")}catch(x){e.failedLoading(x)}},[e,n,t]),d=a.useCallback(async()=>{console.log("handleCarryForward");try{e.startUpdating();const{status:g,error:x}=await o({url:"v1/inv/taking/carry-forward",bearer:t});if(g.success)ae.success(""),e.finishedUpdating();else throw x??new Error("")}catch(g){e.failedUpdating(g),console.error(g),ae.error("",g)}finally{e.finishedUpdating(),u()}},[e,o,u,t]),p=a.useCallback(()=>{s.confirm({message:"?",onConfirm:()=>{d()}})},[s,d]),m=Or(),f=a.useCallback(async()=>{console.log("handleRestore");try{m.start();const{status:g,error:x}=await o({url:"v1/inv/taking/restore",bearer:t});if(g.success)ae.success(""),m.finish(),u();else throw x??new Error("")}catch(g){m.fail(g),console.error(g),ae.error("",g)}finally{m.finish(),u()}},[o,u,m,t]),h=a.useCallback(()=>{s.confirm({message:"?",onConfirm:()=>{f()}})},[s,f]);return{...i,...e,confirmCarryForward:p,formMeta:c,load:u,confirmRestore:h,restoreWorking:m.working}},DN=a.createContext(),jOe=({children:e})=>{const t=Pkt(),{operator:n}=a.useContext(Be),o=at({defaultValues:{dept:{DeptID:n.CurDeptID,AbbrName:n.CurDeptName},outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...o,children:r.jsx(DN.Provider,{value:{...t},children:e})})};jOe.propTypes={children:l.oneOfType([l.array,l.element])};const C7=e=>{const{name:t="q",...n}=e,o=Ke(),s=a.useContext(gu),i=a.useRef(null),c=a.useMemo(()=>o.handleSubmit(s.onSearchSubmit,s.onSearchSubmitError),[s.onSearchSubmit,s.onSearchSubmitError,o]),u=ru({inputRef:i,onChange:p=>{o.setValue(t,p)}});$t("ctrl+F12",u.handleFocus,{enableOnFormTags:!0});const d=$t("esc",u.handleClear,{enableOnFormTags:!0});return r.jsx("form",{onSubmit:c,children:r.jsx("div",{ref:d,children:r.jsx(su,{autoFocus:!0,name:t,placeholder:"(ctrl+F12)",mobilePlaceholder:"",borderRadius:"8px",responsive:!0,inputRef:i,onClear:u.handleClear})})})};C7.propTypes={name:l.string};C7.displayName="F01SearchFieldContainer";const D7=a.memo(e=>{var s,i;const{anchor:t="right",...n}=e,o=a.useContext(gu);return r.jsxs(Eo,{anchor:t,open:o.sideDrawerOpen,onClose:o.handleSideDrawerClose,slotProps:{backdrop:{sx:[ur.BACKDROP_TRANSPARENT]}},...n,children:[r.jsx(pn,{label:"",children:(s=o.itemData)==null?void 0:s.WriteDate_N}),r.jsx(pn,{label:"",children:(i=o.itemData)==null?void 0:i.Writer_N})]})});D7.propTypes={anchor:l.string};D7.displayName="F01Drawer";const Rkt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),S7=a.memo(e=>{const{getRowKey:t,createRow:n,readOnly:o,gridRef:s,data:i,onChange:c,getRowClassName:u,height:d=300,bearer:p,...m}=e,f=a.useCallback(({rowData:h})=>({...h,Pkey:zn()}),[]);return r.jsx(dr,{ref:s,rowKey:t,lockRows:o,height:d+(o?48:0),value:i,onChange:c,addRowsComponent:go,disableExpandSelection:!0,contextMenuComponent:Rkt,createRow:n,duplicateRow:f,rowClassName:u,...m})});S7.propTypes={getRowKey:l.func,onChange:l.func};S7.displayName="F01QuoteGrid";const IOe=e=>{const{...t}=e,n=a.useContext(gu),o=a.useContext(Be),{height:s}=Wt(),i=a.useContext(Lr),c=a.useMemo(()=>n.buildGridChangeHandler({gridMeta:i.gridMeta,onUpdateRow:n.onUpdateRow}),[n,i.gridMeta]),u=a.useMemo(()=>s-310,[s]);return r.jsx(Kn.Provider,{value:{...n.grid,...i.gridMeta,readOnly:i.readOnly},children:r.jsx(S7,{gridRef:i.gridMeta.setGridRef,readOnly:i.readOnly,data:n.gridData,onChange:c,onActiveCellChange:i.gridMeta.handleActiveCellChange,bearer:o.token,height:u,getRowKey:n.getRowKey,createRow:n.createRow,...t})})};IOe.displayName="F01QuoteGridContainer";const v7=a.memo(e=>{const{readError:t,data:n,readWorking:o,itemDataReady:s,creating:i,editing:c,updating:u,slotProps:d,...p}=e;return r.jsxs(r.Fragment,{children:[o&&r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",minHeight:"30em",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}),t&&r.jsx(lo,{error:t,...d==null?void 0:d.error}),s&&r.jsx(r.Fragment,{children:r.jsx(Pt,{pt:1,children:r.jsxs(j,{container:!0,columns:24,spacing:1,children:[r.jsx(j,{item:!0,md:5,children:r.jsx($e,{typo:!0,name:"PhyID",label:"",autoFocus:i,fullWidth:!0,disabled:u,required:!0,rules:{required:""},slotProps:{htmlInput:{maxLength:10}}})}),r.jsx(j,{item:!0,md:6,children:r.jsx(Ar,{typo:!0,label:"",name:"employee",required:!0,rules:{required:""},virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,md:9,children:r.jsx($e,{typo:!0,name:"PhyData",label:"",fullWidth:!0,required:!0,rules:{required:""}})}),c&&r.jsx(j,{item:!0,md:4,children:r.jsx(xr,{variant:"outlined",fullWidth:!0,typo:!0,label:"",name:"Order",size:"small"})}),r.jsx(j,{item:!0,xs:24,children:r.jsx(IOe,{})}),r.jsx(j,{item:!0,xs:24,children:r.jsx($e,{typo:!0,name:"Message_N",multiline:!0,minRows:1,maxRows:1,label:"",fullWidth:!0,editing:!1})})]})})})]})});v7.propTypes={readWorking:l.bool,readError:l.object,data:l.object,itemDataReady:l.bool,slotProps:l.object};v7.displayName="F01DialogForm";const TOe=e=>{const{...t}=e,n=Ue(),o=a.useContext(gu),{peekProds:s,importProdsWorking:i,ipState:{loading:c,totalElements:u}}=o,d=Gr(n,300),[p,m]=a.useState(),f=a.useMemo(()=>JSON.stringify(d),[d]);a.useEffect(()=>{f!==p&&(m(f),console.log("criteria changed",d),s(d))},[d,p,f,s]);const h=a.useMemo(()=>Gn.isAllPropsEmpty(n)?"":u?`(${u})`:"()",[n,u]),g=a.useMemo(()=>!u,[u]);return r.jsx(dt,{type:"submit",disabled:g,size:"small",responsive:!0,loading:c||i,sx:{fontWeight:600},...t,children:h})};TOe.displayName="F01ImportProdsButtonContainer";const j7=a.memo(e=>{const{handleSubmit:t,...n}=e;return r.jsx("form",{onSubmit:t,...n,children:r.jsxs(jt,{pt:1,children:[r.jsx(j,{container:!0,spacing:1,columns:24,children:r.jsx(j,{item:!0,xs:24,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"sprod",label:"",size:"small",virtualize:!0,autoFocus:!0,typeToSearchText:",",optionLabelSize:"md",disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"eprod",label:"",size:"small",virtualize:!0,typeToSearchText:",",optionLabelSize:"md",disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""})})})}),r.jsx(kn,{align:"right",children:r.jsx(jr,{title:"shift+Enter",children:r.jsx(TOe,{variant:"contained",color:"primary"})})})]})})});j7.propTypes={handleSubmit:l.func};j7.displayName="F01LoadProdsForm";const I7=a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(gu),{importProdsDialogOpen:s}=o,i=at({defaultValues:{}}),c=i.handleSubmit(o.onImportProdsSubmit,o.onImportProdsSubmitError);return r.jsx(Er,{ref:t,responsive:!0,fullWidth:!0,maxWidth:"sm",title:"",open:o.importProdsDialogOpen,onClose:o.cancelImportProds,hideCloseButton:!1,confirmTooltip:"shift+Enter",...n,children:r.jsx(Ye,{...i,children:r.jsx(Ct,{...o.loadProdFormMeta,children:r.jsx(j7,{handleSubmit:c})})})})});I7.propTypes={};I7.displayName="F01ImportProdsDialogContainer";const T7=a.memo(a.forwardRef((e,t)=>{const{onLoadProds:n,onSave:o,onCancel:s,loading:i,...c}=e;return r.jsxs(a.Fragment,{ref:t,...c,children:[r.jsx(dt,{responsive:!0,onClick:n,endIcon:r.jsx(Kb,{}),color:"primary",variant:"outlined",children:""}),r.jsx(dt,{responsive:!0,onClick:s,color:"warning",variant:"outlined",...c,children:""}),r.jsx(dt,{responsive:!0,onClick:o,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:i,children:""}),r.jsx(I7,{})]})}));T7.displayName="F01DialogEditToolbar";T7.propTypes={onCancel:l.func,onSave:l.func,onLoadProds:l.func,loading:l.bool};const OOe=e=>{const{...t}=e,n=Ke(),o=a.useContext(gu),{canPrint:s}=o,i=n.handleSubmit(o.onPrintSubmit,o.onPrintSubmitError);return s?r.jsx(xn,{onSubmit:i,...t}):!1};OOe.displayName="F01ExportButtonContainer";const EOe=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,onDelete:o,onPrint:s,onSideDrawerOpen:i,...c}=e;return r.jsxs(a.Fragment,{ref:t,...c,children:[s&&r.jsx(r.Fragment,{children:r.jsx(OOe,{})}),o&&r.jsx(hn,{startIcon:r.jsx(Fs,{}),color:"secondary",onClick:o,children:""}),n&&r.jsx(hn,{startIcon:r.jsx(bo,{}),color:"primary",onClick:n,children:""}),r.jsx(jr,{title:"",children:r.jsx(br,{onClick:i,size:"small",children:r.jsx(Po,{})})})]})}));EOe.propTypes={onEdit:l.func,onDelete:l.func,onPrint:l.func,onSideDrawerOpen:l.func};const POe=e=>{const{...t}=e,n=a.useContext(gu),o=Ke(),s=o.handleSubmit(n.onPrintSubmit,n.onPrintSubmitError);return n.itemDataReady?n.editing?r.jsx(T7,{onLoadProds:n.promptImportProds,onSave:o.handleSubmit(n.onEditorSubmit,n.onEditorSubmitError),onCancel:n.updating?n.confirmReturnReading:n.confirmQuitCreating,loading:n.editWorking,...t}):r.jsx(EOe,{onEdit:n.canUpdate?n.promptUpdating:null,onDelete:n.canDelete?n.confirmDelete:null,onPrint:n.canPrint?s:null,onSideDrawerOpen:n.handleSideDrawerOpen,...t}):!1};POe.displayName="F01DialogToolbarContainer";const ROe=a.forwardRef((e,t)=>{const{...n}=e,{height:o}=Wt(),s=a.useMemo(()=>o-120,[o]),i=Ke(),{reset:c}=i,u=a.useContext(gu),d=Ue({name:"PhyID",control:i.control}),p=Ue({name:"employee",control:i.control}),m=Ue({name:"PhyData",control:i.control}),f=Qr({height:s,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),h=a.useMemo(()=>u.creating?"":u.updating?"":"",[u.creating,u.updating]),g=a.useMemo(()=>u.creating?u.confirmQuitCreating:u.updating?u.confirmQuitUpdating:u.reading?u.cancelAction:null,[u.cancelAction,u.confirmQuitCreating,u.confirmQuitUpdating,u.creating,u.reading,u.updating]),x=i.handleSubmit(u.onEditorSubmit,u.onEditorSubmitError),y=a.useMemo(()=>!u.editing||!d||!m||!p,[u.editing,d,m,p]),D=a.useMemo(()=>[{...Pe.keyColumn("prod",or(ls,{name:"prod",packageType:"_",forId:!0,disableClearable:!0,slotProps:{paper:{sx:{width:360}}}})),title:"",minWidth:130,maxWidth:150,disabled:y},{...Pe.keyColumn("ProdData_N",kt({continuousUpdates:!1})),title:"",disabled:!0,grow:2},{...Pe.keyColumn("PackData_N",kt({continuousUpdates:!1})),title:"",minWidth:120,maxWidth:120,disabled:!0}],[y]),v=hr({data:u.grid.gridData,columns:D,skipDisabled:!0,lastCell:Xn.CREATE_ROW}),T=a.useCallback(()=>{if(!d){ae.error(""),i.setFocus("PhyID");return}if(!p){ae.error(""),i.setFocus("employee");return}if(!m){ae.error(""),i.setFocus("PhyData");return}v.setActiveCell({col:0,row:0})},[d,p,m,v,i]),I=vt(`
		PhyID,
		employee,
		PhyData,
		Order
		`,{lastField:T});return mn(()=>{u.itemDataReady&&(console.log("f01 form reset",u.itemData),c(u.itemData))},[u.itemData,u.itemDataReady]),r.jsxs(Er,{ref:t,title:h,responsive:!0,fullWidth:!0,maxWidth:"md",TitleButtonsComponent:POe,open:u.itemViewOpen,onClose:g,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[{minHeight:"30em",paddingTop:0},f.scroller],...n,children:[r.jsx(Ye,{...i,children:r.jsx("form",{onSubmit:x,children:r.jsx(Ct,{...I,gridMeta:v,readOnly:y,children:r.jsx(v7,{creating:u.creating,editing:u.editing,updating:u.updating,readWorking:u.readWorking,readError:u.readError,data:u.itemData,itemDataReady:u.itemDataReady})})})}),r.jsx(D7,{})]})});ROe.displayName="F01DialogContainer";const SN=e=>{const{loading:t,children:n,...o}=e,s=t&&!n;return r.jsx(j,{item:!0,pr:1,xs:4,sm:4,md:4,lg:4,...o,children:s?r.jsx(ji,{}):n||""})};SN.propTypes={loading:l.bool,children:l.oneOfType([l.node])};SN.displayName="F01IdColumn";const vN=e=>{const{loading:t,children:n,...o}=e,s=t&&!n;return r.jsx(j,{item:!0,pr:1,xs:9,sm:9,md:9,lg:10,...o,children:s?r.jsx(ji,{}):n||""})};vN.propTypes={loading:l.bool,children:l.oneOfType([l.node])};vN.displayName="F01SupplierColumn";const jN=e=>{const{loading:t,children:n,...o}=e,s=t&&!n;return r.jsx(j,{item:!0,pr:1,xs:9,sm:9,md:9,lg:5,...o,children:s?r.jsx(ji,{}):n||""})};jN.propTypes={loading:l.bool,children:l.oneOfType([l.node])};jN.displayName="F01UserColumn";const O7=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsxs(io,{ref:t,...n,children:[r.jsx(Hn,{}),r.jsx(SN,{children:""}),r.jsx(vN,{children:""}),r.jsx(jN,{children:""})]})}));O7.propTypes={};O7.displayName="F01ListHeader";const wOe=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(gu),s=a.useMemo(()=>"",[]);return r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(Ao,{}),onClick:o.promptCreating,sx:{fontWeight:600},...n,children:s})}));wOe.displayName="F01CreateButtonContainer";const kOe=()=>{const e=a.useContext(gu);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};kOe.displayName="F01FetchResultLabelContainer";const AOe=a.memo(()=>r.jsx(r.Fragment,{children:r.jsx(wOe,{})}));AOe.displayName="LeftButtons";const NOe=a.memo(a.forwardRef(({...e},t)=>r.jsx(kn,{pl:0,pr:1,alignItems:"flex-end",ref:t,LeftComponent:AOe,RightComponent:kOe,...e})));NOe.displayName="F01ListViewToolbar";l.bool,l.oneOfType([l.node]);const E7=a.memo(e=>{const{index:t,style:n,value:o,loading:s,onClick:i}=e;return r.jsx("div",{style:n,children:r.jsxs(yo,{borderBottom:!0,onClick:i,children:[r.jsx(na,{}),r.jsx(jt,{children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t}),r.jsx(SN,{loading:s,children:o==null?void 0:o.PhyID}),r.jsx(vN,{loading:s,children:o==null?void 0:o.PhyData}),r.jsx(jN,{loading:s,children:o==null?void 0:o.})]})})]})})});E7.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func,confirmResetPword:l.func,promptCopyAuth:l.func};E7.displayName="F01ListRow";const P7=e=>{const t=a.useContext(gu),{isItemLoading:n}=t,{index:o,...s}=e,i=a.useMemo(()=>n(o),[o,n]),c=a.useMemo(()=>t.listData[o],[t.listData,o]);return r.jsx(E7,{index:o,loading:i,value:c,onClick:u=>t.handleSelect(u,c),...s})};P7.propTypes={index:l.number,data:l.object};P7.displayName="F01ListRowContainer";const FOe=()=>{const e=a.useContext(gu),{loadList:t}=e,n=Ke(),{getValues:o,setValue:s}=n,{height:i}=Wt(),c=Ue({name:"q",control:n.control}),u=Gr(c,300);En(()=>{e.loadList()},[]),mn(()=>{u!==void 0&&t({params:{q:u},supressLoading:!0})},[u]);const d=a.useMemo(()=>i?i-162:300,[i]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:P7,height:d,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};FOe.displayName="F01ListViewContainer";const MOe=()=>{const e=at();return r.jsx(Ye,{...e,children:r.jsxs(Ft,{children:[r.jsx(_t,{children:r.jsx(C7,{name:"q"})}),r.jsx(NOe,{}),r.jsx(O7,{}),r.jsx(FOe,{}),r.jsx(ROe,{})]})})};MOe.displayName="F01FrameContainer";const wkt=e=>{if(!e)return"";const{PhyID:t,PhyData:n}=e;return[t,n||""].filter(Boolean).join(" ")},kkt=e=>{if(!e)return"";const{PhyID:t}=e;return`${t}`},Akt=(e,t)=>(e==null?void 0:e.PhyID)===(t==null?void 0:t.PhyID),Nkt=e=>e==null?void 0:e.PhyID,xP={getOptionLabel:wkt,getOptionLabelForId:kkt,isOptionEqualToValue:Akt,getOptionKey:Nkt},R7=a.memo(e=>{const{label:t="",forId:n=!1,...o}=e,s=a.useContext(Be),i=a.useCallback(d=>d.data,[]),c=a.useMemo(()=>Hr.stringify({opts:1,np:1}),[]),u=a.useCallback(d=>n?xP.getOptionLabelForId(d):xP.getOptionLabel(d),[n]);return r.jsx(bt,{label:t,url:"v1/inv/taking/listing",bearer:s.token,getOptionLabel:u,renderOptionLabel:xP.getOptionLabel,isOptionEqualToValue:xP.isOptionEqualToValue,getOptions:i,querystring:c,notFoundText:" ${input} ",blurToLookup:!0,virtualize:!0,...o})});R7.propTypes={label:l.string,uid:l.string,scope:l.number,excludesSelf:l.bool,forId:l.bool};R7.displayName="InvTakingListingPicker";const Fkt=(e,t)=>Gn.arePropsEqual(e,t,{fields:"rowData.PhyID,active,disabled,focus"}),IN=a.memo(e=>{const{rowData:t,setRowData:n,rowIndex:o,columnIndex:s,columnData:i,active:c,focus:u,disabled:d,stopEditing:p,insertRowBelow:m}=e,f=a.useRef(t);f.current=t;const{name:h,hideControlsOnActive:g,selectOnFocus:x,lastCell:y,isLastRow:D,getNextCell:v,skipDisabled:T,setActiveCell:I,readOnly:P,focusOnDisabled:E,multiple:k,...w}=i,{handleFocusNextCell:A}=Pi({getNextCell:v,lastCell:y,isLastRow:D,setActiveCell:I,insertRowBelow:m}),F=zi({name:h,rowIndex:o,rowData:t,columnIndex:s,focus:u,active:c,disabled:d,hideControlsOnActive:g,selectOnFocus:x,setRowData:n,stopEditing:p,readOnly:P,skipDisabled:T,handleFocusNextCell:A,focusOnDisabled:E,multiple:k});return r.jsx(R7,{queryParam:"qs",...F,...w})},Fkt);IN.propTypes={name:l.string,rowData:l.oneOfType([l.string,l.number,l.object]),setRowData:l.func,rowIndex:l.number,columnIndex:l.number,columnData:l.object,active:l.bool,focus:l.bool,disabled:l.bool,stopEditing:l.func,insertRowBelow:l.func,duplicateRow:l.func,deleteRow:l.func,getContextMenuItems:l.func};IN.propTypes={};IN.displayName="InvTakingListingPickerComponent";const w7=e=>{const{columnData:t,...n}=e,o=ii(),s=a.useMemo(()=>({...t,...o}),[o,t]);return r.jsx(IN,{columnData:s,...n})};w7.displayName="InvTakingListingPickerComponentContainer";w7.propTypes={columnData:l.object};const Mkt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),k7=a.memo(e=>{const{canCreate:t,columns:n,lockRows:o,gridRef:s,data:i,loading:c,height:u=300,onChange:d}=e,p=a.useMemo(()=>u+(o||!t?48:0),[t,u,o]);return c?r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx(Ko,{height:u})}):c==null?!1:r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx(dr,{lockRows:o,ref:s,rowKey:"PosNo",height:p,value:i,onChange:d,columns:n,addRowsComponent:t?go:null,disableExpandSelection:!0,contextMenuComponent:Mkt,createRow:zP.createRow})})});k7.propTypes={columns:l.array,lockRows:l.bool,gridRef:l.func,drawerOpen:l.bool,data:l.array,loading:l.bool,height:l.number,onChange:l.func,isPersisted:l.func};k7.displayName="F02Grid";const _Oe=()=>{const{height:e}=Wt(),t=a.useContext(HD),n=at(),o=a.useMemo(()=>[{...Pe.keyColumn("listing",or(w7,{name:"listing",disableOpenOnInput:!0,disableClearable:!0,selectOnFocus:!0,autoHighlight:!0,forId:!0,slotProps:{paper:{sx:{width:340}}}})),title:"",minWidth:160,maxWidth:160,disabled:t.grid.readOnly},{...Pe.keyColumn("PhyData",kt({continuousUpdates:!1})),title:"",disabled:!0}],[t.grid.readOnly]),s=hr({columns:o,data:t.grid.gridData,lastCell:Xn.CREATE_ROW}),i=a.useMemo(()=>s.buildSelectionChangeHandler(),[s]),c=a.useMemo(()=>t.grid.buildGridChangeHandler({gridMeta:s,onUpdateRow:t.onUpdateRow}),[t.grid,t.onUpdateRow,s]),u=a.useMemo(()=>e-224,[e]);return r.jsx(Ye,{...n,children:r.jsx(Kn.Provider,{value:{...t.grid,...s},children:r.jsx(k7,{columns:o,lockRows:t.grid.readOnly,gridRef:s.setGridRef,data:t.grid.gridData,loading:t.grid.gridLoading,height:u,onChange:c,onActiveCellChange:s.handleActiveCellChange,onSelectionChange:i,canCreate:t.canCreate})})})};_Oe.displayName="F02GridContainer";const LOe=e=>{const{...t}=e,n=a.useContext(HD),o=a.useMemo(()=>n.staging?"":"",[n.staging]);return r.jsx(Ra,{title:o,arrow:!0,children:r.jsx(Ts,{unlockedLabel:"",locked:n.grid.readOnly,onChange:n.grid.toggleReadOnly,disabled:n.staging,...t})})};LOe.displayName="F02LockSwitchContainer";const $Oe=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(HD),s=Ke(),i=a.useMemo(()=>s.handleSubmit(o.onSubmit,o.onSubmitErrort),[o.onSubmit,o.onSubmitErrort,s]),c=a.useMemo(()=>o.grid.readOnly,[o.grid.readOnly]);return r.jsx(dt,{responsive:!0,ref:t,variant:"contained",startIcon:r.jsx(iO,{}),onClick:i,disabled:c,sx:{fontWeight:600},...n,children:""})}));$Oe.displayName="F02StageButtonContainer";const BOe=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(HD),s=a.useMemo(()=>!o.staging,[o.staging]),i=a.useMemo(()=>o.staging?"":"",[o.staging]);return r.jsx(Ra,{title:i,arrow:!0,children:r.jsx(dt,{responsive:!0,ref:t,variant:"contained",startIcon:r.jsx(im,{}),color:"secondary",onClick:o.confirmDelete,disabled:s,sx:{fontWeight:600},...n,children:""})})}));BOe.displayName="F02DeleteButtonContainer";const A7=a.memo(()=>r.jsxs(r.Fragment,{children:[r.jsx($Oe,{}),r.jsx(BOe,{})]}));A7.propTypes={};A7.displayName="LeftComponent";const N7=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx(kn,{bgcolor:Nn.TOOLBAR,ref:t,LeftComponent:A7,RightComponent:LOe,mb:.5,...n})})}));N7.propTypes={};N7.displayName="F02Toolbar";const F7=a.memo(e=>{const{...t}=e;return r.jsx(Pt,{...t,children:r.jsx(j,{container:!0,columns:24,spacing:1,children:r.jsx(j,{item:!0,md:6,children:r.jsx(et,{label:"",inline:!0,typo:!0,name:"ActDate",editing:!1})})})})});F7.propTypes={};F7.displayName="F02ListForm";const WOe=e=>{const{...t}=e,n=Ke(),{reset:o}=n,s=a.useContext(HD),i=vt(`
		ActDate,
		`);return En(()=>{s.load()},[]),mn(()=>{s.itemDataReady&&(console.log("f02 form reset",s.itemData),o(s.itemData))},[s.itemData,s.itemDataReady]),r.jsx(Ct,{...i,children:r.jsx(F7,{...t})})};WOe.displayName="F02ListFormContainer";const M7=a.memo(()=>{const e=at();return r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsxs(jt,{children:[r.jsx(Ye,{...e,children:r.jsxs("form",{children:[r.jsx(N7,{}),r.jsx(WOe,{}),r.jsx(_Oe,{})]})}),r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(nu,{label:"",severity:"info",transparent:!0,children:""})})]})]})});M7.propTypes={drawerOpen:l.bool,boxStyles:l.oneOfType([l.array,l.object])};M7.displayName="F02Frame";const UOe=()=>r.jsx(M7,{});UOe.displayName="F02Frame";const _7=a.memo(e=>{var s,i;const{anchor:t="right",...n}=e,o=a.useContext(bu);return r.jsxs(Eo,{anchor:t,open:o.sideDrawerOpen,onClose:o.handleSideDrawerClose,slotProps:{backdrop:{sx:[ur.BACKDROP_TRANSPARENT]}},...n,children:[r.jsx(pn,{label:"",children:(s=o.itemData)==null?void 0:s.WriteDate_N}),r.jsx(pn,{label:"",children:(i=o.itemData)==null?void 0:i.Writer_N})]})});_7.propTypes={anchor:l.string};_7.displayName="F03Drawer";const _kt=Aa({translationKeys:{button:"",unit:""}}),Lkt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS","MOVE_ROW"].includes(e.type)}),L7=a.memo(e=>{const{createRow:t,getRowKey:n,readOnly:o,gridRef:s,data:i,onChange:c,onActiveCellChange:u,getRowClassName:d,height:p=300}=e,m=a.useCallback(({rowData:h})=>({...h,Pkey:zn()}),[]),f=a.useCallback(({rowData:h})=>{console.log("deleteRow",h)},[]);return r.jsx(dr,{ref:s,rowKey:n,lockRows:!0,height:p+(o?48:0),value:i,onChange:c,onActiveCellChange:u,addRowsComponent:_kt,disableExpandSelection:!0,contextMenuComponent:Lkt,createRow:t,duplicateRow:m,rowClassName:d,deleteRow:f})});L7.propTypes={createRow:l.func,getRowKey:l.func,spriceDisabled:l.func,prodDisabled:l.func,onChange:l.func,onActiveCellChange:l.func,getRowClassName:l.func,getSPriceClassName:l.func,readOnly:l.bool,height:l.number,data:l.array.isRequired,gridRef:l.func};L7.displayName="F03ProdGrid";const qOe=e=>{const{...t}=e,n=a.useContext(bu),o=a.useContext(Be),{height:s}=Wt(),i=Ke(),c=a.useContext(Lr),u=a.useMemo(()=>n.buildGridChangeHandler({getValues:i.getValues,setValue:i.setValue,gridMeta:c.gridMeta}),[n,i.getValues,i.setValue,c.gridMeta]),d=a.useMemo(()=>c.readOnly?s-254:s-214,[c.readOnly,s]);return r.jsx(Kn.Provider,{value:{...n.grid,...c.gridMeta,readOnly:c.readOnly},children:r.jsx(L7,{gridRef:c.gridMeta.setGridRef,readOnly:c.readOnly,data:n.gridData,onChange:u,onActiveCellChange:c.gridMeta.handleActiveCellChange,bearer:o.token,height:d,getRowKey:n.getRowKey,createRow:n.createRow,...t})})};qOe.displayName="F03ProdGridContainer";const $7=a.memo(e=>{const{onSubmit:t,readError:n,data:o,readWorking:s,itemDataReady:i,creating:c,editing:u,updating:d,handleRstDateChanged:p,slotProps:m,...f}=e;return r.jsxs("form",{onSubmit:t,children:[s&&r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",minHeight:"30em",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}),n&&r.jsx(lo,{error:n,...m==null?void 0:m.error}),i&&r.jsxs(Pt,{pt:u?1:0,children:[r.jsxs(j,{container:!0,columns:24,spacing:1,children:[r.jsx(j,{item:!0,xs:24,sm:5,md:5,children:r.jsx($e,{typo:!0,name:"PhyID",label:"",autoFocus:!0,fullWidth:!0,editing:!1})}),r.jsx(j,{item:!0,xs:12,sm:8,md:8,children:r.jsx($e,{typo:!0,name:"PhyData_N",label:"",fullWidth:!0,required:!0,rules:{required:""},editing:!1})}),r.jsx(j,{item:!0,xs:24,sm:6,md:6,children:r.jsx(et,{label:"",typo:!0,name:"ActDate_N",editing:!1})})]}),r.jsx(jt,{py:1,children:r.jsx(qOe,{})})]})]})});$7.propTypes={readWorking:l.bool,readError:l.object,data:l.object,itemDataReady:l.bool,purchaseOrdersDisabled:l.bool,handleRstDateChanged:l.func,slotProps:l.object};$7.displayName="F03DialogForm";const B7=a.memo(a.forwardRef((e,t)=>{const{onSave:n,onCancel:o,editWorking:s,...i}=e;return r.jsxs(a.Fragment,{ref:t,...i,children:[r.jsx(dt,{responsive:!0,onClick:o,color:"warning",variant:"outlined",...i,children:""}),r.jsx(dt,{responsive:!0,onClick:n,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:s,children:""})]})}));B7.displayName="F03DialogEditToolbar";B7.propTypes={onCancel:l.func,onSave:l.func,onLoadProds:l.func,editWorking:l.bool};const VOe=e=>{const{...t}=e,n=Ke(),o=a.useContext(bu),{canPrint:s}=o,i=n.handleSubmit(o.onPrintSubmit,o.onPrintSubmitError);return s?r.jsx(xn,{onSubmit:i,...t}):!1};VOe.displayName="F03ExportButtonContainer";const zOe=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,checkEditableWorking:o,onDelete:s,onPrint:i,onSideDrawerOpen:c,...u}=e;return r.jsxs(a.Fragment,{ref:t,...u,children:[i&&r.jsx(r.Fragment,{children:r.jsx(VOe,{})}),n&&r.jsx(dt,{responsive:!0,startIcon:r.jsx(bo,{}),color:"primary",onClick:n,loading:o,children:""}),r.jsx(jr,{title:"",children:r.jsx(br,{onClick:c,size:"small",children:r.jsx(Po,{})})})]})}));zOe.propTypes={onEdit:l.func,onDelete:l.func,onPrint:l.func,onSideDrawerOpen:l.func,checkEditableWorking:l.bool};const HOe=e=>{const{...t}=e,n=a.useContext(bu),o=Ke(),s=a.useMemo(()=>n.canDelete,[n.canDelete]),i=o.handleSubmit(n.onPrintSubmit,n.onPrintSubmitError);return n.itemDataReady?n.editing?r.jsx(B7,{onSave:o.handleSubmit(n.onEditorSubmit,n.onEditorSubmitError),editWorking:n.editWorking,onCancel:n.updating?n.confirmReturnReading:n.confirmQuitCreating,...t}):r.jsx(zOe,{onEdit:n.canUpdate?n.promptUpdating:null,onDelete:s?n.confirmDelete:null,onPrint:n.canPrint?i:null,onSideDrawerOpen:n.handleSideDrawerOpen,...t}):!1};HOe.displayName="F03DialogToolbarContainer";const GOe=a.forwardRef((e,t)=>{const{...n}=e,{height:o}=Wt(),s=a.useMemo(()=>o-120,[o]),i=at({defaultValues:{prods:[]}}),{reset:c}=i,u=a.useContext(bu),d=Qr({height:s,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),p=a.useMemo(()=>u.creating?"":u.updating?"":"",[u.creating,u.updating]),m=a.useMemo(()=>u.creating?u.confirmQuitCreating:u.updating?u.confirmQuitUpdating:u.reading?u.cancelAction:null,[u.cancelAction,u.confirmQuitCreating,u.confirmQuitUpdating,u.creating,u.reading,u.updating]),f=a.useCallback(()=>{u.editing&&i.handleSubmit(u.onEditorSubmit,u.onEditorSubmitError)()},[u.editing,u.onEditorSubmit,u.onEditorSubmitError,i]);$t(["Control+Enter"],()=>setTimeout(f),{enableOnFormTags:!0});const h=a.useMemo(()=>!u.editing,[u.editing]),g=a.useMemo(()=>[{...Pe.keyColumn("SProdID",kt({continuousUpdates:!1})),title:"",minWidth:120,maxWidth:120,disabled:!0},{...Pe.keyColumn("ProdData_N",kt({continuousUpdates:!1})),title:"",disabled:!0,grow:2},{...Pe.keyColumn("PackData_N",kt({continuousUpdates:!1})),minWidth:60,maxWidth:60,title:"",disabled:!0},{...Pe.keyColumn("SQty",Jn(2)),title:"",minWidth:90,disabled:h}],[h]),x=hr({data:u.grid.gridData,columns:g,skipDisabled:!0,lastCell:Xn.CREATE_ROW}),y=Ue({name:"CalID",control:i.control}),D=Ue({name:"CalData",control:i.control}),v=Ue({name:"employee",control:i.control}),T=a.useCallback(()=>{if(!y){ae.error(""),i.setFocus("CalID");return}if(!D){ae.error(""),i.setFocus("CalData");return}if(!v){ae.error(""),i.setFocus("employee");return}x.setActiveCell({col:0,row:0})},[D,y,v,i,x]),I=vt(`
		CalID,
		CalData,
		employee,
		`,{lastField:T});return mn(()=>{u.itemDataReady&&(console.log("f03 form reset",u.itemData),c(u.itemData))},[u.itemData,u.itemDataReady]),r.jsx(Ye,{...i,children:r.jsxs(Er,{ref:t,title:p,responsive:!0,fullWidth:!0,maxWidth:"md",TitleButtonsComponent:HOe,open:u.itemViewOpen,onClose:m,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[{minHeight:"30em",paddingTop:0},d.scroller],...n,children:[r.jsx(Ct,{...I,gridMeta:x,readOnly:h,children:r.jsx($7,{onSubmit:f,creating:u.creating,editing:u.editing,updating:u.updating,readWorking:u.readWorking,readError:u.readError,data:u.itemData,itemDataReady:u.itemDataReady})}),r.jsx(_7,{})]})})});GOe.displayName="F03DialogContainer";const W7=a.memo(e=>{const{onSubmit:t}=e;return r.jsx("form",{onSubmit:t,children:r.jsx(Pt,{pt:1,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,children:r.jsx(fn,{autoFocus:!0,label:"",name:"expProd",required:!0,virtualize:!0,typeToSearchText:",",triggerDelay:100,rules:{required:""}})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(et,{label:"",name:"expDate",validate:!0})})]})})})});W7.propTypes={onSubmit:l.func};W7.displayName="F03ExpDialogForm";const KOe=a.forwardRef((e,t)=>{const{...n}=e,o=at({defaultValues:{}}),s=a.useContext(bu),i=o.handleSubmit(s.onExpSubmit,s.onExpSubmitError);return mn(()=>{open&&o.reset({expProd:s.expProd,expDate:s.expDate})},[open,s.expProd,s.expDate]),r.jsx(Ye,{...o,children:r.jsx(Er,{ref:t,title:"",responsive:!0,fullWidth:!0,maxWidth:"xs",open:s.expPrompting,onClose:s.onExpDialogClose,onSubmit:i,confirmText:"",onCancel:s.onExpDialogClose,children:r.jsx(W7,{onSubmit:i})})})});KOe.displayName="F03ExpDialogContainer";const TN=e=>{const{loading:t,children:n,...o}=e,s=t&&!n;return r.jsx(j,{item:!0,pr:1,xs:4,lg:4,...o,children:s?r.jsx(ji,{}):n||""})};TN.propTypes={loading:l.bool,children:l.oneOfType([l.node])};TN.displayName="F03IdColumn";const ON=e=>{const{loading:t,children:n,...o}=e,s=t&&!n;return r.jsx(j,{item:!0,pr:1,xs:18,lg:18,...o,children:s?r.jsx(ji,{}):n||""})};ON.propTypes={loading:l.bool,children:l.oneOfType([l.node])};ON.displayName="F03OrderNameColumn";l.bool,l.oneOfType([l.node]);const U7=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsxs(io,{ref:t,...n,children:[r.jsx(Hn,{}),r.jsx(TN,{children:""}),r.jsx(ON,{children:""})]})}));U7.propTypes={expChecking:l.bool};U7.displayName="F03ListHeader";const QOe=e=>{const{...t}=e,n=a.useContext(bu);return r.jsx(U7,{expChecking:n.expChecking,...t})};QOe.displayName="F03ListHeaderContainer";const YOe=()=>{const e=a.useContext(bu);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};YOe.displayName="F03FetchResultLabelContainer";const JOe=a.memo(()=>r.jsx(r.Fragment,{}));JOe.displayName="LeftButtons";const q7=a.memo(a.forwardRef(({loading:e,...t},n)=>r.jsx(kn,{pl:0,alignItems:"flex-end",ref:n,LeftComponent:e?Cr:JOe,RightComponent:YOe,...t})));q7.displayName="F03ListViewToolbar";q7.propTypes={loading:l.bool};const V7=a.memo(e=>{const{index:t,style:n,value:o,loading:s,onClick:i,expChecking:c}=e;return a.useMemo(()=>`${(o==null?void 0:o.)||""} ${(o==null?void 0:o.)||""}`,[o==null?void 0:o.,o==null?void 0:o.]),r.jsx("div",{style:n,children:r.jsxs(yo,{borderBottom:!0,onClick:i,children:[r.jsx(na,{}),r.jsx(jt,{children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t}),r.jsx(TN,{loading:s,children:(o==null?void 0:o.PhyID)||""}),r.jsx(ON,{loading:s,children:(o==null?void 0:o.PhyData)||""})]})})]})})});V7.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,expChecking:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func,confirmResetPword:l.func,promptCopyAuth:l.func};V7.displayName="F03ListRow";const z7=e=>{const t=a.useContext(bu),{isItemLoading:n}=t,{index:o,...s}=e,i=a.useMemo(()=>n(o),[o,n]),c=a.useMemo(()=>t.listData[o],[t.listData,o]);return r.jsx(V7,{index:o,loading:i,value:c,onClick:u=>t.handleSelect(u,c),expChecking:t.expChecking,...s})};z7.propTypes={index:l.number,data:l.object};z7.displayName="F03ListRowContainer";const XOe=()=>{const e=a.useContext(bu),{loadList:t}=e,n=Ke(),{height:o}=Wt(),s=Ue({name:"q",control:n.control}),i=Gr(s,300);En(()=>{e.loadList({params:{}})},[]),mn(()=>{t({params:{q:i},supressLoading:!0})},[i,e.expProd,e.expDate]);const c=a.useMemo(()=>o?o-162:300,[o]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:z7,height:c,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};XOe.displayName="F03ListViewContainer";const H7=a.memo(a.forwardRef((e,t)=>{const{width:n="40ch",onClose:o,onReset:s,ContentProps:i}=e;return r.jsxs(sm,{width:n,ref:t,children:[r.jsx(am,{onClose:o,children:""}),r.jsx(ta,{sx:{mt:0,mb:0}}),r.jsx(tm,{...i,children:r.jsx(j,{container:!0,spacing:1.5,columns:12,children:r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(Ar,{autoFocus:!0,name:"employee",label:"",disableOpenOnInput:!0})})})}),r.jsx(ta,{}),r.jsxs(em,{children:[r.jsx(dt,{size:"small",variant:"outlined",color:"primary",onClick:s,children:""}),r.jsx(dt,{startIcon:r.jsx(Xh,{}),type:"submit",variant:"contained",children:""})]})]})}));H7.propTypes={width:l.oneOfType([l.number,l.string]),onClose:l.func,onReset:l.func,ContentProps:l.object};H7.displayName="F03SearchPopper";const $kt=a.forwardRef(({...e},t)=>{const n=a.useContext(bu),o=Ke(),s=vt(`
		employee
		`);return r.jsx(Ct,{...s,children:r.jsx(H7,{ref:t,onClose:n.handlePopperClose,onReset:n.handleReset({reset:o.reset}),...e})})});$kt.displayName="F03SearchPopperContainer";const G7=e=>{const{name:t="q",...n}=e,o=Ke(),s=a.useContext(bu),i=a.useRef(null),c=ru({inputRef:i,onChange:d=>{o.setValue(t,d)}});$t("ctrl+F12",c.handleFocus,{enableOnFormTags:!0});const u=$t("esc",c.handleClear,{enableOnFormTags:!0});return r.jsx("form",{onSubmit:o.handleSubmit(s.onSearchSubmit,s.onSearchSubmitError),children:r.jsx("div",{ref:u,children:r.jsx(su,{autoFocus:!0,name:t,placeholder:"(ctrl+F12)",mobilePlaceholder:"",borderRadius:"8px",maxWidth:"32ch",responsive:!0,inputRef:i,onClear:c.handleClear,popperOpen:s.popperOpen,onPopperToggle:s.handlePopperToggle,onPopperOpen:s.handlePopperOpen,onPopperClose:s.handlePopperClose,filtered:Aj.isFiltered(o.getValues())})})})};G7.propTypes={name:l.string};G7.displayName="F03SearchFieldContainer";const ZOe=()=>{const e=at({defaultValues:{}});return r.jsxs(Ft,{children:[r.jsxs(Ye,{...e,children:[r.jsx(_t,{children:r.jsx(G7,{name:"q"})}),r.jsx(q7,{}),r.jsx(QOe,{}),r.jsx(XOe,{})]}),r.jsx(GOe,{}),r.jsx(KOe,{})]})};ZOe.displayName="F03FrameContainer";const K7=a.memo(a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,label:o,options:Fh.dataTypeOptions,getOptionLabel:Fh.getOptionLabel,isOptionEqualToValue:Fh.isOptionEqualToValue,...s})}));K7.propTypes={name:l.string,label:l.string,children:l.node};K7.displayName="F04DataTypePicker";const Q7=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,children:r.jsx(Pt,{pt:1,children:r.jsx(Xt,{editing:!0,children:r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,children:r.jsx(et,{label:"",typo:!0,name:"ActDate",editing:!1})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(K7,{name:"PrtType",label:"",required:!0,rules:{required:""}})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(xr,{label:"",name:"PrtID",defaultValue:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx($e,{typo:!0,editing:!1,size:"small",name:"PhyIDs",label:"",required:!0,readOnly:!0,slotProps:{label:{sx:{marginTop:"-8px",marginLeft:"4px"}}}})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})})})})});Q7.propTypes={onSubmit:l.func,onDebugSubmit:l.func,readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object};Q7.displayName="F04Form";const eEe=()=>{const e=Ke(),{reset:t}=e,n=a.useContext(bOe),o=a.useMemo(()=>e.handleSubmit(n.onSubmit,n.onSubmitError),[n.onSubmit,n.onSubmitError,e]),s=a.useMemo(()=>e.handleSubmit(n.onDebugSubmit),[n.onDebugSubmit,e]);return En(()=>{n.load()},[]),$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0}),mn(()=>{n.itemDataReady&&(console.log("f04 form reset",n.itemData),t(n.itemData))},[n.itemData,n.itemDataReady]),r.jsx(Ye,{...e,children:r.jsx(Ct,{...n.formMeta,children:r.jsx(Q7,{onSubmit:o,onDebugSubmit:s})})})};eEe.displayName="F04FormContainer";const tEe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(eEe,{})]});tEe.displayName="F04Frame";const Y7=a.memo(e=>{const{onSubmit:t,...n}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...n,children:r.jsx(Pt,{pt:1,children:r.jsx(Xt,{editing:!0,children:r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,children:r.jsx(et,{label:"",typo:!0,name:"ActDate",editing:!1})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx($e,{typo:!0,editing:!1,size:"small",name:"PhyIDs",label:"",required:!0,readOnly:!0})})]})})})})})});Y7.propTypes={onSubmit:l.func,readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object};Y7.displayName="F05Form";const nEe=()=>{const e=Ke(),{reset:t}=e,n=a.useContext(y7),o=a.useMemo(()=>e.handleSubmit(n.onSubmit,n.onSubmitError),[n.onSubmit,n.onSubmitError,e]);return En(()=>{n.load()},[]),mn(()=>{n.itemDataReady&&(console.log("f05 form reset",n.itemData),t(n.itemData))},[n.itemData,n.itemDataReady]),r.jsx(Ye,{...e,children:r.jsx(Ct,{...n.formMeta,children:r.jsx(Y7,{onSubmit:o})})})};nEe.displayName="F05FormContainer";var aj={},Jle;function Bkt(){if(Jle)return aj;Jle=1;var e=Qn();Object.defineProperty(aj,"__esModule",{value:!0}),aj.default=void 0;var t=e(sr()),n=rr();return aj.default=(0,t.default)((0,n.jsx)("path",{d:"M12.89 11.1c-1.78-.59-2.64-.96-2.64-1.9 0-1.02 1.11-1.39 1.81-1.39 1.31 0 1.79.99 1.9 1.34l1.58-.67c-.15-.45-.82-1.92-2.54-2.24V5h-2v1.26c-2.48.56-2.49 2.86-2.49 2.96 0 2.27 2.25 2.91 3.35 3.31 1.58.56 2.28 1.07 2.28 2.03 0 1.13-1.05 1.61-1.98 1.61-1.82 0-2.34-1.87-2.4-2.09l-1.66.67c.63 2.19 2.28 2.78 2.9 2.96V19h2v-1.24c.4-.09 2.9-.59 2.9-3.22 0-1.39-.61-2.61-3.01-3.44M3 21H1v-6h6v2H4.52c1.61 2.41 4.36 4 7.48 4 4.97 0 9-4.03 9-9h2c0 6.08-4.92 11-11 11-3.72 0-7.01-1.85-9-4.67zm-2-9C1 5.92 5.92 1 12 1c3.72 0 7.01 1.85 9 4.67V3h2v6h-6V7h2.48C17.87 4.59 15.12 3 12 3c-4.97 0-9 4.03-9 9z"}),"CurrencyExchange"),aj}var Wkt=Bkt();const rEe=qn(Wkt),oEe=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(y7);return r.jsx(dt,{responsive:!0,ref:t,variant:"contained",startIcon:r.jsx(rEe,{}),onClick:o.confirmClose,loading:o.updateWorking,sx:{fontWeight:600},...n,children:""})}));oEe.displayName="F05CarryForwardButtonContainer";const J7=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(kn,{bgcolor:Nn.TOOLBAR,ref:t,LeftComponent:oEe,mb:.5,...n})})}));J7.propTypes={};J7.displayName="F05Toolbar";const sEe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(J7,{}),r.jsx(nEe,{})]});sEe.displayName="F05Frame";const Ukt=e=>{if(!e)return"";const{ActDate:t,Seq:n,PhyIDs:o}=e;return[`${t}#${n}`,o].join(" ")},qkt=e=>{if(!e)return"";const{ActDate:t,Seq:n}=e;return`${t}#${n}`},Vkt=(e,t)=>(e==null?void 0:e.ActDate)===(t==null?void 0:t.ActDate)&&(e==null?void 0:e.Seq)===(t==null?void 0:t.Seq),zkt=e=>`${(e==null?void 0:e.ActDate)||""}#${(e==null?void 0:e.Seq)||""}`,yP={getOptionLabel:Ukt,getOptionLabelForId:qkt,isOptionEqualToValue:Vkt,getOptionKey:zkt},X7=a.memo(e=>{const{label:t="",forId:n=!1,...o}=e,s=a.useContext(Be),i=a.useCallback(d=>d.data,[]),c=a.useMemo(()=>Hr.stringify({opts:1}),[]),u=a.useCallback(d=>n?yP.getOptionLabelForId(d):yP.getOptionLabel(d),[n]);return r.jsx(bt,{label:t,url:"v1/inv/taking/acc-entries",bearer:s.token,getOptionLabel:u,renderOptionLabel:yP.getOptionLabel,isOptionEqualToValue:yP.isOptionEqualToValue,getOptions:i,querystring:c,notFoundText:" ${input} ",...o,blurToLookup:!1})});X7.propTypes={label:l.string,uid:l.string,scope:l.number,excludesSelf:l.bool,forId:l.bool};X7.displayName="AccountingEntryListingPicker";const Z7=a.memo(a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,label:o,options:Pb.dataTypeOptions,getOptionLabel:Pb.getOptionLabel,isOptionEqualToValue:Pb.isOptionEqualToValue,...s})}));Z7.propTypes={name:l.string,label:l.string,children:l.node};Z7.displayName="F06DataTypePicker";const e9=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,children:r.jsx(Pt,{pt:1,children:r.jsx(Xt,{editing:!0,children:r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,children:r.jsx(X7,{label:"",name:"accEntry",autoFocus:!0,required:!0,rules:{required:""}})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(Z7,{name:"PrtType",label:"",required:!0})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx($e,{typo:!0,editing:!1,size:"small",name:"PhyIDs",label:"",required:!0,readOnly:!0,slotProps:{label:{sx:{marginTop:"-8px",marginLeft:"4px"}}}})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})})})})});e9.propTypes={onSubmit:l.func,onDebugSubmit:l.func,readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object};e9.displayName="F06Form";const aEe=()=>{const e=Ke(),t=a.useContext(DOe),n=Ue({name:"accEntry",control:e.control}),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]),s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return mn(()=>{e.setValue("PhyIDs",(n==null?void 0:n.PhyIDs)||"")},[n]),r.jsx(Ye,{...e,children:r.jsx(Ct,{...t.formMeta,children:r.jsx(e9,{onSubmit:o,onDebugSubmit:s})})})};aEe.displayName="F06FormContainer";const iEe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(aEe,{})]});iEe.displayName="F06Frame";const t9=a.memo(e=>{const{onSubmit:t,...n}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...n,children:r.jsx(Pt,{pt:1,children:r.jsx(Xt,{editing:!0,children:r.jsx(j,{container:!0,columns:12,spacing:2,children:r.jsx(j,{item:!0,xs:12,children:r.jsx(pn,{size:"small",name:"CutYM",label:"",required:!0,readOnly:!0,slotProps:{label:{sx:{marginTop:"-8px",marginLeft:"4px"}}}})})})})})})})});t9.propTypes={onSubmit:l.func,readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object};t9.displayName="F07Form";const lEe=()=>{const e=Ke(),{reset:t}=e,n=a.useContext(DN),o=a.useMemo(()=>e.handleSubmit(n.onSubmit,n.onSubmitError),[n.onSubmit,n.onSubmitError,e]);return En(()=>{n.load()},[]),a.useEffect(()=>{n.itemDataReady&&(console.log("f07 form reset",n.itemData),t(n.itemData))},[n.itemData,n.itemDataReady,t]),r.jsx(Ye,{...e,children:r.jsx(Ct,{...n.formMeta,children:r.jsx(t9,{onSubmit:o})})})};lEe.displayName="F07FormContainer";const cEe=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(DN);return r.jsx(dt,{responsive:!0,ref:t,variant:"contained",startIcon:r.jsx(iO,{}),onClick:o.confirmCarryForward,loading:o.updateWorking,sx:{fontWeight:600},...n,children:""})}));cEe.displayName="F07CloseButtonContainer";var ij={},Xle;function Hkt(){if(Xle)return ij;Xle=1;var e=Qn();Object.defineProperty(ij,"__esModule",{value:!0}),ij.default=void 0;var t=e(sr()),n=rr();return ij.default=(0,t.default)((0,n.jsx)("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"}),"Restore"),ij}var Gkt=Hkt();const EN=qn(Gkt),uEe=a.memo(a.forwardRef((e,t)=>{var i;const{...n}=e,o=a.useContext(DN);return(i=a.useContext(Be).operator)!=null&&i.hasRoot?r.jsx(dt,{responsive:!0,ref:t,variant:"contained",startIcon:r.jsx(EN,{}),onClick:o.confirmRestore,loading:o.restoreWorking,color:"secondary",sx:{fontWeight:600},...n,children:""}):!1}));uEe.displayName="F07RestoreButtonContainer";const n9=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(kn,{ref:t,bgcolor:Nn.TOOLBAR,LeftComponent:cEe,RightComponent:uEe,...n})})}));n9.propTypes={};n9.displayName="F07Toolbar";const dEe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(n9,{}),r.jsx(lEe,{})]});dEe.displayName="F07Frame";const Kkt=r.jsxs(r.Fragment,{children:[r.jsx(yt,{path:"F01",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(uOe,{children:r.jsx(MOe,{})})})})}),r.jsx(yt,{path:"F02",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(mOe,{children:r.jsx(UOe,{})})})})}),r.jsx(yt,{path:"F03",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(hOe,{children:r.jsx(ZOe,{})})})})}),r.jsx(yt,{path:"F04",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(xOe,{children:r.jsx(tEe,{})})})})}),r.jsx(yt,{path:"F05",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(yOe,{children:r.jsx(sEe,{})})})})}),r.jsx(yt,{path:"F06",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(SOe,{children:r.jsx(iEe,{})})})})}),r.jsx(yt,{path:"F07",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(jOe,{children:r.jsx(dEe,{})})})})})]}),r9=e=>{const{label:t="",forId:n,sess:o,placeholder:s,clearValueOnChange:i=!0,clearOptionsOnChange:c=!0,...u}=e,{token:d}=a.useContext(Be),p=Ke(),m=Ue({name:"session",control:p.control}),f=a.useMemo(()=>Hr.stringify({tp:1e4,ym:m==null?void 0:m.AccYM,sess:m==null?void 0:m.Stage}),[m==null?void 0:m.AccYM,m==null?void 0:m.Stage]),h=a.useMemo(()=>!m,[m]),g=a.useCallback((k,w)=>bs.isOptionEqualToValue(k,w),[]),x=a.useCallback(k=>k.data,[]),y=a.useCallback(k=>bs.getTitle(k),[]),D=a.useCallback(k=>bs.stringify(k),[]),v=a.useCallback(k=>n?bs.getOptionLabelForId(k):bs.getOptionLabel(k),[n]),T=a.useCallback(k=>bs.getOptionKey(k),[]),I=a.useCallback(k=>bs.renderOptionLabel(k),[]),P=a.useMemo(()=>"v1/sales/recv-account/rcpt-customers",[]),E=a.useMemo(()=>" ${input} ",[]);return r.jsx(bt,{bearer:d,url:P,label:t,disabled:h,queryParam:"qs",querystring:f,getOptionLabel:v,isOptionEqualToValue:g,renderOptionLabel:I,getOptions:x,getTitle:y,stringify:D,getOptionKey:T,notFoundText:E,typeToSearchText:"...",clearValueOnChange:i,clearOptionsOnChange:c,...u})};r9.displayName="RecvAccCustomerPicker";r9.propTypes={label:l.string,placeholder:l.string,ym:l.string,sess:l.string,clearOnChange:l.bool,clearOptionsOnChange:l.bool,clearValueOnChange:l.bool,forId:l.bool};const o9=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,onCustomerChange:o,...s}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...s,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,format:"yyyy/MM/dd",required:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ho,{name:"CustID",forNew:!0,forId:!0,disableOpenOnInput:!0,onChanged:o})}),r.jsx(j,{item:!0,xs:12,children:r.jsx($e,{name:"CustName",label:"",size:"small",fullWidth:!0,clearable:!0})}),r.jsx(j,{item:!0,xs:12,children:r.jsx($e,{name:"Tel",label:"",size:"small",fullWidth:!0,clearable:!0})})]}),r.jsx(ve,{mt:1.8,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});o9.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func,onCustomerChange:l.func};o9.displayName="G01Form";const pEe=a.createContext(),mEe=()=>{const e=Ke(),t=a.useContext(pEe),n=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(n),{enableOnFormTags:!0});const o=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]),s=a.useCallback(i=>{e.setValue("CustName",(i==null?void 0:i.AbbrName)||(i==null?void 0:i.CustData)||"")},[e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...t.formMeta,children:r.jsx(o9,{onSubmit:n,onDebugSubmit:o,onCustomerChange:s})})})};mEe.displayName="G01FormContainer";const fEe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(mEe,{})]});fEe.displayName="G01Frame";const Qkt=e=>{if(!e)return"";const{name:t}=e;return`${t}`},Ykt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),Jkt=e=>{var u;const{outputType:t,EDate:n,CustID:o,CustName:s,Tel:i,...c}=e;return{JobName:"G01",Action:((u=t==null?void 0:t.id)==null?void 0:u.toString())||"",EDate:Re.formatDate(n)||"",...o&&{CustID:o==null?void 0:o.CustID},...s&&{CustName:`%${s}%`},...i&&{Tel:`%${i}%`},...c}},Zle={transformForSubmitting:Jkt,getOptionLabel:Qkt,isOptionEqualToValue:Ykt},Xkt=()=>{var h,g;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"G01"}),s=a.useContext(Sn),i=Un(),c=vt(`
		EDate,
		CustID,
		CustName,
		Tel,
		outputType,
		`),u=a.useMemo(()=>`${e.REPORT_URL}/WebG01Rep.aspx`,[e.REPORT_URL]),d=yn(),p=a.useCallback(x=>{var D,v;console.log("onSubmit",x);const y={...Zle.transformForSubmitting(x),DeptId:n.CurDeptID};i.show({data:y,url:u,title:`${(D=s.menuItemSelected)==null?void 0:D.JobID} ${(v=s.menuItemSelected)==null?void 0:v.JobName}`})},[(h=s.menuItemSelected)==null?void 0:h.JobID,(g=s.menuItemSelected)==null?void 0:g.JobName,i,n.CurDeptID,u]),m=a.useCallback(x=>{console.log("onSubmit",x);const y={...Zle.transformForSubmitting(x),DeptId:n.CurDeptID};console.log("data",y),console.log("data",y),d.open(u,y)},[n.CurDeptID,u,d]),f=a.useCallback(x=>{console.error("onSubmitError",x)},[]);return{...o,onSubmit:m,onSubmitError:f,onDebugSubmit:p,formMeta:c}},hEe=({children:e})=>{const t=Xkt(),n=at({defaultValues:{EDate:new Date,CustID:"",CustName:"",Tel:"",outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(pEe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};hEe.propTypes={children:l.oneOfType([l.array,l.element])};const PN=e=>{const{leftComponents:t=[],rightComponents:n=[],minHeight:o="40px",borderTop:s=!1,borderBottom:i=!0,slotProps:c,gap:u=1,sx:d}=e,{sx:p,...m}=(c==null?void 0:c.toolbar)??{};return r.jsxs(QQe,{sx:{display:"flex",justifyContent:"space-between",...typeof s=="string"?{borderTop:s}:s?{borderTop:"1px solid #e0e0e0"}:{},...typeof i=="string"?{borderBottom:i}:i?{borderBottom:"1px solid #e0e0e0"}:{},"&.MuiToolbar-root":{paddingX:0,minHeight:o,...d,...p}},...m,children:[r.jsx(jt,{sx:{display:"flex",gap:u,alignItems:"center"},children:t}),r.jsx(jt,{sx:{display:"flex",gap:u,alignItems:"center"},children:n})]})};PN.propTypes={minHeight:l.oneOfType([l.string,l.number]),leftComponents:l.array,rightComponents:l.array,borderTop:l.oneOfType([l.bool,l.string]),borderBottom:l.oneOfType([l.bool,l.string]),slotProps:l.object,gap:l.number,sx:l.object};const ng=a.createContext(),s9=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(ng),s=a.useMemo(()=>{const i=o.checked.reduce((c,u)=>c+Number(u.xAmt),0);return Re.formatMoney(i)},[o.checked]);return r.jsxs(ve,{inline:!0,children:[r.jsx(nn,{ref:t,variant:"subtitle1",sx:{display:"flex",alignItems:"center"},...n,children:""}),r.jsx(nn,{ref:t,variant:"subtitle1",color:"secondary",sx:{display:"flex",alignItems:"center"},...n,children:s})]})}));s9.propTypes={children:l.oneOfType([l.node,l.array,l.func])};s9.displayName="G02TotalAmtLabel";const a9=e=>{const{...t}=e;return a.useContext(ng).isAnyChecked?r.jsx(PN,{rightComponents:[r.jsx(s9,{},"total-amt")],...t}):!1};a9.propTypes={};a9.displayName="G02BottomToolbar";const RN=e=>{const{children:t,...n}=e;return r.jsx(wt,{item:!0,pr:1,xs:3,...n,children:r.jsx(ve,{justifyContent:"flex-end",children:t})})};RN.propTypes={loading:l.bool,children:l.oneOfType([l.node])};RN.displayName="G02AmtColumn";const wN=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:3,...t})};wN.propTypes={loading:l.bool,children:l.oneOfType([l.node])};wN.displayName="G02DateColumn";const kN=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:3,...t})};kN.propTypes={loading:l.bool,children:l.oneOfType([l.node])};kN.displayName="G02IdColumn";const AN=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:9,...t})};AN.propTypes={loading:l.bool,children:l.oneOfType([l.node])};AN.displayName="G02SupplierColumn";const NN=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:5,...t})};NN.propTypes={loading:l.bool,children:l.oneOfType([l.node])};NN.displayName="G02TelColumn";const i9=a.memo(a.forwardRef(({index:e,sx:t=[],slotProps:n,checked:o,onChange:s,...i},c)=>{var p;const u=a.useContext(Xc),{setChecked:d}=u;return r.jsx(wt,{ref:c,item:!0,xs:1,sx:[()=>({display:"flex",alignItems:"center",justifyContent:"center"}),...Array.isArray(t)?t:[t]],...i,children:r.jsx(Yh,{className:"hover-to-show",sx:{display:"flex",alignItems:"center",justifyContent:"center",...((p=n==null?void 0:n.checkbox)==null?void 0:p.noPadding)&&{padding:0},...!o&&{display:"none"}},...n==null?void 0:n.checkbox,checked:o,onChange:s})})}));i9.propTypes={checked:l.bool,checkedMap:l.object,index:l.number,children:l.oneOfType([l.element,l.array]),sx:l.oneOfType([l.array,l.object]),slotProps:l.object,onChange:l.func};const l9=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsxs(io,{ref:t,...n,children:[r.jsx(i9,{slotProps:{checkbox:{size:"small",noPadding:!0}}}),r.jsx(kN,{children:""}),r.jsx(wN,{children:""}),r.jsx(AN,{children:""}),r.jsx(NN,{children:""}),r.jsx(RN,{children:""})]})}));l9.propTypes={};l9.displayName="G02ListHeader";const gEe=()=>{const e=a.useContext(ng);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};gEe.displayName="G02FetchResultLabelContainer";const c9=e=>{const{noDivider:t,sx:n=[],...o}=e;return r.jsx(Qp,{sx:[()=>({...t&&{"& .MuiButtonGroup-grouped:not(:last-of-type)":{borderRight:"none"}}}),...Array.isArray(n)?n:[n]],...o})};c9.propTypes={noDivider:l.bool,sx:l.oneOfType([l.object,l.array])};c9.displayName="ButtonGroupEx";var lj={},ece;function Zkt(){if(ece)return lj;ece=1;var e=Qn();Object.defineProperty(lj,"__esModule",{value:!0}),lj.default=void 0;var t=e(sr()),n=rr();return lj.default=(0,t.default)((0,n.jsx)("path",{d:"M14 10H3v2h11zm0-4H3v2h11zM3 16h7v-2H3zm11.41 6L17 19.41 19.59 22 21 20.59 18.41 18 21 15.41 19.59 14 17 16.59 14.41 14 13 15.41 15.59 18 13 20.59z"}),"PlaylistRemove"),lj}var e2t=Zkt();const bEe=qn(e2t),xEe=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(ng),s=a.useContext(Xc),i=a.useMemo(()=>{let d="";return s.checked.length>0&&(d+=`(${s.checked.length})`),d},[s.checked.length]),c=a.useMemo(()=>!s.isAnyChecked,[s.isAnyChecked]),u=a.useMemo(()=>{let d="";return c&&(d+=""),d},[c]);return r.jsx(Ra,{title:u,children:r.jsxs(c9,{variant:"contained",size:"small",noDivider:!0,disableInteractive:!0,children:[r.jsx(dt,{responsive:!0,ref:t,color:"secondary",startIcon:r.jsx(bEe,{}),onClick:o.confirmWriteOff,className:"no-margin-right",sx:{fontWeight:600},disabled:c,...n,children:i}),!c&&r.jsx(jr,{title:"",children:r.jsx(fa,{className:"no-margin-right",color:"neutral",onClick:o.uncheckAll,children:r.jsx(Cf,{fontSize:"small"})})})]})})}));xEe.displayName="G02WriteOffButtonContainer";const u9=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=Ke(),s=a.useContext(ng),{moduleAuthorityLoading:i,canPrint:c}=s,u=o.handleSubmit(s.onPrintSubmit,s.onPrintSubmitError),d=o.handleSubmit(s.onDebugPrintSubmit);return i||!c?!1:r.jsx(xn,{ref:t,color:"primary",variant:"contained",onSubmit:u,onDebugSubmit:d,...n})}));u9.propTypes={};u9.displayName="G02PrintButtonContainer";const yEe=a.memo(()=>r.jsxs(r.Fragment,{children:[r.jsx(xEe,{}),r.jsx(u9,{})]}));yEe.displayName="LeftButtons";const CEe=a.memo(a.forwardRef(({...e},t)=>r.jsx(kn,{pl:0,pr:1,alignItems:"flex-end",ref:t,LeftComponent:yEe,RightComponent:gEe,...e})));CEe.displayName="G02ListViewToolbar";const t2t=e=>(e==null?void 0:e.map(t=>({Pkey:zn(),prod:{ProdID:t.SProdID,ProdData:t.SProdData_N},SProdData_N:t.SProdData_N,SPackData_N:t.SPackData_N,SPrice:t.SPrice||null,Seq:t.Seq})))||[],DEe=e=>(e==null?void 0:e.map(t=>({Pkey:t.Pkey,prod:{ProdID:t.SProdID,ProdData:t.SProdData_N},SProdData_N:t.SProdData_N,SPackData_N:t.SPackData_N,SPrice:t.SPrice,Seq:t.Seq})))||[],n2t=e=>e.filter(t=>{var n;return(n=t.prod)==null?void 0:n.ProdID}).map((t,n)=>{var o,s,i;return{Pkey:((o=t.Pkey)==null?void 0:o.length)<36?"":t.Pkey,SProdID:(s=t.prod)==null?void 0:s.ProdID,SPrice:((i=t.SPrice)==null?void 0:i.toString())||"",Seq:n+1}}),r2t=e=>{const{EmplID:t,EmplData_N:n,FactID:o,FactData_N:s,FactInq_S:i,Remark:c,...u}=e;return Re.processDateFieldsForReset({employee:{CodeID:t,CodeData:n},supplier:o?{FactID:o,FactData:s}:null,quotes:DEe(i),remark:c.join(`
`),...u},"InqDate")},o2t=(e,t)=>{const{InqID:n,InqDate:o,employee:s,supplier:i,remark:c}=e;return Re.processDateFieldsForSubmit({InqID:n,InqDate:o,EmplID:(s==null?void 0:s.CodeID)||"",FactID:(i==null?void 0:i.FactID)||"",Remark:(c==null?void 0:c.split(`
`))||[],...t&&{FactInq_S:n2t(t)}},"InqDate")},s2t=e=>{var t,n,o,s,i,c;return{pi:(t=e.sprod)==null?void 0:t.ProdID,pi2:(n=e.eprod)==null?void 0:n.ProdID,pn:e.prodName,cl:(o=e.catL)==null?void 0:o.LClas,cm:(s=e.catM)==null?void 0:s.MClas,cs:(i=e.catS)==null?void 0:i.SClas,ta:(c=e.typeA)==null?void 0:c.id}},a2t=e=>{var t;return{...e.lvEDate&&{edat:Re.formatDate(e.lvEDate)},...e.lvCustId&&{csti:(t=e.lvCustId)==null?void 0:t.CustID},...e.lvCustName&&{cstn:e.lvCustName},...e.lvTel&&{teln:e.lvTel},...e.lvID&&{ordi:e.lvID}}},i2t={transformForReading:r2t,transformForSubmitting:o2t,transformImportProdsAsQueryParams:s2t,transformForGridImport:t2t,transformGridForReading:DEe,transformAsQueryParams:a2t},d9=a.memo(e=>{const{index:t,style:n,value:o,onClick:s,onCheckChange:i,checked:c}=e;return r.jsxs(LD,{style:n,onClick:s,checked:c,selectText:!1,children:[r.jsx(i9,{index:t,checked:c,onChange:i,slotProps:{checkbox:{noPadding:!0,color:"secondary"}}}),r.jsx(kN,{children:o==null?void 0:o.xID}),r.jsx(wN,{children:o==null?void 0:o.xDate}),r.jsx(AN,{children:o==null?void 0:o.xCustName}),r.jsx(NN,{children:o==null?void 0:o.xTel}),r.jsx(RN,{children:Re.formatMoney(o==null?void 0:o.xAmt)})]})});d9.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,checked:l.bool,sx:l.oneOfType([l.array,l.object]),onCheckChange:l.func,onClick:l.func,confirmResetPword:l.func,promptCopyAuth:l.func};d9.displayName="G02ListRow";const p9=e=>{const t=a.useContext(ng),{isItemLoading:n}=t,{index:o,...s}=e,i=a.useMemo(()=>n(o),[o,n]),c=a.useMemo(()=>t.listData[o],[t.listData,o]),u=a.useContext(Xc),{isChecked:d,toggleChecked:p}=u,m=d(o),f=a.useCallback(h=>{p(o,h)},[o,p]);return r.jsx(No,{loading:i,children:r.jsx(d9,{checked:m,index:o,onCheckChange:f,onClick:f,value:c,...s})})};p9.propTypes={index:l.number,data:l.object};p9.displayName="G02ListRowContainer";const SEe=()=>{const e=a.useContext(ng),{loadList:t}=e,n=Ke(),{height:o}=Wt(),s=a.useContext(Xc),i=Ue({name:"lvEDate",control:n.control}),c=Gr(i,300),u=Ue({name:"lvCustID",control:n.control}),d=Gr(u,300),p=Ue({name:"lvCustName",control:n.control}),m=Gr(p,300),f=Ue({name:"lvTel",control:n.control}),h=Gr(f,300),g=Ue({name:"lvID",control:n.control}),x=Gr(g,300);En(()=>{e.loadList()},[]),mn(()=>{s.uncheckAll(),t({params:{...i2t.transformAsQueryParams({lvEDate:c,lvCustId:d,lvCustName:m,lvTel:h,lvID:x})},supressLoading:!0})},[c,d,m,h,x]);const y=a.useMemo(()=>o?o-(e.isAnyChecked?240:200):300,[e.isAnyChecked,o]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:p9,height:y,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};SEe.displayName="G02ListViewContainer";const m9=a.memo(e=>{const{onCustomerChange:t,...n}=e;return r.jsx(Pt,{...n,children:r.jsxs(Vt,{container:!0,spacing:1,children:[r.jsx(Vt,{item:!0,lg:2.5,children:r.jsx(et,{name:"lvEDate",label:" ",fullWidth:!0,validate:!0,clearable:!0})}),r.jsx(Vt,{item:!0,lg:2.5,children:r.jsx(ho,{forNew:!0,name:"lvCustID",forId:!0,disableOpenOnInput:!0,onChanged:t,slotProps:{paper:{sx:{width:360}}}})}),r.jsx(Vt,{item:!0,lg:2.5,children:r.jsx($e,{name:"lvCustName",label:"",size:"small",fullWidth:!0,clearable:!0})}),r.jsx(Vt,{item:!0,lg:2.5,children:r.jsx($e,{name:"lvTel",label:"",size:"small",fullWidth:!0,clearable:!0})}),r.jsx(Vt,{item:!0,lg:2,children:r.jsx($e,{name:"lvID",label:"",size:"small",fullWidth:!0,clearable:!0})})]})})});m9.propTypes={onCustomerChange:l.func};m9.displayName="G02SearchForm";const vEe=e=>{const{...t}=e,n=vt(`
		lvEDate,
		lvCustID,
		lvCustName,
		lvTel,
		lvID
		`),o=Ke(),s=a.useCallback(i=>{o.setValue("lvCustName",(i==null?void 0:i.AbbrName)??"")},[o]);return r.jsx(Ct,{...n,children:r.jsx(m9,{onCustomerChange:s,...t})})};vEe.displayName="G02SearchFormContainer";const jEe=()=>{const e=at();return r.jsx(Ye,{...e,children:r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(vEe,{}),r.jsx(CEe,{}),r.jsx(l9,{}),r.jsx(SEe,{}),r.jsx(a9,{})]})})};jEe.displayName="G02FrameContainer";const l2t=()=>{var A,F;const e=a.useContext(cr),{token:t,operator:n}=a.useContext(Be),o=a.useContext(ln),s=a.useContext(Xc),i=Bt({moduleId:"G02"}),c=a.useContext(Sn),u=Un(),{httpGetAsync:d,httpPostAsync:p}=Zn(),m=a.useContext(Mr),f=so({url:"v1/sales/recv-accounts",bearer:t,initialFetchSize:50}),h=a.useContext(Xc),g=a.useCallback(_=>{console.log("onSearchSubmit",_)},[]),x=a.useCallback(_=>{console.error("onSearchSubmitError",_)},[]),y=a.useMemo(()=>`${o.REPORT_URL}/WebG02Rep.aspx`,[o.REPORT_URL]),D=yn(),v=Or(),T=a.useCallback(async()=>{const _=f.getItemDataByIndex(h.checked);console.log("handleWriteOff",_);try{v.start();const{status:L,error:K}=await p({url:"v1/sales/recv-accounts",data:_,bearer:t});if(L.success)h.uncheckAll(),v.clear(),f.loadList({refresh:!0,supressLoading:!0}),ae.success("");else throw K||""}catch(L){v.fail({error:L}),ae.error("",L)}},[p,f,h,t,v]),I=a.useCallback(()=>{if(!h.checked.length){ae.error("");return}m.confirm({message:` ${h.checked.length} ?`,onConfirm:T})},[m,T,h.checked.length]),P=a.useCallback(async _=>{var Q;console.log("onPrintSubmit",_);const{status:L,payload:K,error:z}=await d({bearer:t,url:"v1/sales/recv-accounts",params:{...s.paramsRef.current,np:1}});if(L.success){if(console.log("payload",K.data),!((Q=K.data)!=null&&Q.length)){ae.error("",{position:"top-right"});return}}else{ae.error("",z);return}const J={..._.outputType&&{Action:_.outputType.id},DeptID:n==null?void 0:n.CurDeptID,JobName:"G01",G02_S:K.data??[]};console.log("data",J),D.open(y,J)},[d,s.paramsRef,n==null?void 0:n.CurDeptID,y,D,t]),E=a.useCallback(_=>{console.error("onPrintSubmitError",_)},[]),k=a.useCallback(async _=>{var Q,V,W;console.log("onPrintSubmit",_);const{status:L,payload:K,error:z}=await d({bearer:t,url:"v1/sales/recv-accounts",params:{...s.paramsRef.current,np:1}});if(L.success){if(console.log("payload",K.data),!((Q=K.data)!=null&&Q.length)){ae.error("",{position:"top-right"});return}}else{ae.error("",z);return}const J={..._.outputType&&{Action:_.outputType.id},DeptID:n==null?void 0:n.CurDeptID,JobName:"G01",G02_S:K.data??[]};u.show({data:J,url:y,title:`${(V=c.menuItemSelected)==null?void 0:V.JobID} ${(W=c.menuItemSelected)==null?void 0:W.JobName}`})},[(A=c.menuItemSelected)==null?void 0:A.JobID,(F=c.menuItemSelected)==null?void 0:F.JobName,u,d,s.paramsRef,n==null?void 0:n.CurDeptID,y,t]),w=a.useMemo(()=>f.getItemDataByIndex(h.checked),[f,h.checked]);return{...e,...f,...i,onSearchSubmit:g,onSearchSubmitError:x,onPrintSubmit:P,onPrintSubmitError:E,onDebugPrintSubmit:k,handleWriteOff:T,confirmWriteOff:I,...h,checked:w}},IEe=({children:e})=>{const t=l2t();return r.jsx(ng.Provider,{value:{...t},children:e})};IEe.propTypes={children:l.oneOfType([l.array,l.object])};const c2t=Object.freeze({CREATE:"CREATE",DELETE:"DELETE",RECOVER:"RECOVER"}),u2t=e=>{const{AccYM:t,Stage:n,RecGroup:o,CutDate:s,CustID:i}=e;return{AccYM:Re.formatYearMonth(t)??"",CutDate:Re.formatDate(s)??"",CustID:(i==null?void 0:i.CustID)??"",Stage:n,RecGroup:o}},d2t=e=>{const{delYM:t,delSession:n,delRecGroup:o,delCustID:s,Stage:i}=e;return{AccYM:Re.formatYearMonth(t)??"",Stage:i||((n==null?void 0:n.Stage)!=null?n.Stage:n||""),RecGroup:o??"",CustID:(s==null?void 0:s.CustID)??"",CutDate:"",CustData_N:""}},p2t=e=>{const{recYM:t,recSession:n,recStage:o}=e;return{AccYM:Re.formatYearMonth(t)??"",Stage:o??((n==null?void 0:n.Stage)!=null?n.Stage:"")}},qp={Tabs:c2t,transformForSubmitting:u2t,transformForDeleteSubmitting:d2t,transformForRecoverSubmitting:p2t},FN=a.createContext(),TEe=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(FN),s=Ke(),i=a.useMemo(()=>s.handleSubmit(o.onSubmit,o.onSubmitErrort),[o.onSubmit,o.onSubmitErrort,s]);return r.jsx(dt,{responsive:!0,ref:t,variant:"contained",startIcon:r.jsx(Ao,{}),onClick:i,sx:{fontWeight:600},loading:o.createWorking,...n,children:""})}));TEe.displayName="G04CreateBatchButtonContainer";const OEe=e=>{const{...t}=e;return r.jsxs(ga,{value:qp.Tabs.CREATE,...t,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:7,children:r.jsx(et,{name:"AccYM",label:"",fullWidth:!0,validate:!0,autoFocus:!0,views:["year","month"],format:"yyyy/MM",required:!0,placeholder:"/"})}),r.jsx(j,{item:!0,xs:12,sm:5,children:r.jsx($e,{name:"Stage",label:"",size:"small",clearable:!0,type:"number",fullWidth:!0,required:!0,rules:{required:""}})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(et,{name:"CutDate",label:"",clearable:!0,validate:!0,fullWidth:!0,required:!0})}),r.jsx(j,{item:!0,xs:12,children:r.jsx($e,{name:"RecGroup",label:"",size:"small",clearable:!0,type:"number",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(ho,{name:"CustID",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,fullWidth:!0})}),r.jsx(ve,{fullWidth:!0})]}),r.jsx(Ns,{mt:2,children:r.jsx(PN,{borderBottom:!1,rightComponents:r.jsx(r.Fragment,{children:r.jsx(TEe,{})})})})]})};OEe.displayName="G04CreateTab";const f9=e=>{const{label:t="",forId:n,sessName:o="session",clearValueOnChange:s=!0,clearOptionsOnChange:i=!0,...c}=e,{token:u}=a.useContext(Be),d=Ke(),p=Ue({name:o,control:d.control}),m=a.useMemo(()=>Hr.stringify({tp:1e4,ym:p==null?void 0:p.AccYM,sess:p==null?void 0:p.Stage}),[p==null?void 0:p.AccYM,p==null?void 0:p.Stage]),f=a.useCallback((P,E)=>bs.isOptionEqualToValue(P,E),[]),h=a.useCallback(P=>P.data,[]),g=a.useCallback(P=>bs.getTitle(P),[]),x=a.useCallback(P=>bs.stringify(P),[]),y=a.useCallback(P=>n?bs.getOptionLabelForId(P):bs.getOptionLabel(P),[n]),D=a.useCallback(P=>bs.getOptionKey(P),[]),v=a.useCallback(P=>bs.renderOptionLabel(P),[]),T=a.useMemo(()=>"v1/sales/recv-account/current-customers",[]),I=a.useMemo(()=>" ${input} ",[]);return r.jsx(bt,{bearer:u,url:T,label:t,queryParam:"qs",querystring:m,getOptionLabel:y,isOptionEqualToValue:f,renderOptionLabel:v,getOptions:h,getTitle:g,stringify:x,getOptionKey:D,notFoundText:I,typeToSearchText:"...",clearValueOnChange:s,clearOptionsOnChange:i,...c})};f9.displayName="RecvAcctCurrentCustomerPicker";f9.propTypes={label:l.string,placeholder:l.string,ym:l.string,sess:l.string,clearOnChange:l.bool,clearOptionsOnChange:l.bool,clearValueOnChange:l.bool,forId:l.bool,sessName:l.string.isRequired};const MN=a.memo(a.forwardRef((e,t)=>{const{children:n,...o}=e;return r.jsx(ys,{ref:t,xs:24,sm:16,...o,children:n})}));MN.propTypes={children:l.oneOfType([l.node,l.array])};MN.displayName="G05YMColumn";const _N=a.memo(a.forwardRef((e,t)=>{const{children:n,...o}=e;return r.jsx(ys,{ref:t,xs:24,sm:8,...o,children:r.jsx(ve,{justifyContent:"flex-end",children:n})})}));_N.propTypes={children:l.oneOfType([l.node,l.array])};_N.displayName="RecvAccountSessionColumn";const mO=a.memo(()=>r.jsxs(Tf,{children:[r.jsx(MN,{header:!0,children:""}),r.jsx(_N,{header:!0,children:""})]}));mO.propTypes={sx:l.oneOfType([l.object,l.array])};mO.displayName="RecvAccountSessionGridHeader";const fO=a.memo(a.forwardRef((e,t)=>{const{value:n}=e;return r.jsxs(j,{ref:t,container:!0,columns:24,spacing:2,children:[r.jsx(MN,{children:n.AccYM}),r.jsx(_N,{children:n.Stage})]})}));fO.propTypes={value:l.object};fO.displayName="RecvAccountSessionGridRow";const m2t=e=>{if(!e)return"";const{AccYM:t,Stage:n}=e;return t?`${t} ${n}`:"(?)"},f2t=e=>{if(Oo.isObject(e)){const{Stage:t}=e;return t||""}return e||""},h2t=(e,t)=>e.AccYM===t.AccYM&&e.Stage===t.Stage,g2t=(e,t)=>(t==null?void 0:t.AccYM)!=null?e.AccYM===t.AccYM&&e.Stage===t.Stage:e.Stage===t.Stage,Jl={getOptionLabel:m2t,isOptionEqualToValue:h2t,getOptionLabelForSession:f2t,isOptionEqualToValueForSession:g2t},h9=e=>{const{label:t="",forSession:n=!1,...o}=e,{token:s}=a.useContext(Be),i=a.useMemo(()=>{const c={tp:1e3};return Hr.stringify(c)},[]);return r.jsx(bt,{label:t,bearer:s,url:"v1/sales/recv-account/current-sessions",queryParam:"qs",querystring:i,getOptionLabel:n?Jl.getOptionLabelForSession:Jl.getOptionLabel,isOptionEqualToValue:n?Jl.isOptionEqualToValueForSession:Jl.isOptionEqualToValue,freeSolo:n,forcePopupIcon:!0,optionLabelSize:"md",GridHeaderComponent:mO,GridRowComponent:fO,notFoundText:" ${input} ",disableOpenOnInput:!0,findByInput:!1,clearOnChange:!0,...o})};h9.propTypes={label:l.string,children:l.node,forSession:l.bool};h9.displayName="RecvAcctCurrentSessionPicker";const EEe=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(FN),s=Ke(),i=a.useMemo(()=>s.handleSubmit(o.onDeleteSubmit,o.onDeleteSubmitError),[s,o.onDeleteSubmit,o.onDeleteSubmitError]);return r.jsx(dt,{responsive:!0,ref:t,variant:"contained",startIcon:r.jsx(im,{}),color:"secondary",onClick:i,sx:{fontWeight:600},loading:o.deleteWorking,...n,children:""})}));EEe.displayName="G04DeleteButtonContainer";const g9=e=>{const{handleDelSessionChange:t,handleDelSessionInputChange:n,...o}=e;return r.jsxs(ga,{value:qp.Tabs.DELETE,...o,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:7,children:r.jsx(et,{name:"delYM",label:"",fullWidth:!0,validate:!0,autoFocus:!0,views:["year","month"],format:"yyyy/MM",placeholder:"/"})}),r.jsx(j,{item:!0,xs:5,children:r.jsx(h9,{name:"delSession",forSession:!0,label:"",fullWidth:!0,validate:!0,clearable:!0,virtualize:!0,onChanged:t,onInputChange:n})}),r.jsx(j,{item:!0,xs:12,children:r.jsx($e,{name:"delRecGroup",label:"",size:"small",clearable:!0,type:"number",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(f9,{name:"delCustID",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,fullWidth:!0,sessName:"delSession",label:""})}),r.jsx(ve,{fullWidth:!0})]}),r.jsx(jt,{mt:2,children:r.jsx(PN,{borderBottom:!1,rightComponents:r.jsx(r.Fragment,{children:r.jsx(EEe,{})})})})]})};g9.propTypes={handleDelSessionChange:l.func,handleDelSessionInputChange:l.func};g9.displayName="G04DeleteTabView";const PEe=e=>{const{...t}=e,n=Ke(),o=a.useCallback(i=>{console.log("newSession",i),i!=null&&i.AccYM&&n.setValue("delYM",Re.parseDate((i==null?void 0:i.AccYM)+"/01"))},[n]),s=a.useCallback((i,c)=>{n.setValue("Stage",c)},[n]);return r.jsx(g9,{handleDelSessionChange:o,handleDelSessionInputChange:s,...t})};PEe.displayName="G04DeleteTabContainer";const b9=a.memo(e=>{const{selectedTab:t,handleTabChange:n,...o}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx("form",{...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsx(Xt,{pt:0,children:r.jsxs(xf,{value:t,children:[r.jsx(Ns,{sx:{borderBottom:1,borderColor:"divider"},children:r.jsxs(yf,{onChange:n,children:[r.jsx(Si,{label:"",value:qp.Tabs.CREATE}),r.jsx(Si,{label:"",value:qp.Tabs.DELETE})]})}),r.jsx(OEe,{}),r.jsx(PEe,{})]})})})})})});b9.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func,selectedTab:l.string,handleTabChange:l.func,handleDelSessionChange:l.func,handleDelSessionInputChange:l.func};b9.displayName="G04Form";const REe=()=>{var f;const e=a.useContext(Be),t=Ke(),{reset:n}=t,o=a.useContext(FN),s=vt(`
			AccYM,
			Stage,
			CutDate,
			RecGroup,
			CustID,
			delYM,
			delSession,
			delRecGroup,
			delCustID,
			recYM,
			recSession,
			`),i=Ue({name:"catL",control:t.control}),c=Ue({name:"catM",control:t.control}),u=a.useCallback(h=>{switch(h.name){case"catM":return!i;case"catS":return!c;default:return!1}},[i,c]),d=t.handleSubmit(o.onSubmit,o.onSubmitError),p=t.handleSubmit(o.onDeleteSubmit,o.onDeleteSubmitError),m=a.useMemo(()=>o.selectedTab==qp.Tabs.CREATE?d:o.selectedTab==qp.Tabs.DELETE?p:null,[o.selectedTab,p,d]);return $t(["Control+Enter"],()=>setTimeout(m),{enableOnFormTags:!0}),En(async()=>{n({AccYM:new Date,CutDate:new Date,delYM:null})},[]),r.jsx(Ye,{...t,children:r.jsx(Ct,{...s,isFieldDisabled:u,children:r.jsx(b9,{selectedTab:o.selectedTab,handleTabChange:o.handleTabChange,hasRoot:(f=e.operator)==null?void 0:f.hasRoot})})})};REe.displayName="G04FormContainer";const wEe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(REe,{})]});wEe.displayName="G04Frame";const b2t=()=>{const e=a.useContext(cr),[t,n]=a.useState(qp.Tabs.CREATE),{token:o,operator:s}=a.useContext(Be),i=Bt({moduleId:"G04"}),{httpPatchAsync:c,httpPostAsync:u,httpDeleteAsync:d}=Zn(),p=a.useCallback((v,T)=>{n(T)},[]),m=a.useCallback(async v=>{console.log("onSubmit",v);const T=qp.transformForSubmitting(v);console.log("transformed data",T),e.startCreating();try{const{status:I,error:P}=await u({url:"v1/sales/recv-account/batches",data:T,bearer:o});if(I.success)e.finishedCreating(),ae.success("");else throw P??new Error("")}catch(I){e.failedCreating(),ae.error("",I)}},[e,u,o]),f=a.useCallback(v=>{console.error("onSubmitError",v)},[]),h=a.useCallback(async v=>{console.log("onDeleteSubmit",v);const T=qp.transformForDeleteSubmitting(v);console.log("transformed data",T),e.startDeleting();try{const{status:I,error:P}=await d({url:"v1/sales/recv-account/batches",data:T,bearer:o});if(I.success)e.finishedDeleting(),ae.success("");else throw P??new Error("")}catch(I){e.failedDeleting(),ae.error("",I)}},[e,d,o]),g=a.useCallback((v,T)=>{console.error("onDeleteSubmitError",v,T)},[]),x=Or(),y=a.useCallback(async v=>{console.log("onRecoverSubmit",v);const T=qp.transformForRecoverSubmitting(v);console.log("transformed data",T),x.start();try{const{status:I,error:P}=await c({url:"v1/sales/recv-account/batches/restore",data:T,bearer:o});if(I.success)x.finish(),ae.success("");else throw P??new Error("")}catch(I){x.fail(),ae.error("",I)}},[c,x,o]),D=a.useCallback((v,T)=>{console.error("onRecoverSubmitError",v,T)},[]);return{...e,...i,onSubmit:m,onSubmitError:f,onDeleteSubmit:h,onDeleteSubmitError:g,selectedTab:t,handleTabChange:p,onRecoverSubmit:y,onRecoverSubmitError:D,restoreWorking:x.working}},kEe=({children:e})=>{const t=b2t(),n=at();return r.jsx(Ye,{...n,children:r.jsx(FN.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};kEe.propTypes={children:l.oneOfType([l.array,l.element])};const AEe=a.createContext(),LN=e=>{const{label:t="",forSession:n=!1,...o}=e,{token:s}=a.useContext(Be),i=a.useMemo(()=>{const c={tp:1e3};return Hr.stringify(c)},[]);return r.jsx(bt,{label:t,bearer:s,url:"v1/sales/recv-account/batch-sessions",queryParam:"qs",querystring:i,getOptionLabel:n?Jl.getOptionLabelForSession:Jl.getOptionLabel,isOptionEqualToValue:n?Jl.isOptionEqualToValueForSession:Jl.isOptionEqualToValue,freeSolo:n,forcePopupIcon:!0,renderTagLabel:Jl.renderTagLabel,optionLabelSize:"md",GridHeaderComponent:mO,GridRowComponent:fO,notFoundText:" ${input} ",inputParam:"fz",clearOnChange:!0,...o})};LN.propTypes={label:l.string,children:l.node,forSession:l.bool};LN.displayName="RecvAcctBatchSessionPicker";const x9=[{id:1,label:""},{id:2,label:""}],NEe=e=>x9.find(t=>t.id==e),x2t=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},y2t=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),C2t=e=>x9.find(t=>t.id==e),D2t=()=>NEe(1),Nj={options:x9,getOptionLabel:x2t,isOptionEqualToValue:y2t,getOptionById:NEe,findByInput:C2t,getDefaultOption:D2t},y9=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:Nj.options,getOptionLabel:Nj.getOptionLabel,isOptionEqualToValue:Nj.isOptionEqualToValue,findByInput:Nj.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});y9.propTypes={name:l.string,label:l.string,children:l.node};y9.displayName="G05ReportTypePicker";const rD=e=>{const{label:t="",forId:n,sessName:o="session",clearValueOnChange:s=!0,clearOptionsOnChange:i=!0,...c}=e,{token:u}=a.useContext(Be),d=Ke(),p=Ue({name:o,control:d.control}),m=a.useMemo(()=>Hr.stringify({tp:1e4,ym:p==null?void 0:p.AccYM,sess:p==null?void 0:p.Stage}),[p==null?void 0:p.AccYM,p==null?void 0:p.Stage]),f=a.useCallback((P,E)=>bs.isOptionEqualToValue(P,E),[]),h=a.useCallback(P=>P.data,[]),g=a.useCallback(P=>bs.getTitle(P),[]),x=a.useCallback(P=>bs.stringify(P),[]),y=a.useCallback(P=>n?bs.getOptionLabelForId(P):bs.getOptionLabel(P),[n]),D=a.useCallback(P=>bs.getOptionKey(P),[]),v=a.useCallback(P=>bs.renderOptionLabel(P),[]),T=a.useMemo(()=>"v1/sales/recv-account/batch-customers",[]),I=a.useMemo(()=>" ${input} ",[]);return r.jsx(bt,{bearer:u,url:T,label:t,queryParam:"qs",querystring:m,getOptionLabel:y,isOptionEqualToValue:f,renderOptionLabel:v,getOptions:h,getTitle:g,stringify:x,getOptionKey:D,notFoundText:I,typeToSearchText:"...",clearValueOnChange:s,clearOptionsOnChange:i,...c})};rD.displayName="RecvAcctBatchCustomerPicker";rD.propTypes={label:l.string,placeholder:l.string,ym:l.string,sess:l.string,clearOnChange:l.bool,clearOptionsOnChange:l.bool,clearValueOnChange:l.bool,forId:l.bool,sessName:l.string.isRequired};const C9=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,onSessionChanged:o,...s}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...s,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:4,children:r.jsx(et,{name:"AccYM",label:"",fullWidth:!0,validate:!0,autoFocus:!0,views:["year","month"],format:"yyyy/MM",placeholder:"/"})}),r.jsx(j,{item:!0,xs:12,sm:3.5,children:r.jsx(LN,{name:"session",label:"",fullWidth:!0,forSession:!0,validate:!0,clearable:!0,autoFocus:!0,virtualize:!0,required:!0,rules:{required:""},onChanged:o})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(rD,{name:"SCustID",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(rD,{name:"ECustID",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(y9,{name:"RptType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:1.8,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});C9.propTypes={forNewCustomer:l.bool,readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func,onCustomerChange:l.func,onSessionChanged:l.func};C9.displayName="G05Form";const FEe=()=>{const e=Ke(),t=a.useContext(AEe),n=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(n),{enableOnFormTags:!0});const o=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]),s=Ue({name:"retail",control:e.control}),i=Ue({name:"session",control:e.control}),c=a.useCallback(d=>{e.setValue("SCustID",null),e.setValue("ECustID",null),d!=null&&d.AccYM&&e.setValue("AccYM",Re.parseDate((d==null?void 0:d.AccYM)+"/01"))},[e]),u=a.useCallback(d=>{switch(d.name){case"SCustID":case"ECustID":return!i;default:return!1}},[i]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...t.formMeta,isFieldDisabled:u,children:r.jsx(C9,{forNewCustomer:s,onSubmit:n,onDebugSubmit:o,onSessionChanged:c})})})};FEe.displayName="G05FormContainer";const MEe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(FEe,{})]});MEe.displayName="G05Frame";const S2t=e=>{if(!e)return"";const{name:t}=e;return`${t}`},v2t=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),j2t=e=>{var m,f;const{outputType:t,session:n,Stage:o,SCustID:s,ECustID:i,RptType:c,retail:u,AccYM:d,...p}=e;return console.log("ignore props",u),{JobName:"G05",Action:((m=t==null?void 0:t.id)==null?void 0:m.toString())||"",AccYM:Re.formatYearMonth(d)??"",Stage:o||((n==null?void 0:n.Stage)!=null?n.Stage:n||""),...s&&{SCustID:s==null?void 0:s.CustID},...i&&{ECustID:i==null?void 0:i.CustID},RptType:(f=c.id)==null?void 0:f.toString(),...p}},tce={transformForSubmitting:j2t,getOptionLabel:S2t,isOptionEqualToValue:v2t},I2t=()=>{var h,g;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"G05"}),s=a.useContext(Sn),i=Un(),c=vt(`
		AccYM,
		session,
		SCustID,
		ECustID,
		RptType,
		outputType,
		`),u=a.useMemo(()=>`${e.REPORT_URL}/WebG05Rep.aspx`,[e.REPORT_URL]),d=yn(),p=a.useCallback(x=>{var D,v;console.log("onSubmit",x);const y={...tce.transformForSubmitting(x),DeptId:n.CurDeptID};i.show({data:y,url:u,title:`${(D=s.menuItemSelected)==null?void 0:D.JobID} ${(v=s.menuItemSelected)==null?void 0:v.JobName}`})},[(h=s.menuItemSelected)==null?void 0:h.JobID,(g=s.menuItemSelected)==null?void 0:g.JobName,i,n.CurDeptID,u]),m=a.useCallback(x=>{console.log("onSubmit",x);const y={...tce.transformForSubmitting(x),DeptId:n.CurDeptID};console.log("data",y),d.open(u,y)},[n.CurDeptID,u,d]),f=a.useCallback(x=>{console.error("onSubmitError",x)},[]);return{...o,onSubmit:m,onSubmitError:f,onDebugSubmit:p,formMeta:c}},_Ee=({children:e})=>{const t=I2t(),n=at({defaultValues:{RptType:Nj.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(AEe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};_Ee.propTypes={children:l.oneOfType([l.array,l.element])};const xu=a.createContext(),T2t=e=>e.map(({RcvDate:t,...n})=>({RcvDate:t,...n})),O2t=e=>e.map(({BankID:t,BankData_N:n,DueDate:o,...s})=>({BankID:{CodeID:t,CodeData:n},DueDate:o,...s})),E2t=e=>e.map(({DocID:t,DocType:n,DocDate:o,WoNotes:s,...i})=>({DocID:{DocID:t,DocType:n},DocDate:o,WoNotes:s==="Y",...i})),P2t=e=>{const{CustID:t,PreAmt:n,RcvAmt:o,CollAmt:s,RemAmt:i,CashAmt:c,DnsAmt:u,ChkAmt:d,CutAmt:p,CustData_N:m,RcvCash_S:f,RcvChk_S:h,RcvDoc_S:g,...x}=e;return{CustID:{CustID:t,CustData:m},PreAmt:Re.parseNumber(n),RcvAmt:Re.parseNumber(o),CollAmt:Re.parseNumber(s),RemAmt:Re.parseNumber(i),CashAmt:Re.parseNumber(c),DnsAmt:Re.parseNumber(u),ChkAmt:Re.parseNumber(d),CutAmt:Re.parseNumber(p),DiffAmt:Re.parseNumber(s)-Re.parseNumber(p),cashGridData:T2t(f),chkGridData:O2t(h),docGridData:E2t(g),...x}},R2t=e=>e.filter(t=>t.RcvDate).map(({RcvDate:t,CashAmt:n,DnsAmt:o,...s})=>({RcvDate:t||"",CashAmt:(n==null?void 0:n.toString())||"",DnsAmt:(o==null?void 0:o.toString())||"",...s})),w2t=e=>e.filter(t=>t.ChkAmt).map(({ChkAmt:t,BankID:n,...o})=>({ChkAmt:(t==null?void 0:t.toString())||"",BankID:(n==null?void 0:n.CodeID)||"",...o})),k2t=e=>e.filter(t=>t.DocID).map(({DocID:t,SalAmt:n,RetAmt:o,AdjAmt:s,WoNotes:i,...c})=>({DocID:(t==null?void 0:t.DocID)||"",DocType:(t==null?void 0:t.DocType)||"",SalAmt:(n==null?void 0:n.toString())||"",RetAmt:(o==null?void 0:o.toString())||"",AdjAmt:(s==null?void 0:s.toString())||"",WoNotes:i?"Y":"",...c})),A2t=(e,t,n,o)=>{const{BankID:s,CustID:i,cashGridData:c,chkGridData:u,docGridData:d,...p}=e;return console.log("ignore props",c,u,d),{BankID:(s==null?void 0:s.CodeID)||"",CustID:(i==null?void 0:i.CustID)||"",CustData_N:(i==null?void 0:i.CustData)||"",...p,RcvCash_S:R2t(t),RcvChk_S:w2t(n),RcvDoc_S:k2t(o)}},N2t=e=>Gn.isAnyPropNotEmpty(e,"lvId,lvName,lvBank"),F2t=e=>{const{lvId:t,lvName:n,lvBank:o,...s}=e;return{si:t,sn:n,...o&&{bank:o==null?void 0:o.CodeID},...s}},M2t=e=>{const t=[];return e!=null&&e.si&&t.push({ShowName:"",OpCode:"LIKE",CondData:"%"+e.si+"%"}),e!=null&&e.sn&&t.push({ShowName:"",OpCode:"LIKE",CondData:"%"+e.sn+"%"}),e!=null&&e.bank&&t.push({ShowName:"",OpCode:"=",CondData:e.bank}),{StdWhere:t,...(e==null?void 0:e.qs)&&{CondData:{QS_ID:`${e.qs}%`,QS_NAME:`%${e.qs}%`}}}},_2t=({AccYM:e,Stage:t,CustID:n})=>`${e}#${t}#${n}`,L2t=e=>{var t;return`${e==null?void 0:e.AccYM}${e==null?void 0:e.Stage}-${((t=e.CustID)==null?void 0:t.CustData)||e.CustData_N}`},Ch={transformForReading:P2t,transformForEditorSubmit:A2t,paramsToJsonData:M2t,isFiltered:N2t,transformAsQueryParams:F2t,buildId:_2t,buildName:L2t},$2t=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),D9=a.memo(e=>{const{readOnly:t=!1,gridRef:n,data:o,columns:s,onActiveCellChange:i,height:c=600,...u}=e;return o?(o==null?void 0:o.length)===0&&t?r.jsx(nn,{variant:"body2",color:"text.secondary",children:"()"}):r.jsx(dr,{ref:n,rowKey:"id",lockRows:t,height:c,value:o,onActiveCellChange:i,columns:s,addRowsComponent:go,disableExpandSelection:!0,contextMenuComponent:$2t,...u}):r.jsx(nn,{variant:"body2",color:"text.secondary",children:"()"})});D9.propTypes={readOnly:l.bool,gridRef:l.func,onActiveCellChange:l.func,data:l.array,columns:l.array,height:l.oneOfType([l.string,l.number])};D9.displayName="ProdTransGrid";const S9=e=>{const{...t}=e,n=a.useContext(xu),o=Ke(),s=a.useMemo(()=>n.cashGridDisabled,[n.cashGridDisabled]),i=a.useMemo(()=>240,[]),c=a.useMemo(()=>[{...Pe.keyColumn("RcvDate",mf),title:"",minWidth:110,maxWidth:110,disabled:s},{...Pe.keyColumn("CashAmt",Jn(2)),title:"",minWidth:90,grow:1,disabled:s},{...Pe.keyColumn("DnsAmt",Jn(2)),title:"",minWidth:90,grow:1,disabled:s}],[s]),u=hr({data:n.cashGrid.gridData,columns:c,skipDisabled:!0,lastCell:Xn.CREATE_ROW}),d=a.useMemo(()=>n.cashGrid.buildGridChangeHandler({getValues:o.getValues,setValue:o.setValue,gridMeta:u,onUpdateRow:n.onUpdateCashRow,onGridChanged:n.onCashGridChanged}),[u,o.getValues,o.setValue,n.cashGrid,n.onCashGridChanged,n.onUpdateCashRow]);return r.jsx(Kn.Provider,{value:{...n.cashGrid,...u,readOnly:!n.editing},children:r.jsx(D9,{gridRef:u.setGridRef,readOnly:n.cashGridDisabled,columns:u.columns,data:n.cashGrid.gridData,onChange:d,onActiveCellChange:u.handleActiveCellChange,height:i,createRow:n.createCashRow,...t})})};S9.propTypes={store:l.bool};S9.displayName="ProdTransGridContainer";const B2t=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),v9=a.memo(e=>{const{readOnly:t=!1,gridRef:n,data:o,columns:s,onActiveCellChange:i,height:c=600,...u}=e;return o?(o==null?void 0:o.length)===0&&t?r.jsx(nn,{variant:"body2",color:"text.secondary",children:"()"}):r.jsx(dr,{ref:n,rowKey:"id",lockRows:t,height:c,value:o,onActiveCellChange:i,columns:s,addRowsComponent:go,disableExpandSelection:!0,contextMenuComponent:B2t,createRow:Ch.createChkRow,...u}):r.jsx(nn,{variant:"body2",color:"text.secondary",children:"()"})});v9.propTypes={readOnly:l.bool,gridRef:l.func,onActiveCellChange:l.func,data:l.array,columns:l.array,height:l.oneOfType([l.string,l.number])};v9.displayName="G06ChkGrid";const W2t=(e,t)=>Gn.arePropsEqual(e,t,{fields:"rowData.CodeID,active,disabled,focus"}),$N=a.memo(e=>{const{columnData:t,rowData:n,setRowData:o,rowIndex:s,columnIndex:i,active:c,focus:u,disabled:d,stopEditing:p,insertRowBelow:m}=e,f=qD({insertRowBelow:m}),h=n2({column:{rowIndex:s,rowData:n,columnIndex:i,focus:u,active:c,disabled:d,setRowData:o,stopEditing:p},columnData:t,cellFocus:f});return r.jsx(au,{queryParam:"qs",...h})},W2t);$N.propTypes={name:l.string,rowData:l.oneOfType([l.string,l.number,l.object]),setRowData:l.func,rowIndex:l.number,columnIndex:l.number,columnData:l.object,active:l.bool,focus:l.bool,disabled:l.bool,stopEditing:l.func,insertRowBelow:l.func,duplicateRow:l.func,deleteRow:l.func,getContextMenuItems:l.func};$N.propTypes={};$N.displayName="BankPickerCell";const j9=e=>{const{...t}=e,n=a.useContext(xu),o=Ke(),s=a.useMemo(()=>n.chkGridDisabled,[n.chkGridDisabled]),i=a.useMemo(()=>240,[]),c=a.useMemo(()=>[{...Pe.keyColumn("ChkAmt",Jn(2)),title:"",minWidth:130,disabled:s},{...Pe.keyColumn("BankID",or($N,{name:"BankID",disableOpenOnInput:!0,disableClearable:!0,selectOnFocus:!0,autoHighlight:!0,slotProps:{paper:{sx:{width:340}}}})),title:"",minWidth:160,maxWidth:160,disabled:s},{...Pe.keyColumn("BankAcct",kt()),title:"",disabled:s,minWidth:120},{...Pe.keyColumn("ChkNo",kt()),title:"",disabled:s,minWidth:120,maxWidth:120},{...Pe.keyColumn("DueDate",mf),title:"",minWidth:110,maxWidth:110,disabled:s},{...Pe.keyColumn("IssueDate",mf),title:"",minWidth:110,maxWidth:110,disabled:s}],[s]),u=hr({data:n.chkGrid.gridData,columns:c,skipDisabled:!0,lastCell:Xn.CREATE_ROW}),d=a.useMemo(()=>n.chkGrid.buildGridChangeHandler({getValues:o.getValues,setValue:o.setValue,gridMeta:u,onUpdateRow:n.onUpdateChkRow,onGridChanged:n.onChkGridChanged}),[u,o.getValues,o.setValue,n.chkGrid,n.onChkGridChanged,n.onUpdateChkRow]);return r.jsx(Kn.Provider,{value:{...n.cmsGrid,...u,readOnly:!n.editing},children:r.jsx(v9,{gridRef:u.setGridRef,readOnly:n.cashGridDisabled,columns:u.columns,data:n.chkGrid.gridData,onChange:d,onActiveCellChange:u.handleActiveCellChange,height:i,createRow:n.createChkRow,...t})})};j9.propTypes={store:l.bool};j9.displayName="G06ChkGridContainer";const U2t=e=>{if(!e)return"";const{DocID:t}=e;return[t||""].filter(Boolean).join(" ")},q2t=e=>{if(!e)return"";const{DocID:t}=e;return`${t}`},V2t=(e,t)=>(e==null?void 0:e.DocID)===(t==null?void 0:t.DocID),z2t=e=>e==null?void 0:e.DocID,cj={getOptionLabel:U2t,getOptionLabelForId:q2t,isOptionEqualToValue:V2t,getOptionKey:z2t},I9=a.memo(e=>{const{label:t="",forId:n=!1,...o}=e,s=a.useContext(Be),i=a.useMemo(()=>Hr.stringify({opts:1}),[]),c=a.useCallback(u=>n?cj.getOptionLabelForId(u):cj.getOptionLabel(u),[n]);return r.jsx(bt,{label:t,url:"v1/sales/recv-account/docs",bearer:s.token,getOptionLabel:c,stringify:cj.getOptionLabel,renderOptionLabel:cj.getOptionLabel,isOptionEqualToValue:cj.isOptionEqualToValue,querystring:i,notFoundText:"/ ${input} ",noOptionsText:"/",blurToLookup:!0,...o})});I9.propTypes={label:l.string,uid:l.string,scope:l.number,excludesSelf:l.bool,forId:l.bool};I9.displayName="RecvAcctDocPicker";const H2t=(e,t)=>Gn.arePropsEqual(e,t,{fields:"rowData.DocID,active,disabled,focus"}),BN=a.memo(e=>{const{rowData:t,setRowData:n,rowIndex:o,columnIndex:s,columnData:i,active:c,focus:u,disabled:d,stopEditing:p,insertRowBelow:m}=e,f=a.useRef(t);f.current=t;const{name:h,hideControlsOnActive:g,selectOnFocus:x,multiple:y,...D}=i,{handleFocusNextCell:v,skipDisabled:T,readOnly:I,focusOnDisabled:P,inDSG:E}=qD({insertRowBelow:m}),k=zi({name:h,rowIndex:o,rowData:t,columnIndex:s,focus:u,active:c,disabled:d,hideControlsOnActive:g,selectOnFocus:x,setRowData:n,stopEditing:p,readOnly:I,skipDisabled:T,handleFocusNextCell:v,focusOnDisabled:P,multiple:y});return r.jsx(I9,{queryParam:"qs",inDSG:E,...k,...D})},H2t);BN.propTypes={name:l.string,rowData:l.oneOfType([l.string,l.number,l.object]),setRowData:l.func,rowIndex:l.number,columnIndex:l.number,columnData:l.object,active:l.bool,focus:l.bool,disabled:l.bool,stopEditing:l.func,insertRowBelow:l.func,duplicateRow:l.func,deleteRow:l.func,getContextMenuItems:l.func};BN.propTypes={};BN.displayName="RecvAcctDocPickerCell";const G2t=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),T9=a.memo(e=>{const{readOnly:t=!1,canCreate:n=!1,gridRef:o,data:s,columns:i,onActiveCellChange:c,height:u=600,...d}=e;return s?(s==null?void 0:s.length)===0&&t?r.jsx(nn,{variant:"body2",color:"text.secondary",children:"()"}):r.jsx(dr,{ref:o,rowKey:"id",lockRows:!0,height:u,value:s,onActiveCellChange:c,columns:i,addRowsComponent:n?go:null,disableExpandSelection:!0,contextMenuComponent:G2t,createRow:Ch.createCashRow,...d}):r.jsx(nn,{variant:"body2",color:"text.secondary",children:"()"})});T9.propTypes={readOnly:l.bool,canCreate:l.bool,gridRef:l.func,onActiveCellChange:l.func,data:l.array,columns:l.array,height:l.oneOfType([l.string,l.number])};T9.displayName="G06DocGrid";const O9=e=>{const{...t}=e,n=a.useContext(xu),o=Ke(),s=a.useMemo(()=>n.docGridDisabled,[n.docGridDisabled]),i=a.useMemo(()=>240,[]),c=a.useMemo(()=>[{...Pe.keyColumn("DocID",or(BN,{name:"DocID",disableOpenOnInput:!0,disableClearable:!0,selectOnFocus:!0,autoHighlight:!0,forId:!0,slotProps:{paper:{sx:{width:340}}}})),title:"/",minWidth:160,maxWidth:160,disabled:!0},{...Pe.keyColumn("DocDate",mf),title:"",minWidth:110,maxWidth:110,disabled:!0},{...Pe.keyColumn("SalAmt",Jn(2)),title:"",minWidth:90,disabled:!0},{...Pe.keyColumn("RetAmt",Jn(2)),title:"",minWidth:90,disabled:!0},{...Pe.keyColumn("AdjAmt",Jn(2)),title:"",minWidth:90,disabled:!0},{...Pe.keyColumn("WoNotes",Wi({size:"medium"})),title:"",minWidth:38,maxWidth:38,disabled:s}],[s]),u=hr({data:n.docGrid.gridData,grid:n.docGrid,columns:c,skipDisabled:!0,lastCell:Xn.CREATE_ROW,createRow:n.createDocRow,setValue:o.setValue}),d=a.useMemo(()=>n.docGrid.buildGridChangeHandler({getValues:o.getValues,setValue:o.setValue,gridMeta:u,onGridChanged:n.onDocGridChanged}),[u,o.getValues,o.setValue,n.docGrid,n.onDocGridChanged]);return r.jsx(Kn.Provider,{value:{...n.docGrid,...u,readOnly:!n.editing},children:r.jsx(T9,{gridRef:u.setGridRef,readOnly:n.docGridDisabled,columns:u.columns,data:n.docGrid.gridData,onChange:d,onActiveCellChange:u.handleActiveCellChange,height:i,createRow:n.createDocRow,...t})})};O9.propTypes={store:l.bool};O9.displayName="G06DocGridContainer";const TL=e=>{const{...t}=e;return r.jsx(pn,{slotProps:{value:{ml:2},negativeValue:{ml:1}},...t})},E9=a.memo(e=>{const{data:t,readWorking:n,readError:o,itemDataReady:s,editing:i,updating:c,slotProps:u,...d}=e;return r.jsxs("form",{...d,children:[n&&r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",minHeight:"30em",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}),o&&r.jsx(lo,{error:o,...u==null?void 0:u.error}),s&&r.jsxs(Pt,{pt:1,children:[r.jsxs(Xt,{children:[r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:12,sm:12,md:2,children:r.jsx(pn,{name:"AccYM",label:""})}),r.jsx(j,{item:!0,xs:12,sm:12,md:1,children:r.jsx(pn,{name:"Stage",label:""})}),r.jsx(j,{item:!0,xs:12,sm:12,md:6,children:r.jsx(ho,{typo:!0,name:"CustID",...d,disableOpenOnInput:!0,editing:!1})})]}),r.jsx(jt,{mt:2,children:r.jsxs(j,{container:!0,children:[r.jsx(j,{item:!0,xs:2,children:r.jsx(pn,{name:"PreAmt",label:"",stringify:Re.formatMoney})}),r.jsx(j,{item:!0,xs:2,children:r.jsx(TL,{name:"RcvAmt",label:"",stringify:Re.formatMoney})}),r.jsx(j,{item:!0,xs:2,children:r.jsx(TL,{name:"CollAmt",label:"",stringify:Re.formatMoney})}),r.jsx(j,{item:!0,xs:2,children:r.jsx(TL,{name:"RemAmt",label:"",stringify:Re.formatMoney})}),r.jsx(j,{item:!0,xs:2,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(pn,{name:"DiffAmt",label:"[]",stringify:Re.formatMoney})})}),r.jsx(j,{item:!0,xs:2,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(pn,{name:"CutDate",label:"[]"})})})]})})]}),r.jsx(Ws,{children:""}),r.jsx(Xt,{editing:i,children:r.jsxs(j,{container:!0,spacing:1,children:[r.jsx(j,{item:!0,xs:12,sm:12,md:6,children:r.jsx(S9,{})}),r.jsx(j,{item:!0,xs:12,sm:12,md:2,children:r.jsx(ve,{justifyContent:"center",pt:0,children:r.jsx(pn,{name:"CashAmt",label:"",stringify:Re.formatMoney})})}),r.jsx(j,{item:!0,xs:12,sm:12,md:2,children:r.jsx(ve,{justifyContent:"center",pt:0,children:r.jsx(pn,{name:"DnsAmt",label:"",stringify:Re.formatMoney})})}),r.jsx(j,{item:!0,xs:12,sm:12,md:2,children:r.jsx(ve,{justifyContent:"center",pt:0,children:r.jsx(pn,{name:"ChkAmt",label:"",stringify:Re.formatMoney})})})]})}),r.jsx(Ws,{children:""}),r.jsx(Xt,{editing:i,children:r.jsx(j9,{})}),r.jsx(Ws,{children:"/"}),r.jsxs(Xt,{editing:i,pb:0,children:[r.jsx(O9,{}),r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(pn,{name:"CutAmt",label:"",inline:!0,stringify:Re.formatMoney})})]})]})]})});E9.propTypes={data:l.object,readWorking:l.bool,itemDataReady:l.bool,editing:l.bool,updating:l.bool,store:l.bool,readError:l.object,slotProps:l.object};E9.displayName="G06Form";const P9=a.memo(a.forwardRef((e,t)=>{const{onSave:n,onCancel:o,loading:s,...i}=e;return r.jsxs(a.Fragment,{ref:t,...i,children:[r.jsx(dt,{responsive:!0,onClick:o,color:"warning",variant:"outlined",...i,children:""}),r.jsx(dt,{responsive:!0,onClick:n,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:s,children:""})]})}));P9.displayName="G06DialogEditButtons";P9.propTypes={onSave:l.func,loading:l.bool};const R9=e=>{var o;const{...t}=e,n=a.useContext(xu);return(o=n.itemData)!=null&&o.CutNotes||!n.canDelete?!1:r.jsx(dt,{responsive:!0,startIcon:r.jsx(Fs,{}),color:"secondary",onClick:n.confirmDelete,...t,children:""})};R9.propTypes={};R9.displayName="G06DeleteButton";const w9=e=>{var o;const{...t}=e,n=a.useContext(xu);return(o=n.itemData)!=null&&o.CutNotes||!n.canUpdate?!1:r.jsx(dt,{startIcon:r.jsx(bo,{}),color:"primary",onClick:n.promptUpdating,...t,children:""})};w9.propTypes={};w9.displayName="G06EditButton";const LEe=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,onDelete:o,onSideDrawerOpen:s,...i}=e;return r.jsxs(a.Fragment,{ref:t,...i,children:[r.jsx(R9,{}),r.jsx(w9,{}),r.jsx(jr,{title:"",children:r.jsx(br,{onClick:s,size:"small",children:r.jsx(Po,{})})})]})}));LEe.propTypes={onEdit:l.func,onDelete:l.func,onSideDrawerOpen:l.func};const $Ee=e=>{const{...t}=e,n=a.useContext(xu),o=Ke();return n.itemDataReady?n.editing?r.jsx(P9,{onSave:o.handleSubmit(n.onEditorSubmit,n.onEditorSubmitError),onCancel:n.updating?n.confirmReturn:n.confirmQuitCreating,loading:n.editWorking,...t}):r.jsx(LEe,{onEdit:n.canUpdate?n.promptUpdating:null,onDelete:n.canDelete?n.confirmDelete:null,onSideDrawerOpen:n.handleSideDrawerOpen,...t}):!1};$Ee.displayName="G06DialogButtonsContainer";const k9=a.memo(e=>{var s,i,c,u;const{anchor:t="right",...n}=e,o=a.useContext(xu);return r.jsxs(Eo,{anchor:t,open:o.sideDrawerOpen,onClose:o.handleSideDrawerClose,...n,children:[((s=o.itemData)==null?void 0:s.CutNotes)&&r.jsx(pn,{label:"",children:(i=o.itemData)==null?void 0:i.CutNotes}),r.jsx(pn,{label:"",children:(c=o.itemData)==null?void 0:c.WriteDate_N}),r.jsx(pn,{label:"",children:(u=o.itemData)==null?void 0:u.Writer_N})]})});k9.propTypes={anchor:l.string};k9.displayName="G06Drawer";const BEe=a.forwardRef((e,t)=>{const{...n}=e,{height:o}=Wt(),s=a.useMemo(()=>o-120,[o]),i=vt(`
		FactID,
		FactData,
		AbbrName,
		Boss,
		Contact,
		Tel,
		Uniform,
		PayGroup,
		bank,
		BankAcct,
		CompAddr,
		CompTel,
		CompFax,
		TaxType,
		FactAddr,
		FactTel,
		FactFax,
		mainProd,
		remark
		`),c=at({defaultValues:{}}),{reset:u}=c,d=a.useContext(xu),p=a.useMemo(()=>d.creating?"":d.updating?"":"",[d.creating,d.updating]),m=Qr({maxHeight:s,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),f=a.useCallback(()=>{d.editing&&c.handleSubmit(d.onEditorSubmit,d.onEditorSubmitError)()},[c,d.editing,d.onEditorSubmit,d.onEditorSubmitError]);return $t(["Control+Enter"],()=>setTimeout(f),{enableOnFormTags:!0}),mn(()=>{d.itemDataReady&&(console.log("g06 form reset",d.itemData),u(d.itemData))},[d.itemData,d.itemDataReady,d.readState]),r.jsx(Ye,{...c,children:r.jsxs(Er,{title:p,ref:t,responsive:!0,fullWidth:!0,maxWidth:"md",TitleButtonsComponent:$Ee,open:d.itemViewOpen,onClose:d.editing?d.confirmDialogClose:d.cancelAction,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[m.scroller],...n,children:[r.jsx(Ct,{...i,children:r.jsx(E9,{ref:t,onSubmit:f,editing:d.editing,updating:d.updating,readWorking:d.readWorking,readError:d.readError,data:d.itemData,itemDataReady:d.itemDataReady})}),r.jsx(k9,{BackdropProps:{sx:[ur.BACKDROP_TRANSPARENT]}})]})})});BEe.displayName="G06DialogContainer";const WN=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:6,sm:2,...t})};WN.propTypes={loading:l.bool,children:l.oneOfType([l.node])};WN.displayName="G06YMColumn";const UN=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:17,sm:4,...t})};UN.propTypes={loading:l.bool,children:l.oneOfType([l.node])};UN.displayName="G06NameColumn";const qN=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:12,...t})};qN.propTypes={loading:l.bool,children:l.oneOfType([l.node])};qN.displayName="G06CustColumn";const VN=e=>{const{children:t,...n}=e;return r.jsx(wt,{item:!0,pr:1,xs:6,sm:2,...n,children:r.jsx(ve,{justifyContent:"center",children:t})})};VN.propTypes={loading:l.bool,children:l.oneOfType([l.node])};VN.displayName="G06SessionColumn";const A9=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsxs(io,{ref:t,...n,children:[r.jsx(Hn,{}),r.jsx(WN,{children:""}),r.jsx(VN,{children:""}),r.jsx(qN,{children:""}),r.jsx(UN,{children:""})]})}));A9.propTypes={};A9.displayName="G06ListHeader";const N9=a.memo(e=>{const{index:t,style:n,value:o,onClick:s}=e,{CustID:i,CustData:c,AbbrName:u}=o||{},d=a.useMemo(()=>[i,u??c].filter(Boolean).join(" "),[u,c,i]);return r.jsx("div",{style:n,children:r.jsx(yo,{borderBottom:!0,onClick:s,children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t}),r.jsx(WN,{children:o==null?void 0:o.AccYM}),r.jsx(VN,{children:o==null?void 0:o.Stage}),r.jsx(qN,{children:d}),r.jsx(UN,{children:o==null?void 0:o.UpdNotes})]})})})});N9.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func};N9.displayName="G06ListRow";const F9=e=>{var u;const{index:t,...n}=e,o=a.useContext(xu),s=a.useMemo(()=>o.listData[t],[o.listData,t]),i=a.useMemo(()=>!s,[s]),c=a.useMemo(()=>{var d;return(s==null?void 0:s.FactID)===((d=o.selectedItem)==null?void 0:d.FactID)},[(u=o.selectedItem)==null?void 0:u.FactID,s==null?void 0:s.FactID]);return r.jsx(No,{loading:i,children:r.jsx(N9,{index:t,value:s,onClick:d=>o.handleSelect(d,s),selected:c,...n})})};F9.propTypes={index:l.number,data:l.object};F9.displayName="G06ListRowContainer";const WEe=()=>{const e=a.useContext(xu),{loadList:t}=e,n=Ke(),{getValues:o,setValue:s}=n,{height:i}=Wt(),c=Ue({name:"lvSession",control:n.control}),u=Gr(c,300),d=Ue({name:"lvCust",control:n.control}),p=Gr(d,300),m=Ue({name:"lvCustName",control:n.control}),f=Gr(m,300),h=a.useMemo(()=>i?i-200:300,[i]);return En(()=>{e.loadList()},[]),mn(()=>{t({params:{...u&&{ym:u.AccYM,sess:u.Stage},...p&&{csti:p.CustID},...f&&{cstn:f}},supressLoading:!0})},[u,p,f]),r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:F9,height:h,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};WEe.displayName="G06ListViewContainer";const K2t=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(xu),{moduleAuthorityLoading:s,canCreate:i}=o,c=a.useMemo(()=>"",[]);return s||!i?!1:r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(Ao,{}),onClick:o.handlePromptCreating,sx:{fontWeight:600},...n,children:c})}));K2t.displayName="G06CreateButtonContainer";const UEe=()=>{const e=a.useContext(xu);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};UEe.displayName="G06FetchResultLabelContainer";const qEe=a.memo(()=>r.jsx(r.Fragment,{}));qEe.displayName="LeftButtons";const VEe=a.memo(a.forwardRef(({...e},t)=>r.jsx(kn,{alignItems:"flex-end",ref:t,LeftComponent:qEe,RightComponent:UEe,...e})));VEe.displayName="G06ListViewToolbar";const zN=e=>{const{label:t="",forSession:n=!1,...o}=e,{token:s}=a.useContext(Be),i=a.useMemo(()=>{const c={tp:1e3};return Hr.stringify(c)},[]);return r.jsx(bt,{label:t,bearer:s,url:"v1/sales/recv-account/rcpt-sessions",queryParam:"qs",querystring:i,getOptionLabel:n?Jl.getOptionLabelForSession:Jl.getOptionLabel,isOptionEqualToValue:n?Jl.isOptionEqualToValueForSession:Jl.isOptionEqualToValue,freeSolo:n,forcePopupIcon:!0,disableOpenOnInput:!0,renderTagLabel:Jl.renderTagLabel,optionLabelSize:"md",GridHeaderComponent:mO,GridRowComponent:fO,notFoundText:" ${input} ",inputParam:"fz",clearOnChange:!0,...o})};zN.propTypes={label:l.string,children:l.node,forSession:l.bool};zN.displayName="RecvAcctRcptSessionPicker";const M9=a.memo(e=>{const{onCustomerChange:t,onSessionChange:n,...o}=e;return r.jsx(Pt,{...o,children:r.jsxs(j,{container:!0,columns:24,spacing:1,children:[r.jsx(j,{item:!0,md:6,children:r.jsx(zN,{name:"lvSession",label:"+",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,virtualize:!0,rules:{required:"+"}})}),r.jsx(j,{item:!0,md:8,children:r.jsx(rD,{name:"lvCust",...o,disableOpenOnInput:!0,clearable:!0,onChanged:t})})]})})});M9.propTypes={onCustomerChange:l.func,onSessionChange:l.func};M9.displayName="G06ListForm";const zEe=e=>{const{...t}=e,n=vt(`
		lvSession,
		lvCust,
		`);return Ke(),r.jsx(Ct,{...n,children:r.jsx(M9,{...t})})};zEe.displayName="G06ListFormContainer";const HEe=()=>{const e=at();return r.jsx(Ye,{...e,children:r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(zEe,{}),r.jsx(VEe,{}),r.jsx(A9,{}),r.jsx(WEe,{}),r.jsx(BEe,{})]})})};HEe.displayName="G06Frame";const Q2t=({token:e})=>{const t=a.useRef(),n=a.useContext(cr),o=Bt({moduleId:"G06"}),s=Co(),{httpGetAsync:i,httpPutAsync:c,httpDeleteAsync:u}=Zn(),[d,p]=a.useState(),m=a.useContext(Mr),f=a.useRef({PreAmt:0,RcvAmt:0,CollAmt:0,RemAmt:0,CashAmt:0,DnsAmt:0,ChkAmt:0,CutAmt:0,DiffAmt:0,dirty:!1}),[h,g,x,y]=us(!1),D=so({url:"v1/sales/recv-account/rcpt-records",bearer:e,initialFetchSize:50,params:{opts:1}}),v=a.useCallback(()=>({RcvDate:null,CashAmt:"",DnsAmt:""}),[]),T=a.useCallback(()=>({ChkAmt:"",BankID:null,BankAcct:"",ChkAcc:"",DueDate:null,IssueDate:null}),[]),I=a.useCallback(()=>({DocType:null,DocID:"",DocDate:null,SalAmt:"",RetAmt:"",AdjAmt:"",PreNotes:"",WoNotes:""}),[]),P=yr({gridId:"cash",keyColumn:"dept.DeptID",createRow:v}),E=a.useMemo(()=>!n.editing,[n.editing]),k=yr({gridId:"chk",keyColumn:"dept.DeptID",createRow:T}),w=a.useMemo(()=>!n.editing,[n.editing]),A=a.useCallback(({fromRowIndex:de,formData:ce,oldValue:ee,newValue:De,setValue:ke,gridMeta:He,updateResult:qe})=>async(Le,_e)=>{const H=de+_e;qe.rowIndex=H;const re=ee[H];console.log(` Doc  ${H+1} ...`,Le);let q={...Le},Y=!1;return q.WoNotes!==re.WoNotes&&(qe.cols.push("WoNotes"),Y=!0),Y&&qe.rows++,q},[]),F=a.useCallback(({setValue:de,received:ce=!0,remaining:ee=!0,diff:De=!0})=>{f.current.CollAmt=f.current.CashAmt+f.current.DnsAmt+f.current.ChkAmt,ce&&de("CollAmt",Re.formatMoney(f.current.CollAmt,2)),f.current.RemAmt=f.current.PreAmt+f.current.RcvAmt-f.current.CollAmt,ee&&de("RemAmt",Re.formatMoney(f.current.RemAmt,2)),f.current.DiffAmt=f.current.CollAmt-f.current.CutAmt,De&&de("DiffAmt",Re.formatMoney(f.current.DiffAmt,2))},[]),_=a.useCallback(({gridData:de,setValue:ce,updateResult:ee})=>{if(console.log("onDocGridChanged",de),ee.cols.includes("WoNotes")){console.log("before reduce",de);const De=de.reduce((ke,He)=>{var qe,Le,_e;return{CutAmt:ke.CutAmt+(He.WoNotes?((qe=He.DocID)==null?void 0:qe.DocType)==1?Number(He.SalAmt):((Le=He.DocID)==null?void 0:Le.DocType)==2?0-Number(He.RetAmt):((_e=He.DocID)==null?void 0:_e.DocType)==3?Number(He.AdjAmt):0:0)}},{CutAmt:0});console.log("totals",De),f.current.CutAmt=De.CutAmt??0,ce("CutAmt",Re.formatMoney(f.current.CutAmt,2)),F({setValue:ce,received:!1,remaining:!1})}},[F]),L=yr({gridId:"doc",keyColumn:"dept.DeptID",createRow:I,onUpdateRow:A,onGridChanged:_}),K=a.useMemo(()=>!n.editing,[n.editing]),z=a.useCallback(async({id:de,refresh:ce=!1})=>{const ee=ce?t.current:de;if(!ee)throw new Error(" id");ce||(t.current=de),n.startReading("...",{id:de});try{const{status:De,payload:ke,error:He}=await i({url:"v1/sales/recv-account/rcpt-records",bearer:e,params:{id:ee}});if(console.log("payload",ke),De.success){const qe=Ch.transformForReading(ke.data[0]);P.initGridData(qe.cashGridData),k.initGridData(qe.chkGridData),L.initGridData(qe.docGridData),f.current={PreAmt:qe.PreAmt,RcvAmt:qe.RcvAmt,CollAmt:qe.CollAmt,RemAmt:qe.RemAmt,CashAmt:qe.CashAmt,DnsAmt:qe.DnsAmt,ChkAmt:qe.ChkAmt,CutAmt:qe.CutAmt,DiffAmt:qe.DiffAmt,dirty:!1},n.finishedReading({data:qe})}else throw He||new Error("")}catch(De){n.failedReading(De)}},[P,k,n,L,i,e]),J=a.useCallback(async(de,ce)=>{de==null||de.stopPropagation(),n.cancelAction(),p(ce);const ee=Ch.buildId(ce);n.startReading("...",{id:ee}),z({id:ee})},[n,z]),Q=a.useCallback(()=>{m.confirm({message:"?",onConfirm:()=>{n.cancelUpdating(),z({refresh:!0}),f.current.dirty=!1}})},[n,m,z]),V=a.useCallback(()=>{m.confirm({message:"?",onConfirm:()=>{n.cancelAction()}})},[n,m]),W=a.useCallback(()=>{m.confirm({message:"?",onConfirm:()=>{n.cancelAction()}})},[n,m]),U=a.useCallback(()=>{n.cancelAction()},[n]),X=a.useCallback(async({data:de})=>{try{n.startUpdating();const{status:ce,error:ee}=await c({url:"v1/sales/recv-account/rcpt-records",data:de,bearer:e});if(ce.success)ae.success(`${de==null?void 0:de.AccYM}${de==null?void 0:de.Stage}-${de.CustData_N}`),n.finishedUpdating(),z({id:de==null?void 0:de.LogID}),D.loadList({refresh:!0});else throw ee||new Error("")}catch(ce){n.failedUpdating(ce),f.current.dirty=!0,console.error("handleUpdate.failed",ce),ae.error("",ce)}},[n,c,z,D,e]),te=a.useCallback(async de=>{console.log("G06.onEditorSubmit()",de);const ce=Ch.transformForEditorSubmit(de,P.gridData,k.gridData,L.gridData);console.log("processed",ce),n.updating?X({data:ce}):console.error("UNKNOWN SUBMIT TYPE")},[P.gridData,k.gridData,n.updating,L.gridData,X]),se=a.useCallback(de=>{console.error("G06.onSubmitError",de),ae.error(", (*)",{position:"top-right"})},[]),he=a.useCallback(de=>{de==null||de.stopPropagation();const ce={trans:[],combo:[]};n.promptCreating({data:ce})},[n]),pe=a.useCallback(()=>{m.confirm({message:`${Ch.buildName(n.itemData)}?`,onConfirm:async()=>{var de;try{n.startDeleting(n.itemData);const{status:ce,error:ee}=await u({url:"v1/sales/recv-account/rcpt-records",bearer:e,params:{id:(de=n.itemData)==null?void 0:de.LogID}});if(ce.success)n.cancelAction(),ae.success(` ${Ch.buildName(n.itemData)}`),D.loadList({refresh:!0});else throw ee||""}catch(ce){n.failedDeleting(ce),console.error("confirmDelete.failed",ce),ae.error("",ce)}}})},[n,m,u,D,e]),ue=a.useCallback(de=>{y(),console.log("onSearchSubmit",de),D.loadList({params:Ch.transformAsQueryParams(de)})},[y,D]),ge=a.useCallback(de=>{console.error("onSearchSubmitError",de)},[]),Ce=a.useCallback(({reset:de})=>()=>{de({lvId:"",lvName:"",lvBank:null})},[]);En(()=>{n.cancelAction()},[]);const Te=a.useCallback(({fromRowIndex:de,formData:ce,newValue:ee,setValue:De,gridMeta:ke,updateResult:He})=>async(qe,Le)=>{const _e=de+Le;He.rowIndex=_e;const H=P.gridData[_e];console.log(` Cash  ${_e+1} ...`,qe);let re={...qe},q=!1;return re.CashAmt!==H.CashAmt&&(He.cols.push("CashAmt"),q=!0),re.DnsAmt!==H.DnsAmt&&(He.cols.push("DnsAmt"),q=!0),q&&He.rows++,re},[P.gridData]),Ne=a.useCallback(({gridData:de,setValue:ce,updateResult:ee})=>{if(console.log("onGridChanged",de),ee.cols.includes("CashAmt")||ee.cols.includes("DnsAmt")||ee.type==="DELETE"){console.log("before reduce",de);const De=de.reduce((ke,He)=>({CashAmt:ke.CashAmt+Number(He.CashAmt),DnsAmt:ke.DnsAmt+Number(He.DnsAmt)}),{CashAmt:0,DnsAmt:0});f.current.CashAmt=De.CashAmt??0,ce("CashAmt",f.current.CashAmt),f.current.DnsAmt=De.DnsAmt??0,ce("DnsAmt",f.current.DnsAmt),F({setValue:ce})}},[F]),xe=a.useCallback(({fromRowIndex:de,formData:ce,newValue:ee,setValue:De,gridMeta:ke,updateResult:He})=>async(qe,Le)=>{const _e=de+Le;He.rowIndex=_e;const H=k.gridData[_e];console.log(` Chk  ${_e+1} ...`,qe);let re={...qe},q=!1;return re.ChkAmt!==H.ChkAmt&&(He.cols.push("ChkAmt"),q=!0),q&&He.rows++,re},[k.gridData]),me=a.useCallback(({gridData:de,setValue:ce,updateResult:ee})=>{if(console.log("onGridChanged",de),ee.cols.includes("ChkAmt")||ee.type==="DELETE"){console.log("before reduce",de);const De=de.reduce((ke,He)=>({ChkAmt:ke.ChkAmt+Number(He.ChkAmt)}),{ChkAmt:0});f.current.ChkAmt=De.ChkAmt??0,ce("ChkAmt",Re.formatMoney(f.current.ChkAmt,2)),F({setValue:ce})}},[F]);return{...D,...n,onSearchSubmit:ue,onSearchSubmitError:ge,handleSelect:J,selectedItem:d,handleDialogClose:U,confirmDialogClose:V,confirmQuitCreating:W,onEditorSubmit:te,onEditorSubmitError:se,confirmReturn:Q,handlePromptCreating:he,confirmDelete:pe,...o,...s,popperOpen:h,handlePopperToggle:g,handlePopperOpen:x,handlePopperClose:y,handleReset:Ce,cashGrid:P,cashGridDisabled:E,createCashRow:v,onUpdateCashRow:Te,onCashGridChanged:Ne,chkGrid:k,chkGridDisabled:w,createChkRow:T,onUpdateChkRow:xe,onChkGridChanged:me,docGrid:L,docGridDisabled:K,createDocRow:I,onUpdateDocRow:A,onDocGridChanged:_}},GEe=({children:e})=>{const t=a.useContext(Be),n=Q2t({token:t.token});return r.jsx(xu.Provider,{value:{...n},children:e})};GEe.propTypes={children:l.oneOfType([l.array,l.object])};const HN=a.createContext(),Y2t=Object.freeze({CARRY:"CARRY",RESTORE:"RESTORE"}),J2t=e=>{if(!e)return"";const{name:t}=e;return`${t}`},X2t=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),Z2t=e=>{const{session:t,CustID:n}=e;return{ym:Re.formatYearMonth(t==null?void 0:t.AccYM)??"",sess:(t==null?void 0:t.Stage)??"",...n&&{scti:n==null?void 0:n.CustID}}},eAt=e=>{const{AccYM:t,Stage:n}=e;return{ym:Re.formatYearMonth(t)??"",sess:n??""}},af={Tabs:Y2t,transformForSubmitting:Z2t,getOptionLabel:J2t,isOptionEqualToValue:X2t,transformForRestoreSubmitting:eAt},_9=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(HN),s=Ke(),i=a.useMemo(()=>s.handleSubmit(o.onSubmit,o.onSubmitError),[s,o.onSubmit,o.onSubmitError]);return r.jsx(dt,{responsive:!0,ref:t,variant:"contained",startIcon:r.jsx(rEe,{}),onClick:i,loading:o.updateWorking,sx:{fontWeight:600},...n,children:""})}));_9.displayName="G07CarryForwardButtonContainer";const L9=e=>{const{onSessionChanged:t,...n}=e;return r.jsxs(ga,{value:af.Tabs.CARRY,...n,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(LN,{name:"session",label:"+",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,virtualize:!0,required:!0,rules:{required:"+"},onChanged:t})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(rD,{name:"CustID",size:"small",label:"",placeholder:"",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:1.8,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(_9,{})})})]})})]})};L9.propTypes={onSessionChanged:l.func};L9.displayName="G07CarryTabView";const KEe=e=>{const{...t}=e,n=Ke(),o=a.useCallback(()=>{n.setValue("CustID",null)},[n]);return r.jsx(L9,{onSessionChanged:o,...t})};KEe.displayName="G07CarryTabContainer";const $9=a.memo(a.forwardRef((e,t)=>{var c;const{...n}=e,o=a.useContext(HN),s=a.useContext(Be),i=Ke();return(c=s.operator)!=null&&c.hasRoot?r.jsx(dt,{responsive:!0,ref:t,variant:"contained",startIcon:r.jsx(EN,{}),onClick:i.handleSubmit(o.onRestoreSubmit,o.onRestoreSubmitError),loading:o.restoreWorking,color:"secondary",sx:{fontWeight:600},...n,children:""}):!1}));$9.displayName="G07RestoreButtonContainer";const B9=e=>{const{...t}=e;return r.jsxs(ga,{value:af.Tabs.RESTORE,...t,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:7,children:r.jsx(et,{name:"AccYM",label:"",fullWidth:!0,validate:!0,autoFocus:!0,views:["year","month"],format:"yyyy/MM",required:!0,placeholder:"/"})}),r.jsx(j,{item:!0,xs:12,sm:5,children:r.jsx($e,{name:"Stage",label:"",size:"small",clearable:!0,type:"number",fullWidth:!0,required:!0,rules:{required:""}})})]}),r.jsx(ve,{mt:1.8,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx($9,{})})})]})})]})};B9.propTypes={onSessionChanged:l.func};B9.displayName="G07RestoreTabView";const QEe=e=>{const{...t}=e;return r.jsx(B9,{...t})};QEe.displayName="G07RestoreTabContainer";const W9=a.memo(e=>{const{selectedTab:t,handleTabChange:n,hasRoot:o,...s}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx("form",{...s,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsx(Xt,{pt:0,children:r.jsxs(xf,{value:t,children:[r.jsx(jt,{sx:{borderBottom:1,borderColor:"divider"},children:r.jsxs(yf,{onChange:n,children:[r.jsx(Si,{label:"",value:af.Tabs.CARRY}),o&&r.jsx(Si,{label:"",value:af.Tabs.RESTORE})]})}),r.jsx(KEe,{}),r.jsx(QEe,{})]})})})})})});W9.propTypes={forNewCustomer:l.bool,readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,hasRoot:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func,onCustomerChange:l.func,onSessionChanged:l.func,selectedTab:l.string,handleTabChange:l.func};W9.displayName="G07Form";const YEe=()=>{var c;const e=Ke(),t=a.useContext(HN),n=a.useContext(Be),o=e.handleSubmit(t.onSubmit,t.onSubmitError),s=e.handleSubmit(t.onRestoreSubmit,t.onRestoreSubmitError),i=a.useMemo(()=>t.selectedTab==af.Tabs.CARRY?o:t.selectedTab==af.Tabs.RESTORE?s:null,[t.selectedTab,s,o]);return $t(["Control+Enter"],()=>setTimeout(i),{enableOnFormTags:!0}),r.jsx(Ye,{...e,children:r.jsx(Ct,{...t.formMeta,children:r.jsx(W9,{selectedTab:t.selectedTab,handleTabChange:t.handleTabChange,hasRoot:(c=n.operator)==null?void 0:c.hasRoot})})})};YEe.displayName="G07FormContainer";const JEe=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(kn,{ref:t,bgcolor:Nn.TOOLBAR,LeftComponent:_9,RightComponent:$9,...n})})}));JEe.propTypes={};JEe.displayName="G07Toolbar";const XEe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(YEe,{})]});XEe.displayName="G07Frame";const tAt=()=>{const e=a.useContext(cr),[t,n]=a.useState(af.Tabs.CARRY),o=a.useCallback((y,D)=>{n(D)},[]),s=a.useContext(Mr),{token:i,operator:c}=a.useContext(Be),u=Bt({moduleId:"G07"}),{httpPostAsync:d}=Zn(),p=vt(`
		session,
		CustID,
		AccYM,
		Stage,
		`),m=a.useCallback(async y=>{console.log("onSubmit",y);const D={...af.transformForSubmitting(y)};console.log("data",D);try{e.startUpdating();const{status:v,error:T}=await d({url:"v1/sales/recv-account/carry-forward",bearer:i,mode:"form",data:D});if(v.success)ae.success(""),e.finishedUpdating();else throw T??new Error("")}catch(v){e.failedUpdating(v),console.error(v),ae.error("",v)}finally{e.finishedUpdating()}},[e,d,i]),f=a.useCallback(y=>{console.error("onSubmitError",y),ae.error(", (*)")},[]),h=Or(),g=a.useCallback(async y=>{console.log("onRestoreSubmit",y),s.confirm({message:"?",onConfirm:async()=>{const D=af.transformForRestoreSubmitting(y);h.start();try{const{status:v,error:T}=await d({url:"v1/sales/recv-account/restore",bearer:i,mode:"form",data:D});if(v.success)h.finish(),ae.success("");else throw T??new Error("")}catch(v){console.error(v),h.fail(v),ae.error("",v)}}})},[s,d,h,i]),x=a.useCallback(y=>{console.error("onRestoreSubmitError",y)},[]);return{...u,onSubmit:m,onSubmitError:f,formMeta:p,handleTabChange:o,onRestoreSubmit:g,onRestoreSubmitError:x,restoreWorking:h.working,selectedTab:t}},ZEe=({children:e})=>{const t=tAt(),n=at({defaultValues:{}});return r.jsx(Ye,{...n,children:r.jsx(HN.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};ZEe.propTypes={children:l.oneOfType([l.array,l.element])};const um=a.createContext(),ePe=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(um),{moduleAuthorityLoading:s,canCreate:i}=o,c=a.useMemo(()=>"",[]);return s||!i?!1:r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(Ao,{}),onClick:o.promptCreating,sx:{fontWeight:600},...n,children:c})}));ePe.displayName="G08CreateButtonContainer";const tPe=()=>{const e=a.useContext(um);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};tPe.displayName="G08FetchResultLabelContainer";const nPe=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(Vo),s=a.useContext(um),{moduleAuthorityLoading:i,canPrint:c}=s;return i||!c?!1:r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(cs,{}),sx:{fontWeight:600},onClick:o.promptPrint,color:"neutral",...n,children:""})}));nPe.propTypes={};nPe.displayName="G08PrintButtonContainer";const rPe=a.memo(()=>r.jsx(r.Fragment,{children:r.jsx(ePe,{})}));rPe.displayName="LeftButtons";const oPe=a.memo(a.forwardRef(({...e},t)=>r.jsx(kn,{alignItems:"flex-end",ref:t,LeftComponent:rPe,RightComponent:tPe,...e})));oPe.displayName="G08ListViewToolbar";const U9=a.memo(e=>{var s,i,c,u,d;const{anchor:t="right",...n}=e,o=a.useContext(um);return r.jsxs(Eo,{anchor:t,open:o.sideDrawerOpen,onClose:o.handleSideDrawerClose,...n,children:[((s=o.itemData)==null?void 0:s.AccYM_N)&&r.jsx(pn,{label:"",children:`${(i=o.itemData)==null?void 0:i.AccYM_N}#${(c=o.itemData)==null?void 0:c.Stage_N}`}),r.jsx(pn,{label:"",children:(u=o.itemData)==null?void 0:u.WriteDate_N}),r.jsx(pn,{label:"",children:(d=o.itemData)==null?void 0:d.Writer_N})]})});U9.propTypes={anchor:l.string};U9.displayName="G08Drawer";const q9=a.memo(e=>{const{data:t,readWorking:n,readError:o,itemDataReady:s,creating:i,editing:c,updating:u,slotProps:d,...p}=e;return r.jsxs("form",{...p,children:[n&&r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",minHeight:"30em",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}),o&&r.jsx(lo,{error:o,...d==null?void 0:d.error}),s&&r.jsx(Pt,{pt:1,children:r.jsx(Xt,{editing:c,children:r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,md:6,children:r.jsx($e,{typo:!0,name:"AdjID",label:"",fullWidth:!0,required:!0,readOnly:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:6,children:r.jsx(et,{typo:!0,name:"AdjDate",label:"",...c&&{autoFocus:!0},variant:"outlined",required:!0,rules:{required:""},fullWidth:!0,validate:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ho,{typo:!0,name:"CustID",label:"",size:"small",required:!0,rules:{required:""},virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:6,children:r.jsx($e,{typo:!0,name:"AdjAmt",label:"",type:"number",fullWidth:!0,required:!0,rules:{required:""}})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,md:12,children:r.jsx($e,{typo:!0,name:"RsnData",multiline:!0,minRows:2,maxRows:5,label:"",fullWidth:!0})})]})})})]})});q9.propTypes={data:l.object,readWorking:l.bool,itemDataReady:l.bool,creating:l.bool,editing:l.bool,updating:l.bool,store:l.bool,readError:l.object,slotProps:l.object};q9.displayName="G08DialogForm";const V9=a.memo(a.forwardRef((e,t)=>{const{onSave:n,onCancel:o,loading:s,...i}=e;return r.jsxs(a.Fragment,{ref:t,...i,children:[r.jsx(dt,{responsive:!0,onClick:o,color:"warning",variant:"outlined",...i,children:""}),r.jsx(dt,{responsive:!0,onClick:n,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:s,children:""})]})}));V9.displayName="G08DialogEditButtons";V9.propTypes={onSave:l.func,loading:l.bool};const sPe=e=>{const{...t}=e,n=Ke(),o=a.useContext(um),{canPrint:s}=o,i=n.handleSubmit(o.onPrintSubmit,o.onPrintSubmitError);return s?r.jsx(xn,{onSubmit:i,...t}):!1};sPe.displayName="G08ExportButtonContainer";const aPe=a.memo(a.forwardRef((e,t)=>{const{onPrint:n,onEdit:o,onDelete:s,onSideDrawerOpen:i,...c}=e;return r.jsxs(a.Fragment,{ref:t,...c,children:[n&&r.jsx(sPe,{}),s&&r.jsx(hn,{startIcon:r.jsx(Fs,{}),color:"secondary",onClick:s,children:""}),o&&r.jsx(hn,{startIcon:r.jsx(bo,{}),color:"primary",onClick:o,children:""}),r.jsx(jr,{title:"",children:r.jsx(br,{onClick:i,size:"small",children:r.jsx(Po,{})})})]})}));aPe.propTypes={onPrint:l.func,onEdit:l.func,onDelete:l.func,onSideDrawerOpen:l.func};const iPe=e=>{const{...t}=e,n=a.useContext(um),o=Ke(),s=o.handleSubmit(n.onPrintSubmit,n.onPrintSubmitError);return n.itemDataReady?n.editing?r.jsx(V9,{onSave:o.handleSubmit(n.onEditorSubmit,n.onEditorSubmitError),onCancel:n.updating?n.confirmReturn:n.confirmQuitCreating,loading:n.editWorking,...t}):r.jsx(aPe,{onPrint:n.canPrint?s:null,onEdit:n.canUpdate?n.promptUpdating:null,onDelete:n.canDelete?n.confirmDelete:null,onSideDrawerOpen:n.handleSideDrawerOpen,...t}):!1};iPe.displayName="G08DialogButtonsContainer";const lPe=a.forwardRef((e,t)=>{const{...n}=e,{height:o}=Wt(),s=a.useMemo(()=>o-120,[o]),i=at({defaultValues:{}}),{reset:c,setValue:u}=i,d=a.useContext(um),p=a.useMemo(()=>d.creating?"":d.updating?"":"",[d.creating,d.updating]),m=Qr({maxHeight:s,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),f=a.useCallback(()=>{d.editing&&i.handleSubmit(d.onEditorSubmit,d.onEditorSubmitError)()},[i,d.editing,d.onEditorSubmit,d.onEditorSubmitError]);$t(["Control+Enter"],()=>setTimeout(f),{enableOnFormTags:!0}),mn(()=>{d.itemDataReady&&(console.log("g08 form reset",d.itemData),c(d.itemData))},[d.itemData,d.itemDataReady]);const h=Ue({name:"headOffice",control:i.control}),g=Ue({name:"flagship",control:i.control});return a.useEffect(()=>{h&&u("flagship",!1)},[h,u]),a.useEffect(()=>{g&&u("headOffice",!1)},[g,u]),r.jsx(Ye,{...i,children:r.jsxs(Er,{title:p,ref:t,responsive:!0,fullWidth:!0,maxWidth:"sm",TitleButtonsComponent:iPe,open:d.itemViewOpen,onClose:d.editing?d.confirmDialogClose:d.cancelAction,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[m.scroller],...n,children:[r.jsx(Ct,{...d.formMeta,children:r.jsx(q9,{ref:t,onSubmit:f,editing:d.editing,updating:d.updating,readWorking:d.readWorking,readError:d.readError,data:d.itemData,itemDataReady:d.itemDataReady})}),r.jsx(U9,{BackdropProps:{sx:[ur.BACKDROP_TRANSPARENT]}})]})})});lPe.displayName="G08DialogContainer";const GN=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:3,...t})};GN.propTypes={loading:l.bool,children:l.oneOfType([l.node])};GN.displayName="G08IDColumn";const KN=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:3,...t})};KN.propTypes={loading:l.bool,children:l.oneOfType([l.node])};KN.displayName="G08AmtColumn";const QN=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:12,...t})};QN.propTypes={loading:l.bool,children:l.oneOfType([l.node])};QN.displayName="G08CustColumn";const YN=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:4,...t})};YN.propTypes={loading:l.bool,children:l.oneOfType([l.node])};YN.displayName="G08DateColumn";const z9=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsxs(io,{ref:t,...n,children:[r.jsx(Hn,{}),r.jsx(GN,{children:""}),r.jsx(YN,{children:""}),r.jsx(QN,{children:""}),r.jsx(KN,{children:""})]})}));z9.propTypes={};z9.displayName="G08ListHeader";const nAt=e=>{const{CustID:t,CustData_N:n,AdjDate:o,RsnData:s,...i}=e;return{CustID:{CustID:t,CustData:n},AdjDate:Re.parseDate(o),RsnData:s.join(`
`),...i}},rAt=e=>{const{CustID:t,AdjDate:n,RsnData:o,...s}=e;return{CustID:t==null?void 0:t.CustID,AdjDate:Re.formatDate(n),RsnData:(o==null?void 0:o.split(`
`))||[],...s}},oAt=e=>Gn.isAnyPropNotEmpty(e,"lvId,lvName,lvBank"),sAt=e=>{const{cust:t,custName:n,adjDate:o,q:s,...i}=e;return{...s&&{q:s},...(t==null?void 0:t.CustID)&&{csti:t==null?void 0:t.CustID},...n&&{cstn:n},...o&&{adate:Re.formatDate(o)},...i}},aAt=(e,t)=>({StdWhere:[],...(t==null?void 0:t.GroupKey)&&{CondData:{GROUP:t.GroupKey.substring(0,1)}}}),NI={transformForReading:nAt,transformForEditorSubmit:rAt,paramsToJsonData:aAt,isFiltered:oAt,transformAsQueryParams:sAt};l.bool,l.oneOfType([l.node]);const H9=a.memo(e=>{const{index:t,style:n,value:o,onClick:s}=e,{CustID:i,CustData:c,AbbrName:u}=o||{},d=a.useMemo(()=>[i,u??c].filter(Boolean).join(" "),[u,c,i]);return r.jsx("div",{style:n,children:r.jsx(yo,{borderBottom:!0,onClick:s,children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t}),r.jsx(GN,{children:o==null?void 0:o.AdjID}),r.jsx(YN,{children:o==null?void 0:o.AdjDate}),r.jsx(QN,{children:d}),r.jsx(KN,{children:o==null?void 0:o.AdjAmt})]})})})});H9.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func};H9.displayName="G08ListRow";const G9=e=>{var u;const{index:t,...n}=e,o=a.useContext(um),s=a.useMemo(()=>o.listData[t],[o.listData,t]),i=a.useMemo(()=>!s,[s]),c=a.useMemo(()=>{var d;return(s==null?void 0:s.FactID)===((d=o.selectedItem)==null?void 0:d.FactID)},[(u=o.selectedItem)==null?void 0:u.FactID,s==null?void 0:s.FactID]);return r.jsx(No,{loading:i,children:r.jsx(H9,{index:t,value:s,onClick:d=>o.handleSelect(d,s),selected:c,...n})})};G9.propTypes={index:l.number,data:l.object};G9.displayName="G08ListRowContainer";const cPe=()=>{const e=a.useContext(um),{loadList:t}=e,n=Ke(),{height:o}=Wt(),s=Ue({name:"q",control:n.control}),i=Ue({name:"lvAdjDate",control:n.control}),c=Ue({name:"lvCust",control:n.control}),u=Ue({name:"lvCustName",control:n.control}),d=Gr({q:s,adjDate:i,cust:c,custName:u},300),p=a.useMemo(()=>o?o-210:300,[o]);return En(()=>{e.loadList()},[]),mn(()=>{t({params:NI.transformAsQueryParams(d),supressLoading:!0})},[d]),r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:G9,height:p,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};cPe.displayName="G08ListViewContainer";const K9=a.memo(e=>{const{onCustomerChange:t,...n}=e;return r.jsx(Pt,{...n,children:r.jsxs(j,{container:!0,columns:24,spacing:1,children:[r.jsx(j,{item:!0,md:5,children:r.jsx($e,{autoFocus:!0,name:"q",label:"",size:"small",clearable:!0,placeholder:""})}),r.jsx(j,{item:!0,md:6,children:r.jsx(et,{name:"lvAdjDate",label:"",clearable:!0,validate:!0})}),r.jsx(j,{item:!0,md:5,children:r.jsx(ho,{name:"lvCust",forId:!0,...n,disableOpenOnInput:!0,onChanged:t,slotProps:{paper:{sx:{width:260}}}})}),r.jsx(j,{item:!0,md:8,children:r.jsx($e,{name:"lvCustName",label:"",size:"small",clearable:!0,placeholder:"",fullWidth:!0})})]})})});K9.propTypes={onCustomerChanged:l.func};K9.displayName="G08ListForm";const uPe=e=>{const{...t}=e,n=vt(`
		q,
		lvAdjDate,
		lvCust,
		lvCustName
		`),o=Ke(),s=a.useCallback(i=>{o.setValue("lvCustName",(i==null?void 0:i.AbbrName)||"")},[o]);return r.jsx(Ct,{...n,children:r.jsx(K9,{onCustomerChange:s,...t})})};uPe.displayName="G08ListFormContainer";const dPe=()=>{const e=at();return r.jsx(Ye,{...e,children:r.jsx(Ft,{children:r.jsxs(ws,{tableName:"AppDept",paramsToJsonData:NI.paramsToJsonData,children:[r.jsx(_t,{}),r.jsx(uPe,{}),r.jsx(oPe,{}),r.jsx(z9,{}),r.jsx(cPe,{}),r.jsx(lPe,{}),r.jsx(Is,{})]})})})};dPe.displayName="G08Frame";const iAt=()=>{var ue;const e=a.useRef(),t=a.useContext(ln),{token:n,operator:o}=a.useContext(Be),s=vt(`
		AdjID,
		AdjDate,
		CustID,
		AdjAmt,
		RsnData
		`),i=a.useContext(cr),c=Bt({moduleId:"G08"}),u=Co(),{httpGetAsync:d,httpPostAsync:p,httpPutAsync:m,httpDeleteAsync:f}=Zn(),[h,g]=a.useState(),x=a.useContext(Mr),[y,D,v,T]=us(!1),I=so({url:"v1/sales/recv-account/adj-entries",bearer:n,initialFetchSize:50,params:{acc:1}}),P=a.useCallback(async({id:ge,refresh:Ce})=>{const Te=Ce?e.current:ge;if(!Te)throw new Error(" id");Ce||(e.current=ge,i.startReading("...",{id:ge}));try{const{status:Ne,payload:xe,error:me}=await d({url:"v1/sales/recv-account/adj-entries",bearer:n,params:{id:Te}});if(console.log("payload",xe),Ne.success){const de=NI.transformForReading(xe.data[0]);i.finishedReading({data:de})}else throw me||new Error("")}catch(Ne){i.failedReading(Ne)}},[i,d,n]),E=a.useCallback(async(ge,Ce)=>{ge==null||ge.stopPropagation(),i.cancelAction(),g(Ce),i.startReading("...",{id:Ce.AdjID}),P({id:Ce.AdjID})},[i,P]),k=a.useCallback(()=>{x.confirm({message:"?",onConfirm:()=>{i.cancelUpdating(),P({refresh:!0})}})},[i,x,P]),w=a.useCallback(()=>{x.confirm({message:"?",onConfirm:()=>{i.cancelAction()}})},[i,x]),A=a.useCallback(()=>{x.confirm({message:"?",onConfirm:()=>{i.cancelAction()}})},[i,x]),F=a.useCallback(()=>{i.cancelAction()},[i]),_=a.useCallback(async({data:ge})=>{try{i.startCreating();const{status:Ce,error:Te}=await p({url:"v1/sales/recv-account/adj-entries",data:ge,bearer:n});if(Ce.success)ae.success(`${ge==null?void 0:ge.AdjID}`),i.finishedCreating(),i.cancelReading(),I.loadList({refresh:!0});else throw Te||new Error("")}catch(Ce){i.failedCreating(Ce),console.error("handleCreate.failed",Ce),ae.error("",Ce)}},[i,p,I,n]),L=a.useCallback(async({data:ge})=>{try{i.startUpdating();const{status:Ce,error:Te}=await m({url:"v1/sales/recv-account/adj-entries",data:ge,bearer:n});if(Ce.success)ae.success(`${ge==null?void 0:ge.AdjID}`),i.finishedUpdating(),P({id:ge==null?void 0:ge.AdjID}),I.loadList({refresh:!0});else throw Te||new Error("")}catch(Ce){i.failedUpdating(Ce),console.error("handleUpdate.failed",Ce),ae.error("",Ce)}},[i,m,P,I,n]),K=a.useCallback(async ge=>{console.log("G08.onEditorSubmit()",ge);const Ce=NI.transformForEditorSubmit(ge);console.log("processed",Ce),i.creating?_({data:Ce}):i.updating?L({data:Ce}):console.error("UNKNOWN SUBMIT TYPE")},[i.creating,i.updating,_,L]),z=a.useCallback(ge=>{console.error("G08.onSubmitError",ge),ae.error(", (*)",{position:"top-right"})},[]),J=a.useCallback(ge=>{ge==null||ge.stopPropagation();const Ce={AdjDate:new Date};i.promptCreating({data:Ce})},[i]),Q=a.useCallback(()=>{var ge;x.confirm({message:`${(ge=i.itemData)==null?void 0:ge.AdjID}?`,onConfirm:async()=>{var Ce,Te;try{i.startDeleting(i.itemData);const{status:Ne,error:xe}=await f({url:"v1/sales/recv-account/adj-entries",bearer:n,params:{id:(Ce=i.itemData)==null?void 0:Ce.AdjID}});if(Ne.success)i.cancelAction(),ae.success(` ${(Te=i.itemData)==null?void 0:Te.AdjID}`),I.loadList({refresh:!0});else throw xe||""}catch(Ne){i.failedDeleting(Ne),console.error("confirmDelete.failed",Ne),ae.error("",Ne)}}})},[i,x,f,I,n]),V=a.useCallback(ge=>{T(),console.log("onSearchSubmit",ge),I.loadList({params:NI.transformAsQueryParams(ge)})},[T,I]),W=a.useCallback(ge=>{console.error("onSearchSubmitError",ge)},[]),U=a.useCallback(({reset:ge})=>()=>{ge({lvId:"",lvName:"",lvBank:null})},[]),X=a.useMemo(()=>`${t.REPORT_URL}/WebG08Rep.aspx`,[t.REPORT_URL]),te=yn(),se=a.useCallback(ge=>{var Te;console.log("onPrintSubmit",ge);const Ce={...ge.outputType&&{Action:ge.outputType.id},DeptID:o==null?void 0:o.CurDeptID,JobName:"G08",IDs:(Te=i.itemData)==null?void 0:Te.AdjID};console.log("data",Ce),te.open(X,Ce)},[(ue=i.itemData)==null?void 0:ue.AdjID,o==null?void 0:o.CurDeptID,X,te]),he=a.useCallback(ge=>{console.error("onPrintSubmitError",ge)},[]),pe=a.useCallback(({setValue:ge})=>Ce=>{console.log("handlePrint",Ce),ge("outputType",Ce)},[]);return En(()=>{i.cancelAction()},[]),{...I,...i,onSearchSubmit:V,onSearchSubmitError:W,handleSelect:E,selectedItem:h,handleDialogClose:F,confirmDialogClose:w,confirmQuitCreating:A,onEditorSubmit:K,onEditorSubmitError:z,confirmReturn:k,promptCreating:J,confirmDelete:Q,...c,formMeta:s,...u,popperOpen:y,handlePopperToggle:D,handlePopperOpen:v,handlePopperClose:T,handleReset:U,onPrintSubmit:se,onPrintSubmitError:he,handlePrint:pe}},pPe=({children:e})=>{const t=iAt();return r.jsx(um.Provider,{value:{...t},children:e})};pPe.propTypes={children:l.oneOfType([l.array,l.object])};const mPe=a.createContext(),Q9=[{id:1,label:""},{id:2,label:""}],fPe=e=>Q9.find(t=>t.id==e),lAt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},cAt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),uAt=e=>Q9.find(t=>t.id==e),dAt=()=>fPe(1),Fj={options:Q9,getOptionLabel:lAt,isOptionEqualToValue:cAt,getOptionById:fPe,findByInput:uAt,getDefaultOption:dAt},Y9=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:Fj.options,getOptionLabel:Fj.getOptionLabel,isOptionEqualToValue:Fj.isOptionEqualToValue,findByInput:Fj.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});Y9.propTypes={name:l.string,label:l.string,children:l.node};Y9.displayName="G09ReportTypePicker";const J9=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,onSessionChanged:o,htmlOnly:s,...i}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...i,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:7,children:r.jsx(et,{name:"AccYM",label:"",fullWidth:!0,validate:!0,autoFocus:!0,views:["year","month"],format:"yyyy/MM",placeholder:"/"})}),r.jsx(j,{item:!0,xs:12,sm:5,children:r.jsx(zN,{name:"session",label:"",fullWidth:!0,forSession:!0,validate:!0,clearable:!0,autoFocus:!0,virtualize:!0,required:!0,rules:{required:""},onChanged:o})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(r9,{name:"CustID",size:"small",label:"",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,placeholder:""})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(Y9,{name:"RptType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:1.8,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n,htmlOnly:s})})})]})})]})})})})});J9.propTypes={forNewCustomer:l.bool,readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func,onCustomerChange:l.func,onSessionChanged:l.func,htmlOnly:l.bool};J9.displayName="G09Form";const hPe=()=>{const e=Ke(),t=a.useContext(mPe),n=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(n),{enableOnFormTags:!0});const o=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]),s=Ue({name:"retail",control:e.control}),i=Ue({name:"RptType",control:e.control}),c=a.useCallback(u=>{e.setValue("CustID",null),u!=null&&u.AccYM&&e.setValue("AccYM",Re.parseDate((u==null?void 0:u.AccYM)+"/01"))},[e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...t.formMeta,children:r.jsx(J9,{forNewCustomer:s,onSubmit:n,onDebugSubmit:o,onSessionChanged:c,htmlOnly:(i==null?void 0:i.id)==2})})})};hPe.displayName="G09FormContainer";const gPe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(hPe,{})]});gPe.displayName="G09Frame";const pAt=e=>{if(!e)return"";const{name:t}=e;return`${t}`},mAt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),fAt=e=>{var p,m;const{outputType:t,AccYM:n,Stage:o,session:s,CustID:i,RptType:c,retail:u,...d}=e;return console.log("ignore props",u),{JobName:"G09",Action:((p=t==null?void 0:t.id)==null?void 0:p.toString())||"",AccYM:Re.formatYearMonth(n)??"",Stage:o||((s==null?void 0:s.Stage)!=null?s.Stage:s||""),...i&&{CustID:i==null?void 0:i.CustID},RptType:(m=c.id)==null?void 0:m.toString(),...d}},nce={transformForSubmitting:fAt,getOptionLabel:pAt,isOptionEqualToValue:mAt},hAt=()=>{var h,g;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"G09"}),s=a.useContext(Sn),i=Un(),c=vt(`
		AccYM,
		session,
		CustID,
		RptType,
		outputType,
		`),u=a.useMemo(()=>`${e.REPORT_URL}/WebG09Rep.aspx`,[e.REPORT_URL]),d=yn(),p=a.useCallback(x=>{var D,v;console.log("onSubmit",x);const y={...nce.transformForSubmitting(x),DeptId:n.CurDeptID};i.show({data:y,url:u,title:`${(D=s.menuItemSelected)==null?void 0:D.JobID} ${(v=s.menuItemSelected)==null?void 0:v.JobName}`})},[(h=s.menuItemSelected)==null?void 0:h.JobID,(g=s.menuItemSelected)==null?void 0:g.JobName,i,n.CurDeptID,u]),m=a.useCallback(x=>{console.log("onSubmit",x);const y={...nce.transformForSubmitting(x),DeptId:n.CurDeptID};console.log("data",y),console.log("data",y),d.open(u,y)},[n.CurDeptID,u,d]),f=a.useCallback(x=>{console.error("onSubmitError",x)},[]);return{...o,onSubmit:m,onSubmitError:f,onDebugSubmit:p,formMeta:c}},bPe=({children:e})=>{const t=hAt(),n=at({defaultValues:{RptType:Fj.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(mPe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};bPe.propTypes={children:l.oneOfType([l.array,l.element])};const X9=a.createContext(),gAt=e=>{if(!e)return"";const{SDocID:t}=e;return[t||""].filter(Boolean).join(" ")},bAt=e=>{if(!e)return"";const{SDocID:t}=e;return`${t}`},xAt=(e,t)=>(e==null?void 0:e.SDocID)===(t==null?void 0:t.SDocID),yAt=e=>e==null?void 0:e.SDocID,CP={getOptionLabel:gAt,getOptionLabelForId:bAt,isOptionEqualToValue:xAt,getOptionKey:yAt},Z9=a.memo(e=>{const{label:t="",forId:n=!1,...o}=e,s=a.useContext(Be),i=a.useCallback(p=>p.data,[]),c=a.useMemo(()=>Hr.stringify({opts:1}),[]),u=a.useCallback(p=>n?CP.getOptionLabelForId(p):CP.getOptionLabel(p),[n]),d=a.useCallback(({input:p,error:m})=>(m==null?void 0:m.message)??` ${p} `,[]);return r.jsx(bt,{label:t,url:"v1/sales/recv-account/docs",bearer:s.token,getOptionLabel:u,renderOptionLabel:CP.getOptionLabel,isOptionEqualToValue:CP.isOptionEqualToValue,getOptions:i,querystring:c,notFoundText:d,errorText:"",noOptionsText:"",blurToLookup:!0,...o})});Z9.propTypes={label:l.string,uid:l.string,scope:l.number,excludesSelf:l.bool,forId:l.bool};Z9.displayName="G10DocPicker";const CAt=(e,t)=>Gn.arePropsEqual(e,t,{fields:"rowData.SDocID,active,disabled,focus"}),JN=a.memo(e=>{const{rowData:t,setRowData:n,rowIndex:o,columnIndex:s,columnData:i,active:c,focus:u,disabled:d,stopEditing:p,insertRowBelow:m}=e,f=a.useRef(t);f.current=t;const{name:h,hideControlsOnActive:g,selectOnFocus:x,multiple:y,...D}=i,{handleFocusNextCell:v,skipDisabled:T,readOnly:I,focusOnDisabled:P,inDSG:E}=qD({insertRowBelow:m}),k=zi({name:h,rowIndex:o,rowData:t,columnIndex:s,focus:u,active:c,disabled:d,hideControlsOnActive:g,selectOnFocus:x,setRowData:n,stopEditing:p,readOnly:I,skipDisabled:T,handleFocusNextCell:v,focusOnDisabled:P,multiple:y});return r.jsx(Z9,{queryParam:"qs",inDSG:E,...k,...D})},CAt);JN.propTypes={name:l.string,rowData:l.oneOfType([l.string,l.number,l.object]),setRowData:l.func,rowIndex:l.number,columnIndex:l.number,columnData:l.object,active:l.bool,focus:l.bool,disabled:l.bool,stopEditing:l.func,insertRowBelow:l.func,duplicateRow:l.func,deleteRow:l.func,getContextMenuItems:l.func};JN.propTypes={};JN.displayName="G10DocPickerCell";const xPe=e=>e.filter(t=>{var n;return(n=t.doc)==null?void 0:n.SDocID}).map(t=>{const{doc:n}=t;return n}),DAt=(e,t)=>({SalRetDoc_S:xPe(t)}),SAt=()=>({doc:null}),lB={transformGridForSubmitting:xPe,transformForSubmitting:DAt,createRow:SAt},vAt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),eK=a.memo(e=>{const{canCreate:t,columns:n,lockRows:o,gridRef:s,data:i,loading:c,height:u=300,onChange:d}=e,p=a.useMemo(()=>u+(o||!t?48:0),[t,u,o]);return c?r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx(Ko,{height:u})}):c==null?!1:r.jsx(Et,{maxWidth:"md",alignLeft:!0,children:r.jsx(dr,{lockRows:o,ref:s,rowKey:"PosNo",height:p,value:i,onChange:d,columns:n,addRowsComponent:t?go:null,disableExpandSelection:!0,contextMenuComponent:vAt,createRow:lB.createRow})})});eK.propTypes={columns:l.array,lockRows:l.bool,gridRef:l.func,drawerOpen:l.bool,data:l.array,loading:l.bool,height:l.number,onChange:l.func,isPersisted:l.func};eK.displayName="G10Grid";const yPe=()=>{const{height:e}=Wt(),t=a.useContext(X9),n=at(),o=a.useMemo(()=>[{...Pe.keyColumn("doc",or(JN,{name:"doc",disableOpenOnInput:!0,disableClearable:!0,selectOnFocus:!0,autoHighlight:!0,forId:!0,slotProps:{paper:{sx:{width:340}}}})),title:"",minWidth:160,maxWidth:160,disabled:t.grid.readOnly},{...Pe.keyColumn("DocType",kt({continuousUpdates:!1})),title:"",disabled:!0},{...Pe.keyColumn("DocDate_N",kt({continuousUpdates:!1})),title:"",disabled:!0},{...Pe.keyColumn("CustID_N",kt({continuousUpdates:!1})),title:"",disabled:!0},{...Pe.keyColumn("CustName_N",kt({continuousUpdates:!1})),title:"",disabled:!0},{...Pe.keyColumn("Amt_N",Jn(2)),title:"",disabled:!0}],[t.grid.readOnly]),s=hr({columns:o,data:t.grid.gridData,lastCell:Xn.CREATE_ROW,defaultCell:{col:0,row:0}}),i=a.useMemo(()=>s.buildSelectionChangeHandler(),[s]),c=a.useMemo(()=>t.grid.buildGridChangeHandler({gridMeta:s,onUpdateRow:t.onUpdateRow}),[t.grid,t.onUpdateRow,s]),u=a.useMemo(()=>e-204,[e]);return En(()=>{t.load()},[]),r.jsx(Ye,{...n,children:r.jsx(Kn.Provider,{value:{...t.grid,...s},children:r.jsx(eK,{columns:o,lockRows:t.grid.readOnly,gridRef:s.setGridRef,data:t.grid.gridData,loading:t.grid.gridLoading,height:u,onChange:c,onActiveCellChange:s.handleActiveCellChange,onSelectionChange:i,canCreate:t.canCreate})})})};yPe.displayName="G10GridContainer";const CPe=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(X9),s=Ke(),i=a.useCallback(()=>{o.editing&&s.handleSubmit(o.onSubmit,o.onSubmitErrort)()},[s,o.editing,o.onSubmit,o.onSubmitErrort]);$t(["Control+Enter"],()=>setTimeout(i),{enableOnFormTags:!0});const c=a.useMemo(()=>{var d;return!((d=o.grid.gridData)!=null&&d.filter(p=>{var m;return(m=p.doc)==null?void 0:m.SDocID}).length)},[o.grid.gridData]),u=a.useMemo(()=>c?"":"",[c]);return r.jsx(Ra,{title:u,children:r.jsx(dt,{responsive:!0,ref:t,variant:"contained",startIcon:r.jsx(bEe,{}),onClick:i,disabled:c,sx:{fontWeight:600},...n,children:""})})}));CPe.displayName="G10StageButtonContainer";const tK=a.memo(()=>r.jsx(r.Fragment,{children:r.jsx(CPe,{})}));tK.propTypes={};tK.displayName="LeftComponent";const nK=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(Et,{maxWidth:"md",alignLeft:!0,children:r.jsx(kn,{bgcolor:Nn.TOOLBAR,ref:t,LeftComponent:tK,mb:.5,...n})})}));nK.propTypes={};nK.displayName="G10Toolbar";const rK=a.memo(()=>{const e=at();return r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(jt,{children:r.jsx(Ye,{...e,children:r.jsxs("form",{children:[r.jsx(nK,{}),r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(nu,{label:"",severity:"info",transparent:!0,children:""})}),r.jsx(yPe,{})]})})})]})});rK.propTypes={drawerOpen:l.bool,boxStyles:l.oneOfType([l.array,l.object])};rK.displayName="G10Frame";const DPe=()=>r.jsx(rK,{});DPe.displayName="G10Frame";const jAt=({token:e})=>{const t=a.useContext(cr),{itemData:n}=t,[o,s]=a.useState({staging:!1}),{httpPostAsync:i}=Zn(),c=Bt({moduleId:"G10"});a.useContext(Mr);const u=yr({gridId:"docs",keyColumn:"pkey",createRow:lB.createRow,initialLockRows:!1}),d=a.useCallback(g=>{const x=g.data[0];s(y=>({...y,data:x}))},[]),p=a.useCallback(()=>{u.initGridData([],{fillRows:15})},[u]),m=a.useCallback(({fromRowIndex:g,formData:x,newValue:y,setValue:D,gridMeta:v,updateResult:T})=>async(I,P)=>{var A,F,_,L,K,z,J;const E=g+P,k=u.gridData[E];T.rowIndex=E,console.log(` ${E+1} ...`,I);let w={...I};return((A=w.doc)==null?void 0:A.SDocID)!=((F=k.doc)==null?void 0:F.SDocID)&&(console.log(`doc[${E}] changed`,w==null?void 0:w.doc),w={...w,DocType:((_=w.doc)==null?void 0:_.DocType)??"",DocDate_N:((L=w.doc)==null?void 0:L.DocDate_N)??"",CustID_N:((K=w.doc)==null?void 0:K.CustID_N)??"",CustName_N:((z=w.doc)==null?void 0:z.CustName_N)??"",Amt_N:((J=w.doc)==null?void 0:J.Amt_N)??""}),w},[u.gridData]),f=a.useCallback(async g=>{console.log("onSubmit",g),console.log("grid.gridData",u.gridData);try{t.startUpdating();const{status:x,error:y}=await i({url:"v1/sales/recv-account/write-off",bearer:e,data:lB.transformForSubmitting(g,u.gridData)});if(x.success)ae.success(""),t.finishedUpdating(),u.initGridData([],{fillRows:15});else throw y??new Error("")}catch(x){console.error("onSubmit.failed",x),ae.error("",x)}finally{t.finishedUpdating()}},[t,u,i,e]),h=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...t,...o,grid:u,...c,handleLoaded:d,onUpdateRow:m,onSubmit:f,onSubmitError:h,load:p}},SPe=e=>{const{children:t}=e,n=a.useContext(Be),o=jAt({token:n.token});return r.jsx(X9.Provider,{value:{...o},children:t})};SPe.propTypes={children:l.oneOfType([l.array,l.object])};const IAt=r.jsxs(r.Fragment,{children:[r.jsx(yt,{path:"G01",element:r.jsx(Mt,{children:r.jsx(hEe,{children:r.jsx(fEe,{})})})}),r.jsx(yt,{path:"G02",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(IEe,{children:r.jsx(jEe,{})})})})}),r.jsx(yt,{path:"G04",element:r.jsx(Mt,{children:r.jsx(kEe,{children:r.jsx(wEe,{})})})}),r.jsx(yt,{path:"G05",element:r.jsx(Mt,{children:r.jsx(_Ee,{children:r.jsx(MEe,{})})})}),r.jsx(yt,{path:"G06",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(GEe,{children:r.jsx(HEe,{})})})})}),r.jsx(yt,{path:"G07",element:r.jsx(Mt,{children:r.jsx(ZEe,{children:r.jsx(XEe,{})})})}),r.jsx(yt,{path:"G08",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(pPe,{children:r.jsx(dPe,{})})})})}),r.jsx(yt,{path:"G09",element:r.jsx(Mt,{children:r.jsx(bPe,{children:r.jsx(gPe,{})})})}),r.jsx(yt,{path:"G10",element:r.jsx(Mt,{children:r.jsx(SPe,{children:r.jsx(DPe,{})})})})]}),oK=[{id:1,label:""},{id:2,label:""},{id:3,label:""}],TAt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},OAt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),vPe=e=>oK.find(t=>t.id===e),EAt=e=>oK.find(t=>t.id==e),PAt=()=>vPe(1),Mj={options:oK,getOptionLabel:TAt,isOptionEqualToValue:OAt,getOptionById:vPe,findByInput:EAt,getDefaultOption:PAt},sK=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:Mj.options,getOptionLabel:Mj.getOptionLabel,isOptionEqualToValue:Mj.isOptionEqualToValue,findByInput:Mj.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});sK.propTypes={name:l.string,label:l.string,children:l.node};sK.displayName="H01OrderTypePicker";const aK=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"SProdID",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"EProdID",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:3,children:r.jsx(ve,{alignItems:"flex-start",children:r.jsx(xr,{label:"",name:"InclTX",defaultValue:!0,variant:"outlined",size:"small",fullWidth:!0})})}),r.jsx(j,{item:!0,xs:3,children:r.jsx(xr,{label:"",name:"InclTest",defaultValue:!0,variant:"outlined",size:"small",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(sK,{name:"orderType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:1.8,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});aK.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSelect:l.func,onSubmit:l.func,onExport:l.func,onDebugSubmit:l.func};aK.displayName="H01Form";const jPe=a.createContext(),IPe=()=>{const e=Ke(),t=a.useContext(jPe),n=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]),o=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return $t(["Shift+Enter","Control+Enter"],()=>setTimeout(n),{enableOnFormTags:!0}),r.jsx(Ye,{...e,children:r.jsx(Ct,{...t.formMeta,children:r.jsx(aK,{onDebugSubmit:o,onSubmit:n})})})};IPe.displayName="H01FormContainer";const TPe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(IPe,{})]});TPe.displayName="H01Frame";const RAt=e=>{var m;const{outputType:t,SDate:n,EDate:o,SProdID:s,EProdID:i,InclTX:c,InclTest:u,orderType:d,...p}=e;return{JobName:"H01",Action:((m=t==null?void 0:t.id)==null?void 0:m.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",SProdID:(s==null?void 0:s.ProdID)||"",EProdID:(i==null?void 0:i.ProdID)||"",InclTX:c?"Y":"N",InclTest:u?"Y":"N",OrdName:d==null?void 0:d.id,...p}},rce={transformForSubmitting:RAt},wAt=()=>{var g,x;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H01"}),s=a.useContext(Sn),i=Un(),c=vt(`
		SDate,
		EDate,
		SProdID,
		EProdID,
		InclTX,
		InclTest,
		orderType,
		outputType,
		`),u=a.useMemo(()=>`${e.REPORT_URL}/WebH01Rep.aspx`,[e.REPORT_URL]),d=yn({from:"SDate",to:"EDate"}),p=a.useCallback(y=>{var v,T;console.log("onSubmit",y);const D={...rce.transformForSubmitting(y),DeptId:n.CurDeptID};i.show({data:D,url:u,title:`${(v=s.menuItemSelected)==null?void 0:v.JobID} ${(T=s.menuItemSelected)==null?void 0:T.JobName}`})},[(g=s.menuItemSelected)==null?void 0:g.JobID,(x=s.menuItemSelected)==null?void 0:x.JobName,i,n.CurDeptID,u]),m=a.useCallback(y=>{console.log("onSubmit",y);const D={...rce.transformForSubmitting(y),DeptId:n.CurDeptID};console.log("data",D),d.open(u,D)},[n.CurDeptID,u,d]),f=a.useCallback(y=>{console.error("onSubmitError",y)},[]),h=a.useCallback(({setValue:y})=>D=>{console.log("onBeforeSubmit",D),y("outputType",D)},[]);return{...o,onSubmit:m,onSubmitError:f,onDebugSubmit:p,formMeta:c,onSelect:h}},OPe=({children:e})=>{const t=wAt(),n=at({defaultValues:{SDate:null,EDate:null,InclTX:!0,InclTest:!1,orderType:Mj.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(jPe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};OPe.propTypes={children:l.oneOfType([l.array,l.element])};const iK=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(et,{name:"SalYM",label:"",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,views:["year","month"],format:"yyyy/MM"})}),r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"SProdID",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"EProdID",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:3,children:r.jsx(ve,{alignItems:"flex-start",children:r.jsx(xr,{label:"",name:"InclTX",defaultValue:!0,variant:"outlined",size:"small",fullWidth:!0})})}),r.jsx(j,{item:!0,xs:3,children:r.jsx(xr,{label:"",name:"InclTest",defaultValue:!0,variant:"outlined",size:"small",fullWidth:!0})})]}),r.jsx(ve,{mt:1.8,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});iK.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};iK.displayName="H02Form";const EPe=a.createContext(),PPe=()=>{const e=Ke(),t=a.useContext(EPe),n=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(n),{enableOnFormTags:!0});const o=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...t.formMeta,children:r.jsx(iK,{onSubmit:n,onDebugSubmit:o})})})};PPe.displayName="H02FormContainer";const RPe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(PPe,{})]});RPe.displayName="H02Frame";const HP=Object.freeze({PURCHASE:1,SALE:2,STOCK:3}),wPe=[{id:HP.SUMMARY,name:""},{id:HP.DETAIL1,name:""},{id:HP.DETAIL2,name:""}],kAt=e=>{if(!e)return"";const{name:t}=e;return`${t}`},AAt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),NAt=e=>wPe.find(t=>t.id===e),FAt=e=>{var d;const{outputType:t,SalYM:n,SProdID:o,EProdID:s,InclTX:i,InclTest:c,...u}=e;return{JobName:"H02",Action:((d=t==null?void 0:t.id)==null?void 0:d.toString())??"",SalYM:Re.formatYearMonth(n)??"",SProdID:(o==null?void 0:o.ProdID)||"",EProdID:(s==null?void 0:s.ProdID)||"",InclTX:i?"Y":"N",InclTest:c?"Y":"N",...u}},MAt=["","","","","",""],oce={transformForSubmitting:FAt,Actions:MAt,DataType:HP,dataTypeOptions:wPe,getOptionLabel:kAt,isOptionEqualToValue:AAt,getDataTypeById:NAt},_At=()=>{var h,g;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H02"}),s=a.useContext(Sn),i=Un(),c=vt(`
		SalYM,
		SProdID,
		EProdID,
		InclTX,
		InclTest,
		outputType,
		`),u=a.useMemo(()=>`${e.REPORT_URL}/WebH02Rep.aspx`,[e.REPORT_URL]),d=yn(),p=a.useCallback(x=>{var D,v;console.log("onSubmit",x);const y={...oce.transformForSubmitting(x),DeptId:n.CurDeptID};i.show({data:y,url:u,title:`${(D=s.menuItemSelected)==null?void 0:D.JobID} ${(v=s.menuItemSelected)==null?void 0:v.JobName}`})},[(h=s.menuItemSelected)==null?void 0:h.JobID,(g=s.menuItemSelected)==null?void 0:g.JobName,i,n.CurDeptID,u]),m=a.useCallback(x=>{console.log("onSubmit",x);const y={...oce.transformForSubmitting(x),DeptId:n.CurDeptID};console.log("data",y),console.log("data",y),d.open(u,y)},[n.CurDeptID,u,d]),f=a.useCallback(x=>{console.error("onSubmitError",x)},[]);return{...o,onSubmit:m,onSubmitError:f,onDebugSubmit:p,formMeta:c}},kPe=({children:e})=>{const t=_At(),n=at({defaultValues:{SalYM:null,InclTX:!0,InclTest:!1,outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(EPe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};kPe.propTypes={children:l.oneOfType([l.array,l.element])};const LAt=e=>{var p;const{outputType:t,SDate:n,EDate:o,catL:s,catM:i,InclTX:c,InclTest:u,...d}=e;return{JobName:"H03",Action:((p=t==null?void 0:t.id)==null?void 0:p.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",LClas:(s==null?void 0:s.LClas)||"",MClas:(i==null?void 0:i.MClas)||"",InclTX:c?"Y":"N",InclTest:u?"Y":"N",...d}},sce={transformForSubmitting:LAt},$At=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H03"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH03Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...sce.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...sce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},APe=a.createContext(),NPe=({children:e})=>{const t=$At(),n=at({defaultValues:{SDate:null,EDate:null,InclTX:!0,InclTest:!1,outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(APe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};NPe.propTypes={children:l.oneOfType([l.array,l.element])};const lK=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(Pl,{name:"catL",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(El,{name:"catM",disableOpenOnInput:!0,selectOnFocus:!0,catLName:"catL"})}),r.jsx(j,{item:!0,xs:3,children:r.jsx(ve,{alignItems:"flex-start",children:r.jsx(xr,{label:"",name:"InclTX",defaultValue:!0,variant:"outlined",size:"small",fullWidth:!0})})}),r.jsx(j,{item:!0,xs:3,children:r.jsx(xr,{label:"",name:"InclTest",defaultValue:!0,variant:"outlined",size:"small",fullWidth:!0})})]}),r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})]})})})})});lK.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};lK.displayName="H03Form";const FPe=()=>{const e=Ke(),t=a.useContext(APe),n=vt(`
			SDate,
			EDate,
			catL,
			catM,
			InclTX,
			InclTest,
			outputType,
			`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]),s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]),i=Ue({name:"catL",control:e.control}),c=a.useCallback(u=>{switch(u.name){case"catM":return!i;default:return!1}},[i]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,isFieldDisabled:c,children:r.jsx(lK,{onSubmit:o,onDebugSubmit:s})})})};FPe.displayName="H03FormContainer";const MPe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(FPe,{})]});MPe.displayName="H03Frame";const BAt=e=>{var f;const{outputType:t,SDate:n,EDate:o,counter:s,reportType:i,orderType:c,orderDir:u,calType:d,InclTest:p,...m}=e;return{JobName:"H04",Action:((f=t==null?void 0:t.id)==null?void 0:f.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",CaseID:(s==null?void 0:s.CodeID)||"",InclTest:p?"Y":"N",RptType:i==null?void 0:i.id,OrdName:c==null?void 0:c.id,OrdSeq:u==null?void 0:u.id,Rate:d==null?void 0:d.id,...m}},ace={transformForSubmitting:BAt},WAt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H04"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH04Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...ace.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...ace.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},_Pe=a.createContext(),cK=[{id:1,label:""},{id:2,label:"/"}],LPe=e=>cK.find(t=>t.id==e),UAt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},qAt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),VAt=e=>cK.find(t=>t.id==e),zAt=()=>LPe(2),_j={options:cK,getOptionLabel:UAt,isOptionEqualToValue:qAt,getOptionById:LPe,findByInput:VAt,getDefaultOption:zAt},uK=[{id:1,label:""},{id:2,label:""},{id:3,label:""}],HAt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},GAt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),$Pe=e=>uK.find(t=>t.id===e),KAt=e=>uK.find(t=>t.id==e),QAt=()=>$Pe(1),Lj={options:uK,getOptionLabel:HAt,isOptionEqualToValue:GAt,getOptionById:$Pe,findByInput:KAt,getDefaultOption:QAt},dK=[{id:1,label:""},{id:2,label:""}],YAt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},JAt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),BPe=e=>dK.find(t=>t.id===e),XAt=e=>dK.find(t=>t.id==e),ZAt=()=>BPe(1),$d={options:dK,getOptionLabel:YAt,isOptionEqualToValue:JAt,getOptionById:BPe,findByInput:XAt,getDefaultOption:ZAt},pK=[{id:1,label:"/"},{id:2,label:"/"}],eNt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},tNt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),WPe=e=>pK.find(t=>t.id===e),nNt=e=>pK.find(t=>t.id==e),rNt=()=>WPe(1),$j={options:pK,getOptionLabel:eNt,isOptionEqualToValue:tNt,getOptionById:WPe,findByInput:nNt,getDefaultOption:rNt},UPe=({children:e})=>{const t=WAt(),n=at({defaultValues:{SDate:null,EDate:null,InclTest:!1,reportType:_j.getDefaultOption(),orderType:Lj.getDefaultOption(),orderDir:$d.getDefaultOption(),calType:$j.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(_Pe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};UPe.propTypes={children:l.oneOfType([l.array,l.element])};const ex=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:$d.options,getOptionLabel:$d.getOptionLabel,isOptionEqualToValue:$d.isOptionEqualToValue,findByInput:$d.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});ex.propTypes={name:l.string,label:l.string,children:l.node};ex.displayName="OrderDirPicker";const mK=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:$j.options,getOptionLabel:$j.getOptionLabel,isOptionEqualToValue:$j.isOptionEqualToValue,findByInput:$j.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});mK.propTypes={name:l.string,label:l.string,children:l.node};mK.displayName="H04CalTypePicker";const fK=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:Lj.options,getOptionLabel:Lj.getOptionLabel,isOptionEqualToValue:Lj.isOptionEqualToValue,findByInput:Lj.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});fK.propTypes={name:l.string,label:l.string,children:l.node};fK.displayName="H04OrderTypePicker";const hK=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:_j.options,getOptionLabel:_j.getOptionLabel,isOptionEqualToValue:_j.isOptionEqualToValue,findByInput:_j.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});hK.propTypes={name:l.string,label:l.string,children:l.node};hK.displayName="H04ReportTypePicker";const gK=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(Qb,{name:"counter",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(xr,{label:"",name:"InclTest",defaultValue:!0,variant:"outlined",size:"small",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(hK,{name:"reportType",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(fK,{name:"orderType",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ex,{name:"orderDir",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(mK,{name:"calType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:1,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});gK.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};gK.displayName="H04Form";const qPe=()=>{const e=Ke(),t=a.useContext(_Pe),n=vt(`
			SDate,
			EDate,
			counter,
			InclTest,
			reportType,
			orderType,
			orderDir,
			calType,
			outputType,
			`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(gK,{onSubmit:o,onDebugSubmit:s})})})};qPe.displayName="H04FormContainer";const VPe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(qPe,{})]});VPe.displayName="H04Frame";const zPe=a.createContext(),bK=[{id:1,label:""},{id:2,label:""},{id:3,label:""}],HPe=e=>bK.find(t=>t.id==e),oNt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},sNt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),aNt=e=>bK.find(t=>t.id==e),iNt=()=>HPe(1),Bj={options:bK,getOptionLabel:oNt,isOptionEqualToValue:sNt,getOptionById:HPe,findByInput:aNt,getDefaultOption:iNt},lNt=e=>{var y;const{SDate:t,EDate:n,retail:o,SalType:s,SCustID:i,ECustID:c,SAreaID:u,EAreaID:d,SLineID:p,ELineID:m,reportType:f,InclTest:h,outputType:g,...x}=e;return console.log("ignore props",o),{JobName:"H05",Action:((y=g==null?void 0:g.id)==null?void 0:y.toString())||"",SDate:Re.formatDate(t)||"",EDate:Re.formatDate(n)||"",SalType:(s==null?void 0:s.id)||"",SCustID:(i==null?void 0:i.CustID)||"",ECustID:(c==null?void 0:c.CustID)||"",SAreaID:(u==null?void 0:u.CodeID)||"",EAreaID:(d==null?void 0:d.CodeID)||"",SLineID:(p==null?void 0:p.CodeID)||"",ELineID:(m==null?void 0:m.CodeID)||"",InclTest:h?"Y":"N",RptType:f==null?void 0:f.id,...x}},ice={transformForSubmitting:lNt},cNt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H05"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH05Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...ice.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...ice.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},GPe=({children:e})=>{const t=cNt(),n=at({defaultValues:{SDate:null,EDate:null,SCustID:null,ECustID:null,InclTest:!1,reportType:Bj.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(zPe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};GPe.propTypes={children:l.oneOfType([l.array,l.element])};const xK=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:Bj.options,getOptionLabel:Bj.getOptionLabel,isOptionEqualToValue:Bj.isOptionEqualToValue,findByInput:Bj.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});xK.propTypes={name:l.string,label:l.string,children:l.node};xK.displayName="H05ReportTypePicker";const yK=a.memo(e=>{const{forNewCustomer:t,onSubmit:n,onDebugSubmit:o,...s}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:n,...s,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(rp,{name:"SalType",label:"",fullWidth:!0,validate:!0,clearable:!0})})]}),r.jsx(xr,{label:"",name:"retail",defaultValue:!1,size:"small"}),r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:t?"":"",leftComponent:r.jsx(ho,{name:"SCustID",size:"small",virtualize:!0,forNew:t,disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""}),rightComponent:r.jsx(ho,{name:"ECustID",size:"small",virtualize:!0,forNew:t,disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(Tl,{name:"SAreaID",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(Tl,{name:"EAreaID",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(sc,{name:"SLineID",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(sc,{name:"ELineID",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(xK,{name:"reportType",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(xr,{label:"",name:"InclTest",defaultValue:!0,size:"small"})})]}),r.jsx(ve,{mt:1,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:n,onDebugSubmit:o})})})]})})]})})})})});yK.propTypes={readWorking:l.bool,forNewCustomer:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};yK.displayName="H05Form";const KPe=()=>{const e=Ke(),t=a.useContext(zPe),n=Ue({name:"retail",control:e.control}),o=vt(`
			SDate,
			EDate,
			SalType,
			retail,
			SCustID,
			ECustID,
			SAreaID,
			EAreaID,
			SLineID,
			ELineID,
			reportType,
			InclTest,
			outputType,
			`),s=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]),i=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return $t(["Shift+Enter","Control+Enter"],()=>setTimeout(s),{enableOnFormTags:!0}),r.jsx(Ye,{...e,children:r.jsx(Ct,{...o,children:r.jsx(yK,{forNewCustomer:n,onSubmit:s,onDebugSubmit:i})})})};KPe.displayName="H05FormContainer";const QPe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(KPe,{})]});QPe.displayName="H05Frame";const YPe=a.createContext(),CK=[{id:1,label:""},{id:2,label:""},{id:3,label:""}],uNt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},dNt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),JPe=e=>CK.find(t=>t.id===e),pNt=e=>CK.find(t=>t.id==e),mNt=()=>JPe(1),Wj={options:CK,getOptionLabel:uNt,isOptionEqualToValue:dNt,getOptionById:JPe,findByInput:pNt,getDefaultOption:mNt},fNt=e=>{var T;const{SDate:t,EDate:n,SalType:o,retail:s,SCustID:i,ECustID:c,SAreaID:u,EAreaID:d,SLineID:p,ELineID:m,SProdID:f,EProdID:h,InclTest:g,outputType:x,orderType:y,orderDir:D,...v}=e;return console.log("ignore props",s),{JobName:"H06",Action:((T=x==null?void 0:x.id)==null?void 0:T.toString())||"",SDate:Re.formatDate(t)||"",EDate:Re.formatDate(n)||"",SalType:(o==null?void 0:o.id)||"",SCustID:(i==null?void 0:i.CustID)||"",ECustID:(c==null?void 0:c.CustID)||"",SAreaID:(u==null?void 0:u.CodeID)||"",EAreaID:(d==null?void 0:d.CodeID)||"",SLineID:(p==null?void 0:p.CodeID)||"",ELineID:(m==null?void 0:m.CodeID)||"",SProdID:(f==null?void 0:f.ProdID)||"",EProdID:(h==null?void 0:h.ProdID)||"",InclTest:g?"Y":"N",OrdName:y==null?void 0:y.id,OrdSeq:D==null?void 0:D.id,...v}},lce={transformForSubmitting:fNt},hNt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H06"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH06Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...lce.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...lce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},XPe=({children:e})=>{const t=hNt(),n=at({defaultValues:{SDate:null,EDate:null,SCustID:null,ECustID:null,InclTest:!1,orderType:Wj.getDefaultOption(),orderDir:$d.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(YPe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};XPe.propTypes={children:l.oneOfType([l.array,l.element])};const DK=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:Wj.options,getOptionLabel:Wj.getOptionLabel,isOptionEqualToValue:Wj.isOptionEqualToValue,findByInput:Wj.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});DK.propTypes={name:l.string,label:l.string,children:l.node};DK.displayName="H06OrderTypePicker";const SK=a.memo(e=>{const{forNewCustomer:t,onSubmit:n,onDebugSubmit:o,...s}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:n,...s,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6.5,children:r.jsx(rp,{name:"SalType",label:"",fullWidth:!0,validate:!0,clearable:!0})})]}),r.jsx(xr,{label:"",name:"retail",defaultValue:!1,size:"small"}),r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:t?"":"",leftComponent:r.jsx(ho,{name:"SCustID",size:"small",virtualize:!0,forNew:t,disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""}),rightComponent:r.jsx(ho,{name:"ECustID",size:"small",virtualize:!0,forNew:t,disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(Tl,{name:"SAreaID",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(Tl,{name:"EAreaID",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(sc,{name:"SLineID",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(sc,{name:"ELineID",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"SProdID",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"EProdID",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:3,children:r.jsx(xr,{label:"",name:"InclTest",defaultValue:!0,variant:"outlined",size:"small",fullWidth:!0})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(DK,{name:"orderType",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ex,{name:"orderDir",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:1,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(Ms,{item:!0,xs:12,sm:6,alignItems:"center"}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:n,onDebugSubmit:o})})})]})})]})})})})});SK.propTypes={readWorking:l.bool,forNewCustomer:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};SK.displayName="H06Form";const ZPe=()=>{const e=Ke(),t=a.useContext(YPe),n=Ue({name:"retail",control:e.control}),o=vt(`
			SDate,
			EDate,
			SalType,
			retail,
			SCustID,
			ECustID,
			SAreaID,
			EAreaID,
			SLineID,
			ELineID,
			SProdID,
			EProdID,
			InclTest,
			orderType,
			orderDir,
			outputType,
			`),s=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]),i=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return $t(["Shift+Enter","Control+Enter"],()=>setTimeout(s),{enableOnFormTags:!0}),r.jsx(Ye,{...e,children:r.jsx(Ct,{...o,children:r.jsx(SK,{forNewCustomer:n,onSubmit:s,onDebugSubmit:i})})})};ZPe.displayName="H06FormContainer";const eRe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(ZPe,{})]});eRe.displayName="H06Frame";const tRe=a.createContext(),vK=[{id:1,label:""},{id:2,label:""},{id:3,label:""},{id:4,label:""}],gNt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},bNt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),nRe=e=>vK.find(t=>t.id===e),xNt=e=>vK.find(t=>t.id==e),yNt=()=>nRe(1),Uj={options:vK,getOptionLabel:gNt,isOptionEqualToValue:bNt,getOptionById:nRe,findByInput:xNt,getDefaultOption:yNt},CNt=e=>{var f;const{outputType:t,SDate:n,EDate:o,SalType:s,orderType:i,orderDir:c,InclTest:u,SProdID:d,EProdID:p,...m}=e;return{JobName:"H07",Action:((f=t==null?void 0:t.id)==null?void 0:f.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",SalType:(s==null?void 0:s.id)||"",SProdID:(d==null?void 0:d.ProdID)||"",EProdID:(p==null?void 0:p.ProdID)||"",InclTest:(u==null?void 0:u.id)||"",OrdName:i==null?void 0:i.id,OrdSeq:c==null?void 0:c.id,...m}},cce={transformForSubmitting:CNt},DNt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H07"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH07Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...cce.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...cce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},rRe=({children:e})=>{const t=DNt(),n=at({defaultValues:{SDate:null,EDate:null,InclTest:!1,orderType:Uj.getDefaultOption(),orderDir:$d.getOptionById(2),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(tRe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};rRe.propTypes={children:l.oneOfType([l.array,l.element])};const uce=Object.freeze({YES:"Y",NO:"N"}),oRe=[{id:uce.YES,label:""},{id:uce.NO,label:""}],SNt=e=>{if(!e)return"";const{id:t,label:n}=e;return`[${t||"  "}] ${n}`},vNt=e=>oRe.find(t=>{var n;return((n=t.id)==null?void 0:n.toLowerCase())===(e==null?void 0:e.toLowerCase())}),jNt=(e,t)=>(e==null?void 0:e.id)==(t==null?void 0:t.id),DP={options:oRe,getOptionLabel:SNt,findOptionByInput:vNt,isOptionEqualToValue:jNt},jK=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(bt,{ref:t,fullWidth:!0,label:"",options:DP.options,getOptionLabel:DP.getOptionLabel,isOptionEqualToValue:DP.isOptionEqualToValue,findByInput:DP.findOptionByInput,notFoundText:" ${input} ",placeholder:"Y: N:, : ",...n})}));jK.propTypes={label:l.string,children:l.node};jK.displayName="ProdFreeTypePicker";const IK=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:Uj.options,getOptionLabel:Uj.getOptionLabel,isOptionEqualToValue:Uj.isOptionEqualToValue,findByInput:Uj.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});IK.propTypes={name:l.string,label:l.string,children:l.node};IK.displayName="H07OrderTypePicker";const TK=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"SProdID",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:"",autoHighlight:!0}),rightComponent:r.jsx(fn,{name:"EProdID",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(rp,{name:"SalType",label:"",fullWidth:!0,validate:!0,clearable:!0})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(jK,{name:"InclTest",label:"",fullWidth:!0,clearable:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(IK,{name:"orderType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});TK.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};TK.displayName="H07Form";const sRe=()=>{const e=Ke(),t=a.useContext(tRe),n=vt(`
			SDate,
			EDate,
			SProdID,
			EProdID,
			SalType,
			InclTest,
			orderType,
			outputType,
			`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]),s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return $t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0}),r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(TK,{onSubmit:o,onDebugSubmit:s})})})};sRe.displayName="H07FormContainer";const aRe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(sRe,{})]});aRe.displayName="H07Frame";const iRe=a.createContext(),OK=[{id:1,label:""},{id:2,label:""},{id:3,label:""}],INt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},TNt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),lRe=e=>OK.find(t=>t.id===e),ONt=e=>OK.find(t=>t.id==e),ENt=()=>lRe(1),qj={options:OK,getOptionLabel:INt,isOptionEqualToValue:TNt,getOptionById:lRe,findByInput:ONt,getDefaultOption:ENt},PNt=e=>{var h;const{outputType:t,retail:n,SalType:o,SCustID:s,ECustID:i,SDate:c,EDate:u,orderType:d,orderDir:p,InclTest:m,...f}=e;return console.log("ignore props",n),{JobName:"H08",Action:((h=t==null?void 0:t.id)==null?void 0:h.toString())||"",SDate:Re.formatDate(c)||"",EDate:Re.formatDate(u)||"",SalType:(o==null?void 0:o.id)||"",SCustID:(s==null?void 0:s.CustID)||"",ECustID:(i==null?void 0:i.CustID)||"",InclTest:(m==null?void 0:m.id)||"",OrdName:d==null?void 0:d.id,OrdSeq:p==null?void 0:p.id,...f}},dce={transformForSubmitting:PNt},RNt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H08"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH08Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...dce.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...dce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},cRe=({children:e})=>{const t=RNt(),n=at({defaultValues:{SDate:null,EDate:null,SCustID:null,ECustID:null,orderType:qj.getDefaultOption(),orderDir:$d.getOptionById(2),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(iRe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};cRe.propTypes={children:l.oneOfType([l.array,l.element])};const EK=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:qj.options,getOptionLabel:qj.getOptionLabel,isOptionEqualToValue:qj.isOptionEqualToValue,findByInput:qj.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});EK.propTypes={name:l.string,label:l.string,children:l.node};EK.displayName="H08OrderTypePicker";const PK=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,forNewCustomer:o,...s}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...s,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(rp,{name:"SalType",label:"",fullWidth:!0,validate:!0,clearable:!0})})]}),r.jsx(xr,{label:"",name:"retail",defaultValue:!1,size:"small"}),r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:o?"":"",leftComponent:r.jsx(ho,{name:"SCustID",size:"small",virtualize:!0,forNew:o,disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""}),rightComponent:r.jsx(ho,{name:"ECustID",size:"small",virtualize:!0,forNew:o,disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(EK,{name:"orderType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:1,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(Ms,{item:!0,xs:12,sm:6,alignItems:"center"}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});PK.propTypes={forNewCustomer:l.bool,readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};PK.displayName="H08Form";const uRe=()=>{const e=Ke(),t=a.useContext(iRe),n=vt(`
			SDate,
			EDate,
			SalType,
			retail,
			SCustID,
			ECustID,
			orderType,
			orderDir,
			outputType,
			`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]),i=Ue({name:"retail",control:e.control});return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(PK,{forNewCustomer:i,onSubmit:o,onDebugSubmit:s})})})};uRe.displayName="H08FormContainer";const dRe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(uRe,{})]});dRe.displayName="H08Frame";const wNt=e=>{var x;const{outputType:t,SDate1:n,EDate1:o,SDate2:s,EDate2:i,SAreaID:c,EAreaID:u,SLineID:d,ELineID:p,SalType:m,TopNo:f,reportType:h,...g}=e;return{JobName:"H10",Action:((x=t==null?void 0:t.id)==null?void 0:x.toString())||"",SDate1:Re.formatDate(n)||"",EDate1:Re.formatDate(o)||"",SDate2:Re.formatDate(s)||"",EDate2:Re.formatDate(i)||"",SAreaID:(c==null?void 0:c.CodeID)||"",EAreaID:(u==null?void 0:u.CodeID)||"",SLineID:(d==null?void 0:d.CodeID)||"",ELineID:(p==null?void 0:p.CodeID)||"",RptType:h==null?void 0:h.id,SalType:(m==null?void 0:m.id)||"",TopNo:(f==null?void 0:f.toString())||"",...g}},pce={transformForSubmitting:wNt},kNt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H10"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH10Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate1",to:"EDate1"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...pce.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...pce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},pRe=a.createContext(),RK=[{id:1,label:""},{id:2,label:""}],mRe=e=>RK.find(t=>t.id==e),ANt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},NNt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),FNt=e=>RK.find(t=>t.id==e),MNt=()=>mRe(1),Vj={options:RK,getOptionLabel:ANt,isOptionEqualToValue:NNt,getOptionById:mRe,findByInput:FNt,getDefaultOption:MNt},fRe=({children:e})=>{const t=kNt(),n=at({defaultValues:{SDate1:null,EDate1:null,SDate2:null,EDate2:null,TopNo:10,reportType:Vj.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(pRe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};fRe.propTypes={children:l.oneOfType([l.array,l.element])};const wK=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:Vj.options,getOptionLabel:Vj.getOptionLabel,isOptionEqualToValue:Vj.isOptionEqualToValue,findByInput:Vj.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});wK.propTypes={name:l.string,label:l.string,children:l.node};wK.displayName="H10ReportTypePicker";const kK=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"()",required:!0,leftComponent:r.jsx(et,{name:"SDate1",required:!0,rules:{required:"()"},fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate1",required:!0,rules:{required:"()"},fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"()",required:!0,leftComponent:r.jsx(et,{name:"SDate2",rules:{required:"()"},fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate2",rules:{required:"()"},fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(Tl,{name:"SAreaID",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(Tl,{name:"EAreaID",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(sc,{name:"SLineID",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(sc,{name:"ELineID",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6.5,children:r.jsx(rp,{name:"SalType",label:"",fullWidth:!0,validate:!0,clearable:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx($e,{name:"TopNo",label:"/,",type:"number",size:"small",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(wK,{name:"reportType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:1,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(Ms,{item:!0,xs:12,sm:6,alignItems:"center"}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});kK.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};kK.displayName="H10Form";const hRe=()=>{const e=Ke(),t=a.useContext(pRe),n=vt(`
			SDate1,
			EDate1,
			SDate2,
			EDate2,
			SAreaID,
			EAreaID,
			SLineID,
			ELineID,
			SalType,
			TopNo,
			reportType,
			outputType,
			`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(kK,{onSubmit:o,onDebugSubmit:s})})})};hRe.displayName="H10FormContainer";const gRe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(hRe,{})]});gRe.displayName="H10Frame";const bRe=a.createContext(),_Nt=e=>{var D;const{Year:t,Season:n,SalType:o,SAreaID:s,EAreaID:i,SLineID:c,ELineID:u,TopNo:d,outputType:p,SDate:m,EDate:f,reportType:h,numbers:g,ranks:x,...y}=e;return{JobName:"H11",Action:((D=p==null?void 0:p.id)==null?void 0:D.toString())||"",Year:Re.formatYear(t)||"",Season:n||"",SDate:Re.formatDate(m)||"",EDate:Re.formatDate(f)||"",SalType:(o==null?void 0:o.id)||"",SAreaID:(s==null?void 0:s.CodeID)||"",EAreaID:(i==null?void 0:i.CodeID)||"",SLineID:(c==null?void 0:c.CodeID)||"",ELineID:(u==null?void 0:u.CodeID)||"",TopNo:d,RptType:(h==null?void 0:h.id)||"",Limit:g.filter(v=>v!=null).map(v=>(v==null?void 0:v.toString())||""),Level:x.filter(v=>v!=null).map(v=>(v==null?void 0:v.toString())||""),...y}},mce={transformForSubmitting:_Nt},LNt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H11"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH11Rep.aspx`,[e.REPORT_URL]),u=yn(),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...mce.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...mce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},AK=[{id:1,label:""},{id:2,label:""}],xRe=e=>AK.find(t=>t.id==e),$Nt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},BNt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),WNt=e=>AK.find(t=>t.id==e),UNt=()=>xRe(1),zj={options:AK,getOptionLabel:$Nt,isOptionEqualToValue:BNt,getOptionById:xRe,findByInput:WNt,getDefaultOption:UNt},yRe=({children:e})=>{const t=LNt(),n=at({defaultValues:{SDate:null,EDate:null,TopNo:10,outputType:jn.getDefaultOption(),reportType:zj.getDefaultOption(),ranks:["A","B","C","D",null,null],numbers:[1e5,5e4,2e4,0,null,null]}});return r.jsx(Ye,{...n,children:r.jsx(bRe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};yRe.propTypes={children:l.oneOfType([l.array,l.element])};const NK=a.memo(a.forwardRef((e,t)=>{const{options:n,...o}=e;return r.jsx(bt,{ref:t,fullWidth:!0,label:"",options:n,...o})}));NK.propTypes={options:l.array,label:l.string,children:l.node};NK.displayName="ValuePicker";const qNt=({labelSize:e})=>{switch(e){case"large":return"1.2rem";case"medium":return"1rem";case"small":default:return"0.8rem"}},VNt=Gd(Ns,{shouldForwardProp:e=>!["labelSize"].includes(e)})(({theme:e,labelSize:t="small"})=>{const n=qNt({labelSize:t});return{margin:0,borderWidth:1,borderColor:"#bebebe",borderStyle:"solid",padding:0,borderRadius:e.shape.borderRadius,"& .fieldset-legend":{fontSize:n,paddingLeft:"0.5em",paddingRight:"0.5em"}}}),CRe=({label:e,children:t,labelProps:n,labelStyles:o=[],sx:s=[],...i})=>r.jsxs(VNt,{component:"fieldset",sx:[{},...Array.isArray(s)?s:[s]],...i,children:[e&&r.jsx(kT,{component:"legend",className:"fieldset-legend",sx:[...Array.isArray(o)?o:[o]],...n,children:e}),t]});CRe.propTypes={label:l.string,children:l.oneOfType([l.node,l.array]),labelProps:l.object,sx:l.oneOfType([l.object,l.array]),labelStyles:l.oneOfType([l.object,l.array])};const zNt=e=>{const{name:t="values",rankName:n,control:o}=e||{},[s,i]=a.useState([{rank:"A",value:1e5},{rank:"B",value:5e4},{rank:"C",value:2e4},{rank:"D",value:0},{rank:"E",value:null},{rank:"F",value:null}]),c=a.useCallback((p,m)=>{const f=[...s];f[p].rank=m,i(f)},[s]),u=a.useCallback((p,m)=>{const f=[...s];f[p].value=Number(m)||0,i(f)},[s]),d=Ue({name:t,control:o});return r.jsx(jt,{p:1,children:r.jsx(j,{container:!0,spacing:1,children:d.map((p,m)=>r.jsxs(r.Fragment,{children:[r.jsx(j,{item:!0,xs:4,children:r.jsx($e,{name:`${n}[${m}]`,onChange:f=>c(m,f.target.value),fullWidth:!0,size:"small",variant:"standard",InputProps:{inputProps:{style:{textAlign:"right"}}}})}),r.jsx(j,{item:!0,xs:8,children:r.jsx($e,{name:`${t}[${m}]`,type:"number",onChange:f=>u(m,f.target.value),fullWidth:!0,size:"small",variant:"standard",InputProps:{inputProps:{style:{textAlign:"right"}}}})})]}))})})},FK=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:zj.options,getOptionLabel:zj.getOptionLabel,isOptionEqualToValue:zj.isOptionEqualToValue,findByInput:zj.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});FK.propTypes={name:l.string,label:l.string,children:l.node};FK.displayName="H11ReportTypePicker";const MK=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,spacing:1,children:[r.jsx(j,{item:!0,xs:12,sm:8,children:r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(et,{autoFocus:!0,name:"Year",label:"",validate:!0,clearable:!0,views:["year"],format:_o.DATEFNS_YEAR,required:!0,rules:{required:""}})}),r.jsx(j,{item:!0,xs:4,children:r.jsx(NK,{label:"",name:"Season",options:[1,2,3,4],disableClearable:!0,required:!0,rules:{required:""}})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(Tl,{name:"SAreaID",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(Tl,{name:"EAreaID",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(sc,{name:"SLineID",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(sc,{name:"ELineID",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(rp,{name:"SalType",label:"",fullWidth:!0,validate:!0,clearable:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx($e,{name:"TopNo",label:"/,",type:"number",size:"small",fullWidth:!0})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(FK,{name:"reportType",disableOpenOnInput:!0,selectOnFocus:!0})})]})}),r.jsx(j,{item:!0,xs:12,sm:4,children:r.jsx(CRe,{label:" ",children:r.jsx(zNt,{name:"numbers",rankName:"ranks"})})})]}),r.jsx(ve,{mt:1,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(Ms,{item:!0,xs:12,sm:6,alignItems:"center"}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});MK.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};MK.displayName="H11Form";const DRe=()=>{const e=Ke(),t=a.useContext(bRe),n=vt(`
			Year,
			Season,
			SAreaID,
			EAreaID,
			SLineID,
			ELineID,
			SalType,
			TopNo,
			reportType,
			outputType,
			ranks[0],
			numbers[0],
			ranks[1],
			numbers[1],
			ranks[2],
			numbers[2],
			ranks[3],
			numbers[3],
			ranks[4],
			numbers[4],
			ranks[5],
			numbers[5],
			`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(MK,{onSubmit:o,onDebugSubmit:s})})})};DRe.displayName="H11FormContainer";const SRe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(DRe,{})]});SRe.displayName="H11Frame";const vRe=a.createContext(),HNt=e=>{var d;const{outputType:t,SDate:n,EDate:o,InclTest:s,SCustID:i,ECustID:c,...u}=e;return{JobName:"H13",Action:((d=t==null?void 0:t.id)==null?void 0:d.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",SCustID:(i==null?void 0:i.CustID)||"",ECustID:(c==null?void 0:c.CustID)||"",InclTest:s?"Y":"N",...u}},fce={transformForSubmitting:HNt},GNt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H13"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH13Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...fce.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...fce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},jRe=({children:e})=>{const t=GNt(),n=at({defaultValues:{SDate:null,EDate:null,SCustID:null,ECustID:null,InclTest:!1,outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(vRe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};jRe.propTypes={children:l.oneOfType([l.array,l.element])};const _K=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(ho,{name:"SCustID",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""}),rightComponent:r.jsx(ho,{name:"ECustID",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(xr,{label:"",name:"InclTest",defaultValue:!0,variant:"outlined",size:"small",fullWidth:!0})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx($e,{name:"Local",label:"(%)",type:"number",size:"small",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx($e,{name:"Out",label:"(%)",type:"number",size:"small",fullWidth:!0})})]}),r.jsx(ve,{mt:1,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(Ms,{item:!0,xs:12,sm:6,alignItems:"center"}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});_K.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};_K.displayName="H13Form";const IRe=()=>{const e=Ke(),t=a.useContext(vRe),n=vt(`
			SDate,
			EDate,
			SCustID,
			ECustID,
			InclTest,
			Local,
			Out,
			outputType,
			`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(_K,{onSubmit:o,onDebugSubmit:s})})})};IRe.displayName="H13FormContainer";const TRe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(IRe,{})]});TRe.displayName="H13Frame";const ORe=a.createContext(),KNt=e=>{var x,y;const{outputType:t,SDate:n,EDate:o,SalType:s,retail:i,SCustID:c,ECustID:u,SProdID:d,EProdID:p,SType:m,reportType:f,orderType:h,...g}=e;return console.log("ignore props",i),{JobName:"H141",Action:((x=t==null?void 0:t.id)==null?void 0:x.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",SalType:s?"Y":"N",SProdID:(d==null?void 0:d.ProdID)||"",EProdID:(p==null?void 0:p.ProdID)||"",SType:((y=m==null?void 0:m.id)==null?void 0:y.toString())??"",SCustID:(c==null?void 0:c.CustID)||"",ECustID:(u==null?void 0:u.CustID)||"",RptType:f==null?void 0:f.id,OrdName:h==null?void 0:h.id,...g}},hce={transformForSubmitting:KNt},QNt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H141"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH141Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...hce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...hce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},LK=[{id:1,label:""},{id:2,label:"/"}],YNt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},JNt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),ERe=e=>LK.find(t=>t.id===e),XNt=e=>LK.find(t=>t.id==e),ZNt=()=>ERe(1),Hj={options:LK,getOptionLabel:YNt,isOptionEqualToValue:JNt,getOptionById:ERe,findByInput:XNt,getDefaultOption:ZNt},$K=[{id:1,label:""},{id:2,label:""},{id:3,label:""}],PRe=e=>$K.find(t=>t.id==e),eFt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},tFt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),nFt=e=>$K.find(t=>t.id==e),rFt=()=>PRe(1),Gj={options:$K,getOptionLabel:eFt,isOptionEqualToValue:tFt,getOptionById:PRe,findByInput:nFt,getDefaultOption:rFt},RRe=({children:e})=>{const t=QNt(),n=at({defaultValues:{SDate:null,EDate:null,SalType:!1,SCustID:null,ECustID:null,reportType:Gj.getDefaultOption(),orderType:Hj.getDefaultOption(),SType:null,outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(ORe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};RRe.propTypes={children:l.oneOfType([l.array,l.element])};const oFt=[{id:1,label:""},{id:2,label:""},{id:3,label:""}],sFt=e=>{if(!e)return"";const{id:t,label:n}=e;return`[${t||"  "}] ${n}`},aFt=(e,t)=>(e==null?void 0:e.id)==(t==null?void 0:t.id),SP={options:oFt,getOptionLabel:sFt,isOptionEqualToValue:aFt},GD=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(bt,{ref:t,fullWidth:!0,label:"",options:SP.options,getOptionLabel:SP.getOptionLabel,isOptionEqualToValue:SP.isOptionEqualToValue,findByInput:SP.findOptionByInput,notFoundText:" ${input} ",placeholder:"1,2,3,()++",...n})}));GD.propTypes={label:l.string,children:l.node};GD.displayName="ProdFreeTypePickerV2";const BK=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:Hj.options,getOptionLabel:Hj.getOptionLabel,isOptionEqualToValue:Hj.isOptionEqualToValue,findByInput:Hj.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});BK.propTypes={name:l.string,label:l.string,children:l.node};BK.displayName="H141OrderTypePicker";const WK=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:Gj.options,getOptionLabel:Gj.getOptionLabel,isOptionEqualToValue:Gj.isOptionEqualToValue,findByInput:Gj.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});WK.propTypes={name:l.string,label:l.string,children:l.node};WK.displayName="H141ReportTypePicker";const UK=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,forNewCustomer:o=!1,...s}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...s,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"SProdID",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"EProdID",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(xr,{variant:"outlined",fullWidth:!0,label:"",name:"SalType",defaultValue:!1,size:"small"})})]}),r.jsx(xr,{label:"",name:"retail",defaultValue:!1,size:"small"}),r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:o?"":"",leftComponent:r.jsx(ho,{name:"SCustID",size:"small",virtualize:!0,forNew:o,disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""}),rightComponent:r.jsx(ho,{name:"ECustID",size:"small",virtualize:!0,forNew:o,disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(GD,{label:"",name:"SType",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(WK,{label:"",name:"reportType",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(BK,{name:"orderType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:1,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(Ms,{item:!0,xs:12,sm:6,alignItems:"center"}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});UK.propTypes={forNewCustomer:l.bool,readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};UK.displayName="H141Form";const wRe=()=>{const e=Ke(),t=a.useContext(ORe),n=vt(`
			SDate,
			EDate,
			SProdID,
			EProdID,
			SalType,
			retail,
			SCustID,
			ECustID,
			SType,
			reportType,
			orderType,
			outputType,
			`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]),i=Ue({name:"retail",control:e.control});return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(UK,{forNewCustomer:i,onSubmit:o,onDebugSubmit:s})})})};wRe.displayName="H14_1FormContainer";const kRe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(wRe,{})]});kRe.displayName="H14_1FrameContainer";const ARe=a.createContext(),qK=[{id:1,label:""},{id:2,label:""},{id:3,label:""}],NRe=e=>qK.find(t=>t.id==e),iFt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},lFt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),cFt=e=>qK.find(t=>t.id==e),uFt=()=>NRe(1),Kj={options:qK,getOptionLabel:iFt,isOptionEqualToValue:lFt,getOptionById:NRe,findByInput:cFt,getDefaultOption:uFt},dFt=e=>{var g;const{outputType:t,SDate:n,EDate:o,retail:s,cust:i,cust2:c,SProdID:u,EProdID:d,reason:p,reportType:m,SalType:f,...h}=e;return console.log("ignore props",s),{JobName:"H15",Action:((g=t==null?void 0:t.id)==null?void 0:g.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",SCustID:(i==null?void 0:i.CustID)||"",ECustID:(c==null?void 0:c.CustID)||"",SProdID:(u==null?void 0:u.ProdID)||"",EProdID:(d==null?void 0:d.ProdID)||"",SalType:f?"Y":"N",RsnID:(p==null?void 0:p.CodeID)||"",RptType:m==null?void 0:m.id,...h}},gce={transformForSubmitting:dFt},pFt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H15"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH15Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...gce.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...gce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},FRe=({children:e})=>{const t=pFt(),n=at({defaultValues:{SDate:null,EDate:null,reportType:Kj.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(ARe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};FRe.propTypes={children:l.oneOfType([l.array,l.element])};const VK=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:Kj.options,getOptionLabel:Kj.getOptionLabel,isOptionEqualToValue:Kj.isOptionEqualToValue,findByInput:Kj.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});VK.propTypes={name:l.string,label:l.string,children:l.node};VK.displayName="H15ReportTypePicker";const zK=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,forNewCustomer:o,...s}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...s,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{autoFocus:!0,name:"SDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"SProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"EProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(xr,{label:"",name:"SalType",defaultValue:!1,variant:"outlined",size:"small",fullWidth:!0})})]}),r.jsx(xr,{label:"",name:"retail",defaultValue:!1,size:"small"}),r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:o?"":"",leftComponent:r.jsx(ho,{name:"cust",size:"small",virtualize:!0,forNew:o,disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""}),rightComponent:r.jsx(ho,{name:"cust2",size:"small",virtualize:!0,forNew:o,disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(tg,{label:"",name:"reason",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(VK,{label:"",name:"reportType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:1.8,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});zK.propTypes={forNewCustomer:l.bool,readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};zK.displayName="H15Form";const MRe=()=>{const e=Ke(),t=a.useContext(ARe),n=vt(`
			SDate,
			EDate,
			SProdID,
			EProdID,
			SalType,
			retail,
			cust,
			cust2,
			reason,
			reportType,
			outputType,
			`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]),i=Ue({name:"retail",control:e.control});return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(zK,{forNewCustomer:i,onSubmit:o,onDebugSubmit:s})})})};MRe.displayName="H15FormContainer";const _Re=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(MRe,{})]});_Re.displayName="H15Frame";const LRe=a.createContext(),HK=[{id:1,label:""},{id:2,label:""},{id:3,label:""}],mFt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},fFt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),$Re=e=>HK.find(t=>t.id===e),hFt=e=>HK.find(t=>t.id==e),gFt=()=>$Re(1),Qj={options:HK,getOptionLabel:mFt,isOptionEqualToValue:fFt,getOptionById:$Re,findByInput:hFt,getDefaultOption:gFt},GK=[{id:1,label:""},{id:2,label:"+"},{id:3,label:""}],BRe=e=>GK.find(t=>t.id==e),bFt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},xFt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),yFt=e=>GK.find(t=>t.id==e),CFt=()=>BRe(1),Yj={options:GK,getOptionLabel:bFt,isOptionEqualToValue:xFt,getOptionById:BRe,findByInput:yFt,getDefaultOption:CFt},DFt=e=>{var x;const{outputType:t,SDate:n,EDate:o,SArrDate:s,EArrDate:i,cust:c,cust2:u,orderType:d,SProdID:p,EProdID:m,reportType:f,retail:h,...g}=e;return console.log("ignore props",h),{JobName:"H16",Action:((x=t==null?void 0:t.id)==null?void 0:x.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",SArrDate:Re.formatDate(s)||"",EArrDate:Re.formatDate(i)||"",SProdID:(p==null?void 0:p.ProdID)||"",EProdID:(m==null?void 0:m.ProdID)||"",SCustID:(c==null?void 0:c.CustID)||"",ECustID:(u==null?void 0:u.CustID)||"",OrdName:d==null?void 0:d.id,RptType:f==null?void 0:f.id,...g}},bce={transformForSubmitting:DFt},SFt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H16"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH16Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...bce.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...bce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},WRe=({children:e})=>{const t=SFt(),n=at({defaultValues:{SDate:null,EDate:null,SArrDate:null,EArrDate:null,reportType:Yj.getDefaultOption(),orderType:Qj.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(LRe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};WRe.propTypes={children:l.oneOfType([l.array,l.element])};const KK=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:Qj.options,getOptionLabel:Qj.getOptionLabel,isOptionEqualToValue:Qj.isOptionEqualToValue,findByInput:Qj.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});KK.propTypes={name:l.string,label:l.string,children:l.node};KK.displayName="H16OrderTypePicker";const QK=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:Yj.options,getOptionLabel:Yj.getOptionLabel,isOptionEqualToValue:Yj.isOptionEqualToValue,findByInput:Yj.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});QK.propTypes={name:l.string,label:l.string,children:l.node};QK.displayName="H16ReportTypePicker";const YK=a.memo(e=>{const{forNewCustomer:t,onSubmit:n,onDebugSubmit:o,...s}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:n,...s,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{autoFocus:!0,name:"SDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SArrDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EArrDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"SProdID",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"EProdID",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})})]}),r.jsx(xr,{label:"",name:"retail",defaultValue:!1,size:"small"}),r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:t?"":"",leftComponent:r.jsx(ho,{name:"cust",size:"small",virtualize:!0,forNew:t,disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""}),rightComponent:r.jsx(ho,{name:"cust2",size:"small",virtualize:!0,forNew:t,disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(QK,{label:"",name:"reportType",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(KK,{name:"orderType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:1,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:n,onDebugSubmit:o})})})]})})]})})})})});YK.propTypes={forNewCustomer:l.bool,readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};YK.displayName="H16Form";const URe=()=>{const e=Ke(),t=a.useContext(LRe),n=vt(`
			SDate,
			EDate,
			SArrDate,
			EArrDate,
			SProdID,
			EProdID,
			retail,
			cust,
			cust2,
			reportType,
			orderType,
			outputType,
			`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]),i=Ue({name:"retail",control:e.control});return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(YK,{forNewCustomer:i,onSubmit:o,onDebugSubmit:s})})})};URe.displayName="H16FormContainer";const qRe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(URe,{})]});qRe.displayName="H16Frame";const VRe=a.createContext(),JK=[{id:1,label:""},{id:2,label:""}],vFt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},jFt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),zRe=e=>JK.find(t=>t.id===e),IFt=e=>JK.find(t=>t.id==e),TFt=()=>zRe(1),Jj={options:JK,getOptionLabel:vFt,isOptionEqualToValue:jFt,getOptionById:zRe,findByInput:IFt,getDefaultOption:TFt},XK=[{id:1,label:""},{id:2,label:"/"}],HRe=e=>XK.find(t=>t.id==e),OFt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},EFt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),PFt=e=>XK.find(t=>t.id==e),RFt=()=>HRe(2),wFt={options:XK,getOptionLabel:OFt,isOptionEqualToValue:EFt,getOptionById:HRe,findByInput:PFt,getDefaultOption:RFt},kFt=e=>{var h;const{outputType:t,SArrDate:n,EArrDate:o,cust:s,cust2:i,SalType:c,orderType:u,SProdID:d,EProdID:p,reportType:m,...f}=e;return{JobName:"H17",Action:((h=t==null?void 0:t.id)==null?void 0:h.toString())||"",SArrDate:Re.formatDate(n)||"",EArrDate:Re.formatDate(o)||"",SalType:(c==null?void 0:c.id)||"",SCustID:(s==null?void 0:s.CustID)||"",ECustID:(i==null?void 0:i.CustID)||"",SProdID:(d==null?void 0:d.ProdID)||"",EProdID:(p==null?void 0:p.ProdID)||"",OrdName:u==null?void 0:u.id,RptType:m==null?void 0:m.id,...f}},xce={transformForSubmitting:kFt},AFt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H17"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH17Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SArrDate",to:"EArrDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...xce.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...xce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},GRe=({children:e})=>{const t=AFt(),n=at({defaultValues:{SArrDate:null,EArrDate:null,reportType:wFt.getDefaultOption(),orderType:Jj.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(VRe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};GRe.propTypes={children:l.oneOfType([l.array,l.element])};const ZK=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:Jj.options,getOptionLabel:Jj.getOptionLabel,isOptionEqualToValue:Jj.isOptionEqualToValue,findByInput:Jj.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});ZK.propTypes={name:l.string,label:l.string,children:l.node};ZK.displayName="H17OrderTypePicker";const eQ=a.memo(e=>{const{forNewCustomer:t,onSubmit:n,onDebugSubmit:o,...s}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:n,...s,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{autoFocus:!0,name:"SArrDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EArrDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(rp,{name:"SalType",label:"",fullWidth:!0,validate:!0,clearable:!0,placeholder:"<>=+"})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:t?"":"",leftComponent:r.jsx(ho,{name:"cust",label:"",size:"small",virtualize:!0,forNew:t,disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""}),rightComponent:r.jsx(ho,{name:"cust2",label:"",size:"small",virtualize:!0,forNew:t,disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"SProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"EProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ZK,{name:"orderType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:1,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:n,onDebugSubmit:o})})})]})})]})})})})});eQ.propTypes={forNewCustomer:l.bool,readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};eQ.displayName="H17Form";const KRe=()=>{const e=Ke(),t=a.useContext(VRe),n=vt(`
			SArrDate,
			EArrDate,
			SalType,
			cust,
			cust2,
			SProdID,
			EProdID,
			orderType,
			outputType,
			`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]),i=Ue({name:"retail",control:e.control});return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(eQ,{forNewCustomer:i,onSubmit:o,onDebugSubmit:s})})})};KRe.displayName="H17FormContainer";const QRe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(KRe,{})]});QRe.displayName="H17Frame";const YRe=a.createContext(),NFt=e=>{var h,g;const{outputType:t,SDate:n,EDate:o,SProdID:s,EProdID:i,SDeptID:c,EDeptID:u,SType:d,reportType:p,orderType:m,...f}=e;return{JobName:"H143",Action:((h=t==null?void 0:t.id)==null?void 0:h.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",SProdID:(s==null?void 0:s.ProdID)||"",EProdID:(i==null?void 0:i.ProdID)||"",SDeptID:(c==null?void 0:c.DeptID)||"",EDeptID:(u==null?void 0:u.DeptID)||"",SType:((g=d==null?void 0:d.id)==null?void 0:g.toString())??"",RptType:p==null?void 0:p.id,OrdName:m==null?void 0:m.id,...f}},yce={transformForSubmitting:NFt},FFt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H143"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH143Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...yce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...yce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},tQ=[{id:1,label:""},{id:2,label:"/"}],MFt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},_Ft=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),JRe=e=>tQ.find(t=>t.id===e),LFt=e=>tQ.find(t=>t.id==e),$Ft=()=>JRe(1),Xj={options:tQ,getOptionLabel:MFt,isOptionEqualToValue:_Ft,getOptionById:JRe,findByInput:LFt,getDefaultOption:$Ft},nQ=[{id:1,label:""},{id:2,label:""},{id:3,label:""}],XRe=e=>nQ.find(t=>t.id==e),BFt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},WFt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),UFt=e=>nQ.find(t=>t.id==e),qFt=()=>XRe(1),Zj={options:nQ,getOptionLabel:BFt,isOptionEqualToValue:WFt,getOptionById:XRe,findByInput:UFt,getDefaultOption:qFt},ZRe=({children:e})=>{const t=FFt(),n=at({defaultValues:{SDate:null,EDate:null,reportType:Zj.getDefaultOption(),orderType:Xj.getDefaultOption(),SType:null,outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(YRe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};ZRe.propTypes={children:l.oneOfType([l.array,l.element])};const rQ=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:Xj.options,getOptionLabel:Xj.getOptionLabel,isOptionEqualToValue:Xj.isOptionEqualToValue,findByInput:Xj.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});rQ.propTypes={name:l.string,label:l.string,children:l.node};rQ.displayName="H141OrderTypePicker";const oQ=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:Zj.options,getOptionLabel:Zj.getOptionLabel,isOptionEqualToValue:Zj.isOptionEqualToValue,findByInput:Zj.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});oQ.propTypes={name:l.string,label:l.string,children:l.node};oQ.displayName="H141ReportTypePicker";const sQ=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,forNewCustomer:o=!1,...s}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...s,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"SProdID",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"EProdID",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(Uo,{name:"SDeptID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(Uo,{name:"EDeptID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(GD,{label:"",name:"SType",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(oQ,{label:"",name:"reportType",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(rQ,{name:"orderType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:1,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(Ms,{item:!0,xs:12,sm:6,alignItems:"center"}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});sQ.propTypes={forNewCustomer:l.bool,readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};sQ.displayName="H141Form";const ewe=()=>{const e=Ke(),t=a.useContext(YRe),n=vt(`
			SDate,
			EDate,
			SProdID,
			EProdID,
			SDeptID,
			EDeptID,
			SType,
			reportType,
			orderType,
			outputType,
			`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]),i=Ue({name:"retail",control:e.control});return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(sQ,{forNewCustomer:i,onSubmit:o,onDebugSubmit:s})})})};ewe.displayName="H141FormContainer";const twe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(ewe,{})]});twe.displayName="H141Frame";const nwe=a.createContext(),VFt=e=>{var h,g;const{outputType:t,SDate:n,EDate:o,SProdID:s,EProdID:i,SPDlineID:c,EPDlineID:u,SType:d,reportType:p,orderType:m,...f}=e;return{JobName:"H142",Action:((h=t==null?void 0:t.id)==null?void 0:h.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",SProdID:(s==null?void 0:s.ProdID)||"",EProdID:(i==null?void 0:i.ProdID)||"",SPDlineID:(c==null?void 0:c.CodeID)||"",EPDlineID:(u==null?void 0:u.CodeID)||"",SType:((g=d==null?void 0:d.id)==null?void 0:g.toString())??"",RptType:p==null?void 0:p.id,OrdName:m==null?void 0:m.id,...f}},Cce={transformForSubmitting:VFt},zFt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H142"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH142Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...Cce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...Cce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},aQ=[{id:1,label:""},{id:2,label:"/"}],HFt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},GFt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),rwe=e=>aQ.find(t=>t.id===e),KFt=e=>aQ.find(t=>t.id==e),QFt=()=>rwe(1),e1={options:aQ,getOptionLabel:HFt,isOptionEqualToValue:GFt,getOptionById:rwe,findByInput:KFt,getDefaultOption:QFt},iQ=[{id:1,label:""},{id:2,label:""},{id:3,label:""}],owe=e=>iQ.find(t=>t.id==e),YFt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},JFt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),XFt=e=>iQ.find(t=>t.id==e),ZFt=()=>owe(1),t1={options:iQ,getOptionLabel:YFt,isOptionEqualToValue:JFt,getOptionById:owe,findByInput:XFt,getDefaultOption:ZFt},swe=({children:e})=>{const t=zFt(),n=at({defaultValues:{SDate:null,EDate:null,SProdID:null,EProdID:null,SPDlineID:null,EPDlineID:null,reportType:t1.getDefaultOption(),orderType:e1.getDefaultOption(),SType:null,outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(nwe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};swe.propTypes={children:l.oneOfType([l.array,l.element])};const lQ=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:e1.options,getOptionLabel:e1.getOptionLabel,isOptionEqualToValue:e1.isOptionEqualToValue,findByInput:e1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});lQ.propTypes={name:l.string,label:l.string,children:l.node};lQ.displayName="H141OrderTypePicker";const cQ=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:t1.options,getOptionLabel:t1.getOptionLabel,isOptionEqualToValue:t1.isOptionEqualToValue,findByInput:t1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});cQ.propTypes={name:l.string,label:l.string,children:l.node};cQ.displayName="H141ReportTypePicker";const uQ=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,forNewCustomer:o=!1,...s}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...s,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"SProdID",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"EProdID",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(Xo,{name:"SPDlineID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(Xo,{name:"EPDlineID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(GD,{label:"",name:"SType",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(cQ,{label:"",name:"reportType",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(lQ,{name:"orderType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:1,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(Ms,{item:!0,xs:12,sm:6,alignItems:"center"}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});uQ.propTypes={forNewCustomer:l.bool,readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};uQ.displayName="H141Form";const awe=()=>{const e=Ke(),t=a.useContext(nwe),n=vt(`
			SDate,
			EDate,
			SProdID,
			EProdID,
			SPDlineID,
			EPDlineID,
			SType,
			reportType,
			orderType,
			outputType,
			`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]),i=Ue({name:"retail",control:e.control});return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(uQ,{forNewCustomer:i,onSubmit:o,onDebugSubmit:s})})})};awe.displayName="H141FormContainer";const iwe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(awe,{})]});iwe.displayName="H14_2FrameContainer";const eMt=r.jsxs(r.Fragment,{children:[r.jsx(yt,{path:"H01",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(OPe,{children:r.jsx(TPe,{})})})})}),r.jsx(yt,{path:"H02",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(kPe,{children:r.jsx(RPe,{})})})})}),r.jsx(yt,{path:"H03",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(NPe,{children:r.jsx(MPe,{})})})})}),r.jsx(yt,{path:"H04",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(UPe,{children:r.jsx(VPe,{})})})})}),r.jsx(yt,{path:"H05",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(GPe,{children:r.jsx(QPe,{})})})})}),r.jsx(yt,{path:"H06",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(XPe,{children:r.jsx(eRe,{})})})})}),r.jsx(yt,{path:"H07",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(rRe,{children:r.jsx(aRe,{})})})})}),r.jsx(yt,{path:"H08",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(cRe,{children:r.jsx(dRe,{})})})})}),r.jsx(yt,{path:"H10",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(fRe,{children:r.jsx(gRe,{})})})})}),r.jsx(yt,{path:"H11",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(yRe,{children:r.jsx(SRe,{})})})})}),r.jsx(yt,{path:"H13",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(jRe,{children:r.jsx(TRe,{})})})})}),r.jsx(yt,{path:"H141",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(RRe,{children:r.jsx(kRe,{})})})})}),r.jsx(yt,{path:"H142",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(swe,{children:r.jsx(iwe,{})})})})}),r.jsx(yt,{path:"H143",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(ZRe,{children:r.jsx(twe,{})})})})}),r.jsx(yt,{path:"H15",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(FRe,{children:r.jsx(_Re,{})})})})}),r.jsx(yt,{path:"H16",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(WRe,{children:r.jsx(qRe,{})})})})}),r.jsx(yt,{path:"H17",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(GRe,{children:r.jsx(QRe,{})})})})})]}),tMt=e=>{var m;const{outputType:t,CutYM:n,SProdID:o,EProdID:s,catL:i,catM:c,catS:u,counter:d,...p}=e;return{JobName:"H21",Action:((m=t==null?void 0:t.id)==null?void 0:m.toString())||"",CutYM:Re.formatDate(n,_o.DATEFNS_YEAR_AND_MONTH)||"",SProdID:(o==null?void 0:o.ProdID)||"",EProdID:(s==null?void 0:s.ProdID)||"",LClas:(i==null?void 0:i.LClas)||"",MClas:(c==null?void 0:c.MClas)||"",SClas:(u==null?void 0:u.SClas)||"",CaseID:(d==null?void 0:d.CodeID)||"",...p}},Dce={transformForSubmitting:tMt},nMt=()=>{var g,x;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H21"}),s=a.useContext(Sn),i=Un(),{httpGetAsync:c}=Zn(),u=a.useMemo(()=>`${e.REPORT_URL}/WebH21Rep.aspx`,[e.REPORT_URL]),d=yn({month:"CutYM"}),p=a.useCallback(y=>{var v,T;console.log("onSubmit",y);const D={...Dce.transformForSubmitting(y),DeptId:n.CurDeptID};i.show({data:D,url:u,title:`${(v=s.menuItemSelected)==null?void 0:v.JobID} ${(T=s.menuItemSelected)==null?void 0:T.JobName}`})},[(g=s.menuItemSelected)==null?void 0:g.JobID,(x=s.menuItemSelected)==null?void 0:x.JobName,i,n.CurDeptID,u]),m=a.useCallback(y=>{console.log("onSubmit",y);const D={...Dce.transformForSubmitting(y),DeptId:n.CurDeptID};console.log("data",D),d.open(u,D)},[n.CurDeptID,u,d]),f=a.useCallback(y=>{console.error("onSubmitError",y)},[]),h=a.useCallback(async()=>{const{status:y,payload:D}=await c({url:"v2/ou/dept/params/cut-ym",bearer:t});if(y.success)return D.CutYM},[c,t]);return{...o,onSubmit:m,onSubmitError:f,onDebugSubmit:p,getCutYM:h}},lwe=a.createContext(),cwe=({children:e})=>{const t=nMt(),n=at({defaultValues:{outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(lwe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};cwe.propTypes={children:l.oneOfType([l.array,l.element])};const dQ=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(et,{name:"CutYM",label:"",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,views:["year","month"],format:_o.DATEFNS_YEAR_AND_MONTH})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"SProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"EProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(Pl,{name:"catL",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(El,{name:"catM",disableOpenOnInput:!0,selectOnFocus:!0,catLName:"catL"})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ou,{name:"catS",disableOpenOnInput:!0,selectOnFocus:!0,catMName:"catM"})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(Qb,{name:"counter",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:1,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});dQ.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};dQ.displayName="H21Form";const uwe=()=>{const e=Ke(),{reset:t}=e,n=a.useContext(lwe),o=vt(`
			CutYM,
			SProdID,
			EProdID,
			catL,
			catM,
			catS,
			counter,
			outputType,
			`),s=a.useMemo(()=>e.handleSubmit(n.onSubmit,n.onSubmitError),[n.onSubmit,n.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(s),{enableOnFormTags:!0});const i=a.useMemo(()=>e.handleSubmit(n.onDebugSubmit),[n.onDebugSubmit,e]),c=Ue({name:"catL",control:e.control}),u=Ue({name:"catM",control:e.control}),d=a.useCallback(p=>{switch(p.name){case"catM":return!c;case"catS":return!u;default:return!1}},[c,u]);return En(async()=>{const p=await n.getCutYM();t({outputType:jn.getDefaultOption(),CutYM:p?Re.parseDate(p,_o.DATEFNS_YEAR_AND_MONTH):null})},[]),r.jsx(Ye,{...e,children:r.jsx(Ct,{...o,isFieldDisabled:d,children:r.jsx(dQ,{onSubmit:s,onDebugSubmit:i})})})};uwe.displayName="H21FormContainer";const dwe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(uwe,{})]});dwe.displayName="H21Frame";const pwe=a.createContext(),rMt=e=>{var c;const{outputType:t,SProdID:n,EProdID:o,counter:s,...i}=e;return{JobName:"H22",Action:((c=t==null?void 0:t.id)==null?void 0:c.toString())||"",SProdID:(n==null?void 0:n.ProdID)||"",EProdID:(o==null?void 0:o.ProdID)||"",CaseID:(s==null?void 0:s.CodeID)||"",...i}},Sce={transformForSubmitting:rMt},oMt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H22"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH22Rep.aspx`,[e.REPORT_URL]),u=yn(),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...Sce.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...Sce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},mwe=({children:e})=>{const t=oMt(),n=at({defaultValues:{outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(pwe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};mwe.propTypes={children:l.oneOfType([l.array,l.element])};const pQ=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{autoFocus:!0,name:"SProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"EProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(Qb,{name:"counter",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});pQ.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};pQ.displayName="H22Form";const fwe=()=>{const e=Ke(),t=a.useContext(pwe),n=vt(`
			SProdID,
			EProdID,
			counter,
			outputType
			`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(pQ,{onSubmit:o,onDebugSubmit:s})})})};fwe.displayName="H22FormContainer";const hwe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(fwe,{})]});hwe.displayName="H22Frame";const sMt=e=>{var g;const{outputType:t,SDate:n,EDate:o,SProdID:s,EProdID:i,SDeptID:c,EDeptID:u,SPDlineID:d,EPDlineID:p,reportType:m,orderType:f,...h}=e;return{JobName:"H24",Action:((g=t==null?void 0:t.id)==null?void 0:g.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",SProdID:(s==null?void 0:s.ProdID)||"",EProdID:(i==null?void 0:i.ProdID)||"",SDeptID:(c==null?void 0:c.DeptID)||"",EDeptID:(u==null?void 0:u.DeptID)||"",SPDlineID:(d==null?void 0:d.CodeID)||"",EPDlineID:(p==null?void 0:p.CodeID)||"",RptType:m==null?void 0:m.id,OrdName:f==null?void 0:f.id,...h}},vce={transformForSubmitting:sMt},aMt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H24"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH24Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...vce.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...vce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},gwe=a.createContext(),mQ=[{id:1,label:""},{id:2,label:"+"},{id:3,label:""}],bwe=e=>mQ.find(t=>t.id==e),iMt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},lMt=(e,t)=>(e==null?void 0:e.id)==(t==null?void 0:t.id),cMt=e=>mQ.find(t=>t.id==e),uMt=()=>bwe(1),n1={options:mQ,getOptionLabel:iMt,isOptionEqualToValue:lMt,getOptionById:bwe,findByInput:cMt,getDefaultOption:uMt},fQ=[{id:1,label:""},{id:2,label:""},{id:3,label:""}],dMt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},pMt=(e,t)=>(e==null?void 0:e.id)==(t==null?void 0:t.id),xwe=e=>fQ.find(t=>t.id==e),mMt=e=>fQ.find(t=>{var n;return((n=t.id)==null?void 0:n.toLowerCase())==(e==null?void 0:e.toLowerCase())}),fMt=()=>xwe(1),r1={options:fQ,getOptionLabel:dMt,isOptionEqualToValue:pMt,getOptionById:xwe,findByInput:mMt,getDefaultOption:fMt},ywe=({children:e})=>{const t=aMt(),n=at({defaultValues:{SDate:null,EDate:null,SProdID:null,EProdID:null,SDeptID:null,EDeptID:null,SPDlineID:null,EPDlineID:null,reportType:n1.getDefaultOption(),orderType:r1.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(gwe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};ywe.propTypes={children:l.oneOfType([l.array,l.element])};const hQ=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:r1.options,getOptionLabel:r1.getOptionLabel,isOptionEqualToValue:r1.isOptionEqualToValue,findByInput:r1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});hQ.propTypes={name:l.string,label:l.string,children:l.node};hQ.displayName="H24OrderTypePicker";const gQ=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:n1.options,getOptionLabel:n1.getOptionLabel,isOptionEqualToValue:n1.isOptionEqualToValue,findByInput:n1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});gQ.propTypes={name:l.string,label:l.string,children:l.node};gQ.displayName="H24ReportTypePicker";const bQ=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{autoFocus:!0,name:"SDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"SProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"EProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(Xo,{name:"SPDlineID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(Xo,{name:"EPDlineID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(gQ,{name:"reportType",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(hQ,{name:"orderType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});bQ.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};bQ.displayName="H24Form";const Cwe=()=>{const e=Ke(),t=a.useContext(gwe),n=vt(`
		SDate,
		EDate,
		SProdID,
		EProdID,
		SDeptID,
		EDeptID,
		SPDlineID,
		ELineID,
		reportType,
		orderType,
		outputType
		`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(bQ,{onSubmit:o,onDebugSubmit:s})})})};Cwe.displayName="H24FormContainer";const Dwe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(Cwe,{})]});Dwe.displayName="H24Frame";const hMt=e=>{var d;const{outputType:t,ArrDate:n,SFactID:o,EFactID:s,SProdID:i,EProdID:c,...u}=e;return{JobName:"H25",Action:((d=t==null?void 0:t.id)==null?void 0:d.toString())||"",ArrDate:Re.formatDate(n)||"",SFactID:(o==null?void 0:o.FactID)||"",EFactID:(s==null?void 0:s.FactID)||"",SProdID:(i==null?void 0:i.ProdID)||"",EProdID:(c==null?void 0:c.ProdID)||"",...u}},jce={transformForSubmitting:hMt},gMt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H25"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH25Rep.aspx`,[e.REPORT_URL]),u=yn(),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...jce.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...jce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},Swe=a.createContext(),vwe=({children:e})=>{const t=gMt(),n=at({defaultValues:{ArrDate:null,SFactID:null,EFactID:null,SProdID:null,EProdID:null,outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(Swe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};vwe.propTypes={children:l.oneOfType([l.array,l.element])};const xQ=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(et,{name:"ArrDate",label:"",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(xa,{label:"",name:"SFactID",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(xa,{label:"",name:"EFactID",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"SProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"EProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})})]}),r.jsx(ve,{mt:1,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});xQ.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};xQ.displayName="H25Form";const jwe=()=>{const e=Ke(),t=a.useContext(Swe),n=vt(`
			ArrDate,
			SFactID,
			EFactID,
			SProdID,
			EProdID,
			outputType,
			`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(xQ,{onSubmit:o,onDebugSubmit:s})})})};jwe.displayName="H25FormContainer";const Iwe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(jwe,{})]});Iwe.displayName="H25Frame";const Twe=a.createContext(),bMt=e=>{var g;const{outputType:t,SDate:n,EDate:o,SArrDate:s,EArrDate:i,SProdID:c,EProdID:u,SDeptID:d,EDeptID:p,reportType:m,orderType:f,...h}=e;return{JobName:"H26",Action:((g=t==null?void 0:t.id)==null?void 0:g.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",SArrDate:Re.formatDate(s)||"",EArrDate:Re.formatDate(i)||"",SProdID:(c==null?void 0:c.ProdID)||"",EProdID:(u==null?void 0:u.ProdID)||"",SDeptID:(d==null?void 0:d.DeptID)||"",EDeptID:(p==null?void 0:p.DeptID)||"",RptType:m==null?void 0:m.id,OrdName:f==null?void 0:f.id,...h}},Ice={transformForSubmitting:bMt},xMt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H26"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH26Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...Ice.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...Ice.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},yQ=[{id:1,label:""},{id:2,label:"+"},{id:3,label:""}],Owe=e=>yQ.find(t=>t.id==e),yMt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},CMt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),DMt=e=>yQ.find(t=>t.id==e),SMt=()=>Owe(1),o1={options:yQ,getOptionLabel:yMt,isOptionEqualToValue:CMt,getOptionById:Owe,findByInput:DMt,getDefaultOption:SMt},CQ=[{id:1,label:""},{id:2,label:""},{id:3,label:""}],vMt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},jMt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),Ewe=e=>CQ.find(t=>t.id==e),IMt=e=>CQ.find(t=>t.id==e),TMt=()=>Ewe(1),s1={options:CQ,getOptionLabel:vMt,isOptionEqualToValue:jMt,getOptionById:Ewe,findByInput:IMt,getDefaultOption:TMt},Pwe=({children:e})=>{const t=xMt(),n=at({defaultValues:{SDate:null,EDate:null,SArrDate:null,EArrDate:null,reportType:o1.getDefaultOption(),orderType:s1.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(Twe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};Pwe.propTypes={children:l.oneOfType([l.array,l.element])};const DQ=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:s1.options,getOptionLabel:s1.getOptionLabel,isOptionEqualToValue:s1.isOptionEqualToValue,findByInput:s1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});DQ.propTypes={name:l.string,label:l.string,children:l.node};DQ.displayName="H26OrderTypePicker";const SQ=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:o1.options,getOptionLabel:o1.getOptionLabel,isOptionEqualToValue:o1.isOptionEqualToValue,findByInput:o1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});SQ.propTypes={name:l.string,label:l.string,children:l.node};SQ.displayName="H26ReportTypePicker";const vQ=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{autoFocus:!0,name:"SDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SArrDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0}),rightComponent:r.jsx(et,{name:"EArrDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0})})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{label:"",name:"SProdID",disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:"",slotProps:{paper:{sx:{width:360}}}}),rightComponent:r.jsx(fn,{label:"",name:"EProdID",disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:"",slotProps:{paper:{sx:{width:360}}}})})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(Uo,{name:"SDeptID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(Uo,{name:"EDeptID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(SQ,{name:"reportType",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(DQ,{name:"orderType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});vQ.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};vQ.displayName="H26Form";const Rwe=()=>{const e=Ke(),t=a.useContext(Twe),n=vt(`
			SDate,
			EDate,
			SArrDate,
			EArrDate,
			SProdID,
			EProdID,
			SDeptID,
			EDeptID,
			reportType,
			orderType,
			outputType
			`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(vQ,{onSubmit:o,onDebugSubmit:s})})})};Rwe.displayName="H26FormContainer";const wwe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(Rwe,{})]});wwe.displayName="H26Frame";const kwe=a.createContext(),OMt=e=>{var d;const{outputType:t,SArrDate:n,EArrDate:o,SDeptID:s,EDeptID:i,orderType:c,...u}=e;return{JobName:"H27",Action:((d=t==null?void 0:t.id)==null?void 0:d.toString())||"",SArrDate:Re.formatDate(n)||"",EArrDate:Re.formatDate(o)||"",SDeptID:(s==null?void 0:s.DeptID)||"",EDeptID:(i==null?void 0:i.DeptID)||"",OrdName:c==null?void 0:c.id,...u}},Tce={transformForSubmitting:OMt},EMt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H27"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH27Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SArrDate",to:"EArrDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...Tce.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...Tce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},jQ=[{id:1,label:""},{id:2,label:""}],PMt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},RMt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),Awe=e=>jQ.find(t=>t.id===e),wMt=e=>jQ.find(t=>t.id==e),kMt=()=>Awe(1),a1={options:jQ,getOptionLabel:PMt,isOptionEqualToValue:RMt,getOptionById:Awe,findByInput:wMt,getDefaultOption:kMt},Nwe=({children:e})=>{const t=EMt(),n=at({defaultValues:{SArrDate:null,EArrDate:null,SDeptID:null,EDeptID:null,orderType:a1.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(kwe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};Nwe.propTypes={children:l.oneOfType([l.array,l.element])};const IQ=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:a1.options,getOptionLabel:a1.getOptionLabel,isOptionEqualToValue:a1.isOptionEqualToValue,findByInput:a1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});IQ.propTypes={name:l.string,label:l.string,children:l.node};IQ.displayName="H27OrderTypePicker";const TQ=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{autoFocus:!0,name:"SArrDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EArrDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(Uo,{name:"SDeptID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(Uo,{name:"EDeptID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(IQ,{name:"orderType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});TQ.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};TQ.displayName="H27Form";const Fwe=()=>{const e=Ke(),t=a.useContext(kwe),n=vt(`
			SArrDate,
			EArrDate,
			SDeptID,
			EDeptID,
			orderType,
			outputType
			`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(TQ,{onSubmit:o,onDebugSubmit:s})})})};Fwe.displayName="H27FormContainer";const Mwe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(Fwe,{})]});Mwe.displayName="H27Frame";const AMt=e=>{var u;const{outputType:t,SDate:n,EDate:o,SProdID:s,EProdID:i,...c}=e;return{JobName:"H28",Action:((u=t==null?void 0:t.id)==null?void 0:u.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",SProdID:(s==null?void 0:s.ProdID)||"",EProdID:(i==null?void 0:i.ProdID)||"",...c}},Oce={transformForSubmitting:AMt},NMt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H28"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH28Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...Oce.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...Oce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},_we=a.createContext(),Lwe=({children:e})=>{const t=NMt(),n=at({defaultValues:{SDate:null,EDate:null,SProdID:null,EProdID:null,outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(_we.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};Lwe.propTypes={children:l.oneOfType([l.array,l.element])};const OQ=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",label:"",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"SProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"EProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})})]}),r.jsx(ve,{mt:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});OQ.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};OQ.displayName="H28Form";const $we=()=>{const e=Ke(),t=a.useContext(_we),n=vt(`
			SDate,
			EDate,
			SProdID,
			EProdID,
			outputType,
			`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(OQ,{onSubmit:o,onDebugSubmit:s})})})};$we.displayName="H28FormContainer";const Bwe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx($we,{})]});Bwe.displayName="H28Frame";const FMt=e=>{var p;const{outputType:t,SDate:n,EDate:o,SFactID:s,EFactID:i,SProdID:c,EProdID:u,...d}=e;return{JobName:"H30",Action:((p=t==null?void 0:t.id)==null?void 0:p.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",SFactID:(s==null?void 0:s.FactID)||"",EFactID:(i==null?void 0:i.FactID)||"",SProdID:(c==null?void 0:c.ProdID)||"",EProdID:(u==null?void 0:u.ProdID)||"",...d}},Ece={transformForSubmitting:FMt},MMt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H30"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH30Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...Ece.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...Ece.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},Wwe=a.createContext(),Uwe=({children:e})=>{const t=MMt(),n=at({defaultValues:{SDate:null,EDate:null,SFactID:null,EFactID:null,SProdID:null,EProdID:null,outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(Wwe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};Uwe.propTypes={children:l.oneOfType([l.array,l.element])};const EQ=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",label:"",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(xa,{label:"",name:"SFactID",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(xa,{label:"",name:"EFactID",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"SProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"EProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})})]}),r.jsx(ve,{mt:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});EQ.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};EQ.displayName="H30Form";const qwe=()=>{const e=Ke(),t=a.useContext(Wwe),n=vt(`
			SDate,
			EDate,
			SFactID,
			EFactID,
			SProdID,
			EProdID,
			outputType,
			`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(EQ,{onSubmit:o,onDebugSubmit:s})})})};qwe.displayName="H30FormContainer";const Vwe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(qwe,{})]});Vwe.displayName="H30Frame";const _Mt=e=>{var m,f;const{outputType:t,SDate:n,EDate:o,SFactID:s,EFactID:i,SProdID:c,EProdID:u,orderType:d,...p}=e;return{JobName:"H31",Action:((m=t==null?void 0:t.id)==null?void 0:m.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",SProdID:(c==null?void 0:c.ProdID)||"",EProdID:(u==null?void 0:u.ProdID)||"",SFactID:(s==null?void 0:s.FactID)||"",EFactID:(i==null?void 0:i.FactID)||"",OrdName:((f=d==null?void 0:d.id)==null?void 0:f.toString())??"",...p}},Pce={transformForSubmitting:_Mt},LMt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H31"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH31Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...Pce.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...Pce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},zwe=a.createContext(),PQ=[{id:1,label:""},{id:2,label:""},{id:3,label:""},{id:4,label:""}],$Mt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},BMt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),Hwe=e=>PQ.find(t=>t.id===e),WMt=e=>PQ.find(t=>t.id==e),UMt=()=>Hwe(1),i1={options:PQ,getOptionLabel:$Mt,isOptionEqualToValue:BMt,getOptionById:Hwe,findByInput:WMt,getDefaultOption:UMt},Gwe=({children:e})=>{const t=LMt(),n=at({defaultValues:{SDate:null,EDate:null,SProdID:null,EProdID:null,SFactID:null,EFactID:null,orderType:i1.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(zwe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};Gwe.propTypes={children:l.oneOfType([l.array,l.element])};const RQ=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:i1.options,getOptionLabel:i1.getOptionLabel,isOptionEqualToValue:i1.isOptionEqualToValue,findByInput:i1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});RQ.propTypes={name:l.string,label:l.string,children:l.node};RQ.displayName="H31OrderTypePicker";const wQ=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",label:"",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"SProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"EProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(xa,{label:"",name:"SFactID",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(xa,{label:"",name:"EFactID",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:6,children:r.jsx(RQ,{name:"orderType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});wQ.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};wQ.displayName="H31Form";const Kwe=()=>{const e=Ke(),t=a.useContext(zwe),n=vt(`
			SDate,
			EDate,
			SProdID,
			EProdID,
			SFactID,
			EFactID,
			orderType,
			outputType,
			`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(wQ,{onSubmit:o,onDebugSubmit:s})})})};Kwe.displayName="H31FormContainer";const Qwe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(Kwe,{})]});Qwe.displayName="H31Frame";const qMt=e=>{var u;const{outputType:t,SDate:n,EDate:o,SFactID:s,EFactID:i,...c}=e;return{JobName:"H32",Action:((u=t==null?void 0:t.id)==null?void 0:u.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",SFactID:(s==null?void 0:s.FactID)||"",EFactID:(i==null?void 0:i.FactID)||"",...c}},Rce={transformForSubmitting:qMt},VMt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H32"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH32Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...Rce.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...Rce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},Ywe=a.createContext(),Jwe=({children:e})=>{const t=VMt(),n=at({defaultValues:{SDate:null,EDate:null,SFactID:null,EFactID:null,outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(Ywe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};Jwe.propTypes={children:l.oneOfType([l.array,l.element])};const kQ=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",label:"",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(xa,{label:"",name:"SFactID",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(xa,{label:"",name:"EFactID",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})})]}),r.jsx(ve,{mt:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});kQ.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};kQ.displayName="H32Form";const Xwe=()=>{const e=Ke(),t=a.useContext(Ywe),n=vt(`
			SDate,
			EDate,
			SFactID,
			EFactID,
			outputType,
			`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(kQ,{onSubmit:o,onDebugSubmit:s})})})};Xwe.displayName="H32FormContainer";const Zwe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(Xwe,{})]});Zwe.displayName="H32Frame";const eke=a.createContext(),zMt=e=>{var f;const{outputType:t,SDate:n,EDate:o,SDeptID:s,EDeptID:i,SIDeptID:c,EIDeptID:u,reportType:d,orderType:p,...m}=e;return{JobName:"H34",Action:((f=t==null?void 0:t.id)==null?void 0:f.toString())??"",SDate:Re.formatDate(n)??"",EDate:Re.formatDate(o)??"",SDeptID:(s==null?void 0:s.DeptID)??"",EDeptID:(i==null?void 0:i.DeptID)??"",SIDeptID:(c==null?void 0:c.DeptID)??"",EIDeptID:(u==null?void 0:u.DeptID)??"",RptType:d==null?void 0:d.id,OrdName:p==null?void 0:p.id,...m}},wce={transformForSubmitting:zMt},HMt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H34"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH34Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...wce.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...wce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},AQ=[{id:1,label:""},{id:2,label:""},{id:3,label:""}],tke=e=>AQ.find(t=>t.id==e),GMt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},KMt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),QMt=e=>AQ.find(t=>t.id==e),YMt=()=>tke(1),l1={options:AQ,getOptionLabel:GMt,isOptionEqualToValue:KMt,getOptionById:tke,findByInput:QMt,getDefaultOption:YMt},NQ=[{id:1,label:""},{id:2,label:""}],JMt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},XMt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),nke=e=>NQ.find(t=>t.id===e),ZMt=e=>NQ.find(t=>t.id==e),e_t=()=>nke(1),c1={options:NQ,getOptionLabel:JMt,isOptionEqualToValue:XMt,getOptionById:nke,findByInput:ZMt,getDefaultOption:e_t},rke=({children:e})=>{const t=HMt(),n=at({defaultValues:{SDate:null,EDate:null,SDeptID:null,EDeptID:null,SIDeptID:null,EIDeptID:null,reportType:l1.getDefaultOption(),orderType:c1.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(eke.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};rke.propTypes={children:l.oneOfType([l.array,l.element])};const FQ=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:c1.options,getOptionLabel:c1.getOptionLabel,isOptionEqualToValue:c1.isOptionEqualToValue,findByInput:c1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});FQ.propTypes={name:l.string,label:l.string,children:l.node};FQ.displayName="H34OrderTypePicker";const MQ=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:l1.options,getOptionLabel:l1.getOptionLabel,isOptionEqualToValue:l1.isOptionEqualToValue,findByInput:l1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});MQ.propTypes={name:l.string,label:l.string,children:l.node};MQ.displayName="H34ReportTypePicker";const _Q=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(et,{autoFocus:!0,name:"SDate",label:"",fullWidth:!0,validate:!0,clearable:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,clearable:!0})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(Uo,{name:"SIDeptID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(Uo,{name:"EIDeptID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(MQ,{name:"reportType",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(FQ,{name:"orderType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});_Q.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};_Q.displayName="H34Form";const oke=()=>{const e=Ke(),t=a.useContext(eke),n=vt(`
			SDate,
			EDate,
			SIDeptID,
			EIDeptID,
			reportType,
			orderType,
			outputType
			`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(_Q,{onSubmit:o,onDebugSubmit:s})})})};oke.displayName="H34FormContainer";const ske=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(oke,{})]});ske.displayName="H34Frame";const ake=a.createContext(),t_t=e=>{var p;const{outputType:t,SDate:n,EDate:o,SODeptID:s,EODeptID:i,reportType:c,orderType:u,...d}=e;return{JobName:"H35",Action:((p=t==null?void 0:t.id)==null?void 0:p.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",SODeptID:(s==null?void 0:s.DeptID)||"",EODeptID:(i==null?void 0:i.DeptID)||"",RptType:c==null?void 0:c.id,OrdName:u==null?void 0:u.id,...d}},kce={transformForSubmitting:t_t},n_t=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H35"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH35Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...kce.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...kce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},LQ=[{id:1,label:""},{id:2,label:""}],r_t=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},o_t=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),ike=e=>LQ.find(t=>t.id===e),s_t=e=>LQ.find(t=>t.id==e),a_t=()=>ike(1),u1={options:LQ,getOptionLabel:r_t,isOptionEqualToValue:o_t,getOptionById:ike,findByInput:s_t,getDefaultOption:a_t},$Q=[{id:1,label:""},{id:2,label:""},{id:3,label:""}],lke=e=>$Q.find(t=>t.id==e),i_t=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},l_t=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),c_t=e=>$Q.find(t=>t.id==e),u_t=()=>lke(1),d1={options:$Q,getOptionLabel:i_t,isOptionEqualToValue:l_t,getOptionById:lke,findByInput:c_t,getDefaultOption:u_t},cke=({children:e})=>{const t=n_t(),n=at({defaultValues:{SDate:null,EDate:null,SODeptID:null,EODeptID:null,reportType:d1.getDefaultOption(),orderType:u1.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(ake.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};cke.propTypes={children:l.oneOfType([l.array,l.element])};const BQ=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:u1.options,getOptionLabel:u1.getOptionLabel,isOptionEqualToValue:u1.isOptionEqualToValue,findByInput:u1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});BQ.propTypes={name:l.string,label:l.string,children:l.node};BQ.displayName="H35OrderTypePicker";const WQ=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:d1.options,getOptionLabel:d1.getOptionLabel,isOptionEqualToValue:d1.isOptionEqualToValue,findByInput:d1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});WQ.propTypes={name:l.string,label:l.string,children:l.node};WQ.displayName="H35ReportTypePicker";const UQ=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{autoFocus:!0,name:"SDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(Uo,{name:"SODeptID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(Uo,{name:"EODeptID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(WQ,{name:"reportType",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(BQ,{name:"orderType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});UQ.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};UQ.displayName="H35Form";const uke=()=>{const e=Ke(),t=a.useContext(ake),n=vt(`
			SDate,
			EDate,
			SODeptID,
			EODeptID,
			reportType,
			orderType,
			outputType
			`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(UQ,{onSubmit:o,onDebugSubmit:s})})})};uke.displayName="H35FormContainer";const dke=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(uke,{})]});dke.displayName="H35Frame";const d_t=e=>{var f;const{outputType:t,SDate:n,EDate:o,SProdID:s,EProdID:i,SPDlineID:c,EPDlineID:u,reportType:d,orderType:p,...m}=e;return{JobName:"H36",Action:((f=t==null?void 0:t.id)==null?void 0:f.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",SProdID:(s==null?void 0:s.ProdID)||"",EProdID:(i==null?void 0:i.ProdID)||"",SPDlineID:(c==null?void 0:c.CodeID)||"",EPDlineID:(u==null?void 0:u.CodeID)||"",RptType:d==null?void 0:d.id,OrdName:p==null?void 0:p.id,...m}},Ace={transformForSubmitting:d_t},p_t=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H36"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH36Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...Ace.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback((g,x)=>{x==null||x.preventDefault(),console.log("onSubmit",g);const y={...Ace.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",y),u.open(c,y)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},pke=a.createContext(),qQ=[{id:1,label:""},{id:2,label:"+"}],mke=e=>qQ.find(t=>t.id==e),m_t=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},f_t=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),h_t=e=>qQ.find(t=>t.id==e),g_t=()=>mke(1),p1={options:qQ,getOptionLabel:m_t,isOptionEqualToValue:f_t,getOptionById:mke,findByInput:h_t,getDefaultOption:g_t},VQ=[{id:1,label:""},{id:2,label:""}],b_t=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},x_t=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),fke=e=>VQ.find(t=>t.id===e),y_t=e=>VQ.find(t=>t.id==e),C_t=()=>fke(1),m1={options:VQ,getOptionLabel:b_t,isOptionEqualToValue:x_t,getOptionById:fke,findByInput:y_t,getDefaultOption:C_t},hke=({children:e})=>{const t=p_t(),n=at({defaultValues:{SDate:null,EDate:null,SPDlineID:null,EPDlineID:null,reportType:p1.getDefaultOption(),orderType:m1.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(pke.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};hke.propTypes={children:l.oneOfType([l.array,l.element])};const zQ=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:m1.options,getOptionLabel:m1.getOptionLabel,isOptionEqualToValue:m1.isOptionEqualToValue,findByInput:m1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});zQ.propTypes={name:l.string,label:l.string,children:l.node};zQ.displayName="H36OrderTypePicker";const HQ=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:p1.options,getOptionLabel:p1.getOptionLabel,isOptionEqualToValue:p1.isOptionEqualToValue,findByInput:p1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});HQ.propTypes={name:l.string,label:l.string,children:l.node};HQ.displayName="H36ReportTypePicker";const GQ=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,orderTypeDisabled:o,...s}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{...s,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",label:"",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"SProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"EProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(Xo,{name:"SPDlineID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(Xo,{name:"EPDlineID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(HQ,{name:"reportType",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(zQ,{name:"orderType",disableOpenOnInput:!0,selectOnFocus:!0,disabled:o})})]}),r.jsx(ve,{mt:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});GQ.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func,orderTypeDisabled:l.bool};GQ.displayName="H36Form";const gke=()=>{const e=Ke(),t=a.useContext(pke),n=vt(`
		SDate,
		EDate,
		SProdID,
		EProdID,
		SPDlineID,
		EPDlineID,
		reportType,
		orderType,
		outputType,
		`),o=Ue({name:"reportType",control:e.control}),s=a.useMemo(()=>(o==null?void 0:o.id)==1,[o==null?void 0:o.id]),i=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]),c=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return $t(["Shift+Enter","Control+Enter"],()=>setTimeout(i),{enableOnFormTags:!0}),r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(GQ,{onSubmit:i,onDebugSubmit:c,orderTypeDisabled:s})})})};gke.displayName="H36FormContainer";const bke=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(gke,{})]});bke.displayName="H36Frame";const xke=a.createContext(),KQ=[{id:1,label:""},{id:2,label:""},{id:3,label:""}],D_t=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},S_t=(e,t)=>(e==null?void 0:e.id)==(t==null?void 0:t.id),yke=e=>KQ.find(t=>t.id==e),v_t=e=>KQ.find(t=>t.id==e),j_t=()=>yke(1),f1={options:KQ,getOptionLabel:D_t,isOptionEqualToValue:S_t,getOptionById:yke,findByInput:v_t,getDefaultOption:j_t},I_t=e=>{var m;const{outputType:t,SDate:n,EDate:o,SProdID:s,EProdID:i,SPDlineID:c,EPDlineID:u,orderType:d,...p}=e;return{JobName:"H37",Action:((m=t==null?void 0:t.id)==null?void 0:m.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",SProdID:(s==null?void 0:s.ProdID)||"",EProdID:(i==null?void 0:i.ProdID)||"",SPDlineID:(c==null?void 0:c.CodeID)||"",EPDlineID:(u==null?void 0:u.CodeID)||"",OrdName:d==null?void 0:d.id,...p}},Nce={transformForSubmitting:I_t},T_t=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H37"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH37Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...Nce.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...Nce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},Cke=({children:e})=>{const t=T_t(),n=at({defaultValues:{SDate:null,EDate:null,SProdID:null,EProdID:null,SPDlineID:null,orderType:f1.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(xke.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};Cke.propTypes={children:l.oneOfType([l.array,l.element])};const QQ=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:f1.options,getOptionLabel:f1.getOptionLabel,isOptionEqualToValue:f1.isOptionEqualToValue,findByInput:f1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});QQ.propTypes={name:l.string,label:l.string,children:l.node};QQ.displayName="H37OrderTypePicker";const YQ=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",label:"",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"SProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"EProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(Xo,{name:"SPDlineID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(Xo,{name:"EPDlineID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(QQ,{name:"orderType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});YQ.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};YQ.displayName="H37Form";const Dke=()=>{const e=Ke(),t=a.useContext(xke),n=vt(`
		SDate,
		EDate,
		SProdID,
		EProdID,
		SPDlineID,
		EPDlineID,
		orderType,
		outputType
		`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]),s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return $t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0}),r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(YQ,{onSubmit:o,onDebugSubmit:s})})})};Dke.displayName="H37FormContainer";const Ske=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(Dke,{})]});Ske.displayName="H37Frame";const vke=a.createContext(),JQ=[{id:1,label:""},{id:2,label:""}],O_t=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},E_t=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),jke=e=>JQ.find(t=>t.id===e),P_t=e=>JQ.find(t=>t.id==e),R_t=()=>jke(1),h1={options:JQ,getOptionLabel:O_t,isOptionEqualToValue:E_t,getOptionById:jke,findByInput:P_t,getDefaultOption:R_t},w_t=e=>{var f;const{outputType:t,SDate:n,EDate:o,SProdID:s,EProdID:i,SPDlineID:c,EPDlineID:u,reportType:d,orderType:p,...m}=e;return{JobName:"H38",Action:((f=t==null?void 0:t.id)==null?void 0:f.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",SProdID:(s==null?void 0:s.ProdID)||"",EProdID:(i==null?void 0:i.ProdID)||"",SPDlineID:(c==null?void 0:c.ProdID)||"",EPDlineID:(u==null?void 0:u.ProdID)||"",RptType:d==null?void 0:d.id,OrdName:p==null?void 0:p.id,...m}},Fce={transformForSubmitting:w_t},k_t=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H38"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH38Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...Fce.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...Fce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},Ike=({children:e})=>{const t=k_t(),n=at({defaultValues:{SDate:null,EDate:null,SProdID:null,EProdID:null,SPDlineID:null,EPDlineID:null,orderType:h1.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(vke.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};Ike.propTypes={children:l.oneOfType([l.array,l.element])};const XQ=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:h1.options,getOptionLabel:h1.getOptionLabel,isOptionEqualToValue:h1.isOptionEqualToValue,findByInput:h1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});XQ.propTypes={name:l.string,label:l.string,children:l.node};XQ.displayName="H38OrderTypePicker";const ZQ=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",label:"",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"SProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"EProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(Xo,{name:"SPDlineID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(Xo,{name:"EPDlineID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(XQ,{name:"orderType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});ZQ.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};ZQ.displayName="H38Form";const Tke=()=>{const e=Ke(),t=a.useContext(vke),n=vt(`
		SDate,
		EDate,
		SProdID,
		EProdID,
		SPDlineID,
		EPDlineID,
		orderType,
		outputType,
		`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]),s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return $t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0}),r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(ZQ,{onSubmit:o,onDebugSubmit:s})})})};Tke.displayName="H38FormContainer";const Oke=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(Tke,{})]});Oke.displayName="H38Frame";const Eke=a.createContext(),A_t=e=>{var p;const{outputType:t,SProdID:n,EProdID:o,SDate1:s,EDate1:i,SDate2:c,EDate2:u,...d}=e;return{JobName:"H39",Action:((p=t==null?void 0:t.id)==null?void 0:p.toString())||"",SProdID:(n==null?void 0:n.ProdID)||"",EProdID:(o==null?void 0:o.ProdID)||"",SDate1:Re.formatDate(s)||"",EDate1:Re.formatDate(i)||"",SDate2:Re.formatDate(c)||"",EDate2:Re.formatDate(u)||"",...d}},Mce={transformForSubmitting:A_t},N_t=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H39"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH39Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate1",to:"EDate1"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...Mce.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...Mce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},Pke=({children:e})=>{const t=N_t(),n=at({defaultValues:{SProdID:null,EProdID:null,SDate1:null,EDate1:null,SDate2:null,EDate2:null}});return r.jsx(Ye,{...n,children:r.jsx(Eke.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};Pke.propTypes={children:l.oneOfType([l.array,l.element])};const eY=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{autoFocus:!0,name:"SProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"EProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"()",required:!0,leftComponent:r.jsx(et,{name:"SDate1",required:!0,rules:{required:"()"},fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate1",required:!0,rules:{required:"()"},fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"()",required:!0,leftComponent:r.jsx(et,{name:"SDate2",rules:{required:"()"},fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate2",rules:{required:"()"},fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})})]}),r.jsx(ve,{mt:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});eY.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};eY.displayName="H39Form";const Rke=()=>{const e=Ke(),t=a.useContext(Eke),n=vt(`
		SProdID,
		EProdID,
		SDate1,
		EDate1,
		SDate2,
		EDate2,
		outputType,
		`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]),s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return $t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0}),r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(eY,{onSubmit:o,onDebugSubmit:s})})})};Rke.displayName="H39FormContainer";const wke=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(Rke,{})]});wke.displayName="H39Frame";const F_t=e=>{var p;const{outputType:t,SDate:n,EDate:o,SPDlineID:s,EPDlineID:i,reportType:c,orderType:u,...d}=e;return{JobName:"H40",Action:((p=t==null?void 0:t.id)==null?void 0:p.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",SPDlineID:(s==null?void 0:s.CodeID)||"",EPDlineID:(i==null?void 0:i.CodeID)||"",RptType:c==null?void 0:c.id,OrdName:u==null?void 0:u.id,...d}},_ce={transformForSubmitting:F_t},M_t=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H40"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH40Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={..._ce.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={..._ce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},kke=a.createContext(),tY=[{id:1,label:""},{id:2,label:"+"}],Ake=e=>tY.find(t=>t.id==e),__t=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},L_t=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),$_t=e=>tY.find(t=>t.id==e),B_t=()=>Ake(1),g1={options:tY,getOptionLabel:__t,isOptionEqualToValue:L_t,getOptionById:Ake,findByInput:$_t,getDefaultOption:B_t},nY=[{id:1,label:""},{id:2,label:""}],W_t=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},U_t=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),Nke=e=>nY.find(t=>t.id===e),q_t=e=>nY.find(t=>t.id==e),V_t=()=>Nke(1),b1={options:nY,getOptionLabel:W_t,isOptionEqualToValue:U_t,getOptionById:Nke,findByInput:q_t,getDefaultOption:V_t},Fke=({children:e})=>{const t=M_t(),n=at({defaultValues:{SDate:null,EDate:null,SPDlineID:null,EPDlineID:null,reportType:g1.getDefaultOption(),orderType:b1.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(kke.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};Fke.propTypes={children:l.oneOfType([l.array,l.element])};const rY=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:b1.options,getOptionLabel:b1.getOptionLabel,isOptionEqualToValue:b1.isOptionEqualToValue,findByInput:b1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});rY.propTypes={name:l.string,label:l.string,children:l.node};rY.displayName="H40OrderTypePicker";const oY=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:g1.options,getOptionLabel:g1.getOptionLabel,isOptionEqualToValue:g1.isOptionEqualToValue,findByInput:g1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});oY.propTypes={name:l.string,label:l.string,children:l.node};oY.displayName="H40ReportTypePicker";const sY=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",label:"",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(Xo,{name:"SPDlineID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(Xo,{name:"EPDlineID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(oY,{name:"reportType",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(rY,{name:"orderType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});sY.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};sY.displayName="H40Form";const Mke=()=>{const e=Ke(),t=a.useContext(kke),n=vt(`
		SDate,
		EDate,
		SPDlineID,
		EPDlineID,
		reportType,
		orderType,
		outputType,
		`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]),s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return $t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0}),r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(sY,{onSubmit:o,onDebugSubmit:s})})})};Mke.displayName="H40FormContainer";const _ke=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(Mke,{})]});_ke.displayName="H40Frame";const Lke=a.createContext(),aY=[{id:1,label:""},{id:2,label:""},{id:3,label:""},{id:4,label:""}],$ke=e=>aY.find(t=>t.id==e),z_t=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},H_t=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),G_t=e=>aY.find(t=>t.id==e),K_t=()=>$ke(1),x1={options:aY,getOptionLabel:z_t,isOptionEqualToValue:H_t,getOptionById:$ke,findByInput:G_t,getDefaultOption:K_t},Q_t=e=>{var x;const{outputType:t,SDate:n,EDate:o,SProdID:s,EProdID:i,SCustID:c,ECustID:u,SDeptID:d,EDeptID:p,RsnID:m,reportType:f,retail:h,...g}=e;return console.log("ignored props",h),{JobName:"H41",Action:((x=t==null?void 0:t.id)==null?void 0:x.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",SProdID:(s==null?void 0:s.ProdID)||"",EProdID:(i==null?void 0:i.ProdID)||"",SCustID:(c==null?void 0:c.CustID)||"",ECustID:(u==null?void 0:u.CustID)||"",SDeptID:(d==null?void 0:d.DeptID)||"",EDeptID:(p==null?void 0:p.DeptID)||"",RsnID:(m==null?void 0:m.CodeID)||"",RptType:f==null?void 0:f.id,...g}},Lce={transformForSubmitting:Q_t},Y_t=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H41"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH41Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...Lce.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...Lce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},Bke=({children:e})=>{const t=Y_t(),n=at({defaultValues:{SDate:null,EDate:null,SProdID:null,EProdID:null,SCustID:null,ECustID:null,SDeptID:null,EDeptID:null,RsnID:null,reportType:x1.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(Lke.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};Bke.propTypes={children:l.oneOfType([l.array,l.element])};const iY=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:x1.options,getOptionLabel:x1.getOptionLabel,isOptionEqualToValue:x1.isOptionEqualToValue,findByInput:x1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});iY.propTypes={name:l.string,label:l.string,children:l.node};iY.displayName="H41ReportTypePicker";const lY=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,forNewCustomer:o,...s}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...s,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"SProdID",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"EProdID",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})})]}),r.jsx(xr,{label:"",name:"retail",defaultValue:!1,size:"small"}),r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:o?"":"",leftComponent:r.jsx(ho,{name:"SCustID",size:"small",virtualize:!0,forNew:o,disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""}),rightComponent:r.jsx(ho,{name:"ECustID",size:"small",virtualize:!0,forNew:o,disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(Uo,{name:"SDeptID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(Uo,{name:"EDeptID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(tg,{label:"",name:"RsnID",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(iY,{name:"reportType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});lY.propTypes={forNewCustomer:l.bool,readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};lY.displayName="H41Form";const Wke=()=>{const e=Ke(),t=a.useContext(Lke),n=vt(`
		SDate,
		EDate,
		SProdID,
		EProdID,
		retail,
		SCustID,
		ECustID,
		SDeptID,
		EDeptID,
		RsnID,
		reportType,
		outputType,
		`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]),i=Ue({name:"retail",control:e.control});return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(lY,{forNewCustomer:i,onSubmit:o,onDebugSubmit:s})})})};Wke.displayName="H41FormContainer";const Uke=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(Wke,{})]});Uke.displayName="H41Frame";const qke=a.createContext(),cY=[{id:1,label:""},{id:2,label:""},{id:3,label:""}],J_t=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},X_t=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),Vke=e=>cY.find(t=>t.id===e),Z_t=e=>cY.find(t=>t.id==e),eLt=()=>Vke(1),y1={options:cY,getOptionLabel:J_t,isOptionEqualToValue:X_t,getOptionById:Vke,findByInput:Z_t,getDefaultOption:eLt},uY=[{id:1,label:""},{id:2,label:"+"},{id:3,label:""}],zke=e=>uY.find(t=>t.id==e),tLt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},nLt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),rLt=e=>uY.find(t=>t.id==e),oLt=()=>zke(1),C1={options:uY,getOptionLabel:tLt,isOptionEqualToValue:nLt,getOptionById:zke,findByInput:rLt,getDefaultOption:oLt},sLt=e=>{var x;const{outputType:t,SDate:n,EDate:o,SArrDate:s,EArrDate:i,SDeptID:c,EDeptID:u,orderType:d,SProdID:p,EProdID:m,reportType:f,retail:h,...g}=e;return console.log("ignore props",h),{JobName:"H42",Action:((x=t==null?void 0:t.id)==null?void 0:x.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",SArrDate:Re.formatDate(s)||"",EArrDate:Re.formatDate(i)||"",SProdID:(p==null?void 0:p.ProdID)||"",EProdID:(m==null?void 0:m.ProdID)||"",SDeptID:(c==null?void 0:c.DeptID)||"",EDeptID:(u==null?void 0:u.DeptID)||"",OrdName:d==null?void 0:d.id,RptType:f==null?void 0:f.id,...g}},$ce={transformForSubmitting:sLt},aLt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H42"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH42Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...$ce.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...$ce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},Hke=({children:e})=>{const t=aLt(),n=at({defaultValues:{SDate:null,EDate:null,SArrDate:null,EArrDate:null,SProdID:null,EProdID:null,SDeptID:null,EDeptID:null,reportType:C1.getDefaultOption(),orderType:y1.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(qke.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};Hke.propTypes={children:l.oneOfType([l.array,l.element])};const dY=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:y1.options,getOptionLabel:y1.getOptionLabel,isOptionEqualToValue:y1.isOptionEqualToValue,findByInput:y1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});dY.propTypes={name:l.string,label:l.string,children:l.node};dY.displayName="H42OrderTypePicker";const pY=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:C1.options,getOptionLabel:C1.getOptionLabel,isOptionEqualToValue:C1.isOptionEqualToValue,findByInput:C1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});pY.propTypes={name:l.string,label:l.string,children:l.node};pY.displayName="H42ReportTypePicker";const mY=a.memo(e=>{const{forNewCustomer:t,onSubmit:n,onDebugSubmit:o,...s}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:n,...s,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{autoFocus:!0,name:"SDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SArrDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EArrDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"SProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"EProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(Uo,{name:"SDeptID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(Uo,{name:"EDeptID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(pY,{label:"",name:"reportType",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(dY,{name:"orderType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:1,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:n,onDebugSubmit:o})})})]})})]})})})})});mY.propTypes={forNewCustomer:l.bool,readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};mY.displayName="H42Form";const Gke=()=>{const e=Ke(),t=a.useContext(qke),n=vt(`
			SDate,
			EDate,
			SArrDate,
			EArrDate,
			SProdID,
			EProdID,
			SDeptID,
			EDeptID,
			reportType,
			orderType,
			outputType,
			`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]),i=Ue({name:"retail",control:e.control});return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(mY,{forNewCustomer:i,onSubmit:o,onDebugSubmit:s})})})};Gke.displayName="H42FormContainer";const Kke=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(Gke,{})]});Kke.displayName="H42Frame";const Qke=a.createContext(),iLt=e=>{var d;const{outputType:t,SArrDate:n,EArrDate:o,SDeptID:s,EDeptID:i,orderType:c,...u}=e;return{JobName:"H43",Action:((d=t==null?void 0:t.id)==null?void 0:d.toString())||"",SArrDate:Re.formatDate(n)||"",EArrDate:Re.formatDate(o)||"",SDeptID:(s==null?void 0:s.DeptID)||"",EDeptID:(i==null?void 0:i.DeptID)||"",OrdName:c==null?void 0:c.id,...u}},Bce={transformForSubmitting:iLt},lLt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H43"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH43Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SArrDate",to:""}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...Bce.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...Bce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},fY=[{id:1,label:""},{id:2,label:""}],cLt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},uLt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),Yke=e=>fY.find(t=>t.id===e),dLt=e=>fY.find(t=>t.id==e),pLt=()=>Yke(1),D1={options:fY,getOptionLabel:cLt,isOptionEqualToValue:uLt,getOptionById:Yke,findByInput:dLt,getDefaultOption:pLt},Jke=({children:e})=>{const t=lLt(),n=at({defaultValues:{SArrDate:null,EArrDate:null,SDeptID:null,EDeptID:null,orderType:D1.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(Qke.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};Jke.propTypes={children:l.oneOfType([l.array,l.element])};const hY=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:D1.options,getOptionLabel:D1.getOptionLabel,isOptionEqualToValue:D1.isOptionEqualToValue,findByInput:D1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});hY.propTypes={name:l.string,label:l.string,children:l.node};hY.displayName="H43OrderTypePicker";const gY=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{autoFocus:!0,name:"SArrDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EArrDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(Uo,{name:"SDeptID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(Uo,{name:"EDeptID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(hY,{name:"orderType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});gY.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};gY.displayName="H43Form";const Xke=()=>{const e=Ke(),t=a.useContext(Qke),n=vt(`
			SArrDate,
			EArrDate,
			SDeptID,
			EDeptID,
			orderType,
			outputType
			`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(gY,{onSubmit:o,onDebugSubmit:s})})})};Xke.displayName="H43FormContainer";const Zke=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(Xke,{})]});Zke.displayName="H43Frame";const e2e=a.createContext(),bY=[{id:1,label:""},{id:2,label:""}],mLt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},fLt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),t2e=e=>bY.find(t=>t.id===e),hLt=e=>bY.find(t=>t.id==e),gLt=()=>t2e(1),S1={options:bY,getOptionLabel:mLt,isOptionEqualToValue:fLt,getOptionById:t2e,findByInput:hLt,getDefaultOption:gLt},bLt=e=>{var m;const{outputType:t,SDate:n,EDate:o,SProdID:s,EProdID:i,Times:c,Minus:u,orderType:d,...p}=e;return{JobName:"H44",Action:((m=t==null?void 0:t.id)==null?void 0:m.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",SProdID:(s==null?void 0:s.ProdID)||"",EProdID:(i==null?void 0:i.ProdID)||"",Minus:u?"Y":"N",Times:(c==null?void 0:c.toString())||"",OrdName:(d==null?void 0:d.id)||"",...p}},Wce={transformForSubmitting:bLt},xLt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H44"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH44Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...Wce.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...Wce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},n2e=({children:e})=>{const t=xLt(),n=at({defaultValues:{SDate:null,EDate:null,SProdID:null,EProdID:null,Times:null,Minus:!1,orderType:S1.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(e2e.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};n2e.propTypes={children:l.oneOfType([l.array,l.element])};const xY=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:S1.options,getOptionLabel:S1.getOptionLabel,isOptionEqualToValue:S1.isOptionEqualToValue,findByInput:S1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});xY.propTypes={name:l.string,label:l.string,children:l.node};xY.displayName="H44OrderTypePicker";const yY=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{autoFocus:!0,name:"SDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"SProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"EProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx($e,{name:"Times",label:" ",type:"number",size:"small",fullWidth:!0,clearable:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(xr,{label:"",name:"Minus",defaultValue:!0,variant:"outlined",size:"small",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(xY,{name:"orderType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:1.8,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});yY.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};yY.displayName="H44Form";const r2e=()=>{const e=Ke(),t=a.useContext(e2e),n=vt(`
			SDate,
			EDate,
			SProdID,
			EProdID,
			Times,
			Minus,
			orderType,
			outputType,
			`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]),s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return $t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0}),r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(yY,{onSubmit:o,onDebugSubmit:s})})})};r2e.displayName="H44FormContainer";const o2e=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(r2e,{})]});o2e.displayName="H44Frame";const s2e=a.createContext(),CY=[{id:1,label:""},{id:2,label:""},{id:3,label:""}],a2e=e=>CY.find(t=>t.id==e),yLt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},CLt=(e,t)=>(e==null?void 0:e.id)==(t==null?void 0:t.id),DLt=e=>CY.find(t=>t.id==e),SLt=()=>a2e(1),v1={options:CY,getOptionLabel:yLt,isOptionEqualToValue:CLt,getOptionById:a2e,findByInput:DLt,getDefaultOption:SLt},vLt=e=>{var f;const{outputType:t,SDate:n,EDate:o,SProdID:s,EProdID:i,SDeptID:c,EDeptID:u,RsnID:d,reportType:p,...m}=e;return{JobName:"H46",Action:((f=t==null?void 0:t.id)==null?void 0:f.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",SProdID:(s==null?void 0:s.ProdID)||"",EProdID:(i==null?void 0:i.ProdID)||"",SDeptID:(c==null?void 0:c.DeptID)||"",EDeptID:(u==null?void 0:u.DeptID)||"",RsnID:(d==null?void 0:d.CodeID)||"",RptType:p==null?void 0:p.id,...m}},Uce={transformForSubmitting:vLt},jLt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H46"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH46Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...Uce.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...Uce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},i2e=({children:e})=>{const t=jLt(),n=at({defaultValues:{SDate:null,EDate:null,SProdID:null,EProdID:null,SDeptID:null,EDeptID:null,RsnID:null,reportType:v1.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(s2e.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};i2e.propTypes={children:l.oneOfType([l.array,l.element])};const DY=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:v1.options,getOptionLabel:v1.getOptionLabel,isOptionEqualToValue:v1.isOptionEqualToValue,findByInput:v1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});DY.propTypes={name:l.string,label:l.string,children:l.node};DY.displayName="H46ReportTypePicker";const SY=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{autoFocus:!0,name:"SDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"SProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"EProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(Uo,{name:"SDeptID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(Uo,{name:"EDeptID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(tg,{label:"",name:"RsnID",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(DY,{name:"reportType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:1.8,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});SY.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};SY.displayName="H46Form";const l2e=()=>{const e=Ke(),t=a.useContext(s2e),n=vt(`
		SDate,
		EDate,
		SProdID,
		EProdID,
		SDeptID,
		EDeptID,
		RsnID,
		reportType,
		outputType
		`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(SY,{onSubmit:o,onDebugSubmit:s})})})};l2e.displayName="H46FormContainer";const c2e=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(l2e,{})]});c2e.displayName="H46Frame";const vY=[{id:1,label:""},{id:2,label:""},{id:2,label:""},{id:2,label:""}],ILt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},TLt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),u2e=e=>vY.find(t=>t.id===e),OLt=e=>vY.find(t=>t.id==e),ELt=()=>u2e(1),j1={options:vY,getOptionLabel:ILt,isOptionEqualToValue:TLt,getOptionById:u2e,findByInput:OLt,getDefaultOption:ELt},jY=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:j1.options,getOptionLabel:j1.getOptionLabel,isOptionEqualToValue:j1.isOptionEqualToValue,findByInput:j1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});jY.propTypes={name:l.string,label:l.string,children:l.node};jY.displayName="H53OrderTypePicker";const IY=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",label:"",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"SProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"EProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(Xo,{name:"SPDlineID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(Xo,{name:"EPDlineID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(jY,{name:"orderType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});IY.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};IY.displayName="H53Form";const d2e=a.createContext(),p2e=()=>{const e=Ke(),t=a.useContext(d2e),n=vt(`
		SDate,
		EDate,
		SProdID,
		EProdID,
		SPDlineID,
		EPDlineID,
		orderType,
		outputType,
		`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(IY,{onSubmit:o,onDebugSubmit:s})})})};p2e.displayName="H53FormContainer";const m2e=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(p2e,{})]});m2e.displayName="H53Frame";const PLt=e=>{var f;const{outputType:t,SDate:n,EDate:o,SProdID:s,EProdID:i,SPDlineID:c,EPDlineID:u,reportType:d,orderType:p,...m}=e;return{JobName:"H53",Action:((f=t==null?void 0:t.id)==null?void 0:f.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",SProdID:(s==null?void 0:s.ProdID)||"",EProdID:(i==null?void 0:i.ProdID)||"",SPDlineID:(c==null?void 0:c.ProdID)||"",EPDlineID:(u==null?void 0:u.ProdID)||"",OrdName:p==null?void 0:p.id,...m}},qce={transformForSubmitting:PLt},RLt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H53"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH53Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...qce.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...qce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},f2e=({children:e})=>{const t=RLt(),n=at({defaultValues:{SDate:null,EDate:null,SProdID:null,EProdID:null,SPDlineID:null,EPDlineID:null,orderType:j1.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(d2e.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};f2e.propTypes={children:l.oneOfType([l.array,l.element])};const TY=[{id:1,label:""},{id:2,label:""}],h2e=e=>TY.find(t=>t.id==e),wLt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},kLt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),ALt=e=>TY.find(t=>t.id==e),NLt=()=>h2e(1),I1={options:TY,getOptionLabel:wLt,isOptionEqualToValue:kLt,getOptionById:h2e,findByInput:ALt,getDefaultOption:NLt},OY=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:I1.options,getOptionLabel:I1.getOptionLabel,isOptionEqualToValue:I1.isOptionEqualToValue,findByInput:I1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});OY.propTypes={name:l.string,label:l.string,children:l.node};OY.displayName="H52ReportTypePicker";const EY=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SArrDate",label:"",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EArrDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"SProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"EProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(OY,{name:"reportType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});EY.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};EY.displayName="H52Form";const g2e=a.createContext(),b2e=()=>{const e=Ke(),t=a.useContext(g2e),n=vt(`
		SArrDate,
		EArrDate,
		SProdID,
		EProdID,
		reportType,
		outputType,
		`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(EY,{onSubmit:o,onDebugSubmit:s})})})};b2e.displayName="H52FormContainer";const x2e=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(b2e,{})]});x2e.displayName="H52Frame";const FLt=e=>{var d;const{outputType:t,SArrDate:n,EArrDate:o,SProdID:s,EProdID:i,reportType:c,...u}=e;return{JobName:"H52",Action:((d=t==null?void 0:t.id)==null?void 0:d.toString())||"",SArrDate:Re.formatDate(n)||"",EArrDate:Re.formatDate(o)||"",SProdID:(s==null?void 0:s.ProdID)||"",EProdID:(i==null?void 0:i.ProdID)||"",RptType:c==null?void 0:c.id,...u}},Vce={transformForSubmitting:FLt},MLt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H52"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH52Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SArrDate",to:"EArrDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...Vce.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...Vce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},y2e=({children:e})=>{const t=MLt(),n=at({defaultValues:{SArrDate:null,EArrDate:null,SProdID:null,EProdID:null,reportType:I1.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(g2e.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};y2e.propTypes={children:l.oneOfType([l.array,l.element])};const PY=[{id:1,label:""},{id:2,label:""},{id:3,label:""}],_Lt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},LLt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),C2e=e=>PY.find(t=>t.id===e),$Lt=e=>PY.find(t=>t.id==e),BLt=()=>C2e(1),T1={options:PY,getOptionLabel:_Lt,isOptionEqualToValue:LLt,getOptionById:C2e,findByInput:$Lt,getDefaultOption:BLt},RY=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:T1.options,getOptionLabel:T1.getOptionLabel,isOptionEqualToValue:T1.isOptionEqualToValue,findByInput:T1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});RY.propTypes={name:l.string,label:l.string,children:l.node};RY.displayName="H50OrderTypePicker";const wY=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",label:"",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"SProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"EProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(Uo,{name:"SDeptID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(Uo,{name:"EDeptID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(RY,{name:"orderType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});wY.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};wY.displayName="H50Form";const D2e=a.createContext(),S2e=()=>{const e=Ke(),t=a.useContext(D2e),n=vt(`
		SDate,
		EDate,
		SProdID,
		EProdID,
		SDeptID,
		EDeptID,
		orderType,
		outputType,
		`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(wY,{onSubmit:o,onDebugSubmit:s})})})};S2e.displayName="H50FormContainer";const v2e=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(S2e,{})]});v2e.displayName="H50Frame";const WLt=e=>{var f;const{outputType:t,SDate:n,EDate:o,SProdID:s,EProdID:i,SDeptID:c,EDeptID:u,reportType:d,orderType:p,...m}=e;return{JobName:"H50",Action:((f=t==null?void 0:t.id)==null?void 0:f.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",SProdID:(s==null?void 0:s.ProdID)||"",EProdID:(i==null?void 0:i.ProdID)||"",SDeptID:(c==null?void 0:c.DeptID)||"",EDeptID:(u==null?void 0:u.DeptID)||"",RptType:d==null?void 0:d.id,OrdName:p==null?void 0:p.id,...m}},zce={transformForSubmitting:WLt},ULt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H50"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH50Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...zce.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...zce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},j2e=({children:e})=>{const t=ULt(),n=at({defaultValues:{SDate:null,EDate:null,SProdID:null,EProdID:null,SDeptID:null,EDeptID:null,orderType:T1.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(D2e.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};j2e.propTypes={children:l.oneOfType([l.array,l.element])};const I2e=a.createContext(),kY=[{id:1,label:""},{id:2,label:""}],T2e=e=>kY.find(t=>t.id==e),qLt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},VLt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),zLt=e=>kY.find(t=>t.id==e),HLt=()=>T2e(1),O1={options:kY,getOptionLabel:qLt,isOptionEqualToValue:VLt,getOptionById:T2e,findByInput:zLt,getDefaultOption:HLt},GLt=e=>{var f;const{outputType:t,SDate:n,EDate:o,SProdID:s,EProdID:i,SPDlineID:c,EPDlineID:u,reportType:d,orderType:p,...m}=e;return{JobName:"H49",Action:((f=t==null?void 0:t.id)==null?void 0:f.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",SProdID:(s==null?void 0:s.ProdID)||"",EProdID:(i==null?void 0:i.ProdID)||"",SPDlineID:(c==null?void 0:c.CodeID)||"",EPDlineID:(u==null?void 0:u.CodeID)||"",RptType:d==null?void 0:d.id,OrdName:p==null?void 0:p.id,...m}},Hce={transformForSubmitting:GLt},KLt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H49"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH49Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...Hce.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...Hce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},O2e=({children:e})=>{const t=KLt(),n=at({defaultValues:{SDate:null,EDate:null,SProdID:null,EProdID:null,SPDlineID:null,EPDlineID:null,reportType:O1.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(I2e.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};O2e.propTypes={children:l.oneOfType([l.array,l.element])};const AY=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:O1.options,getOptionLabel:O1.getOptionLabel,isOptionEqualToValue:O1.isOptionEqualToValue,findByInput:O1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});AY.propTypes={name:l.string,label:l.string,children:l.node};AY.displayName="H49ReportTypePicker";const NY=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",label:"",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"SProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"EProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(Xo,{name:"SPDlineID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(Xo,{name:"EPDlineID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(AY,{name:"reportType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});NY.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};NY.displayName="H49Form";const E2e=()=>{const e=Ke(),t=a.useContext(I2e),n=vt(`
		SDate,
		EDate,
		SProdID,
		EProdID,
		SPDlineID,
		EPDlineID,
		reportType,
		outputType,
		`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]),s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return $t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0}),r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(NY,{onSubmit:o,onDebugSubmit:s})})})};E2e.displayName="H49FormContainer";const P2e=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(E2e,{})]});P2e.displayName="H49Frame";const R2e=a.createContext(),FY=[{id:1,label:""},{id:2,label:""},{id:3,label:""}],w2e=e=>FY.find(t=>t.id==e),QLt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},YLt=(e,t)=>(e==null?void 0:e.id)==(t==null?void 0:t.id),JLt=e=>FY.find(t=>t.id==e),XLt=()=>w2e(1),E1={options:FY,getOptionLabel:QLt,isOptionEqualToValue:YLt,getOptionById:w2e,findByInput:JLt,getDefaultOption:XLt},ZLt=e=>{var h;const{outputType:t,SDate:n,EDate:o,SProdID:s,EProdID:i,SDeptID:c,EDeptID:u,RsnID:d,reportType:p,orderType:m,...f}=e;return{JobName:"H47",Action:((h=t==null?void 0:t.id)==null?void 0:h.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",SProdID:(s==null?void 0:s.ProdID)||"",EProdID:(i==null?void 0:i.ProdID)||"",SDeptID:(c==null?void 0:c.DeptID)||"",EDeptID:(u==null?void 0:u.DeptID)||"",RsnID:(d==null?void 0:d.CodeID)||"",RptType:p==null?void 0:p.id,OrdName:m==null?void 0:m.id,...f}},Gce={transformForSubmitting:ZLt},e$t=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H47"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH47Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...Gce.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...Gce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},k2e=({children:e})=>{const t=e$t(),n=at({defaultValues:{SDate:null,EDate:null,SProdID:null,EProdID:null,SDeptID:null,EDeptID:null,RsnID:null,reportType:E1.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(R2e.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};k2e.propTypes={children:l.oneOfType([l.array,l.element])};const MY=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:E1.options,getOptionLabel:E1.getOptionLabel,isOptionEqualToValue:E1.isOptionEqualToValue,findByInput:E1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});MY.propTypes={name:l.string,label:l.string,children:l.node};MY.displayName="H47ReportTypePicker";const _Y=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{autoFocus:!0,name:"SDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"SProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"EProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(Uo,{name:"SDeptID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(Uo,{name:"EDeptID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(tg,{label:"",name:"RsnID",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(MY,{name:"reportType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:1.5,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});_Y.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};_Y.displayName="H47Form";const A2e=()=>{const e=Ke(),t=a.useContext(R2e),n=vt(`
		SDate,
		EDate,
		SProdID,
		EProdID,
		SDeptID,
		EDeptID,
		RsnID,
		reportType,
		outputType
		`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(_Y,{onSubmit:o,onDebugSubmit:s})})})};A2e.displayName="H47FormContainer";const N2e=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(A2e,{})]});N2e.displayName="H47Frame";const F2e=a.createContext(),t$t=e=>{var u;const{outputType:t,SDate:n,EDate:o,SProdID:s,EProdID:i,...c}=e;return{JobName:"H51",Action:((u=t==null?void 0:t.id)==null?void 0:u.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",SProdID:(s==null?void 0:s.ProdID)||"",EProdID:(i==null?void 0:i.ProdID)||"",...c}},Kce={transformForSubmitting:t$t},n$t=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H51"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH51Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...Kce.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...Kce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},M2e=({children:e})=>{const t=n$t(),n=at({defaultValues:{SDate:null,EDate:null,SProdID:null,EProdID:null,outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(F2e.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};M2e.propTypes={children:l.oneOfType([l.array,l.element])};const LY=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{autoFocus:!0,name:"SDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"SProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"EProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})})]}),r.jsx(ve,{mt:1.8,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});LY.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};LY.displayName="H51Form";const _2e=()=>{const e=Ke(),t=a.useContext(F2e),n=vt(`
			SDate,
			EDate,
			SProdID,
			EProdID,
			outputType,
			`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(LY,{onSubmit:o,onDebugSubmit:s})})})};_2e.displayName="H51FormContainer";const L2e=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(_2e,{})]});L2e.displayName="H51Frame";const r$t=e=>{var h;const{outputType:t,SDate:n,EDate:o,SProdID:s,EProdID:i,SPDlineID:c,EPDlineID:u,RsnID:d,reportType:p,orderType:m,...f}=e;return{JobName:"H45",Action:((h=t==null?void 0:t.id)==null?void 0:h.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",SProdID:(s==null?void 0:s.ProdID)||"",EProdID:(i==null?void 0:i.ProdID)||"",SPDlineID:(c==null?void 0:c.CodeID)||"",EPDlineID:(u==null?void 0:u.CodeID)||"",RsnID:(d==null?void 0:d.CodeID)||"",RptType:p==null?void 0:p.id,OrdName:m==null?void 0:m.id,...f}},Qce={transformForSubmitting:r$t},o$t=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"H45"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebH45Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...Qce.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback((g,x)=>{x==null||x.preventDefault(),console.log("onSubmit",g);const y={...Qce.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",y),u.open(c,y)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},$2e=a.createContext(),$Y=[{id:1,label:""},{id:2,label:""},{id:3,label:""},{id:4,label:""},{id:5,label:""}],B2e=e=>$Y.find(t=>t.id==e),s$t=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},a$t=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),i$t=e=>$Y.find(t=>t.id==e),l$t=()=>B2e(1),P1={options:$Y,getOptionLabel:s$t,isOptionEqualToValue:a$t,getOptionById:B2e,findByInput:i$t,getDefaultOption:l$t},BY=[{id:1,label:""},{id:2,label:"/"}],c$t=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},u$t=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),W2e=e=>BY.find(t=>t.id===e),d$t=e=>BY.find(t=>t.id==e),p$t=()=>W2e(1),R1={options:BY,getOptionLabel:c$t,isOptionEqualToValue:u$t,getOptionById:W2e,findByInput:d$t,getDefaultOption:p$t},U2e=({children:e})=>{const t=o$t(),n=at({defaultValues:{SDate:null,EDate:null,SProdID:null,EProdID:null,SPDlineID:null,EPDlineID:null,RsnID:null,reportType:P1.getDefaultOption(),orderType:R1.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx($2e.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};U2e.propTypes={children:l.oneOfType([l.array,l.element])};const WY=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:R1.options,getOptionLabel:R1.getOptionLabel,isOptionEqualToValue:R1.isOptionEqualToValue,findByInput:R1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});WY.propTypes={name:l.string,label:l.string,children:l.node};WY.displayName="H45OrderTypePicker";const UY=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:P1.options,getOptionLabel:P1.getOptionLabel,isOptionEqualToValue:P1.isOptionEqualToValue,findByInput:P1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});UY.propTypes={name:l.string,label:l.string,children:l.node};UY.displayName="H45ReportTypePicker";const qY=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,orderTypeDisabled:o,...s}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{...s,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",label:"",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"SProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"EProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(Xo,{name:"SPDlineID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(Xo,{name:"EPDlineID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(tg,{label:"",name:"RsnID",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(UY,{name:"reportType",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(WY,{name:"orderType",disableOpenOnInput:!0,selectOnFocus:!0,disabled:o})})]}),r.jsx(ve,{mt:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});qY.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func,orderTypeDisabled:l.bool};qY.displayName="H45Form";const q2e=()=>{const e=Ke(),t=a.useContext($2e),n=vt(`
		SDate,
		EDate,
		SProdID,
		EProdID,
		SPDlineID,
		EPDlineID,
		RsnID,
		reportType,
		orderType,
		outputType,
		`),o=Ue({name:"reportType",control:e.control}),s=a.useMemo(()=>(o==null?void 0:o.id)==1,[o==null?void 0:o.id]),i=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]),c=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return $t(["Shift+Enter","Control+Enter"],()=>setTimeout(i),{enableOnFormTags:!0}),r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(qY,{onSubmit:i,onDebugSubmit:c,orderTypeDisabled:s})})})};q2e.displayName="H45FormContainer";const V2e=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(q2e,{})]});V2e.displayName="H45Frame";const m$t=r.jsxs(r.Fragment,{children:[r.jsx(yt,{path:"H21",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(cwe,{children:r.jsx(dwe,{})})})})}),r.jsx(yt,{path:"H22",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(mwe,{children:r.jsx(hwe,{})})})})}),r.jsx(yt,{path:"H24",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(ywe,{children:r.jsx(Dwe,{})})})})}),r.jsx(yt,{path:"H25",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(vwe,{children:r.jsx(Iwe,{})})})})}),r.jsx(yt,{path:"H26",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(Pwe,{children:r.jsx(wwe,{})})})})}),r.jsx(yt,{path:"H27",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(Nwe,{children:r.jsx(Mwe,{})})})})}),r.jsx(yt,{path:"H28",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(Lwe,{children:r.jsx(Bwe,{})})})})}),r.jsx(yt,{path:"H30",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(Uwe,{children:r.jsx(Vwe,{})})})})}),r.jsx(yt,{path:"H31",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(Gwe,{children:r.jsx(Qwe,{})})})})}),r.jsx(yt,{path:"H32",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(Jwe,{children:r.jsx(Zwe,{})})})})}),r.jsx(yt,{path:"H34",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(rke,{children:r.jsx(ske,{})})})})}),r.jsx(yt,{path:"H35",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(cke,{children:r.jsx(dke,{})})})})}),r.jsx(yt,{path:"H36",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(hke,{children:r.jsx(bke,{})})})})}),r.jsx(yt,{path:"H37",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(Cke,{children:r.jsx(Ske,{})})})})}),r.jsx(yt,{path:"H38",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(Ike,{children:r.jsx(Oke,{})})})})}),r.jsx(yt,{path:"H39",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(Pke,{children:r.jsx(wke,{})})})})}),r.jsx(yt,{path:"H40",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(Fke,{children:r.jsx(_ke,{})})})})}),r.jsx(yt,{path:"H41",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(Bke,{children:r.jsx(Uke,{})})})})}),r.jsx(yt,{path:"H42",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(Hke,{children:r.jsx(Kke,{})})})})}),r.jsx(yt,{path:"H43",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(Jke,{children:r.jsx(Zke,{})})})})}),r.jsx(yt,{path:"H44",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(n2e,{children:r.jsx(o2e,{})})})})}),r.jsx(yt,{path:"H45",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(U2e,{children:r.jsx(V2e,{})})})})}),r.jsx(yt,{path:"H46",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(i2e,{children:r.jsx(c2e,{})})})})}),r.jsx(yt,{path:"H47",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(k2e,{children:r.jsx(N2e,{})})})})}),r.jsx(yt,{path:"H49",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(O2e,{children:r.jsx(P2e,{})})})})}),r.jsx(yt,{path:"H50",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(j2e,{children:r.jsx(v2e,{})})})})}),r.jsx(yt,{path:"H51",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(M2e,{children:r.jsx(L2e,{})})})})}),r.jsx(yt,{path:"H52",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(y2e,{children:r.jsx(x2e,{})})})})}),r.jsx(yt,{path:"H53",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(f2e,{children:r.jsx(m2e,{})})})})})]}),VY=e=>{const{...t}=e,n=a.useContext(Mr),o=a.useRef(0),s=a.useCallback(()=>{o.current++;const c=`counter: ${o.current}`;console.log(`${c} opended`),n.confirm({message:`TEST[${c}]`,onConfirm:()=>{To.info(`${c} confirmed`),s()},onCancel:()=>{To.warn(`${c} cancelled`)},closeOnConfirm:!1})},[n]),i=a.useCallback(()=>{s()},[s]);return r.jsx(jt,{p:6,children:r.jsx(dt,{onClick:i,variant:"contained",children:""})})};VY.propTypes={};VY.displayName="DialogsTest";const zY=()=>Wi(),f$t=(e,t)=>Gn.arePropsEqual(e,t,{fields:"rowData,active,focus"}),XN=a.memo(e=>{const{columnData:t,focus:n,rowData:o,setRowData:s,active:i,stopEditing:c,disabled:u,rowIndex:d,columnIndex:p}=e,{hideControlsOnActive:m,options:f,...h}=t,g=a.useRef(),x=a.useCallback(v=>{console.log("OptionPickerComponent.handleChange",v),s(v),v&&setTimeout(()=>c({nextRow:!1}))},[s,c]),y=a.useMemo(()=>u||m?!n:!i,[i,m,u,n]),D=a.useMemo(()=>({row:d,col:p}),[p,d]);return a.useLayoutEffect(()=>{var v,T;n?(v=g.current)==null||v.focus():(T=g.current)==null||T.blur()},[n]),r.jsx(Wh,{label:"",readOnly:u,inputRef:g,options:f,value:o,onChange:x,disabled:u,dense:!0,hideBorders:!0,toastError:!0,hideControls:y,disableFadeOut:!0,cell:D,...h})},f$t);XN.propTypes={rowData:l.oneOfType([l.string,l.number,l.object]),setRowData:l.func,rowIndex:l.number,columnIndex:l.number,columnData:l.object,active:l.bool,focus:l.bool,disabled:l.bool,stopEditing:l.func,insertRowBelow:l.func,duplicateRow:l.func,deleteRow:l.func,getContextMenuItems:l.func};XN.displayName="OptionPickerComponent";const HY=a.memo(a.forwardRef((e,t)=>{const{gridRef:n}=e,[o,s]=a.useState([{active:!0,active2:!1,firstName:"Elon",lastName:"Musk",abc:"A",SCost:"0"},{active:!1,firstName:"Jeff",lastName:"Bezos",prod:{}},{active:!1,active2:!0,firstName:"Jeff",lastName:"Bezos2",prod:{}},{active:!1,active2:!0,firstName:"Jeff",lastName:"Bezos3",prod:{}},{active:!1,active2:!0,firstName:"Jeff",lastName:"Bezos4",prod:{}}]),i=a.useMemo(()=>[{...Pe.keyColumn("active",zY),title:"Active"},{...Pe.keyColumn("firstName",Pe.textColumn),title:"First name"},{...Pe.keyColumn("lastName",Pe.textColumn),title:"Last name"},{...Pe.keyColumn("active2",Wi()),title:"Active2",minWidth:60},{...Pe.keyColumn("abc",or(XN,{options:["A","B","C"]})),title:"OptionPicker"}],[]);return r.jsx("div",{ref:t,style:{margin:"50px",padding:"50px",maxWidth:"900px",background:"#f3f3f3"},children:r.jsx(Pe.DynamicDataSheetGrid,{ref:n,value:o,onChange:s,columns:i,height:500,disableExpandSelection:!0})})}));HY.propTypes={gridRef:l.object};HY.displayName="DSGTest3";const GY=a.memo(a.forwardRef((e,t)=>{const{gridRef:n}=e,[o,s]=a.useState([{active:!0,firstName:"Elon",lastName:"Musk",abc:"A",SCost:"0"},{active:!1,firstName:"Jeff",lastName:"Bezos",abc:"B",SCost:0}]),i=a.useMemo(()=>[{...Pe.keyColumn("active",Pe.checkboxColumn),title:"Active"},{...Pe.keyColumn("firstName",Pe.createTextColumn({continuousUpdates:!1})),title:"First name"},{...Pe.keyColumn("lastName",Pe.createTextColumn({continuousUpdates:!1})),title:"Last name"},{...Pe.keyColumn("Using_N",zY),title:""},{...Pe.keyColumn("SCost",Jn(2)),title:"",grow:1},{...Pe.keyColumn("abc",or(XN,{options:["A","B","C"]})),title:"OptionPicker"}],[]);return r.jsx("div",{ref:t,style:{background:"#f3f3f3"},children:r.jsx(Pe.DataSheetGrid,{ref:n,value:o,onChange:s,columns:i,height:500,disableExpandSelection:!0})})}));GY.propTypes={gridRef:l.object};GY.displayName="DSGTest";const h$t=a.createContext(),z2e=()=>{const e=a.useRef();return r.jsx(GY,{gridRef:e})};z2e.displayName="DSGTestContainer";const H2e=({children:e})=>{const[t,n]=a.useState({data:null}),o=a.useRef();return r.jsx(h$t.Provider,{value:{gridRef:o,...t},children:e})};H2e.propTypes={children:l.oneOfType([l.array,l.object])};const g$t=[0,0,3e3,3e3,3e3,3e3,3e3,3e3,3e3,3e3,3e3,3e3,3e3,6e3,6e3,6e3,6e3,6e3,6e3,6e3,6e3,6e3,6e3,6e3,6e3,12e3,12e3,12e3,12e3,12e3,12e3,12e3,12e3,12e3,12e3,12e3,6e4,6e4,6e4,6e4,6e4,6e4,6e4,6e4,6e4,6e4,6e4,18e4],G2e=({url:e,onClose:t,onReconnecting:n,onReconnected:o,onConnected:s,onConnectFailed:i,reconnectDelays:c=g$t,retryInterval:u=6e4,autoConnect:d=!0,logginLevel:p=cn.Error})=>{const[m,f]=a.useState(),[h,g]=a.useState({connectionState:null,error:null}),x=a.useCallback(F=>{const _=F.previousRetryCount<c.length?F.previousRetryCount:c.length-1;return c[_]},[c]),y=a.useCallback(()=>{console.log(`[SignalR] creating hub connection [${e}]...`);const F=new Wct().withUrl(e,{});p&&F.configureLogging(p),c&&F.withAutomaticReconnect({nextRetryDelayInMilliseconds:x});const _=F.build();f(_)},[p,x,c,e]),D=a.useCallback(({connection:F}={})=>{g(_=>({..._,connectionState:fo.Connected})),s&&s({connection:F})},[s]),v=a.useCallback(F=>{g(_=>({..._,connectionState:fo.Disconnected,error:F})),i&&i(F)},[i]),T=a.useCallback(({error:F,connection:_}={})=>{g(L=>({...L,connected:!1,error:F})),t&&t({error:F,connection:_})},[t]),I=a.useCallback(({error:F,connection:_}={})=>{g(L=>({...L,connectionState:fo.Connecting,error:F})),n&&n({connection:_,error:F})},[n]),P=a.useCallback(F=>{g(_=>({..._,connectionState:fo.Connected,error:null})),o&&o(F)},[o]),E=a.useCallback(async()=>{if(m.state===fo.Disconnected){console.log(`[SignalR] connecting to Hub "${e}" ...`),g(F=>({...F,connectionState:fo.Connecting,error:null}));try{await m.start(),console.log(`[SignalR] Hub ${e} connected, connectionId: ${m.connectionId}`,m),D({connection:m})}catch(F){u>0&&(w.current=setInterval(()=>{w.current&&(clearInterval(w.current),w.current=null),console.log("Retrying..."),E()},u)),console.error(`[SignalR] Hub ${e} failed to connect, retry in ${u} millis, retryIntervalId: ${w.current}`,F),v(F)}}else console.warn("connection.state is not Disconnected: ",m.state)},[m,D,v,u,e]),k=a.useMemo(()=>m==null?void 0:m.connectionId,[m==null?void 0:m.connectionId]),w=a.useRef(),A=a.useCallback(()=>{w.current&&clearInterval(w.current),(m==null?void 0:m.state)===fo.Connected&&(console.log(`[SignalR] disconnecting from Hub ${e} ...`),g(F=>({...F,stopping:!0,error:null})),m.stop().then(()=>{console.log(`[SignalR] Hub ${e} disconnected`),g(F=>({...F,stopping:!1}))}).catch(F=>{console.error(`[SignalR] Hub ${e} disconnect error`,F),g(_=>({..._,stopping:!1,error:F}))}))},[m,e]);return a.useEffect(()=>{m==null||m.onclose(T)},[m,T]),a.useEffect(()=>{m==null||m.onreconnecting(I)},[m,I]),a.useEffect(()=>{m==null||m.onreconnected(P)},[m,P]),a.useEffect(()=>{y()},[y]),a.useEffect(()=>(d&&m&&E(),()=>{d&&A()}),[d,E,m,A]),{connect:E,disconnect:A,connection:m,connectionId:k,...h}},gT={black:"#000",white:"#fff"},Oy={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Ey={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Py={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Ry={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},wy={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},uj={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},b$t={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function bT(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const x$t=Object.freeze(Object.defineProperty({__proto__:null,default:bT},Symbol.toStringTag,{value:"Module"})),KY="$$material";var K2e=a.createContext(typeof HTMLElement<"u"?HR({key:"css"}):null),y$t=K2e.Provider,QY=function(t){return a.forwardRef(function(n,o){var s=a.useContext(K2e);return t(n,s,o)})},hO=a.createContext({}),YY={}.hasOwnProperty,cB="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",C$t=function(t,n){var o={};for(var s in n)YY.call(n,s)&&(o[s]=n[s]);return o[cB]=t,o},D$t=function(t){var n=t.cache,o=t.serialized,s=t.isStringTag;return ST(n,o,s),KR(function(){return hD(n,o,s)}),null},S$t=QY(function(e,t,n){var o=e.css;typeof o=="string"&&t.registered[o]!==void 0&&(o=t.registered[o]);var s=e[cB],i=[o],c="";typeof e.className=="string"?c=GR(t.registered,i,e.className):e.className!=null&&(c=e.className+" ");var u=Jp(i,void 0,a.useContext(hO));c+=t.key+"-"+u.name;var d={};for(var p in e)YY.call(e,p)&&p!=="css"&&p!==cB&&(d[p]=e[p]);return d.className=c,n&&(d.ref=n),a.createElement(a.Fragment,null,a.createElement(D$t,{cache:t,serialized:u,isStringTag:typeof s=="string"}),a.createElement(s,d))}),v$t=S$t,Yce=function(t,n){var o=arguments;if(n==null||!YY.call(n,"css"))return a.createElement.apply(void 0,o);var s=o.length,i=new Array(s);i[0]=v$t,i[1]=C$t(t,n);for(var c=2;c<s;c++)i[c]=o[c];return a.createElement.apply(null,i)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(Yce||(Yce={}));var j$t=QY(function(e,t){var n=e.styles,o=Jp([n],void 0,a.useContext(hO)),s=a.useRef();return XP(function(){var i=t.key+"-global",c=new t.sheet.constructor({key:i,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),u=!1,d=document.querySelector('style[data-emotion="'+i+" "+o.name+'"]');return t.sheet.tags.length&&(c.before=t.sheet.tags[0]),d!==null&&(u=!0,d.setAttribute("data-emotion",i),c.hydrate([d])),s.current=[c,u],function(){c.flush()}},[t]),XP(function(){var i=s.current,c=i[0],u=i[1];if(u){i[1]=!1;return}if(o.next!==void 0&&hD(t,o.next,!0),c.tags.length){var d=c.tags[c.tags.length-1].nextElementSibling;c.before=d,c.flush()}t.insert("",o,c,!1)},[t,o.name]),null});function Q2e(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Jp(t)}function ZN(){var e=Q2e.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var I$t=$de,T$t=function(t){return t!=="theme"},Jce=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?I$t:T$t},Xce=function(t,n,o){var s;if(n){var i=n.shouldForwardProp;s=t.__emotion_forwardProp&&i?function(c){return t.__emotion_forwardProp(c)&&i(c)}:i}return typeof s!="function"&&o&&(s=t.__emotion_forwardProp),s},O$t=function(t){var n=t.cache,o=t.serialized,s=t.isStringTag;return ST(n,o,s),KR(function(){return hD(n,o,s)}),null},E$t=function e(t,n){var o=t.__emotion_real===t,s=o&&t.__emotion_base||t,i,c;n!==void 0&&(i=n.label,c=n.target);var u=Xce(t,n,o),d=u||Jce(s),p=!d("as");return function(){var m=arguments,f=o&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(i!==void 0&&f.push("label:"+i+";"),m[0]==null||m[0].raw===void 0)f.push.apply(f,m);else{var h=m[0];f.push(h[0]);for(var g=m.length,x=1;x<g;x++)f.push(m[x],h[x])}var y=QY(function(D,v,T){var I=p&&D.as||s,P="",E=[],k=D;if(D.theme==null){k={};for(var w in D)k[w]=D[w];k.theme=a.useContext(hO)}typeof D.className=="string"?P=GR(v.registered,E,D.className):D.className!=null&&(P=D.className+" ");var A=Jp(f.concat(E),v.registered,k);P+=v.key+"-"+A.name,c!==void 0&&(P+=" "+c);var F=p&&u===void 0?Jce(I):d,_={};for(var L in D)p&&L==="as"||F(L)&&(_[L]=D[L]);return _.className=P,T&&(_.ref=T),a.createElement(a.Fragment,null,a.createElement(O$t,{cache:v,serialized:A,isStringTag:typeof I=="string"}),a.createElement(I,_))});return y.displayName=i!==void 0?i:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",y.defaultProps=t.defaultProps,y.__emotion_real=y,y.__emotion_base=s,y.__emotion_styles=f,y.__emotion_forwardProp=u,Object.defineProperty(y,"toString",{value:function(){return"."+c}}),y.withComponent=function(D,v){var T=e(D,$({},n,v,{shouldForwardProp:Xce(y,v,!0)}));return T.apply(void 0,f)},y}},P$t=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],uB=E$t.bind(null);P$t.forEach(function(e){uB[e]=uB(e)});function R$t(e,t){const n=HR({key:"css",prepend:e});if(t){const o=n.insert;n.insert=(...s)=>(s[1].styles.match(/^@layer\s+[^{]*$/)||(s[1].styles=`@layer mui {${s[1].styles}}`),o(...s))}return n}const OL=new Map;function w$t(e){const{injectFirst:t,enableCssLayer:n,children:o}=e,s=a.useMemo(()=>{const i=`${t}-${n}`;if(typeof document=="object"&&OL.has(i))return OL.get(i);const c=R$t(t,n);return OL.set(i,c),c},[t,n]);return t||n?r.jsx(y$t,{value:s,children:o}):o}function k$t(e){return e==null||Object.keys(e).length===0}function A$t(e){const{styles:t,defaultTheme:n={}}=e,o=typeof t=="function"?s=>t(k$t(s)?n:s):t;return r.jsx(j$t,{styles:o})}function Y2e(e,t){return uB(e,t)}const N$t=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},Zce=[];function F$t(e){return Zce[0]=e,Jp(Zce)}const M$t=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:A$t,StyledEngineProvider:w$t,ThemeContext:hO,css:Q2e,default:Y2e,internal_processStyles:N$t,internal_serializeStyles:F$t,keyframes:ZN},Symbol.toStringTag,{value:"Module"}));function vh(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function J2e(e){if(a.isValidElement(e)||!vh(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=J2e(e[n])}),t}function Gp(e,t,n={clone:!0}){const o=n.clone?$({},e):e;return vh(e)&&vh(t)&&Object.keys(t).forEach(s=>{a.isValidElement(t[s])?o[s]=t[s]:vh(t[s])&&Object.prototype.hasOwnProperty.call(e,s)&&vh(e[s])?o[s]=Gp(e[s],t[s],n):n.clone?o[s]=vh(t[s])?J2e(t[s]):t[s]:o[s]=t[s]}),o}const _$t=Object.freeze(Object.defineProperty({__proto__:null,default:Gp,isPlainObject:vh},Symbol.toStringTag,{value:"Module"})),L$t=["values","unit","step"],$$t=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,o)=>n.val-o.val),t.reduce((n,o)=>$({},n,{[o.key]:o.val}),{})};function X2e(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:o=5}=e,s=It(e,L$t),i=$$t(t),c=Object.keys(i);function u(h){return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n})`}function d(h){return`@media (max-width:${(typeof t[h]=="number"?t[h]:h)-o/100}${n})`}function p(h,g){const x=c.indexOf(g);return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n}) and (max-width:${(x!==-1&&typeof t[c[x]]=="number"?t[c[x]]:g)-o/100}${n})`}function m(h){return c.indexOf(h)+1<c.length?p(h,c[c.indexOf(h)+1]):u(h)}function f(h){const g=c.indexOf(h);return g===0?u(c[1]):g===c.length-1?d(c[g]):p(h,c[c.indexOf(h)+1]).replace("@media","@media not all and")}return $({keys:c,values:i,up:u,down:d,between:p,only:m,not:f,unit:n},s)}const B$t={borderRadius:4};function FI(e,t){return t?Gp(e,t,{clone:!1}):e}const JY={xs:0,sm:600,md:900,lg:1200,xl:1536},eue={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${JY[e]}px)`};function ff(e,t,n){const o=e.theme||{};if(Array.isArray(t)){const i=o.breakpoints||eue;return t.reduce((c,u,d)=>(c[i.up(i.keys[d])]=n(t[d]),c),{})}if(typeof t=="object"){const i=o.breakpoints||eue;return Object.keys(t).reduce((c,u)=>{if(Object.keys(i.values||JY).indexOf(u)!==-1){const d=i.up(u);c[d]=n(t[u],u)}else{const d=u;c[d]=t[d]}return c},{})}return n(t)}function W$t(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((o,s)=>{const i=e.up(s);return o[i]={},o},{}))||{}}function U$t(e,t){return e.reduce((n,o)=>{const s=n[o];return(!s||Object.keys(s).length===0)&&delete n[o],n},t)}function ma(e){if(typeof e!="string")throw new Error(bT(7));return e.charAt(0).toUpperCase()+e.slice(1)}const q$t=Object.freeze(Object.defineProperty({__proto__:null,default:ma},Symbol.toStringTag,{value:"Module"}));function eF(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const o=`vars.${t}`.split(".").reduce((s,i)=>s&&s[i]?s[i]:null,e);if(o!=null)return o}return t.split(".").reduce((o,s)=>o&&o[s]!=null?o[s]:null,e)}function FR(e,t,n,o=n){let s;return typeof e=="function"?s=e(n):Array.isArray(e)?s=e[n]||o:s=eF(e,n)||o,t&&(s=t(s,o,e)),s}function Na(e){const{prop:t,cssProperty:n=e.prop,themeKey:o,transform:s}=e,i=c=>{if(c[t]==null)return null;const u=c[t],d=c.theme,p=eF(d,o)||{};return ff(c,u,f=>{let h=FR(p,s,f);return f===h&&typeof f=="string"&&(h=FR(p,s,`${t}${f==="default"?"":ma(f)}`,f)),n===!1?h:{[n]:h}})};return i.propTypes={},i.filterProps=[t],i}function V$t(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const z$t={m:"margin",p:"padding"},H$t={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},tue={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},G$t=V$t(e=>{if(e.length>2)if(tue[e])e=tue[e];else return[e];const[t,n]=e.split(""),o=z$t[t],s=H$t[n]||"";return Array.isArray(s)?s.map(i=>o+i):[o+s]}),XY=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],ZY=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...XY,...ZY];function gO(e,t,n,o){var s;const i=(s=eF(e,t,!1))!=null?s:n;return typeof i=="number"?c=>typeof c=="string"?c:i*c:Array.isArray(i)?c=>typeof c=="string"?c:i[c]:typeof i=="function"?i:()=>{}}function Z2e(e){return gO(e,"spacing",8)}function bO(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),o=e(n);return t>=0?o:typeof o=="number"?-o:`-${o}`}function K$t(e,t){return n=>e.reduce((o,s)=>(o[s]=bO(t,n),o),{})}function Q$t(e,t,n,o){if(t.indexOf(n)===-1)return null;const s=G$t(n),i=K$t(s,o),c=e[n];return ff(e,c,i)}function eAe(e,t){const n=Z2e(e.theme);return Object.keys(e).map(o=>Q$t(e,t,o,n)).reduce(FI,{})}function da(e){return eAe(e,XY)}da.propTypes={};da.filterProps=XY;function pa(e){return eAe(e,ZY)}pa.propTypes={};pa.filterProps=ZY;function Y$t(e=8){if(e.mui)return e;const t=Z2e({spacing:e}),n=(...o)=>(o.length===0?[1]:o).map(i=>{const c=t(i);return typeof c=="number"?`${c}px`:c}).join(" ");return n.mui=!0,n}function tF(...e){const t=e.reduce((o,s)=>(s.filterProps.forEach(i=>{o[i]=s}),o),{}),n=o=>Object.keys(o).reduce((s,i)=>t[i]?FI(s,t[i](o)):s,{});return n.propTypes={},n.filterProps=e.reduce((o,s)=>o.concat(s.filterProps),[]),n}function Hu(e){return typeof e!="number"?e:`${e}px solid`}function cd(e,t){return Na({prop:e,themeKey:"borders",transform:t})}const J$t=cd("border",Hu),X$t=cd("borderTop",Hu),Z$t=cd("borderRight",Hu),eBt=cd("borderBottom",Hu),tBt=cd("borderLeft",Hu),nBt=cd("borderColor"),rBt=cd("borderTopColor"),oBt=cd("borderRightColor"),sBt=cd("borderBottomColor"),aBt=cd("borderLeftColor"),iBt=cd("outline",Hu),lBt=cd("outlineColor"),nF=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=gO(e.theme,"shape.borderRadius",4),n=o=>({borderRadius:bO(t,o)});return ff(e,e.borderRadius,n)}return null};nF.propTypes={};nF.filterProps=["borderRadius"];tF(J$t,X$t,Z$t,eBt,tBt,nBt,rBt,oBt,sBt,aBt,nF,iBt,lBt);const rF=e=>{if(e.gap!==void 0&&e.gap!==null){const t=gO(e.theme,"spacing",8),n=o=>({gap:bO(t,o)});return ff(e,e.gap,n)}return null};rF.propTypes={};rF.filterProps=["gap"];const oF=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=gO(e.theme,"spacing",8),n=o=>({columnGap:bO(t,o)});return ff(e,e.columnGap,n)}return null};oF.propTypes={};oF.filterProps=["columnGap"];const sF=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=gO(e.theme,"spacing",8),n=o=>({rowGap:bO(t,o)});return ff(e,e.rowGap,n)}return null};sF.propTypes={};sF.filterProps=["rowGap"];const cBt=Na({prop:"gridColumn"}),uBt=Na({prop:"gridRow"}),dBt=Na({prop:"gridAutoFlow"}),pBt=Na({prop:"gridAutoColumns"}),mBt=Na({prop:"gridAutoRows"}),fBt=Na({prop:"gridTemplateColumns"}),hBt=Na({prop:"gridTemplateRows"}),gBt=Na({prop:"gridTemplateAreas"}),bBt=Na({prop:"gridArea"});tF(rF,oF,sF,cBt,uBt,dBt,pBt,mBt,fBt,hBt,gBt,bBt);function mC(e,t){return t==="grey"?t:e}const xBt=Na({prop:"color",themeKey:"palette",transform:mC}),yBt=Na({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:mC}),CBt=Na({prop:"backgroundColor",themeKey:"palette",transform:mC});tF(xBt,yBt,CBt);function Uc(e){return e<=1&&e!==0?`${e*100}%`:e}const DBt=Na({prop:"width",transform:Uc}),eJ=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var o,s;const i=((o=e.theme)==null||(o=o.breakpoints)==null||(o=o.values)==null?void 0:o[n])||JY[n];return i?((s=e.theme)==null||(s=s.breakpoints)==null?void 0:s.unit)!=="px"?{maxWidth:`${i}${e.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:Uc(n)}};return ff(e,e.maxWidth,t)}return null};eJ.filterProps=["maxWidth"];const SBt=Na({prop:"minWidth",transform:Uc}),vBt=Na({prop:"height",transform:Uc}),jBt=Na({prop:"maxHeight",transform:Uc}),IBt=Na({prop:"minHeight",transform:Uc});Na({prop:"size",cssProperty:"width",transform:Uc});Na({prop:"size",cssProperty:"height",transform:Uc});const TBt=Na({prop:"boxSizing"});tF(DBt,eJ,SBt,vBt,jBt,IBt,TBt);const xO={border:{themeKey:"borders",transform:Hu},borderTop:{themeKey:"borders",transform:Hu},borderRight:{themeKey:"borders",transform:Hu},borderBottom:{themeKey:"borders",transform:Hu},borderLeft:{themeKey:"borders",transform:Hu},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Hu},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:nF},color:{themeKey:"palette",transform:mC},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:mC},backgroundColor:{themeKey:"palette",transform:mC},p:{style:pa},pt:{style:pa},pr:{style:pa},pb:{style:pa},pl:{style:pa},px:{style:pa},py:{style:pa},padding:{style:pa},paddingTop:{style:pa},paddingRight:{style:pa},paddingBottom:{style:pa},paddingLeft:{style:pa},paddingX:{style:pa},paddingY:{style:pa},paddingInline:{style:pa},paddingInlineStart:{style:pa},paddingInlineEnd:{style:pa},paddingBlock:{style:pa},paddingBlockStart:{style:pa},paddingBlockEnd:{style:pa},m:{style:da},mt:{style:da},mr:{style:da},mb:{style:da},ml:{style:da},mx:{style:da},my:{style:da},margin:{style:da},marginTop:{style:da},marginRight:{style:da},marginBottom:{style:da},marginLeft:{style:da},marginX:{style:da},marginY:{style:da},marginInline:{style:da},marginInlineStart:{style:da},marginInlineEnd:{style:da},marginBlock:{style:da},marginBlockStart:{style:da},marginBlockEnd:{style:da},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:rF},rowGap:{style:sF},columnGap:{style:oF},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Uc},maxWidth:{style:eJ},minWidth:{transform:Uc},height:{transform:Uc},maxHeight:{transform:Uc},minHeight:{transform:Uc},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function OBt(...e){const t=e.reduce((o,s)=>o.concat(Object.keys(s)),[]),n=new Set(t);return e.every(o=>n.size===Object.keys(o).length)}function EBt(e,t){return typeof e=="function"?e(t):e}function tAe(){function e(n,o,s,i){const c={[n]:o,theme:s},u=i[n];if(!u)return{[n]:o};const{cssProperty:d=n,themeKey:p,transform:m,style:f}=u;if(o==null)return null;if(p==="typography"&&o==="inherit")return{[n]:o};const h=eF(s,p)||{};return f?f(c):ff(c,o,x=>{let y=FR(h,m,x);return x===y&&typeof x=="string"&&(y=FR(h,m,`${n}${x==="default"?"":ma(x)}`,x)),d===!1?y:{[d]:y}})}function t(n){var o;const{sx:s,theme:i={}}=n||{};if(!s)return null;const c=(o=i.unstable_sxConfig)!=null?o:xO;function u(d){let p=d;if(typeof d=="function")p=d(i);else if(typeof d!="object")return d;if(!p)return null;const m=W$t(i.breakpoints),f=Object.keys(m);let h=m;return Object.keys(p).forEach(g=>{const x=EBt(p[g],i);if(x!=null)if(typeof x=="object")if(c[g])h=FI(h,e(g,x,i,c));else{const y=ff({theme:i},x,D=>({[g]:D}));OBt(y,x)?h[g]=t({sx:x,theme:i}):h=FI(h,y)}else h=FI(h,e(g,x,i,c))}),U$t(f,h)}return Array.isArray(s)?s.map(u):u(s)}return t}const yO=tAe();yO.filterProps=["sx"];function nAe(e,t){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:n.palette.mode===e?t:{}}const PBt=["breakpoints","palette","spacing","shape"];function tJ(e={},...t){const{breakpoints:n={},palette:o={},spacing:s,shape:i={}}=e,c=It(e,PBt),u=X2e(n),d=Y$t(s);let p=Gp({breakpoints:u,direction:"ltr",components:{},palette:$({mode:"light"},o),spacing:d,shape:$({},B$t,i)},c);return p.applyStyles=nAe,p=t.reduce((m,f)=>Gp(m,f),p),p.unstable_sxConfig=$({},xO,c==null?void 0:c.unstable_sxConfig),p.unstable_sx=function(f){return yO({sx:f,theme:this})},p}const RBt=Object.freeze(Object.defineProperty({__proto__:null,default:tJ,private_createBreakpoints:X2e,unstable_applyStyles:nAe},Symbol.toStringTag,{value:"Module"}));function wBt(e){return Object.keys(e).length===0}function kBt(e=null){const t=a.useContext(hO);return!t||wBt(t)?e:t}const ABt=tJ();function rAe(e=ABt){return kBt(e)}const NBt=["sx"],FBt=e=>{var t,n;const o={systemProps:{},otherProps:{}},s=(t=e==null||(n=e.theme)==null?void 0:n.unstable_sxConfig)!=null?t:xO;return Object.keys(e).forEach(i=>{s[i]?o.systemProps[i]=e[i]:o.otherProps[i]=e[i]}),o};function oAe(e){const{sx:t}=e,n=It(e,NBt),{systemProps:o,otherProps:s}=FBt(n);let i;return Array.isArray(t)?i=[o,...t]:typeof t=="function"?i=(...c)=>{const u=t(...c);return vh(u)?$({},o,u):o}:i=$({},o,t),$({},s,{sx:i})}const MBt=Object.freeze(Object.defineProperty({__proto__:null,default:yO,extendSxProp:oAe,unstable_createStyleFunctionSx:tAe,unstable_defaultSxConfig:xO},Symbol.toStringTag,{value:"Module"})),nue=e=>e,_Bt=()=>{let e=nue;return{configure(t){e=t},generate(t){return e(t)},reset(){e=nue}}},sAe=_Bt(),LBt=["className","component"];function $Bt(e={}){const{themeId:t,defaultTheme:n,defaultClassName:o="MuiBox-root",generateClassName:s}=e,i=Y2e("div",{shouldForwardProp:u=>u!=="theme"&&u!=="sx"&&u!=="as"})(yO);return a.forwardRef(function(d,p){const m=rAe(n),f=oAe(d),{className:h,component:g="div"}=f,x=It(f,LBt);return r.jsx(i,$({as:g,ref:p,className:Nt(h,s?s(o):o),theme:t&&m[t]||m},x))})}const BBt={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function KD(e,t,n="Mui"){const o=BBt[t];return o?`${n}-${o}`:`${sAe.generate(e)}-${t}`}function tx(e,t,n="Mui"){const o={};return t.forEach(s=>{o[s]=KD(e,s,n)}),o}const WBt=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function aAe(e){const t=`${e}`.match(WBt);return t&&t[1]||""}function iAe(e,t=""){return e.displayName||e.name||aAe(e)||t}function rue(e,t,n){const o=iAe(t);return e.displayName||(o!==""?`${n}(${o})`:n)}function UBt(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return iAe(e,"Component");if(typeof e=="object")switch(e.$$typeof){case eR.ForwardRef:return rue(e,e.render,"ForwardRef");case eR.Memo:return rue(e,e.type,"memo");default:return}}}const qBt=Object.freeze(Object.defineProperty({__proto__:null,default:UBt,getFunctionName:aAe},Symbol.toStringTag,{value:"Module"}));function MR(e,t){const n=$({},t);return Object.keys(e).forEach(o=>{if(o.toString().match(/^(components|slots)$/))n[o]=$({},e[o],n[o]);else if(o.toString().match(/^(componentsProps|slotProps)$/)){const s=e[o]||{},i=t[o];n[o]={},!i||!Object.keys(i)?n[o]=s:!s||!Object.keys(s)?n[o]=i:(n[o]=$({},i),Object.keys(s).forEach(c=>{n[o][c]=MR(s[c],i[c])}))}else n[o]===void 0&&(n[o]=e[o])}),n}const xT=typeof window<"u"?a.useLayoutEffect:a.useEffect;function VBt(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}const zBt=Object.freeze(Object.defineProperty({__proto__:null,default:VBt},Symbol.toStringTag,{value:"Module"}));function oue(e){return e&&e.ownerDocument||document}function dB(e,t){typeof e=="function"?e(t):e&&(e.current=t)}let sue=0;function HBt(e){const[t,n]=a.useState(e),o=e||t;return a.useEffect(()=>{t==null&&(sue+=1,n(`mui-${sue}`))},[t]),o}const aue=BI.useId;function GBt(e){if(aue!==void 0){const t=aue();return e??t}return HBt(e)}function KBt({controlled:e,default:t,name:n,state:o="value"}){const{current:s}=a.useRef(e!==void 0),[i,c]=a.useState(t),u=s?e:i,d=a.useCallback(p=>{s||c(p)},[]);return[u,d]}function Jy(e){const t=a.useRef(e);return xT(()=>{t.current=e}),a.useRef((...n)=>(0,t.current)(...n)).current}function Uh(...e){return a.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{dB(n,t)})},e)}const iue={};function QBt(e,t){const n=a.useRef(iue);return n.current===iue&&(n.current=e(t)),n}const YBt=[];function JBt(e){a.useEffect(e,YBt)}class CO{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new CO}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function Xy(){const e=QBt(CO.create).current;return JBt(e.disposeEffect),e}let aF=!0,pB=!1;const XBt=new CO,ZBt={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function e3t(e){const{type:t,tagName:n}=e;return!!(n==="INPUT"&&ZBt[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function t3t(e){e.metaKey||e.altKey||e.ctrlKey||(aF=!0)}function EL(){aF=!1}function n3t(){this.visibilityState==="hidden"&&pB&&(aF=!0)}function r3t(e){e.addEventListener("keydown",t3t,!0),e.addEventListener("mousedown",EL,!0),e.addEventListener("pointerdown",EL,!0),e.addEventListener("touchstart",EL,!0),e.addEventListener("visibilitychange",n3t,!0)}function o3t(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return aF||e3t(t)}function lAe(){const e=a.useCallback(s=>{s!=null&&r3t(s.ownerDocument)},[]),t=a.useRef(!1);function n(){return t.current?(pB=!0,XBt.start(100,()=>{pB=!1}),t.current=!1,!0):!1}function o(s){return o3t(s)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:o,onBlur:n,ref:e}}function DO(e,t,n=void 0){const o={};return Object.keys(e).forEach(s=>{o[s]=e[s].reduce((i,c)=>{if(c){const u=t(c);u!==""&&i.push(u),n&&n[c]&&i.push(n[c])}return i},[]).join(" ")}),o}function s3t(e){return typeof e=="string"}function w1(e,t,n){return e===void 0||s3t(e)?t:$({},t,{ownerState:$({},t.ownerState,n)})}function a3t(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(o=>o.match(/^on[A-Z]/)&&typeof e[o]=="function"&&!t.includes(o)).forEach(o=>{n[o]=e[o]}),n}function lue(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function i3t(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:o,externalForwardedProps:s,className:i}=e;if(!t){const g=Nt(n==null?void 0:n.className,i,s==null?void 0:s.className,o==null?void 0:o.className),x=$({},n==null?void 0:n.style,s==null?void 0:s.style,o==null?void 0:o.style),y=$({},n,s,o);return g.length>0&&(y.className=g),Object.keys(x).length>0&&(y.style=x),{props:y,internalRef:void 0}}const c=a3t($({},s,o)),u=lue(o),d=lue(s),p=t(c),m=Nt(p==null?void 0:p.className,n==null?void 0:n.className,i,s==null?void 0:s.className,o==null?void 0:o.className),f=$({},p==null?void 0:p.style,n==null?void 0:n.style,s==null?void 0:s.style,o==null?void 0:o.style),h=$({},p,n,d,u);return m.length>0&&(h.className=m),Object.keys(f).length>0&&(h.style=f),{props:h,internalRef:p.ref}}function l3t(e,t,n){return typeof e=="function"?e(t,n):e}const c3t=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function u3t(e){var t;const{elementType:n,externalSlotProps:o,ownerState:s,skipResolvingSlotProps:i=!1}=e,c=It(e,c3t),u=i?{}:l3t(o,s),{props:d,internalRef:p}=i3t($({},c,{externalSlotProps:u})),m=Uh(p,u==null?void 0:u.ref,(t=e.additionalProps)==null?void 0:t.ref);return w1(n,$({},d,{ref:m}),s)}const d3t=a.createContext(),p3t=()=>{const e=a.useContext(d3t);return e??!1},m3t=a.createContext(void 0);function f3t(e){const{theme:t,name:n,props:o}=e;if(!t||!t.components||!t.components[n])return o;const s=t.components[n];return s.defaultProps?MR(s.defaultProps,o):!s.styleOverrides&&!s.variants?MR(s,o):o}function h3t({props:e,name:t}){const n=a.useContext(m3t);return f3t({props:e,name:t,theme:{components:n}})}function g3t(e,t){return $({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var Js={};const b3t=Ei(x$t),x3t=Ei(zBt);var cue;function y3t(){if(cue)return Js;cue=1;var e=Qn();Object.defineProperty(Js,"__esModule",{value:!0}),Js.alpha=x,Js.blend=k,Js.colorChannel=void 0,Js.darken=D,Js.decomposeColor=c,Js.emphasize=P,Js.getContrastRatio=g,Js.getLuminance=h,Js.hexToRgb=s,Js.hslToRgb=f,Js.lighten=T,Js.private_safeAlpha=y,Js.private_safeColorChannel=void 0,Js.private_safeDarken=v,Js.private_safeEmphasize=E,Js.private_safeLighten=I,Js.recomposeColor=p,Js.rgbToHex=m;var t=e(b3t),n=e(x3t);function o(w,A=0,F=1){return(0,n.default)(w,A,F)}function s(w){w=w.slice(1);const A=new RegExp(`.{1,${w.length>=6?2:1}}`,"g");let F=w.match(A);return F&&F[0].length===1&&(F=F.map(_=>_+_)),F?`rgb${F.length===4?"a":""}(${F.map((_,L)=>L<3?parseInt(_,16):Math.round(parseInt(_,16)/255*1e3)/1e3).join(", ")})`:""}function i(w){const A=w.toString(16);return A.length===1?`0${A}`:A}function c(w){if(w.type)return w;if(w.charAt(0)==="#")return c(s(w));const A=w.indexOf("("),F=w.substring(0,A);if(["rgb","rgba","hsl","hsla","color"].indexOf(F)===-1)throw new Error((0,t.default)(9,w));let _=w.substring(A+1,w.length-1),L;if(F==="color"){if(_=_.split(" "),L=_.shift(),_.length===4&&_[3].charAt(0)==="/"&&(_[3]=_[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(L)===-1)throw new Error((0,t.default)(10,L))}else _=_.split(",");return _=_.map(K=>parseFloat(K)),{type:F,values:_,colorSpace:L}}const u=w=>{const A=c(w);return A.values.slice(0,3).map((F,_)=>A.type.indexOf("hsl")!==-1&&_!==0?`${F}%`:F).join(" ")};Js.colorChannel=u;const d=(w,A)=>{try{return u(w)}catch{return w}};Js.private_safeColorChannel=d;function p(w){const{type:A,colorSpace:F}=w;let{values:_}=w;return A.indexOf("rgb")!==-1?_=_.map((L,K)=>K<3?parseInt(L,10):L):A.indexOf("hsl")!==-1&&(_[1]=`${_[1]}%`,_[2]=`${_[2]}%`),A.indexOf("color")!==-1?_=`${F} ${_.join(" ")}`:_=`${_.join(", ")}`,`${A}(${_})`}function m(w){if(w.indexOf("#")===0)return w;const{values:A}=c(w);return`#${A.map((F,_)=>i(_===3?Math.round(255*F):F)).join("")}`}function f(w){w=c(w);const{values:A}=w,F=A[0],_=A[1]/100,L=A[2]/100,K=_*Math.min(L,1-L),z=(V,W=(V+F/30)%12)=>L-K*Math.max(Math.min(W-3,9-W,1),-1);let J="rgb";const Q=[Math.round(z(0)*255),Math.round(z(8)*255),Math.round(z(4)*255)];return w.type==="hsla"&&(J+="a",Q.push(A[3])),p({type:J,values:Q})}function h(w){w=c(w);let A=w.type==="hsl"||w.type==="hsla"?c(f(w)).values:w.values;return A=A.map(F=>(w.type!=="color"&&(F/=255),F<=.03928?F/12.92:((F+.055)/1.055)**2.4)),Number((.2126*A[0]+.7152*A[1]+.0722*A[2]).toFixed(3))}function g(w,A){const F=h(w),_=h(A);return(Math.max(F,_)+.05)/(Math.min(F,_)+.05)}function x(w,A){return w=c(w),A=o(A),(w.type==="rgb"||w.type==="hsl")&&(w.type+="a"),w.type==="color"?w.values[3]=`/${A}`:w.values[3]=A,p(w)}function y(w,A,F){try{return x(w,A)}catch{return w}}function D(w,A){if(w=c(w),A=o(A),w.type.indexOf("hsl")!==-1)w.values[2]*=1-A;else if(w.type.indexOf("rgb")!==-1||w.type.indexOf("color")!==-1)for(let F=0;F<3;F+=1)w.values[F]*=1-A;return p(w)}function v(w,A,F){try{return D(w,A)}catch{return w}}function T(w,A){if(w=c(w),A=o(A),w.type.indexOf("hsl")!==-1)w.values[2]+=(100-w.values[2])*A;else if(w.type.indexOf("rgb")!==-1)for(let F=0;F<3;F+=1)w.values[F]+=(255-w.values[F])*A;else if(w.type.indexOf("color")!==-1)for(let F=0;F<3;F+=1)w.values[F]+=(1-w.values[F])*A;return p(w)}function I(w,A,F){try{return T(w,A)}catch{return w}}function P(w,A=.15){return h(w)>.5?D(w,A):T(w,A)}function E(w,A,F){try{return P(w,A)}catch{return w}}function k(w,A,F,_=1){const L=(Q,V)=>Math.round((Q**(1/_)*(1-F)+V**(1/_)*F)**_),K=c(w),z=c(A),J=[L(K.values[0],z.values[0]),L(K.values[1],z.values[1]),L(K.values[2],z.values[2])];return p({type:"rgb",values:J})}return Js}var Bd=y3t();const C3t=["mode","contrastThreshold","tonalOffset"],uue={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:gT.white,default:gT.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},PL={text:{primary:gT.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:gT.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function due(e,t,n,o){const s=o.light||o,i=o.dark||o*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=Bd.lighten(e.main,s):t==="dark"&&(e.dark=Bd.darken(e.main,i)))}function D3t(e="light"){return e==="dark"?{main:Py[200],light:Py[50],dark:Py[400]}:{main:Py[700],light:Py[400],dark:Py[800]}}function S3t(e="light"){return e==="dark"?{main:Ey[200],light:Ey[50],dark:Ey[400]}:{main:Ey[500],light:Ey[300],dark:Ey[700]}}function v3t(e="light"){return e==="dark"?{main:Oy[500],light:Oy[300],dark:Oy[700]}:{main:Oy[700],light:Oy[400],dark:Oy[800]}}function j3t(e="light"){return e==="dark"?{main:Ry[400],light:Ry[300],dark:Ry[700]}:{main:Ry[700],light:Ry[500],dark:Ry[900]}}function I3t(e="light"){return e==="dark"?{main:wy[400],light:wy[300],dark:wy[700]}:{main:wy[800],light:wy[500],dark:wy[900]}}function T3t(e="light"){return e==="dark"?{main:uj[400],light:uj[300],dark:uj[700]}:{main:"#ed6c02",light:uj[500],dark:uj[900]}}function O3t(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:o=.2}=e,s=It(e,C3t),i=e.primary||D3t(t),c=e.secondary||S3t(t),u=e.error||v3t(t),d=e.info||j3t(t),p=e.success||I3t(t),m=e.warning||T3t(t);function f(y){return Bd.getContrastRatio(y,PL.text.primary)>=n?PL.text.primary:uue.text.primary}const h=({color:y,name:D,mainShade:v=500,lightShade:T=300,darkShade:I=700})=>{if(y=$({},y),!y.main&&y[v]&&(y.main=y[v]),!y.hasOwnProperty("main"))throw new Error(bT(11,D?` (${D})`:"",v));if(typeof y.main!="string")throw new Error(bT(12,D?` (${D})`:"",JSON.stringify(y.main)));return due(y,"light",T,o),due(y,"dark",I,o),y.contrastText||(y.contrastText=f(y.main)),y},g={dark:PL,light:uue};return Gp($({common:$({},gT),mode:t,primary:h({color:i,name:"primary"}),secondary:h({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:u,name:"error"}),warning:h({color:m,name:"warning"}),info:h({color:d,name:"info"}),success:h({color:p,name:"success"}),grey:b$t,contrastThreshold:n,getContrastText:f,augmentColor:h,tonalOffset:o},g[t]),s)}const E3t=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function P3t(e){return Math.round(e*1e5)/1e5}const pue={textTransform:"uppercase"},mue='"Roboto", "Helvetica", "Arial", sans-serif';function R3t(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:o=mue,fontSize:s=14,fontWeightLight:i=300,fontWeightRegular:c=400,fontWeightMedium:u=500,fontWeightBold:d=700,htmlFontSize:p=16,allVariants:m,pxToRem:f}=n,h=It(n,E3t),g=s/14,x=f||(v=>`${v/p*g}rem`),y=(v,T,I,P,E)=>$({fontFamily:o,fontWeight:v,fontSize:x(T),lineHeight:I},o===mue?{letterSpacing:`${P3t(P/T)}em`}:{},E,m),D={h1:y(i,96,1.167,-1.5),h2:y(i,60,1.2,-.5),h3:y(c,48,1.167,0),h4:y(c,34,1.235,.25),h5:y(c,24,1.334,0),h6:y(u,20,1.6,.15),subtitle1:y(c,16,1.75,.15),subtitle2:y(u,14,1.57,.1),body1:y(c,16,1.5,.15),body2:y(c,14,1.43,.15),button:y(u,14,1.75,.4,pue),caption:y(c,12,1.66,.4),overline:y(c,12,2.66,1,pue),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Gp($({htmlFontSize:p,pxToRem:x,fontFamily:o,fontSize:s,fontWeightLight:i,fontWeightRegular:c,fontWeightMedium:u,fontWeightBold:d},D),h,{clone:!1})}const w3t=.2,k3t=.14,A3t=.12;function Bs(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${w3t})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${k3t})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${A3t})`].join(",")}const N3t=["none",Bs(0,2,1,-1,0,1,1,0,0,1,3,0),Bs(0,3,1,-2,0,2,2,0,0,1,5,0),Bs(0,3,3,-2,0,3,4,0,0,1,8,0),Bs(0,2,4,-1,0,4,5,0,0,1,10,0),Bs(0,3,5,-1,0,5,8,0,0,1,14,0),Bs(0,3,5,-1,0,6,10,0,0,1,18,0),Bs(0,4,5,-2,0,7,10,1,0,2,16,1),Bs(0,5,5,-3,0,8,10,1,0,3,14,2),Bs(0,5,6,-3,0,9,12,1,0,3,16,2),Bs(0,6,6,-3,0,10,14,1,0,4,18,3),Bs(0,6,7,-4,0,11,15,1,0,4,20,3),Bs(0,7,8,-4,0,12,17,2,0,5,22,4),Bs(0,7,8,-4,0,13,19,2,0,5,24,4),Bs(0,7,9,-4,0,14,21,2,0,5,26,4),Bs(0,8,9,-5,0,15,22,2,0,6,28,5),Bs(0,8,10,-5,0,16,24,2,0,6,30,5),Bs(0,8,11,-5,0,17,26,2,0,6,32,5),Bs(0,9,11,-5,0,18,28,2,0,7,34,6),Bs(0,9,12,-6,0,19,29,2,0,7,36,6),Bs(0,10,13,-6,0,20,31,3,0,8,38,7),Bs(0,10,13,-6,0,21,33,3,0,8,40,7),Bs(0,10,14,-6,0,22,35,3,0,8,42,7),Bs(0,11,14,-7,0,23,36,3,0,9,44,8),Bs(0,11,15,-7,0,24,38,3,0,9,46,8)],F3t=["duration","easing","delay"],M3t={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},_3t={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function fue(e){return`${Math.round(e)}ms`}function L3t(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function $3t(e){const t=$({},M3t,e.easing),n=$({},_3t,e.duration);return $({getAutoHeightDuration:L3t,create:(s=["all"],i={})=>{const{duration:c=n.standard,easing:u=t.easeInOut,delay:d=0}=i;return It(i,F3t),(Array.isArray(s)?s:[s]).map(p=>`${p} ${typeof c=="string"?c:fue(c)} ${u} ${typeof d=="string"?d:fue(d)}`).join(",")}},e,{easing:t,duration:n})}const B3t={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},W3t=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function cAe(e={},...t){const{mixins:n={},palette:o={},transitions:s={},typography:i={}}=e,c=It(e,W3t);if(e.vars)throw new Error(bT(18));const u=O3t(o),d=tJ(e);let p=Gp(d,{mixins:g3t(d.breakpoints,n),palette:u,shadows:N3t.slice(),typography:R3t(u,i),transitions:$3t(s),zIndex:$({},B3t)});return p=Gp(p,c),p=t.reduce((m,f)=>Gp(m,f),p),p.unstable_sxConfig=$({},xO,c==null?void 0:c.unstable_sxConfig),p.unstable_sx=function(f){return yO({sx:f,theme:this})},p}const uAe=cAe();function dAe(){const e=rAe(uAe);return e[KY]||e}var Jg={};const pAe=Ei(M$t),U3t=Ei(_$t),q3t=Ei(q$t),V3t=Ei(qBt),z3t=Ei(RBt),H3t=Ei(MBt);var hue;function G3t(){if(hue)return Jg;hue=1;var e=Qn();Object.defineProperty(Jg,"__esModule",{value:!0}),Jg.default=P,Jg.shouldForwardProp=x,Jg.systemDefaultTheme=void 0;var t=e(hpe()),n=e(gpe()),o=f(pAe),s=U3t;e(q3t),e(V3t);var i=e(z3t),c=e(H3t);const u=["ownerState"],d=["variants"],p=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function m(E){if(typeof WeakMap!="function")return null;var k=new WeakMap,w=new WeakMap;return(m=function(A){return A?w:k})(E)}function f(E,k){if(E&&E.__esModule)return E;if(E===null||typeof E!="object"&&typeof E!="function")return{default:E};var w=m(k);if(w&&w.has(E))return w.get(E);var A={__proto__:null},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in E)if(_!=="default"&&Object.prototype.hasOwnProperty.call(E,_)){var L=F?Object.getOwnPropertyDescriptor(E,_):null;L&&(L.get||L.set)?Object.defineProperty(A,_,L):A[_]=E[_]}return A.default=E,w&&w.set(E,A),A}function h(E){return Object.keys(E).length===0}function g(E){return typeof E=="string"&&E.charCodeAt(0)>96}function x(E){return E!=="ownerState"&&E!=="theme"&&E!=="sx"&&E!=="as"}const y=Jg.systemDefaultTheme=(0,i.default)(),D=E=>E&&E.charAt(0).toLowerCase()+E.slice(1);function v({defaultTheme:E,theme:k,themeId:w}){return h(k)?E:k[w]||k}function T(E){return E?(k,w)=>w[E]:null}function I(E,k){let{ownerState:w}=k,A=(0,n.default)(k,u);const F=typeof E=="function"?E((0,t.default)({ownerState:w},A)):E;if(Array.isArray(F))return F.flatMap(_=>I(_,(0,t.default)({ownerState:w},A)));if(F&&typeof F=="object"&&Array.isArray(F.variants)){const{variants:_=[]}=F;let K=(0,n.default)(F,d);return _.forEach(z=>{let J=!0;typeof z.props=="function"?J=z.props((0,t.default)({ownerState:w},A,w)):Object.keys(z.props).forEach(Q=>{(w==null?void 0:w[Q])!==z.props[Q]&&A[Q]!==z.props[Q]&&(J=!1)}),J&&(Array.isArray(K)||(K=[K]),K.push(typeof z.style=="function"?z.style((0,t.default)({ownerState:w},A,w)):z.style))}),K}return F}function P(E={}){const{themeId:k,defaultTheme:w=y,rootShouldForwardProp:A=x,slotShouldForwardProp:F=x}=E,_=L=>(0,c.default)((0,t.default)({},L,{theme:v((0,t.default)({},L,{defaultTheme:w,themeId:k}))}));return _.__mui_systemSx=!0,(L,K={})=>{(0,o.internal_processStyles)(L,Ce=>Ce.filter(Te=>!(Te!=null&&Te.__mui_systemSx)));const{name:z,slot:J,skipVariantsResolver:Q,skipSx:V,overridesResolver:W=T(D(J))}=K,U=(0,n.default)(K,p),X=Q!==void 0?Q:J&&J!=="Root"&&J!=="root"||!1,te=V||!1;let se,he=x;J==="Root"||J==="root"?he=A:J?he=F:g(L)&&(he=void 0);const pe=(0,o.default)(L,(0,t.default)({shouldForwardProp:he,label:se},U)),ue=Ce=>typeof Ce=="function"&&Ce.__emotion_real!==Ce||(0,s.isPlainObject)(Ce)?Te=>I(Ce,(0,t.default)({},Te,{theme:v({theme:Te.theme,defaultTheme:w,themeId:k})})):Ce,ge=(Ce,...Te)=>{let Ne=ue(Ce);const xe=Te?Te.map(ue):[];z&&W&&xe.push(ce=>{const ee=v((0,t.default)({},ce,{defaultTheme:w,themeId:k}));if(!ee.components||!ee.components[z]||!ee.components[z].styleOverrides)return null;const De=ee.components[z].styleOverrides,ke={};return Object.entries(De).forEach(([He,qe])=>{ke[He]=I(qe,(0,t.default)({},ce,{theme:ee}))}),W(ce,ke)}),z&&!X&&xe.push(ce=>{var ee;const De=v((0,t.default)({},ce,{defaultTheme:w,themeId:k})),ke=De==null||(ee=De.components)==null||(ee=ee[z])==null?void 0:ee.variants;return I({variants:ke},(0,t.default)({},ce,{theme:De}))}),te||xe.push(_);const me=xe.length-Te.length;if(Array.isArray(Ce)&&me>0){const ce=new Array(me).fill("");Ne=[...Ce,...ce],Ne.raw=[...Ce.raw,...ce]}const de=pe(Ne,...xe);return L.muiName&&(de.muiName=L.muiName),de};return pe.withConfig&&(ge.withConfig=pe.withConfig),ge}}return Jg}var K3t=G3t();const Q3t=qn(K3t);function Y3t(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const mAe=e=>Y3t(e)&&e!=="classes",ud=Q3t({themeId:KY,defaultTheme:uAe,rootShouldForwardProp:mAe});function QD(e){return h3t(e)}const J3t=e=>e.scrollTop;function gue(e,t){var n,o;const{timeout:s,easing:i,style:c={}}=e;return{duration:(n=c.transitionDuration)!=null?n:typeof s=="number"?s:s[t.mode]||0,easing:(o=c.transitionTimingFunction)!=null?o:typeof i=="object"?i[t.mode]:i,delay:c.transitionDelay}}function X3t(e){const{className:t,classes:n,pulsate:o=!1,rippleX:s,rippleY:i,rippleSize:c,in:u,onExited:d,timeout:p}=e,[m,f]=a.useState(!1),h=Nt(t,n.ripple,n.rippleVisible,o&&n.ripplePulsate),g={width:c,height:c,top:-(c/2)+i,left:-(c/2)+s},x=Nt(n.child,m&&n.childLeaving,o&&n.childPulsate);return!u&&!m&&f(!0),a.useEffect(()=>{if(!u&&d!=null){const y=setTimeout(d,p);return()=>{clearTimeout(y)}}},[d,u,p]),r.jsx("span",{className:h,style:g,children:r.jsx("span",{className:x})})}const qu=tx("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Z3t=["center","classes","className"];let iF=e=>e,bue,xue,yue,Cue;const mB=550,e4t=80,t4t=ZN(bue||(bue=iF`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),n4t=ZN(xue||(xue=iF`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),r4t=ZN(yue||(yue=iF`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),o4t=ud("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),s4t=ud(X3t,{name:"MuiTouchRipple",slot:"Ripple"})(Cue||(Cue=iF`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),qu.rippleVisible,t4t,mB,({theme:e})=>e.transitions.easing.easeInOut,qu.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,qu.child,qu.childLeaving,n4t,mB,({theme:e})=>e.transitions.easing.easeInOut,qu.childPulsate,r4t,({theme:e})=>e.transitions.easing.easeInOut),a4t=a.forwardRef(function(t,n){const o=QD({props:t,name:"MuiTouchRipple"}),{center:s=!1,classes:i={},className:c}=o,u=It(o,Z3t),[d,p]=a.useState([]),m=a.useRef(0),f=a.useRef(null);a.useEffect(()=>{f.current&&(f.current(),f.current=null)},[d]);const h=a.useRef(!1),g=Xy(),x=a.useRef(null),y=a.useRef(null),D=a.useCallback(P=>{const{pulsate:E,rippleX:k,rippleY:w,rippleSize:A,cb:F}=P;p(_=>[..._,r.jsx(s4t,{classes:{ripple:Nt(i.ripple,qu.ripple),rippleVisible:Nt(i.rippleVisible,qu.rippleVisible),ripplePulsate:Nt(i.ripplePulsate,qu.ripplePulsate),child:Nt(i.child,qu.child),childLeaving:Nt(i.childLeaving,qu.childLeaving),childPulsate:Nt(i.childPulsate,qu.childPulsate)},timeout:mB,pulsate:E,rippleX:k,rippleY:w,rippleSize:A},m.current)]),m.current+=1,f.current=F},[i]),v=a.useCallback((P={},E={},k=()=>{})=>{const{pulsate:w=!1,center:A=s||E.pulsate,fakeElement:F=!1}=E;if((P==null?void 0:P.type)==="mousedown"&&h.current){h.current=!1;return}(P==null?void 0:P.type)==="touchstart"&&(h.current=!0);const _=F?null:y.current,L=_?_.getBoundingClientRect():{width:0,height:0,left:0,top:0};let K,z,J;if(A||P===void 0||P.clientX===0&&P.clientY===0||!P.clientX&&!P.touches)K=Math.round(L.width/2),z=Math.round(L.height/2);else{const{clientX:Q,clientY:V}=P.touches&&P.touches.length>0?P.touches[0]:P;K=Math.round(Q-L.left),z=Math.round(V-L.top)}if(A)J=Math.sqrt((2*L.width**2+L.height**2)/3),J%2===0&&(J+=1);else{const Q=Math.max(Math.abs((_?_.clientWidth:0)-K),K)*2+2,V=Math.max(Math.abs((_?_.clientHeight:0)-z),z)*2+2;J=Math.sqrt(Q**2+V**2)}P!=null&&P.touches?x.current===null&&(x.current=()=>{D({pulsate:w,rippleX:K,rippleY:z,rippleSize:J,cb:k})},g.start(e4t,()=>{x.current&&(x.current(),x.current=null)})):D({pulsate:w,rippleX:K,rippleY:z,rippleSize:J,cb:k})},[s,D,g]),T=a.useCallback(()=>{v({},{pulsate:!0})},[v]),I=a.useCallback((P,E)=>{if(g.clear(),(P==null?void 0:P.type)==="touchend"&&x.current){x.current(),x.current=null,g.start(0,()=>{I(P,E)});return}x.current=null,p(k=>k.length>0?k.slice(1):k),f.current=E},[g]);return a.useImperativeHandle(n,()=>({pulsate:T,start:v,stop:I}),[T,v,I]),r.jsx(o4t,$({className:Nt(qu.root,i.root,c),ref:y},u,{children:r.jsx(DD,{component:null,exit:!0,children:d})}))});function i4t(e){return KD("MuiButtonBase",e)}const l4t=tx("MuiButtonBase",["root","disabled","focusVisible"]),c4t=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],u4t=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:o,classes:s}=e,c=DO({root:["root",t&&"disabled",n&&"focusVisible"]},i4t,s);return n&&o&&(c.root+=` ${o}`),c},d4t=ud("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${l4t.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),fAe=a.forwardRef(function(t,n){const o=QD({props:t,name:"MuiButtonBase"}),{action:s,centerRipple:i=!1,children:c,className:u,component:d="button",disabled:p=!1,disableRipple:m=!1,disableTouchRipple:f=!1,focusRipple:h=!1,LinkComponent:g="a",onBlur:x,onClick:y,onContextMenu:D,onDragLeave:v,onFocus:T,onFocusVisible:I,onKeyDown:P,onKeyUp:E,onMouseDown:k,onMouseLeave:w,onMouseUp:A,onTouchEnd:F,onTouchMove:_,onTouchStart:L,tabIndex:K=0,TouchRippleProps:z,touchRippleRef:J,type:Q}=o,V=It(o,c4t),W=a.useRef(null),U=a.useRef(null),X=Uh(U,J),{isFocusVisibleRef:te,onFocus:se,onBlur:he,ref:pe}=lAe(),[ue,ge]=a.useState(!1);p&&ue&&ge(!1),a.useImperativeHandle(s,()=>({focusVisible:()=>{ge(!0),W.current.focus()}}),[]);const[Ce,Te]=a.useState(!1);a.useEffect(()=>{Te(!0)},[]);const Ne=Ce&&!m&&!p;a.useEffect(()=>{ue&&h&&!m&&Ce&&U.current.pulsate()},[m,h,ue,Ce]);function xe(le,fe,Ae=f){return Jy(Se=>(fe&&fe(Se),!Ae&&U.current&&U.current[le](Se),!0))}const me=xe("start",k),de=xe("stop",D),ce=xe("stop",v),ee=xe("stop",A),De=xe("stop",le=>{ue&&le.preventDefault(),w&&w(le)}),ke=xe("start",L),He=xe("stop",F),qe=xe("stop",_),Le=xe("stop",le=>{he(le),te.current===!1&&ge(!1),x&&x(le)},!1),_e=Jy(le=>{W.current||(W.current=le.currentTarget),se(le),te.current===!0&&(ge(!0),I&&I(le)),T&&T(le)}),H=()=>{const le=W.current;return d&&d!=="button"&&!(le.tagName==="A"&&le.href)},re=a.useRef(!1),q=Jy(le=>{h&&!re.current&&ue&&U.current&&le.key===" "&&(re.current=!0,U.current.stop(le,()=>{U.current.start(le)})),le.target===le.currentTarget&&H()&&le.key===" "&&le.preventDefault(),P&&P(le),le.target===le.currentTarget&&H()&&le.key==="Enter"&&!p&&(le.preventDefault(),y&&y(le))}),Y=Jy(le=>{h&&le.key===" "&&U.current&&ue&&!le.defaultPrevented&&(re.current=!1,U.current.stop(le,()=>{U.current.pulsate(le)})),E&&E(le),y&&le.target===le.currentTarget&&H()&&le.key===" "&&!le.defaultPrevented&&y(le)});let ie=d;ie==="button"&&(V.href||V.to)&&(ie=g);const B={};ie==="button"?(B.type=Q===void 0?"button":Q,B.disabled=p):(!V.href&&!V.to&&(B.role="button"),p&&(B["aria-disabled"]=p));const Z=Uh(n,pe,W),ye=$({},o,{centerRipple:i,component:d,disabled:p,disableRipple:m,disableTouchRipple:f,focusRipple:h,tabIndex:K,focusVisible:ue}),Ie=u4t(ye);return r.jsxs(d4t,$({as:ie,className:Nt(Ie.root,u),ownerState:ye,onBlur:Le,onClick:y,onContextMenu:de,onFocus:_e,onKeyDown:q,onKeyUp:Y,onMouseDown:me,onMouseLeave:De,onMouseUp:ee,onDragLeave:ce,onTouchEnd:He,onTouchMove:qe,onTouchStart:ke,ref:Z,tabIndex:p?-1:K,type:Q},B,V,{children:[c,Ne?r.jsx(a4t,$({ref:X,center:i},z)):null]}))});function p4t(e){return KD("MuiIconButton",e)}const m4t=tx("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),f4t=["edge","children","className","color","disabled","disableFocusRipple","size"],h4t=e=>{const{classes:t,disabled:n,color:o,edge:s,size:i}=e,c={root:["root",n&&"disabled",o!=="default"&&`color${ma(o)}`,s&&`edge${ma(s)}`,`size${ma(i)}`]};return DO(c,p4t,t)},g4t=ud(fAe,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${ma(n.color)}`],n.edge&&t[`edge${ma(n.edge)}`],t[`size${ma(n.size)}`]]}})(({theme:e,ownerState:t})=>$({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Bd.alpha(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var n;const o=(n=(e.vars||e).palette)==null?void 0:n[t.color];return $({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&$({color:o==null?void 0:o.main},!t.disableRipple&&{"&:hover":$({},o&&{backgroundColor:e.vars?`rgba(${o.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Bd.alpha(o.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${m4t.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),b4t=a.forwardRef(function(t,n){const o=QD({props:t,name:"MuiIconButton"}),{edge:s=!1,children:i,className:c,color:u="default",disabled:d=!1,disableFocusRipple:p=!1,size:m="medium"}=o,f=It(o,f4t),h=$({},o,{edge:s,color:u,disabled:d,disableFocusRipple:p,size:m}),g=h4t(h);return r.jsx(g4t,$({className:Nt(g.root,c),centerRipple:!0,focusRipple:!p,disabled:d,ref:n},f,{ownerState:h,children:i}))});var dj={},Due;function x4t(){if(Due)return dj;Due=1,Object.defineProperty(dj,"__esModule",{value:!0}),dj.default=void 0;var e=o(is()),t=pAe;function n(c){if(typeof WeakMap!="function")return null;var u=new WeakMap,d=new WeakMap;return(n=function(p){return p?d:u})(c)}function o(c,u){if(c&&c.__esModule)return c;if(c===null||typeof c!="object"&&typeof c!="function")return{default:c};var d=n(u);if(d&&d.has(c))return d.get(c);var p={__proto__:null},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in c)if(f!=="default"&&Object.prototype.hasOwnProperty.call(c,f)){var h=m?Object.getOwnPropertyDescriptor(c,f):null;h&&(h.get||h.set)?Object.defineProperty(p,f,h):p[f]=c[f]}return p.default=c,d&&d.set(c,p),p}function s(c){return Object.keys(c).length===0}function i(c=null){const u=e.useContext(t.ThemeContext);return!u||s(u)?c:u}return dj.default=i,dj}var y4t=x4t();const C4t=qn(y4t);function D4t(e){return typeof e=="function"?e():e}const S4t=a.forwardRef(function(t,n){const{children:o,container:s,disablePortal:i=!1}=t,[c,u]=a.useState(null),d=Uh(a.isValidElement(o)?o.ref:null,n);if(xT(()=>{i||u(D4t(s)||document.body)},[s,i]),xT(()=>{if(c&&!i)return dB(n,c),()=>{dB(n,null)}},[n,c,i]),i){if(a.isValidElement(o)){const p={ref:d};return a.cloneElement(o,p)}return r.jsx(a.Fragment,{children:o})}return r.jsx(a.Fragment,{children:c&&kb.createPortal(o,c)})});function v4t(e){return KD("MuiPopper",e)}tx("MuiPopper",["root"]);const j4t=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],I4t=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function T4t(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function fB(e){return typeof e=="function"?e():e}function O4t(e){return e.nodeType!==void 0}const E4t=e=>{const{classes:t}=e;return DO({root:["root"]},v4t,t)},P4t={},R4t=a.forwardRef(function(t,n){var o;const{anchorEl:s,children:i,direction:c,disablePortal:u,modifiers:d,open:p,placement:m,popperOptions:f,popperRef:h,slotProps:g={},slots:x={},TransitionProps:y}=t,D=It(t,j4t),v=a.useRef(null),T=Uh(v,n),I=a.useRef(null),P=Uh(I,h),E=a.useRef(P);xT(()=>{E.current=P},[P]),a.useImperativeHandle(h,()=>I.current,[]);const k=T4t(m,c),[w,A]=a.useState(k),[F,_]=a.useState(fB(s));a.useEffect(()=>{I.current&&I.current.forceUpdate()}),a.useEffect(()=>{s&&_(fB(s))},[s]),xT(()=>{if(!F||!p)return;const Q=U=>{A(U.placement)};let V=[{name:"preventOverflow",options:{altBoundary:u}},{name:"flip",options:{altBoundary:u}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:U})=>{Q(U)}}];d!=null&&(V=V.concat(d)),f&&f.modifiers!=null&&(V=V.concat(f.modifiers));const W=Rpe(F,v.current,$({placement:k},f,{modifiers:V}));return E.current(W),()=>{W.destroy(),E.current(null)}},[F,u,d,p,f,k]);const L={placement:w};y!==null&&(L.TransitionProps=y);const K=E4t(t),z=(o=x.root)!=null?o:"div",J=u3t({elementType:z,externalSlotProps:g.root,externalForwardedProps:D,additionalProps:{role:"tooltip",ref:T},ownerState:t,className:K.root});return r.jsx(z,$({},J,{children:typeof i=="function"?i(L):i}))}),w4t=a.forwardRef(function(t,n){const{anchorEl:o,children:s,container:i,direction:c="ltr",disablePortal:u=!1,keepMounted:d=!1,modifiers:p,open:m,placement:f="bottom",popperOptions:h=P4t,popperRef:g,style:x,transition:y=!1,slotProps:D={},slots:v={}}=t,T=It(t,I4t),[I,P]=a.useState(!0),E=()=>{P(!1)},k=()=>{P(!0)};if(!d&&!m&&(!y||I))return null;let w;if(i)w=i;else if(o){const _=fB(o);w=_&&O4t(_)?oue(_).body:oue(null).body}const A=!m&&d&&(!y||I)?"none":void 0,F=y?{in:m,onEnter:E,onExited:k}:void 0;return r.jsx(S4t,{disablePortal:u,container:w,children:r.jsx(R4t,$({anchorEl:o,direction:c,disablePortal:u,modifiers:p,ref:n,open:y?!I:m,placement:f,popperOptions:h,popperRef:g,slotProps:D,slots:v},T,{style:$({position:"fixed",top:0,left:0,display:A},x),TransitionProps:F,children:s}))})}),k4t=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],A4t=ud(w4t,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),hAe=a.forwardRef(function(t,n){var o;const s=C4t(),i=QD({props:t,name:"MuiPopper"}),{anchorEl:c,component:u,components:d,componentsProps:p,container:m,disablePortal:f,keepMounted:h,modifiers:g,open:x,placement:y,popperOptions:D,popperRef:v,transition:T,slots:I,slotProps:P}=i,E=It(i,k4t),k=(o=I==null?void 0:I.root)!=null?o:d==null?void 0:d.Root,w=$({anchorEl:c,container:m,disablePortal:f,keepMounted:h,modifiers:g,open:x,placement:y,popperOptions:D,popperRef:v,transition:T},E);return r.jsx(A4t,$({as:u,direction:s==null?void 0:s.direction,slots:{root:k},slotProps:P??p},w,{ref:n}))}),N4t=tx("MuiBox",["root"]),F4t=cAe(),M4t=$Bt({themeId:KY,defaultTheme:F4t,defaultClassName:N4t.root,generateClassName:sAe.generate});function _4t(e){return KD("MuiButton",e)}const vP=tx("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),L4t=a.createContext({}),$4t=a.createContext(void 0),B4t=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],W4t=e=>{const{color:t,disableElevation:n,fullWidth:o,size:s,variant:i,classes:c}=e,u={root:["root",i,`${i}${ma(t)}`,`size${ma(s)}`,`${i}Size${ma(s)}`,`color${ma(t)}`,n&&"disableElevation",o&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${ma(s)}`],endIcon:["icon","endIcon",`iconSize${ma(s)}`]},d=DO(u,_4t,c);return $({},c,d)},gAe=e=>$({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),U4t=ud(fAe,{shouldForwardProp:e=>mAe(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${ma(n.color)}`],t[`size${ma(n.size)}`],t[`${n.variant}Size${ma(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var n,o;const s=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],i=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return $({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":$({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Bd.alpha(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Bd.alpha(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Bd.alpha(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:i,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":$({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${vP.focusVisible}`]:$({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${vP.disabled}`]:$({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${Bd.alpha(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(n=(o=e.palette).getContrastText)==null?void 0:n.call(o,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:s,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${vP.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${vP.disabled}`]:{boxShadow:"none"}}),q4t=ud("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${ma(n.size)}`]]}})(({ownerState:e})=>$({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},gAe(e))),V4t=ud("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${ma(n.size)}`]]}})(({ownerState:e})=>$({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},gAe(e))),bAe=a.forwardRef(function(t,n){const o=a.useContext(L4t),s=a.useContext($4t),i=MR(o,t),c=QD({props:i,name:"MuiButton"}),{children:u,color:d="primary",component:p="button",className:m,disabled:f=!1,disableElevation:h=!1,disableFocusRipple:g=!1,endIcon:x,focusVisibleClassName:y,fullWidth:D=!1,size:v="medium",startIcon:T,type:I,variant:P="text"}=c,E=It(c,B4t),k=$({},c,{color:d,component:p,disabled:f,disableElevation:h,disableFocusRipple:g,fullWidth:D,size:v,type:I,variant:P}),w=W4t(k),A=T&&r.jsx(q4t,{className:w.startIcon,ownerState:k,children:T}),F=x&&r.jsx(V4t,{className:w.endIcon,ownerState:k,children:x}),_=s||"";return r.jsxs(U4t,$({ownerState:k,className:Nt(o.className,w.root,m,_),component:p,disabled:f,focusRipple:!g,focusVisibleClassName:Nt(w.focusVisible,y),ref:n,type:I},E,{classes:w,children:[A,u,F]}))}),z4t=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function hB(e){return`scale(${e}, ${e**2})`}const H4t={entering:{opacity:1,transform:hB(1)},entered:{opacity:1,transform:"none"}},RL=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),gB=a.forwardRef(function(t,n){const{addEndListener:o,appear:s=!0,children:i,easing:c,in:u,onEnter:d,onEntered:p,onEntering:m,onExit:f,onExited:h,onExiting:g,style:x,timeout:y="auto",TransitionComponent:D=ic}=t,v=It(t,z4t),T=Xy(),I=a.useRef(),P=dAe(),E=a.useRef(null),k=Uh(E,i.ref,n),w=Q=>V=>{if(Q){const W=E.current;V===void 0?Q(W):Q(W,V)}},A=w(m),F=w((Q,V)=>{J3t(Q);const{duration:W,delay:U,easing:X}=gue({style:x,timeout:y,easing:c},{mode:"enter"});let te;y==="auto"?(te=P.transitions.getAutoHeightDuration(Q.clientHeight),I.current=te):te=W,Q.style.transition=[P.transitions.create("opacity",{duration:te,delay:U}),P.transitions.create("transform",{duration:RL?te:te*.666,delay:U,easing:X})].join(","),d&&d(Q,V)}),_=w(p),L=w(g),K=w(Q=>{const{duration:V,delay:W,easing:U}=gue({style:x,timeout:y,easing:c},{mode:"exit"});let X;y==="auto"?(X=P.transitions.getAutoHeightDuration(Q.clientHeight),I.current=X):X=V,Q.style.transition=[P.transitions.create("opacity",{duration:X,delay:W}),P.transitions.create("transform",{duration:RL?X:X*.666,delay:RL?W:W||X*.333,easing:U})].join(","),Q.style.opacity=0,Q.style.transform=hB(.75),f&&f(Q)}),z=w(h),J=Q=>{y==="auto"&&T.start(I.current||0,Q),o&&o(E.current,Q)};return r.jsx(D,$({appear:s,in:u,nodeRef:E,onEnter:F,onEntered:_,onEntering:A,onExit:K,onExited:z,onExiting:L,addEndListener:J,timeout:y==="auto"?null:y},v,{children:(Q,V)=>a.cloneElement(i,$({style:$({opacity:0,transform:hB(.75),visibility:Q==="exited"&&!u?"hidden":void 0},H4t[Q],x,i.props.style),ref:k},V))}))});gB.muiSupportAuto=!0;function G4t(e){return KD("MuiTooltip",e)}const Ph=tx("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),K4t=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function Q4t(e){return Math.round(e*1e5)/1e5}const Y4t=e=>{const{classes:t,disableInteractive:n,arrow:o,touch:s,placement:i}=e,c={popper:["popper",!n&&"popperInteractive",o&&"popperArrow"],tooltip:["tooltip",o&&"tooltipArrow",s&&"touch",`tooltipPlacement${ma(i.split("-")[0])}`],arrow:["arrow"]};return DO(c,G4t,t)},J4t=ud(hAe,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(({theme:e,ownerState:t,open:n})=>$({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${Ph.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Ph.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Ph.arrow}`]:$({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Ph.arrow}`]:$({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),X4t=ud("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${ma(n.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>$({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:Bd.alpha(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${Q4t(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${Ph.popper}[data-popper-placement*="left"] &`]:$({transformOrigin:"right center"},t.isRtl?$({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):$({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${Ph.popper}[data-popper-placement*="right"] &`]:$({transformOrigin:"left center"},t.isRtl?$({marginRight:"14px"},t.touch&&{marginRight:"24px"}):$({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${Ph.popper}[data-popper-placement*="top"] &`]:$({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${Ph.popper}[data-popper-placement*="bottom"] &`]:$({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),Z4t=ud("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:Bd.alpha(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let jP=!1;const Sue=new CO;let pj={x:0,y:0};function IP(e,t){return(n,...o)=>{t&&t(n,...o),e(n,...o)}}const eWt=a.forwardRef(function(t,n){var o,s,i,c,u,d,p,m,f,h,g,x,y,D,v,T,I,P,E;const k=QD({props:t,name:"MuiTooltip"}),{arrow:w=!1,children:A,components:F={},componentsProps:_={},describeChild:L=!1,disableFocusListener:K=!1,disableHoverListener:z=!1,disableInteractive:J=!1,disableTouchListener:Q=!1,enterDelay:V=100,enterNextDelay:W=0,enterTouchDelay:U=700,followCursor:X=!1,id:te,leaveDelay:se=0,leaveTouchDelay:he=1500,onClose:pe,onOpen:ue,open:ge,placement:Ce="bottom",PopperComponent:Te,PopperProps:Ne={},slotProps:xe={},slots:me={},title:de,TransitionComponent:ce=gB,TransitionProps:ee}=k,De=It(k,K4t),ke=a.isValidElement(A)?A:r.jsx("span",{children:A}),He=dAe(),qe=p3t(),[Le,_e]=a.useState(),[H,re]=a.useState(null),q=a.useRef(!1),Y=J||X,ie=Xy(),B=Xy(),Z=Xy(),ye=Xy(),[Ie,le]=KBt({controlled:ge,default:!1,name:"Tooltip",state:"open"});let fe=Ie;const Ae=GBt(te),Se=a.useRef(),be=Jy(()=>{Se.current!==void 0&&(document.body.style.WebkitUserSelect=Se.current,Se.current=void 0),ye.clear()});a.useEffect(()=>be,[be]);const Me=sn=>{Sue.clear(),jP=!0,le(!0),ue&&!fe&&ue(sn)},we=Jy(sn=>{Sue.start(800+se,()=>{jP=!1}),le(!1),pe&&fe&&pe(sn),ie.start(He.transitions.duration.shortest,()=>{q.current=!1})}),Ge=sn=>{q.current&&sn.type!=="touchstart"||(Le&&Le.removeAttribute("title"),B.clear(),Z.clear(),V||jP&&W?B.start(jP?W:V,()=>{Me(sn)}):Me(sn))},We=sn=>{B.clear(),Z.start(se,()=>{we(sn)})},{isFocusVisibleRef:Ee,onBlur:Xe,onFocus:ot,ref:ze}=lAe(),[,tt]=a.useState(!1),ft=sn=>{Xe(sn),Ee.current===!1&&(tt(!1),We(sn))},ht=sn=>{Le||_e(sn.currentTarget),ot(sn),Ee.current===!0&&(tt(!0),Ge(sn))},en=sn=>{q.current=!0;const Sr=ke.props;Sr.onTouchStart&&Sr.onTouchStart(sn)},un=sn=>{en(sn),Z.clear(),ie.clear(),be(),Se.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ye.start(U,()=>{document.body.style.WebkitUserSelect=Se.current,Ge(sn)})},Je=sn=>{ke.props.onTouchEnd&&ke.props.onTouchEnd(sn),be(),Z.start(he,()=>{we(sn)})};a.useEffect(()=>{if(!fe)return;function sn(Sr){(Sr.key==="Escape"||Sr.key==="Esc")&&we(Sr)}return document.addEventListener("keydown",sn),()=>{document.removeEventListener("keydown",sn)}},[we,fe]);const qt=Uh(ke.ref,ze,_e,n);!de&&de!==0&&(fe=!1);const Tt=a.useRef(),Jt=sn=>{const Sr=ke.props;Sr.onMouseMove&&Sr.onMouseMove(sn),pj={x:sn.clientX,y:sn.clientY},Tt.current&&Tt.current.update()},st={},Dt=typeof de=="string";L?(st.title=!fe&&Dt&&!z?de:null,st["aria-describedby"]=fe?Ae:null):(st["aria-label"]=Dt?de:null,st["aria-labelledby"]=fe&&!Dt?Ae:null);const Gt=$({},st,De,ke.props,{className:Nt(De.className,ke.props.className),onTouchStart:en,ref:qt},X?{onMouseMove:Jt}:{}),An={};Q||(Gt.onTouchStart=un,Gt.onTouchEnd=Je),z||(Gt.onMouseOver=IP(Ge,Gt.onMouseOver),Gt.onMouseLeave=IP(We,Gt.onMouseLeave),Y||(An.onMouseOver=Ge,An.onMouseLeave=We)),K||(Gt.onFocus=IP(ht,Gt.onFocus),Gt.onBlur=IP(ft,Gt.onBlur),Y||(An.onFocus=ht,An.onBlur=ft));const _n=a.useMemo(()=>{var sn;let Sr=[{name:"arrow",enabled:!!H,options:{element:H,padding:4}}];return(sn=Ne.popperOptions)!=null&&sn.modifiers&&(Sr=Sr.concat(Ne.popperOptions.modifiers)),$({},Ne.popperOptions,{modifiers:Sr})},[H,Ne]),pt=$({},k,{isRtl:qe,arrow:w,disableInteractive:Y,placement:Ce,PopperComponentProp:Te,touch:q.current}),Rt=Y4t(pt),Ze=(o=(s=me.popper)!=null?s:F.Popper)!=null?o:J4t,dn=(i=(c=(u=me.transition)!=null?u:F.Transition)!=null?c:ce)!=null?i:gB,Yt=(d=(p=me.tooltip)!=null?p:F.Tooltip)!=null?d:X4t,lt=(m=(f=me.arrow)!=null?f:F.Arrow)!=null?m:Z4t,Qe=w1(Ze,$({},Ne,(h=xe.popper)!=null?h:_.popper,{className:Nt(Rt.popper,Ne==null?void 0:Ne.className,(g=(x=xe.popper)!=null?x:_.popper)==null?void 0:g.className)}),pt),rn=w1(dn,$({},ee,(y=xe.transition)!=null?y:_.transition),pt),Cn=w1(Yt,$({},(D=xe.tooltip)!=null?D:_.tooltip,{className:Nt(Rt.tooltip,(v=(T=xe.tooltip)!=null?T:_.tooltip)==null?void 0:v.className)}),pt),gr=w1(lt,$({},(I=xe.arrow)!=null?I:_.arrow,{className:Nt(Rt.arrow,(P=(E=xe.arrow)!=null?E:_.arrow)==null?void 0:P.className)}),pt);return r.jsxs(a.Fragment,{children:[a.cloneElement(ke,Gt),r.jsx(Ze,$({as:Te??hAe,placement:Ce,anchorEl:X?{getBoundingClientRect:()=>({top:pj.y,left:pj.x,right:pj.x,bottom:pj.y,width:0,height:0})}:Le,popperRef:Tt,open:Le?fe:!1,id:Ae,transition:!0},An,Qe,{popperOptions:_n,children:({TransitionProps:sn})=>r.jsx(dn,$({timeout:He.transitions.duration.shorter},sn,rn,{children:r.jsxs(Yt,$({},Cn,{children:[de,w?r.jsx(lt,$({},gr,{ref:re})):null]}))}))}))]})}),tWt=ud(M4t,{shouldForwardProp:e=>!["inline","block","fullWidth","fullHeight","fullWindowHeight","midWidth","maxWidth","gap"].includes(e)})(({theme:e,inline:t=!1,block:n=!1,fullHeight:o,fullWindowHeight:s,fullWidth:i,minWidth:c,maxWidth:u,gap:d})=>({display:n?"block":t?"inline-flex":"flex",...o&&{height:"100%"},...s&&{height:"100vh"},...i&&{width:"100%"},...c&&{minWidth:isNaN(c)?c:e.spacing(c)},...u&&{maxWidth:isNaN(u)?u:e.spacing(u)},...d&&{gap:isNaN(d)?d:e.spacing(d)}})),bB=e=>{const{className:t,...n}=e;return r.jsx(tWt,{className:Nt("FlexBox",t),...n})};bB.propTypes={className:l.string};let vue=!1;const nWt=()=>{vue||(console.warn(["MUI: The LoadingButton component functionality is now part of the Button component from Material UI.","","You should use `import Button from '@mui/material/Button'`","or `import { Button } from '@mui/material'`"].join(`
`)),vue=!0)},rWt=a.forwardRef(function(t,n){return nWt(),r.jsx(bAe,{ref:n,...t})}),_R=e=>{const{children:t,title:n,...o}=e;return n?r.jsx(eWt,{title:n,...o,children:t}):a.cloneElement(t,o)};_R.propTypes={title:l.string,children:l.oneOfType([l.node,l.array,l.func])};_R.displayName="TooltipWrapper";const nJ=a.memo(a.forwardRef((e,t)=>{const{sx:n=[],children:o,responsive:s,loading:i,mobile:c,startIcon:u,endIcon:d,mobileText:p,useIconButton:m=!1,tooltip:f,dense:h=!1,...g}=e,x=a.useMemo(()=>u??d,[d,u]),y=a.useMemo(()=>c&&x&&m,[x,c,m]),D=a.useMemo(()=>u&&(!c||m),[m,c,u]),v=a.useMemo(()=>d&&(!c||m),[d,m,c]),T=a.useMemo(()=>c?m?!1:p||o:o,[o,m,c,p]),I=a.useMemo(()=>i!=null?rWt:bAe,[i]);return y?r.jsx(_R,{title:f,children:r.jsx(b4t,{...g,children:x})}):r.jsx(_R,{title:f,children:r.jsx(I,{ref:t,size:"small",sx:[P=>({...h&&{padding:0,minWidth:P.spacing(5)}}),...Array.isArray(n)?n:[n]],...D&&{startIcon:u},...v&&{endIcon:d},loading:i,...g,children:T})})}));nJ.propTypes={children:l.oneOfType([l.node,l.array]),responsive:l.bool,loading:l.bool,mobile:l.bool,startIcon:l.object,endIcon:l.object,mobileText:l.string,tooltip:l.string,useIconButton:l.bool,sx:l.oneOfType([l.object,l.array]),dense:l.bool};nJ.displayName="ButtonExView";const lF=a.forwardRef((e,t)=>{const{size:n="small",autoFocus:o=!1,sx:s=[],...i}=e,c=a.useRef(),[u,d]=a.useState(!1),p=a.useCallback(m=>{c.current=m,d(!!m)},[]);return a.useImperativeHandle(t,()=>c.current),a.useEffect(()=>{u&&o&&(console.log("autoFocus on "+lF.displayName),c.current.focus())},[o,u]),r.jsx(nJ,{ref:p,size:n,...i,sx:[()=>({"&:focus":{outline:"2px solid #b0b0b0",outlineOffset:"2px",animation:"colorPulse 1.5s ease-in-out infinite"},"@keyframes colorPulse":{"0%":{outlineColor:"#b0b0b0"},"50%":{outlineColor:"#ffffff"},"100%":{outlineColor:"#b0b0b0"}}}),...Array.isArray(s)?s:[s]]})});lF.displayName="ButtonExContainer";lF.propTypes={buttonComponent:l.element,autoFocus:l.bool,size:l.oneOf(["small","medium","large"]),sx:l.oneOfType([l.object,l.array])};const oWt=a.createContext(),rJ=a.memo(e=>{const{message:t,onAction:n,actionText:o,slotProps:s,theme:i,...c}=e,u=a.useMemo(()=>o||"()",[o]),d=a.useMemo(()=>i&&i!="light",[i]);return r.jsxs(bB,{inline:!0,fullWidth:!0,...c,children:[r.jsx(bB,{flex:1,children:t}),r.jsx(lF,{onClick:n,...s==null?void 0:s.button,...d&&{color:"white"},children:u})]})});rJ.propTypes={};rJ.displayName="ToastExView";const xAe=e=>{const{...t}=e,n=a.useContext(oWt);return r.jsx(rJ,{theme:n==null?void 0:n.theme,...t})};xAe.displayName="ToastExContainer";const sWt={always:!1,prod:!1},aWt=(e,t,n=sWt)=>{let o=e;const{always:s,prod:i,firstLineOnly:c=!0}=n;return t!=null&&t.message&&(!i||s)?o+=`: ${c?t.message.split(`
`)[0]:t.message}`:t!=null&&t.status&&(o+=`: HTTP ${t.status}`),o},iWt={getMessage:aWt},lWt={},cWt={button:{dense:!0}},Gu=(e,t={})=>{const{type:n="info",error:o,...s}=t;switch(n){case"success":return Gu.success(e,s);case"info":return Gu.info(e,s);case"warning":return Gu.warn(e,s);case"error":return Gu.error(e,o,s);default:return Gu.info(e,s)}},cF=(e,t,n)=>({...lWt,...!t&&{hideProgressBar:!0},type:e,style:{...!t&&{borderLeft:`6px solid var(--toastify-color-${e})`}},...n}),uF=(e,t)=>t!=null&&t.onAction?(()=>r.jsx(xAe,{message:e||"()",actionText:t==null?void 0:t.actionText,onAction:t==null?void 0:t.onAction,slotProps:{...cWt,...t==null?void 0:t.slotProps}})):e;Gu.success=(e,t)=>{const{actionText:n,onAction:o,slotProps:s,...i}=t??{},c=uF(e,{actionText:n,onAction:o,slotProps:s});To(c,cF("success",o,i))};Gu.info=(e,t)=>{const{actionText:n,onAction:o,slotProps:s,...i}=t??{},c=uF(e,{actionText:n,onAction:o,slotProps:s});To(c,cF("info",o,i))};Gu.warn=(e,t)=>{const{actionText:n,onAction:o,slotProps:s,...i}=t??{},c=uF(e,{actionText:n,onAction:o,slotProps:s});To(c,{...cF("warning",o,i),position:"top-right"})};Gu.error=(e,t,n)=>{let o=t,s=n;n!=null&&n.message&&(s=t,o=n);const i=o?iWt.getMessage(e,o):e,{actionText:c,onAction:u,slotProps:d,...p}=s??{},m=uF(i,{actionText:c,onAction:u,slotProps:d}),f={...cF("error",u,p),position:"top-right"};To(m,f),o?console.error(i,o):console.warn(i)};const uWt={defaultStyles:{log:"color: black; background: #e0e0e0; padding: 2px 4px; border-radius: 3px;",info:"color: white; background: #2196F3; padding: 2px 4px; border-radius: 3px;",warn:"color: black; background: #FFCA28; padding: 2px 4px; border-radius: 3px;",error:"color: white; background: #D32F2F; padding: 2px 4px; border-radius: 3px;",debug:"color: white; background: #4CAF50; padding: 2px 4px; border-radius: 3px;"},_formatMessage(e,t,...n){const o=typeof n[n.length-1]=="string"?n.pop():this.defaultStyles[e]||"";typeof t=="object"||Array.isArray(t)?console[e](t,...n):console[e](`%c${t}`,o,...n)},log(e,...t){this._formatMessage("log",e,...t)},info(e,...t){this._formatMessage("info",e,...t)},warn(e,...t){this._formatMessage("warn",e,...t)},error(e,...t){this._formatMessage("error",e,...t)},debug(e,...t){this._formatMessage("debug",e,...t)},styled(e,t,...n){const o=typeof n[n.length-1]=="string"?n.pop():this.defaultStyles[e]||"";console[e](`%c${t}`,o,...n)}},dF=a.memo(()=>{const e=at(),{register:t,setValue:n}=e,o=a.useContext(ln),{connection:s,connectionState:i,error:c}=G2e({url:o.CHAT_HUB_URL}),u=a.useCallback(f=>{uWt.log("messageBrocasted",f);const{level:h,message:g}=f;Gu.info(`[${h}]${g}`)},[]),d=a.useCallback(f=>{console.log("messageBrocasted",f);const{level:h,message:g}=f;Gu.success(`[${h}]${g}`,{actionText:"",onAction:x=>{Gu.info("onAction triggered"),x.preventDefault()},position:"top-center"})},[]),p=a.useCallback(async f=>{console.log("onSendSubmit",f);const{connectionId:h,content:g}=f;await s.invoke("send",h,g,"DEBUG")},[s]),m=a.useCallback(async f=>{console.log("onBroadcastSubmit",f);const{content:h}=f;await s.invoke("broadcast",h,"DEBUG")},[s]);return a.useEffect(()=>(s==null||s.on("broadcast",u),()=>{s==null||s.off("broadcast")}),[s,u]),a.useEffect(()=>(s==null||s.on("send",d),()=>{s==null||s.off("send")}),[s,d]),a.useEffect(()=>{n("connectionId",s==null?void 0:s.connectionId)},[s==null?void 0:s.connectionId,n]),r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:["SignalR: ",i,","]}),r.jsxs("div",{children:["connectionId: ",(s==null?void 0:s.connectionId)||"(N/A)"]}),r.jsxs("div",{children:["Error: ",(c==null?void 0:c.message)||"(N/A)"]}),r.jsxs("form",{onSubmit:e.handleSubmit(p),children:[r.jsx("input",{type:"text",...t("connectionId"),style:{minWidth:"20em"}}),r.jsx("br",{}),r.jsx("input",{type:"text",...t("content"),style:{minWidth:"20em"}}),r.jsx("input",{type:"submit",value:""}),r.jsx("input",{type:"button",value:"",onClick:e.handleSubmit(m)})]})]})});dF.propTypes={};dF.displayName="SignalRTest";const dWt=({buttonProps:e,sizeLimit:t=5})=>{const[n,o]=a.useState([]),s=a.useCallback((f={})=>{console.log("close dialog",f);const{id:h,dontDestory:g=!1}=f;o(x=>h?x.find(D=>D.id===h)?g?x.map(D=>D.id===f.id?{...D,open:!1,working:!1}:D):x.filter(D=>D.id!==f.id):(console.warn(` opts.id [${f.id}], `),x):(console.warn(" opts.id ,  dialogs"),[]))},[]),i=a.useCallback(()=>{console.log("closeLatest"),o(f=>{const h=f.pop();return h?(h.onClose&&h.onClose(),[...f].concat({...h,open:!1,working:!1})):f})},[]),c=a.useCallback(({id:f,buttonProps:h,closeOthers:g=!1,onConfirm:x,closeOnConfirm:y=!0,...D})=>{if(n.length>t)throw new Error(` ${t}`);const v=f||zn(),T=E=>{x&&x({...E,id:v}),y&&s({...E,id:v})},I=()=>{s({id:v})},P={id:v,buttonProps:{...e,...h},open:!0,onConfirm:T,onClose:I,...D};return o(g?[P]:E=>[...E,P]),v},[e,s,n.length,t]),u=a.useCallback(f=>{o(h=>{const g=h.pop();return g?[...h].concat({...g,working:f}):h})},[]),d=a.useCallback(({id:f,title:h="",message:g,onConfirm:x,onCancel:y,closeOnConfirm:D=!0,...v})=>{const T=f||zn();return c({id:T,title:h,message:g,onConfirm:I=>{x&&x({...I,id:T}),D&&s({...I,id:T})},onCancel:I=>{y&&y({...I,id:T}),s({...I,id:T})},...v})},[s,c]),p=a.useCallback(({id:f,title:h="",message:g,value:x="",onCancel:y,label:D,mask:v=!1,...T})=>{const I=f||zn();return c({id:I,title:h,message:g,prompt:!0,mask:v,defaultPromptValue:x,promptTextFieldProps:{label:D},onCancel:P=>{y&&y({...P,id:I}),s({...P,id:I})},...T})},[s,c]),m=a.useCallback(({title:f="",message:h="[]",...g})=>{const x=zn();return c({id:x,title:f,message:h,...g})},[c]);return{entities:n,setEntities:o,create:c,confirm:d,alert:m,setWorking:u,closeLatest:i,prompt:p,close:s}},oJ=({children:e,buttonProps:t})=>{const n=dWt({buttonProps:t}),{entities:o}=n;return r.jsxs(Mr.Provider,{value:{...n},children:[e,o.map((s,i)=>{const{id:c,...u}=s;return r.jsx(Er,{index:i,...u},c||i)})]})};oJ.propTypes={children:l.oneOfType([l.node,l.array]),buttonProps:l.object};const sJ=a.memo(a.forwardRef((e,t)=>{const{tabs:n,handleTabChange:o,selectedTab:s,height:i}=e,c=Qr({height:i});return r.jsx(jt,{ref:t,py:1,px:3,children:r.jsxs(Et,{maxWidth:"lg",children:[r.jsx(_t,{title:"",alt:"kitchen-sink"}),r.jsx(xf,{value:s,children:r.jsx(jt,{mt:1,children:r.jsxs(_s,{sx:[c.scroller],children:[r.jsx(yf,{value:s,onChange:o,variant:"scrollable",scrollButtons:!0,children:n&&n.map(u=>r.jsx(Si,{label:u.label,value:u.value},u.value))}),n&&n.map(u=>{const d=u.Component;return r.jsxs(ga,{value:u.value,children:[u.component,d&&r.jsx(d,{})]},u.value)})]})})})]})})}));sJ.propTypes={height:l.oneOfType([l.string,l.number]),tabs:l.array,handleTabChange:l.func,selectedTab:l.oneOfType([l.string,l.number]),children:l.oneOfType([l.node,l.array])};sJ.displayName="KitchenSink";const aJ=a.memo(a.forwardRef((e,t)=>{const{gridRef:n}=e,[o,s]=a.useState([{active:!0,firstName:"Elon",lastName:"Musk",prod:null},{active:!1,firstName:"Jeff",lastName:"Bezos",prod:null}]),i=a.useMemo(()=>[{...Pe.keyColumn("Using_N",zY),title:"U",minWidth:60},{...Pe.keyColumn("abc",or({options:["A","B","C"]})),title:"ABC",minWidth:100},{...Pe.keyColumn("firstName",Pe.createTextColumn({continuousUpdates:!1})),title:"First name",grow:3,minWidth:120},{...Pe.keyColumn("prod",zIt({name:"prod",withStock:!0,triggerDelay:100})),id:"SProdID",title:"",grow:4,disabled:!1}],[]);return r.jsx("div",{ref:t,style:{},children:r.jsx(dr,{ref:n,value:o,onChange:s,columns:i,height:500})})}));aJ.propTypes={gridRef:l.oneOfType([l.func,l.object]),bearer:l.string};aJ.displayName="DSGTest2";const iJ=()=>{const e=a.useRef(),t=at();return r.jsx(Ye,{...t,children:r.jsx("form",{children:r.jsx(aJ,{gridRef:e})})})};iJ.displayName="DSGTest2Container";const lJ=a.memo(a.forwardRef((e,t)=>{const{height:n,value:o,gridRef:s,columns:i,onActiveCellChange:c,onChange:u,createRow:d,getRowKey:p}=e;return r.jsx("div",{ref:t,children:r.jsx(dr,{ref:s,rowKey:p,onChange:u,columns:i,height:n,value:o,onActiveCellChange:c,rowHeight:34,disableExpandSelection:!0,createRow:d})})}));lJ.propTypes={gridRef:l.oneOfType([l.func,l.object]),columns:l.array,onActiveCellChange:l.func,onChange:l.func,value:l.array,height:l.oneOfType([l.string,l.number]),createRow:l.func};lJ.displayName="DsgTest4Grid";const cJ=a.createContext(),pWt=(e,t)=>Gn.arePropsEqual(e,t,{header:"date",fields:"rowData,active,disable,focus"}),pF=a.memo(e=>{const{focus:t,active:n,rowData:o,setRowData:s,disabled:i,columnIndex:c,rowIndex:u,columnData:d={},stopEditing:p,insertRowBelow:m}=e,f=a.useRef(null),h=u5(),{skipDisabled:g,handleFocusPrevCell:x,getNextCell:y,lastCell:D,isLastRow:v,setActiveCell:T,readOnly:I,continuousUpdates:P}=d,E=a.useRef({rowData:o,setRowData:s,continuousUpdates:P,firstRender:h,focusedAt:0,changedAt:0,escPressed:!1});E.current={rowData:o,setRowData:s,continuousUpdates:P,firstRender:h,focusedAt:E.current.focusedAt,changedAt:E.current.changedAt,escPressed:E.current.escPressed},a.useLayoutEffect(()=>{var K,z;t?(K=f.current)==null||K.select():(z=f.current)==null||z.blur()},[t]);const{handleFocusNextCell:k}=Pi({getNextCell:y,lastCell:D,isLastRow:v,setActiveCell:T,stopEditing:p,insertRowBelow:m}),w=a.useMemo(()=>({row:u,col:c}),[c,u]),A=a.useCallback(K=>{switch(console.log("handleKeyDown",YSe.forKey(K)),K.key){case"Enter":K.preventDefault(),p({nextRow:!1}),setTimeout(()=>{k&&k(w,{forward:!0})});break}},[w,k,p]);a.useLayoutEffect(()=>{g&&n&&i&&!I&&(k?k({row:u,col:c}):console.log("handleFocusNextCell is null"))},[n,c,i,k,I,u,g]);const F=a.useCallback(K=>{console.log(`date value ${K}`);const z=new Date(K);return console.log("date",z),!isNaN(new Date(K).getTime())},[]),_=a.useCallback(K=>{E.current.changedAt=Date.now(),P&&(s(K.target.value),console.log("rowData updated",K.target.value))},[P,s]);a.useEffect(()=>{if(o==null)console.log("sync dateValue to empty"),f.value="";else if(o&&!f.value){const K=Re.reformatDateAsDash(o,Qd.DATEFNS_DATE_DASH);console.log(`sync dateValue to ${K}`),f.value=K}},[o]);const L=a.useCallback((K=!0)=>{var z,J;console.log("refocus",K),x(),(z=f.current)==null||z.focus(),K&&((J=f.current)==null||J.select())},[x]);return a.useLayoutEffect(()=>{if(t)f.current&&(f.current.focus(),f.current.select()),E.current.escPressed=!1,E.current.focusedAt=Date.now();else if(f.current){if(!E.current.escPressed&&!E.current.continuousUpdates&&!E.current.firstRender&&E.current.changedAt>=E.current.focusedAt){console.log(`${pF.displayName}.setRowDate`,f.current.value),E.current.setRowData(f.current.value);const K=F(f.current.value);console.log("isValidDate",K),K||(ae.error("",{position:"top-right"}),setTimeout(()=>{L({select:!0})}))}f.current.blur()}},[t,F,L]),a.useEffect(()=>{!t&&f.current&&(f.current.value=o)},[t,o]),r.jsx("input",{className:_b("dsg-input",!n&&"dsg-hide-date-picker"),type:"date",tabIndex:-1,max:"9999-12-31",ref:f,style:{pointerEvents:n?"auto":"none",opacity:o||n?void 0:0},onChange:_,onKeyDown:A})},pWt);pF.propTypes={focus:l.bool,active:l.bool,rowData:l.oneOfType([l.string,l.number,l.bool,l.object]),rowIndex:l.number,columnIndex:l.number,disabled:l.bool,columnData:l.object,setRowData:l.func,stopEditing:l.func,insertRowBelow:l.func,skipDisabled:l.bool,handleFocusNextCell:l.func,getNextCell:l.func,lastCell:l.symbol,setActiveCell:l.func};pF.displayName="DateFieldComponentEx";const uJ=e=>{const{columnData:t,...n}=e,o=ii(),s=a.useMemo(()=>({...t,...o}),[o,t]);return r.jsx(pF,{columnData:s,...n})};uJ.propTypes={columnData:l.object};uJ.displayName="DateComponentExContainer";const yAe=(e={})=>({component:uJ,columnData:e,deleteValue:()=>null,copyValue:({rowData:t})=>t?t.toISOString().substr(0,10):null,pasteValue:({value:t})=>t,minWidth:170,isCellEmpty:({rowData:t})=>!t}),CAe=()=>{const e=a.useContext(cJ),t=at(),{height:n}=Wt(),o=a.useMemo(()=>[{...Pe.keyColumn("prod",or(ls,{name:"prod",withStock:!0,packageType:"s",forId:!0,disableClearable:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}}})),title:"",minWidth:130,maxWidth:150,disabled:e.grid.readOnly},{...Pe.keyColumn("SProdData",kt({continuousUpdates:!1})),title:"",disabled:!0,grow:2},{...Pe.keyColumn("check1",Wi({size:"medium"})),minWidth:48,maxWidth:48,disabled:e.grid.readOnly},{...Pe.keyColumn("SExpDate",yAe({validate:!0})),title:"DateField",minWidth:130,maxWidth:150,disabled:e.grid.readOnly},{...Pe.keyColumn("supplier",or(dO,{name:"supplier",selectOnFocus:!0,forId:!0,disableClearable:!0,autoHighlight:!0,slotProps:{paper:{sx:{width:360}}}})),title:"",minWidth:120,maxWidth:120,disabled:e.grid.readOnly},{...Pe.keyColumn("stype",or(ad,{name:"stype",disableClearable:!0,disableOpenOnInput:!0,autoHighlight:!0,selectOnFocus:!0})),title:"",minWidth:70,maxWidth:70,disabled:e.grid.readOnly},{...Pe.keyColumn("typeA",or(oO,{name:"typeA",disableClearable:!0,disableOpenOnInput:!0,autoHighlight:!0,selectOnFocus:!0})),title:"",minWidth:160,maxWidth:160,disabled:e.grid.readOnly},{...Pe.keyColumn("SExpDate3",Tq({})),title:"DateInput",minWidth:110,maxWidth:110,disabled:e.grid.readOnly}],[e.grid.readOnly]),s=hr({data:e.grid.gridData,grid:e.grid,columns:o,skipDisabled:!0,lastCell:Xn.CREATE_ROW}),i=a.useMemo(()=>e.grid.buildGridChangeHandler({gridMeta:s,onUpdateRow:e.onUpdateRow}),[e,s]);return En(()=>{const c=e.grid.fillRows({createRow:e.createRow,length:9});console.log("data",c),e.grid.initGridData(c)},[]),r.jsx(Kn.Provider,{value:{...e.grid,...s},children:r.jsx(Ye,{...t,children:r.jsx(lJ,{value:e.grid.gridData,columns:s.columns,height:n-260,getRowKey:e.getRowKey,gridRef:s.setGridRef,onActiveCellChange:s.handleActiveCellChange,onChange:i,createRow:e.createRow})})})};CAe.displayName="DsgTest4GridContainer";l.oneOfType([l.array,l.object]);const mWt=()=>{const e=a.useCallback(()=>({id:zn(),prod:null,SProdData:"",SExpDate:null,typeA:null,SExpDate3:null,supplier:null,stype:null,check1:!1}),[]),t=yr({gridId:"prods",keyColumn:"id",createRow:e}),n=a.useMemo(()=>[{...Pe.keyColumn("prod",or(ls,{name:"prod",withStock:!0,packageType:"s",forId:!0,disableClearable:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}}})),title:"",minWidth:130,maxWidth:150,disabled:t.readOnly},{...Pe.keyColumn("SProdData",kt({continuousUpdates:!1})),title:"",disabled:!0,grow:2},{...Pe.keyColumn("check1",Wi({size:"medium"})),minWidth:48,maxWidth:48,disabled:t.readOnly},{...Pe.keyColumn("SExpDate",yAe({validate:!0})),title:"DateField",minWidth:130,maxWidth:150,disabled:t.readOnly},{...Pe.keyColumn("typeA",or(oO,{name:"typeA",disableOpenOnInput:!0,disableClearable:!0,selectOnFocus:!0,hideControlsOnActive:!1,slotProps:{paper:{sx:{width:160}}}})),disabled:t.readOnly,title:"",minWidth:160,maxWidth:160},{...Pe.keyColumn("SExpDate3",Tq({})),title:"DateInput",minWidth:110,maxWidth:110,disabled:t.readOnly}],[t.readOnly]),o=a.useCallback(({rowData:u,rowIndex:d})=>`${(u==null?void 0:u.id)||d}`,[]),s=hr({data:t.gridData,grid:t,columns:n,skipDisabled:!0,lastCell:Xn.CREATE_ROW}),i=a.useCallback(({rowData:u})=>{const{prod:d}=u;return{...u,SProdData:(d==null?void 0:d.ProdData)||"",PackData_N:(d==null?void 0:d.PackData_N)||""}},[]),c=a.useCallback(({fromRowIndex:u,formData:d,newValue:p,setValue:m,gridMeta:f,updateResult:h})=>async(g,x)=>{var T,I;const y=u+x,D=t.gridData[y];h.rowIndex=y,console.log(` ${y+1} ...`,g);let v={...g};return((T=v.prod)==null?void 0:T.ProdID)!=((I=D.prod)==null?void 0:I.ProdID)&&(console.log(`prod[${y}] changed`,v==null?void 0:v.prod),v=await i({rowData:v,formData:d})),v},[t.gridData,i]);return{grid:t,gridMeta:s,createRow:e,getRowKey:o,onUpdateRow:c}},DAe=({children:e})=>{const t=mWt();return r.jsx(cJ.Provider,{value:{...t},children:e})};DAe.propTypes={children:l.oneOfType([l.array,l.object])};const dJ=e=>{const{...t}=e,n=a.useContext(cJ);return r.jsx(Ts,{unlockedLabel:"",locked:n.grid.readOnly,onChange:n.grid.toggleReadOnly,...t})};dJ.propTypes={};dJ.displayName="DSGTest4LockSwitch";const pJ=e=>{const{...t}=e;return r.jsx(r.Fragment,{children:r.jsxs(DAe,{children:[r.jsx(CAe,{}),r.jsx(dJ,{})]})})};pJ.propTypes={};pJ.displayName="DSGTest4Page";const fWt=it(Xp)({[`& .${po.listbox}`]:{boxSizing:"border-box","& ul":{padding:0,margin:0}}}),jue=it(jt,{shouldForwardProp:e=>!["hideBorders","hideControls"].includes(e)})(({hideBorders:e,hideControls:t})=>({...e&&{"& fieldset":{border:"none"}},...t&&{pointerEvents:"none"}})),hWt={size:"small",InputLabelProps:{shrink:!0}},mJ=({name:e,control:t,rules:n,defaultValue:o,inputRef:s,label:i="",readOnly:c,onChange:u,mask:d="____/__/__",format:p=_o.DATEFNS_DATE,invalidDateMessage:m="",required:f=!1,hideBorders:h,hideControls:g,...x})=>{const{setError:y,clearErrors:D}=Ke(),{isFieldDisabled:v,handleFocusNextField:T,disableEnter:I}=a.useContext(Lr)||{},{setFocus:P}=Ke()||{},{InputProps:E,...k}=hWt,w=a.useCallback(A=>{A.ctrlKey||(A.key==="Enter"&&!I&&!A.shiftKey||A.key==="Tab")&&(A.preventDefault(),T(e,{setFocus:P,isFieldDisabled:v,forward:!A.shiftKey,e:A}))},[I,T,e,P,v]);return e?r.jsx(rm,{name:e,defaultValue:o||null,control:t,rules:n,render:({field:{ref:A,value:F,onChange:_},fieldState:{error:L}})=>r.jsx(jue,{hideBorders:h,hideControls:g,children:r.jsx(cR,{inputRef:A,label:i?`${i}${f?"*":""}`:"",mask:d,format:p,value:F,required:f,onChange:K=>{c||(_(K),u&&u(K),rf(K)?D&&D(e):y(e,{message:m}))},onKeyDown:w,...k,InputProps:{...E,readOnly:c},disabled:c,onError:K=>{console.error(K)},invalidDateMessage:m,...x})})}):r.jsx(jue,{hideBorders:h,hideControls:g,children:r.jsx(cR,{inputRef:s,defaultValue:o,label:i,readOnly:c,onChange:u,onKeyDown:w,mask:d,format:p,invalidDateMessage:m,required:f,...x})})};mJ.propTypes={label:l.string,name:l.string,control:l.object,rules:l.object,defaultValue:l.object,readOnly:l.bool,onChange:l.func,mask:l.string,format:l.string,invalidDateMessage:l.string,labelShrink:l.bool,required:l.bool,hideBorders:l.bool,hideControls:l.bool,inputRef:l.object};const SAe=a.memo(a.forwardRef((e,t)=>{const{dateFormat:n=Qd.DATEFNS_DATE,label:o,emptyText:s="()",typoVariant:i="body1",typoProps:c,name:u,editing:d=!1,size:p="small",variant:m="filled",...f}=e,h=Ue({name:u}),g=a.useMemo(()=>h?Vd(h,n):s,[n,s,h]);return d?r.jsx(mJ,{ref:t,label:o,name:u,variant:m,size:p,...f}):r.jsx(pn,{label:o,variant:i,color:"text.secondary",...c,children:g})}));SAe.propTypes={dateFormat:l.string};const vAe=a.forwardRef((e,t)=>{const{...n}=e,{editing:o}=a.useContext(cr);return r.jsx(SAe,{ref:t,editing:o,...n})});vAe.displayName="TypoDateFieldContainer";const fJ=e=>{const{typo:t=!1,...n}=e;return t?r.jsx(vAe,{...n}):r.jsx(mJ,{...n})};fJ.displayName="DateFieldWrapper";fJ.propTypes={typo:l.bool};function gWt(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let o=0;o<e;o+=1)n+=t.charAt(Math.floor(Math.random()*t.length));return n}const bWt=Array.from(new Array(1e4)).map(()=>gWt(10+Math.ceil(Math.random()*20))).sort((e,t)=>e.toUpperCase().localeCompare(t.toUpperCase())),hJ=()=>r.jsx("form",{children:r.jsxs(jt,{px:3,children:[r.jsx(Ws,{children:"LockSwitch"}),r.jsx(Xt,{p:1,mb:1,children:r.jsx(j,{container:!0,spacing:2,children:r.jsx(j,{item:!0,xs:12,md:6,children:r.jsx(Ts,{width:80})})})}),r.jsx(Ws,{children:"OptionPicker"}),r.jsx(Xt,{p:1,mb:1,children:r.jsx(j,{container:!0,spacing:2,children:r.jsx(j,{item:!0,xs:12,md:6.5,children:r.jsxs(RU,{legend:"",children:[r.jsx(ve,{flex:1,children:r.jsx(et,{autoFocus:!0,name:"SDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0})}),r.jsx(jt,{mx:.2,children:r.jsx(nn,{variant:"body1",children:"~"})}),r.jsx(ve,{flex:1,children:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0})})]})})})}),r.jsx(Ws,{children:"OptionPicker"}),r.jsx(Xt,{p:1,mb:1,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,md:6,children:r.jsx(Npe,{id:"use autocomplete",sx:{width:300},disableListWrap:!0,PopperComponent:fWt,ListboxComponent:ek,options:bWt,groupBy:e=>e[0].toUpperCase(),renderInput:e=>r.jsx(SD,{...e,label:"native Autocomplete",size:"small"}),renderOption:(e,t,n)=>[e,t,n.index],renderGroup:e=>e})}),r.jsx(j,{item:!0,xs:6,children:r.jsx(lO,{width:300})}),r.jsx(j,{item:!0,xs:6,children:r.jsx(fn,{label:"WebApiOptionPicker"})}),r.jsx(j,{item:!0,xs:6,children:r.jsx(fn,{virtualize:!0,label:"WebApiOptionPicker with virtualize ON"})})]})}),r.jsx(Ws,{children:"Tab & Enter "}),r.jsx(Xt,{p:1,mb:1,children:r.jsxs(j,{container:!0,spacing:1,children:[r.jsx(j,{item:!0,xs:8,children:r.jsx(ct,{legend:"",required:!0,leftComponent:r.jsx(fn,{debug:!0,name:"prodPicker",label:"",required:!0,labelShrink:!0,placeholder:"",filterByServer:!0,rules:{required:""},virtualize:!0,fullWidth:!0,disableOpenOnInput:!0,notFoundText:" ${input} ",borderless:!0,clearOnEscape:!0}),rightComponent:r.jsx(fn,{debug:!0,name:"prodPicker2",label:"",labelShrink:!0,placeholder:"",filterByServer:!0,virtualize:!0,disableOpenOnInput:!0,notFoundText:" ${input} ",borderless:!0})})}),r.jsx(j,{item:!0,xs:4,children:r.jsx(Yd,{name:"picker1",label:"typeA",disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:4,children:r.jsx(MD,{name:"picker3",label:"typeB",disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:4,children:r.jsx(Yh,{name:"check1",label:"check1"})}),r.jsx(j,{item:!0,xs:4,children:r.jsx($e,{name:"text1",label:"text1",size:"small",clearable:!0,fullWidth:!0})}),r.jsx(j,{item:!0,xs:4,children:r.jsx(fJ,{name:"date1",label:"date1"})}),r.jsx(j,{item:!0,xs:4,children:r.jsx(et,{name:"datepicker1",label:"date-picker1",validate:!0})}),r.jsx(j,{item:!0,xs:4,children:r.jsx($e,{name:"text2",label:"text2",size:"small",clearable:!0,fullWidth:!0})})]})})]})});hJ.propTypes={findOption:l.func};hJ.displayName="OptionPickerTest";const jAe=a.createContext(),IAe=e=>{const{...t}=e,n=at(),o=a.useContext(jAe);return r.jsx(Ye,{...n,children:r.jsx(Ct,{...o.formMeta,children:r.jsx(hJ,{...t})})})};IAe.displayName="OptionPickerTestContainer";const xWt=()=>({formMeta:vt(`
		prodPicker,
		prodPicker2,
		picker1,
		picker3,
		check1,
		text1,
		date1,
		datepicker1,
		text2,
		`,{lastField:B$.PROMPT})}),TAe=({children:e})=>{const t=xWt();return r.jsx(jAe.Provider,{value:{...t},children:e})};TAe.propTypes={children:l.oneOfType([l.array,l.object])};const gJ=e=>{const{...t}=e;return r.jsx(TAe,{children:r.jsx(IAe,{})})};gJ.propTypes={};gJ.displayName="InputTestPage";const OAe=a.createContext(),yWt=()=>({formMeta:vt(`
		text1,
		text2,
		text3,
		text4
		`)}),EAe=({children:e})=>{const t=yWt();return r.jsx(OAe.Provider,{value:{...t},children:e})};EAe.propTypes={children:l.oneOfType([l.array,l.object])};const bJ=a.memo(a.forwardRef((e,t)=>{const{text3Disabled:n,...o}=e;return r.jsx("form",{children:r.jsxs(Ns,{children:[r.jsx(Ws,{children:"React Hook Form"}),r.jsx(Xt,{p:1,mb:1,children:r.jsxs(j,{container:!0,spacing:1,children:[r.jsx(j,{item:!0,xs:12,md:2,children:r.jsx($e,{name:"text1",label:"text1",size:"small",labelShrink:!0,placeholder:"1",autoFocus:!0})}),r.jsx(j,{item:!0,xs:12,md:4,children:r.jsx($e,{name:"text2",label:"text2",fullWidth:!0,size:"small",labelShrink:!0,placeholder:""})}),r.jsx(j,{item:!0,xs:12,md:3,children:r.jsx($e,{name:"text3",label:"text3",size:"small",labelShrink:!0,fullWidth:!0,placeholder:"3",disabled:n})}),r.jsx(j,{item:!0,xs:12,md:3,children:r.jsx($e,{name:"text4",label:"text4",size:"small",labelShrink:!0,placeholder:"4"})})]})})]})})}));bJ.propTypes={text3Disabled:l.bool};bJ.displayName="RhfTabTestForm";const PAe=()=>{const e=at(),{formMeta:t,...n}=a.useContext(OAe),o=Ue({name:"text2",control:e.control}),s=a.useMemo(()=>!o||isNaN(o),[o]),i=a.useCallback(c=>{switch(c.name){case"text3":return s;default:return!1}},[s]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...t,isFieldDisabled:i,children:r.jsx(bJ,{text3Disabled:s,...n})})})};PAe.displayName="RhfTabTestFormContainer";const xJ=a.memo(e=>r.jsx(EAe,{children:r.jsx(PAe,{})}));xJ.propTypes={};xJ.displayName="RhfTabTestPage";const CWt=[{label:"Inputs",value:"input-test",Component:gJ},{label:"RHF Tab & Enter",value:"rhf",Component:xJ},{label:"DSG4",value:"dsg",Component:pJ},{label:"DSG2",value:"dsg2",Component:iJ},{label:"SignalR",value:"signal-r",Component:dF}],Iue={Tabs:CWt},RAe=e=>{const{...t}=e,[n,o]=a.useState(Iue.Tabs[0].value),{height:s}=Wt(),i=a.useCallback((c,u)=>{console.log("newTab",u),o(u)},[]);return r.jsx(sJ,{selectedTab:n,handleTabChange:i,tabs:Iue.Tabs,height:s-90,...t})};RAe.displayName="KitchenSinkContainer";const DWt=r.jsxs(r.Fragment,{children:[r.jsxs(yt,{path:"lab",children:[r.jsx(yt,{path:"loading",element:r.jsx(ck,{})}),r.jsx(yt,{path:"dsg",element:r.jsx(H2e,{children:r.jsx(z2e,{})})}),r.jsx(yt,{path:"dsg3",element:r.jsx(HY,{})}),r.jsx(yt,{path:"signalr",element:r.jsx(dF,{})}),r.jsx(yt,{path:"dialogs",element:r.jsx(oJ,{children:r.jsx(VY,{})})})]}),r.jsxs(yt,{path:"lab-protected",element:r.jsx(Exe,{}),children:[r.jsx(yt,{path:"kitchen-sink",element:r.jsx(RAe,{})}),r.jsx(yt,{path:"dsg",element:r.jsx(iJ,{})})]})]}),GP=Object.freeze({SUMMARY:1,DETAIL1:2,DETAIL2:3}),wAe=[{id:GP.SUMMARY,name:""},{id:GP.DETAIL1,name:""},{id:GP.DETAIL2,name:""}],SWt=e=>{if(!e)return"";const{id:t,name:n}=e;return[t,n].filter(Boolean).join(" ")},vWt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),jWt=e=>wAe.find(t=>t.id===e),IWt=e=>{var m,f;const{outputType:t,SDate:n,EDate:o,STime:s,ETime:i,SPosNo:c,EPosNo:u,RptType:d,...p}=e;return{JobName:"P02",Action:((m=t==null?void 0:t.id)==null?void 0:m.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",STime:Re.formatTime(s)||"",ETime:Re.formatTime(i)||"",SPosNo:(c==null?void 0:c.PosNo)||"",EPosNo:(u==null?void 0:u.PosNo)||"",RptType:((f=d.id)==null?void 0:f.toString())||"1",...p}},Rb={transformForSubmitting:IWt,DataType:GP,dataTypeOptions:wAe,getOptionLabel:SWt,isOptionEqualToValue:vWt,getDataTypeById:jWt},TWt=()=>{var h,g;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"P02"}),s=a.useContext(Sn),i=Un(),c=vt(`
		SDate,
		EDate,
		STime,
		ETime,
		SPosNo,
		EPosNo,
		SInvID,
		EInvID,
		RptType,
		outputType,
		`),u=a.useMemo(()=>`${e.REPORT_URL}/WebP02Rep.aspx`,[e.REPORT_URL]),d=yn({from:"SDate",to:"EDate"}),p=a.useCallback(x=>{var D,v;console.log("onSubmit",x);const y={...Rb.transformForSubmitting(x),DeptId:n.CurDeptID};i.show({data:y,url:u,title:`${(D=s.menuItemSelected)==null?void 0:D.JobID} ${(v=s.menuItemSelected)==null?void 0:v.JobName}`})},[(h=s.menuItemSelected)==null?void 0:h.JobID,(g=s.menuItemSelected)==null?void 0:g.JobName,i,n.CurDeptID,u]),m=a.useCallback(x=>{console.log("onSubmit",x);const y={...Rb.transformForSubmitting(x),DeptId:n.CurDeptID};console.log("data",y),d.open(u,y)},[n.CurDeptID,u,d]),f=a.useCallback(x=>{console.error("onSubmitError",x)},[]);return{...o,onSubmit:m,onSubmitError:f,onDebugSubmit:p,formMeta:c}},kAe=a.createContext(),AAe=({children:e})=>{const t=TWt(),n=at({defaultValues:{SDate:new Date,EDate:new Date,outputType:jn.getDefaultOption(),RptType:Rb.getDataTypeById(Rb.DataType.SUMMARY)}});return r.jsx(Ye,{...n,children:r.jsx(kAe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};AAe.propTypes={children:l.oneOfType([l.array,l.element])};const OWt=e=>{if(!e)return"";const{PosNo:t}=e;return[t||"()"].filter(Boolean).join(" ")},EWt=(e,t)=>(e==null?void 0:e.PosNo)===(t==null?void 0:t.PosNo),wL={getOptionLabel:OWt,isOptionEqualToValue:EWt},yT=a.memo(e=>{const{label:t="",scope:n=Tn.SCOPES.DEPT,...o}=e,s=a.useContext(Be),i=a.useCallback(u=>u.data,[]),c=a.useMemo(()=>Hr.stringify({sp:n}),[n]);return r.jsx(bt,{label:t,url:"v1/pos/terminals",bearer:s.token,getOptionLabel:wL.getOptionLabel,renderOptionLabel:wL.getOptionLabel,isOptionEqualToValue:wL.isOptionEqualToValue,getOptions:i,querystring:c,notFoundText:" ${input} ",...o})});yT.propTypes={label:l.string,uid:l.string,scope:l.number,excludesSelf:l.bool,forId:l.bool};yT.displayName="TerminalPicker";const yJ=a.memo(a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,label:o,options:Rb.dataTypeOptions,getOptionLabel:Rb.getOptionLabel,isOptionEqualToValue:Rb.isOptionEqualToValue,...s})}));yJ.propTypes={name:l.string,label:l.string,children:l.node};yJ.displayName="P02DataTypePicker";const CJ=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:" (2,3)",leftComponent:r.jsx(Wb,{name:"STime",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(Wb,{name:"ETime",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(yT,{name:"SPosNo",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(yT,{name:"EPosNo",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:" (2,3)",leftComponent:r.jsx($e,{name:"SInvID",label:"",size:"small",fullWidth:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx($e,{name:"EInvID",label:"",size:"small",fullWidth:!0,borderless:!0,placeholder:""})})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(yJ,{name:"RptType",label:"",required:!0})}),r.jsx(j,{item:!0,xs:12,sm:6})]}),r.jsx(ve,{mt:2,children:r.jsxs(j,{container:!0,children:[r.jsx(Ms,{item:!0,xs:12,sm:6,alignItems:"center"}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});CJ.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};CJ.displayName="P02Form";const NAe=()=>{const e=Ke(),t=a.useContext(kAe),n=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(n),{enableOnFormTags:!0});const o=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...t.formMeta,children:r.jsx(CJ,{onSubmit:n,onDebugSubmit:o})})})};NAe.displayName="P02FormContainer";const FAe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(NAe,{})]});FAe.displayName="P02Frame";const PWt=e=>{const{SPosNo:t,SDate:n,EDate:o}=e;return{sdate:Re.formatDate(n),edate:Re.formatDate(o),posno:(t==null?void 0:t.PosNo)||""}},RWt={transformForSubmitting:PWt},wWt=()=>{const{token:e,operator:t}=a.useContext(Be),n=Bt({moduleId:"P04"}),o=a.useContext(cr),{httpDeleteAsync:s}=Zn(),i=a.useContext(Mr),c=vt(`
		SDate,
		EDate,
		SPosNo,
		`),u=a.useCallback(p=>{console.log("onSubmit",p);const m=RWt.transformForSubmitting(p);i.confirm({message:`${m!=null&&m.posno?`[${m==null?void 0:m.posno}]`:""} ${m==null?void 0:m.sdate}${m!=null&&m.edate?` ~ ${m==null?void 0:m.edate}`:""} ?`,onConfirm:async()=>{o.startLoading();try{const{status:f,error:h}=await s({url:"v1/pos/sales-data",params:m,bearer:e});if(f.success)ae.success("");else throw h??new Error("")}catch(f){console.error(f),ae.error("",f)}}})},[o,i,s,e]),d=a.useCallback(p=>{console.error("onSubmitError",p)},[]);return{...n,onSubmit:u,onSubmitError:d,formMeta:c}},MAe=a.createContext(),_Ae=({children:e})=>{const t=wWt(),n=at({defaultValues:{SDate:new Date,EDate:null,SPosNo:null}});return r.jsx(Ye,{...n,children:r.jsx(MAe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};_Ae.propTypes={children:l.oneOfType([l.array,l.element])};const DJ=a.memo(e=>{const{onClick:t,children:n="",size:o="small",...s}=e;return r.jsx(dt,{name:"submit",responsive:!0,startIcon:r.jsx(Mye,{}),variant:"contained",color:"primary",type:"submit",onClick:t,size:o,...s,children:n})});DJ.propTypes={children:l.oneOfType([l.node,l.array]),size:l.string,onClick:l.func};DJ.displayName="ReportSubmitButton";const LAe=e=>{const{...t}=e;return r.jsx(DJ,{...t})};LAe.displayName="ReportSubmitButtonContainer";const SJ=a.memo(e=>{const{onSubmit:t,...n}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...n,children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",required:!0,leftComponent:r.jsx(et,{name:"SDate",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(yT,{name:"SPosNo",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsxs(j,{container:!0,children:[r.jsx(Ms,{item:!0,xs:12,sm:6,alignItems:"center"}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(kn,{align:"right",children:r.jsx(LAe,{onClick:t})})})]})]})})})})});SJ.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};SJ.displayName="P04Form";const $Ae=()=>{const e=Ke(),t=a.useContext(MAe),n=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(n),{enableOnFormTags:!0});const o=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...t.formMeta,children:r.jsx(SJ,{onSubmit:n,onDebugSubmit:o})})})};$Ae.displayName="P04FormContainer";const BAe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx($Ae,{})]});BAe.displayName="P04Frame";const WAe=a.createContext(),xB=Object.freeze({SUMMARY:1,DETAIL1:2}),vJ=[{id:xB.SUMMARY,label:""},{id:xB.DETAIL1,label:""}],kWt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},AWt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),UAe=e=>vJ.find(t=>t.id===e),NWt=e=>vJ.find(t=>t.id==e),FWt=()=>UAe(xB.SUMMARY),k1={options:vJ,getOptionLabel:kWt,isOptionEqualToValue:AWt,getOptionById:UAe,findByInput:NWt,getDefaultOption:FWt},MWt=e=>{var u,d;const{outputType:t,SDate:n,EDate:o,RptType:s,SDeptID:i,...c}=e;return{JobName:"U07",Action:((u=t==null?void 0:t.id)==null?void 0:u.toString())||"",SDeptID:(i==null?void 0:i.DeptID)||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",RptType:((d=s.id)==null?void 0:d.toString())||"1",...c}},Tue={transformForSubmitting:MWt},_Wt=()=>{var h,g;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"U07"}),s=a.useContext(Sn),i=Un(),c=vt(`
		SDeptID,
		SDate,
		EDate,
		outputType,
		`),u=a.useMemo(()=>`${e.REPORT_URL}/WebU07Rep.aspx`,[e.REPORT_URL]),d=yn({from:"SDate",to:"EDate"}),p=a.useCallback(x=>{var D,v;console.log("onSubmit",x);const y={...Tue.transformForSubmitting(x),DeptId:n.CurDeptID};i.show({data:y,url:u,title:`${(D=s.menuItemSelected)==null?void 0:D.JobID} ${(v=s.menuItemSelected)==null?void 0:v.JobName}`})},[(h=s.menuItemSelected)==null?void 0:h.JobID,(g=s.menuItemSelected)==null?void 0:g.JobName,i,n.CurDeptID,u]),m=a.useCallback(x=>{console.log("onSubmit",x);const y={...Tue.transformForSubmitting(x),DeptId:n.CurDeptID};console.log("data",y),d.open(u,y)},[n.CurDeptID,u,d]),f=a.useCallback(x=>{console.error("onSubmitError",x)},[]);return{...o,onSubmit:m,onSubmitError:f,onDebugSubmit:p,formMeta:c}},jJ=({children:e})=>{const{operator:t}=a.useContext(Be),n=_Wt(),o=at({defaultValues:{outputType:jn.getDefaultOption(),SDeptID:{DeptID:t.CurDeptID,AbbrName:t.CurDeptName},SDate:new Date,EDate:new Date,RptType:k1.getDefaultOption()}});return r.jsx(Ye,{...o,children:r.jsx(WAe.Provider,{value:{...n,handleSubmit:o.handleSubmit(n.onSubmit,n.onSubmitError)},children:e})})};jJ.propTypes={children:l.oneOfType([l.array,l.element])};const qAe=a.memo(a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,label:o,options:k1.options,getOptionLabel:k1.getOptionLabel,isOptionEqualToValue:k1.isOptionEqualToValue,findByInput:k1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})}));qAe.propTypes={name:l.string,label:l.string,children:l.node};qAe.displayName="U07DataTypePicker";const IJ=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,scope:o=Tn.SCOPES.BRANCH_HQ,deptDisabled:s,...i}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...i,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(wa,{label:"",name:"SDeptID",disableOpenOnInput:!0,selectOnFocus:!0,disabled:s,scope:o})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{autoFocus:!0,name:"SDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})})]}),r.jsx(ve,{mt:1.5,children:r.jsx(j,{container:!0,spacing:2,children:r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})})})]})})})})});IJ.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func,scope:l.number,deptDisabled:l.bool};IJ.displayName="U07Form";const VAe=()=>{const e=Ke(),t=a.useContext(WAe),n=a.useContext(Be),{operator:o}=n,s=a.useMemo(()=>(o==null?void 0:o.Class)<Tn.SCOPES.ROOT&&o.CurHeadOffice!=1,[o==null?void 0:o.Class,o.CurHeadOffice]),i=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(i),{enableOnFormTags:!0});const c=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...t.formMeta,children:r.jsx(IJ,{onSubmit:i,onDebugSubmit:c,scope:o.CurHeadOffice?Tn.SCOPES.BRANCH_HQ:Tn.SCOPES.DEPT,deptDisabled:s})})})};VAe.displayName="U07FormContainer";const TJ=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(VAe,{})]});TJ.displayName="U07Frame";const zAe=a.createContext(),yB=Object.freeze({SUMMARY:1,DETAIL1:2}),OJ=[{id:yB.SUMMARY,label:""},{id:yB.DETAIL1,label:""}],LWt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},$Wt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),HAe=e=>OJ.find(t=>t.id===e),BWt=e=>OJ.find(t=>t.id==e),WWt=()=>HAe(yB.SUMMARY),A1={options:OJ,getOptionLabel:LWt,isOptionEqualToValue:$Wt,getOptionById:HAe,findByInput:BWt,getDefaultOption:WWt},UWt=e=>{var u,d;const{outputType:t,SDate:n,EDate:o,RptType:s,SDeptID:i,...c}=e;return{JobName:"U08",Action:((u=t==null?void 0:t.id)==null?void 0:u.toString())||"",SDeptID:(i==null?void 0:i.DeptID)||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",RptType:((d=s.id)==null?void 0:d.toString())||"1",...c}},Oue={transformForSubmitting:UWt},qWt=()=>{var h,g;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"U08"}),s=a.useContext(Sn),i=Un(),c=vt(`
		SDeptID,
		SDate,
		EDate,
		RptType,
		outputType,
		`),u=a.useMemo(()=>`${e.REPORT_URL}/WebU08Rep.aspx`,[e.REPORT_URL]),d=yn({from:"SDate",to:"EDate"}),p=a.useCallback(x=>{var D,v;console.log("onSubmit",x);const y={...Oue.transformForSubmitting(x),DeptId:n.CurDeptID};i.show({data:y,url:u,title:`${(D=s.menuItemSelected)==null?void 0:D.JobID} ${(v=s.menuItemSelected)==null?void 0:v.JobName}`})},[(h=s.menuItemSelected)==null?void 0:h.JobID,(g=s.menuItemSelected)==null?void 0:g.JobName,i,n.CurDeptID,u]),m=a.useCallback(x=>{console.log("onSubmit",x);const y={...Oue.transformForSubmitting(x),DeptId:n.CurDeptID};console.log("data",y),d.open(u,y)},[n.CurDeptID,u,d]),f=a.useCallback(x=>{console.error("onSubmitError",x)},[]);return{...o,onSubmit:m,onSubmitError:f,onDebugSubmit:p,formMeta:c}},EJ=({children:e})=>{const{operator:t}=a.useContext(Be),n=qWt(),o=at({defaultValues:{outputType:jn.getDefaultOption(),SDeptID:{DeptID:t.CurDeptID,AbbrName:t.CurDeptName},SDate:new Date,EDate:new Date,RptType:A1.getDefaultOption()}});return r.jsx(Ye,{...o,children:r.jsx(zAe.Provider,{value:{...n,handleSubmit:o.handleSubmit(n.onSubmit,n.onSubmitError)},children:e})})};EJ.propTypes={children:l.oneOfType([l.array,l.element])};const PJ=a.memo(a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,label:o,options:A1.options,getOptionLabel:A1.getOptionLabel,isOptionEqualToValue:A1.isOptionEqualToValue,findByInput:A1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})}));PJ.propTypes={name:l.string,label:l.string,children:l.node};PJ.displayName="U08DataTypePicker";const RJ=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,deptDisabled:o,...s}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...s,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(wa,{autoFocus:!0,label:"",name:"SDeptID",disableOpenOnInput:!0,selectOnFocus:!0,disabled:o,scope:Tn.SCOPES.BRANCH_HQ})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(PJ,{name:"RptType",label:"",required:!0,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:12,sm:6})]}),r.jsx(ve,{mt:1.5,children:r.jsx(j,{container:!0,spacing:2,children:r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})})})]})})})})});RJ.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func,deptDisabled:l.bool};RJ.displayName="U08Form";const GAe=()=>{const e=Ke(),{operator:t}=a.useContext(Be),n=a.useContext(zAe),o=a.useMemo(()=>(t==null?void 0:t.Class)<Tn.SCOPES.ROOT&&t.CurHeadOffice!=1,[t==null?void 0:t.Class,t.CurHeadOffice]),s=a.useMemo(()=>e.handleSubmit(n.onSubmit,n.onSubmitError),[n.onSubmit,n.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(s),{enableOnFormTags:!0});const i=a.useMemo(()=>e.handleSubmit(n.onDebugSubmit),[n.onDebugSubmit,e]);return r.jsx(Ct,{...n.formMeta,children:r.jsx(RJ,{onSubmit:s,onDebugSubmit:i,deptDisabled:o})})};GAe.displayName="U08FormContainer";const wJ=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(GAe,{})]});wJ.displayName="U08Frame";const KAe=a.createContext(),kJ=[{id:1,label:""},{id:2,label:""},{id:3,label:""}],QAe=e=>kJ.find(t=>t.id==e),VWt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},zWt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),HWt=e=>kJ.find(t=>t.id==e),GWt=()=>QAe(1),N1={options:kJ,getOptionLabel:VWt,isOptionEqualToValue:zWt,getOptionById:QAe,findByInput:HWt,getDefaultOption:GWt},KWt=e=>{var T;const{outputType:t,SDate:n,EDate:o,retail:s,SalType:i,SCustID:c,ECustID:u,SAreaID:d,EAreaID:p,SLineID:m,ELineID:f,RptType:h,OrdName:g,InclTest:x,OrdSeq:y,Rate:D,...v}=e;return console.log("ignore props",s),{JobName:"P03",Action:((T=t==null?void 0:t.id)==null?void 0:T.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",SalType:(i==null?void 0:i.id)||"",SCustID:(c==null?void 0:c.CustID)||"",ECustID:(u==null?void 0:u.CustID)||"",SAreaID:(d==null?void 0:d.CodeID)||"",EAreaID:(p==null?void 0:p.CodeID)||"",SLineID:(m==null?void 0:m.CodeID)||"",ELineID:(f==null?void 0:f.CodeID)||"",InclTest:x?"Y":"N",RptType:h==null?void 0:h.id,OrdName:g==null?void 0:g.id,OrdSeq:y==null?void 0:y.id,Rate:D==null?void 0:D.id,...v}},Eue={transformForSubmitting:KWt},QWt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"P03"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebP03Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...Eue.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...Eue.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},AJ=[{id:1,label:""},{id:2,label:""},{id:3,label:""}],YWt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},JWt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),YAe=e=>AJ.find(t=>t.id===e),XWt=e=>AJ.find(t=>t.id==e),ZWt=()=>YAe(1),F1={options:AJ,getOptionLabel:YWt,isOptionEqualToValue:JWt,getOptionById:YAe,findByInput:XWt,getDefaultOption:ZWt},NJ=[{id:1,label:"/"},{id:2,label:"/"}],e5t=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},t5t=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),JAe=e=>NJ.find(t=>t.id===e),n5t=e=>NJ.find(t=>t.id==e),r5t=()=>JAe(1),M1={options:NJ,getOptionLabel:e5t,isOptionEqualToValue:t5t,getOptionById:JAe,findByInput:n5t,getDefaultOption:r5t},XAe=({children:e})=>{const t=QWt(),n=at({defaultValues:{SDate:null,EDate:null,SCustID:null,ECustID:null,InclTest:!1,RptType:N1.getDefaultOption(),OrdName:F1.getDefaultOption(),OrdSeq:$d.getDefaultOption(),Rate:M1.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(KAe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};XAe.propTypes={children:l.oneOfType([l.array,l.element])};const FJ=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:M1.options,getOptionLabel:M1.getOptionLabel,isOptionEqualToValue:M1.isOptionEqualToValue,findByInput:M1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});FJ.propTypes={name:l.string,label:l.string,children:l.node};FJ.displayName="P03CalTypePicker";const MJ=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:F1.options,getOptionLabel:F1.getOptionLabel,isOptionEqualToValue:F1.isOptionEqualToValue,findByInput:F1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});MJ.propTypes={name:l.string,label:l.string,children:l.node};MJ.displayName="P03OrderTypePicker";const _J=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:N1.options,getOptionLabel:N1.getOptionLabel,isOptionEqualToValue:N1.isOptionEqualToValue,findByInput:N1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});_J.propTypes={name:l.string,label:l.string,children:l.node};_J.displayName="P03ReportTypePicker";const LJ=a.memo(e=>{const{forNewCustomer:t,onSubmit:n,onDebugSubmit:o,...s}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:n,...s,style:{paddingBottom:"0rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(rp,{name:"SalType",label:"",fullWidth:!0,validate:!0,clearable:!0})})]}),r.jsx(xr,{label:"",name:"retail",defaultValue:!1,size:"small"}),r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:t?"":"",leftComponent:r.jsx(ho,{name:"SCustID",size:"small",virtualize:!0,forNew:t,disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""}),rightComponent:r.jsx(ho,{name:"ECustID",size:"small",virtualize:!0,forNew:t,disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(Tl,{name:"SAreaID",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(Tl,{name:"EAreaID",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(sc,{name:"SLineID",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(sc,{name:"ELineID",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(xr,{label:"",name:"InclTest",defaultValue:!0,variant:"outlined",size:"small",fullWidth:!0})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(_J,{name:"RptType",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(MJ,{name:"OrdName",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ex,{name:"OrdSeq",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(FJ,{name:"Rate",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:1,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:n,onDebugSubmit:o})})})]})})]})})})})});LJ.propTypes={readWorking:l.bool,forNewCustomer:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};LJ.displayName="P03Form";const ZAe=()=>{const e=Ke(),t=a.useContext(KAe),n=vt(`
			SDate,
			EDate,
			SalType,
			retail,
			SCustID,
			ECustID,
			SAreaID,
			EAreaID,
			SLineID,
			ELineID,
			InclTest,
			RptType,
			OrdName,
			OrdSeq,
			Rate,
			outputType,
			`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]),i=Ue({name:"retail",control:e.control});return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(LJ,{forNewCustomer:i,onSubmit:o,onDebugSubmit:s})})})};ZAe.displayName="P03FormContainer";const eNe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(ZAe,{})]});eNe.displayName="P03Frame";const tNe=a.createContext(),$J=[{id:1,label:""},{id:2,label:"/"}],nNe=e=>$J.find(t=>t.id==e),o5t=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},s5t=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),a5t=e=>$J.find(t=>t.id==e),i5t=()=>nNe(1),_1={options:$J,getOptionLabel:o5t,isOptionEqualToValue:s5t,getOptionById:nNe,findByInput:a5t,getDefaultOption:i5t},l5t=e=>{var D;const{outputType:t,SDate:n,EDate:o,retail:s,SCustID:i,ECustID:c,SProdID:u,EProdID:d,InclTest:p,RptType:m,OrdName:f,OrdSeq:h,Rate:g,Source:x,...y}=e;return console.log("ignore props",s),{JobName:"P09",Action:((D=t==null?void 0:t.id)==null?void 0:D.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",SCustID:(i==null?void 0:i.CustID)||"",ECustID:(c==null?void 0:c.CustID)||"",SProdID:(u==null?void 0:u.ProdID)||"",EProdID:(d==null?void 0:d.ProdID)||"",InclTest:p?"Y":"N",Source:x==null?void 0:x.id,RptType:m==null?void 0:m.id,OrdName:f==null?void 0:f.id,OrdSeq:h==null?void 0:h.id,Rate:g==null?void 0:g.id,...y}},Pue={transformForSubmitting:l5t},c5t=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"P09"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebP09Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...Pue.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...Pue.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},BJ=[{id:1,label:""},{id:2,label:""},{id:3,label:""},{id:4,label:"2+3"},{id:5,label:"1+2+3"}],u5t=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},d5t=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),rNe=e=>BJ.find(t=>t.id===e),p5t=e=>BJ.find(t=>t.id==e),m5t=()=>rNe(1),L1={options:BJ,getOptionLabel:u5t,isOptionEqualToValue:d5t,getOptionById:rNe,findByInput:p5t,getDefaultOption:m5t},WJ=[{id:1,label:""},{id:2,label:""},{id:3,label:""},{id:4,label:""}],f5t=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},h5t=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),oNe=e=>WJ.find(t=>t.id===e),g5t=e=>WJ.find(t=>t.id==e),b5t=()=>oNe(1),$1={options:WJ,getOptionLabel:f5t,isOptionEqualToValue:h5t,getOptionById:oNe,findByInput:g5t,getDefaultOption:b5t},UJ=[{id:1,label:"/"},{id:2,label:"/"}],x5t=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},y5t=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),sNe=e=>UJ.find(t=>t.id===e),C5t=e=>UJ.find(t=>t.id==e),D5t=()=>sNe(1),B1={options:UJ,getOptionLabel:x5t,isOptionEqualToValue:y5t,getOptionById:sNe,findByInput:C5t,getDefaultOption:D5t},aNe=({children:e})=>{const t=c5t(),n=at({defaultValues:{SDate:null,EDate:null,Source:L1.getDefaultOption(),SProdID:null,EProdID:null,RptType:_1.getDefaultOption(),OrdName:$1.getDefaultOption(),OrdSeq:$d.getDefaultOption(),Rate:B1.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(tNe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};aNe.propTypes={children:l.oneOfType([l.array,l.element])};const qJ=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:B1.options,getOptionLabel:B1.getOptionLabel,isOptionEqualToValue:B1.isOptionEqualToValue,findByInput:B1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});qJ.propTypes={name:l.string,label:l.string,children:l.node};qJ.displayName="P09CalTypePicker";const VJ=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:L1.options,getOptionLabel:L1.getOptionLabel,isOptionEqualToValue:L1.isOptionEqualToValue,findByInput:L1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});VJ.propTypes={name:l.string,label:l.string,children:l.node};VJ.displayName="P09DataSourcePicker";const zJ=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:$1.options,getOptionLabel:$1.getOptionLabel,isOptionEqualToValue:$1.isOptionEqualToValue,findByInput:$1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});zJ.propTypes={name:l.string,label:l.string,children:l.node};zJ.displayName="P09OrderTypePicker";const HJ=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:_1.options,getOptionLabel:_1.getOptionLabel,isOptionEqualToValue:_1.isOptionEqualToValue,findByInput:_1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});HJ.propTypes={name:l.string,label:l.string,children:l.node};HJ.displayName="P09ReportTypePicker";const GJ=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,forNewCustomer:o,...s}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...s,style:{paddingBottom:"0rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{autoFocus:!0,name:"SDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(VJ,{label:"",name:"Source",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(xr,{label:"",name:"retail",defaultValue:!1,size:"small"}),r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:o?"":"",leftComponent:r.jsx(ho,{name:"SCustID",size:"small",virtualize:!0,forNew:o,disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""}),rightComponent:r.jsx(ho,{name:"ECustID",size:"small",virtualize:!0,forNew:o,disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"SProdID",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"EProdID",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(xr,{label:"",name:"InclTest",defaultValue:!0,variant:"outlined",size:"small",fullWidth:!0})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(HJ,{label:"",name:"RptType",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(zJ,{name:"OrdName",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ex,{name:"OrdSeq",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(qJ,{name:"Rate",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:1.8,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});GJ.propTypes={forNewCustomer:l.bool,readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};GJ.displayName="P09Form";const iNe=()=>{const e=Ke(),t=a.useContext(tNe),n=vt(`
			SDate,
			EDate,
			Source,
			retail,
			SCustID,
			ECustID,
			SProdID,
			EProdID,
			InclTest,
			RptType,
			OrdName,
			OrdSeq,
			Rate,
			outputType,
			`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]),i=Ue({name:"retail",control:e.control});return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(GJ,{forNewCustomer:i,onSubmit:o,onDebugSubmit:s})})})};iNe.displayName="P09FormContainer";const lNe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(iNe,{})]});lNe.displayName="P09Frame";const S5t=e=>{var m;const{outputType:t,SDate:n,EDate:o,SProdID:s,EProdID:i,RptType:c,OrdName:u,OrdSeq:d,...p}=e;return{JobName:"P10",Action:((m=t==null?void 0:t.id)==null?void 0:m.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",SProdID:(s==null?void 0:s.ProdID)||"",EProdID:(i==null?void 0:i.ProdID)||"",RptType:c==null?void 0:c.id,OrdName:u==null?void 0:u.id,OrdSeq:d==null?void 0:d.id,...p}},Rue={transformForSubmitting:S5t},v5t=()=>{var h,g;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"P10"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebP10Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(x=>{var D,v;console.log("onSubmit",x);const y={...Rue.transformForSubmitting(x),DeptId:n.CurDeptID};i.show({data:y,url:c,title:`${(D=s.menuItemSelected)==null?void 0:D.JobID} ${(v=s.menuItemSelected)==null?void 0:v.JobName}`})},[(h=s.menuItemSelected)==null?void 0:h.JobID,(g=s.menuItemSelected)==null?void 0:g.JobName,i,n.CurDeptID,c]),p=a.useCallback(x=>{console.log("onSubmit",x);const y={...Rue.transformForSubmitting(x),DeptId:n.CurDeptID};console.log("data",y),u.open(c,y)},[n.CurDeptID,c,u]),m=a.useCallback(x=>{console.error("onSubmitError",x)},[]),f=a.useCallback(({setValue:x})=>y=>{console.log("onBeforeSubmit",y),x("outputType",y)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d,onSelect:f}},cNe=a.createContext(),KJ=[{id:1,label:""},{id:2,label:""},{id:3,label:""}],uNe=e=>KJ.find(t=>t.id==e),j5t=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},I5t=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),T5t=e=>KJ.find(t=>t.id==e),O5t=()=>uNe(1),W1={options:KJ,getOptionLabel:j5t,isOptionEqualToValue:I5t,getOptionById:uNe,findByInput:T5t,getDefaultOption:O5t},QJ=[{id:1,label:""},{id:2,label:""}],E5t=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},P5t=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),dNe=e=>QJ.find(t=>t.id==e),R5t=e=>QJ.find(t=>t.id==e),w5t=()=>dNe(1),U1={options:QJ,getOptionLabel:E5t,isOptionEqualToValue:P5t,getOptionById:dNe,findByInput:R5t,getDefaultOption:w5t},pNe=({children:e})=>{const t=v5t(),n=at({defaultValues:{SDate:null,EDate:null,SProdID:null,EProdID:null,RptType:W1.getDefaultOption(),OrdName:U1.getDefaultOption(),OrdSeq:$d.getDefaultOption(),Top:"",outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(cNe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};pNe.propTypes={children:l.oneOfType([l.array,l.element])};const YJ=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:U1.options,getOptionLabel:U1.getOptionLabel,isOptionEqualToValue:U1.isOptionEqualToValue,findByInput:U1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});YJ.propTypes={name:l.string,label:l.string,children:l.node};YJ.displayName="P10OrderTypePicker";const JJ=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:W1.options,getOptionLabel:W1.getOptionLabel,isOptionEqualToValue:W1.isOptionEqualToValue,findByInput:W1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});JJ.propTypes={name:l.string,label:l.string,children:l.node};JJ.displayName="P10ReportTypePicker";const XJ=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"SProdID",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"EProdID",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(JJ,{name:"RptType",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(YJ,{name:"OrdName",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ex,{name:"OrdSeq",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx($e,{name:"Top",label:"",size:"small",InputProps:{startAdornment:r.jsx(Il,{position:"start",children:""}),endAdornment:r.jsx(Il,{position:"end",children:""})},inputProps:{style:{textAlign:"right"},inputMode:"numeric",pattern:"[0-9]*"}})})]}),r.jsx(ve,{mt:1.8,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});XJ.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSelect:l.func,onSubmit:l.func,onExport:l.func,onDebugSubmit:l.func};XJ.displayName="P10Form";const mNe=()=>{const e=Ke(),t=a.useContext(cNe),n=vt(`
			SDate,
			EDate,
			SProdID,
			EProdID,
			RptType,
			OrdName,
			OrdSeq,
			Top,
			outputType,
			`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(XJ,{onDebugSubmit:s,onSubmit:o})})})};mNe.displayName="P10FormContainer";const fNe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(mNe,{})]});fNe.displayName="P10Frame";const k5t=e=>{var u;const{outputType:t,SDate:n,EDate:o,STime:s,ETime:i,...c}=e;return{JobName:"P15",Action:((u=t==null?void 0:t.id)==null?void 0:u.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",STime:Re.formatDate(s,_o.DATEFNS_HOUR)||"",ETime:Re.formatDate(i,_o.DATEFNS_HOUR)||"",...c}},wue={transformForSubmitting:k5t},A5t=()=>{var h,g;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"P15"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebP15Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(x=>{var D,v;console.log("onSubmit",x);const y={...wue.transformForSubmitting(x),DeptId:n.CurDeptID};i.show({data:y,url:c,title:`${(D=s.menuItemSelected)==null?void 0:D.JobID} ${(v=s.menuItemSelected)==null?void 0:v.JobName}`})},[(h=s.menuItemSelected)==null?void 0:h.JobID,(g=s.menuItemSelected)==null?void 0:g.JobName,i,n.CurDeptID,c]),p=a.useCallback(x=>{console.log("onSubmit",x);const y={...wue.transformForSubmitting(x),DeptId:n.CurDeptID};console.log("data",y),u.open(c,y)},[n.CurDeptID,c,u]),m=a.useCallback(x=>{console.error("onSubmitError",x)},[]),f=a.useCallback(({setValue:x})=>y=>{console.log("onBeforeSubmit",y),x("outputType",y)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d,onSelect:f}},hNe=a.createContext(),gNe=({children:e})=>{const t=A5t(),n=at({defaultValues:{SDate:null,EDate:null,STime:null,ETime:null,outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(hNe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};gNe.propTypes={children:l.oneOfType([l.array,l.element])};const ZJ=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:8,children:r.jsx(ct,{legend:" (00~23)",leftComponent:r.jsx(Wb,{name:"STime",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:"",views:["hours"],format:"HH"}),rightComponent:r.jsx(Wb,{name:"ETime",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:"",views:["hours"],format:"HH"})})})]}),r.jsx(ve,{mt:1.8,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});ZJ.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSelect:l.func,onSubmit:l.func,onExport:l.func,onDebugSubmit:l.func};ZJ.displayName="P15Form";const bNe=()=>{const e=Ke(),t=a.useContext(hNe),n=vt(`
			SDate,
			EDate,
			STime,
			ETime,
			outputType,
			`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(ZJ,{onDebugSubmit:s,onSubmit:o})})})};bNe.displayName="P15FormContainer";const xNe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(bNe,{})]});xNe.displayName="P15Frame";const N5t=r.jsxs(r.Fragment,{children:[r.jsx(yt,{path:"P02",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(AAe,{children:r.jsx(FAe,{})})})})}),r.jsx(yt,{path:"P03",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(XAe,{children:r.jsx(eNe,{})})})})}),r.jsx(yt,{path:"P04",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(_Ae,{children:r.jsx(BAe,{})})})})}),r.jsx(yt,{path:"P07",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(jJ,{children:r.jsx(TJ,{})})})})}),r.jsx(yt,{path:"P08",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(EJ,{children:r.jsx(wJ,{})})})})}),r.jsx(yt,{path:"P09",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(aNe,{children:r.jsx(lNe,{})})})})}),r.jsx(yt,{path:"P10",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(pNe,{children:r.jsx(fNe,{})})})})}),r.jsx(yt,{path:"P15",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(gNe,{children:r.jsx(xNe,{})})})})})]}),F5t={TITLE:0,ALIAS:1},M5t={1:"1",2:"2",3:"3",4:"4"},lf={TABS:F5t,DEFAULT_ALIAS_VALUES:M5t},_5t=Object.freeze({USER:"user",DEPT:"dept",COMP:"comp",APP:"app"}),L5t=Object.freeze({CMS_GROUP_ALIAS:"cms-group-alias"}),CB={SCOPES:_5t,KEYS:L5t},$5t=e=>Object.entries(e).map(([t,n])=>({id:t,label:n})),B5t=e=>e.reduce((t,{id:n,label:o})=>(t[n]=o,t),{}),MI={transformForReading:$5t,transformForGridSubmit:B5t};function yNe(){const e=a.useContext(Be),{httpGetAsync:t}=Zn(),[n,o]=a.useState(MI.transformForReading(lf.DEFAULT_ALIAS_VALUES)),s=a.useCallback(async()=>{try{const{status:i,payload:c,error:u}=await t({url:"v1/dept/settings",bearer:e.token,params:{id:CB.KEYS.CMS_GROUP_ALIAS}});if(i.success){const d=MI.transformForReading(c);o(d)}}catch(i){console.error(i)}},[e.token,t]);return[n,s]}const mF=a.createContext(),LR=({children:e,...t})=>{const[n,o]=yNe();En(()=>{o()},[]);const s=a.useMemo(()=>({groupTypeAlias:n,...t}),[n,t]);return r.jsx(mF.Provider,{value:s,children:e})};LR.propTypes={children:l.oneOfType([l.array,l.object])};const W5t=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),eX=a.memo(e=>{const{canCreate:t,lockRows:n,gridRef:o,data:s,loading:i,height:c=300,createRow:u,onChange:d,onActiveCellChange:p,onSelectionChange:m,columns:f}=e,h=a.useMemo(()=>c+(n||!t?48:0),[t,c,n]);return i?r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(Ko,{height:c})}):i==null?!1:r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(jt,{children:r.jsx(dr,{lockRows:n,ref:o,rowKey:"id",height:h,value:s,onChange:d,onActiveCellChange:p,onSelectionChange:m,createRow:u,addRowsComponent:t?go:null,disableExpandSelection:!0,contextMenuComponent:W5t})})})});eX.propTypes={canCreate:l.bool,lockRows:l.bool,gridRef:l.func,vreateRow:l.func,drawerOpen:l.bool,data:l.array,loading:l.bool,height:l.number,onChange:l.func,onActiveCellChange:l.func,onSelectionChange:l.func,createRow:l.func,isPersisted:l.func,columns:l.array};eX.displayName="P13Grid";const fF=a.createContext(),CNe=()=>{const{height:e}=Wt(),t=a.useContext(fF),n=a.useMemo(()=>t.codeEditor.buildGridChangeHandler({onCreate:t.codeEditor.handleCreate,onUpdate:t.codeEditor.handleUpdate,onDelete:t.canDelete?t.codeEditor.handleConfirmDelete:null,onDuplicatedError:t.codeEditor.handleDuplicatedError}),[t]),o=a.useMemo(()=>t.gridMeta.buildSelectionChangeHandler(),[t.gridMeta]);return r.jsx(Kn.Provider,{value:{...t.grid,...t.gridMeta},children:r.jsx(eX,{lockRows:t.grid.readOnly,gridRef:t.gridMeta.setGridRef,data:t.grid.gridData,height:e-176,loading:t.grid.gridLoading,onChange:n,onActiveCellChange:t.gridMeta.handleActiveCellChange,onSelectionChange:o,canCreate:t.canCreate,createRow:t.codeEditor.createRow})})};CNe.displayName="P13GridContainer";const DNe=e=>{const{...t}=e,n=a.useContext(fF);return r.jsx(Ts,{unlockedLabel:"",locked:n.grid.readOnly,onChange:n.grid.toggleReadOnly,disabled:!n.canUpdate,...t})};DNe.displayName="P13LockRowsSwitchContainer";const tX=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(Vo),s=a.useContext(fF),{moduleAuthorityLoading:i,canPrint:c}=s;return i||!c?!1:r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(cs,{}),sx:{fontWeight:600},onClick:o.promptPrint,color:"neutral",...n,children:""})}));tX.propTypes={};tX.displayName="P13PrintButtonContainer";const nX=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(kn,{borderRadius:1,ref:t,bgcolor:Nn.TOOLBAR,LeftComponent:tX,RightComponent:DNe,...n})})}));nX.propTypes={};nX.displayName="P13Toolbar";const rX=a.memo(()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsxs(jt,{children:[r.jsx(nX,{}),r.jsx(CNe,{})]})]}));rX.propTypes={drawerOpen:l.bool,boxStyles:l.oneOfType([l.array,l.object])};rX.displayName="P13Frame";const SNe=()=>r.jsxs(ws,{tableName:"HotelCod",children:[r.jsx(rX,{}),r.jsx(Is,{})]});SNe.displayName="P13Frame";const U5t=()=>{const{token:e}=a.useContext(Be),t=a.useContext(cr),n=Bt({moduleId:"P13"}),o=yr({gridId:"P13",keyColumn:"CodeID",otherColumns:"CodeData"}),s=a.useMemo(()=>[{...Pe.keyColumn("CodeID",kt({continuousUpdates:!1,maxLength:8})),disabled:o.isPersisted,title:""},{...Pe.keyColumn("CodeData",kt({continuousUpdates:!1,maxLength:20})),title:"",grow:4,disabled:o.readOnly}],[o.isPersisted,o.readOnly]),i=hr({columns:s,data:o.gridData,lastCell:Xn.CREATE_ROW}),c=Ga({baseUri:"v1/cms/hotels",token:e,grid:o,gridMeta:i});return En(()=>{t.cancelAction(),c.load()},[]),{...t,...n,grid:o,gridMeta:i,codeEditor:c}},vNe=e=>{const{children:t}=e,n=U5t();return r.jsx(fF.Provider,{value:{...n},children:t})};vNe.propTypes={children:l.oneOfType([l.array,l.object])};const yu=a.createContext(),oX=e=>{const{name:t="q",...n}=e,o=Ke(),s=a.useContext(yu),i=a.useRef(null),c=a.useMemo(()=>o.handleSubmit(s.onSearchSubmit,s.onSearchSubmitError),[s.onSearchSubmit,s.onSearchSubmitError,o]),u=ru({inputRef:i,onChange:p=>{o.setValue(t,p)}});$t("ctrl+F12",u.handleFocus,{enableOnFormTags:!0});const d=$t("esc",u.handleClear,{enableOnFormTags:!0});return r.jsx("form",{onSubmit:c,children:r.jsx("div",{ref:d,children:r.jsx(su,{autoFocus:!0,name:t,placeholder:"(ctrl+F12)",mobilePlaceholder:"",borderRadius:"8px",responsive:!0,inputRef:i,onClear:u.handleClear})})})};oX.propTypes={name:l.string};oX.displayName="P14SearchFieldContainer";const sX=a.memo(e=>{var s,i;const{anchor:t="right",...n}=e,o=a.useContext(yu);return r.jsxs(Eo,{anchor:t,open:o.sideDrawerOpen,onClose:o.handleSideDrawerClose,slotProps:{backdrop:{sx:[ur.BACKDROP_TRANSPARENT]}},...n,children:[r.jsx(pn,{label:"",children:(s=o.itemData)==null?void 0:s.WriteDate_N}),r.jsx(pn,{label:"",children:(i=o.itemData)==null?void 0:i.Writer_N})]})});sX.propTypes={anchor:l.string};sX.displayName="P14Drawer";const q5t=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),aX=a.memo(e=>{const{getRowKey:t,createRow:n,readOnly:o,gridRef:s,data:i,onChange:c,getRowClassName:u,height:d=300,bearer:p,...m}=e,f=a.useCallback(({rowData:h})=>({...h,Pkey:zn()}),[]);return r.jsx(dr,{ref:s,rowKey:t,lockRows:o,height:d+(o?48:0),value:i,onChange:c,addRowsComponent:go,disableExpandSelection:!0,contextMenuComponent:q5t,createRow:n,duplicateRow:f,rowClassName:u,...m})});aX.propTypes={getRowKey:l.func,onChange:l.func};aX.displayName="P14QuoteGrid";const jNe=e=>{const{...t}=e,n=a.useContext(yu),o=a.useContext(Be),{height:s}=Wt(),i=a.useContext(Lr),c=a.useMemo(()=>n.buildGridChangeHandler({gridMeta:i.gridMeta,onUpdateRow:n.onUpdateRow}),[n,i.gridMeta]),u=a.useMemo(()=>s-250,[s]);return r.jsx(Kn.Provider,{value:{...n.grid,...i.gridMeta,readOnly:i.readOnly},children:r.jsx(aX,{gridRef:i.gridMeta.setGridRef,readOnly:i.readOnly,data:n.gridData,onChange:c,onActiveCellChange:i.gridMeta.handleActiveCellChange,bearer:o.token,height:u,getRowKey:n.getRowKey,createRow:n.createRow,...t})})};jNe.displayName="P14QuoteGridContainer";const iX=a.memo(e=>{const{readError:t,data:n,readWorking:o,itemDataReady:s,creating:i,editing:c,updating:u,slotProps:d,...p}=e;return r.jsxs(r.Fragment,{children:[o&&r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",minHeight:"30em",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}),t&&r.jsx(lo,{error:t,...d==null?void 0:d.error}),s&&r.jsx(r.Fragment,{children:r.jsx(Pt,{pt:1,children:r.jsxs(j,{container:!0,columns:24,spacing:1,children:[r.jsx(j,{item:!0,md:5,children:r.jsx($e,{typo:!0,name:"ItmID",label:"",autoFocus:i,fullWidth:!0,disabled:u,required:!0,rules:{required:""},slotProps:{htmlInput:{maxLength:2}}})}),r.jsx(j,{item:!0,md:9,children:r.jsx($e,{typo:!0,name:"ItmData",label:"",autoFocus:u,fullWidth:!0,required:!0,rules:{required:""}})}),r.jsx(j,{item:!0,xs:24,children:r.jsx(jNe,{})})]})})})]})});iX.propTypes={readWorking:l.bool,readError:l.object,data:l.object,itemDataReady:l.bool,slotProps:l.object};iX.displayName="P14DialogForm";const INe=e=>{const{...t}=e,n=Ue(),o=a.useContext(yu),{peekProds:s,importProdsWorking:i,ipState:{loading:c,totalElements:u}}=o,d=Gr(n,300),[p,m]=a.useState(),f=a.useMemo(()=>JSON.stringify(d),[d]);a.useEffect(()=>{f!==p&&(m(f),console.log("criteria changed",d),s(d))},[d,p,f,s]);const h=a.useMemo(()=>Gn.isAllPropsEmpty(n)?"":u?`(${u})`:"()",[n,u]),g=a.useMemo(()=>!u,[u]);return r.jsx(dt,{type:"submit",disabled:g,size:"small",responsive:!0,loading:c||i,sx:{fontWeight:600},...t,children:h})};INe.displayName="P14ImportProdsButtonContainer";const lX=a.memo(e=>{const{handleSubmit:t,...n}=e;return r.jsx("form",{onSubmit:t,...n,children:r.jsxs(jt,{pt:1,children:[r.jsx(j,{container:!0,spacing:1,columns:24,children:r.jsx(j,{item:!0,xs:24,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"sprod",label:"",size:"small",virtualize:!0,autoFocus:!0,typeToSearchText:",",optionLabelSize:"md",disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"eprod",label:"",size:"small",virtualize:!0,typeToSearchText:",",optionLabelSize:"md",disableOpenOnInput:!0,selectOnFocus:!0,slotProps:{paper:{sx:{width:360}}},borderless:!0,placeholder:""})})})}),r.jsx(kn,{align:"right",children:r.jsx(jr,{title:"shift+Enter",children:r.jsx(INe,{variant:"contained",color:"primary"})})})]})})});lX.propTypes={handleSubmit:l.func};lX.displayName="P14LoadProdsForm";const cX=a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(yu),{importProdsDialogOpen:s}=o,i=at({defaultValues:{}}),c=i.handleSubmit(o.onImportProdsSubmit,o.onImportProdsSubmitError);return r.jsx(Er,{ref:t,responsive:!0,fullWidth:!0,maxWidth:"sm",title:"",open:o.importProdsDialogOpen,onClose:o.cancelImportProds,hideCloseButton:!1,confirmTooltip:"shift+Enter",...n,children:r.jsx(Ye,{...i,children:r.jsx(Ct,{...o.loadProdFormMeta,children:r.jsx(lX,{handleSubmit:c})})})})});cX.propTypes={};cX.displayName="P14ImportProdsDialogContainer";const uX=a.memo(a.forwardRef((e,t)=>{const{onLoadProds:n,onSave:o,onCancel:s,loading:i,...c}=e;return r.jsxs(a.Fragment,{ref:t,...c,children:[r.jsx(dt,{responsive:!0,onClick:n,endIcon:r.jsx(Kb,{}),color:"primary",variant:"outlined",children:""}),r.jsx(dt,{responsive:!0,onClick:s,color:"warning",variant:"outlined",...c,children:""}),r.jsx(dt,{responsive:!0,onClick:o,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:i,children:""}),r.jsx(cX,{})]})}));uX.displayName="P14DialogEditToolbar";uX.propTypes={onCancel:l.func,onSave:l.func,onLoadProds:l.func,loading:l.bool};const TNe=e=>{const{...t}=e,n=Ke(),o=a.useContext(yu),{canPrint:s}=o,i=n.handleSubmit(o.onPrintSubmit,o.onPrintSubmitError);return s?r.jsx(xn,{onSubmit:i,...t}):!1};TNe.displayName="P14ExportButtonContainer";const ONe=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,onDelete:o,onPrint:s,onSideDrawerOpen:i,...c}=e;return r.jsxs(a.Fragment,{ref:t,...c,children:[s&&r.jsx(r.Fragment,{children:r.jsx(TNe,{title:""})}),o&&r.jsx(hn,{startIcon:r.jsx(Fs,{}),color:"secondary",onClick:o,children:""}),n&&r.jsx(hn,{startIcon:r.jsx(bo,{}),color:"primary",onClick:n,children:""}),r.jsx(jr,{title:"",children:r.jsx(br,{onClick:i,size:"small",children:r.jsx(Po,{})})})]})}));ONe.propTypes={onEdit:l.func,onDelete:l.func,onPrint:l.func,onSideDrawerOpen:l.func};const ENe=e=>{const{...t}=e,n=a.useContext(yu),o=Ke(),s=o.handleSubmit(n.onPrintSubmit,n.onPrintSubmitError);return n.itemDataReady?n.editing?r.jsx(uX,{onLoadProds:n.promptImportProds,onSave:o.handleSubmit(n.onEditorSubmit,n.onEditorSubmitError),onCancel:n.updating?n.confirmReturnReading:n.confirmQuitCreating,loading:n.editWorking,...t}):r.jsx(ONe,{onEdit:n.canUpdate?n.promptUpdating:null,onDelete:n.canDelete?n.confirmDelete:null,onPrint:n.canPrint?s:null,onSideDrawerOpen:n.handleSideDrawerOpen,...t}):!1};ENe.displayName="P14DialogToolbarContainer";const PNe=a.forwardRef((e,t)=>{const{...n}=e,{height:o}=Wt(),s=a.useMemo(()=>o-120,[o]),i=Ke(),{reset:c}=i,u=a.useContext(yu),d=Ue({name:"ItmID",control:i.control}),p=Ue({name:"ItmData",control:i.control}),m=Qr({height:s,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),f=a.useMemo(()=>u.creating?"":u.updating?"":"",[u.creating,u.updating]),h=a.useMemo(()=>u.creating?u.confirmQuitCreating:u.updating?u.confirmQuitUpdating:u.reading?u.cancelAction:null,[u.cancelAction,u.confirmQuitCreating,u.confirmQuitUpdating,u.creating,u.reading,u.updating]),g=a.useCallback(()=>{u.editing&&i.handleSubmit(u.onEditorSubmit,u.onEditorSubmitError)()},[i,u.editing,u.onEditorSubmit,u.onEditorSubmitError]);$t(["Control+Enter"],()=>setTimeout(g),{enableOnFormTags:!0});const x=a.useMemo(()=>!u.editing,[u.editing]),y=a.useMemo(()=>[{...Pe.keyColumn("prod",or(ls,{name:"prod",packageType:"_",forId:!0,disableClearable:!0,slotProps:{paper:{sx:{width:360}}}})),title:"",minWidth:130,maxWidth:150},{...Pe.keyColumn("ProdData_N",kt({continuousUpdates:!1})),title:"",disabled:!0,grow:2},...u.duplicating?[{...Pe.keyColumn("Repeat_N",kt({continuousUpdates:!1})),minWidth:38,maxWidth:38,title:"",disabled:!0,cellClassName:"star"}]:[],...u.duplicating?[{...Pe.keyColumn("Force",Wi({size:"medium"})),title:"",minWidth:40,maxWidth:40,disabled:x||u.forceDisabled}]:[],...u.duplicating?[{...Pe.keyColumn("OItmID_N",kt({continuousUpdates:!1})),title:"",minWidth:40,maxWidth:40,disabled:!0}]:[],...u.duplicating?[{...Pe.keyColumn("OItmData_N",kt({continuousUpdates:!1})),title:"",minWidth:120,maxWidth:120,disabled:!0}]:[]],[u.duplicating,u.forceDisabled,x]),D=hr({data:u.grid.gridData,grid:u.grid,columns:y,createRow:u.createRow,skipDisabled:!0,lastCell:Xn.CREATE_ROW}),v=a.useCallback(()=>{if(!d){ae.error(""),i.setFocus("ItmID");return}if(!p){ae.error(""),i.setFocus("ItmData");return}D.setActiveCell({col:0,row:0})},[d,p,D,i]),T=vt(`
		ItmID,
		ItmData,
		`,{lastField:v});return mn(()=>{u.itemDataReady&&(console.log("p14 form reset",u.itemData),c(u.itemData))},[u.itemData,u.itemDataReady]),r.jsxs(Er,{ref:t,title:f,responsive:!0,fullWidth:!0,maxWidth:"md",TitleButtonsComponent:ENe,open:u.itemViewOpen,onClose:h,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[{minHeight:"30em",paddingTop:0},m.scroller],...n,children:[r.jsx(Ye,{...i,children:r.jsx("form",{onSubmit:g,children:r.jsx(Ct,{...T,gridMeta:D,readOnly:x,children:r.jsx(iX,{creating:u.creating,editing:u.editing,updating:u.updating,readWorking:u.readWorking,readError:u.readError,data:u.itemData,itemDataReady:u.itemDataReady})})})}),r.jsx(sX,{})]})});PNe.displayName="P14DialogContainer";const hF=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:4,sm:4,md:4,lg:4,...t})};hF.propTypes={loading:l.bool,children:l.oneOfType([l.node])};hF.displayName="P14IdColumn";const gF=e=>{const{...t}=e;return r.jsx(wt,{pr:1,xs:9,sm:9,md:9,lg:10,...t})};gF.propTypes={loading:l.bool,children:l.oneOfType([l.node])};gF.displayName="P14NameColumn";const dX=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsxs(io,{ref:t,...n,children:[r.jsx(Hn,{}),r.jsx(hF,{children:""}),r.jsx(gF,{children:""})]})}));dX.propTypes={};dX.displayName="P14ListHeader";const RNe=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(yu),s=a.useMemo(()=>"",[]);return o.canCreate?r.jsx(dt,{ref:t,variant:"contained",startIcon:r.jsx(Ao,{}),onClick:o.promptCreating,sx:{fontWeight:600},...n,children:s}):!1}));RNe.displayName="P14CreateButtonContainer";const wNe=()=>{const e=a.useContext(yu);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};wNe.displayName="P14FetchResultLabelContainer";const kNe=a.memo(()=>r.jsx(r.Fragment,{children:r.jsx(RNe,{})}));kNe.displayName="LeftButtons";const ANe=a.memo(a.forwardRef(({...e},t)=>r.jsx(kn,{pl:0,pr:1,alignItems:"flex-end",ref:t,LeftComponent:kNe,RightComponent:wNe,...e})));ANe.displayName="P14ListViewToolbar";l.bool,l.oneOfType([l.node]);l.bool,l.oneOfType([l.node]);l.bool,l.oneOfType([l.node]);const pX=a.memo(e=>{const{index:t,style:n,value:o,loading:s,onClick:i}=e;return r.jsx("div",{style:n,children:r.jsxs(yo,{borderBottom:!0,onClick:i,children:[r.jsx(na,{}),r.jsx(jt,{children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t}),r.jsx(hF,{children:o==null?void 0:o.ItmID}),r.jsx(gF,{children:o==null?void 0:o.ItmData})]})})]})})});pX.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func,confirmResetPword:l.func,promptCopyAuth:l.func};pX.displayName="P14ListRow";const mX=e=>{const t=a.useContext(yu),{isItemLoading:n}=t,{index:o,...s}=e,i=a.useMemo(()=>n(o),[o,n]),c=a.useMemo(()=>t.listData[o],[t.listData,o]);return r.jsx(pX,{index:o,loading:i,value:c,onClick:u=>t.handleSelect(u,c),...s})};mX.propTypes={index:l.number,data:l.object};mX.displayName="P14ListRowContainer";const NNe=()=>{const e=a.useContext(yu),{loadList:t}=e,n=Ke(),{getValues:o,setValue:s}=n,{height:i}=Wt(),c=Ue({name:"q",control:n.control}),u=Gr(c,300);En(()=>{e.loadList()},[]),mn(()=>{u!==void 0&&t({params:{q:u},supressLoading:!0})},[u]);const d=a.useMemo(()=>i?i-150:300,[i]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:mX,height:d,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};NNe.displayName="P14ListViewContainer";const FNe=()=>{const e=at();return r.jsx(Ye,{...e,children:r.jsxs(Ft,{children:[r.jsx(_t,{children:r.jsx(oX,{name:"q"})}),r.jsx(ANe,{}),r.jsx(dX,{}),r.jsx(NNe,{}),r.jsx(PNe,{})]})})};FNe.displayName="P14FrameContainer";const V5t=e=>(e==null?void 0:e.map(({ProdID:t,ProdData:n,...o})=>({Pkey:zn(),prod:{ProdID:t,ProdData:n},ProdData_N:n,Force:!1,...o})))||[],MNe=e=>(e==null?void 0:e.map(({SProdID:t,ProdData_N:n,Force:o,Repeat_N:s,Seq:i,...c})=>({prod:{ProdID:t,ProdData:n},ProdData_N:n,Force:o==="Y",Repeat_N:s?"*":"",Seq:i,...c})))||[],z5t=e=>e.filter(t=>{var n;return(n=t.prod)==null?void 0:n.ProdID}).map(({prod:t,Force:n},o)=>({SProdID:t==null?void 0:t.ProdID,Seq:o+1,Force:n?"Y":""})),H5t=e=>{const{DayItm_S:t,...n}=e;return{prods:MNe(t),...n}},G5t=(e,t)=>{const{ItmID:n,ItmData:o}=e;return{ItmID:n,ItmData:o,...t&&{DayItm_S:z5t(t)}}},K5t=e=>{var t,n;return{prod1:(t=e.sprod)==null?void 0:t.ProdID,prod2:(n=e.eprod)==null?void 0:n.ProdID}},ky={transformForReading:H5t,transformForSubmitting:G5t,transformAsQueryParams:K5t,transformForGridImport:V5t,transformGridForReading:MNe},Q5t=()=>{var ce;const e=a.useContext(ln),t=a.useContext(cr),{itemData:n}=t,o=a.useRef(),{token:s,operator:i}=a.useContext(Be),c=Bt({moduleId:"P14"}),u=Co(),[d,p]=a.useState(),{httpGetAsync:m,httpPostAsync:f,httpPutAsync:h,httpDeleteAsync:g}=Zn(),x=a.useContext(Mr),y=so({url:"v1/pos/daily-report/listing",bearer:s,initialFetchSize:50}),D=a.useCallback(()=>({Pkey:zn(),prod:null,SPrice:"",Force:!1}),[]),v=yr({gridId:"prods",keyColumn:"pkey",createRow:D}),[T,I]=a.useState(!1),P=a.useCallback(async({id:ee,refresh:De=!1})=>{I(!1);try{const ke=De?o.current:ee;De||(o.current=ee,t.startReading("...",{id:ee}));const{status:He,payload:qe,error:Le}=await m({url:"v1/pos/daily-report/listing",bearer:s,params:{id:ke}});if(He.success){const _e=ky.transformForReading(qe.data[0]);t.finishedReading({data:_e}),p(_e),v.initGridData(_e.prods)}else throw Le??new Error("")}catch(ke){t.failedReading(ke)}},[t,m,v,s]),E=a.useCallback(()=>{I(!1);const ee={prods:[]};t.promptCreating({data:ee}),v.initGridData(ee.prods,{fillRows:13})},[t,v]),k=a.useCallback(async({data:ee})=>{const De=t.creating;try{De?t.startCreating():t.startUpdating();const ke=De?f:h,{status:He,error:qe}=await ke({url:"v1/pos/daily-report/listing",data:ee,bearer:s});if(He.success)ae.success(De?"":""),De?(t.finishedCreating(),t.cancelReading()):(t.finishedUpdating(),P({refresh:!0})),y.loadList({refresh:!0});else throw qe??new Error("")}catch(ke){ke.status===409&&ke.data&&(I(!0),v.initGridData(ky.transformGridForReading(ke.data),{fillRows:t.creating})),De?t.failedCreating():t.failedUpdating(),ae.error(`${De?"":""}`,ke)}},[t,v,f,h,y,P,s]),w=a.useCallback(async(ee,De)=>{ee==null||ee.stopPropagation(),t.cancelAction(),P({id:De.ItmID})},[t,P]),A=a.useCallback(()=>{x.confirm({message:"?",onConfirm:()=>{t.cancelAction()}})},[t,x]),F=a.useCallback(()=>{x.confirm({message:"?",onConfirm:()=>{t.cancelAction(),P({refresh:!0})}})},[t,x,P]),_=a.useCallback(()=>{x.confirm({message:"?",onConfirm:()=>{t.cancelUpdating(),P({refresh:!0})}})},[t,x,P]),L=a.useCallback(()=>{x.confirm({message:`${n==null?void 0:n.ItmID}?`,onConfirm:async()=>{try{t.startDeleting(n);const{status:ee,error:De}=await g({url:"v1/pos/daily-report/listing",bearer:s,params:{id:n==null?void 0:n.ItmID}});if(ee.success)t.cancelAction(),ae.success(` ${n==null?void 0:n.ItmID}`),y.loadList({refresh:!0});else throw De||""}catch(ee){t.failedDeleting(ee),console.error("confirmDelete.failed",ee),ae.error("",ee)}}})},[t,x,g,n,y,s]),K=a.useCallback(ee=>{console.log("onSearchSubmit",ee)},[]),z=a.useCallback(ee=>{console.error("onSearchSubmitError",ee)},[]),J=a.useCallback(({rowData:ee})=>{var ke,He;let De={...ee};return De={...De,ProdData_N:((ke=ee==null?void 0:ee.prod)==null?void 0:ke.ProdData)||"",PackData_N:((He=ee==null?void 0:ee.prod)==null?void 0:He.PackData_N)||""},De},[]),Q=a.useCallback(({fromRowIndex:ee,formData:De,newValue:ke,setValue:He,gridMeta:qe,updateResult:Le})=>async(_e,H)=>{var ie,B;const re=ee+H,q=v.gridData[re];console.log(` ${re+1} ...`,_e);let Y={..._e};return((ie=Y.prod)==null?void 0:ie.ProdID)!=((B=q.prod)==null?void 0:B.ProdID)&&(console.log(`prod[${re}] changed`,Y==null?void 0:Y.prod),Y=await J({rowData:Y,formData:De})),Y},[v.gridData,J]),V=a.useCallback(ee=>{console.log("onEditorSubmit",ee);const De=ky.transformForSubmitting(ee,v.gridData);console.log("collected",De),k({data:De})},[v.gridData,k]),W=a.useCallback(ee=>{console.error("onEditorSubmitError",ee)},[]),U=a.useCallback(({rowData:ee,rowIndex:De})=>`${(ee==null?void 0:ee.Pkey)||De}`,[]),X=Or(),[te,se]=a.useState({criteria:null,totalElements:null,loading:!1}),he=a.useCallback(async ee=>{if(!s)throw new Error("token not specified");if(Gn.isAllPropsEmpty(ee)){console.log("criteria is empty"),te.saveKey&&se(De=>({...De,saveKey:null,totalElements:null}));return}se(De=>({...De,loading:!0,criteria:ee}));try{const{status:De,payload:ke,error:He}=await m({url:"v1/pos/daily-report/load-prods",bearer:s,params:{...ky.transformAsQueryParams(ee),pk:1}});if(De.success)se(qe=>{var Le;return{...qe,totalElements:(Le=ke.Select)==null?void 0:Le.Count}});else throw He??new Error("")}catch(De){console.error("peek failed",De),ae.error("",De)}finally{se(De=>({...De,loading:!1}))}},[m,te.saveKey,s]),pe=a.useCallback(async ee=>{console.log("onImportProdsSubmit",ee);try{X.start();const{status:De,payload:ke,error:He}=await m({url:"v1/pos/daily-report/load-prods",bearer:s,params:{...ky.transformAsQueryParams(te.criteria)}});if(De.success){const qe=ke.data;console.log("data",qe),v.initGridData(ky.transformForGridImport(qe),{fillRows:!0}),ae.success(` ${qe.length} `),X.clear()}else throw He??new Error("")}catch(De){X.fail({error:De}),ae.error("",De)}},[m,X,te.criteria,v,s]),ue=a.useCallback(ee=>{console.error("onImportProdsSubmitError",ee)},[]),ge=a.useMemo(()=>`${e.REPORT_URL}/WebP14Rep.aspx`,[e.REPORT_URL]),Ce=yn(),Te=a.useCallback(ee=>{var ke;console.log("onPrintSubmit",ee);const De={...ee.outputType&&{Action:ee.outputType.id},DeptID:i==null?void 0:i.CurDeptID,JobName:"P14",IDs:(ke=t.itemData)==null?void 0:ke.ItmID};console.log("data",De),Ce.open(ge,De)},[(ce=t.itemData)==null?void 0:ce.ItmID,i==null?void 0:i.CurDeptID,ge,Ce]),Ne=a.useCallback(ee=>{console.error("onPrintSubmitError",ee)},[]),xe=a.useCallback(({setValue:ee})=>De=>{console.log("handlePrint",De),ee("outputType",De)},[]),me=a.useCallback(({rowData:ee})=>!ee.Repeat_N,[]),de=vt(`
		sprod,
		eprod,
		typeA,
		catL,
		catM,
		catS
		`);return{...t,...y,...c,selectedInq:d,loadItem:P,handleSelect:w,onSearchSubmit:K,onSearchSubmitError:z,confirmQuitCreating:A,confirmQuitUpdating:F,confirmReturnReading:_,confirmDelete:L,promptCreating:E,onEditorSubmit:V,onEditorSubmitError:W,...v,grid:v,getRowKey:U,importProdsWorking:X.working,promptImportProds:X.prompt,cancelImportProds:X.clear,importProdsDialogOpen:X.active,onImportProdsSubmit:pe,onImportProdsSubmitError:ue,peekProds:he,ipState:te,onPrintSubmit:Te,onPrintSubmitError:Ne,handlePrint:xe,loadProdFormMeta:de,...u,onUpdateRow:Q,createRow:D,forceDisabled:me,duplicating:T}},_Ne=e=>{const{children:t}=e,n=a.useContext(Be),o=Q5t({token:n.token});return r.jsx(yu.Provider,{value:{...o},children:t})};_Ne.propTypes={children:l.oneOfType([l.array,l.object])};const fX=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsx(j,{container:!0,columns:12,spacing:2,children:r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})})}),r.jsx(ve,{mt:1.8,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});fX.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSelect:l.func,onSubmit:l.func,onExport:l.func,onDebugSubmit:l.func};fX.displayName="P22Form";const LNe=a.createContext(),$Ne=()=>{const e=Ke(),t=a.useContext(LNe),n=vt(`
			SDate,
			EDate,
			outputType,
			`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(fX,{onDebugSubmit:s,onSubmit:o})})})};$Ne.displayName="P22FormContainer";const BNe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx($Ne,{})]});BNe.displayName="P22Frame";const Y5t=e=>{var i;const{outputType:t,SDate:n,EDate:o,...s}=e;return{JobName:"P22",Action:((i=t==null?void 0:t.id)==null?void 0:i.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",...s}},kue={transformForSubmitting:Y5t},J5t=()=>{var h,g;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"P22"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebP22Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(x=>{var D,v;console.log("onSubmit",x);const y={...kue.transformForSubmitting(x),DeptId:n.CurDeptID};i.show({data:y,url:c,title:`${(D=s.menuItemSelected)==null?void 0:D.JobID} ${(v=s.menuItemSelected)==null?void 0:v.JobName}`})},[(h=s.menuItemSelected)==null?void 0:h.JobID,(g=s.menuItemSelected)==null?void 0:g.JobName,i,n.CurDeptID,c]),p=a.useCallback(x=>{console.log("onSubmit",x);const y={...kue.transformForSubmitting(x),DeptId:n.CurDeptID};console.log("data",y),u.open(c,y)},[n.CurDeptID,c,u]),m=a.useCallback(x=>{console.error("onSubmitError",x)},[]),f=a.useCallback(({setValue:x})=>y=>{console.log("onBeforeSubmit",y),x("outputType",y)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d,onSelect:f}},WNe=({children:e})=>{const t=J5t(),n=at({defaultValues:{SDate:null,EDate:null,outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(LNe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};WNe.propTypes={children:l.oneOfType([l.array,l.element])};const X5t=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),hX=a.memo(e=>{const{canCreate:t,lockRows:n,gridRef:o,data:s,loading:i,height:c=300,createRow:u,onChange:d,onActiveCellChange:p,onSelectionChange:m,columns:f}=e,h=a.useMemo(()=>c+(n||!t?48:0),[t,c,n]);return i?r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(Ko,{height:c})}):i==null?!1:r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(jt,{children:r.jsx(dr,{lockRows:n,ref:o,rowKey:"id",height:h,value:s,onChange:d,onActiveCellChange:p,onSelectionChange:m,createRow:u,addRowsComponent:t?go:null,disableExpandSelection:!0,contextMenuComponent:X5t})})})});hX.propTypes={canCreate:l.bool,lockRows:l.bool,gridRef:l.func,vreateRow:l.func,drawerOpen:l.bool,data:l.array,loading:l.bool,height:l.number,onChange:l.func,onActiveCellChange:l.func,onSelectionChange:l.func,createRow:l.func,isPersisted:l.func,columns:l.array};hX.displayName="P31Grid";const bF=a.createContext(),UNe=()=>{const{height:e}=Wt(),t=a.useContext(bF),n=a.useMemo(()=>t.codeEditor.buildGridChangeHandler({onCreate:t.codeEditor.handleCreate,onUpdate:t.codeEditor.handleUpdate,onDelete:t.canDelete?t.codeEditor.handleConfirmDelete:null,onDuplicatedError:t.codeEditor.handleDuplicatedError}),[t]),o=a.useMemo(()=>t.gridMeta.buildSelectionChangeHandler(),[t.gridMeta]);return r.jsx(Kn.Provider,{value:{...t.grid,...t.gridMeta},children:r.jsx(hX,{lockRows:t.grid.readOnly,gridRef:t.gridMeta.setGridRef,data:t.grid.gridData,height:e-176,loading:t.grid.gridLoading,onChange:n,onActiveCellChange:t.gridMeta.handleActiveCellChange,onSelectionChange:o,canCreate:t.canCreate,createRow:t.codeEditor.createRow})})};UNe.displayName="P31GridContainer";const qNe=e=>{const{...t}=e,n=a.useContext(bF);return r.jsx(Ts,{unlockedLabel:"",locked:n.grid.readOnly,onChange:n.grid.toggleReadOnly,disabled:!n.canUpdate,...t})};qNe.displayName="P31LockRowsSwitchContainer";const gX=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(Vo),s=a.useContext(bF),{moduleAuthorityLoading:i,canPrint:c}=s;return i||!c?!1:r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(cs,{}),sx:{fontWeight:600},onClick:o.promptPrint,color:"neutral",...n,children:""})}));gX.propTypes={};gX.displayName="P31PrintButtonContainer";const bX=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(kn,{borderRadius:1,ref:t,bgcolor:Nn.TOOLBAR,LeftComponent:gX,RightComponent:qNe,...n})})}));bX.propTypes={};bX.displayName="P31Toolbar";const xX=a.memo(()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsxs(jt,{children:[r.jsx(bX,{}),r.jsx(UNe,{})]})]}));xX.propTypes={drawerOpen:l.bool,boxStyles:l.oneOfType([l.array,l.object])};xX.displayName="P31Frame";const VNe=()=>r.jsxs(ws,{tableName:"CtAreaCod",children:[r.jsx(xX,{}),r.jsx(Is,{})]});VNe.displayName="P31Frame";const Z5t=()=>{const{token:e}=a.useContext(Be),t=a.useContext(cr),n=Bt({moduleId:"P31"}),o=yr({gridId:"P31",keyColumn:"CodeID",otherColumns:"CodeData"}),s=a.useMemo(()=>[{...Pe.keyColumn("CodeID",kt({continuousUpdates:!1,maxLength:8})),disabled:o.isPersisted,title:""},{...Pe.keyColumn("CodeData",kt({continuousUpdates:!1,maxLength:20})),title:"",grow:4,disabled:o.readOnly}],[o.isPersisted,o.readOnly]),i=hr({columns:s,data:o.gridData,lastCell:Xn.CREATE_ROW}),c=Ga({baseUri:"v1/cms/areas",token:e,grid:o,gridMeta:i});return En(()=>{t.cancelAction(),c.load()},[]),{...t,...n,grid:o,gridMeta:i,codeEditor:c}},zNe=e=>{const{children:t}=e,n=Z5t();return r.jsx(bF.Provider,{value:{...n},children:t})};zNe.propTypes={children:l.oneOfType([l.array,l.object])};const e6t=e=>({StdWhere:[],...(e==null?void 0:e.qs)&&{CondData:{QS_ID:`${e.qs}%`,QS_NAME:`%${e.qs}%`}}}),t6t=e=>e.data?e.data.map(t=>{const{CtAreaID:n,CtAreaData:o,...s}=t;return{area:n?{CodeID:n,CodeData:o}:null,...s}}):[],n6t=e=>{const{area:t,...n}=e;return{Other1:t==null?void 0:t.CodeID,...n}},r6t=()=>({area:null}),DB={paramsToJsonData:e6t,transformForReading:t6t,transformForSubmitting:n6t,createRow:r6t},o6t=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),yX=a.memo(e=>{const{canCreate:t,lockRows:n,gridRef:o,data:s,loading:i,height:c=300,onChange:u,onActiveCellChange:d,onSelectionChange:p}=e,m=a.useMemo(()=>c+(n||!t?48:0),[t,c,n]);return i?r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(Ko,{height:c})}):i==null?!1:r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(jt,{children:r.jsx(dr,{lockRows:n,ref:o,rowKey:"id",height:m,value:s,onChange:u,onActiveCellChange:d,onSelectionChange:p,createRow:DB.createRow,addRowsComponent:t?go:null,disableExpandSelection:!0,contextMenuComponent:o6t})})})});yX.propTypes={canCreate:l.bool,lockRows:l.bool,gridRef:l.func,vreateRow:l.func,drawerOpen:l.bool,data:l.array,loading:l.bool,height:l.number,onChange:l.func,onActiveCellChange:l.func,onSelectionChange:l.func,createRow:l.func,isPersisted:l.func,columns:l.array};yX.displayName="P32Grid";const xF=a.createContext(),HNe=()=>{const{height:e}=Wt(),t=a.useContext(xF),n=at(),o=a.useMemo(()=>t.codeEditor.buildGridChangeHandler({onCreate:t.codeEditor.handleCreate,onUpdate:t.codeEditor.handleUpdate,onDelete:t.canDelete?t.codeEditor.handleConfirmDelete:null,onDuplicatedError:t.codeEditor.handleDuplicatedError}),[t]),s=a.useMemo(()=>t.gridMeta.buildSelectionChangeHandler(),[t.gridMeta]),i=a.useMemo(()=>t.grid.readOnly?e-176:e-156,[e,t.grid.readOnly]);return r.jsx(Ye,{...n,children:r.jsx(Kn.Provider,{value:{...t.grid,...t.gridMeta},children:r.jsx(yX,{lockRows:t.grid.readOnly,gridRef:t.gridMeta.setGridRef,data:t.grid.gridData,height:i,loading:t.grid.gridLoading,onChange:o,onActiveCellChange:t.gridMeta.handleActiveCellChange,onSelectionChange:s,canCreate:t.canCreate,createRow:t.codeEditor.createRow})})})};HNe.displayName="P32GridContainer";const GNe=e=>{const{...t}=e,n=a.useContext(xF);return r.jsx(Ts,{unlockedLabel:"",locked:n.grid.readOnly,onChange:n.grid.toggleReadOnly,disabled:!n.canUpdate,...t})};GNe.displayName="P32LockRowsSwitchContainer";const CX=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(Vo),s=a.useContext(xF),{moduleAuthorityLoading:i,canPrint:c}=s;return i||!c?!1:r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(cs,{}),sx:{fontWeight:600},onClick:o.promptPrint,color:"neutral",...n,children:""})}));CX.propTypes={};CX.displayName="P32PrintButtonContainer";const DX=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(kn,{borderRadius:1,ref:t,bgcolor:Nn.TOOLBAR,LeftComponent:CX,RightComponent:GNe,...n})})}));DX.propTypes={};DX.displayName="P32Toolbar";const SX=a.memo(()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsxs(jt,{children:[r.jsx(DX,{}),r.jsx(HNe,{})]})]}));SX.propTypes={drawerOpen:l.bool,boxStyles:l.oneOfType([l.array,l.object])};SX.displayName="P32Frame";const KNe=()=>r.jsxs(ws,{tableName:"CityCod",children:[r.jsx(SX,{}),r.jsx(Is,{})]});KNe.displayName="P32Frame";const s6t=e=>{if(!e)return"";const{CodeID:t,CodeData:n}=e;return[t,n].filter(Boolean).join(" ")},a6t=(e,t)=>(e==null?void 0:e.CodeID)===(t==null?void 0:t.CodeID),kL={getOptionLabel:s6t,isOptionEqualToValue:a6t},Zc=a.forwardRef((e,t)=>{const{label:n="",...o}=e,{token:s}=a.useContext(Be);return r.jsx(bt,{ref:t,label:n,bearer:s,url:"v1/cms/areas",getOptionLabel:kL.getOptionLabel,isOptionEqualToValue:kL.isOptionEqualToValue,findByInput:kL.findByInput,notFoundText:" ${input} ",...o})});Zc.propTypes={name:l.string,label:l.string,children:l.node};Zc.displayName="CmsAreaPicker";const i6t=(e,t)=>Gn.arePropsEqual(e,t,{fields:"rowData.CodeID,active,disabled,focus"}),yF=a.memo(e=>{const{columnData:t,rowData:n,setRowData:o,rowIndex:s,columnIndex:i,active:c,focus:u,disabled:d,stopEditing:p,insertRowBelow:m}=e,f=qD({insertRowBelow:m}),h=n2({column:{rowIndex:s,rowData:n,columnIndex:i,focus:u,active:c,disabled:d,setRowData:o,stopEditing:p},columnData:t,cellFocus:f});return r.jsx(Zc,{queryParam:"qs",...h})},i6t);yF.propTypes={name:l.string,rowData:l.oneOfType([l.string,l.number,l.object]),setRowData:l.func,rowIndex:l.number,columnIndex:l.number,columnData:l.object,active:l.bool,focus:l.bool,disabled:l.bool,stopEditing:l.func,insertRowBelow:l.func,duplicateRow:l.func,deleteRow:l.func,getContextMenuItems:l.func};yF.propTypes={};yF.displayName="CmsAreaPickerCell";const l6t=()=>{const{token:e}=a.useContext(Be),t=a.useContext(cr),n=Bt({moduleId:"P32"}),o=yr({gridId:"P32",keyColumn:"CodeID",otherColumns:`
			CodeData,
			area: {nullble: true},
		`}),s=a.useMemo(()=>[{...Pe.keyColumn("CodeID",kt({continuousUpdates:!1,maxLength:2})),disabled:o.isPersisted,title:"",minWidth:60,maxWidth:60},{...Pe.keyColumn("CodeData",kt({continuousUpdates:!1,maxLength:6})),title:"",grow:4,disabled:o.readOnly},{...Pe.keyColumn("area",or(yF,{name:"area",disableOpenOnInput:!0,disableClearable:!0,selectOnFocus:!0,autoHighlight:!0,sharedKey:"cms-area"})),title:"",minWidth:120,maxWidth:120,disabled:o.readOnly}],[o.isPersisted,o.readOnly]),i=hr({columns:s,data:o.gridData,lastCell:Xn.CREATE_ROW}),c=Ga({baseUri:"v1/cms/cities",token:e,grid:o,gridMeta:i,transformForReading:DB.transformForReading,transformForSubmitting:DB.transformForSubmitting});return En(()=>{t.cancelAction(),c.load()},[]),{...t,...n,grid:o,gridMeta:i,codeEditor:c}},QNe=e=>{const{children:t}=e,n=l6t();return r.jsx(xF.Provider,{value:{...n},children:t})};QNe.propTypes={children:l.oneOfType([l.array,l.object])};const c6t=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),vX=a.memo(e=>{const{canCreate:t,lockRows:n,gridRef:o,data:s,loading:i,height:c=300,createRow:u,onChange:d,onActiveCellChange:p,onSelectionChange:m,columns:f}=e,h=a.useMemo(()=>c+(n||!t?48:0),[t,c,n]);return i?r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(Ko,{height:c})}):i==null?!1:r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(jt,{children:r.jsx(dr,{lockRows:n,ref:o,rowKey:"id",height:h,value:s,onChange:d,onActiveCellChange:p,onSelectionChange:m,createRow:u,addRowsComponent:t?go:null,disableExpandSelection:!0,contextMenuComponent:c6t})})})});vX.propTypes={canCreate:l.bool,lockRows:l.bool,gridRef:l.func,vreateRow:l.func,drawerOpen:l.bool,data:l.array,loading:l.bool,height:l.number,onChange:l.func,onActiveCellChange:l.func,onSelectionChange:l.func,createRow:l.func,isPersisted:l.func,columns:l.array};vX.displayName="P33Grid";const CF=a.createContext(),YNe=()=>{const{height:e}=Wt(),t=a.useContext(CF),n=a.useMemo(()=>t.codeEditor.buildGridChangeHandler({onCreate:t.codeEditor.handleCreate,onUpdate:t.codeEditor.handleUpdate,onDelete:t.canDelete?t.codeEditor.handleConfirmDelete:null,onDuplicatedError:t.codeEditor.handleDuplicatedError}),[t]),o=a.useMemo(()=>t.gridMeta.buildSelectionChangeHandler(),[t.gridMeta]);return r.jsx(Kn.Provider,{value:{...t.grid,...t.gridMeta},children:r.jsx(vX,{lockRows:t.grid.readOnly,gridRef:t.gridMeta.setGridRef,data:t.grid.gridData,height:e-176,loading:t.grid.gridLoading,onChange:n,onActiveCellChange:t.gridMeta.handleActiveCellChange,onSelectionChange:o,canCreate:t.canCreate,createRow:t.codeEditor.createRow})})};YNe.displayName="P33GridContainer";const JNe=e=>{const{...t}=e,n=a.useContext(CF);return r.jsx(Ts,{unlockedLabel:"",locked:n.grid.readOnly,onChange:n.grid.toggleReadOnly,disabled:!n.canUpdate,...t})};JNe.displayName="P33LockRowsSwitchContainer";const jX=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(Vo),s=a.useContext(CF),{moduleAuthorityLoading:i,canPrint:c}=s;return i||!c?!1:r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(cs,{}),sx:{fontWeight:600},onClick:o.promptPrint,color:"neutral",...n,children:""})}));jX.propTypes={};jX.displayName="P33PrintButtonContainer";const IX=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(kn,{borderRadius:1,ref:t,bgcolor:Nn.TOOLBAR,LeftComponent:jX,RightComponent:JNe,...n})})}));IX.propTypes={};IX.displayName="P33Toolbar";const TX=a.memo(()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsxs(jt,{children:[r.jsx(IX,{}),r.jsx(YNe,{})]})]}));TX.propTypes={drawerOpen:l.bool,boxStyles:l.oneOfType([l.array,l.object])};TX.displayName="P33Frame";const XNe=()=>r.jsxs(ws,{tableName:"CustTCod",children:[r.jsx(TX,{}),r.jsx(Is,{})]});XNe.displayName="P33Frame";const u6t=()=>{const{token:e}=a.useContext(Be),t=a.useContext(cr),n=Bt({moduleId:"P33"}),o=yr({gridId:"P33",keyColumn:"CodeID",otherColumns:"CodeData"}),s=a.useMemo(()=>[{...Pe.keyColumn("CodeID",kt({continuousUpdates:!1,maxLength:5})),disabled:o.isPersisted,title:""},{...Pe.keyColumn("CodeData",kt({continuousUpdates:!1,maxLength:20})),title:"",grow:4,disabled:o.readOnly}],[o.isPersisted,o.readOnly]),i=hr({columns:s,data:o.gridData,lastCell:Xn.CREATE_ROW}),c=Ga({baseUri:"v1/cms/cust-types",token:e,grid:o,gridMeta:i});return En(()=>{t.cancelAction(),c.load()},[]),{...t,...n,grid:o,gridMeta:i,codeEditor:c}},ZNe=e=>{const{children:t}=e,n=u6t();return r.jsx(CF.Provider,{value:{...n},children:t})};ZNe.propTypes={children:l.oneOfType([l.array,l.object])};const op=a.createContext(),d6t=e=>{if(!e)return"";const{CodeID:t,CodeData:n}=e;return[t,n].filter(Boolean).join(" ")},p6t=(e,t)=>(e==null?void 0:e.CodeID)===(t==null?void 0:t.CodeID),AL={getOptionLabel:d6t,isOptionEqualToValue:p6t},ac=a.forwardRef((e,t)=>{const{label:n=" ",...o}=e,{token:s}=a.useContext(Be);return r.jsx(bt,{ref:t,label:n,bearer:s,url:"v1/cms/cities",getOptionLabel:AL.getOptionLabel,isOptionEqualToValue:AL.isOptionEqualToValue,findByInput:AL.findByInput,notFoundText:" ${input} ",...o})});ac.propTypes={name:l.string,label:l.string,children:l.node};ac.displayName="CmsCityPicker";const OX=Aa({translationKeys:{button:"",unit:""}}),m6t=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),EX=e=>{var d;const{...t}=e,{height:n}=Wt(),o=Ke(),s=a.useContext(op),i=a.useContext(Lr),c=a.useMemo(()=>n-530+(s.gridDisabled?48:0),[n,s.gridDisabled]),u=a.useMemo(()=>s.grid.buildGridChangeHandler({getValues:o.getValues,setValue:o.setValue,gridMeta:i.gridMeta,onUpdateRow:s.onUpdateRow,onGridChanged:s.onGridChanged}),[o.getValues,o.setValue,i.gridMeta,s.grid,s.onGridChanged,s.onUpdateRow]);return s.grid.gridData?((d=s.grid.gridData)==null?void 0:d.length)===0&&s.cashGridDisabled?r.jsx(nn,{variant:"body2",color:"text.secondary",children:"()"}):r.jsx(Kn.Provider,{value:{...s.grid,...i.gridMeta,readOnly:!s.editing},children:r.jsx(dr,{ref:i.gridMeta.setGridRef,lockRows:s.gridDisabled,columns:i.gridMeta.columns,value:s.grid.gridData,onChange:u,onActiveCellChange:i.gridMeta.handleActiveCellChange,addRowsComponent:OX,height:c,createRow:s.createRow,disableExpandSelection:!0,contextMenuComponent:m6t,...t})}):r.jsx(nn,{variant:"body2",color:"text.secondary",children:"()"})};EX.propTypes={store:l.bool};EX.displayName="P34GridContainer";const PX=a.memo(e=>{const{creating:t,updating:n,editing:o,data:s,readWorking:i,readError:c,itemDataReady:u,slotProps:d,onCityChange:p,...m}=e;return r.jsxs("form",{...m,children:[i&&r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",minHeight:"30em",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}),c&&r.jsx(lo,{error:c,...d==null?void 0:d.error}),u&&r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{children:[r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:12,sm:12,md:3,lg:2,children:r.jsx($e,{typo:!0,name:"CarID",label:"",autoFocus:!0,fullWidth:!0,value:s==null?void 0:s.CarID,required:!0,rules:{required:""},readOnly:n,slotProps:{htmlInput:{maxLength:9}}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:6,lg:6,children:r.jsx($e,{typo:!0,name:"CarData",label:"",autoFocus:n,fullWidth:!0,required:!0,rules:{required:""}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:1.5,lg:1,children:r.jsx($e,{typo:!0,name:"AbbrID",label:"",fullWidth:!0,slotProps:{htmlInput:{maxLength:2}}})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,md:2,children:r.jsx(ac,{typo:!0,name:"city",onChange:p})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,lg:2,children:r.jsx(Zc,{typo:!0,name:"area",disabled:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,lg:2,children:r.jsx($e,{typo:!0,name:"Contact",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:5,lg:3,children:r.jsx($e,{typo:!0,name:"Tel",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,lg:3,children:r.jsx($e,{typo:!0,name:"Fax",label:"",fullWidth:!0})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,lg:2,children:r.jsx($e,{typo:!0,name:"Cel",label:"",fullWidth:!0,slotProps:{htmlInput:{maxLength:16}}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:5,lg:3,children:r.jsx($e,{typo:!0,name:"Email",label:"",fullWidth:!0,slotProps:{htmlInput:{maxLength:8}}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"Postal",label:"",fullWidth:!0,slotProps:{htmlInput:{maxLength:5}}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:6,lg:4,children:r.jsx($e,{typo:!0,name:"Addr",label:"",fullWidth:!0})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,lg:2,children:r.jsx($e,{typo:!0,name:"Uniform",label:"",fullWidth:!0,slotProps:{htmlInput:{maxLength:8}}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:6,lg:3,children:r.jsx($e,{typo:!0,name:"InvTitle",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:4.5,lg:3,children:r.jsx(au,{typo:!0,name:"bank",label:"",fullWidth:!0,disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,lg:4,children:r.jsx($e,{typo:!0,name:"BankAcct",label:"",fullWidth:!0,slotProps:{htmlInput:{maxLength:20}}})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,md:12,children:r.jsx($e,{typo:!0,name:"Remark",multiline:!0,minRows:1,label:"",fullWidth:!0})})]}),r.jsx("hr",{}),r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:1.5,children:r.jsx(Yh,{typo:!0,variant:"outlined",fullWidth:!0,label:"",name:"Assign",defaultValue:!1,size:"small",slotProps:{label:{slotProps:{typography:{variant:"subtitle2"}}}}})}),r.jsx(j,{item:!0,xs:10.5,children:r.jsx($e,{typo:!0,name:"AsRemark",multiline:!0,minRows:1,label:"",fullWidth:!0})})]}),r.jsx(jt,{mt:.5,children:r.jsx(j,{container:!0,children:r.jsxs(j,{item:!0,xs:12,lg:6,children:[r.jsx(KT,{variant:"subtitle2",children:""}),r.jsx(EX,{})]})})})]})})]})});PX.propTypes={data:l.object,readWorking:l.bool,itemDataReady:l.bool,creating:l.bool,editing:l.bool,updating:l.bool,store:l.bool,readError:l.object,slotProps:l.object,onCityChange:l.func};PX.displayName="P34Form";const RX=a.memo(e=>{var s,i;const{anchor:t="right",...n}=e,o=a.useContext(op);return r.jsxs(Eo,{anchor:t,open:o.sideDrawerOpen,onClose:o.handleSideDrawerClose,...n,children:[r.jsx(pn,{label:"",children:(s=o.itemData)==null?void 0:s.WriteDate_N}),r.jsx(pn,{label:"",children:(i=o.itemData)==null?void 0:i.Writer_N})]})});RX.propTypes={anchor:l.string};RX.displayName="P34Drawer";const wX=a.memo(a.forwardRef((e,t)=>{const{onSave:n,onCancel:o,loading:s,...i}=e;return r.jsxs(a.Fragment,{ref:t,...i,children:[r.jsx(dt,{responsive:!0,onClick:o,color:"warning",variant:"outlined",...i,children:""}),r.jsx(dt,{responsive:!0,onClick:n,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:s,children:""})]})}));wX.displayName="P34DialogEditButtons";wX.propTypes={onSave:l.func,loading:l.bool};const eFe=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,onDelete:o,onSideDrawerOpen:s,...i}=e;return r.jsxs(a.Fragment,{ref:t,...i,children:[o&&r.jsx(hn,{startIcon:r.jsx(Fs,{}),color:"secondary",onClick:o,children:""}),n&&r.jsx(hn,{startIcon:r.jsx(bo,{}),color:"primary",onClick:n,children:""}),r.jsx(jr,{title:"",children:r.jsx(br,{onClick:s,size:"small",children:r.jsx(Po,{})})})]})}));eFe.propTypes={onEdit:l.func,onDelete:l.func,onSideDrawerOpen:l.func};const tFe=e=>{const{...t}=e,n=a.useContext(op),o=Ke();return n.itemDataReady?n.editing?r.jsx(wX,{onSave:o.handleSubmit(n.onEditorSubmit,n.onEditorSubmitError),onCancel:n.updating?n.confirmReturn:n.confirmQuitCreating,loading:n.editWorking,...t}):r.jsx(eFe,{onEdit:n.canUpdate?n.promptUpdating:null,onDelete:n.canDelete?n.confirmDelete:null,onSideDrawerOpen:n.handleSideDrawerOpen,...t}):!1};tFe.displayName="P34DialogButtonsContainer";const nFe=a.forwardRef((e,t)=>{const{...n}=e,{height:o}=Wt(),s=Ke(),{reset:i}=s,c=a.useContext(op),u=a.useMemo(()=>o-120,[o]),d=a.useMemo(()=>c.gridDisabled,[c.gridDisabled]),p=a.useMemo(()=>[{...Pe.keyColumn("MDnCP",Jn(2)),title:"()",minWidth:130,disabled:d},{...Pe.keyColumn("MUpCP",Jn(2)),title:"(<)",minWidth:130,disabled:d},{...Pe.keyColumn("MBonus",kt({alignRight:!0})),title:"(%)",disabled:d,minWidth:130},{...Pe.keyColumn("MFixP",Wi({size:"medium"})),title:"",minWidth:70,maxWidth:70,disabled:d}],[d]),m=hr({data:c.grid.gridData,columns:p,skipDisabled:!0,lastCell:Xn.CREATE_ROW,grid:c.grid}),f=a.useCallback(()=>{m.setActiveCell({col:0,row:0})},[m]),h=vt(`
		CarID,
		CarData,
		AbbrID,
		city,
		area,
		Contact,
		Tel,
		Fax,
		Cel,
		Email,
		Postal,
		Addr,
		Uniform,
		InvTitle,
		bank,
		BankAcct,
		Remark,
		Assign,
		AsRemark
		`,{lastField:f}),g=a.useCallback(T=>{switch(T.name){case"area":return!0;default:return!1}},[]),x=a.useMemo(()=>c.creating?"":c.updating?"":"",[c.creating,c.updating]),y=Qr({maxHeight:u,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),D=a.useCallback(T=>{s.setValue("area",T!=null&&T.CtAreaID?{CodeID:T.CtAreaID,CodeData:T.CtAreaData}:null)},[s]),v=a.useCallback(()=>{c.editing&&s.handleSubmit(c.onEditorSubmit,c.onEditorSubmitError)()},[s,c.editing,c.onEditorSubmit,c.onEditorSubmitError]);return $t(["Control+Enter"],()=>setTimeout(v),{enableOnFormTags:!0}),mn(()=>{c.itemDataReady&&(console.log("p34 form reset",c.itemData),i(c.itemData))},[c.itemData,c.itemDataReady]),r.jsxs(Er,{title:x,ref:t,responsive:!0,fullWidth:!0,maxWidth:"lg",TitleButtonsComponent:tFe,open:c.itemViewOpen,onClose:c.editing?c.confirmDialogClose:c.cancelAction,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[y.scroller],...n,children:[r.jsx(Ct,{...h,gridMeta:m,isFieldDisabled:g,children:r.jsx(PX,{ref:t,onSubmit:v,creating:c.creating,editing:c.editing,updating:c.updating,readWorking:c.readWorking,readError:c.readError,data:c.itemData,itemDataReady:c.itemDataReady,onCityChange:D})}),r.jsx(RX,{BackdropProps:{sx:[ur.BACKDROP_TRANSPARENT]}})]})});nFe.displayName="P34DialogContainer";const DF=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:6,sm:4,...t})};DF.propTypes={loading:l.bool,children:l.oneOfType([l.node])};DF.displayName="P34IDColumn";const SF=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:17,sm:9,...t})};SF.propTypes={loading:l.bool,children:l.oneOfType([l.node])};SF.displayName="P34NameColumn";const vF=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:9,sx:{display:{xs:"none",sm:"block"}},...t})};vF.propTypes={loading:l.bool,children:l.oneOfType([l.node])};vF.displayName="P34BankColumn";const kX=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsxs(io,{ref:t,...n,children:[r.jsx(Hn,{}),r.jsx(DF,{children:""}),r.jsx(SF,{children:""}),r.jsx(vF,{children:""})]})}));kX.propTypes={};kX.displayName="P34ListHeader";const AX=a.memo(e=>{const{index:t,style:n,value:o,onClick:s}=e;return r.jsx("div",{style:n,children:r.jsx(yo,{borderBottom:!0,onClick:s,children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t}),r.jsx(DF,{children:o==null?void 0:o.CarID}),r.jsx(SF,{children:o==null?void 0:o.CarData}),r.jsx(vF,{children:o==null?void 0:o.AbbrID})]})})})});AX.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func};AX.displayName="P34ListRow";const NX=e=>{var u;const{index:t,...n}=e,o=a.useContext(op),s=a.useMemo(()=>o.listData[t],[o.listData,t]),i=a.useMemo(()=>!s,[s]),c=a.useMemo(()=>{var d;return(s==null?void 0:s.FactID)===((d=o.selectedItem)==null?void 0:d.FactID)},[(u=o.selectedItem)==null?void 0:u.FactID,s==null?void 0:s.FactID]);return r.jsx(No,{loading:i,children:r.jsx(AX,{index:t,value:s,onClick:d=>o.handleSelect(d,s),selected:c,...n})})};NX.propTypes={index:l.number,data:l.object};NX.displayName="P34ListRowContainer";const rFe=()=>{const e=a.useContext(op),{loadList:t}=e,n=Ke(),{getValues:o,setValue:s}=n,{height:i}=Wt(),c=Ue({name:"qs",control:n.control}),u=Gr(c,300);En(()=>{e.loadList()},[]),mn(()=>{if(console.log(`debouncedQs: ${u}`),u!==void 0){const p=o();t({params:{...p,qs:u},supressLoading:!0}),s("qs",u)}},[u]);const d=a.useMemo(()=>i?i-162:300,[i]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:NX,height:d,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};rFe.displayName="P34ListViewContainer";const f6t=e=>(e==null?void 0:e.map((t,n)=>{const{MBonus:o,MDnCP:s,MFixP:i,MUpCP:c,...u}=t;return{MBonus:o,MDnCP:s,MFixP:i==="Y",MUpCP:c,...u}}))||[],h6t=e=>{const{CityID:t,CityData_N:n,CtAreaID:o,CtAreaData_N:s,BankID:i,BankData_N:c,BonusTB:u,Assign:d,...p}=e;return{Assign:d==="Y",city:t?{CodeID:t,CodeData:n}:null,area:o?{CodeID:o,CodeData:s}:null,bank:i?{CodeID:i,CodeData:c}:null,...p,...u&&{ranges:f6t(u)}}},g6t=e=>e.map(({MDnCp:t,MUpCP:n,MBonus:o,MFixP:s,...i})=>({MDnCp:(t==null?void 0:t.toString())??"",MUpCP:(n==null?void 0:n.toString())??"",MBonus:(o==null?void 0:o.toString())??"",MFixP:s?"Y":"N",...i})),b6t=(e,t)=>{const{Assign:n,city:o,bank:s,area:i,ranges:c,...u}=e;return console.log("ignore props",c),{CityID:(o==null?void 0:o.CodeID)??"",CtAreaID:(i==null?void 0:i.CodeID)??"",BankID:(s==null?void 0:s.CodeID)??"",BonusTB:g6t(t),Assign:n?"Y":"N",...u}},x6t=e=>Gn.isAnyPropNotEmpty(e,"lvId,lvName,lvBank"),y6t=e=>{const{lvId:t,lvName:n,lvBank:o,...s}=e;return{si:t,sn:n,...o&&{bank:o==null?void 0:o.CodeID},...s}},C6t=e=>{const t=[];return e!=null&&e.si&&t.push({ShowName:"",OpCode:"LIKE",CondData:"%"+e.si+"%"}),e!=null&&e.sn&&t.push({ShowName:"",OpCode:"LIKE",CondData:"%"+e.sn+"%"}),e!=null&&e.bank&&t.push({ShowName:"",OpCode:"=",CondData:e.bank}),{StdWhere:t,...(e==null?void 0:e.qs)&&{CondData:{QS_ID:`${e.qs}%`,QS_NAME:`%${e.qs}%`}}}},_I={transformForReading:h6t,transformForEditorSubmit:b6t,paramsToJsonData:C6t,isFiltered:x6t,transformAsQueryParams:y6t},oFe=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(op),{moduleAuthorityLoading:s,canCreate:i}=o,c=a.useMemo(()=>"",[]);return s||!i?!1:r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(Ao,{}),onClick:o.handlePromptCreating,sx:{fontWeight:600},...n,children:c})}));oFe.displayName="P34CreateButtonContainer";const FX=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(Vo),s=a.useContext(op),{moduleAuthorityLoading:i,canPrint:c}=s;return i||!c?!1:r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(cs,{}),sx:{fontWeight:600},onClick:o.promptPrint,color:"neutral",...n,children:""})}));FX.propTypes={};FX.displayName="P34PrintButtonContainer";const sFe=a.memo(()=>r.jsxs(r.Fragment,{children:[r.jsx(oFe,{}),r.jsx(FX,{})]}));sFe.displayName="LeftButtons";const aFe=a.memo(a.forwardRef(({...e},t)=>r.jsx(kn,{alignItems:"flex-end",ref:t,LeftComponent:sFe,...e})));aFe.displayName="P34ListViewToolbar";const MX=a.memo(e=>{const{...t}=e;return r.jsx(Pt,{children:r.jsxs(Vt,{container:!0,spacing:1,columns:24,...t,children:[r.jsx(Vt,{item:!0,xs:24,sm:24,md:4,children:r.jsx($e,{autoFocus:!0,name:"lvId",label:"",variant:"outlined",size:"small",fullWidth:!0,clearable:!0})}),r.jsx(Vt,{item:!0,xs:24,sm:24,md:4,children:r.jsx($e,{name:"lvName",label:"",variant:"outlined",size:"small",fullWidth:!0,clearable:!0})}),r.jsx(Vt,{item:!0,xs:24,sm:24,md:4,children:r.jsx(au,{name:"lvBank",label:"",disableOpenOnInput:!0})})]})})});MX.propTypes={};MX.displayName="P34SearchForm";const iFe=a.memo(a.forwardRef((e,t)=>{const{width:n="40ch",onClose:o,onReset:s,ContentProps:i,...c}=e;return r.jsxs(sm,{width:n,ref:t,children:[r.jsx(am,{onClose:o,children:""}),r.jsx(ta,{sx:{mt:0,mb:0}}),r.jsx(tm,{...i,children:r.jsx(MX,{initSize:"xs",spacing:2})}),r.jsx(ta,{}),r.jsxs(em,{children:[r.jsx(dt,{size:"small",variant:"outlined",color:"primary",onClick:s,children:""}),r.jsx(dt,{startIcon:r.jsx(Xh,{}),type:"submit",variant:"contained",children:""})]})]})}));iFe.displayName="P34SearchPopper";const D6t=a.forwardRef(({...e},t)=>{const n=a.useContext(op),o=Ke(),s=vt(`
		lvId,
		lvName,
		lvBank,
		`);return r.jsx(Ct,{...s,children:r.jsx(iFe,{ref:t,onClose:n.handlePopperClose,onReset:n.handleReset({reset:o.reset}),...e})})});D6t.displayName="P34SearchPopperContainer";const _X=e=>{const{name:t="qs",...n}=e,o=Ke(),{getValues:s}=o,i=a.useContext(op),c=a.useRef(null),u=ru({inputRef:c,onChange:m=>{o.setValue(t,m)}});$t("ctrl+F12",u.handleFocus,{enableOnFormTags:!0});const d=$t("esc",u.handleClear,{enableOnFormTags:!0}),p=a.useMemo(()=>o.handleSubmit(i.onSearchSubmit,i.onSearchSubmitError),[i.onSearchSubmit,i.onSearchSubmitError,o]);return $t(["Shift+Enter","Control+Enter"],()=>setTimeout(p),{enableOnFormTags:!0}),r.jsx("form",{onSubmit:p,children:r.jsx("div",{ref:d,children:r.jsx(su,{autoFocus:!0,name:t,placeholder:"//(C+F12)",mobilePlaceholder:"/",borderRadius:"8px",maxWidth:"32ch",responsive:!0,inputRef:c,onClear:u.handleClear,Popper:!0,popperOpen:i.popperOpen,onPopperToggle:i.handlePopperToggle,onPopperOpen:i.handlePopperOpen,onPopperClose:i.handlePopperClose,filtered:_I.isFiltered(s())})})})};_X.propTypes={name:l.string};_X.displayName="SupplierSearchFieldContainer";const lFe=()=>{const e=at(),t=at({defaultValues:{}});return r.jsx(Ye,{...e,children:r.jsx(Ft,{children:r.jsxs(ws,{tableName:"CarFile",paramsToJsonData:_I.paramsToJsonData,children:[r.jsx(_t,{children:r.jsx(_X,{name:"qs"})}),r.jsx(aFe,{}),r.jsx(kX,{}),r.jsx(rFe,{}),r.jsx(Ye,{...t,children:r.jsx(nFe,{})}),r.jsx(Is,{})]})})})};lFe.displayName="P34Frame";const S6t=({token:e})=>{const t=a.useRef(),n=a.useContext(cr),o=Bt({moduleId:"P34"}),s=Co(),{httpGetAsync:i,httpPostAsync:c,httpPutAsync:u,httpDeleteAsync:d}=Zn(),[p,m]=a.useState(),f=a.useContext(Mr),h=a.useCallback(()=>({Pkey:zn(),MFixP:!0}),[]),g=yr({gridId:"ranges",keyColumn:"id",createRow:h}),x=a.useMemo(()=>!n.editing,[n.editing]),[y,D,v,T]=us(!1),I=so({url:"v1/cms/bus-comps",bearer:e,initialFetchSize:50,params:{acc:1}}),P=a.useCallback(async({id:U,refresh:X})=>{const te=X?t.current:U;if(!te)throw new Error(" id");X||(t.current=U,n.startReading("...",{id:U}));try{const{status:se,payload:he,error:pe}=await i({url:"v1/cms/bus-comps",bearer:e,params:{id:te}});if(console.log("payload",he),se.success){const ue=_I.transformForReading(he.data[0]);g.initGridData(ue.ranges,{fillRows:3}),n.finishedReading({data:ue})}else throw pe||new Error("")}catch(se){n.failedReading(se)}},[n,g,i,e]),E=a.useCallback(async(U,X)=>{U==null||U.stopPropagation(),n.cancelAction(),m(X),n.startReading("...",{id:X.CarID}),P({id:X.CarID})},[n,P]),k=a.useCallback(()=>{f.confirm({message:"?",onConfirm:()=>{n.cancelUpdating(),P({refresh:!0})}})},[n,f,P]),w=a.useCallback(()=>{f.confirm({message:"?",onConfirm:()=>{n.cancelAction()}})},[n,f]),A=a.useCallback(()=>{f.confirm({message:"?",onConfirm:()=>{n.cancelAction()}})},[n,f]),F=a.useCallback(()=>{n.cancelAction()},[n]),_=a.useCallback(async({data:U,creating:X})=>{const te=X?"":"";try{n.creating?n.startCreating():n.startUpdating();const se=X?c:u,{status:he,error:pe}=await se({url:"v1/cms/bus-comps",data:U,bearer:e});if(he.success)ae.success(`${U==null?void 0:U.CarID} ${U==null?void 0:U.CarData}${te}`),X?(n.finishedCreating(),n.cancelReading()):(n.finishedUpdating(),P({id:U==null?void 0:U.CarID})),I.loadList({refresh:!0});else throw pe||new Error("")}catch(se){X?(n.failedCreating(se),console.error("handleCreate.failed",se)):(n.failedUpdating(se),console.error("handleUpdate.failed",se)),ae.error(`${te}`,se)}},[n,c,u,I,P,e]),L=a.useCallback(async U=>{console.log("P34.onEditorSubmit()",U);const X=_I.transformForEditorSubmit(U,g.gridData);console.log("processed",X),n.creating||n.updating?_({data:X,creating:n.creating}):console.error("UNKNOWN SUBMIT TYPE")},[n.creating,n.updating,g.gridData,_]),K=a.useCallback(U=>{console.error("P34.onSubmitError",U),ae.error(", (*)",{position:"top-right"})},[]),z=a.useCallback(U=>{U==null||U.stopPropagation();const X={ranges:[]};n.promptCreating({data:X}),g.initGridData(X.ranges,{fillRows:3})},[n,g]),J=a.useCallback(()=>{var U,X;f.confirm({message:`${(U=n.itemData)==null?void 0:U.CarID} ${(X=n.itemData)==null?void 0:X.CarData}?`,onConfirm:async()=>{var te,se;try{n.startDeleting(n.itemData);const{status:he,error:pe}=await d({url:"v1/cms/bus-comps",bearer:e,params:{id:(te=n.itemData)==null?void 0:te.CarID}});if(he.success)n.cancelAction(),ae.success(`${(se=n.itemData)==null?void 0:se.CarID} ${n.itemData.CarData}`),I.loadList({refresh:!0});else throw pe||""}catch(he){n.failedDeleting(he),console.error("confirmDelete.failed",he),ae.error("",he)}}})},[n,f,d,I,e]),Q=a.useCallback(U=>{T(),console.log("onSearchSubmit",U),I.loadList({params:_I.transformAsQueryParams(U)})},[T,I]),V=a.useCallback(U=>{console.error("onSearchSubmitError",U)},[]),W=a.useCallback(({reset:U})=>()=>{U({lvId:"",lvName:"",lvBank:null})},[]);return En(()=>{n.cancelAction()},[]),{...I,...n,onSearchSubmit:Q,onSearchSubmitError:V,handleSelect:E,selectedItem:p,handleDialogClose:F,confirmDialogClose:w,confirmQuitCreating:A,onEditorSubmit:L,onEditorSubmitError:K,confirmReturn:k,handlePromptCreating:z,confirmDelete:J,...o,...s,popperOpen:y,handlePopperToggle:D,handlePopperOpen:v,handlePopperClose:T,handleReset:W,grid:g,gridDisabled:x,createRow:h}},cFe=({children:e})=>{const t=a.useContext(Be),n=S6t({token:t.token});return r.jsx(op.Provider,{value:{...n},children:e})};cFe.propTypes={children:l.oneOfType([l.array,l.object])};const v6t=(e,t)=>Gn.arePropsEqual(e,t,{fields:"rowData.CodeID,active,disabled,focus"}),SO=a.memo(e=>{const{columnData:t,rowData:n,setRowData:o,rowIndex:s,columnIndex:i,active:c,focus:u,disabled:d,stopEditing:p,insertRowBelow:m}=e,f=qD({insertRowBelow:m}),h=n2({column:{rowIndex:s,rowData:n,columnIndex:i,focus:u,active:c,disabled:d,setRowData:o,stopEditing:p},columnData:t,cellFocus:f});return r.jsx(FD,{queryParam:"qs",...h})},v6t);SO.propTypes={name:l.string,rowData:l.oneOfType([l.string,l.number,l.object]),setRowData:l.func,rowIndex:l.number,columnIndex:l.number,columnData:l.object,active:l.bool,focus:l.bool,disabled:l.bool,stopEditing:l.func,insertRowBelow:l.func,duplicateRow:l.func,deleteRow:l.func,getContextMenuItems:l.func};SO.propTypes={};SO.displayName="CmsTypePickerCell";const Cu=a.createContext(),uFe=e=>{const{...t}=e;return r.jsx(sk,{border:0,rowHeight:29,...t,children:r.jsxs(ak,{children:[r.jsx(vs,{flex:1}),r.jsx(vs,{w:130,px:1,align:"right",children:r.jsx(xr,{typo:!0,fullWidth:!0,label:"",name:"clearOnSite1",defaultValue:!1,dense:!0,size:"small",slotProps:{label:{slotProps:{typography:{variant:"subtitle2"}},inline:!0}}})}),r.jsx(vs,{w:130,px:1,align:"right",children:r.jsx(xr,{typo:!0,fullWidth:!0,label:"",name:"clearOnSite2",defaultValue:!1,dense:!0,size:"small",slotProps:{label:{slotProps:{typography:{variant:"subtitle2"}},inline:!0}}})}),r.jsx(vs,{w:130,px:1,align:"right",children:r.jsx(xr,{typo:!0,fullWidth:!0,dense:!0,label:"",name:"clearOnSite3",defaultValue:!1,size:"small",slotProps:{label:{slotProps:{typography:{variant:"subtitle2"}},inline:!0}}})}),r.jsx(vs,{w:10})]})})};uFe.propTypes={};const SB=a.memo(uFe),dFe=e=>{const{children:t,...n}=e;return r.jsx(ve,{className:"dsg-add-row",sx:{minHeight:"31px",padding:"1px 1px 1px 0","&.dsg-add-row > *":{marginRight:0}},...n,children:t})};dFe.propTypes={children:l.oneOfType([l.node,l.array,l.func])};const jF=a.memo(dFe),pFe=()=>a.useContext(Cu).editing?r.jsx(SB,{}):r.jsx(jF,{children:r.jsx(SB,{})});pFe.displayName="P35Row1Container";const j6t=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),LX=e=>{var p;const{...t}=e,{height:n}=Wt(),o=Ke(),s=a.useContext(Cu),i=a.useContext(Lr),c=a.useMemo(()=>Aa({hideButton:!0,hideNumberField:!0,RightComponent:SB}),[]),u=a.useMemo(()=>n-478+(s.gridDisabled,0),[n,s.gridDisabled]),d=a.useMemo(()=>s.grid.buildGridChangeHandler({getValues:o.getValues,setValue:o.setValue,gridMeta:i.gridMeta,onUpdateRow:s.onUpdateRow,onGridChanged:s.onGridChanged}),[o.getValues,o.setValue,i.gridMeta,s.grid,s.onGridChanged,s.onUpdateRow]);return s.grid.gridData?((p=s.grid.gridData)==null?void 0:p.length)===0&&s.cashGridDisabled?r.jsx(nn,{variant:"body2",color:"text.secondary",children:"()"}):r.jsx(Kn.Provider,{value:{...s.grid,...i.gridMeta,readOnly:!s.editing},children:r.jsx(dr,{ref:i.gridMeta.setGridRef,lockRows:s.gridDisabled,columns:i.gridMeta.columns,value:s.grid.gridData,onChange:d,onActiveCellChange:i.gridMeta.handleActiveCellChange,addRowsComponent:c,height:u,createRow:s.createRow,disableExpandSelection:!0,contextMenuComponent:j6t,slotProps:{box:{mt:-1.5}},...t,children:!s.editing&&r.jsx(pFe,{})})}):r.jsx(nn,{variant:"body2",color:"text.secondary",children:"()"})};LX.propTypes={store:l.bool};LX.displayName="P35GridContainer";const $X=a.memo(e=>{const{data:t,readWorking:n,readError:o,itemDataReady:s,editing:i,updating:c,slotProps:u,onCityChange:d,...p}=e;return r.jsxs("form",{...p,children:[n&&r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",minHeight:"30em",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}),o&&r.jsx(lo,{error:o,...u==null?void 0:u.error}),s&&r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{children:[r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:12,sm:12,md:3,lg:2,children:r.jsx($e,{typo:!0,name:"TrvID",label:"",autoFocus:!0,fullWidth:!0,value:t==null?void 0:t.TrvID,required:!0,rules:{required:""},readOnly:c,slotProps:{htmlInput:{maxLength:9}}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"TrvData",label:"",autoFocus:c,fullWidth:!0,required:!0,rules:{required:""}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:1,lg:1,children:r.jsx($e,{typo:!0,name:"AbbrID",label:"",fullWidth:!0,slotProps:{htmlInput:{maxLength:2}}})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,md:2,children:r.jsx(ac,{typo:!0,name:"city",onChange:d})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,lg:2,children:r.jsx(Zc,{typo:!0,name:"area",disabled:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,lg:2,children:r.jsx($e,{typo:!0,name:"Contact",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:5,lg:3,children:r.jsx($e,{typo:!0,name:"Tel",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,lg:3,children:r.jsx($e,{typo:!0,name:"Fax",label:"",fullWidth:!0})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,lg:2,children:r.jsx($e,{typo:!0,name:"Cel",label:"",fullWidth:!0,slotProps:{htmlInput:{maxLength:16}}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:5,lg:3,children:r.jsx($e,{typo:!0,name:"Email",label:"",fullWidth:!0,slotProps:{htmlInput:{maxLength:8}}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"Postal",label:"",fullWidth:!0,slotProps:{htmlInput:{maxLength:5}}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:6,lg:4,children:r.jsx($e,{typo:!0,name:"Addr",label:"",fullWidth:!0})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,lg:2,children:r.jsx($e,{typo:!0,name:"Uniform",label:"",fullWidth:!0,slotProps:{htmlInput:{maxLength:8}}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:6,lg:3,children:r.jsx($e,{typo:!0,name:"InvTitle",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:4.5,lg:3,children:r.jsx(au,{typo:!0,name:"bank",label:"",fullWidth:!0,disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,lg:4,children:r.jsx($e,{typo:!0,name:"BankAcct",label:"",fullWidth:!0,slotProps:{htmlInput:{maxLength:20}}})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,md:12,children:r.jsx($e,{typo:!0,name:"Remark",multiline:!0,minRows:1,label:"",fullWidth:!0})})]}),r.jsx("hr",{}),r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:1.5,children:r.jsx(xr,{typo:!0,variant:"outlined",fullWidth:!0,label:"",name:"Assign",defaultValue:!1,size:"small",slotProps:{label:{slotProps:{typography:{variant:"subtitle2"}}}}})}),r.jsx(j,{item:!0,xs:10.5,children:r.jsx($e,{typo:!0,name:"AsRemark",multiline:!0,minRows:1,label:"",fullWidth:!0})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,lg:2,children:r.jsx($e,{typo:!0,name:"Bonus1",type:"number",label:"1",fullWidth:!0,endAdornment:"%"})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,lg:2,children:r.jsx($e,{typo:!0,name:"Bonus2",type:"number",label:"2",fullWidth:!0,endAdornment:"%"})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,lg:2,children:r.jsx($e,{typo:!0,name:"CmsDn",type:"number",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,lg:9,xl:9,children:r.jsx(jt,{mt:1,children:r.jsx(LX,{})})}),r.jsx(j,{item:!0,xs:12,lg:3,xl:3,children:r.jsxs(j,{container:!0,spacing:1,children:[r.jsx(j,{item:!0,xs:7,children:r.jsx($e,{typo:!0,name:"guideAmt",label:"",fullWidth:!0,clearable:!0})}),r.jsx(j,{item:!0,xs:5,children:r.jsx(xr,{typo:!0,label:"X ",name:"guideAmtMultipliedByBus",variant:"outlined"})}),r.jsx(j,{item:!0,xs:7,children:r.jsx($e,{typo:!0,name:"driverAmt",label:"",fullWidth:!0,clearable:!0})}),r.jsx(j,{item:!0,xs:5,children:r.jsx(xr,{typo:!0,label:"X ",name:"driverAmtMultipliedByBus",variant:"outlined"})})]})})]})]})})]})});$X.propTypes={data:l.object,readWorking:l.bool,itemDataReady:l.bool,editing:l.bool,updating:l.bool,store:l.bool,readError:l.object,slotProps:l.object,onCityChange:l.func};$X.displayName="P35Form";const BX=a.memo(e=>{var s,i;const{anchor:t="right",...n}=e,o=a.useContext(Cu);return r.jsxs(Eo,{anchor:t,open:o.sideDrawerOpen,onClose:o.handleSideDrawerClose,...n,children:[r.jsx(pn,{label:"",children:(s=o.itemData)==null?void 0:s.WriteDate_N}),r.jsx(pn,{label:"",children:(i=o.itemData)==null?void 0:i.Writer_N})]})});BX.propTypes={anchor:l.string};BX.displayName="P35Drawer";const WX=a.memo(a.forwardRef((e,t)=>{const{onSave:n,onCancel:o,loading:s,...i}=e;return r.jsxs(a.Fragment,{ref:t,...i,children:[r.jsx(dt,{responsive:!0,onClick:o,color:"warning",variant:"outlined",...i,children:""}),r.jsx(dt,{responsive:!0,onClick:n,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:s,children:""})]})}));WX.displayName="P35DialogEditButtons";WX.propTypes={onSave:l.func,loading:l.bool};const mFe=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,onDelete:o,onSideDrawerOpen:s,...i}=e;return r.jsxs(a.Fragment,{ref:t,...i,children:[o&&r.jsx(hn,{startIcon:r.jsx(Fs,{}),color:"secondary",onClick:o,children:""}),n&&r.jsx(hn,{startIcon:r.jsx(bo,{}),color:"primary",onClick:n,children:""}),r.jsx(jr,{title:"",children:r.jsx(br,{onClick:s,size:"small",children:r.jsx(Po,{})})})]})}));mFe.propTypes={onEdit:l.func,onDelete:l.func,onSideDrawerOpen:l.func};const fFe=e=>{const{...t}=e,n=a.useContext(Cu),o=Ke();return n.itemDataReady?n.editing?r.jsx(WX,{onSave:o.handleSubmit(n.onEditorSubmit,n.onEditorSubmitError),onCancel:n.updating?n.confirmReturn:n.confirmQuitCreating,loading:n.editWorking,...t}):r.jsx(mFe,{onEdit:n.canUpdate?n.promptUpdating:null,onDelete:n.canDelete?n.confirmDelete:null,onSideDrawerOpen:n.handleSideDrawerOpen,...t}):!1};fFe.displayName="P35DialogButtonsContainer";const hFe=a.forwardRef((e,t)=>{const{...n}=e,{height:o}=Wt(),s=Ke(),{reset:i}=s,c=a.useContext(Cu),u=Xl(I=>I.breakpoints.down("xl")),d=a.useMemo(()=>o-20,[o]),p=a.useMemo(()=>c.gridDisabled,[c.gridDisabled]),m=a.useMemo(()=>[{...Pe.keyColumn("cmsType",or(SO,{name:"cmsType",disableOpenOnInput:!0})),title:"",grow:1,disabled:p},{...Pe.keyColumn("STrvCms",kt({alignRight:!0})),title:"(%)",disabled:p,minWidth:130,maxWidth:130},{...Pe.keyColumn("SCndCms",kt({alignRight:!0})),title:"(%)",disabled:p,minWidth:130,maxWidth:130},{...Pe.keyColumn("SDrvCms",kt({alignRight:!0})),title:"(%)",disabled:p,minWidth:130,maxWidth:130}],[p]),f=hr({data:c.grid.gridData,columns:m,skipDisabled:!0,lastCell:Xn.CREATE_ROW,grid:c.grid}),h=a.useCallback(()=>{f.setActiveCell({col:0,row:0})},[f]),g=vt(`
		guideAmt,
		guideAmtMultipliedByBus,
		driverAmt,
		driverAmtMultipliedByBus,
		TrvID,
		TrvData,
		AbbrID,
		city,
		area,
		Contact,
		Tel,
		Fax,
		Cel,
		Email,
		Postal,
		Addr,
		Uniform,
		InvTitle,
		bank,
		BankAcct,
		Remark,
		Assign,
		AsRemark,
		Bonus1,
		Bonus2,
		CmsDn,
		clearOnSite1,
		clearOnSite2,
		clearOnSite3,
		`,{lastField:h}),x=a.useCallback(I=>{switch(I.name){case"area":return!0;default:return!1}},[]),y=a.useMemo(()=>c.creating?"":c.updating?"":"",[c.creating,c.updating]),D=Qr({maxHeight:d,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),v=a.useCallback(I=>{s.setValue("area",I!=null&&I.CtAreaID?{CodeID:I.CtAreaID,CodeData:I.CtAreaData}:null)},[s]),T=a.useCallback(()=>{c.editing&&s.handleSubmit(c.onEditorSubmit,c.onEditorSubmitError)()},[s,c.editing,c.onEditorSubmit,c.onEditorSubmitError]);return $t(["Control+Enter"],()=>setTimeout(T),{enableOnFormTags:!0}),mn(()=>{c.itemDataReady&&(console.log("p35 form reset",c.itemData),i(c.itemData))},[c.itemData,c.itemDataReady]),r.jsxs(Er,{title:y,ref:t,fullScreen:u,responsive:!0,fullWidth:!0,maxWidth:"lg",TitleButtonsComponent:fFe,open:c.itemViewOpen,onClose:c.editing?c.confirmDialogClose:c.cancelAction,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[{paddingBottom:0},D.scroller],...n,children:[r.jsx(Ct,{...g,gridMeta:f,isFieldDisabled:x,children:r.jsx($X,{ref:t,onSubmit:T,editing:c.editing,updating:c.updating,readWorking:c.readWorking,readError:c.readError,data:c.itemData,itemDataReady:c.itemDataReady,onCityChange:v})}),r.jsx(BX,{BackdropProps:{sx:[ur.BACKDROP_TRANSPARENT]}})]})});hFe.displayName="P35DialogContainer";const IF=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:6,sm:4,...t})};IF.propTypes={loading:l.bool,children:l.oneOfType([l.node])};IF.displayName="P35IDColumn";const TF=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:17,sm:9,...t})};TF.propTypes={loading:l.bool,children:l.oneOfType([l.node])};TF.displayName="P35NameColumn";const OF=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:9,sx:{display:{xs:"none",sm:"block"}},...t})};OF.propTypes={loading:l.bool,children:l.oneOfType([l.node])};OF.displayName="P35BankColumn";const UX=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsxs(io,{ref:t,...n,children:[r.jsx(Hn,{}),r.jsx(IF,{children:""}),r.jsx(TF,{children:""}),r.jsx(OF,{children:""})]})}));UX.propTypes={};UX.displayName="P35ListHeader";const qX=a.memo(e=>{const{index:t,style:n,value:o,onClick:s}=e;return r.jsx("div",{style:n,children:r.jsx(yo,{borderBottom:!0,onClick:s,children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t}),r.jsx(IF,{children:o==null?void 0:o.TrvID}),r.jsx(TF,{children:o==null?void 0:o.TrvData}),r.jsx(OF,{children:o==null?void 0:o.AbbrID})]})})})});qX.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func};qX.displayName="P35ListRow";const VX=e=>{var u;const{index:t,...n}=e,o=a.useContext(Cu),s=a.useMemo(()=>o.listData[t],[o.listData,t]),i=a.useMemo(()=>!s,[s]),c=a.useMemo(()=>{var d;return(s==null?void 0:s.FactID)===((d=o.selectedItem)==null?void 0:d.FactID)},[(u=o.selectedItem)==null?void 0:u.FactID,s==null?void 0:s.FactID]);return r.jsx(No,{loading:i,children:r.jsx(qX,{index:t,value:s,onClick:d=>o.handleSelect(d,s),selected:c,...n})})};VX.propTypes={index:l.number,data:l.object};VX.displayName="P35ListRowContainer";const gFe=()=>{const e=a.useContext(Cu),{loadList:t}=e,n=Ke(),{getValues:o,setValue:s}=n,{height:i}=Wt(),c=Ue({name:"qs",control:n.control}),u=Gr(c,300);En(()=>{e.loadList()},[]),mn(()=>{if(console.log(`debouncedQs: ${u}`),u!==void 0){const p=o();t({params:{...p,qs:u},supressLoading:!0}),s("qs",u)}},[u]);const d=a.useMemo(()=>i?i-162:300,[i]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:VX,height:d,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};gFe.displayName="P35ListViewContainer";const I6t=e=>(e==null?void 0:e.map(t=>{const{SCmsID:n,SCmsData_N:o,STrvCms:s,SCndCms:i,SDrvCms:c,...u}=t;return{cmsType:{CodeID:n,CodeData:o},STrvCms:s,SCndCms:i,SDrvCms:c,...u}}))||[],T6t=e=>{var y,D,v,T,I,P,E;const{BankID:t,BankData_N:n,CityID:o,CityData_N:s,CtAreaID:i,CtAreaData_N:c,TrvFile_S:u,Remark:d,Assign:p,AsRemark:m,PayNowTB:f,CarNoTB:h,FixCmsTB:g,...x}=e;return{Assign:p==="Y",city:o?{CodeID:o,CodeData:s}:null,area:i?{CodeID:i,CodeData:c}:null,bank:t?{CodeID:t,CodeData:n}:null,Remark:d,AsRemark:m,clearOnSite1:((y=f==null?void 0:f[0])==null?void 0:y.STrvPnow)==="Y",clearOnSite2:((D=f==null?void 0:f[0])==null?void 0:D.SCndPnow)==="Y",clearOnSite3:((v=f==null?void 0:f[0])==null?void 0:v.SDrvPnow)==="Y",guideAmt:(T=g==null?void 0:g[0])==null?void 0:T.SCndFCms,driverAmt:(I=g==null?void 0:g[0])==null?void 0:I.SDrvFCms,guideAmtMultipliedByBus:((P=h==null?void 0:h[0])==null?void 0:P.SCndCar)==="Y",driverAmtMultipliedByBus:((E=h==null?void 0:h[0])==null?void 0:E.SDrvCar)==="Y",...u&&{commissions:I6t(u)},...x}},O6t=e=>e.filter(t=>{var n;return(n=t.cmsType)==null?void 0:n.CodeID}).map(({cmsType:t,STrvCms:n,SCndCms:o,SDrvCms:s,...i})=>({SCmsID:(t==null?void 0:t.CodeID)??"",STrvCms:(n==null?void 0:n.toString())??"",SCndCms:(o==null?void 0:o.toString())??"",SDrvCms:(s==null?void 0:s.toString())??"",...i})),E6t=(e,t)=>{const{Assign:n,city:o,bank:s,area:i,commissions:c,clearOnSite1:u,clearOnSite2:d,clearOnSite3:p,guideAmt:m,driverAmt:f,guideAmtMultipliedByBus:h,driverAmtMultipliedByBus:g,cmsType:x,Remark:y,AsRemark:D,...v}=e;return console.log("ignore props",c,x),{CityID:(o==null?void 0:o.CodeID)??"",CtAreaID:(i==null?void 0:i.CodeID)??"",BankID:(s==null?void 0:s.CodeID)??"",Remark:y,Assign:n?"Y":"N",AsRemark:D,PayNowTB:[{STrvPnow:u?"Y":"N",SCndPnow:d?"Y":"N",SDrvPnow:p?"Y":"N"}],FixCmsTB:[{SCndFCms:(m==null?void 0:m.toString())??"",SDrvFCms:(f==null?void 0:f.toString())??""}],CarNoTB:[{SCndCar:h?"Y":"N",SDrvCar:g?"Y":"N"}],TrvFile_S:O6t(t),...v}},P6t=e=>Gn.isAnyPropNotEmpty(e,"lvId,lvName,lvBank"),R6t=e=>{const{lvId:t,lvName:n,lvBank:o,...s}=e;return{si:t,sn:n,...o&&{bank:o==null?void 0:o.CodeID},...s}},w6t=e=>{const t=[];return e!=null&&e.si&&t.push({ShowName:"",OpCode:"LIKE",CondData:"%"+e.si+"%"}),e!=null&&e.sn&&t.push({ShowName:"",OpCode:"LIKE",CondData:"%"+e.sn+"%"}),e!=null&&e.bank&&t.push({ShowName:"",OpCode:"=",CondData:e.bank}),{StdWhere:t,...(e==null?void 0:e.qs)&&{CondData:{QS_ID:`${e.qs}%`,QS_NAME:`%${e.qs}%`}}}},LI={transformForReading:T6t,transformForEditorSubmit:E6t,paramsToJsonData:w6t,isFiltered:P6t,transformAsQueryParams:R6t},bFe=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(Cu),{moduleAuthorityLoading:s,canCreate:i}=o,c=a.useMemo(()=>"",[]);return s||!i?!1:r.jsx(dt,{responsive:!0,ref:t,variant:"contained",startIcon:r.jsx(Ao,{}),onClick:o.handlePromptCreating,sx:{fontWeight:600},...n,children:c})}));bFe.displayName="P35CreateButtonContainer";const xFe=()=>{const e=a.useContext(Cu);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};xFe.displayName="P35FetchResultLabelContainer";const zX=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(Vo),s=a.useContext(Cu),{moduleAuthorityLoading:i,canPrint:c}=s;return i||!c?!1:r.jsx(dt,{responsive:!0,ref:t,variant:"contained",startIcon:r.jsx(cs,{}),sx:{fontWeight:600},onClick:o.promptPrint,color:"neutral",...n,children:""})}));zX.propTypes={};zX.displayName="P35PrintButtonContainer";const yFe=a.memo(()=>r.jsxs(r.Fragment,{children:[r.jsx(bFe,{}),r.jsx(zX,{})]}));yFe.displayName="LeftButtons";const CFe=a.memo(a.forwardRef(({...e},t)=>r.jsx(kn,{alignItems:"flex-end",ref:t,LeftComponent:yFe,RightComponent:xFe,...e})));CFe.displayName="P35ListViewToolbar";const HX=a.memo(e=>{const{...t}=e;return r.jsx(Pt,{children:r.jsxs(Vt,{container:!0,spacing:1,columns:24,...t,children:[r.jsx(Vt,{item:!0,xs:24,sm:24,md:4,children:r.jsx($e,{autoFocus:!0,name:"lvId",label:"",variant:"outlined",size:"small",fullWidth:!0,clearable:!0})}),r.jsx(Vt,{item:!0,xs:24,sm:24,md:4,children:r.jsx($e,{name:"lvName",label:"",variant:"outlined",size:"small",fullWidth:!0,clearable:!0})}),r.jsx(Vt,{item:!0,xs:24,sm:24,md:4,children:r.jsx(au,{name:"lvBank",label:"",disableOpenOnInput:!0})})]})})});HX.propTypes={};HX.displayName="P35SearchForm";const DFe=a.memo(a.forwardRef((e,t)=>{const{width:n="40ch",onClose:o,onReset:s,ContentProps:i,...c}=e;return r.jsxs(sm,{width:n,ref:t,children:[r.jsx(am,{onClose:o,children:""}),r.jsx(ta,{sx:{mt:0,mb:0}}),r.jsx(tm,{...i,children:r.jsx(HX,{initSize:"xs",spacing:2})}),r.jsx(ta,{}),r.jsxs(em,{children:[r.jsx(dt,{size:"small",variant:"outlined",color:"primary",onClick:s,children:""}),r.jsx(dt,{startIcon:r.jsx(Xh,{}),type:"submit",variant:"contained",children:""})]})]})}));DFe.displayName="P35SearchPopper";const k6t=a.forwardRef(({...e},t)=>{const n=a.useContext(Cu),o=Ke(),s=vt(`
		lvId,
		lvName,
		lvBank,
		`);return r.jsx(Ct,{...s,children:r.jsx(DFe,{ref:t,onClose:n.handlePopperClose,onReset:n.handleReset({reset:o.reset}),...e})})});k6t.displayName="P35SearchPopperContainer";const GX=e=>{const{name:t="qs",...n}=e,o=Ke(),{getValues:s}=o,i=a.useContext(Cu),c=a.useRef(null),u=ru({inputRef:c,onChange:m=>{o.setValue(t,m)}});$t("ctrl+F12",u.handleFocus,{enableOnFormTags:!0});const d=$t("esc",u.handleClear,{enableOnFormTags:!0}),p=a.useMemo(()=>o.handleSubmit(i.onSearchSubmit,i.onSearchSubmitError),[i.onSearchSubmit,i.onSearchSubmitError,o]);return $t(["Shift+Enter","Control+Enter"],()=>setTimeout(p),{enableOnFormTags:!0}),r.jsx("form",{onSubmit:p,children:r.jsx("div",{ref:d,children:r.jsx(su,{autoFocus:!0,name:t,placeholder:"//(C+F12)",mobilePlaceholder:"/",borderRadius:"8px",maxWidth:"32ch",responsive:!0,inputRef:c,onClear:u.handleClear,Popper:!0,popperOpen:i.popperOpen,onPopperToggle:i.handlePopperToggle,onPopperOpen:i.handlePopperOpen,onPopperClose:i.handlePopperClose,filtered:LI.isFiltered(s())})})})};GX.propTypes={name:l.string};GX.displayName="SupplierSearchFieldContainer";const SFe=()=>{const e=at(),t=at({defaultValues:{}});return r.jsx(Ye,{...e,children:r.jsx(Ft,{children:r.jsxs(ws,{tableName:"TrvFile_F",paramsToJsonData:LI.paramsToJsonData,children:[r.jsx(_t,{children:r.jsx(GX,{name:"qs"})}),r.jsx(CFe,{}),r.jsx(UX,{}),r.jsx(gFe,{}),r.jsxs(Ye,{...t,children:[r.jsx(hFe,{}),r.jsx(Is,{})]})]})})})};SFe.displayName="P35Frame";const A6t=()=>{const e=a.useRef(),t=a.useContext(cr),n=a.useContext(Be),o=Bt({moduleId:"P35"}),s=Co(),{httpGetAsync:i,httpPostAsync:c,httpPutAsync:u,httpDeleteAsync:d}=Zn(),[p,m]=a.useState(),f=a.useContext(Mr),h=a.useCallback(()=>({Pkey:zn(),cmsType:null}),[]),g=yr({gridId:"commissions",keyColumn:"id",createRow:h}),x=a.useMemo(()=>!t.editing,[t.editing]),[y,D,v,T]=us(!1),I=so({url:"v1/cms/tour-groups",bearer:n.token,initialFetchSize:50}),P=a.useCallback(async({id:W,refresh:U})=>{const X=U?e.current:W;if(!X)throw new Error(" id");U||(e.current=W,t.startReading("...",{id:W}));try{const{status:te,payload:se,error:he}=await i({url:"v1/cms/tour-groups",bearer:n.token,params:{id:X}});if(console.log("payload",se),te.success){const pe=LI.transformForReading(se.data[0]);g.initGridData(pe.commissions,{fillRows:10}),t.finishedReading({data:pe})}else throw he||new Error("")}catch(te){t.failedReading(te)}},[n.token,t,g,i]),E=a.useCallback(async(W,U)=>{W==null||W.stopPropagation(),t.cancelAction(),m(U),t.startReading("...",{id:U.TrvID}),P({id:U.TrvID})},[t,P]),k=a.useCallback(()=>{f.confirm({message:"?",onConfirm:()=>{t.cancelUpdating(),P({refresh:!0})}})},[t,f,P]),w=a.useCallback(()=>{f.confirm({message:"?",onConfirm:()=>{t.cancelAction()}})},[t,f]),A=a.useCallback(()=>{f.confirm({message:"?",onConfirm:()=>{t.cancelAction()}})},[t,f]),F=a.useCallback(()=>{t.cancelAction()},[t]),_=a.useCallback(async({data:W,creating:U})=>{const X=U?"":"";try{U?t.startCreating():t.startUpdating();const te=U?c:u,{status:se,error:he}=await te({url:"v1/cms/tour-groups",data:W,bearer:n.token});if(se.success)ae.success(`${W==null?void 0:W.TrvID} ${W==null?void 0:W.TrvData}${X}`),U?(t.finishedCreating(),t.cancelReading()):(t.finishedUpdating(),P({id:W==null?void 0:W.TrvID})),I.loadList({refresh:!0});else throw he||new Error(`${X}`)}catch(te){U?(t.failedCreating(te),console.error("handleCreate.failed",te)):(t.failedUpdating(te),console.error("handleUpdate.failed",te)),ae.error(`${X}`,te)}},[n.token,t,c,u,I,P]),L=a.useCallback(async W=>{console.log("P35.onEditorSubmit()",W);const U=LI.transformForEditorSubmit(W,g.gridData);console.log("processed",U),t.creating||t.updating?_({data:U,creating:t.creating}):console.error("UNKNOWN SUBMIT TYPE")},[t.creating,t.updating,g.gridData,_]),K=a.useCallback(W=>{console.error("P35.onSubmitError",W),ae.error(", (*)",{position:"top-right"})},[]),z=a.useCallback(W=>{W==null||W.stopPropagation();const U={commissions:[]};t.promptCreating({data:U}),g.initGridData(U.ranges,{fillRows:10})},[t,g]),J=a.useCallback(()=>{var W,U;f.confirm({message:`${(W=t.itemData)==null?void 0:W.TrvID} ${(U=t.itemData)==null?void 0:U.TrvData}?`,onConfirm:async()=>{var X,te;try{t.startDeleting(t.itemData);const{status:se,error:he}=await d({url:"v1/cms/tour-groups",bearer:n.token,params:{id:(X=t.itemData)==null?void 0:X.TrvID}});if(se.success)t.cancelAction(),ae.success(`${(te=t.itemData)==null?void 0:te.TrvID} ${t.itemData.TrvData}`),I.loadList({refresh:!0});else throw he||""}catch(se){t.failedDeleting(se),console.error("confirmDelete.failed",se),ae.error("",se)}}})},[n.token,t,f,d,I]),Q=a.useCallback(W=>{T(),console.log("onSearchSubmit",W),I.loadList({params:LI.transformAsQueryParams(W)})},[T,I]),V=a.useCallback(W=>{console.error("onSearchSubmitError",W)},[]);return En(()=>{t.cancelAction()},[]),{...I,...t,onSearchSubmit:Q,onSearchSubmitError:V,handleSelect:E,selectedItem:p,handleDialogClose:F,confirmDialogClose:w,confirmQuitCreating:A,onEditorSubmit:L,onEditorSubmitError:K,confirmReturn:k,handlePromptCreating:z,confirmDelete:J,...o,...s,popperOpen:y,handlePopperToggle:D,handlePopperOpen:v,handlePopperClose:T,grid:g,gridDisabled:x,createRow:h}},vFe=({children:e})=>{const t=a.useContext(Be),n=A6t({token:t.token});return r.jsx(Cu.Provider,{value:{...n},children:e})};vFe.propTypes={children:l.oneOfType([l.array,l.object])};const sp=a.createContext(),KX=a.memo(e=>{const{data:t,readWorking:n,readError:o,itemDataReady:s,editing:i,updating:c,slotProps:u,...d}=e;return r.jsxs("form",{...d,children:[n&&r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",minHeight:"30em",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}),o&&r.jsx(lo,{error:o,...u==null?void 0:u.error}),s&&r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{children:[r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"CndID",label:"",autoFocus:!0,fullWidth:!0,value:t==null?void 0:t.CndID,required:!0,rules:{required:""},readOnly:c,slotProps:{htmlInput:{maxLength:10}}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"CndData",label:"",autoFocus:c,fullWidth:!0,required:!0,rules:{required:""}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"AbbrID",label:"",fullWidth:!0})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"LicNo",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"IDNo",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx(et,{typo:!0,name:"BDay",label:"",fullWidth:!0,clearable:!0,validate:!0})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,md:5,lg:3,children:r.jsx($e,{typo:!0,name:"Cel",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:5,children:r.jsx($e,{typo:!0,name:"Email",label:"",fullWidth:!0})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"Postal",label:"",fullWidth:!0,slotProps:{htmlInput:{maxLength:5}}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:6,lg:9,children:r.jsx($e,{typo:!0,name:"Addr",label:"",fullWidth:!0})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,md:12,children:r.jsx($e,{typo:!0,name:"Remark",multiline:!0,minRows:1,label:"",fullWidth:!0})})]}),r.jsx(jt,{component:"hr",my:2}),r.jsxs(j,{container:!0,spacing:1,children:[r.jsx(j,{item:!0,xs:2,children:r.jsx(xr,{typo:!0,variant:"outlined",fullWidth:!0,label:"",name:"Assign",defaultValue:!1,size:"small",slotProps:{label:{slotProps:{typography:{variant:"subtitle2"}}}}})}),r.jsx(j,{item:!0,xs:10,children:r.jsx($e,{typo:!0,name:"AsRemark",multiline:!0,minRows:1,label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,lg:2,children:r.jsx($e,{typo:!0,name:"Bonus",type:"number",label:"",fullWidth:!0,slotProps:{htmlInput:{maxLength:8}},size:"small",InputProps:{endAdornment:r.jsx(Il,{position:"end",children:"%"})},inputProps:{style:{textAlign:"right"}}})})]})]})})]})});KX.propTypes={data:l.object,readWorking:l.bool,itemDataReady:l.bool,editing:l.bool,updating:l.bool,store:l.bool,readError:l.object,slotProps:l.object};KX.displayName="P36Form";const QX=a.memo(e=>{var s,i;const{anchor:t="right",...n}=e,o=a.useContext(sp);return r.jsxs(Eo,{anchor:t,open:o.sideDrawerOpen,onClose:o.handleSideDrawerClose,...n,children:[r.jsx(pn,{label:"",children:(s=o.itemData)==null?void 0:s.WriteDate_N}),r.jsx(pn,{label:"",children:(i=o.itemData)==null?void 0:i.Writer_N})]})});QX.propTypes={anchor:l.string};QX.displayName="P36Drawer";const YX=a.memo(a.forwardRef((e,t)=>{const{onSave:n,onCancel:o,loading:s,...i}=e;return r.jsxs(a.Fragment,{ref:t,...i,children:[r.jsx(dt,{responsive:!0,onClick:o,color:"warning",variant:"outlined",...i,children:""}),r.jsx(dt,{responsive:!0,onClick:n,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:s,children:""})]})}));YX.displayName="P36DialogEditButtons";YX.propTypes={onSave:l.func,loading:l.bool};const jFe=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,onDelete:o,onSideDrawerOpen:s,...i}=e;return r.jsxs(a.Fragment,{ref:t,...i,children:[o&&r.jsx(hn,{startIcon:r.jsx(Fs,{}),color:"secondary",onClick:o,children:""}),n&&r.jsx(hn,{startIcon:r.jsx(bo,{}),color:"primary",onClick:n,children:""}),r.jsx(jr,{title:"",children:r.jsx(br,{onClick:s,size:"small",children:r.jsx(Po,{})})})]})}));jFe.propTypes={onEdit:l.func,onDelete:l.func,onSideDrawerOpen:l.func};const IFe=e=>{const{...t}=e,n=a.useContext(sp),o=Ke();return n.itemDataReady?n.editing?r.jsx(YX,{onSave:o.handleSubmit(n.onEditorSubmit,n.onEditorSubmitError),onCancel:n.updating?n.confirmReturn:n.confirmQuitCreating,loading:n.editWorking,...t}):r.jsx(jFe,{onEdit:n.canUpdate?n.promptUpdating:null,onDelete:n.canDelete?n.confirmDelete:null,onSideDrawerOpen:n.handleSideDrawerOpen,...t}):!1};IFe.displayName="P36DialogButtonsContainer";const TFe=a.forwardRef((e,t)=>{const{...n}=e,{height:o}=Wt(),s=a.useMemo(()=>o-120,[o]),i=vt(`
		CndID,
		CndData,
		AbbrID,
		LicNo,
		IDNo,
		BDay,
		Cel,
		Email,
		Postal,
		Addr,
		Remark,
		Assign,
		AsRemark,
		Bound,
		`),c=Ke(),{reset:u}=c,d=a.useContext(sp),p=a.useMemo(()=>d.creating?"":d.updating?"":"",[d.creating,d.updating]),m=Qr({maxHeight:s,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),f=a.useCallback(()=>{d.editing&&c.handleSubmit(d.onEditorSubmit,d.onEditorSubmitError)()},[c,d.editing,d.onEditorSubmit,d.onEditorSubmitError]);return $t(["Control+Enter"],()=>setTimeout(f),{enableOnFormTags:!0}),mn(()=>{d.itemDataReady&&(console.log("p36 form reset",d.itemData),u(d.itemData))},[d.itemData,d.itemDataReady]),r.jsxs(Er,{title:p,ref:t,responsive:!0,fullWidth:!0,maxWidth:"md",TitleButtonsComponent:IFe,open:d.itemViewOpen,onClose:d.editing?d.confirmDialogClose:d.cancelAction,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[m.scroller],...n,children:[r.jsx(Ct,{...i,children:r.jsx(KX,{ref:t,onSubmit:f,editing:d.editing,updating:d.updating,readWorking:d.readWorking,readError:d.readError,data:d.itemData,itemDataReady:d.itemDataReady})}),r.jsx(QX,{BackdropProps:{sx:[ur.BACKDROP_TRANSPARENT]}})]})});TFe.displayName="P36DialogContainer";const oD=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:6,sm:4,...t})};oD.propTypes={loading:l.bool,children:l.oneOfType([l.node])};oD.displayName="P36IDColumn";const EF=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:17,sm:9,...t})};EF.propTypes={loading:l.bool,children:l.oneOfType([l.node])};EF.displayName="P36NameColumn";const JX=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsxs(io,{ref:t,...n,children:[r.jsx(Hn,{}),r.jsx(oD,{children:""}),r.jsx(EF,{children:""}),r.jsx(oD,{children:""})]})}));JX.propTypes={};JX.displayName="P36ListHeader";const XX=a.memo(e=>{const{index:t,style:n,value:o,onClick:s}=e;return r.jsx("div",{style:n,children:r.jsx(yo,{borderBottom:!0,onClick:s,children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t}),r.jsx(oD,{children:o==null?void 0:o.CndID}),r.jsx(EF,{children:o==null?void 0:o.CndData}),r.jsx(oD,{children:o==null?void 0:o.AbbrID})]})})})});XX.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func};XX.displayName="P36ListRow";const ZX=e=>{var u;const{index:t,...n}=e,o=a.useContext(sp),s=a.useMemo(()=>o.listData[t],[o.listData,t]),i=a.useMemo(()=>!s,[s]),c=a.useMemo(()=>{var d;return(s==null?void 0:s.FactID)===((d=o.selectedItem)==null?void 0:d.FactID)},[(u=o.selectedItem)==null?void 0:u.FactID,s==null?void 0:s.FactID]);return r.jsx(No,{loading:i,children:r.jsx(XX,{index:t,value:s,onClick:d=>o.handleSelect(d,s),selected:c,...n})})};ZX.propTypes={index:l.number,data:l.object};ZX.displayName="P36ListRowContainer";const OFe=()=>{const e=a.useContext(sp),{loadList:t}=e,n=Ke(),{getValues:o,setValue:s}=n,{height:i}=Wt(),c=Ue({name:"qs",control:n.control}),u=Gr(c,300);En(()=>{e.loadList()},[]),mn(()=>{if(console.log(`debouncedQs: ${u}`),u!==void 0){const p=o();t({params:{...p,qs:u},supressLoading:!0}),s("qs",u)}},[u]);const d=a.useMemo(()=>i?i-162:300,[i]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:ZX,height:d,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};OFe.displayName="P36ListViewContainer";const EFe=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(sp),{moduleAuthorityLoading:s,canCreate:i}=o,c=a.useMemo(()=>"",[]);return s||!i?!1:r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(Ao,{}),onClick:o.handlePromptCreating,sx:{fontWeight:600},...n,children:c})}));EFe.displayName="P36CreateButtonContainer";const PFe=()=>{const e=a.useContext(sp);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};PFe.displayName="P36FetchResultLabelContainer";const RFe=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(Vo),s=a.useContext(sp),{moduleAuthorityLoading:i,canPrint:c}=s;return i||!c?!1:r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(cs,{}),sx:{fontWeight:600},onClick:o.promptPrint,color:"neutral",...n,children:""})}));RFe.propTypes={};RFe.displayName="P36PrintButtonContainer";const wFe=a.memo(()=>r.jsx(r.Fragment,{children:r.jsx(EFe,{})}));wFe.displayName="LeftButtons";const kFe=a.memo(a.forwardRef(({...e},t)=>r.jsx(kn,{alignItems:"flex-end",ref:t,LeftComponent:wFe,RightComponent:PFe,...e})));kFe.displayName="P36ListViewToolbar";const eZ=a.memo(e=>{const{...t}=e;return r.jsx(Pt,{children:r.jsxs(Vt,{container:!0,spacing:1,columns:24,...t,children:[r.jsx(Vt,{item:!0,xs:24,sm:24,md:4,children:r.jsx($e,{autoFocus:!0,name:"lvId",label:"",variant:"outlined",size:"small",fullWidth:!0,clearable:!0})}),r.jsx(Vt,{item:!0,xs:24,sm:24,md:4,children:r.jsx($e,{name:"lvName",label:"",variant:"outlined",size:"small",fullWidth:!0,clearable:!0})}),r.jsx(Vt,{item:!0,xs:24,sm:24,md:4,children:r.jsx(au,{name:"lvBank",label:"",disableOpenOnInput:!0})})]})})});eZ.propTypes={};eZ.displayName="P36SearchForm";const AFe=a.memo(a.forwardRef((e,t)=>{const{width:n="40ch",onClose:o,onReset:s,ContentProps:i,...c}=e;return r.jsxs(sm,{width:n,ref:t,children:[r.jsx(am,{onClose:o,children:""}),r.jsx(ta,{sx:{mt:0,mb:0}}),r.jsx(tm,{...i,children:r.jsx(eZ,{initSize:"xs",spacing:2})}),r.jsx(ta,{}),r.jsxs(em,{children:[r.jsx(dt,{size:"small",variant:"outlined",color:"primary",onClick:s,children:""}),r.jsx(dt,{startIcon:r.jsx(Xh,{}),type:"submit",variant:"contained",children:""})]})]})}));AFe.displayName="P36SearchPopper";const N6t=a.forwardRef(({...e},t)=>{const n=a.useContext(sp),o=Ke(),s=vt(`
		lvId,
		lvName,
		lvBank,
		`);return r.jsx(Ct,{...s,children:r.jsx(AFe,{ref:t,onClose:n.handlePopperClose,onReset:n.handleReset({reset:o.reset}),...e})})});N6t.displayName="P36SearchPopperContainer";const F6t=e=>{const{BDay:t,Assign:n,...o}=e;return{BDay:Re.parseDate(t),Assign:n==="Y",...o}},M6t=e=>{const{BDay:t,Assign:n,Bouns:o,...s}=e;return{BDay:Re.formatDate(t)??"",Assign:n?"Y":"N",Bouns:(o==null?void 0:o.toString())??"",...s}},_6t=e=>Gn.isAnyPropNotEmpty(e,"lvId,lvName,lvBank"),L6t=e=>{const{lvId:t,lvName:n,lvBank:o,...s}=e;return{si:t,sn:n,...o&&{bank:o==null?void 0:o.CodeID},...s}},$6t=e=>{const t=[];return e!=null&&e.si&&t.push({ShowName:"",OpCode:"LIKE",CondData:"%"+e.si+"%"}),e!=null&&e.sn&&t.push({ShowName:"",OpCode:"LIKE",CondData:"%"+e.sn+"%"}),e!=null&&e.bank&&t.push({ShowName:"",OpCode:"=",CondData:e.bank}),{StdWhere:t,...(e==null?void 0:e.qs)&&{CondData:{QS_ID:`${e.qs}%`,QS_NAME:`%${e.qs}%`}}}},KP={transformForReading:F6t,transformForEditorSubmit:M6t,paramsToJsonData:$6t,isFiltered:_6t,transformAsQueryParams:L6t},tZ=e=>{const{name:t="qs",...n}=e,o=Ke(),{getValues:s}=o,i=a.useContext(sp),c=a.useRef(null),u=ru({inputRef:c,onChange:m=>{o.setValue(t,m)}});$t("ctrl+F12",u.handleFocus,{enableOnFormTags:!0});const d=$t("esc",u.handleClear,{enableOnFormTags:!0}),p=a.useMemo(()=>o.handleSubmit(i.onSearchSubmit,i.onSearchSubmitError),[i.onSearchSubmit,i.onSearchSubmitError,o]);return $t(["Shift+Enter","Control+Enter"],()=>setTimeout(p),{enableOnFormTags:!0}),r.jsx("form",{onSubmit:p,children:r.jsx("div",{ref:d,children:r.jsx(su,{autoFocus:!0,name:t,placeholder:"//(C+F12)",mobilePlaceholder:"/",borderRadius:"8px",maxWidth:"32ch",responsive:!0,inputRef:c,onClear:u.handleClear,Popper:!0,popperOpen:i.popperOpen,onPopperToggle:i.handlePopperToggle,onPopperOpen:i.handlePopperOpen,onPopperClose:i.handlePopperClose,filtered:KP.isFiltered(s())})})})};tZ.propTypes={name:l.string};tZ.displayName="SupplierSearchFieldContainer";const NFe=()=>{const e=at(),t=at({defaultValues:{}});return r.jsx(Ye,{...e,children:r.jsxs(Ft,{children:[r.jsx(_t,{children:r.jsx(tZ,{name:"qs"})}),r.jsx(kFe,{}),r.jsx(JX,{}),r.jsx(OFe,{}),r.jsx(Ye,{...t,children:r.jsx(TFe,{})})]})})};NFe.displayName="P36Frame";const B6t=({token:e})=>{const t=a.useRef(),n=a.useContext(cr),o=Bt({moduleId:"P36"}),s=Co(),{httpGetAsync:i,httpPostAsync:c,httpPutAsync:u,httpDeleteAsync:d}=Zn(),[p,m]=a.useState(),f=a.useContext(Mr),[h,g,x,y]=us(!1),D=so({url:"v1/cms/tour-guides",bearer:e,initialFetchSize:50}),v=a.useCallback(async({id:Q,refresh:V})=>{try{const W=V?t.current:Q;if(!W)throw new Error(" id");V||(t.current=Q,n.startReading("...",{id:Q}));const{status:U,payload:X,error:te}=await i({url:"v1/cms/tour-guides",bearer:e,params:{id:W}});if(console.log("payload",X),U.success){const se=KP.transformForReading(X.data[0]);n.finishedReading({data:se})}else throw te||new Error("")}catch(W){n.failedReading(W)}},[n,i,e]),T=a.useCallback(async(Q,V)=>{Q==null||Q.stopPropagation(),n.cancelAction(),m(V),n.startReading("...",{id:V.CndID}),v({id:V.CndID})},[n,v]),I=a.useCallback(()=>{f.confirm({message:"?",onConfirm:()=>{n.cancelUpdating(),v({refresh:!0})}})},[n,f,v]),P=a.useCallback(()=>{f.confirm({message:"?",onConfirm:()=>{n.cancelAction()}})},[n,f]),E=a.useCallback(()=>{f.confirm({message:"?",onConfirm:()=>{n.cancelAction()}})},[n,f]),k=a.useCallback(()=>{n.cancelAction()},[n]),w=a.useCallback(async({data:Q,creating:V})=>{const W=V?"":"";try{V?n.startCreating():n.startUpdating;const U=V?c:u,{status:X,error:te}=await U({url:"v1/cms/tour-guides",data:Q,bearer:e});if(X.success)ae.success(`${Q==null?void 0:Q.CndID} ${Q==null?void 0:Q.CndData}${W}`),V?(n.finishedCreating(),n.cancelReading()):(n.finishedUpdating(),v({id:Q==null?void 0:Q.CndID})),D.loadList({refresh:!0});else throw te||new Error(`${W}`)}catch(U){V?(n.failedCreating(U),console.error("handleCreate.failed",U)):(n.failedUpdating(U),console.error("handleUpdate.failed",U)),ae.error(`${W}`,U)}},[n,c,u,D,v,e]);a.useCallback(async({data:Q})=>{try{n.startUpdating();const{status:V,error:W}=await u({url:"v1/cms/tour-guides",data:Q,bearer:e});if(V.success)ae.success(`${Q==null?void 0:Q.CndID} ${Q==null?void 0:Q.CndData}`),n.finishedUpdating(),v({id:Q==null?void 0:Q.CndID}),D.loadList({refresh:!0});else throw W||new Error("")}catch(V){n.failedUpdating(V),console.error("handleUpdate.failed",V),ae.error("",V)}},[n,u,v,D,e]);const A=a.useCallback(async Q=>{console.log("P36.onEditorSubmit()",Q);const V=KP.transformForEditorSubmit(Q);console.log("processed",V),n.creating||n.updating?w({data:V,creating:n.creating}):console.error("UNKNOWN SUBMIT TYPE")},[n.creating,n.updating,w]),F=a.useCallback(Q=>{console.error("P36.onSubmitError",Q),ae.error(", (*)",{position:"top-right"})},[]),_=a.useCallback(Q=>{Q==null||Q.stopPropagation();const V={trans:[],combo:[]};n.promptCreating({data:V})},[n]),L=a.useCallback(()=>{var Q,V;f.confirm({message:`${(Q=n.itemData)==null?void 0:Q.CndID} ${(V=n.itemData)==null?void 0:V.CndData}?`,onConfirm:async()=>{var W,U;try{n.startDeleting(n.itemData);const{status:X,error:te}=await d({url:"v1/cms/tour-guides",bearer:e,params:{id:(W=n.itemData)==null?void 0:W.CndID}});if(X.success)n.cancelAction(),ae.success(`${(U=n.itemData)==null?void 0:U.CndID} ${n.itemData.CndData}`),D.loadList({refresh:!0});else throw te||""}catch(X){n.failedDeleting(X),console.error("confirmDelete.failed",X),ae.error("",X)}}})},[n,f,d,D,e]),K=a.useCallback(Q=>{y(),console.log("onSearchSubmit",Q),D.loadList({params:KP.transformAsQueryParams(Q)})},[y,D]),z=a.useCallback(Q=>{console.error("onSearchSubmitError",Q)},[]),J=a.useCallback(({reset:Q})=>()=>{Q({lvId:"",lvName:"",lvBank:null})},[]);return En(()=>{n.cancelAction()},[]),{...D,...n,onSearchSubmit:K,onSearchSubmitError:z,handleSelect:T,selectedItem:p,handleDialogClose:k,confirmDialogClose:P,confirmQuitCreating:E,onEditorSubmit:A,onEditorSubmitError:F,confirmReturn:I,handlePromptCreating:_,confirmDelete:L,...o,...s,popperOpen:h,handlePopperToggle:g,handlePopperOpen:x,handlePopperClose:y,handleReset:J}},FFe=({children:e})=>{const t=a.useContext(Be),n=B6t({token:t.token});return r.jsx(sp.Provider,{value:{...n},children:e})};FFe.propTypes={children:l.oneOfType([l.array,l.object])};const Zy=Object.freeze({DOMESTIC:"1",AGENCY:"2",BUS:"3",CHINA:"4"}),vO=[{id:Zy.DOMESTIC,label:""},{id:Zy.AGENCY,label:"()"},{id:Zy.BUS,label:""},{id:Zy.CHINA,label:""}],MFe=e=>{if(!e)return"";const{id:t,label:n}=e;return`[${t||"  "}] ${n}`},nZ=(e,t)=>(t??vO).find(n=>n.id==e),W6t=e=>MFe(nZ(e)),U6t=(e,t)=>(t??vO).find(n=>{var o;return((o=n.id)==null?void 0:o.toLowerCase())==(e==null?void 0:e.toLowerCase())}),q6t=(e,t)=>(e==null?void 0:e.id)==(t==null?void 0:t.id),V6t=e=>`${e==null?void 0:e.id}`,z6t=(e,t)=>(t??vO).find(n=>n.id===e),H6t=(e,t)=>(t??vO).find(n=>n.id==e),_Fe=()=>Zy.DOMESTIC,G6t=()=>nZ(_Fe()),si={Types:Zy,options:vO,getOptionLabel:MFe,getOptionById:nZ,findOptionByInput:U6t,isOptionEqualToValue:q6t,getOptionKey:V6t,getDefaultValue:_Fe,getDefaultOption:G6t,findById:z6t,findByInput:H6t,getLabelById:W6t},eC=Object.freeze({LOCAL:"1",LOCAL_HOTEL:"2",BUS:"3",CHINA:"4"}),rZ=[{id:eC.LOCAL,label:""},{id:eC.LOCAL_HOTEL,label:"()"},{id:eC.BUS,label:""},{id:eC.CHINA,label:""}],K6t=e=>{if(!e)return"";const{id:t,label:n}=e;return`[${t||"  "}] ${n}`},LFe=e=>rZ.find(t=>t.id==e),Q6t=e=>rZ.find(t=>t.id==e),Y6t=(e,t)=>(e==null?void 0:e.id)==(t==null?void 0:t.id),J6t=e=>`${e==null?void 0:e.id}`,$Fe=()=>eC.LOCAL,X6t=()=>LFe($Fe()),Bp={Types:eC,options:rZ,getOptionLabel:K6t,getOptionById:LFe,findByInput:Q6t,isOptionEqualToValue:Y6t,getOptionKey:J6t,getDefaultValue:$Fe,getDefaultOption:X6t},Of=a.createContext(),BFe=Object.freeze({AMOUNT:0,PERCENT:1}),Z6t=(e,t)=>{var p,m;const n={GrpType:(e==null?void 0:e.GrpType)||"",SUpCP:[],SDrvCms:[],STrvCms:[],SDnCp:[]};e==null||e.ComNCont_S.forEach(f=>{n.SUpCP.push(f.SUpCp||""),n.SDrvCms.push(f.SDrvCms?f.SDrvCms.replace("%",""):""),n.STrvCms.push(f.STrvCms?f.STrvCms.replace("%",""):""),n.SDnCp.push(f.SDnCp||"")});const o=4-((p=n.SUpCP)==null?void 0:p.length);if(o>0)for(let f=0;f<o;f++)n.SUpCP.push(""),n.SDrvCms.push(""),n.STrvCms.push(""),n.SDnCp.push("");if(t!==si.Types.CHINA)return n;const s=(m=e==null?void 0:e.ComNCont_S)==null?void 0:m[0],{SDrvCms:i}=s;let c="",u="",d=null;return i.includes("%")?(u=i.replace("%",""),d=1):(c=i,d=0),{...n,ADrvCms:c,BDrvCms:u,busCmsType:d}},eUt=e=>{var u;const t=(u=e==null?void 0:e.ComNCont_S)==null?void 0:u[0],{SDrvCms:n,STrvCms:o}=t||{};let s="",i="",c=null;return n.includes("%")?(i=n.replace("%",""),c=1):(s=n,c=0),{ADrvCms:s,BDrvCms:i,ATrvCms:o,busCmsType:c}},tUt=(e,t)=>{var o,s,i,c,u,d,p,m,f,h,g,x,y;const n={GrpType:t,ComNCont_S:[]};if(t==si.Types.CHINA){const{busCmsType:D,ADrvCms:v,BDrvCms:T,ATrvCms:I}=e;n.ComNCont_S.push({Seq:1,SDrvCms:D==BFe.AMOUNT?v:`${T??"0"}%`,STrvCms:I})}else{const D=Math.max(((o=e.SUpCP)==null?void 0:o.length)||1,((s=e.SDrvCms)==null?void 0:s.length)||1,((i=e.STrvCms)==null?void 0:i.length)||1,((c=e.SDnCp)==null?void 0:c.length)||1);for(let v=0;v<D;v++){const T={Seq:v+1,SDnCp:(u=e.SDnCp)!=null&&u[v]?(d=e.SDnCp)==null?void 0:d[v]:"",SUpCp:((p=e.SUpCP)==null?void 0:p[v])||"",SDrvCms:v===0||v===2?(m=e.SDrvCms)!=null&&m[v]?`${(f=e.SDrvCms)==null?void 0:f[v]}%`:"":((h=e.SDrvCms)==null?void 0:h[v])??"",STrvCms:v===0||v===2?(g=e.STrvCms)!=null&&g[v]?`${(x=e.STrvCms)==null?void 0:x[v]}%`:"":((y=e.STrvCms)==null?void 0:y[v])??""};n.ComNCont_S.push(T)}}return n},nUt=e=>Gn.isAnyPropNotEmpty(e,"lvId,lvName,lvBank"),rUt=e=>{const{lvId:t,lvName:n,lvBank:o,...s}=e;return{si:t,sn:n,...o&&{bank:o==null?void 0:o.CodeID},...s}},oUt=e=>{const t=[];return e!=null&&e.si&&t.push({ShowName:"",OpCode:"LIKE",CondData:"%"+e.si+"%"}),e!=null&&e.sn&&t.push({ShowName:"",OpCode:"LIKE",CondData:"%"+e.sn+"%"}),e!=null&&e.bank&&t.push({ShowName:"",OpCode:"=",CondData:e.bank}),{StdWhere:t,...(e==null?void 0:e.qs)&&{CondData:{QS_ID:`${e.qs}%`,QS_NAME:`%${e.qs}%`}}}},ub={transformForReading:Z6t,transformForEditorSubmit:tUt,paramsToJsonData:oUt,isFiltered:nUt,transformAsQueryParams:rUt,transformForChinaReading:eUt,BusCmsTypes:BFe},WFe=e=>{const{editing:t,...n}=e;return r.jsxs(ga,{value:si.Types.DOMESTIC,...n,children:[r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:4,children:r.jsx(ve,{justifyContent:"flex-end",height:"36px",alignItems:"center",children:r.jsx(nn,{children:""})})}),r.jsx(j,{item:!0,xs:4,children:r.jsx($e,{name:"SUpCP[0]",size:"small",disabled:!t,endAdornment:""})}),r.jsx(j,{item:!0,xs:4,children:r.jsx(ve,{height:"36px",alignItems:"center",children:r.jsx(nn,{children:""})})}),r.jsx(j,{item:!0,xs:4,children:r.jsx(ve,{justifyContent:"flex-end",height:"36px",alignItems:"center",children:r.jsx(nn,{children:""})})}),r.jsx(j,{item:!0,xs:4,children:r.jsx($e,{name:"SDrvCms[0]",size:"small",disabled:!t,endAdornment:"%"})}),r.jsx(j,{item:!0,xs:4})]}),r.jsx(jt,{my:3,children:r.jsx("hr",{})}),r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:4,children:r.jsx(ve,{justifyContent:"flex-end",height:"36px",alignItems:"center",children:r.jsx(nn,{children:""})})}),r.jsx(j,{item:!0,xs:8,children:r.jsx(ct,{legend:"",disabled:!t,leftComponent:r.jsx($e,{name:"SDnCp[1]",borderless:!0,size:"small",fullWidth:!0,emptyText:"",disabled:!t,endAdornment:""}),rightComponent:r.jsx($e,{name:"SUpCP[1]",borderless:!0,size:"small",fullWidth:!0,emptyText:"",disabled:!t,endAdornment:""})})}),r.jsx(j,{item:!0,xs:4,children:r.jsx(ve,{justifyContent:"flex-end",height:"36px",alignItems:"center",children:r.jsx(nn,{children:""})})}),r.jsx(j,{item:!0,xs:4,children:r.jsx($e,{name:"SDrvCms[1]",size:"small",endAdornment:"",disabled:!t})}),r.jsx(j,{item:!0,xs:4})]}),r.jsx(jt,{my:3,children:r.jsx("hr",{})}),r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:4,children:r.jsx(ve,{justifyContent:"flex-end",height:"36px",alignItems:"center",children:r.jsx(nn,{children:""})})}),r.jsx(j,{item:!0,xs:4,children:r.jsx($e,{name:"SDnCp[2]",size:"small",disabled:!t,endAdornment:""})}),r.jsx(j,{item:!0,xs:4,children:r.jsx(ve,{height:"36px",alignItems:"center",children:r.jsx(nn,{children:""})})}),r.jsx(j,{item:!0,xs:4,children:r.jsx(ve,{justifyContent:"flex-end",height:"36px",alignItems:"center",children:r.jsx(nn,{children:""})})}),r.jsx(j,{item:!0,xs:4,children:r.jsx($e,{name:"SDrvCms[2]",size:"small",endAdornment:"%",disabled:!t})}),r.jsx(j,{item:!0,xs:4})]})]})};WFe.propTypes={editing:l.bool};const sUt=a.memo(WFe),UFe=e=>{const{...t}=e,n=a.useContext(Of),s=Ke().handleSubmit(n.onSubmit,n.onSubmitError);return n.editing?r.jsx(dt,{responsive:!0,variant:"contained",color:"warning",size:"small",endIcon:r.jsx(AD,{}),loading:n.editWorking,onClick:s,...t,children:""}):!1};UFe.displayName="P37SaveButton";const qFe=e=>{const{...t}=e,n=a.useContext(Of);return n.editing?r.jsx(dt,{responsive:!0,color:"warning",variant:"outlined",size:"small",onClick:n.cancelEditing,...t,children:""}):!1};qFe.displayName="P37CancelButton";const oZ=e=>{const{...t}=e,n=a.useContext(Of);return n.editing?!1:r.jsx(dt,{responsive:!0,variant:"contained",color:"primary",size:"small",endIcon:r.jsx(eO,{}),onClick:n.promptUpdating,...t,children:""})};oZ.displayName="P37EditButton";const aUt=a.memo(()=>r.jsx(r.Fragment,{children:r.jsx(oZ,{})}));aUt.displayName="LeftButtons";const VFe=a.memo(()=>r.jsxs(r.Fragment,{children:[r.jsx(oZ,{}),r.jsx(UFe,{}),r.jsx(qFe,{})]}));VFe.displayName="RightButtons";const zFe=a.memo(a.forwardRef(({...e},t)=>r.jsx(kn,{alignItems:"flex-end",ref:t,bgcolor:Nn.TOOLBAR,RightComponent:VFe,...e})));zFe.displayName="P37Toolbar";const HFe=()=>{const e=a.useContext(Of);return r.jsx(sUt,{editing:e.editing})};HFe.displayName="P37DomesticTabContainer";const GFe=e=>{const{editing:t,maxHeight:n,...o}=e,s=Qr({maxHeight:n});return r.jsxs(ga,{value:si.Types.AGENCY,sx:[s.scroller],...o,children:[r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:4,children:r.jsx(ve,{justifyContent:"flex-end",height:"36px",alignItems:"center",children:r.jsx(nn,{children:""})})}),r.jsx(j,{item:!0,xs:4,children:r.jsx($e,{name:"SUpCP[0]",size:"small",disabled:!t,endAdornment:""})}),r.jsx(j,{item:!0,xs:4,children:r.jsx(ve,{height:"36px",alignItems:"center",children:r.jsx(nn,{children:""})})}),r.jsx(j,{item:!0,xs:4,children:r.jsx(ve,{justifyContent:"flex-end",height:"36px",alignItems:"center",children:r.jsx(nn,{children:""})})}),r.jsx(j,{item:!0,xs:4,children:r.jsx($e,{name:"SDrvCms[0]",size:"small",disabled:!t,endAdornment:"%"})}),r.jsx(j,{item:!0,xs:4}),r.jsx(j,{item:!0,xs:4,children:r.jsx(ve,{justifyContent:"flex-end",height:"36px",alignItems:"center",children:r.jsx(nn,{children:""})})}),r.jsx(j,{item:!0,xs:4,children:r.jsx($e,{name:"STrvCms[0]",size:"small",disabled:!t,endAdornment:"%"})}),r.jsx(j,{item:!0,xs:4})]}),r.jsx(jt,{my:3,children:r.jsx("hr",{})}),r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:4,children:r.jsx(ve,{justifyContent:"flex-end",height:"36px",alignItems:"center",children:r.jsx(nn,{children:""})})}),r.jsx(j,{item:!0,xs:8,children:r.jsx(ct,{legend:"",disabled:!t,leftComponent:r.jsx($e,{name:"SDnCp[1]",borderless:!0,size:"small",fullWidth:!0,emptyText:"",disabled:!t,endAdornment:""}),rightComponent:r.jsx($e,{name:"SUpCP[1]",borderless:!0,size:"small",fullWidth:!0,emptyText:"",disabled:!t,endAdornment:""})})}),r.jsx(j,{item:!0,xs:4,children:r.jsx(ve,{justifyContent:"flex-end",height:"36px",alignItems:"center",children:r.jsx(nn,{children:""})})}),r.jsx(j,{item:!0,xs:4,children:r.jsx($e,{name:"SDrvCms[1]",size:"small",InputProps:{endAdornment:r.jsx(Il,{position:"end",children:""})},disabled:!t})}),r.jsx(j,{item:!0,xs:4}),r.jsx(j,{item:!0,xs:4,children:r.jsx(ve,{justifyContent:"flex-end",height:"36px",alignItems:"center",children:r.jsx(nn,{children:""})})}),r.jsx(j,{item:!0,xs:4,children:r.jsx($e,{name:"STrvCms[1]",size:"small",InputProps:{endAdornment:r.jsx(Il,{position:"end",children:""})},disabled:!t})}),r.jsx(j,{item:!0,xs:4})]}),r.jsx(jt,{my:3,children:r.jsx("hr",{})}),r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:4,children:r.jsx(ve,{justifyContent:"flex-end",height:"36px",alignItems:"center",children:r.jsx(nn,{children:""})})}),r.jsx(j,{item:!0,xs:4,children:r.jsx($e,{name:"SDnCp[2]",size:"small",disabled:!t,endAdornment:""})}),r.jsx(j,{item:!0,xs:4,children:r.jsx(ve,{height:"36px",alignItems:"center",children:r.jsx(nn,{children:""})})}),r.jsx(j,{item:!0,xs:4,children:r.jsx(ve,{justifyContent:"flex-end",height:"36px",alignItems:"center",children:r.jsx(nn,{children:""})})}),r.jsx(j,{item:!0,xs:4,children:r.jsx($e,{name:"SDrvCms[2]",size:"small",endAdornment:"%",disabled:!t})}),r.jsx(j,{item:!0,xs:4}),r.jsx(j,{item:!0,xs:4,children:r.jsx(ve,{justifyContent:"flex-end",height:"36px",alignItems:"center",children:r.jsx(nn,{children:""})})}),r.jsx(j,{item:!0,xs:4,children:r.jsx($e,{name:"STrvCms[2]",size:"small",endAdornment:"%",disabled:!t})}),r.jsx(j,{item:!0,xs:4})]})]})};GFe.propTypes={editing:l.bool,maxHeight:l.number};const iUt=a.memo(GFe),KFe=()=>{const e=a.useContext(Of),{height:t}=Wt();return r.jsx(iUt,{maxHeight:t-220,editing:e.editing})};KFe.displayName="P37AgencyTabContainer";const QFe=e=>{const{editing:t,maxHeight:n,...o}=e,s=Qr({maxHeight:n});return r.jsxs(ga,{value:si.Types.BUS,sx:[s.scroller],...o,children:[r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:4,children:r.jsx(ve,{justifyContent:"flex-end",height:"36px",alignItems:"center",children:r.jsx(nn,{children:""})})}),r.jsx(j,{item:!0,xs:4,children:r.jsx($e,{name:"SUpCP[0]",size:"small",disabled:!t,endAdornment:""})}),r.jsx(j,{item:!0,xs:4,children:r.jsx(ve,{height:"36px",alignItems:"center",children:r.jsx(nn,{children:""})})}),r.jsx(j,{item:!0,xs:4,children:r.jsx(ve,{justifyContent:"flex-end",height:"36px",alignItems:"center",children:r.jsx(nn,{children:""})})}),r.jsx(j,{item:!0,xs:4,children:r.jsx($e,{name:"SDrvCms[0]",size:"small",disabled:!t,endAdornment:"%"})}),r.jsx(j,{item:!0,xs:4}),r.jsx(j,{item:!0,xs:4,children:r.jsx(ve,{justifyContent:"flex-end",height:"36px",alignItems:"center",children:r.jsx(nn,{children:""})})}),r.jsx(j,{item:!0,xs:4,children:r.jsx($e,{name:"STrvCms[0]",size:"small",disabled:!t,endAdornment:"%"})}),r.jsx(j,{item:!0,xs:4})]}),r.jsx(jt,{my:3,children:r.jsx("hr",{})}),r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:4,children:r.jsx(ve,{justifyContent:"flex-end",height:"36px",alignItems:"center",children:r.jsx(nn,{children:""})})}),r.jsx(j,{item:!0,xs:8,children:r.jsx(ct,{legend:"",disabled:!t,leftComponent:r.jsx($e,{name:"SDnCp[1]",borderless:!0,size:"small",fullWidth:!0,emptyText:"",disabled:!t,endAdornment:""}),rightComponent:r.jsx($e,{name:"SUpCP[1]",borderless:!0,size:"small",fullWidth:!0,emptyText:"",disabled:!t,endAdornment:""})})}),r.jsx(j,{item:!0,xs:4,children:r.jsx(ve,{justifyContent:"flex-end",height:"36px",alignItems:"center",children:r.jsx(nn,{children:""})})}),r.jsx(j,{item:!0,xs:4,children:r.jsx($e,{name:"SDrvCms[1]",size:"small",InputProps:{endAdornment:r.jsx(Il,{position:"end",children:""})},disabled:!t})}),r.jsx(j,{item:!0,xs:4}),r.jsx(j,{item:!0,xs:4,children:r.jsx(ve,{justifyContent:"flex-end",height:"36px",alignItems:"center",children:r.jsx(nn,{children:""})})}),r.jsx(j,{item:!0,xs:4,children:r.jsx($e,{name:"STrvCms[1]",size:"small",InputProps:{endAdornment:r.jsx(Il,{position:"end",children:""})},disabled:!t})}),r.jsx(j,{item:!0,xs:4})]}),r.jsx(jt,{my:3,children:r.jsx("hr",{})}),r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:4,children:r.jsx(ve,{justifyContent:"flex-end",height:"36px",alignItems:"center",children:r.jsx(nn,{children:""})})}),r.jsx(j,{item:!0,xs:4,children:r.jsx($e,{name:"SDnCp[2]",size:"small",disabled:!t,endAdornment:""})}),r.jsx(j,{item:!0,xs:4,children:r.jsx(ve,{height:"36px",alignItems:"center",children:r.jsx(nn,{children:""})})}),r.jsx(j,{item:!0,xs:4,children:r.jsx(ve,{justifyContent:"flex-end",height:"36px",alignItems:"center",children:r.jsx(nn,{children:""})})}),r.jsx(j,{item:!0,xs:4,children:r.jsx($e,{name:"SDrvCms[2]",size:"small",endAdornment:"%",disabled:!t})}),r.jsx(j,{item:!0,xs:4}),r.jsx(j,{item:!0,xs:4,children:r.jsx(ve,{justifyContent:"flex-end",height:"36px",alignItems:"center",children:r.jsx(nn,{children:""})})}),r.jsx(j,{item:!0,xs:4,children:r.jsx($e,{name:"STrvCms[2]",size:"small",endAdornment:"%",disabled:!t})}),r.jsx(j,{item:!0,xs:4})]})]})};QFe.propTypes={editing:l.bool,maxHeight:l.number};const lUt=a.memo(QFe),YFe=()=>{const e=a.useContext(Of),{height:t}=Wt();return r.jsx(lUt,{maxHeight:t-220,editing:e.editing})};YFe.displayName="P37BusTabContainer";const JFe=e=>{const{editing:t,...n}=e;return r.jsx(ga,{value:si.Types.CHINA,...n,children:r.jsx(TW,{name:"busCmsType",children:r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:4,children:r.jsx(ve,{justifyContent:"flex-end",height:"36px",alignItems:"center",children:r.jsx(nn,{children:""})})}),r.jsx(j,{item:!0,xs:4,children:r.jsxs(ve,{inline:!0,children:[r.jsx(o$,{value:ub.BusCmsTypes.AMOUNT,disabled:!t}),r.jsx($e,{name:"ADrvCms",size:"small",disabled:!t,InputProps:{endAdornment:r.jsx(Il,{position:"end",children:""})}})]})}),r.jsx(j,{item:!0,xs:4,children:r.jsxs(ve,{inline:!0,children:[r.jsx(o$,{value:ub.BusCmsTypes.PERCENT,disabled:!t}),r.jsx($e,{name:"BDrvCms",size:"small",disabled:!t,InputProps:{endAdornment:r.jsx(Il,{position:"end",children:"%"})}})]})}),r.jsx(j,{item:!0,xs:4,children:r.jsx(ve,{justifyContent:"flex-end",height:"36px",alignItems:"center",children:r.jsx(nn,{children:""})})}),r.jsx(j,{item:!0,xs:4,children:r.jsx($e,{name:"ATrvCms",size:"small",disabled:!t,InputProps:{endAdornment:r.jsx(Il,{position:"end",children:"%"})}})}),r.jsx(j,{item:!0,xs:4})]})})})};JFe.propTypes={editing:l.bool};const cUt=a.memo(JFe),XFe=()=>{const e=a.useContext(Of);return r.jsx(cUt,{editing:e.editing,busCmsType:e.busCmsType,handleBusCmsTypeChange:e.handleBusCmsTypeChange})};XFe.displayName="P37ChinaTabContainer";const sZ=a.memo(e=>{const{selectedTab:t,handleTabChange:n,editing:o,groupTypes:s,...i}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx(Pt,{...i,children:r.jsx("form",{children:r.jsx(Xt,{pt:1.5,children:r.jsxs(xf,{value:t,children:[r.jsx(Ns,{sx:{borderBottom:1,borderColor:"divider"},children:r.jsx(yf,{onChange:n,children:s.map(c=>{const u=o&&c.id!=t;return r.jsx(Si,{label:c.label,value:c.id,disabled:u},c.id)})})}),r.jsx(zFe,{}),r.jsx(HFe,{}),r.jsx(KFe,{}),r.jsx(YFe,{}),r.jsx(XFe,{})]})})})})})});sZ.propTypes={loadError:l.object,slotProps:l.object,selectedTab:l.string,handleTabChange:l.func,editing:l.bool,groupTypes:l.array};sZ.displayName="P37FormView";const ZFe=e=>{const{...t}=e,n=a.useContext(Of),o=at({defaultValues:{GrpType:Bp.getDefaultValue(),SUpCP:["","","",""],SDnCp:["","","",""],SDrvCms:["","","",""],STrvCms:["","","",""]}}),{reset:s}=o;En(()=>{n.loadItem({id:si.Types.DOMESTIC})},[]);const i=vt(`
		SDnCP[0],
		SUpCP[0],
		SDrvCms[0],
		STrvCms[0],
		SDnCp[1],
		SUpCP[1],
		SDrvCms[1],
		STrvCms[1],
		SDnCp[2],
		SUpCp[2],
		SDrvCms[2],
		STrvCms[2],
		ADrvCms,
		BDrvCms,
		ATrvCms
		`),c=o.handleSubmit(n.onEditorSubmit,n.onEditorSubmitError);$t(["Control+Enter"],()=>{n.editing&&setTimeout(c)},{enableOnFormTags:!0}),mn(()=>{n.itemDataReady&&s(n.itemData)},[n.itemData,n.itemDataReady]);const u=a.useCallback(d=>{switch(n.selectedTab){case si.Types.DOMESTIC:return!["SUpCP[0]","SDrvCms[0]","SDnCp[1]","SUpCP[1]","SDrvCms[1]","SDnCp[2]","SDrvCms[2]"].includes(d.name);case si.Types.AGENCY:return!["SUpCP[0]","SDrvCms[0]","STrvCms[0]","SDnCp[1]","SUpCP[1]","SDrvCms[1]","STrvCms[1]","SDnCp[2]","SDrvCms[2]","STrvCms[2]"].includes(d.name);case si.Types.BUS:return!["SUpCP[0]","SDrvCms[0]","STrvCms[0]","SDnCp[1]","SUpCP[1]","SDrvCms[1]","STrvCms[1]","SDnCp[2]","SDrvCms[2]","STrvCms[2]"].includes(d.name);default:return!1}},[n.selectedTab]);return r.jsx(Ye,{...o,children:r.jsx(Ct,{...i,isFieldDisabled:u,children:r.jsx(sZ,{selectedTab:n.selectedTab,handleTabChange:n.handleTabChange,editing:n.editing,groupTypes:n.groupAliasMap,...t})})})};ZFe.displayName="P37FormContainer";const eMe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(ZFe,{})]});eMe.displayName="P37FrameContainer";function uUt(){const e=a.useRef(),t=a.useContext(cr),n=a.useContext(Be),o=Bt({moduleId:"P37"});Co();const{httpGetAsync:s,httpPutAsync:i}=Zn(),[c,u]=a.useState(si.Types.DOMESTIC),[d,p]=a.useState(null),[m,f]=yNe(),h=a.useCallback(async({id:T,refresh:I})=>{var E,k;const P=I?e.current:T;if(!P)throw new Error(" id");I||(e.current=T),t.startLoading("...",{id:T});try{const{status:w,payload:A,error:F}=await s({url:"v1/cms/nc-tour-groups",bearer:n.token,params:{id:P}});if(console.log("payload",A),w.success){let _;P==si.Types.CHINA?(_=ub.transformForChinaReading(A.data[0]),p((k=(E=A.data[0].ComNCont_S)==null?void 0:E[0].SDrvCms)!=null&&k.includes("%")?1:0)):(_=ub.transformForReading(A.data[0]),p(null)),t.finishedLoading({data:_})}else throw F||new Error("")}catch(w){t.failedLoading(w)}},[n.token,t,s]),g=a.useCallback(async T=>{var P,E;console.log("onSubmit",T);const I=ub.transformForEditorSubmit(T,c);console.log("data",I);try{t.startUpdating();const{status:k,error:w,payload:A}=await i({url:"v1/cms/nc-tour-groups",data:I,bearer:n.token});if(k.success){ae.success(""),t.finishedUpdating();let F;c==si.Types.CHINA?(F=ub.transformForChinaReading(A.data[0]),p((E=(P=A.data[0].ComNCont_S)==null?void 0:P[0].SDrvCms)!=null&&E.includes("%")?1:0)):(F=ub.transformForReading(A.data[0]),p(null)),t.finishedLoading({data:F})}else throw w||new Error("")}catch(k){t.failedUpdating(k),ae.error("",k)}},[n.token,t,i,c]),x=a.useCallback(T=>{console.error("onSubmitError",T)},[]),y=a.useCallback((T,I)=>{u(I),h({id:I})},[h]),D=a.useCallback(T=>{console.log("newValue",T)},[]),v=a.useCallback(()=>{t.cancelEditing(),h({refresh:!0})},[t,h]);return En(()=>{f()},[]),{...o,...t,cancelEditing:v,loadItem:h,onSubmit:g,onSubmitError:x,selectedTab:c,handleTabChange:y,busCmsType:d,handleBusCmsTypeChange:D,groupAliasMap:m,loadGroupAliasMap:f}}const tMe=({children:e,...t})=>{const n=uUt();return r.jsx(Of.Provider,{value:{...n,...t},children:e})};tMe.propTypes={children:l.oneOfType([l.array,l.object])};const aZ=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(bt,{ref:t,fullWidth:!0,options:Bp.options,getOptionLabel:Bp.getOptionLabel,isOptionEqualToValue:Bp.isOptionEqualToValue,findByInput:Bp.findOptionByInput,notFoundText:" ${input} ",getOptionKey:Bp.getOptionKey,...n})}));aZ.propTypes={label:l.string,children:l.node};aZ.displayName="TourGroupTypePicker";const YD=a.createContext(),PF=a.createContext(),dUt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),iZ=e=>{var d;const{...t}=e,{height:n}=Wt(),o=Ke(),s=a.useContext(YD),i=a.useContext(PF),c=a.useMemo(()=>n-494+(s.gridDisabled?48:0),[n,s.gridDisabled]),u=a.useMemo(()=>s.grid.buildGridChangeHandler({getValues:o.getValues,setValue:o.setValue,gridMeta:i,onUpdateRow:s.onUpdateRow,onGridChanged:s.onGridChanged}),[o.getValues,o.setValue,i,s.grid,s.onGridChanged,s.onUpdateRow]);return s.grid.gridData?((d=s.grid.gridData)==null?void 0:d.length)===0&&s.cashGridDisabled?r.jsx(nn,{variant:"body2",color:"text.secondary",children:"()"}):s.loadWorking?r.jsx(Ko,{height:c}):s.loadError?r.jsx(lo,{error:s.loadError}):r.jsx(dr,{ref:i.setGridRef,lockRows:s.grid.readOnly,columns:i.columns,value:s.grid.gridData,onChange:u,onActiveCellChange:i.handleActiveCellChange,addRowsComponent:OX,height:c,createRow:s.createRow,disableExpandSelection:!0,contextMenuComponent:dUt,slotProps:{box:{}},...t}):r.jsx(nn,{variant:"body2",color:"text.secondary",children:"()"})};iZ.propTypes={store:l.bool};iZ.displayName="P37XGridContainer";const nMe=e=>{var i;const{...t}=e,n=a.useContext(YD),s=Ke().handleSubmit(n.onSubmit,n.onSubmitError);return n.grid.gridLoading||!n.grid.gridData||((i=n.grid.gridData)==null?void 0:i.length)===0||n.grid.readOnly?!1:r.jsx(dt,{responsive:!0,variant:"contained",color:"warning",size:"small",endIcon:r.jsx(AD,{}),loading:n.saveWorking,onClick:s,disabled:!n.grid.isDirty,...t,children:""})};nMe.displayName="P37XSaveButton";const rMe=e=>{var o;const{...t}=e,n=a.useContext(YD);return n.grid.gridLoading||!n.grid.gridData||((o=n.grid.gridData)==null?void 0:o.length)===0||n.grid.readOnly||n.saveWorking?!1:r.jsx(dt,{responsive:!0,color:"warning",variant:"outlined",size:"small",loading:n.saveWorking,onClick:n.cancelEdit,...t,children:""})};rMe.displayName="P37XCancelButton";const lZ=e=>{const{...t}=e,n=a.useContext(YD),o=a.useContext(Kn),{setActiveCell:s}=o,i=a.useCallback(()=>{o.handleUnlock(),s({col:0,row:0})},[o,s]);return n.grid.readOnly?r.jsx(dt,{responsive:!0,variant:"contained",color:"primary",size:"small",endIcon:r.jsx(eO,{}),loading:n.saveWorking,onClick:i,...t,children:""}):!1};lZ.displayName="P37XEditButton";const pUt=a.memo(()=>r.jsx(r.Fragment,{children:r.jsx(lZ,{})}));pUt.displayName="LeftButtons";const oMe=a.memo(()=>r.jsxs(r.Fragment,{children:[r.jsx(nMe,{}),r.jsx(rMe,{})]}));oMe.displayName="RightButtons";const sMe=a.memo(a.forwardRef(({...e},t)=>r.jsx(kn,{alignItems:"flex-end",ref:t,bgcolor:Nn.TOOLBAR,LeftComponent:lZ,RightComponent:oMe,...e})));sMe.displayName="P37XToolbar";const cZ=a.memo(e=>{const{...t}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx(Pt,{...t,children:r.jsx("form",{children:r.jsxs(Xt,{pt:1.5,children:[r.jsx(j,{container:!0,spacing:1,children:r.jsx(j,{item:!0,xs:4,children:r.jsx(aZ,{name:"GrpType",label:"",fullWidth:!0,select:!0,size:"small"})})}),r.jsx(Ns,{my:.5,children:r.jsx(sMe,{})}),r.jsx(iZ,{slotProps:{box:{}}})]})})})})});cZ.propTypes={loadError:l.object,slotProps:l.object};cZ.displayName="P37XFormView";const aMe=e=>{const{...t}=e,n=a.useContext(YD),o=at({defaultValues:{GrpType:Bp.getDefaultValue()}}),s=a.useMemo(()=>n.grid.readOnly,[n.grid.readOnly]),i=a.useMemo(()=>[{...Pe.keyColumn("SDnCp",kt({alignRight:!0})),title:" ",disabled:s,grow:1},{...Pe.keyColumn("SUpCp",kt({alignRight:!0})),title:" ",disabled:s,grow:1},{...Pe.keyColumn("SDrvCms",kt({alignRight:!0})),title:"(%)",disabled:s,minWidth:130,maxWidth:130},{...Pe.keyColumn("STrvCms",kt({alignRight:!0})),title:"(%)",disabled:s,minWidth:130,maxWidth:130}],[s]),c=hr({data:n.grid.gridData,columns:i,skipDisabled:!0,lastCell:Xn.CREATE_ROW,grid:n.grid}),u=o.handleSubmit(n.onEditorSubmit,n.onEditorSubmitError);$t(["Control+Enter"],()=>{n.grid.readOnly||setTimeout(u)},{enableOnFormTags:!0});const d=Ue({name:"GrpType",control:o.control});mn(()=>{n.loadItem({id:d})},[d]),En(()=>{n.loadItem({id:Bp.getDefaultValue()})},[]);const p=a.useMemo(()=>({...n.grid,...c,readOnly:!n.editing}),[c,n.editing,n.grid]);return r.jsx(Ye,{...o,children:r.jsx(PF.Provider,{value:c,children:r.jsx(Kn.Provider,{value:p,children:r.jsx(cZ,{loadWorking:n.loadWorking,loadError:n.loadError,...t})})})})};aMe.displayName="P37XFormContainer";const iMe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(aMe,{})]});iMe.displayName="P37XFrameContainer";const mUt=e=>(e==null?void 0:e.map(t=>{const{SDnCp:n,SUpCp:o,STrvCms:s,SCndCms:i,...c}=t;return{SDnCp:(n==null?void 0:n.toString())??"",SUpCp:(o==null?void 0:o.toString())??"",STrvCms:(s==null?void 0:s.toString())??"",SCndCms:(i==null?void 0:i.toString())??"",...c}}))||[],fUt=e=>{const{ComNCont_S:t,...n}=e||{};return{commissions:t?mUt(t):[],...n}},hUt=e=>e.filter(t=>t.SDnCp||t.SUpCp||t.SDrvCms||t.STrvCms).map(({SDnCp:t,SUpCp:n,STrvCms:o,SDrvCms:s,...i})=>({SDnCp:(t==null?void 0:t.toString())??"",SUpCp:(n==null?void 0:n.toString())??"",SDrvCms:(s==null?void 0:s.toString())??"",STrvCms:(o==null?void 0:o.toString())??"",...i})),gUt=(e,t)=>{const{GrpType:n,commissions:o,...s}=e;return console.log("ignore props",o),{GrpType:n,ComNCont_S:hUt(t),...s}},bUt=e=>Gn.isAnyPropNotEmpty(e,"lvId,lvName,lvBank"),xUt=e=>{const{lvId:t,lvName:n,lvBank:o,...s}=e;return{si:t,sn:n,...o&&{bank:o==null?void 0:o.CodeID},...s}},yUt=e=>{const t=[];return e!=null&&e.si&&t.push({ShowName:"",OpCode:"LIKE",CondData:"%"+e.si+"%"}),e!=null&&e.sn&&t.push({ShowName:"",OpCode:"LIKE",CondData:"%"+e.sn+"%"}),e!=null&&e.bank&&t.push({ShowName:"",OpCode:"=",CondData:e.bank}),{StdWhere:t,...(e==null?void 0:e.qs)&&{CondData:{QS_ID:`${e.qs}%`,QS_NAME:`%${e.qs}%`}}}},NL={transformForReading:fUt,transformForEditorSubmit:gUt,paramsToJsonData:yUt,isFiltered:bUt,transformAsQueryParams:xUt};function CUt(){const e=a.useRef(),t=a.useContext(cr),n=a.useContext(Be),o=Bt({moduleId:"P37X"});Co();const{httpGetAsync:s,httpPutAsync:i}=Zn(),c=a.useCallback(()=>({id:zn()}),[]),u=yr({gridId:"commissions",keyColumn:"id",createRow:c,doDirtyCheckByIndex:!0}),d=a.useCallback(async({id:g,refresh:x})=>{const y=x?e.current:g;if(!y)throw new Error(" id");x||(e.current=g,t.startLoading("...",{id:g}));try{const{status:D,payload:v,error:T}=await s({url:"v1/cms/nc-tour-groups",bearer:n.token,params:{id:y}});if(console.log("payload",v),D.success){const I=NL.transformForReading(v.data[0]);u.initGridData(I.commissions,{fillRows:5}),t.finishedLoading({data:I})}else throw T||new Error("")}catch(D){t.failedLoading(D)}},[n.token,t,u,s]),p=a.useCallback(()=>{u.handleUnlock()},[u]),m=a.useCallback(()=>{u.handleLock(),u.isDirty&&d({refresh:!0})},[u,d]),f=a.useCallback(async g=>{console.log("onSubmit",g),console.log("grid.gridData",u.gridData);const x=NL.transformForEditorSubmit(g,u.gridData);console.log("data",x);try{t.startUpdating();const{status:y,error:D,payload:v}=await i({url:"v1/cms/nc-tour-groups",data:x,bearer:n.token});if(y.success){ae.success(""),t.finishedUpdating(),u.handleLock();const T=NL.transformForReading(v.data[0]);u.initGridData(T.commissions,{fillRows:5}),t.finishedLoading({data:T})}else throw D||new Error("")}catch(y){t.failedUpdating(y),ae.error("",y)}},[n.token,t,u,i]),h=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,...t,loadItem:d,grid:u,handleEdit:p,cancelEdit:m,onSubmit:f,onSubmitError:h}}const lMe=({children:e,...t})=>{const n=CUt();return r.jsx(YD.Provider,{value:{...n,...t},children:e})};lMe.propTypes={children:l.oneOfType([l.array,l.object])};function DUt({id:e,moduleId:t,scope:n=al.SCOPES.USER,defaultValues:o={}}){const s=a.useRef(),i=a.useContext(cr),c=a.useContext(Be),u=Bt({moduleId:t}),{httpGetAsync:d,httpPutAsync:p}=Zn(),m=yr({gridId:"settings",keyColumn:"id",doDirtyCheckByIndex:!0}),f=a.useMemo(()=>`v1/${n}/settings`,[n]),h=a.useCallback(async({refresh:D})=>{if(!e)throw new Error(" id");D||(s.current=e,i.startLoading("...",{id:e}));try{const{status:v,payload:T,error:I}=await d({url:f,bearer:c.token,params:{id:e}});if(console.log("payload",T),v.success){const P=MI.transformForReading(T);m.initGridData(P,{}),i.finishedLoading({data:P})}else throw I||new Error("")}catch(v){const T=MI.transformForReading(o);switch(v==null?void 0:v.status){case 404:m.initGridData(T,{}),i.finishedLoading({data:T});break;default:console.error(v),i.failedLoading(v);break}}},[e,i,d,f,c.token,m,o]),g=a.useCallback(()=>{m.handleLock(),m.isDirty&&h({refresh:!0}),i.cancelEditing()},[i,m,h]),x=a.useCallback(async D=>{console.log("onSubmit",D),console.log("grid.gridData",m.gridData);const v=MI.transformForGridSubmit(m.gridData);console.log("data",v);try{i.startUpdating();const{status:T,error:I,payload:P}=await p({url:f,data:v,params:{id:e},bearer:c.token});if(T.success)ae.success(""),i.finishedUpdating(),m.handleLock();else throw I||new Error("")}catch(T){i.failedUpdating(T),ae.error("",T)}},[f,c.token,i,m,p,e]),y=a.useCallback(D=>{console.error("onSubmitError",D)},[]);return{...u,...i,loadItem:h,grid:m,cancelEdit:g,onSubmit:x,onSubmitError:y}}const JD=a.createContext(),cMe=({moduleId:e,id:t,scope:n,children:o,...s})=>{const i=DUt({moduleId:e,id:t,scope:n,...s});return r.jsx(JD.Provider,{value:{...i},children:o})};cMe.propTypes={children:l.oneOfType([l.array,l.object]),moduleId:l.string.isRequired,id:l.string.isRequired,scope:l.string.isRequired};const uMe=e=>{var i;const{...t}=e,n=a.useContext(JD),s=Ke().handleSubmit(n.onSubmit,n.onSubmitError);return n.grid.gridLoading||!n.grid.gridData||((i=n.grid.gridData)==null?void 0:i.length)===0||n.grid.readOnly?!1:r.jsx(dt,{responsive:!0,variant:"contained",color:"warning",size:"small",endIcon:r.jsx(AD,{}),loading:n.saveWorking,onClick:s,disabled:!n.grid.isDirty,...t,children:""})};uMe.displayName="UserSettingEditorSaveButton";const dMe=e=>{var o;const{...t}=e,n=a.useContext(JD);return n.grid.gridLoading||!n.grid.gridData||((o=n.grid.gridData)==null?void 0:o.length)===0||n.grid.readOnly||n.saveWorking?!1:r.jsx(dt,{responsive:!0,color:"warning",variant:"outlined",size:"small",loading:n.saveWorking,onClick:n.cancelEdit,...t,children:""})};dMe.displayName="UserSettingEditorButton";const pMe=e=>{const{...t}=e,n=a.useContext(JD),o=a.useContext(Kn),s=a.useContext(cr),{setActiveCell:i}=o,c=a.useCallback(()=>{o.handleUnlock(),s.promptUpdating(),i({col:1,row:0})},[s,o,i]);return n.grid.readOnly?r.jsx(dt,{responsive:!0,variant:"contained",color:"primary",size:"small",endIcon:r.jsx(eO,{}),loading:n.saveWorking,onClick:c,...t,children:""}):!1};pMe.displayName="UserSettingEditorEditButton";const mMe=a.memo(()=>r.jsxs(r.Fragment,{children:[r.jsx(pMe,{}),r.jsx(uMe,{}),r.jsx(dMe,{})]}));mMe.displayName="LeftButtons";const fMe=a.memo(()=>r.jsx(r.Fragment,{}));fMe.displayName="RightButtons";const hMe=a.memo(a.forwardRef(({...e},t)=>r.jsx(kn,{alignItems:"flex-end",ref:t,bgcolor:Nn.TOOLBAR,LeftComponent:mMe,RightComponent:fMe,...e})));hMe.displayName="UserSettingEditorToolbar";const SUt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),uZ=e=>{var d;const{...t}=e,{height:n}=Wt(),o=Ke(),s=a.useContext(JD),i=a.useContext(PF),c=a.useMemo(()=>n-494,[n]),u=a.useMemo(()=>s.grid.buildGridChangeHandler({getValues:o.getValues,setValue:o.setValue,gridMeta:i,onUpdateRow:s.onUpdateRow,onGridChanged:s.onGridChanged}),[o.getValues,o.setValue,i,s.grid,s.onGridChanged,s.onUpdateRow]);return s.grid.gridData?((d=s.grid.gridData)==null?void 0:d.length)===0&&s.cashGridDisabled?r.jsx(nn,{variant:"body2",color:"text.secondary",children:"()"}):s.loadWorking?r.jsx(Ko,{height:c}):s.loadError?r.jsx(lo,{error:s.loadError}):r.jsx(dr,{ref:i.setGridRef,lockRows:!0,columns:i.columns,value:s.grid.gridData,onChange:u,onActiveCellChange:i.handleActiveCellChange,addRowsComponent:OX,height:c,createRow:s.createRow,disableExpandSelection:!0,contextMenuComponent:SUt,slotProps:{box:{}},...t}):r.jsx(nn,{variant:"body2",color:"text.secondary",children:"()"})};uZ.propTypes={store:l.bool};uZ.displayName="UserSettingEditorGridContainer";const dZ=a.memo(e=>{const{...t}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx(Pt,{...t,children:r.jsx("form",{children:r.jsxs(Xt,{pt:1,children:[r.jsx(Ns,{mb:.5,children:r.jsx(hMe,{})}),r.jsx(uZ,{slotProps:{box:{}}})]})})})})});dZ.propTypes={loadError:l.object,slotProps:l.object};dZ.displayName="UserSettingEditorFormView";const gMe=e=>{const{...t}=e,n=a.useContext(JD),o=at({defaultValues:{}}),s=a.useMemo(()=>n.grid.readOnly,[n.grid.readOnly]),i=a.useMemo(()=>[{...Pe.keyColumn("id",kt({alignRight:!0})),title:"",disabled:!0,minWidth:70,maxWidth:70},{...Pe.keyColumn("label",kt({})),title:"",disabled:s,grow:1}],[s]),c=hr({data:n.grid.gridData,columns:i,skipDisabled:!0,lastCell:Xn.CREATE_ROW,grid:n.grid}),u=o.handleSubmit(n.onEditorSubmit,n.onEditorSubmitError);$t(["Control+Enter"],()=>{n.grid.readOnly||setTimeout(u)},{enableOnFormTags:!0});const d=Ue({name:"GrpType",control:o.control});mn(()=>{n.loadItem({id:d})},[d]),En(()=>{n.loadItem({id:Bp.getDefaultValue()})},[]);const p=a.useMemo(()=>({...n.grid,...c,readOnly:!n.editing}),[c,n.editing,n.grid]);return r.jsx(Ye,{...o,children:r.jsx(PF.Provider,{value:c,children:r.jsx(Kn.Provider,{value:p,children:r.jsx(dZ,{loadWorking:n.loadWorking,loadError:n.loadError,...t})})})})};gMe.displayName="UserSettingEditorFormContainer";const pZ=a.memo(e=>{const{id:t,scope:n,...o}=e;return r.jsx(cMe,{id:t,scope:n,...o,children:r.jsx(gMe,{})})});pZ.propTypes={id:l.string.isRequired,scope:l.string.isRequired};pZ.displayName="UserSettingEditor";const RF=a.createContext(),jO=a.createContext(),mZ=[{id:1,label:""},{id:2,label:""}],vUt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},jUt=(e,t)=>(e==null?void 0:e.id)==(t==null?void 0:t.id),bMe=e=>mZ.find(t=>t.id==e),IUt=e=>mZ.find(t=>t.id==e),TUt=()=>bMe(2),yb={options:mZ,getOptionLabel:vUt,isOptionEqualToValue:jUt,getOptionById:bMe,findByInput:IUt,getDefaultOption:TUt},fZ=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:yb.options,getOptionLabel:yb.getOptionLabel,isOptionEqualToValue:yb.isOptionEqualToValue,findByInput:yb.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});fZ.propTypes={name:l.string,label:l.string,children:l.node};fZ.displayName="CmsCalcTypePicker";const xMe=e=>{const{...t}=e,n=a.useContext(jO),s=Ke().handleSubmit(n.onSubmit,n.onSubmitError);return n.editing?r.jsx(dt,{responsive:!0,variant:"contained",color:"warning",size:"small",endIcon:r.jsx(AD,{}),loading:n.saveWorking,onClick:s,...t,children:""}):!1};xMe.displayName="P38SaveButton";const yMe=e=>{const{...t}=e,n=a.useContext(jO);return n.editing?r.jsx(dt,{responsive:!0,color:"warning",variant:"outlined",size:"small",disabled:n.saveWorking,onClick:n.cancelEdit,...t,children:""}):!1};yMe.displayName="P38CancelButton";const CMe=e=>{const{...t}=e,n=a.useContext(jO),o=a.useContext(Lr),s=a.useCallback(()=>{n.promptUpdating(),o.handleFocusFirstField()},[o,n]);return n.editing?!1:r.jsx(dt,{responsive:!0,variant:"contained",color:"primary",size:"small",endIcon:r.jsx(eO,{}),loading:n.saveWorking,onClick:s,...t,children:""})};CMe.displayName="P38EditButton";const DMe=a.memo(()=>r.jsxs(r.Fragment,{children:[r.jsx(CMe,{}),r.jsx(xMe,{}),r.jsx(yMe,{})]}));DMe.displayName="LeftButtons";const SMe=a.memo(()=>r.jsx(r.Fragment,{}));SMe.displayName="RightButtons";const vMe=a.memo(a.forwardRef(({...e},t)=>r.jsx(kn,{alignItems:"flex-end",ref:t,bgcolor:Nn.TOOLBAR,LeftComponent:DMe,RightComponent:SMe,...e})));vMe.displayName="P38TitleToolbar";const hZ=a.memo(e=>{const{loadError:t,loadWorking:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx(Pt,{...o,children:r.jsx("form",{children:r.jsx(Xt,{pt:1,children:t?r.jsx(lo,{error:t}):r.jsxs(r.Fragment,{children:[r.jsx(jt,{mb:.5,children:r.jsx(vMe,{})}),r.jsx(jt,{mt:1,children:n?r.jsx(Cr,{children:""}):r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,children:r.jsx($e,{name:"Head",label:"",typo:!0,multiline:!0,fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,children:r.jsx($e,{name:"Tail",label:"",typo:!0,multiline:!0,minRows:2,fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(fZ,{typo:!0,label:"",name:"CmsCalc",fullWidth:!0})})]})})]})})})})})});hZ.propTypes={loadError:l.object,loadWorking:l.bool,slotProps:l.object};hZ.displayName="P38FormView";const jMe=e=>{const{...t}=e,n=a.useContext(jO),o=at({defaultValues:{}}),s=vt(`
		Head,
		Tail,
		CmsCalc,
		`),i=o.handleSubmit(n.onSubmit,n.onSubmitError);return $t(["Control+Enter"],()=>{n.editing&&setTimeout(i)},{enableOnFormTags:!0}),En(()=>{n.loadItem({id:Bp.getDefaultValue()})},[]),mn(()=>{n.itemDataReady&&o.reset(n.itemData)},[n.itemData,n.itemDataReady]),r.jsx(Ye,{...o,children:r.jsx(Ct,{...s,children:r.jsx(hZ,{loadWorking:n.loadWorking,loadError:n.loadError,...t})})})};jMe.displayName="P38FormContainer";const OUt=e=>{const{Head:t,Tail:n,CmsCalc:o,...s}=e||{};return{Head:t??"",Tail:n.join(`
`),CmsCalc:yb.getOptionById(o),...s}},EUt=e=>{const{Head:t,Tail:n,CmsCalc:o,...s}=e;return{Head:t??"",Tail:n.split(`
`),CmsCalc:(o==null?void 0:o.id)??"",...s}},Aue={transformForReading:OUt,transformForEditorSubmit:EUt};function PUt(){const e=a.useRef(),t=a.useContext(cr),n=a.useContext(Be),o=Bt({moduleId:"P38"}),{httpGetAsync:s,httpPutAsync:i}=Zn(),c=a.useRef(),u=a.useCallback(async({id:f,refresh:h})=>{if(!(h?e.current:f))throw new Error(" id");h||(e.current=f,t.startLoading("...",{id:f}));try{const{status:x,payload:y,error:D}=await s({url:"v1/cms/settings",bearer:n.token});if(console.log("payload",y),x.success){c.current=y.CheckData.TimeVal;const v=Aue.transformForReading(y.data[0]);t.finishedLoading({data:v})}else if(x.code===404)t.finishedLoading({Head:"",Tail:[],CmsCalc:null});else throw D||new Error("")}catch(x){t.failedLoading(x)}},[n.token,t,s]),d=a.useCallback(()=>{t.cancelUpdating(),u({refresh:!0})},[t,u]),p=a.useCallback(async f=>{console.log("onSubmit",f);const h=Aue.transformForEditorSubmit(f);console.log("data",h);try{t.startUpdating();const{status:g,error:x,payload:y}=await i({url:"v1/cms/settings",data:h,params:{ts:c.current},bearer:n.token});if(g.success)ae.success(""),t.finishedUpdating(),c.current=y.CheckData.TimeVal;else throw x||new Error("")}catch(g){t.failedUpdating(g),ae.error("",g)}},[n.token,t,i]),m=a.useCallback(f=>{console.error("onSubmitError",f)},[]);return{...o,...t,loadItem:u,cancelEdit:d,onSubmit:p,onSubmitError:m}}const IMe=({children:e,...t})=>{const n=PUt(),o=a.useMemo(()=>({...n}),[n]);return r.jsx(jO.Provider,{value:{...o,...t},children:e})};IMe.propTypes={children:l.oneOfType([l.array,l.object])};const RUt=e=>{const{...t}=e,n=a.useContext(RF),o=a.useMemo(()=>n.editing&&n.selectedTab!=lf.TABS.TITLE,[n.editing,n.selectedTab]);return r.jsx(Si,{label:"",value:lf.TABS.TITLE,disabled:o,...t})},wUt=e=>{const{...t}=e,n=a.useContext(RF),o=a.useMemo(()=>n.editing&&n.selectedTab!=lf.TABS.ALIAS,[n.editing,n.selectedTab]);return r.jsx(Si,{label:"",value:lf.TABS.ALIAS,disabled:o,...t})},TMe=()=>{const e=a.useContext(RF);return r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsxs(xf,{value:e.selectedTab,children:[r.jsx(jt,{sx:{borderBottom:1,borderColor:"divider"},children:r.jsxs(yf,{onChange:e.handleTabChange,children:[r.jsx(RUt,{}),r.jsx(wUt,{})]})}),r.jsx(ga,{value:lf.TABS.TITLE,children:r.jsx(IMe,{children:r.jsx(jMe,{})})}),r.jsx(ga,{value:lf.TABS.ALIAS,children:r.jsx(pZ,{id:CB.KEYS.CMS_GROUP_ALIAS,moduleId:"P38",scope:CB.SCOPES.DEPT,defaultValues:lf.DEFAULT_ALIAS_VALUES})})]})]})};TMe.displayName="P38FrameContainer";function kUt(){const[e,t]=a.useState(lf.TABS.TITLE),n=a.useContext(cr),o=a.useCallback((s,i)=>{t(i)},[]);return{...n,selectedTab:e,handleTabChange:o}}const OMe=({children:e,...t})=>{const n=kUt(),o=a.useMemo(()=>({...n,...t}),[n,t]);return r.jsx(RF.Provider,{value:o,children:e})};OMe.propTypes={children:l.oneOfType([l.array,l.object])};const Ef=a.createContext(),AUt=e=>{if(!e)return"";const{CarID:t,CarData:n,AbbrID:o}=e;return[t,n,o].filter(Boolean).join(" ")},NUt=e=>{if(!e)return"";const{AbbrID:t,CarID:n,CarData:o,Other1:s}=e;return`${(t??"").padStart(2," ")} ${n} ${o}${s!=null?": "+wo.formatPrice(s??0)+"%":""}`},FUt=e=>{if(!e)return"";const{CarID:t}=e;return`${t}`},MUt=(e,t)=>(e==null?void 0:e.CarID)===(t==null?void 0:t.CarID),Ay={stringify:AUt,getOptionLabel:NUt,getOptionLabelForId:FUt,isOptionEqualToValue:MUt},eu=a.forwardRef((e,t)=>{const{label:n="",forId:o=!1,...s}=e,{token:i}=a.useContext(Be),c=a.useMemo(()=>Ub({stringify:Ay.stringify}),[]),u=a.useCallback((d,p)=>{let m=c(d,p);return p.inputValue&&(m=Ii.sortByFoundIndex(m,["AbbrID","CarID","CarData"],p.inputValue)),m},[c]);return r.jsx(bt,{label:n,ref:t,bearer:i,url:"v1/cms/bus-comps",getOptionLabel:o?Ay.getOptionLabelForId:Ay.getOptionLabel,stringify:Ay.stringify,isOptionEqualToValue:Ay.isOptionEqualToValue,notFoundText:" ${input} ",renderOptionLabel:Ay.getOptionLabel,virtualize:!0,filterOptions:u,placeholder:"//",...s})});eu.propTypes={label:l.string,children:l.node,forId:l.bool};eu.displayName="CmsBusCompPicker";const _Ut=e=>{if(!e)return"";const{CodeID:t,CodeData:n,Other1:o}=e;return`${t} ${n}${o!=null?": "+wo.formatPrice(o??0)+"%":""}`},LUt=(e,t)=>(e==null?void 0:e.CodeID)===(t==null?void 0:t.CodeID),Nue={getOptionLabel:_Ut,isOptionEqualToValue:LUt},qh=a.forwardRef((e,t)=>{const{label:n="",...o}=e,{token:s}=a.useContext(Be);return r.jsx(bt,{label:n,ref:t,bearer:s,url:"v1/cms/cust-types",getOptionLabel:Nue.getOptionLabel,isOptionEqualToValue:Nue.isOptionEqualToValue,notFoundText:" ${input} ",...o})});qh.propTypes={label:l.string,children:l.node};qh.displayName="CmsCustTypePicker";const wF=a.memo(a.forwardRef((e,t)=>{const{label:n="",...o}=e,s=a.useContext(mF);return r.jsx(bt,{label:n,ref:t,options:s.groupTypeAlias,getOptionLabel:si.getOptionLabel,isOptionEqualToValue:si.isOptionEqualToValue,findByInput:si.findByInput,notFoundText:" ${input} ",...o})}));wF.propTypes={label:l.string,children:l.node};wF.displayName="CmsGroupTypePicker";const $Ut=e=>{if(!e)return"";const{TrvID:t,TrvData:n,AbbrID:o}=e;return[o,t,n].filter(Boolean).join(" ")},BUt=e=>{if(!e)return"";const{AbbrID:t,TrvID:n,TrvData:o}=e;return[(t??"").padStart(2," "),n,o].filter(Boolean).join(" ")},WUt=e=>{if(!e)return"";const{TrvID:t}=e;return`${t||""}`},UUt=(e,t)=>(e==null?void 0:e.TrvID)==(t==null?void 0:t.TrvID),Ny={stringify:$Ut,getOptionLabel:BUt,getOptionLabelForId:WUt,isOptionEqualToValue:UUt},tu=a.memo(a.forwardRef((e,t)=>{const{label:n="",forId:o=!1,...s}=e,{token:i}=a.useContext(Be),c=a.useMemo(()=>Ub({stringify:Ny.stringify}),[]),u=a.useCallback((d,p)=>{let m=c(d,p);return p.inputValue&&(m=Ii.sortByFoundIndex(m,["AbbrID","TrvID","TrvData"],p.inputValue)),m},[c]);return r.jsx(bt,{label:n,ref:t,bearer:i,url:"v1/cms/tour-groups",getOptionLabel:o?Ny.getOptionLabelForId:Ny.getOptionLabel,stringify:Ny.stringify,isOptionEqualToValue:Ny.isOptionEqualToValue,renderOptionLabel:Ny.getOptionLabel,notFoundText:" ${input} ",virtualize:!0,filterOptions:u,placeholder:"//",...s})}));tu.propTypes={label:l.string,children:l.node,forId:l.bool};tu.displayName="TourGroupPicker";const qUt=e=>{if(!e)return"";const{AbbrID:t,CndID:n,CndData:o}=e;return[t,n,o].filter(Boolean).join(" ")},VUt=e=>{if(!e)return"";const{AbbrID:t,CndID:n,CndData:o}=e;return[(t??"").padStart(2," "),n,o].filter(Boolean).join(" ")},zUt=e=>{if(!e)return"";const{CndID:t}=e;return`${t||"  "}`},HUt=(e,t)=>(e==null?void 0:e.CndID)==(t==null?void 0:t.CndID),Fy={stringify:qUt,getOptionLabel:VUt,isOptionEqualToValue:HUt,getOptionLabelForId:zUt},zd=a.memo(a.forwardRef((e,t)=>{const{label:n="",forId:o=!1,...s}=e,{token:i}=a.useContext(Be),c=a.useMemo(()=>Ub({stringify:Fy.stringify}),[]),u=a.useCallback((d,p)=>{let m=c(d,p);return p.inputValue&&(m=Ii.sortByFoundIndex(m,["AbbrID","CndID","CndData"],p.inputValue)),m},[c]);return r.jsx(bt,{label:n,ref:t,bearer:i,url:"v1/cms/tour-guides",getOptionLabel:o?Fy.getOptionLabelForId:Fy.getOptionLabel,stringify:Fy.stringify,isOptionEqualToValue:Fy.isOptionEqualToValue,renderOptionLabel:Fy.getOptionLabel,notFoundText:" ${input} ",virtualize:!0,filterOptions:u,placeholder:"//",...s})}));zd.propTypes={label:l.string,children:l.node,forId:l.bool};zd.displayName="TourGuidePicker";const gZ=a.memo(e=>{const{data:t,readWorking:n,readError:o,itemDataReady:s,editing:i,updating:c,slotProps:u,onCityChange:d,onTourGuideChange:p,onTourGroupChange:m,onBusCompChange:f,cflagDisabled:h,...g}=e;return r.jsxs("form",{...g,children:[o&&r.jsx(lo,{error:o,...u==null?void 0:u.error}),r.jsxs(Pt,{pt:1,children:[r.jsx(Xt,{children:r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:12,sm:12,md:2,children:r.jsx($e,{typo:!0,name:"OrdID",label:"",fullWidth:!0,value:t==null?void 0:t.OrdID,disabled:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx(et,{typo:!0,name:"OrdDate",label:"",autoFocus:!0,fullWidth:!0,required:!0,variant:"outlined",validate:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx(et,{typo:!0,name:"ArrDate",label:"",fullWidth:!0,required:!0,variant:"outlined",validate:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:2.5,children:r.jsx(Wb,{label:"",typo:!0,name:"ArrHM",fullWidth:!0,validate:!0,clearable:!0,placeholder:"",variant:"outlined",views:["hours","minutes"],format:_o.DATEFNS_TIME})}),r.jsx(j,{item:!0,xs:12,sm:12,md:1.5,children:r.jsx(xr,{typo:!0,label:"",name:"CFlag",variant:"outlined",disabled:h})})]})}),r.jsx(Xt,{children:r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:12,sm:12,md:7,children:r.jsx($e,{typo:!0,name:"GrpName",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx(ac,{typo:!0,name:"city",onChange:d,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,lg:2,children:r.jsx(Zc,{typo:!0,name:"area",disabled:!0,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx(wF,{typo:!0,name:"GrpType",label:"",fullWidth:!0,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:4,children:r.jsx(qh,{typo:!0,name:"custType",label:"",fullWidth:!0,disableOpenOnInput:!0})})]})}),r.jsx(Xt,{children:r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx(eu,{typo:!0,name:"busComp",label:"",fullWidth:!0,forId:!0,onChange:f,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:4,children:r.jsx($e,{typo:!0,name:"CarData_N",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:2,children:r.jsx($e,{typo:!0,name:"CarQty",label:"",fullWidth:!0,type:"number"})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"PugAmt",label:"",fullWidth:!0,type:"number"})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"CarNo",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:4,children:r.jsx($e,{typo:!0,name:"DrvName",label:"",fullWidth:!0,slotProps:{htmlInput:{maxLength:8}}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:5,children:r.jsx($e,{typo:!0,name:"DrvTel",label:"",fullWidth:!0})})]})}),r.jsx(Xt,{children:r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx(tu,{typo:!0,name:"tourGroup",label:"",fullWidth:!0,forId:!0,onChange:m,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:4,children:r.jsx($e,{typo:!0,name:"TrvData_N",label:"",fullWidth:!0})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx(zd,{typo:!0,name:"tourGuide",label:"",fullWidth:!0,forId:!0,onChange:p,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:4,children:r.jsx($e,{typo:!0,name:"CndName",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:5,children:r.jsx($e,{typo:!0,name:"CndTel",label:"",fullWidth:!0})})]})}),r.jsx(Xt,{children:r.jsxs(j,{container:!0,columns:12,spacing:1,children:[r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx(Ar,{typo:!0,name:"employee",label:"",fullWidth:!0,disableOpenOnInput:!0})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,md:6,children:r.jsx($e,{typo:!0,name:"Remark",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx(et,{typo:!0,name:"TrxDate",label:"",fullWidth:!0,variant:"outlined",disabled:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"ComID",label:"",fullWidth:!0,disabled:!0})})]})})]})]})});gZ.propTypes={data:l.object,readWorking:l.bool,itemDataReady:l.bool,editing:l.bool,updating:l.bool,store:l.bool,readError:l.object,slotProps:l.object,onCityChange:l.func,onTourGuideChange:l.func,onTourGroupChange:l.func,onBusCompChange:l.func,cflagDisabled:l.bool};gZ.displayName="P41Form";const bZ=a.memo(e=>{var s,i;const{anchor:t="right",...n}=e,o=a.useContext(Ef);return r.jsxs(Eo,{anchor:t,open:o.sideDrawerOpen,onClose:o.handleSideDrawerClose,...n,children:[r.jsx(pn,{label:"",children:(s=o.itemData)==null?void 0:s.WriteDate_N}),r.jsx(pn,{label:"",children:(i=o.itemData)==null?void 0:i.Writer_N})]})});bZ.propTypes={anchor:l.string};bZ.displayName="P41Drawer";const xZ=a.memo(a.forwardRef((e,t)=>{const{onSave:n,onCancel:o,loading:s,...i}=e;return r.jsxs(a.Fragment,{ref:t,...i,children:[r.jsx(dt,{responsive:!0,onClick:o,color:"warning",variant:"outlined",...i,children:""}),r.jsx(dt,{responsive:!0,onClick:n,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:s,children:""})]})}));xZ.displayName="P41DialogEditButtons";xZ.propTypes={onSave:l.func,loading:l.bool};const EMe=e=>{var c;const{...t}=e,n=a.useContext(Ef),{canReview:o}=n,s=a.useMemo(()=>!o,[o]),i=a.useMemo(()=>s?"":"",[s]);return(c=n.itemData)!=null&&c.CFlag?!1:r.jsx(Ra,{title:i,children:r.jsx(dt,{startIcon:r.jsx(gTe,{}),disabled:s,...t,children:""})})};EMe.displayName="P41ConvertToEntryButton";const PMe=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,onDelete:o,onSideDrawerOpen:s,onConvert:i,...c}=e;return r.jsxs(a.Fragment,{ref:t,...c,children:[r.jsx(EMe,{onClick:i}),o&&r.jsx(hn,{startIcon:r.jsx(Fs,{}),color:"secondary",onClick:o,children:""}),n&&r.jsx(hn,{startIcon:r.jsx(bo,{}),color:"primary",onClick:n,children:""}),r.jsx(jr,{title:"",children:r.jsx(br,{onClick:s,size:"small",children:r.jsx(Po,{})})})]})}));PMe.propTypes={onEdit:l.func,onDelete:l.func,onSideDrawerOpen:l.func,onConvert:l.func};const RMe=e=>{var c,u;const{...t}=e,n=a.useContext(Ef),o=Ke(),s=a.useMemo(()=>{var d;return n.canUpdate?(d=n.itemData)!=null&&d.ComID?null:n.promptUpdating:null},[n.canUpdate,(c=n.itemData)==null?void 0:c.ComID,n.promptUpdating]),i=a.useMemo(()=>{var d;return n.canDelete?(d=n.itemData)!=null&&d.ComID?null:n.confirmDelete:null},[n.canDelete,n.confirmDelete,(u=n.itemData)==null?void 0:u.ComID]);return n.itemDataReady?n.editing?r.jsx(xZ,{onSave:o.handleSubmit(n.onEditorSubmit,n.onEditorSubmitError),onCancel:n.updating?n.confirmReturn:n.confirmQuitCreating,loading:n.editWorking,...t}):r.jsx(PMe,{onEdit:s,onDelete:i,onConvert:n.gotoP42,onSideDrawerOpen:n.handleSideDrawerOpen,...t}):!1};RMe.displayName="P41DialogButtonsContainer";const wMe=a.forwardRef((e,t)=>{const{...n}=e,{height:o}=Wt(),s=a.useMemo(()=>o-120,[o]),i=vt(`
		OrdID,
		OrdDate,
		ArrDate,
		ArrHM,
		CFlag,
		GrpName,
		city,
		area,
		GrpType,
		custType,
		busComp,
		CarData_N,
		CarQty,
		PugAmt,
		CarNo,
		DrvName,
		DrvTel,
		tourGroup,
		TrvData_N,
		tourGuide,
		CndName,
		CndTel,
		employee,
		Remark
		`),c=at({defaultValues:{}}),{reset:u}=c,d=a.useContext(Ef),p=a.useMemo(()=>d.creating?"":d.updating?"":"",[d.creating,d.updating]),m=Qr({maxHeight:s,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),f=a.useCallback(()=>{d.editing&&c.handleSubmit(d.onEditorSubmit,d.onEditorSubmitError)()},[c,d.editing,d.onEditorSubmit,d.onEditorSubmitError]);$t(["Control+Enter"],()=>setTimeout(f),{enableOnFormTags:!0});const h=a.useCallback(P=>{c.setValue("area",P!=null&&P.CtAreaID?{CodeID:P.CtAreaID,CodeData:P.CtAreaData}:null)},[c]),g=a.useCallback(P=>{c.setValue("CarData_N",(P==null?void 0:P.CarData)??"")},[c]),x=a.useCallback(P=>{c.setValue("TrvData_N",(P==null?void 0:P.TrvData)??"")},[c]),y=a.useCallback(P=>{c.setValue("CndName",(P==null?void 0:P.CndData)??"")},[c]),D=Ue({name:"ComID",control:c.control}),v=Ue({name:"CFlag",control:c.control}),T=a.useMemo(()=>D&&v,[v,D]),I=a.useCallback(P=>{switch(P.name){case"CFlag":return T;case"area":return!0;default:return!1}},[T]);return mn(()=>{d.itemDataReady&&(console.log("p41 form reset",d.itemData),u(d.itemData))},[d.itemData,d.itemDataReady]),r.jsx(Ye,{...c,children:r.jsxs(Er,{title:p,ref:t,responsive:!0,fullWidth:!0,maxWidth:"md",TitleButtonsComponent:RMe,open:d.itemViewOpen,onClose:d.editing?d.confirmDialogClose:d.cancelAction,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[m.scroller],...n,children:[r.jsx(Ct,{...i,isFieldDisabled:I,children:r.jsx(gZ,{ref:t,onSubmit:f,editing:d.editing,updating:d.updating,readWorking:d.readWorking,readError:d.readError,data:d.itemData,itemDataReady:d.itemDataReady,onCityChange:h,onBusCompChange:g,onTourGroupChange:x,onTourGuideChange:y,cflagDisabled:T})}),r.jsx(bZ,{BackdropProps:{sx:[ur.BACKDROP_TRANSPARENT]}})]})})});wMe.displayName="P41DialogContainer";const sD=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:6,sm:3,...t})};sD.propTypes={loading:l.bool,children:l.oneOfType([l.node])};sD.displayName="P41IDColumn";const kF=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:17,sm:3.5,...t})};kF.propTypes={loading:l.bool,children:l.oneOfType([l.node])};kF.displayName="P41NameColumn";const aD=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:3.5,sx:{display:{xs:"none",sm:"block"}},...t})};aD.propTypes={loading:l.bool,children:l.oneOfType([l.node])};aD.displayName="P41BankColumn";l.bool,l.oneOfType([l.node]);const iD=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:17,sm:2.5,...t})};iD.propTypes={loading:l.bool,children:l.oneOfType([l.node])};iD.displayName="P41DateColumn";const AF=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:2,sm:1.5,...t})};AF.propTypes={loading:l.bool,children:l.oneOfType([l.node])};AF.displayName="P41FlagColumn";const yZ=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsxs(io,{ref:t,...n,children:[r.jsx(Hn,{}),r.jsx(sD,{children:""}),r.jsx(iD,{children:""}),r.jsx(iD,{children:""}),r.jsx(kF,{children:""}),r.jsx(aD,{children:""}),r.jsx(aD,{children:""}),r.jsx(AF,{children:""}),r.jsx(sD,{children:""})]})}));yZ.propTypes={};yZ.displayName="P41ListHeader";const $R=Object.freeze({NOT_CLEARED:0,CLEARED:1}),kMe=[{id:$R.NOT_CLEARED,label:""},{id:$R.CLEARED,label:""}],GUt=e=>{if(!e)return"";const{label:t}=e;return`${t}`},KUt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),AMe=e=>kMe.find(t=>t.id===e),QUt=()=>AMe($R.NOT_CLEARED),QP={...$R,options:kMe,getOptionLabel:GUt,isOptionEqualToValue:KUt,getOptionById:AMe,getDefaultOption:QUt},YUt=(e,t)=>{const{OrdDate:n,TrxDate:o,ArrDate:s,ArrHM:i,CFlag:c,CityID:u,CityData_N:d,CtAreaID_N:p,CtAreaData_N:m,GrpType:f,CustTID:h,CustTData_N:g,CarID:x,CarData_N:y,TrvID:D,TrvData_N:v,EmplID:T,EmplData_N:I,CndID:P,CndName:E,...k}=e;return{OrdDate:Re.parseDate(n),TrxDate:Re.parseDate(o),ArrDate:Re.parseDate(s),ArrHM:Re.parseTime(i),CFlag:c==="Y",city:u?{CodeID:u,CodeData:d}:null,CityData_N:d,area:p?{CodeID:p,CodeData:m}:null,GrpType:si.getOptionById(f,t),custType:h?{CodeID:h,CodeData:g}:null,busComp:x?{CarID:x,CarData:y}:null,CarData_N:y,tourGroup:D?{TrvID:D,TrvData:v}:null,TrvData_N:v,tourGuide:P?{CndID:P,CndData:E}:null,CndName:E,employee:T?{CodeID:T,CodeData:I}:null,...k}},JUt=e=>{const{OrdDate:t,ArrDate:n,TrxDate:o,ArrHM:s,CFlag:i,city:c,area:u,GrpType:d,custType:p,busComp:m,tourGroup:f,tourGuide:h,employee:g,...x}=e;return{OrdDate:Re.formatDate(t),ArrDate:Re.formatDate(n),TrxDate:Re.formatDate(o),ArrHM:Re.formatTime(s)??"",CFlag:i?"Y":"",CityID:(c==null?void 0:c.CodeID)??"",CtAreaID:(u==null?void 0:u.CodeID)??"",GrpType:(d==null?void 0:d.id)??"",CustTID:(p==null?void 0:p.CodeID)??"",CarID:(m==null?void 0:m.CarID)??"",TrvID:(f==null?void 0:f.TrvID)??"",CndID:(h==null?void 0:h.CndID)??"",EmplID:(g==null?void 0:g.CodeID)??"",...x}},XUt=e=>Gn.isAnyPropNotEmpty(e,"lvId,lvName,lvBank"),ZUt=e=>{const{lvArrDate:t,lvOrdDate:n,lvFilterMode:o,qs:s,...i}=e;return{...s&&{qs:s},...t&&{ard:Re.formatDate(t)},...n&&{ord:Re.formatDate(n)},...o&&{c:o==null?void 0:o.id},...i}},eqt=e=>{const t=[];return e!=null&&e.si&&t.push({ShowName:"",OpCode:"LIKE",CondData:"%"+e.si+"%"}),e!=null&&e.sn&&t.push({ShowName:"",OpCode:"LIKE",CondData:"%"+e.sn+"%"}),e!=null&&e.bank&&t.push({ShowName:"",OpCode:"=",CondData:e.bank}),{StdWhere:t,...(e==null?void 0:e.qs)&&{CondData:{QS_ID:`${e.qs}%`,QS_NAME:`%${e.qs}%`}}}},tqt=()=>({lvArrDate:new Date,lvFilterMode:QP.getDefaultOption()}),wb={transformForReading:YUt,transformForEditorSubmit:JUt,paramsToJsonData:eqt,isFiltered:XUt,transformAsQueryParams:ZUt,getDefaultValues:tqt},CZ=a.memo(e=>{const{index:t,style:n,value:o,onClick:s}=e;return r.jsx("div",{style:n,children:r.jsx(yo,{borderBottom:!0,onClick:s,children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t}),r.jsx(sD,{children:o==null?void 0:o.OrdID}),r.jsx(iD,{children:o==null?void 0:o.OrdDate}),r.jsx(iD,{children:o==null?void 0:o.ArrDate}),r.jsx(kF,{children:o==null?void 0:o.GrpName}),r.jsx(aD,{children:o==null?void 0:o.CarData}),r.jsx(aD,{children:o==null?void 0:o.TrvData}),r.jsx(AF,{children:o==null?void 0:o.CFlag}),r.jsx(sD,{children:o==null?void 0:o.ComID})]})})})});CZ.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func};CZ.displayName="P41ListRow";const DZ=e=>{var u;const{index:t,...n}=e,o=a.useContext(Ef),s=a.useMemo(()=>o.listData[t],[o.listData,t]),i=a.useMemo(()=>!s,[s]),c=a.useMemo(()=>{var d;return(s==null?void 0:s.FactID)===((d=o.selectedItem)==null?void 0:d.FactID)},[(u=o.selectedItem)==null?void 0:u.FactID,s==null?void 0:s.FactID]);return r.jsx(No,{loading:i,children:r.jsx(CZ,{index:t,value:s,onClick:d=>o.handleSelect(d,s),selected:c,...n})})};DZ.propTypes={index:l.number,data:l.object};DZ.displayName="P41ListRowContainer";const NMe=()=>{const e=a.useContext(Ef),{loadList:t}=e,n=Ke(),{getValues:o,setValue:s}=n,{height:i}=Wt(),c=Ue({name:"qs",control:n.control}),u=Ue({name:"lvArrDate",control:n.control}),d=Ue({name:"lvOrdDate",control:n.control}),p=Ue({name:"lvFilterMode",control:n.control}),m=Gr(c,300);En(()=>{e.loadList({params:wb.transformAsQueryParams(wb.getDefaultValues())})},[]),mn(()=>{t({params:wb.transformAsQueryParams({qs:m,lvOrdDate:d,lvArrDate:u,lvFilterMode:p}),supressLoading:!0})},[m,d,u,p]);const f=a.useMemo(()=>i?i-202:300,[i]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:DZ,height:f,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};NMe.displayName="P41ListViewContainer";const SZ=a.memo(e=>{const{...t}=e;return r.jsx(Pt,{children:r.jsxs(Vt,{container:!0,spacing:1,columns:24,...t,children:[r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx($e,{autoFocus:!0,name:"qs",label:"/",variant:"outlined",size:"small",fullWidth:!0,clearable:!0})}),r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(et,{name:"lvArrDate",label:"",validate:!0,clearable:!0,fullWidth:!0})}),r.jsx(Vt,{item:!0,md:6,lg:4,children:r.jsx(et,{name:"lvOrdDate",label:"",validate:!0,clearable:!0})})]})})});SZ.propTypes={};SZ.displayName="P41SearchForm";const FMe=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(Ef),{moduleAuthorityLoading:s,canCreate:i}=o,c=a.useMemo(()=>"",[]);return s||!i?!1:r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(Ao,{}),onClick:o.handlePromptCreating,sx:{fontWeight:600},...n,children:c})}));FMe.displayName="P41CreateButtonContainer";const MMe=()=>{const e=a.useContext(Ef);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};MMe.displayName="P41FetchResultLabelContainer";const vZ=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(bt,{ref:t,label:"",options:QP.options,getOptionLabel:QP.getOptionLabel,isOptionEqualToValue:QP.isOptionEqualToValue,...n})}));vZ.propTypes={label:l.string,children:l.node};vZ.displayName="P41FilterModePicker";const _Me=a.memo(()=>r.jsxs(r.Fragment,{children:[r.jsx(FMe,{}),r.jsx(vZ,{name:"lvFilterMode",dense:!0,placeholder:"",autoComplete:!0,autoSelect:!0,width:"10rem"})]}));_Me.displayName="LeftButtons";const LMe=a.memo(a.forwardRef(({...e},t)=>r.jsx(kn,{alignItems:"flex-end",ref:t,LeftComponent:_Me,RightComponent:MMe,...e})));LMe.displayName="P41ListViewToolbar";const $Me=e=>{const{...t}=e,n=vt(`
		qs,
		lvArrDate,
		lvOrdDate,
		lvFilterMode,
		`);return r.jsxs(Ct,{...n,children:[r.jsx(SZ,{...t}),r.jsx(LMe,{})]})};$Me.displayName="P41SearchFormContainer";const BMe=()=>{const e=at({defaultValues:wb.getDefaultValues()});return r.jsx(Ye,{...e,children:r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsxs(li,{initSize:"md",children:[r.jsx($Me,{}),r.jsx(yZ,{}),r.jsx(NMe,{})]}),r.jsx(wMe,{})]})})};BMe.displayName="P41Frame";const nqt=({token:e})=>{var X;const t=a.useRef(),n=a.useRef(),o=a.useContext(cr),s=Bt({moduleId:"P41"}),{toModule:i}=nm(),c=Co(),{httpGetAsync:u,httpPostAsync:d,httpPutAsync:p,httpDeleteAsync:m}=Zn(),[f,h]=a.useState(),g=a.useContext(Mr),[x,y,D,v]=us(!1),T=so({url:"v1/cms/bookings",bearer:e,initialFetchSize:50,params:{acc:1}}),{groupTypeAlias:I}=a.useContext(mF),P=a.useCallback(async({id:te,refresh:se})=>{const he=se?t.current:te;try{if(!he)throw new Error(" id");se||(t.current=te,o.startReading("...",{id:te}));const{status:pe,payload:ue,error:ge}=await u({url:"v1/cms/bookings",bearer:e,params:{id:he}});if(console.log("payload",ue),pe.success){n.current=ue.CheckData.TimeVal;const Ce=wb.transformForReading(ue.data[0],I);o.finishedReading({data:Ce})}else throw ge||new Error("")}catch(pe){o.failedReading(pe)}},[o,I,u,e]),E=a.useCallback(async(te,se)=>{te==null||te.stopPropagation(),o.cancelAction(),h(se),o.startReading("...",{id:se.OrdID}),P({id:se.OrdID})},[o,P]),k=a.useCallback(()=>{g.confirm({message:"?",onConfirm:()=>{o.cancelUpdating(),P({refresh:!0})}})},[o,g,P]),w=a.useCallback(()=>{g.confirm({message:"?",onConfirm:()=>{o.cancelAction()}})},[o,g]),A=a.useCallback(()=>{g.confirm({message:"?",onConfirm:()=>{o.cancelAction()}})},[o,g]),F=a.useCallback(()=>{o.cancelAction()},[o]),_=a.useCallback(async({data:te,creating:se})=>{var pe;const he=se?"":"";try{se?o.startCreating():o.startUpdating();const ue=se?d:p,{status:ge,error:Ce,payload:Te}=await ue({url:"v1/cms/bookings",data:te,bearer:e});if(ge.success){const Ne=(pe=Te.data)==null?void 0:pe[0];ae.success(` ${Ne==null?void 0:Ne.OrdID} ${he}`),se?(o.finishedCreating(),o.cancelReading()):(o.finishedUpdating(),P({id:Ne==null?void 0:Ne.OrdID})),T.loadList({refresh:!0}),n.current=Te.CheckData.TimeVal}else throw Ce||new Error(`${he}`)}catch(ue){se?(o.failedCreating(ue),console.error("handleCreate.failed",ue)):(o.failedUpdating(ue),console.error("handleUpdate.failed",ue)),ae.error(`${he}`,ue)}},[o,d,p,T,P,e]),L=a.useCallback(async te=>{console.log("P41.onEditorSubmit()",te);const se=wb.transformForEditorSubmit(te);console.log("processed",se),o.creating||o.updating?_({data:se,creating:o.creating}):console.error("UNKNOWN SUBMIT TYPE")},[o.creating,o.updating,_]),K=a.useCallback(te=>{console.error("P41.onSubmitError",te),ae.error(", (*)",{position:"top-right"})},[]),z=a.useCallback(te=>{te==null||te.stopPropagation();const se={OrdDate:new Date,ArrDate:new Date};o.promptCreating({data:se})},[o]),J=a.useCallback(()=>{var te;g.confirm({message:` ${(te=o.itemData)==null?void 0:te.OrdID}?`,onConfirm:async()=>{var se,he;try{o.startDeleting(o.itemData);const{status:pe,error:ue}=await m({url:"v1/cms/bookings",bearer:e,params:{id:(se=o.itemData)==null?void 0:se.OrdID,ts:n.current}});if(pe.success)o.cancelAction(),ae.success(` ${(he=o.itemData)==null?void 0:he.OrdID}`),T.loadList({refresh:!0});else throw ue||""}catch(pe){o.failedDeleting(pe),console.error("confirmDelete.failed",pe),ae.error("",pe)}}})},[o,g,m,T,e]),Q=a.useCallback(te=>{v(),console.log("onSearchSubmit",te),T.loadList({params:wb.transformAsQueryParams(te)})},[v,T]),V=a.useCallback(te=>{console.error("onSearchSubmitError",te)},[]),W=a.useCallback(({reset:te})=>()=>{te({lvId:"",lvName:"",lvBank:null})},[]),U=a.useCallback(()=>{var te;i("P42",{target:(te=o.itemData)==null?void 0:te.OrdID})},[(X=o.itemData)==null?void 0:X.OrdID,i]);return En(()=>{o.cancelAction()},[]),{...T,...o,onSearchSubmit:Q,onSearchSubmitError:V,handleSelect:E,selectedItem:f,handleDialogClose:F,confirmDialogClose:w,confirmQuitCreating:A,onEditorSubmit:L,onEditorSubmitError:K,confirmReturn:k,handlePromptCreating:z,confirmDelete:J,...s,...c,popperOpen:x,handlePopperToggle:y,handlePopperOpen:D,handlePopperClose:v,handleReset:W,gotoP42:U}},WMe=({children:e})=>{const t=a.useContext(Be),n=nqt({token:t.token});return r.jsx(Ef.Provider,{value:{...n},children:e})};WMe.propTypes={children:l.oneOfType([l.array,l.object])};const lD=a.memo(a.forwardRef((e,t)=>{const{children:n,...o}=e;return r.jsx(ys,{ref:t,xs:24,sm:3.5,...o,children:n})}));lD.propTypes={children:l.oneOfType([l.node,l.array])};lD.displayName="CmsBookingOrderDateColumn";const Mh=a.memo(a.forwardRef((e,t)=>{const{children:n,...o}=e;return r.jsx(ys,{ref:t,xs:24,sm:4.5,...o,children:n})}));Mh.propTypes={children:l.oneOfType([l.node,l.array])};Mh.displayName="CmsBookingOrderDeptColumn";const NF=a.memo(a.forwardRef((e,t)=>{const{children:n,...o}=e;return r.jsx(ys,{ref:t,xs:24,sm:3.5,...o,children:n})}));NF.propTypes={children:l.oneOfType([l.node,l.array])};NF.displayName="CmsBookingOrderIdColumn";const jZ=a.memo(()=>r.jsxs(Tf,{children:[r.jsx(NF,{header:!0,children:""}),r.jsx(lD,{header:!0,children:""}),r.jsx(lD,{header:!0,children:""}),r.jsx(Mh,{header:!0,children:""}),r.jsx(Mh,{header:!0,children:""}),r.jsx(Mh,{header:!0,children:""})]}));jZ.propTypes={sx:l.oneOfType([l.object,l.array])};jZ.displayName="CmsBookingOrderGridHeader";const IZ=a.memo(a.forwardRef((e,t)=>{const{value:n}=e;return r.jsxs(j,{ref:t,container:!0,columns:24,spacing:2,children:[r.jsx(NF,{children:n.OrdID}),r.jsx(lD,{children:n.OrdDate}),r.jsx(lD,{children:n.ArrDate}),r.jsx(Mh,{children:n.GrpName}),r.jsx(Mh,{children:n.CarData}),r.jsx(Mh,{children:n.TrvData})]})}));IZ.propTypes={value:l.object};IZ.displayName="DepOrderGridRow";const rqt=e=>{if(!e)return"";const{OrdID:t}=e;return t?`${t}`:"(?)"},oqt=(e,t)=>e.OrdID===t.OrdID,sqt=e=>e.OrdID,FL={getOptionLabel:rqt,isOptionEqualToValue:oqt,renderTagLabel:sqt},TZ=e=>{const{label:t="",cleared:n,...o}=e,{token:s}=a.useContext(Be),i=a.useMemo(()=>{const c={tp:100,...n!=null&&{c:n?1:0}};return Hr.stringify(c)},[n]);return r.jsx(bt,{label:t,bearer:s,url:"v1/cms/bookings",queryParam:"qs",querystring:i,getOptionLabel:FL.getOptionLabel,isOptionEqualToValue:FL.isOptionEqualToValue,renderTagLabel:FL.renderTagLabel,optionLabelSize:"md",GridHeaderComponent:jZ,GridRowComponent:IZ,notFoundText:" ${input} ",inputParam:"fz",clearOnChange:!0,virtualize:!0,...o})};TZ.propTypes={label:l.string,children:l.node,cleared:l.bool};TZ.displayName="DepOrderPicker";const aqt=e=>{if(!e)return"";const{CodeID:t,CodeData:n}=e;return[t,n].filter(Boolean).join(" ")},iqt=e=>{if(!e)return"";const{CodeID:t}=e;return`${t||""}`},lqt=(e,t)=>(e==null?void 0:e.CodeID)==(t==null?void 0:t.CodeID),mj={getOptionLabel:aqt,getOptionLabelForId:iqt,isOptionEqualToValue:lqt},OZ=a.memo(a.forwardRef((e,t)=>{const{label:n="",forId:o=!1,...s}=e,{token:i}=a.useContext(Be);return r.jsx(bt,{label:n,ref:t,bearer:i,url:"v1/cms/hotels",getOptionLabel:o?mj.getOptionLabelForId:mj.getOptionLabel,stringify:mj.getOptionLabel,isOptionEqualToValue:mj.isOptionEqualToValue,renderOptionLabel:mj.getOptionLabel,notFoundText:" ${input} ",virtualize:!0,...s})}));OZ.propTypes={label:l.string,children:l.node,forId:l.bool};OZ.displayName="HotelPicker";const UMe=e=>{const{...t}=e;return r.jsx(pn,{inline:!0,emptyText:"",slotProps:{typography:{color:"text.secondary",sx:{fontWeight:0}}},...t})};UMe.propTypes={};const lb=a.memo(UMe),qMe=e=>{const{editing:t,...n}=e;return r.jsx(sk,{border:0,rowHeight:29,...n,children:r.jsxs(ak,{alignItems:"center",justifyContent:"flex-end",children:[r.jsx(vs,{flex:1,align:"right",px:1,fullHeight:!0,children:r.jsx(lb,{name:"TotCms_N",label:""})}),r.jsx(vs,{w:120,align:"right",px:1,slotProps:{box:{sx:{backgroundColor:"var(--dsg-cell-disabled-background-color)"}}},children:r.jsx(lb,{name:"SalTotAmt"})}),r.jsx(vs,{w:120,align:"right",px:1,slotProps:{box:{sx:{backgroundColor:"var(--dsg-cell-disabled-background-color)"}}},children:r.jsx(lb,{name:"TrvTotCms"})}),r.jsx(vs,{w:25,align:"right",slotProps:{box:{sx:{}}}}),r.jsx(vs,{w:120,align:"right",px:1,slotProps:{box:{sx:{backgroundColor:"var(--dsg-cell-disabled-background-color)"}}},children:r.jsx(lb,{name:"CndTotCms"})}),r.jsx(vs,{w:25,align:"right",slotProps:{box:{sx:{}}}}),r.jsx(vs,{w:120,align:"right",px:1,slotProps:{box:{sx:{backgroundColor:"var(--dsg-cell-disabled-background-color)"}}},children:r.jsx(lb,{name:"DrvTotCms",inline:!0,emptyText:""})}),r.jsx(vs,{w:25,align:"right",slotProps:{box:{sx:{}}}}),r.jsx(vs,{w:120,align:"right",px:1,slotProps:{box:{sx:{backgroundColor:"var(--dsg-cell-disabled-background-color)"}}},children:r.jsx(lb,{name:"SalTotAmtC",inline:!0,emptyText:""})}),r.jsx(vs,{w:13})]})})};qMe.propTypes={editing:l.bool};const Fue=a.memo(qMe),vB=()=>{const e=a.useContext(ai);return e.editing?r.jsx(Fue,{editing:e.editing,...!e.editing&&{mr:"18px"},...e.editing&&{}}):r.jsx(jF,{children:r.jsx(Fue,{editing:e.editing,...!e.editing&&{mr:"18px"},...e.editing&&{}})})};vB.displayName="P42CmsRow1Container";const VMe=e=>{const{...t}=e;return r.jsx(sk,{border:0,rowHeight:29,...t,children:r.jsxs(ak,{children:[r.jsx(vs,{px:1}),r.jsx(vs,{w:180,align:"right",px:1,children:r.jsx(lb,{name:"TotCmsC_N",label:"PC",inline:!0})}),r.jsx(vs,{w:120}),r.jsx(vs,{w:120,align:"right",px:1,children:r.jsx($e,{typo:!0,name:"TrvTotCmsC",type:"number",size:"small",hideSpinButtons:!0,dense:!0,inputProps:{style:{textAlign:"right"}},hideSpinner:!0,sx:{marginRight:"-7px"},slotProps:{label:{slotProps:{typography:{color:"text.secondary"}}}}})}),r.jsx(vs,{w:25,children:r.jsx(m4,{name:"TrvPay"})}),r.jsx(vs,{w:120,align:"right",px:1,children:r.jsx($e,{typo:!0,name:"CndTotCmsC",type:"number",size:"small",hideSpinButtons:!0,dense:!0,inputProps:{style:{textAlign:"right"}},sx:{marginRight:"-7px"},slotProps:{label:{slotProps:{typography:{color:"text.secondary"}}}}})}),r.jsx(vs,{w:25,children:r.jsx(f4,{name:"CndPay"})}),r.jsx(vs,{w:120,align:"right",px:1,children:r.jsx($e,{typo:!0,name:"DrvTotCmsC",type:"number",size:"small",hideSpinButtons:!0,dense:!0,inputProps:{style:{textAlign:"right"}},sx:{marginRight:"-7px"},slotProps:{label:{slotProps:{typography:{color:"text.secondary"}}}}})}),r.jsx(vs,{w:25,children:r.jsx(p4,{name:"DrvPay"})}),r.jsx(vs,{w:120}),r.jsx(vs,{w:13})]})})};VMe.propTypes={};const cqt=a.memo(VMe),zMe=()=>{const e=a.useContext(ai);return r.jsx(jF,{children:r.jsx(cqt,{editing:e.editing})})};zMe.displayName="P42CmsRow2Container";const uqt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),EZ=e=>{var f;const{...t}=e,{height:n}=Wt(),o=Xl(h=>h.breakpoints.down("xl")),s=Ke(),i=a.useContext(ai),c=a.useContext(Lr),u=a.useMemo(()=>Aa({hideButton:!0,hideNumberField:!0,RightComponent:vB}),[]),d=a.useMemo(()=>o?n-512:n-636,[n,o]),p=a.useMemo(()=>o?n-482:200,[n,o]),m=a.useMemo(()=>i.cmsGrid.buildGridChangeHandler({getValues:s.getValues,setValue:s.setValue,gridMeta:c.gridMeta,onUpdateRow:i.onUpdateCmsRow,onGridChanged:i.onCmsGridChanged}),[s.getValues,s.setValue,c.gridMeta,i.cmsGrid,i.onCmsGridChanged,i.onUpdateCmsRow]);return i.cmsGrid.gridData?((f=i.cmsGrid.gridData)==null?void 0:f.length)===0&&i.gridDisabled?r.jsx(nn,{variant:"body2",color:"text.secondary",children:"()"}):r.jsx(Kn.Provider,{value:{...i.cmdGrid,...c.cmsGridMeta,readOnly:!i.editing},children:r.jsxs(dr,{ref:c.cmsGridMeta.setGridRef,lockRows:i.gridDisabled,columns:c.cmsGridMeta.columns,value:i.cmsGrid.gridData,onChange:m,onActiveCellChange:c.cmsGridMeta.handleActiveCellChange,addRowsComponent:u,height:d,loadingHeight:p,createRow:i.createCmsRow,disableExpandSelection:!0,contextMenuComponent:uqt,...t,children:[!i.editing&&r.jsx(vB,{}),r.jsx(zMe,{})]})}):r.jsx(nn,{variant:"body2",color:"text.secondary",children:"()"})};EZ.propTypes={store:l.bool};EZ.displayName="P42CmsGridContainer";const HMe=e=>{const{...t}=e;return r.jsx(sk,{border:0,...t,children:r.jsx(ak,{children:r.jsx(vs,{align:"right",alignItems:"flex-end",px:1,children:r.jsx(pn,{name:"SalCount",label:"",inline:!0})})})})};HMe.propTypes={};const Mue=a.memo(HMe),jB=()=>a.useContext(ai).editing?r.jsx(Mue,{}):r.jsx(jF,{children:r.jsx(Mue,{})});jB.displayName="P42RangeRow1Container";const dqt=Rr({filterItem:e=>["DELETE_ROW","DELETE_ROWS"].includes(e.type)}),PZ=e=>{var f;const{...t}=e,{height:n}=Wt(),o=Ke(),s=a.useContext(ai),i=a.useContext(Lr),c=Xl(h=>h.breakpoints.down("xl")),u=a.useMemo(()=>Aa({hideNumberField:!0,RightComponent:jB}),[]),d=a.useMemo(()=>c?n-480:n-636,[n,c]),p=a.useMemo(()=>c?n-482:200,[n,c]),m=a.useMemo(()=>s.rangeGrid.buildGridChangeHandler({getValues:o.getValues,setValue:o.setValue,gridMeta:i.rangeGridMeta,onUpdateRow:s.onUpdateRow,onGridChanged:s.onGridChanged}),[o.getValues,o.setValue,i.rangeGridMeta,s.onGridChanged,s.onUpdateRow,s.rangeGrid]);return s.rangeGrid.gridData?((f=s.rangeGrid.gridData)==null?void 0:f.length)===0&&s.cashGridDisabled?r.jsx(nn,{variant:"body2",color:"text.secondary",children:"()"}):r.jsx(Kn.Provider,{value:{...s.rangeGrid,...i.rangeGridMeta,readOnly:!s.editing},children:r.jsx(dr,{ref:i.rangeGridMeta.setGridRef,lockRows:s.gridDisabled,columns:i.rangeGridMeta.columns,value:s.rangeGrid.gridData,onChange:m,onActiveCellChange:i.rangeGridMeta.handleActiveCellChange,addRowsComponent:u,height:d,loadingHeight:p,createRow:s.createRow,disableExpandSelection:!0,contextMenuComponent:dqt,...t,children:!s.editing&&r.jsx(jB,{})})}):r.jsx(nn,{variant:"body2",color:"text.secondary",children:"()"})};PZ.propTypes={store:l.bool};PZ.displayName="P42RangeGridContainer";const RZ=a.memo(e=>{const{data:t,readWorking:n,readError:o,itemDataReady:s,itemDataLoaded:i,editing:c,updating:u,slotProps:d,onCityChange:p,onTourGuideChange:m,onTourGroupChange:f,onBusCompChange:h,cflagDisabled:g,...x}=e;return r.jsxs("form",{...x,children:[o&&r.jsx(lo,{error:o,...d==null?void 0:d.error}),!o&&r.jsxs(Pt,{pt:1,children:[r.jsx(Xt,{children:r.jsxs(j,{container:!0,columns:24,spacing:1,children:[r.jsx(j,{item:!0,xs:12,sm:12,md:4,children:r.jsx($e,{typo:!0,name:"ComID",label:"",fullWidth:!0,disabled:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:4.5,children:r.jsx(et,{typo:!0,name:"SalDate",label:"",autoFocus:!0,fullWidth:!0,required:!0,variant:"outlined",validate:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:7,children:r.jsx(TZ,{typo:!0,name:"bookingOrder",label:"",disableOpenOnInput:!0,cleared:!1,slotProps:{paper:{sx:{width:740}}}})}),r.jsx(j,{item:!0,xs:12,md:8.5,children:r.jsx(ve,{justifyContent:"flex-end",alignItems:"flex-end",height:36,children:r.jsx(pn,{name:"CalcType",label:"",inline:!0,stringify:yb.getOptionLabel,emptyText:"()"})})})]})}),r.jsx(Xt,{children:r.jsxs(j,{container:!0,columns:24,spacing:1,children:[r.jsx(j,{item:!0,xs:12,sm:12,md:8,children:r.jsx($e,{typo:!0,name:"GrpName",label:"",fullWidth:!0,clearable:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:4,children:r.jsx(ac,{typo:!0,name:"city",onChange:p,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3.5,children:r.jsx(Zc,{typo:!0,name:"area",disabled:!0,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:4.5,children:r.jsx(wF,{typo:!0,name:"GrpType",label:"",fullWidth:!0,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:4,children:r.jsx(qh,{typo:!0,name:"custType",label:"",fullWidth:!0,disableOpenOnInput:!0})})]})}),r.jsx(Xt,{children:r.jsxs(j,{container:!0,columns:24,spacing:1,children:[r.jsx(j,{item:!0,xs:12,sm:12,md:4,children:r.jsx(eu,{typo:!0,name:"busComp",label:"",fullWidth:!0,forId:!0,onChange:h,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:4,children:r.jsx($e,{typo:!0,name:"CarData_N",label:"",fullWidth:!0,clearable:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:4,children:r.jsx($e,{typo:!0,name:"CarQty",label:"",fullWidth:!0,type:"number",clearable:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3.5,children:r.jsx($e,{typo:!0,name:"PugAmt",label:"",fullWidth:!0,type:"number",clearable:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"CarNo",label:"",fullWidth:!0,clearable:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:2.5,children:r.jsx($e,{typo:!0,name:"DrvName",label:"",fullWidth:!0,clearable:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3,children:r.jsx($e,{typo:!0,name:"DrvTel",label:"",fullWidth:!0,clearable:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:4,children:r.jsx(tu,{typo:!0,name:"tourGroup",label:"",fullWidth:!0,forId:!0,onChange:f,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:4,children:r.jsx($e,{typo:!0,name:"TrvData_N",label:"",fullWidth:!0,clearable:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:4,children:r.jsx(zd,{typo:!0,name:"tourGuide",label:"",fullWidth:!0,forId:!0,onChange:m,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3.5,children:r.jsx($e,{typo:!0,name:"CndName",label:"",fullWidth:!0,clearable:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:5.5,children:r.jsx($e,{typo:!0,name:"CndTel",label:"",fullWidth:!0,clearable:!0})})]})}),r.jsx(Xt,{children:r.jsxs(j,{container:!0,columns:24,spacing:1,children:[r.jsx(j,{item:!0,xs:12,sm:12,md:4,children:r.jsx(Ar,{typo:!0,name:"employee",label:"",fullWidth:!0,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:4,children:r.jsx(Ar,{typo:!0,name:"cashier",label:"",fullWidth:!0,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:4,children:r.jsx(OZ,{typo:!0,name:"hotel",label:"",fullWidth:!0,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:4,children:r.jsx($e,{typo:!0,name:"HotelTotCms",label:"",fullWidth:!0,type:"number",clearable:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:3.5,children:r.jsx(xr,{typo:!0,label:"",name:"HotelPay",variant:"outlined",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:12,children:r.jsx($e,{typo:!0,name:"Remark",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:12,children:r.jsx($e,{typo:!0,name:"SnRemark",label:"",fullWidth:!0})})]})}),r.jsxs(j,{container:!0,columns:24,spacing:1,children:[r.jsx(j,{item:!0,md:24,lg:5.5,children:r.jsx(PZ,{})}),r.jsx(j,{item:!0,md:24,lg:18.5,children:r.jsx(EZ,{})})]})]})]})});RZ.propTypes={data:l.object,readWorking:l.bool,itemDataReady:l.bool,editing:l.bool,updating:l.bool,store:l.bool,readError:l.object,slotProps:l.object,onCityChange:l.func,onTourGuideChange:l.func,onTourGroupChange:l.func,onBusCompChange:l.func,cflagDisabled:l.bool};RZ.displayName="P42Form";const wZ=a.memo(e=>{var s,i;const{anchor:t="right",...n}=e,o=a.useContext(ai);return r.jsxs(Eo,{anchor:t,open:o.sideDrawerOpen,onClose:o.handleSideDrawerClose,...n,children:[r.jsx(pn,{label:"",children:(s=o.itemData)==null?void 0:s.WriteDate_N}),r.jsx(pn,{label:"",children:(i=o.itemData)==null?void 0:i.Writer_N})]})});wZ.propTypes={anchor:l.string};wZ.displayName="P42Drawer";const kZ=a.memo(e=>{const{onSave:t,onCancel:n,loading:o,refreshWorking:s,onRefresh:i}=e;return r.jsxs(a.Fragment,{children:[r.jsx(dt,{responsive:!0,onClick:i,type:"submit",startIcon:r.jsx(Jb,{}),color:"secondary",variant:"contained",loading:s,children:""}),r.jsx(cbt,{}),r.jsx(dt,{responsive:!0,onClick:n,color:"warning",variant:"outlined",children:""}),r.jsx(dt,{responsive:!0,onClick:t,type:"submit",endIcon:r.jsx(Do,{}),color:"warning",variant:"contained",loading:o,tooltip:" (Ctrl-Enter)",children:""})]})});kZ.displayName="P42DialogEditButtons";kZ.propTypes={onSave:l.func,onCancel:l.func,onRefresh:l.func,loading:l.bool,refreshWorking:l.bool};const GMe=e=>{const{...t}=e,n=Ke(),o=a.useContext(ai),{canPrint:s}=o,i=n.handleSubmit(o.onPrintSubmit,o.onPrintSubmitError);return s?r.jsx(xn,{onSubmit:i,...t}):!1};GMe.displayName="P42ExportButtonContainer";const KMe=a.memo(a.forwardRef((e,t)=>{const{onPrint:n,onEdit:o,onDelete:s,onSideDrawerOpen:i,...c}=e;return r.jsxs(a.Fragment,{ref:t,...c,children:[n&&r.jsx(r.Fragment,{children:r.jsx(GMe,{})}),s&&r.jsx(hn,{startIcon:r.jsx(Fs,{}),color:"secondary",onClick:s,children:""}),o&&r.jsx(hn,{startIcon:r.jsx(bo,{}),color:"primary",onClick:o,children:""}),r.jsx(jr,{title:"",children:r.jsx(br,{onClick:i,size:"small",children:r.jsx(Po,{})})})]})}));KMe.propTypes={onPrint:l.func,onEdit:l.func,onDelete:l.func,onSideDrawerOpen:l.func};const QMe=e=>{const{...t}=e,n=a.useContext(ai),o=Ke(),s=o.handleSubmit(n.onPrintSubmit,n.onPrintSubmitError);return n.itemDataLoaded?n.editing?r.jsx(kZ,{onSave:o.handleSubmit(n.onEditorSubmit,n.onEditorSubmitError),onCancel:n.updating?n.confirmReturn:n.confirmQuitCreating,onRefresh:o.handleSubmit(n.onRefreshSubmit({form:o}),n.onRefreshSubmitError),refreshWorking:n.refreshWorking,loading:n.editWorking,...t}):r.jsx(KMe,{onPrint:n.canPrint?s:null,onEdit:n.canUpdate?n.promptUpdating:null,onDelete:n.canDelete?n.confirmDelete:null,onSideDrawerOpen:n.handleSideDrawerOpen,...t}):!1};QMe.displayName="P42DialogButtonsContainer";const YMe=a.forwardRef((e,t)=>{const{...n}=e,{height:o}=Wt(),s=Xl(V=>V.breakpoints.down("xl")),i=Ke(),{reset:c}=i,u=a.useContext(ai),{createWithBookingOrder:d}=u,p=a.useMemo(()=>o-40,[o]),m=a.useMemo(()=>!u.editing,[u.editing]),f=a.useMemo(()=>[{...Pe.keyColumn("SCustID",kt({})),title:"",disabled:m,minWidth:110,maxWidth:110},{...Pe.keyColumn("ECustID",kt({})),title:"~",disabled:m,grow:1}],[m]),h=hr({columns:f,skipDisabled:!0,lastCell:Xn.CREATE_ROW,grid:u.rangeGrid}),g=a.useMemo(()=>[{...Pe.keyColumn("cmsType",or(SO,{name:"cmsType"})),title:"",grow:1,disabled:!0},{...Pe.keyColumn("SSalAmt",kt({alignRight:!0})),title:"",disabled:!0,minWidth:120,maxWidth:120,grow:1},{...Pe.keyColumn("STrvCms",kt({alignRight:!0})),title:"",disabled:!0,minWidth:120,maxWidth:120},{...Pe.keyColumn("STrvCmsGap",kt({alignRight:!0})),disabled:!0,minWidth:25,maxWidth:25},{...Pe.keyColumn("SCndCms",kt({alignRight:!0})),title:"",disabled:!0,minWidth:120,maxWidth:120},{...Pe.keyColumn("SCndCmsGap",kt({alignRight:!0})),disabled:!0,minWidth:25,maxWidth:25},{...Pe.keyColumn("SDrvCms",kt({alignRight:!0})),title:"",disabled:!0,minWidth:120,maxWidth:120},{...Pe.keyColumn("SDrvCmsGap",kt({alignRight:!0})),disabled:!0,minWidth:25,maxWidth:25},{...Pe.keyColumn("SPCAmt",kt({alignRight:!0})),title:"PC",disabled:m,minWidth:120,maxWidth:120}],[m]),x=hr({columns:g,skipDisabled:!0,lastCell:Xn.CREATE_ROW,grid:u.cmsGrid}),y=a.useCallback(()=>{h.setActiveCell({col:0,row:0})},[h]),D=vt(`
		TrvTotCmsC,
		TrvPay,
		CndTotCmsC,
		CndPay,
		DrvTotCmsC,
		DrvPay,
		ComID,
		SalDate,
		bookingOrder,
		GrpName,
		city,
		area,
		GrpType,
		custType,
		busComp,
		CarData_N,
		CarQty,
		PugAmt,
		CarNo,
		DrvName,
		DrvTel,
		tourGroup,
		TrvData_N,
		tourGuide,
		CndName,
		CndTel,
		employee,
		cashier,
		hotel,
		HotelTotCms,
		HotelPay,
		Remark,
		SnRemark,
		`,{lastField:y}),v=a.useMemo(()=>u.creating?"":u.updating?"":"",[u.creating,u.updating]),T=Qr({maxHeight:p,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),I=a.useCallback(()=>{u.editing&&i.handleSubmit(u.onEditorSubmit,u.onEditorSubmitError)()},[i,u.editing,u.onEditorSubmit,u.onEditorSubmitError]);$t(["Control+Enter"],()=>setTimeout(I),{enableOnFormTags:!0});const P=a.useCallback(V=>{i.setValue("area",V!=null&&V.CtAreaID?{CodeID:V.CtAreaID,CodeData:V.CtAreaData}:null)},[i]),E=a.useCallback(V=>{i.setValue("CarData_N",(V==null?void 0:V.CarData)??"")},[i]),k=a.useCallback(V=>{i.setValue("TrvData_N",(V==null?void 0:V.TrvData)??"")},[i]),w=a.useCallback(V=>{i.setValue("CndName",(V==null?void 0:V.CndData)??"")},[i]),A=a.useRef();mn(()=>{var V;u.itemDataReady?(console.log("p42 form reset",u.itemData),c(u.itemData),A.current=(V=u.itemData)==null?void 0:V.bookingOrder):A.current=null},[u.itemData,u.itemDataReady]);const F=Ue({name:"bookingOrder",control:i.control});mn(()=>{var V;(F==null?void 0:F.OrdID)!==((V=A.current)==null?void 0:V.OrdID)&&(console.log("bookingOrder changed",A.current,F),u.handleBookingOrderChange({form:i})(F),A.current=F)},[F]);const _=a.useCallback(V=>{switch(V.name){case"area":return!0;default:return!1}},[]),L=["HotelTotCms","TrvTotCms","CndTotCms","DrvTotCms"],K=Ue({control:i.control,name:L});mn(()=>{console.log("watchedValues",K);const V=K.reduce((W,U)=>W+(parseFloat(U)||0),0);i.setValue("TotCms_N",V)},K,{debug:!0,tag:"TotCms_N"});const z=["HotelTotCms","TrvTotCmsC","CndTotCmsC","DrvTotCmsC"],J=Ue({control:i.control,name:z});mn(()=>{console.log("pcWatchedValues",K);const V=J.reduce((W,U)=>W+(parseFloat(U)||0),0);i.setValue("TotCmsC_N",V)},J,{debug:!0,tag:"TotCmsC_N"});const Q=a.useCallback(V=>{V&&(D.supressEvents(),d({id:V}))},[d,D]);return $D("target",Q),r.jsxs(Er,{title:v,ref:t,fullScreen:s,responsive:!0,fullWidth:!0,maxWidth:"xl",minWidth:1300,TitleButtonsComponent:QMe,open:u.itemViewOpen,onClose:u.editing&&!(u!=null&&u.readingFailed)?u.confirmDialogClose:u.cancelAction,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[{},T.scroller],...n,children:[r.jsx(Ct,{...D,rangeGridMeta:h,cmsGridMeta:x,isFieldDisabled:_,children:r.jsx(RZ,{ref:t,onSubmit:I,editing:u.editing,updating:u.updating,readWorking:u.readWorking,readError:u.readError,data:u.itemData,itemDataReady:u.itemDataReady,itemDataLoaded:u.itemDataLoaded,onCityChange:P,onBusCompChange:E,onTourGroupChange:k,onTourGuideChange:w})}),r.jsx(wZ,{BackdropProps:{sx:[ur.BACKDROP_TRANSPARENT]}})]})});YMe.displayName="P42DialogContainer";const FF=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:6,sm:3,...t})};FF.propTypes={loading:l.bool,children:l.oneOfType([l.node])};FF.displayName="P42IDColumn";const MF=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:17,sm:6,...t})};MF.propTypes={loading:l.bool,children:l.oneOfType([l.node])};MF.displayName="P42NameColumn";const cD=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:4,sx:{display:{xs:"none",sm:"block"}},...t})};cD.propTypes={loading:l.bool,children:l.oneOfType([l.node])};cD.displayName="P42BankColumn";const _F=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:17,sm:3,...t})};_F.propTypes={loading:l.bool,children:l.oneOfType([l.node])};_F.displayName="P42GuideNameColumn";const LF=e=>{const{...t}=e;return r.jsx(wt,{item:!0,pr:1,xs:17,sm:3,...t})};LF.propTypes={loading:l.bool,children:l.oneOfType([l.node])};LF.displayName="P42DateColumn";const AZ=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsxs(io,{ref:t,...n,children:[r.jsx(Hn,{}),r.jsx(FF,{children:""}),r.jsx(LF,{children:""}),r.jsx(MF,{children:""}),r.jsx(cD,{children:""}),r.jsx(cD,{children:""}),r.jsx(_F,{children:""})]})}));AZ.propTypes={};AZ.displayName="P42ListHeader";const NZ=a.memo(e=>{const{index:t,style:n,value:o,onClick:s}=e;return r.jsx("div",{style:n,children:r.jsx(yo,{borderBottom:!0,onClick:s,children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t}),r.jsx(FF,{children:o==null?void 0:o.ComID}),r.jsx(LF,{children:o==null?void 0:o.SalDate}),r.jsx(MF,{children:o==null?void 0:o.GrpName}),r.jsx(cD,{children:o==null?void 0:o.CarData}),r.jsx(cD,{children:o==null?void 0:o.TrvData}),r.jsx(_F,{children:o==null?void 0:o.CndName})]})})})});NZ.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func};NZ.displayName="P42ListRow";const FZ=e=>{var u;const{index:t,...n}=e,o=a.useContext(ai),s=a.useMemo(()=>o.listData[t],[o.listData,t]),i=a.useMemo(()=>!s,[s]),c=a.useMemo(()=>{var d;return(s==null?void 0:s.FactID)===((d=o.selectedItem)==null?void 0:d.FactID)},[(u=o.selectedItem)==null?void 0:u.FactID,s==null?void 0:s.FactID]);return r.jsx(No,{loading:i,children:r.jsx(NZ,{index:t,value:s,onClick:d=>o.handleSelect(d,s),selected:c,...n})})};FZ.propTypes={index:l.number,data:l.object};FZ.displayName="P42ListRowContainer";const JMe=()=>{const e=a.useContext(ai),{loadList:t}=e,n=Ke(),{getValues:o,setValue:s}=n,{height:i}=Wt(),c=Ue({name:"qs",control:n.control}),u=Gr(c,300);En(()=>{e.loadList()},[]),mn(()=>{if(console.log(`debouncedQs: ${u}`),u!==void 0){const p=o();t({params:{...p,qs:u},supressLoading:!0}),s("qs",u)}},[u]);const d=a.useMemo(()=>i?i-162:300,[i]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:FZ,height:d,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};JMe.displayName="P42ListViewContainer";const XMe=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(ai),{moduleAuthorityLoading:s,canCreate:i}=o,c=a.useMemo(()=>"",[]);return s||!i?!1:r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(Ao,{}),onClick:o.handlePromptCreating,sx:{fontWeight:600},...n,children:c})}));XMe.displayName="P42CreateButtonContainer";const ZMe=()=>{const e=a.useContext(ai);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};ZMe.displayName="P42FetchResultLabelContainer";const e_e=a.memo(()=>r.jsx(r.Fragment,{children:r.jsx(XMe,{})}));e_e.displayName="LeftButtons";const t_e=a.memo(a.forwardRef(({...e},t)=>r.jsx(kn,{alignItems:"flex-end",ref:t,LeftComponent:e_e,RightComponent:ZMe,...e})));t_e.displayName="P42ListViewToolbar";const MZ=a.memo(e=>{const{...t}=e;return r.jsx(Pt,{children:r.jsxs(Vt,{container:!0,spacing:1,columns:24,...t,children:[r.jsx(Vt,{item:!0,xs:24,sm:24,md:4,children:r.jsx($e,{autoFocus:!0,name:"lvId",label:"",variant:"outlined",size:"small",fullWidth:!0,clearable:!0})}),r.jsx(Vt,{item:!0,xs:24,sm:24,md:4,children:r.jsx($e,{name:"lvName",label:"",variant:"outlined",size:"small",fullWidth:!0,clearable:!0})}),r.jsx(Vt,{item:!0,xs:24,sm:24,md:4,children:r.jsx(au,{name:"lvBank",label:"",disableOpenOnInput:!0})})]})})});MZ.propTypes={};MZ.displayName="P42SearchForm";const n_e=a.memo(a.forwardRef((e,t)=>{const{width:n="40ch",onClose:o,onReset:s,ContentProps:i,...c}=e;return r.jsxs(sm,{width:n,ref:t,children:[r.jsx(am,{onClose:o,children:""}),r.jsx(ta,{sx:{mt:0,mb:0}}),r.jsx(tm,{...i,children:r.jsx(MZ,{initSize:"xs",spacing:2})}),r.jsx(ta,{}),r.jsxs(em,{children:[r.jsx(dt,{size:"small",variant:"outlined",color:"primary",onClick:s,children:""}),r.jsx(dt,{startIcon:r.jsx(Xh,{}),type:"submit",variant:"contained",children:""})]})]})}));n_e.displayName="P42SearchPopper";const pqt=a.forwardRef(({...e},t)=>{const n=a.useContext(ai),o=Ke(),s=vt(`
		lvId,
		lvName,
		lvBank,
		`);return r.jsx(Ct,{...s,children:r.jsx(n_e,{ref:t,onClose:n.handlePopperClose,onReset:n.handleReset({reset:o.reset}),...e})})});pqt.displayName="P42SearchPopperContainer";const mqt=e=>(e==null?void 0:e.filter(t=>t.SCustID).map(({Seq:t,SCustID:n,ECustID:o},s)=>({Seq:t,SCustID:n,ECustID:o})))??[],fqt=e=>(e==null?void 0:e.filter(t=>t.SCmsID).map(({CmsData_N:t,SCmsID:n,SCndCms:o,SDrvCms:s,SPCAmt:i,SSalAmt:c,STrvCms:u,Seq:d},p)=>({Seq:d,cmsType:{CodeID:n,CodeData:t},SCndCms:o,SDrvCms:s,SPCAmt:i,SSalAmt:c,STrvCms:u})))??[],hqt=(e,t)=>{const{SalDate:n,OrdID:o,CityID:s,CityData_N:i,CtAreaID_N:c,CtAreaData_N:u,GrpType:d,CustTID:p,CustTData_N:m,CarID:f,CarData_N:h,TrvID:g,TrvData_N:x,CndID:y,CndName:D,EmplID:v,EmplData_N:T,AcctID:I,AcctData_N:P,ComFile_CustIDs:E,ComFile_S:k,HotelPay:w,TrvPay:A,CndPay:F,CarPay:_,DrvPay:L,CalcType:K,HotelID:z,HotelData_N:J,...Q}=e;return{SalDate:Re.parseDate(n),bookingOrder:o?{OrdID:o}:null,city:s?{CodeID:s,CodeData:i}:null,CityData_N:i,area:c?{CodeID:c,CodeData:u}:null,GrpType:si.getOptionById(d,t),custType:p?{CodeID:p,CodeData:m}:null,busComp:f?{CarID:f,CarData:h}:null,CarData_N:h,tourGroup:g?{TrvID:g,TrvData:x}:null,TrvData_N:x,tourGuide:y?{CndID:y,CndData:D}:null,CndName:D,employee:v?{CodeID:v,CodeData:T}:null,cashier:I?{CodeID:I,CodeData:P}:null,hotel:z?{CodeID:z,CodeData:J}:null,ranges:mqt(E),commissions:fqt(k),HotelPay:w?w==="Y":null,TrvPay:A?A==="Y":null,CndPay:F?F==="Y":null,CarPay:_?_==="Y":null,DrvPay:L?L==="Y":null,CalcType:yb.getOptionById(K)??null,...Q}},gqt=e=>{const{OrdDate:t,TrxDate:n,ArrDate:o,ArrHM:s,CFlag:i,CityID:c,CityData_N:u,CtAreaID_N:d,CtAreaData_N:p,GrpType:m,CustTID:f,CustTData_N:h,CarID:g,CarData_N:x,TrvID:y,TrvData_N:D,EmplID:v,EmplData_N:T,CndID:I,CndName:P,...E}=e;return{OrdDate:Re.parseDate(t),TrxDate:Re.parseDate(n),ArrDate:Re.parseDate(o),ArrHM:Re.parseTime(s),CFlag:i==="Y",city:c?{CodeID:c,CodeData:u}:null,CityData_N:u,area:d?{CodeID:d,CodeData:p}:null,GrpType:si.getOptionById(m),custType:f?{CodeID:f,CodeData:h}:null,busComp:g?{CarID:g,CarData:x}:null,CarData_N:x,tourGroup:y?{TrvID:y,TrvData:D}:null,TrvData_N:D,tourGuide:I?{CndID:I,CndData:P}:null,CndName:P,employee:v?{CodeID:v,CodeData:T}:null,...E}},bqt=e=>(e==null?void 0:e.filter(t=>t.SCustID).map(({SCustID:t,ECustID:n,...o},s)=>({Seq:s+1,SCustID:(t==null?void 0:t.toUpperCase())??"",ECustID:(n==null?void 0:n.toUpperCase())??"",...o})))??[],xqt=e=>(e==null?void 0:e.filter(t=>t.cmsType).map(({cmsType:t,CmsData_N:n,SSalAmt:o,STrvCms:s,SCndCms:i,SCarCms:c,...u},d)=>({Seq:d+1,SCmsID:(t==null?void 0:t.CodeID)??"",CmsData_N:n,SSalAmt:o==null?void 0:o.toString(),STrvCms:s==null?void 0:s.toString(),SCndCms:i==null?void 0:i.toString(),SCarCms:c==null?void 0:c.toString(),...u})))??[],yqt=(e,t,n)=>{const{SalDate:o,bookingOrder:s,city:i,area:c,GrpType:u,custType:d,busComp:p,tourGroup:m,tourGuide:f,employee:h,cashier:g,hotel:x,HotelPay:y,TrvPay:D,CndPay:v,DrvPay:T,cmsType:I,ranges:P,commissions:E,CalcType:k,CarQty:w,...A}=e;return console.log("ignore props",I,E,P),{SalDate:Re.formatDate(o),OrdID:(s==null?void 0:s.OrdID)||"",CityID:(i==null?void 0:i.CodeID)??"",CtAreaID:(c==null?void 0:c.CodeID)??"",GrpType:(u==null?void 0:u.id)??"",CustTID:(d==null?void 0:d.CodeID)??"",CarID:(p==null?void 0:p.CarID)??"",TrvID:(m==null?void 0:m.TrvID)??"",CndID:(f==null?void 0:f.CndID)??"",EmplID:(h==null?void 0:h.CodeID)??"",AcctID:(g==null?void 0:g.CodeID)??"",HotelID:(x==null?void 0:x.CodeID)??"",HotelPay:y?"Y":"N",TrvPay:D?"Y":"N",CndPay:v?"Y":"N",DrvPay:T?"Y":"N",ComFile_CustIDs:bqt(t),ComFile_S:xqt(n),CalcType:(k==null?void 0:k.id)||"",CarQty:w||"1",...A}},Cqt=e=>Gn.isAnyPropNotEmpty(e,"lvId,lvName,lvBank"),Dqt=e=>{const{lvId:t,lvName:n,lvBank:o,...s}=e;return{si:t,sn:n,...o&&{bank:o==null?void 0:o.CodeID},...s}},Sqt=e=>{const t=[];return e!=null&&e.si&&t.push({ShowName:"",OpCode:"LIKE",CondData:"%"+e.si+"%"}),e!=null&&e.sn&&t.push({ShowName:"",OpCode:"LIKE",CondData:"%"+e.sn+"%"}),e!=null&&e.bank&&t.push({ShowName:"",OpCode:"=",CondData:e.bank}),{StdWhere:t,...(e==null?void 0:e.qs)&&{CondData:{QS_ID:`${e.qs}%`,QS_NAME:`%${e.qs}%`}}}};function vqt(e,t,n){const o={SalDate:e.SalDate,CarQty:t.CarQty||e.CarQty,ranges:e.ranges,commissions:e.commissions};return n.forEach(s=>{t[s]!==void 0&&(o[s]=t[s])}),o}const Hm={transformForReading:hqt,transformForImport:gqt,transformForEditorSubmit:yqt,paramsToJsonData:Sqt,isFiltered:Cqt,transformAsQueryParams:Dqt,mapBookingFields:vqt},_Z=e=>{const{name:t="qs",...n}=e,o=Ke(),{getValues:s}=o,i=a.useContext(ai),c=a.useRef(null),u=ru({inputRef:c,onChange:m=>{o.setValue(t,m)}});$t("ctrl+F12",u.handleFocus,{enableOnFormTags:!0});const d=$t("esc",u.handleClear,{enableOnFormTags:!0}),p=a.useMemo(()=>o.handleSubmit(i.onSearchSubmit,i.onSearchSubmitError),[i.onSearchSubmit,i.onSearchSubmitError,o]);return $t(["Shift+Enter","Control+Enter"],()=>setTimeout(p),{enableOnFormTags:!0}),r.jsx("form",{onSubmit:p,children:r.jsx("div",{ref:d,children:r.jsx(su,{autoFocus:!0,name:t,placeholder:"/(ctrl+F12)",mobilePlaceholder:"/",borderRadius:"8px",maxWidth:"32ch",responsive:!0,inputRef:c,onClear:u.handleClear,filtered:Hm.isFiltered(s())})})})};_Z.propTypes={name:l.string};_Z.displayName="SupplierSearchFieldContainer";const r_e=()=>{const e=at(),t=at({defaultValues:{}});return r.jsx(Ye,{...e,children:r.jsxs(Ft,{children:[r.jsx(_t,{children:r.jsx(_Z,{name:"qs"})}),r.jsx(t_e,{}),r.jsx(AZ,{}),r.jsx(JMe,{}),r.jsx(Ye,{...t,children:r.jsx(YMe,{})})]})})};r_e.displayName="P42Frame";const ML=["GrpName","city","area","GrpType","custType","busComp","CarData_N","CarQty","PugAmt","CarNo","DrvName","DrvTel","tourGroup","TrvData_N","tourGuide","CndName","CndTel","employee","Remark"],TP={SalDate:new Date,CarQty:1,ranges:[],commissions:[]},jqt=()=>{var Le;const e=a.useContext(ln),t=a.useRef(),n=a.useRef(),o=a.useContext(cr),{token:s,operator:i}=a.useContext(Be),c=Bt({moduleId:"P42"}),u=Co(),{clearParams:d}=a.useContext(Sn),{httpGetAsync:p,httpPostAsync:m,httpPutAsync:f,httpDeleteAsync:h}=Zn(),[g,x]=a.useState(),y=a.useContext(Mr),[D,v,T,I]=us(!1),P=a.useCallback(()=>({Pkey:zn(),SCustID:"",ECustID:""}),[]),E=yr({gridId:"ranges",keyColumn:"id",createRow:P}),k=a.useMemo(()=>!o.editing,[o.editing]),w=a.useCallback(()=>({Pkey:zn(),cmsType:null}),[]),A=yr({gridId:"commissions",keyColumn:"id",createRow:w}),F=so({url:"v1/cms/entries",bearer:s,initialFetchSize:50,params:{acc:1}}),{groupTypeAlias:_}=a.useContext(mF),L=a.useCallback(async({id:_e,refresh:H})=>{const re=H?t.current:_e;try{if(!re)throw new Error(" id");H||(t.current=_e),o.startReading("...",{id:_e,params:{supressLoading:H}});const{status:q,payload:Y,error:ie}=await p({url:"v1/cms/entries",bearer:s,params:{id:re}});if(console.log("payload",Y),q.success){n.current=Y.CheckData.TimeVal;const B=Hm.transformForReading(Y.data[0],_);return E.initGridData(B.ranges,{fillRows:8}),A.initGridData(B.commissions,{fillRows:8}),o.finishedReading({data:B}),B}else throw ie||new Error("")}catch(q){o.failedReading(q)}},[A,o,_,p,E,s]),K=a.useCallback(async({id:_e})=>{try{o.promptCreating(),o.startReading("...");const{status:H,payload:re,error:q}=await p({url:"v1/cms/bookings",bearer:s,params:{id:_e}});if(H.success){const Y=Hm.transformForImport(re.data[0]),ie=Hm.mapBookingFields(TP,Y,ML);ie.bookingOrder={OrdID:_e},o.finishedReading({data:{...ie}}),E.initGridData(ie.ranges,{fillRows:8}),A.initGridData(ie.commissions,{fillRows:8}),ae.info(` ${_e}`)}else throw q??new Error("")}catch(H){o.failedReading(H)}},[o,p,s,E,A]),z=a.useCallback(()=>{o.cancelAction(),o.setItemData(null),d()},[d,o]),J=a.useCallback(async(_e,H)=>{_e==null||_e.stopPropagation(),z(),x(H),L({id:H.ComID})},[z,L]),Q=a.useCallback(()=>{y.confirm({message:"?",onConfirm:()=>{o.cancelUpdating(),L({refresh:!0})}})},[o,y,L]),V=a.useCallback(()=>{y.confirm({message:"?",onConfirm:()=>{z()}})},[z,y]),W=a.useCallback(()=>{y.confirm({message:"?",onConfirm:()=>{z()}})},[z,y]),U=a.useCallback(()=>{z()},[z]),X=a.useCallback(async({data:_e,creating:H})=>{const re=H?"":"";try{H?o.startCreating():o.startUpdating();const q=H?m:f,{status:Y,error:ie,payload:B}=await q({url:"v1/cms/entries",data:_e,bearer:s});if(Y.success){const Z=B.data[0];ae.success(` ${Z==null?void 0:Z.ComID} ${re}`),H?(o.finishedCreating(),o.cancelReading(),L({id:Z==null?void 0:Z.ComID})):(o.finishedUpdating(),L({refresh:!0})),F.loadList({refresh:!0}),n.current=B.CheckData.TimeVal}else throw ie||new Error(`${re}`)}catch(q){H?(o.failedCreating(q),console.error("handleCreate.failed",q)):(o.failedUpdating(q),console.error("handleUpdate.failed",q)),ae.error(`${re}`,q)}},[o,m,f,F,L,s]),te=a.useCallback(async _e=>{console.log("P42.onEditorSubmit()",_e);const H=Hm.transformForEditorSubmit(_e,E.gridData,A.gridData);console.log("processed",H),o.creating||o.updating?X({data:H,creating:o.creating}):console.error("UNKNOWN SUBMIT TYPE")},[A.gridData,o.creating,o.updating,X,E.gridData]),se=a.useCallback(_e=>{console.error("P42.onSubmitError",_e),ae.error(", (*)",{position:"top-right"})},[]),he=a.useCallback(_e=>{_e==null||_e.stopPropagation(),o.promptCreating({data:TP}),E.initGridData(TP.ranges,{fillRows:8}),A.initGridData(TP.commissions,{fillRows:8})},[A,o,E]),pe=a.useCallback(()=>{var _e;y.confirm({message:` ${(_e=o.itemData)==null?void 0:_e.ComID}?`,confirmButtonProps:{color:"secondary",variant:"contained"},onConfirm:async()=>{var H,re;try{o.startDeleting(o.itemData);const{status:q,error:Y}=await h({url:"v1/cms/entries",bearer:s,params:{id:(H=o.itemData)==null?void 0:H.ComID,ts:n.current}});if(q.success)z(),ae.success(` ${(re=o.itemData)==null?void 0:re.ComID}`),F.loadList({refresh:!0});else throw Y||""}catch(q){o.failedDeleting(q),console.error("confirmDelete.failed",q),ae.error("",q)}}})},[z,o,y,h,F,s]),ue=a.useCallback(_e=>{I(),console.log("onSearchSubmit",_e),F.loadList({params:Hm.transformAsQueryParams(_e)})},[I,F]),ge=a.useCallback(_e=>{console.error("onSearchSubmitError",_e)},[]),Ce=a.useCallback(({reset:_e})=>()=>{_e({lvId:"",lvName:"",lvBank:null})},[]),Te=a.useCallback(({form:_e})=>async H=>{if(H)try{const{status:re,payload:q,error:Y}=await p({url:"v1/cms/bookings",bearer:s,params:{id:H.OrdID}});if(re.success){const ie=Hm.transformForImport(q.data[0]);console.log("collected",ie),ML.forEach(B=>{_e.setValue(B,ie[B])})}else throw Y||new Error("")}catch(re){ae.error(` ${H.OrdID} `,re)}else{const re=_e.getValues();ML.forEach(q=>{const Y=re[q];typeof Y=="string"?_e.setValue(q,""):typeof Y=="object"&&_e.setValue(q,null)})}},[p,s]),Ne=Or(),xe=a.useCallback(({form:_e})=>async H=>{try{Ne.start();const re=Hm.transformForEditorSubmit(H,E.gridData,A.gridData),{status:q,payload:Y,error:ie}=await m({url:"v1/cms/entries/refresh",bearer:s,data:re});if(q.success){const B=Hm.transformForReading(Y.data[0]);console.log("collected",B),["SalCount","TotCms_N","SalTotAmt","TrvTotCms","CndTotCms","CndPay","DrvTotCms","DrvPay","SalTotAmtC","CalcType","TotCmsC_N","TrvTotCmsC","CndTotCmsC","DrvTotCmsC","CarCmsC"].forEach(Z=>{_e.setValue(Z,B[Z])}),A.initGridData(B.commissions,{fillRows:8}),Ne.finish()}else throw ie||new Error("")}catch(re){ae.error("",re),Ne.fail(re)}},[A,m,E.gridData,Ne,s]),me=a.useCallback(_e=>{console.error("P42.onRefreshSubmitError",_e),ae.error(", (*)",{position:"top-right"})},[]),de=a.useCallback(({fromRowIndex:_e,updateResult:H})=>async(re,q)=>{const Y=_e+q;H.rowIndex=Y;const ie=A.gridData[Y];console.log(` ${Y+1} ...`,re);let B={...re},Z=!1;return re.SPCAmt!=ie.SPCAmt&&(H.cols.push("SPCAmt"),Z=!0),Z&&H.rows++,B},[A.gridData]),ce=a.useCallback(({gridData:_e,formData:H,setValue:re,updateResult:q,prevGridData:Y})=>{if(q.rows>0&&q.cols.includes("SPCAmt")){const ie=_e.reduce((B,Z)=>B+(Number(Z.SPCAmt)||0),0);console.log("totalSPCAmt",ie),re("SalTotAmtC",ie)}},[]),ee=a.useCallback(({form:_e})=>()=>{const H=_e.getValues();["TrvTotCmsC","CndTotCmsC","DrvTotCmsC"].reduce((re,q)=>{const Y=parseFloat(H[q])||0;return re+Y},0)},[]),De=a.useMemo(()=>`${e.REPORT_URL}/WebP42Rep.aspx`,[e.REPORT_URL]),ke=yn(),He=a.useCallback(_e=>{var re;console.log("onPrintSubmit",_e);const H={..._e.outputType&&{Action:_e.outputType.id},DeptID:i==null?void 0:i.CurDeptID,JobName:"P42",ComID:(re=o.itemData)==null?void 0:re.ComID};console.log("data",H),ke.open(De,H)},[(Le=o.itemData)==null?void 0:Le.ComID,i==null?void 0:i.CurDeptID,De,ke]),qe=a.useCallback(_e=>{console.error("onPrintSubmitError",_e)},[]);return En(()=>{o.cancelAction()},[]),{...F,...o,cancelAction:z,onSearchSubmit:ue,onSearchSubmitError:ge,handleSelect:J,selectedItem:g,handleDialogClose:U,confirmDialogClose:V,confirmQuitCreating:W,onEditorSubmit:te,onEditorSubmitError:se,confirmReturn:Q,handlePromptCreating:he,confirmDelete:pe,...c,...u,popperOpen:D,handlePopperToggle:v,handlePopperOpen:T,handlePopperClose:I,handleReset:Ce,rangeGrid:E,gridDisabled:k,createRow:P,cmsGrid:A,createCmsRow:w,onUpdateCmsRow:de,onCmsGridChanged:ce,handleBookingOrderChange:Te,onRefreshSubmit:xe,onRefreshSubmitError:me,refreshWorking:Ne.working,handlePcSubtotalChange:ee,onPrintSubmit:He,onPrintSubmitError:qe,createWithBookingOrder:K}},o_e=({children:e})=>{const t=jqt();return r.jsx(LR,{children:r.jsx(ai.Provider,{value:{...t},children:e})})};o_e.propTypes={children:l.oneOfType([l.array,l.object])};const LZ=[{id:1,label:""},{id:2,label:""},{id:3,label:""}],s_e=e=>LZ.find(t=>t.id==e),Iqt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},Tqt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),Oqt=e=>LZ.find(t=>t.id==e),Eqt=()=>s_e(1),q1={options:LZ,getOptionLabel:Iqt,isOptionEqualToValue:Tqt,getOptionById:s_e,findByInput:Oqt,getDefaultOption:Eqt},$Z=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:q1.options,getOptionLabel:q1.getOptionLabel,isOptionEqualToValue:q1.isOptionEqualToValue,findByInput:q1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});$Z.propTypes={name:l.string,label:l.string,children:l.node};$Z.displayName="P51ReportTypePicker";const BZ=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SOrdDate",label:"",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EOrdDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SArrDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EArrDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(tu,{name:"STrvID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(tu,{name:"ETrvID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(eu,{name:"SCarID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(eu,{name:"ECarID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx($Z,{name:"reportType",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx($e,{label:"",name:"OrdName",size:"small",fullWidth:!0,helperText:"1=,2=,3=,4=,5=,6="})})]}),r.jsx(ve,{mt:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});BZ.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};BZ.displayName="P51Form";const a_e=a.createContext(),i_e=()=>{const e=Ke(),t=a.useContext(a_e),n=vt(`
		SOrdDate,
		EOrdDate,
		SArrDate,
		EArrDate,
		STrvID,
		ETrvID,
		SCarID,
		ECarID,
		reportType,
		OrdName,
		outputType,
		`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(BZ,{onSubmit:o,onDebugSubmit:s})})})};i_e.displayName="P51FormContainer";const l_e=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(i_e,{})]});l_e.displayName="P51Frame";const Pqt=e=>{var h;const{outputType:t,SOrdDate:n,EOrdDate:o,SArrDate:s,EArrDate:i,STrvID:c,ETrvID:u,SCarID:d,ECarID:p,reportType:m,...f}=e;return{JobName:"P51",Action:((h=t==null?void 0:t.id)==null?void 0:h.toString())||"",SArrDate:Re.formatDate(s)||"",EArrDate:Re.formatDate(i)||"",SOrdDate:Re.formatDate(n)||"",EOrdDate:Re.formatDate(o)||"",STrvID:(c==null?void 0:c.TrvID)||"",ETrvID:(u==null?void 0:u.TrvID)||"",SCarID:(d==null?void 0:d.CarID)||"",ECarID:(p==null?void 0:p.CarID)||"",RptType:m==null?void 0:m.id,...f}},_ue={transformForSubmitting:Pqt},Rqt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"P51"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebP51Rep.aspx`,[e.REPORT_URL]),u=yn([{from:"SOrdDate",to:"EOrdDate"},{from:"SArrDate",to:"EArrDate"}],{name:""}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={..._ue.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={..._ue.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},c_e=({children:e})=>{const t=Rqt(),n=at({defaultValues:{SOrdDate:null,EOrdDate:null,SArrDate:null,EArrDate:null,STrvID:null,ETrvID:null,SCarID:null,ECarID:null,reportType:q1.getDefaultOption(),outputType:jn.getDefaultOption(),OrdName:"1,4,2,5,6,3"}});return r.jsx(Ye,{...n,children:r.jsx(a_e.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};c_e.propTypes={children:l.oneOfType([l.array,l.element])};const _L=Object.freeze({AGENCY:"1",BUS_DRIVER:"2",GUIDE:"3"}),u_e=[{id:_L.AGENCY,label:""},{id:_L.BUS_DRIVER,label:""},{id:_L.GUIDE,label:""}],wqt=e=>{if(!e)return"";const{id:t,label:n}=e;return`${t||"  "} ${n}`},kqt=(e,t)=>(e==null?void 0:e.id)==(t==null?void 0:t.id),Aqt=e=>u_e.find(t=>t.id==e),OP={options:u_e,getOptionLabel:wqt,isOptionEqualToValue:kqt,findByInput:Aqt},$F=a.memo(a.forwardRef((e,t)=>{const{label:n="",...o}=e;return r.jsx(bt,{label:n,ref:t,options:OP.options,getOptionLabel:OP.getOptionLabel,isOptionEqualToValue:OP.isOptionEqualToValue,findByInput:OP.findByInput,notFoundText:" ${input} ",...o})}));$F.propTypes={label:l.string,children:l.node};$F.displayName="CmsCatPicker";const uD=a.memo(a.forwardRef((e,t)=>{const{children:n,...o}=e;return r.jsx(ys,{ref:t,xs:24,sm:3.5,...o,children:n})}));uD.propTypes={children:l.oneOfType([l.node,l.array])};uD.displayName="CmsEntryDateColumn";const _h=a.memo(a.forwardRef((e,t)=>{const{children:n,...o}=e;return r.jsx(ys,{ref:t,xs:24,sm:4.5,...o,children:n})}));_h.propTypes={children:l.oneOfType([l.node,l.array])};_h.displayName="CmsEntryDeptColumn";const BF=a.memo(a.forwardRef((e,t)=>{const{children:n,...o}=e;return r.jsx(ys,{ref:t,xs:24,sm:3.5,...o,children:n})}));BF.propTypes={children:l.oneOfType([l.node,l.array])};BF.displayName="CmsEntryIdColumn";const WZ=a.memo(()=>r.jsxs(Tf,{children:[r.jsx(BF,{header:!0,children:""}),r.jsx(uD,{header:!0,children:""}),r.jsx(uD,{header:!0,children:""}),r.jsx(_h,{header:!0,children:""}),r.jsx(_h,{header:!0,children:""}),r.jsx(_h,{header:!0,children:""})]}));WZ.propTypes={sx:l.oneOfType([l.object,l.array])};WZ.displayName="CmsEntryGridHeader";const UZ=a.memo(a.forwardRef((e,t)=>{const{value:n}=e;return r.jsxs(j,{ref:t,container:!0,columns:24,spacing:2,children:[r.jsx(BF,{children:n.OrdID}),r.jsx(uD,{children:n.OrdDate}),r.jsx(uD,{children:n.ArrDate}),r.jsx(_h,{children:n.GrpName}),r.jsx(_h,{children:n.CarData}),r.jsx(_h,{children:n.TrvData})]})}));UZ.propTypes={value:l.object};UZ.displayName="DepOrderGridRow";const Nqt=e=>{if(!e)return"";const{ComID:t}=e;return t?`${t}`:"(?)"},Fqt=(e,t)=>e.ComdID===t.ComdID,Mqt=e=>e.ComdID,LL={getOptionLabel:Nqt,isOptionEqualToValue:Fqt,renderTagLabel:Mqt},BR=e=>{const{label:t="",cleared:n,forId:o=!1,...s}=e,{token:i}=a.useContext(Be),c=a.useMemo(()=>{const u={tp:100,...n!=null&&{c:n?1:0}};return Hr.stringify(u)},[n]);return r.jsx(bt,{label:t,bearer:i,url:"v1/cms/entries",queryParam:"qs",querystring:c,getOptionLabel:LL.getOptionLabel,isOptionEqualToValue:LL.isOptionEqualToValue,renderTagLabel:LL.renderTagLabel,optionLabelSize:"md",...!o&&{GridHeaderComponent:WZ,GridRowComponent:UZ},notFoundText:" ${input} ",inputParam:"fz",clearOnChange:!0,virtualize:!0,disableOpenOnInput:!0,...s})};BR.propTypes={label:l.string,children:l.node,cleared:l.bool,forId:l.bool};BR.displayName="DepOrderPicker";const qZ=[{id:1,label:""},{id:2,label:""},{id:3,label:""}],d_e=e=>qZ.find(t=>t.id==e),_qt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},Lqt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),$qt=e=>qZ.find(t=>t.id==e),Bqt=()=>d_e(1),V1={options:qZ,getOptionLabel:_qt,isOptionEqualToValue:Lqt,getOptionById:d_e,findByInput:$qt,getDefaultOption:Bqt},VZ=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:V1.options,getOptionLabel:V1.getOptionLabel,isOptionEqualToValue:V1.isOptionEqualToValue,findByInput:V1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});VZ.propTypes={name:l.string,label:l.string,children:l.node};VZ.displayName="P52ReportTypePicker";const zZ=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",label:"",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(BR,{name:"SComID",forId:!0,fullWidth:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(BR,{name:"EComID",forId:!0,fullWidth:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(eu,{name:"CarID",label:"",fullWidth:!0,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(tu,{name:"TrvID",label:"",fullWidth:!0,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(zd,{name:"CndID",label:"",fullWidth:!0,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx($e,{label:"",name:"CmsAmt",size:"small",fullWidth:!0,type:"number"})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx($F,{name:"CmsType",label:"",fullWidth:!0,forId:!0,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(VZ,{label:"",name:"reportType",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(xr,{label:"",name:"Sign",defaultValue:!0,variant:"outlined",size:"small",fullWidth:!0})})]}),r.jsx(ve,{mt:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});zZ.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};zZ.displayName="P52Form";const p_e=a.createContext(),m_e=()=>{const e=Ke(),t=a.useContext(p_e),n=vt(`
		SDate,
		EDate,
		SComID,
		EComID,
		CarID,
		TrvID,
		CndID,
		CmsAmt,
		CmsType,
		reportType,
		Sign,
		`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(zZ,{onSubmit:o,onDebugSubmit:s})})})};m_e.displayName="P52FormContainer";const f_e=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(m_e,{})]});f_e.displayName="P52Frame";const Wqt=e=>{var x;const{outputType:t,SDate:n,EDate:o,SComID:s,EComID:i,TrvID:c,CarID:u,CndID:d,CmsAmt:p,CmsType:m,reportType:f,Sign:h,...g}=e;return{JobName:"P52",Action:((x=t==null?void 0:t.id)==null?void 0:x.toString())??"",SDate:Re.formatDate(n)??"",EDate:Re.formatDate(o)??"",SComID:(s==null?void 0:s.ComID)??"",EComID:(i==null?void 0:i.ComID)??"",TrvID:(c==null?void 0:c.TrvID)??"",CarID:(u==null?void 0:u.CarID)??"",CndID:(d==null?void 0:d.CndID)??"",CmsAmt:(p==null?void 0:p.toString())??"",CmsType:(m==null?void 0:m.id)??"",RptType:f==null?void 0:f.id,Sign:h?"Y":"N",...g}},Lue={transformForSubmitting:Wqt},Uqt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"P52"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebP52Rep.aspx`,[e.REPORT_URL]),u=yn([{from:"SDate",to:"EDate"}],{name:""}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...Lue.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...Lue.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},h_e=({children:e})=>{const t=Uqt(),n=at({defaultValues:{SDate:new Date,EDate:new Date,SComID:null,EComID:null,CarID:null,TrvID:null,CndID:null,CmsAmt:"",CmsType:null,reportType:V1.getDefaultOption(),outputType:jn.getDefaultOption(),Sign:!1}});return r.jsx(Ye,{...n,children:r.jsx(p_e.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};h_e.propTypes={children:l.oneOfType([l.array,l.element])};const g_e=[{id:"1",label:""},{id:"2",label:""},{id:"3",label:""},{id:"4",label:""},{id:"5",label:""},{id:"6",label:""},{id:"7",label:""},{id:"8",label:""},{id:"9",label:""},{id:"A",label:""},{id:"B",label:""},{id:"C",label:""},{id:"D",label:""},{id:"E",label:""}],qqt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},Vqt=(e,t)=>(e==null?void 0:e.id)==(t==null?void 0:t.id),zqt=e=>g_e.find(t=>t.id==e),EP={options:g_e,getOptionLabel:qqt,isOptionEqualToValue:Vqt,findByInput:zqt},HZ=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:EP.options,getOptionLabel:EP.getOptionLabel,isOptionEqualToValue:EP.isOptionEqualToValue,findByInput:EP.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});HZ.propTypes={name:l.string,label:l.string,children:l.node};HZ.displayName="P53OrderTypePicker";const GZ=[{id:1,label:""},{id:2,label:""},{id:3,label:""},{id:4,label:""},{id:5,label:""}],b_e=e=>GZ.find(t=>t.id==e),Hqt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},Gqt=(e,t)=>(e==null?void 0:e.id)==(t==null?void 0:t.id),Kqt=e=>GZ.find(t=>t.id==e),Qqt=()=>b_e(1),z1={options:GZ,getOptionLabel:Hqt,isOptionEqualToValue:Gqt,getOptionById:b_e,findByInput:Kqt,getDefaultOption:Qqt},KZ=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:z1.options,getOptionLabel:z1.getOptionLabel,isOptionEqualToValue:z1.isOptionEqualToValue,findByInput:z1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});KZ.propTypes={name:l.string,label:l.string,children:l.node};KZ.displayName="P53ReportTypePicker";const QZ=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{autoFocus:!0,name:"SDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(KZ,{name:"reportType",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(HZ,{name:"CondName",label:"",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx($e,{name:"SCond",borderless:!0,size:"small",fullWidth:!0}),rightComponent:r.jsx($e,{name:"ECond",borderless:!0,size:"small",fullWidth:!0})})})]}),r.jsx(ve,{mt:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});QZ.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};QZ.displayName="P53Form";const x_e=a.createContext(),y_e=()=>{const e=Ke(),t=a.useContext(x_e),n=vt(`
		SDate,
		EDate,
		reportType,
		CondName,
		SCond,
		ECond,
		`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(QZ,{onSubmit:o,onDebugSubmit:s})})})};y_e.displayName="P53FormContainer";const C_e=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(y_e,{})]});C_e.displayName="P53Frame";const Yqt=e=>{var u;const{outputType:t,SDate:n,EDate:o,CondName:s,reportType:i,...c}=e;return{JobName:"P53",Action:((u=t==null?void 0:t.id)==null?void 0:u.toString())??"",SDate:Re.formatDate(n)??"",EDate:Re.formatDate(o)??"",CondName:(s==null?void 0:s.id)??"",RptType:(i==null?void 0:i.id)??"",...c}},$ue={transformForSubmitting:Yqt},Jqt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"P53"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebP53Rep.aspx`,[e.REPORT_URL]),u=yn({from:"SDate",to:"EDate"}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...$ue.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...$ue.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},D_e=({children:e})=>{const t=Jqt(),n=at({defaultValues:{SDate:new Date,EDate:new Date,reportType:z1.getDefaultOption(),CondName:null,outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(x_e.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};D_e.propTypes={children:l.oneOfType([l.array,l.element])};const YZ=[{id:1,label:""},{id:2,label:""},{id:3,label:""}],Xqt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},Zqt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),S_e=e=>YZ.find(t=>t.id===e),eVt=e=>YZ.find(t=>t.id==e),tVt=()=>S_e(1),H1={options:YZ,getOptionLabel:Xqt,isOptionEqualToValue:Zqt,getOptionById:S_e,findByInput:eVt,getDefaultOption:tVt},JZ=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:H1.options,getOptionLabel:H1.getOptionLabel,isOptionEqualToValue:H1.isOptionEqualToValue,findByInput:H1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});JZ.propTypes={name:l.string,label:l.string,children:l.node};JZ.displayName="P54OrderTypePicker";const XZ=[{id:1,label:""},{id:2,label:""}],v_e=e=>XZ.find(t=>t.id==e),nVt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},rVt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),oVt=e=>XZ.find(t=>t.id==e),sVt=()=>v_e(1),G1={options:XZ,getOptionLabel:nVt,isOptionEqualToValue:rVt,getOptionById:v_e,findByInput:oVt,getDefaultOption:sVt},ZZ=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:G1.options,getOptionLabel:G1.getOptionLabel,isOptionEqualToValue:G1.isOptionEqualToValue,findByInput:G1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});ZZ.propTypes={name:l.string,label:l.string,children:l.node};ZZ.displayName="P54ReportTypePicker";const eee=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",label:"",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx($F,{name:"AsType",label:"",fullWidth:!0,disableOpenOnInput:!0,placeholder:"1=,2=,3=,<>="})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(tu,{name:"STrvID",label:"",fullWidth:!0,borderless:!0,disableOpenOnInput:!0}),rightComponent:r.jsx(tu,{name:"ETrvID",label:"",fullWidth:!0,borderless:!0,disableOpenOnInput:!0})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(eu,{name:"SCarID",fullWidth:!0,borderless:!0,disableOpenOnInput:!0}),rightComponent:r.jsx(eu,{name:"ECarID",fullWidth:!0,borderless:!0,disableOpenOnInput:!0})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(zd,{name:"SCndID",fullWidth:!0,borderless:!0,disableOpenOnInput:!0}),rightComponent:r.jsx(zd,{name:"ECndID",fullWidth:!0,borderless:!0,disableOpenOnInput:!0})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsxs(ve,{inline:!0,children:[r.jsx(ve,{children:r.jsx($e,{label:"()",name:"ChkAmt",size:"small",fullWidth:!0,type:"number",endAdornment:""})}),r.jsx(ve,{px:1,pb:1,alignItems:"flex-end",children:r.jsx(nn,{variant:"body2",children:""})})]})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ZZ,{label:"",name:"reportType",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(JZ,{name:"DtlType",label:"",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});eee.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};eee.displayName="P54Form";const j_e=a.createContext(),I_e=()=>{const e=Ke(),t=a.useContext(j_e),n=vt(`
		SDate,
		EDate,
		AsType,
		STrvID,
		ETrvID,
		SCarID,
		ECarID,
		SCndID,
		ECndID,
		ChkAmt,
		reportType,
		DtlType,
		`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(eee,{onSubmit:o,onDebugSubmit:s})})})};I_e.displayName="P54FormContainer";const T_e=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(I_e,{})]});T_e.displayName="P54Frame";const aVt=e=>{var y;const{outputType:t,SDate:n,EDate:o,AsType:s,STrvID:i,ETrvID:c,SCarID:u,ECarID:d,SCndID:p,ECndID:m,ChkAmt:f,reportType:h,DtlType:g,...x}=e;return{JobName:"P54",Action:((y=t==null?void 0:t.id)==null?void 0:y.toString())??"",SDate:Re.formatDate(n)??"",EDate:Re.formatDate(o)??"",AsType:(s==null?void 0:s.id)??"",STrvID:(i==null?void 0:i.TrvID)??"",ETrvID:(c==null?void 0:c.TrvID)??"",SCarID:(u==null?void 0:u.CarID)??"",ECarID:(d==null?void 0:d.CarID)??"",SCndID:(p==null?void 0:p.CndID)??"",ECndID:(m==null?void 0:m.CndID)??"",ChkAmt:(f==null?void 0:f.toString())??"",RptType:h==null?void 0:h.id,DtlType:(g==null?void 0:g.id)??"",...x}},Bue={transformForSubmitting:aVt},iVt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"P54"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebP54Rep.aspx`,[e.REPORT_URL]),u=yn([{from:"SDate",to:"EDate"}],{name:""}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...Bue.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...Bue.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},O_e=({children:e})=>{const t=iVt(),n=at({defaultValues:{SDate:new Date,EDate:new Date,AsType:null,STrvID:null,ETrvID:null,SCarID:null,ECarID:null,SCndID:null,ECndID:null,ChkAmt:"",reportType:G1.getDefaultOption(),outputType:jn.getDefaultOption(),DtlType:H1.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(j_e.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};O_e.propTypes={children:l.oneOfType([l.array,l.element])};const tee=[{id:1,label:""},{id:2,label:""},{id:3,label:""}],E_e=e=>tee.find(t=>t.id==e),lVt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},cVt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),uVt=e=>tee.find(t=>t.id==e),dVt=()=>E_e(1),K1={options:tee,getOptionLabel:lVt,isOptionEqualToValue:cVt,getOptionById:E_e,findByInput:uVt,getDefaultOption:dVt},nee=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:K1.options,getOptionLabel:K1.getOptionLabel,isOptionEqualToValue:K1.isOptionEqualToValue,findByInput:K1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});nee.propTypes={name:l.string,label:l.string,children:l.node};nee.displayName="P55ReportTypePicker";const ree=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",required:!0,leftComponent:r.jsx(et,{name:"SDate",label:"",fullWidth:!0,validate:!0,required:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,required:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(Zc,{name:"SCtAreaID",borderless:!0}),rightComponent:r.jsx(Zc,{name:"ECtAreaID",borderless:!0})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(ac,{name:"SCityID",borderless:!0}),rightComponent:r.jsx(ac,{name:"ECityID",borderless:!0})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(qh,{name:"SCustTID",label:"",fullWidth:!0,disableOpenOnInput:!0,borderless:!0}),rightComponent:r.jsx(qh,{name:"ECustTID",label:"",fullWidth:!0,disableOpenOnInput:!0,borderless:!0})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(nee,{label:"",name:"reportType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});ree.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};ree.displayName="P55Form";const P_e=a.createContext(),R_e=()=>{const e=Ke(),t=a.useContext(P_e),n=vt(`
		SDate,
		EDate,
		SCtAreaID,
		ECtAreaID,
		SCityID,
		ECityID,
		SCustTID,
		ECustTID,
		reportType,
		`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(ree,{onSubmit:o,onDebugSubmit:s})})})};R_e.displayName="P55FormContainer";const w_e=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(R_e,{})]});w_e.displayName="P55Frame";const pVt=e=>{var h;const{outputType:t,SDate:n,EDate:o,SCtAreaID:s,ECtAreaID:i,SCityID:c,ECityID:u,SCustTID:d,ECustTID:p,reportType:m,...f}=e;return{JobName:"P55",Action:((h=t==null?void 0:t.id)==null?void 0:h.toString())??"",SDate:Re.formatDate(n)??"",EDate:Re.formatDate(o)??"",SCtAreaID:(s==null?void 0:s.CodeID)??"",ECtAreaID:(i==null?void 0:i.CodeID)??"",SCityID:(c==null?void 0:c.CodeID)??"",ECityID:(u==null?void 0:u.CodeID)??"",SCustTID:(d==null?void 0:d.CodeID)??"",ECustTID:(p==null?void 0:p.CodeID)??"",RptType:m==null?void 0:m.id,...f}},Wue={transformForSubmitting:pVt},mVt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"P55"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebP55Rep.aspx`,[e.REPORT_URL]),u=yn([{from:"SDate",to:"EDate"}],{name:""}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...Wue.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...Wue.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},k_e=({children:e})=>{const t=mVt(),n=at({defaultValues:{SDate:new Date,EDate:new Date,SCtAreaID:null,ECtAreaID:null,SCityID:null,ECityID:null,SCustTID:null,ECustTID:null,reportType:K1.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(P_e.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};k_e.propTypes={children:l.oneOfType([l.array,l.element])};const oee=[{id:1,label:""},{id:2,label:""}],A_e=e=>oee.find(t=>t.id==e),fVt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},hVt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),gVt=e=>oee.find(t=>t.id==e),bVt=()=>A_e(1),Q1={options:oee,getOptionLabel:fVt,isOptionEqualToValue:hVt,getOptionById:A_e,findByInput:gVt,getDefaultOption:bVt},see=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:Q1.options,getOptionLabel:Q1.getOptionLabel,isOptionEqualToValue:Q1.isOptionEqualToValue,findByInput:Q1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});see.propTypes={name:l.string,label:l.string,children:l.node};see.displayName="P56ReportTypePicker";const aee=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",required:!0,leftComponent:r.jsx(et,{name:"SDate",fullWidth:!0,validate:!0,required:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",fullWidth:!0,validate:!0,required:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(Zc,{name:"SCtAreaID",borderless:!0}),rightComponent:r.jsx(Zc,{name:"ECtAreaID",borderless:!0})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(ac,{name:"SCityID",borderless:!0}),rightComponent:r.jsx(ac,{name:"ECityID",borderless:!0})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(tu,{name:"STrvID",label:"",fullWidth:!0,borderless:!0,disableOpenOnInput:!0}),rightComponent:r.jsx(tu,{name:"ETrvID",label:"",fullWidth:!0,borderless:!0,disableOpenOnInput:!0})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(see,{name:"reportType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});aee.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};aee.displayName="P56Form";const N_e=a.createContext(),F_e=()=>{const e=Ke(),t=a.useContext(N_e),n=vt(`
		SDate,
		EDate,
		SCtAreaID,
		ECtAreaID,
		SCityID,
		ECityID,
		STrvID,
		ETrvID,
		reportType,
		`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(aee,{onSubmit:o,onDebugSubmit:s})})})};F_e.displayName="P56FormContainer";const M_e=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(F_e,{})]});M_e.displayName="P56Frame";const xVt=e=>{var h;const{outputType:t,SDate:n,EDate:o,SCtAreaID:s,ECtAreaID:i,SCityID:c,ECityID:u,STrvID:d,ETrvID:p,reportType:m,...f}=e;return{JobName:"P56",Action:((h=t==null?void 0:t.id)==null?void 0:h.toString())??"",SDate:Re.formatDate(n)??"",EDate:Re.formatDate(o)??"",SCtAreaID:(s==null?void 0:s.CodeID)??"",ECtAreaID:(i==null?void 0:i.CodeID)??"",SCityID:(c==null?void 0:c.CodeID)??"",ECityID:(u==null?void 0:u.CodeID)??"",STrvID:(d==null?void 0:d.TrvID)??"",ETrvID:(p==null?void 0:p.TrvID)??"",RptType:m==null?void 0:m.id,...f}},Uue={transformForSubmitting:xVt},yVt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"P56"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebP56Rep.aspx`,[e.REPORT_URL]),u=yn([{from:"SDate",to:"EDate"}],{name:""}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...Uue.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...Uue.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},__e=({children:e})=>{const t=yVt(),n=at({defaultValues:{SDate:new Date,EDate:new Date,SCtAreaID:null,ECtAreaID:null,SCityID:null,ECityID:null,STrvID:null,ETrvID:"",reportType:Q1.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(N_e.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};__e.propTypes={children:l.oneOfType([l.array,l.element])};const iee=[{id:1,label:""},{id:2,label:""}],L_e=e=>iee.find(t=>t.id==e),CVt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},DVt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),SVt=e=>iee.find(t=>t.id==e),vVt=()=>L_e(1),Y1={options:iee,getOptionLabel:CVt,isOptionEqualToValue:DVt,getOptionById:L_e,findByInput:SVt,getDefaultOption:vVt},lee=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:Y1.options,getOptionLabel:Y1.getOptionLabel,isOptionEqualToValue:Y1.isOptionEqualToValue,findByInput:Y1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});lee.propTypes={name:l.string,label:l.string,children:l.node};lee.displayName="P57ReportTypePicker";const cee=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",required:!0,leftComponent:r.jsx(et,{name:"SDate",label:"",fullWidth:!0,validate:!0,required:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,required:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(Zc,{name:"SCtAreaID",borderless:!0}),rightComponent:r.jsx(Zc,{name:"ECtAreaID",borderless:!0})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(ac,{name:"SCityID",borderless:!0}),rightComponent:r.jsx(ac,{name:"ECityID",borderless:!0})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(eu,{name:"SCarID",fullWidth:!0,borderless:!0,disableOpenOnInput:!0}),rightComponent:r.jsx(eu,{name:"ECarID",fullWidth:!0,borderless:!0,disableOpenOnInput:!0})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(qh,{name:"SCustTID",label:"",fullWidth:!0,disableOpenOnInput:!0,borderless:!0}),rightComponent:r.jsx(qh,{name:"ECustTID",label:"",fullWidth:!0,disableOpenOnInput:!0,borderless:!0})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(lee,{name:"reportType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});cee.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};cee.displayName="P57Form";const $_e=a.createContext(),B_e=()=>{const e=Ke(),t=a.useContext($_e),n=vt(`
		SDate,
		EDate,
		SCtAreaID,
		ECtAreaID,
		SCityID,
		ECityID,
		SCarID,
		ECarID,
		SCustTID,
		ECustTID,
		reportType,
		`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(cee,{onSubmit:o,onDebugSubmit:s})})})};B_e.displayName="P57FormContainer";const W_e=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(B_e,{})]});W_e.displayName="P57Frame";const jVt=e=>{var x;const{outputType:t,SDate:n,EDate:o,SCtAreaID:s,ECtAreaID:i,SCityID:c,ECityID:u,SCarID:d,ECarID:p,SCustTID:m,ECustTID:f,reportType:h,...g}=e;return{JobName:"P57",Action:((x=t==null?void 0:t.id)==null?void 0:x.toString())??"",SDate:Re.formatDate(n)??"",EDate:Re.formatDate(o)??"",SCtAreaID:(s==null?void 0:s.CodeID)??"",ECtAreaID:(i==null?void 0:i.CodeID)??"",SCityID:(c==null?void 0:c.CodeID)??"",ECityID:(u==null?void 0:u.CodeID)??"",SCarID:(d==null?void 0:d.CodeID)??"",ECarID:(p==null?void 0:p.CodeID)??"",SCustTID:(m==null?void 0:m.CodeID)??"",ECustTID:(f==null?void 0:f.CodeID)??"",RptType:h==null?void 0:h.id,...g}},que={transformForSubmitting:jVt},IVt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"P57"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebP57Rep.aspx`,[e.REPORT_URL]),u=yn([{from:"SDate",to:"EDate"}],{name:""}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...que.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...que.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},U_e=({children:e})=>{const t=IVt(),n=at({defaultValues:{SDate:new Date,EDate:new Date,SCtAreaID:null,ECtAreaID:null,SCityID:null,ECityID:null,SCarID:null,ECarID:null,SCustTID:null,ECustTID:null,reportType:Y1.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx($_e.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};U_e.propTypes={children:l.oneOfType([l.array,l.element])};const uee=[{id:1,label:""},{id:2,label:""}],q_e=e=>uee.find(t=>t.id==e),TVt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},OVt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),EVt=e=>uee.find(t=>t.id==e),PVt=()=>q_e(1),J1={options:uee,getOptionLabel:TVt,isOptionEqualToValue:OVt,getOptionById:q_e,findByInput:EVt,getDefaultOption:PVt},dee=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:J1.options,getOptionLabel:J1.getOptionLabel,isOptionEqualToValue:J1.isOptionEqualToValue,findByInput:J1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});dee.propTypes={name:l.string,label:l.string,children:l.node};dee.displayName="P58ReportTypePicker";const pee=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",required:!0,leftComponent:r.jsx(et,{name:"SDate",label:"",fullWidth:!0,validate:!0,required:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,required:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(ac,{name:"SCityID",borderless:!0}),rightComponent:r.jsx(ac,{name:"ECityID",borderless:!0})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(zd,{name:"SCndID",fullWidth:!0,borderless:!0,disableOpenOnInput:!0}),rightComponent:r.jsx(zd,{name:"ECndID",fullWidth:!0,borderless:!0,disableOpenOnInput:!0})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(dee,{name:"reportType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});pee.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};pee.displayName="P58Form";const V_e=a.createContext(),z_e=()=>{const e=Ke(),t=a.useContext(V_e),n=vt(`
		SDate,
		EDate,
		SCityID,
		ECityID,
		SCndID,
		ECndID,
		reportType,
		`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(pee,{onSubmit:o,onDebugSubmit:s})})})};z_e.displayName="P58FormContainer";const H_e=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(z_e,{})]});H_e.displayName="P58Frame";const RVt=e=>{var m;const{outputType:t,SDate:n,EDate:o,SCityID:s,ECityID:i,SCndID:c,ECndID:u,reportType:d,...p}=e;return{JobName:"P58",Action:((m=t==null?void 0:t.id)==null?void 0:m.toString())??"",SDate:Re.formatDate(n)??"",EDate:Re.formatDate(o)??"",SCityID:(s==null?void 0:s.CodeID)??"",ECityID:(i==null?void 0:i.CodeID)??"",SCndID:(c==null?void 0:c.CndID)??"",ECndID:(u==null?void 0:u.CndID)??"",RptType:d==null?void 0:d.id,...p}},Vue={transformForSubmitting:RVt},wVt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"P58"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebP58Rep.aspx`,[e.REPORT_URL]),u=yn([{from:"SDate",to:"EDate"}],{name:""}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...Vue.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...Vue.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},G_e=({children:e})=>{const t=wVt(),n=at({defaultValues:{SDate:new Date,EDate:new Date,SCityID:null,ECityID:null,SCndID:null,ECndID:null,reportType:J1.getDefaultOption(),outputType:jn.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(V_e.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};G_e.propTypes={children:l.oneOfType([l.array,l.element])};const mee=[{id:1,label:""},{id:2,label:""},{id:3,label:""}],kVt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},AVt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),K_e=e=>mee.find(t=>t.id===e),NVt=e=>mee.find(t=>t.id==e),FVt=()=>K_e(1),X1={options:mee,getOptionLabel:kVt,isOptionEqualToValue:AVt,getOptionById:K_e,findByInput:NVt,getDefaultOption:FVt},fee=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:X1.options,getOptionLabel:X1.getOptionLabel,isOptionEqualToValue:X1.isOptionEqualToValue,findByInput:X1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});fee.propTypes={name:l.string,label:l.string,children:l.node};fee.displayName="P61OrderTypePicker";const hee=[{id:1,label:""},{id:2,label:""}],Q_e=e=>hee.find(t=>t.id==e),MVt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},_Vt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),LVt=e=>hee.find(t=>t.id==e),$Vt=()=>Q_e(1),Z1={options:hee,getOptionLabel:MVt,isOptionEqualToValue:_Vt,getOptionById:Q_e,findByInput:LVt,getDefaultOption:$Vt},gee=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:Z1.options,getOptionLabel:Z1.getOptionLabel,isOptionEqualToValue:Z1.isOptionEqualToValue,findByInput:Z1.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});gee.propTypes={name:l.string,label:l.string,children:l.node};gee.displayName="P61ReportTypePicker";const bee=[{id:1,label:"1"},{id:2,label:"2"}],BVt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},WVt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),Y_e=e=>bee.find(t=>t.id===e),UVt=e=>bee.find(t=>t.id==e),qVt=()=>Y_e(1),eI={options:bee,getOptionLabel:BVt,isOptionEqualToValue:WVt,getOptionById:Y_e,findByInput:UVt,getDefaultOption:qVt},xee=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:eI.options,getOptionLabel:eI.getOptionLabel,isOptionEqualToValue:eI.isOptionEqualToValue,findByInput:eI.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});xee.propTypes={name:l.string,label:l.string,children:l.node};xee.displayName="P61RptClassPicker";const yee=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",required:!0,leftComponent:r.jsx(et,{name:"SDate",label:"",fullWidth:!0,validate:!0,required:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,required:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(tu,{name:"STrvID",label:"",fullWidth:!0,borderless:!0,disableOpenOnInput:!0}),rightComponent:r.jsx(tu,{name:"ETrvID",label:"",fullWidth:!0,borderless:!0,disableOpenOnInput:!0})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsxs(ve,{inline:!0,children:[r.jsx(ve,{children:r.jsx($e,{label:"()",name:"ChkAmt",size:"small",fullWidth:!0,type:"number",endAdornment:""})}),r.jsx(ve,{px:1,pb:1,alignItems:"flex-end",children:r.jsx(nn,{variant:"body2",children:"(1)"})})]})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(xee,{name:"RptClass",label:"",fullWidth:!0,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(gee,{label:"",name:"reportType",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(fee,{label:"",name:"DtlType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});yee.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};yee.displayName="P61Form";const J_e=a.createContext(),X_e=()=>{const e=Ke(),t=a.useContext(J_e),n=vt(`
		SDate,
		EDate,
		STrvID,
		ETrvID,
		ChkAmt,
		RptClass,
		reportType,
		DtlType,
		`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(yee,{onSubmit:o,onDebugSubmit:s})})})};X_e.displayName="P61FormContainer";const Z_e=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(X_e,{})]});Z_e.displayName="P61Frame";const VVt=e=>{var f;const{outputType:t,SDate:n,EDate:o,STrvID:s,ETrvID:i,ChkAmt:c,RptClass:u,DtlType:d,reportType:p,...m}=e;return{JobName:"P61",Action:((f=t==null?void 0:t.id)==null?void 0:f.toString())??"",SDate:Re.formatDate(n)??"",EDate:Re.formatDate(o)??"",STrvID:(s==null?void 0:s.TrvID)??"",ETrvID:(i==null?void 0:i.TrvID)??"",ChkAmt:(c==null?void 0:c.toString())??"",RptClass:(u==null?void 0:u.id)??"",DtlType:(d==null?void 0:d.id)??"",RptType:p==null?void 0:p.id,...m}},zue={transformForSubmitting:VVt},zVt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"P61"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebP61Rep.aspx`,[e.REPORT_URL]),u=yn([{from:"SDate",to:"EDate"}],{name:""}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...zue.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...zue.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},eLe=({children:e})=>{const t=zVt(),n=at({defaultValues:{SDate:new Date,EDate:new Date,STrvID:null,ETrvID:null,ChkAmt:"",RptClass:eI.getDefaultOption(),reportType:Z1.getDefaultOption(),outputType:jn.getDefaultOption(),DtlType:X1.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(J_e.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};eLe.propTypes={children:l.oneOfType([l.array,l.element])};const Cee=[{id:1,label:""},{id:2,label:""},{id:3,label:""}],HVt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},GVt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),tLe=e=>Cee.find(t=>t.id===e),KVt=e=>Cee.find(t=>t.id==e),QVt=()=>tLe(1),tI={options:Cee,getOptionLabel:HVt,isOptionEqualToValue:GVt,getOptionById:tLe,findByInput:KVt,getDefaultOption:QVt},Dee=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:tI.options,getOptionLabel:tI.getOptionLabel,isOptionEqualToValue:tI.isOptionEqualToValue,findByInput:tI.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});Dee.propTypes={name:l.string,label:l.string,children:l.node};Dee.displayName="P62OrderTypePicker";const See=[{id:1,label:""},{id:2,label:""}],nLe=e=>See.find(t=>t.id==e),YVt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},JVt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),XVt=e=>See.find(t=>t.id==e),ZVt=()=>nLe(1),nI={options:See,getOptionLabel:YVt,isOptionEqualToValue:JVt,getOptionById:nLe,findByInput:XVt,getDefaultOption:ZVt},vee=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:nI.options,getOptionLabel:nI.getOptionLabel,isOptionEqualToValue:nI.isOptionEqualToValue,findByInput:nI.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});vee.propTypes={name:l.string,label:l.string,children:l.node};vee.displayName="P62ReportTypePicker";const jee=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",required:!0,leftComponent:r.jsx(et,{name:"SDate",label:"",fullWidth:!0,validate:!0,required:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,required:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(eu,{name:"SCarID",fullWidth:!0,borderless:!0,disableOpenOnInput:!0}),rightComponent:r.jsx(eu,{name:"ECarID",fullWidth:!0,borderless:!0,disableOpenOnInput:!0})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsxs(ve,{inline:!0,children:[r.jsx(ve,{children:r.jsx($e,{label:"()",name:"ChkAmt",size:"small",fullWidth:!0,type:"number",endAdornment:""})}),r.jsx(ve,{px:1,pb:1,alignItems:"flex-end",children:r.jsx(nn,{variant:"body2",children:""})})]})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(vee,{label:"",name:"reportType",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(Dee,{label:"",name:"DtlType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});jee.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};jee.displayName="P62Form";const rLe=a.createContext(),oLe=()=>{const e=Ke(),t=a.useContext(rLe),n=vt(`
		SDate,
		EDate,
		SCarID,
		ECarID,
		ChkAmt,
		reportType,
		DtlType,
		`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(jee,{onSubmit:o,onDebugSubmit:s})})})};oLe.displayName="P62FormContainer";const sLe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(oLe,{})]});sLe.displayName="P62Frame";const ezt=e=>{var m;const{outputType:t,SDate:n,EDate:o,SCarID:s,ECarID:i,ChkAmt:c,DtlType:u,reportType:d,...p}=e;return{JobName:"P62",Action:((m=t==null?void 0:t.id)==null?void 0:m.toString())??"",SDate:Re.formatDate(n)??"",EDate:Re.formatDate(o)??"",SCarID:(s==null?void 0:s.CarID)??"",ECarID:(i==null?void 0:i.CarID)??"",ChkAmt:(c==null?void 0:c.toString())??"",DtlType:(u==null?void 0:u.id)??"",RptType:d==null?void 0:d.id,...p}},Hue={transformForSubmitting:ezt},tzt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"P62"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebP62Rep.aspx`,[e.REPORT_URL]),u=yn([{from:"SDate",to:"EDate"}],{name:""}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...Hue.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...Hue.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},aLe=({children:e})=>{const t=tzt(),n=at({defaultValues:{SDate:new Date,EDate:new Date,SCarID:null,ECarID:null,ChkAmt:"",reportType:nI.getDefaultOption(),outputType:jn.getDefaultOption(),DtlType:tI.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(rLe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};aLe.propTypes={children:l.oneOfType([l.array,l.element])};const Iee=[{id:1,label:""},{id:2,label:""},{id:3,label:""}],nzt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},rzt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),iLe=e=>Iee.find(t=>t.id===e),ozt=e=>Iee.find(t=>t.id==e),szt=()=>iLe(1),rI={options:Iee,getOptionLabel:nzt,isOptionEqualToValue:rzt,getOptionById:iLe,findByInput:ozt,getDefaultOption:szt},Tee=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:rI.options,getOptionLabel:rI.getOptionLabel,isOptionEqualToValue:rI.isOptionEqualToValue,findByInput:rI.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});Tee.propTypes={name:l.string,label:l.string,children:l.node};Tee.displayName="P63OrderTypePicker";const Oee=[{id:1,label:""},{id:2,label:""}],lLe=e=>Oee.find(t=>t.id==e),azt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},izt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),lzt=e=>Oee.find(t=>t.id==e),czt=()=>lLe(1),oI={options:Oee,getOptionLabel:azt,isOptionEqualToValue:izt,getOptionById:lLe,findByInput:lzt,getDefaultOption:czt},Eee=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:oI.options,getOptionLabel:oI.getOptionLabel,isOptionEqualToValue:oI.isOptionEqualToValue,findByInput:oI.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});Eee.propTypes={name:l.string,label:l.string,children:l.node};Eee.displayName="P63ReportTypePicker";const Pee=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",required:!0,leftComponent:r.jsx(et,{name:"SDate",label:"",fullWidth:!0,validate:!0,required:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,required:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(zd,{name:"SCndID",fullWidth:!0,borderless:!0,disableOpenOnInput:!0}),rightComponent:r.jsx(zd,{name:"ECndID",fullWidth:!0,borderless:!0,disableOpenOnInput:!0})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsxs(ve,{inline:!0,children:[r.jsx(ve,{children:r.jsx($e,{label:"()",name:"ChkAmt",size:"small",fullWidth:!0,type:"number",endAdornment:""})}),r.jsx(ve,{px:1,pb:1,alignItems:"flex-end",children:r.jsx(nn,{variant:"body2",children:""})})]})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(Eee,{label:"",name:"reportType",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(Tee,{label:"",name:"DtlType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})]})})]})})})})});Pee.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};Pee.displayName="P63Form";const cLe=a.createContext(),uLe=()=>{const e=Ke(),t=a.useContext(cLe),n=vt(`
		SDate,
		EDate,
		SCndID,
		ECndID,
		ChkAmt,
		reportType,
		DtlType,
		`),o=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(o),{enableOnFormTags:!0});const s=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...n,children:r.jsx(Pee,{onSubmit:o,onDebugSubmit:s})})})};uLe.displayName="P63FormContainer";const dLe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(uLe,{})]});dLe.displayName="P63Frame";const uzt=e=>{var m;const{outputType:t,SDate:n,EDate:o,SCndID:s,ECndID:i,ChkAmt:c,DtlType:u,reportType:d,...p}=e;return{JobName:"P63",Action:((m=t==null?void 0:t.id)==null?void 0:m.toString())??"",SDate:Re.formatDate(n)??"",EDate:Re.formatDate(o)??"",SCndID:(s==null?void 0:s.CndID)??"",ECndID:(i==null?void 0:i.CndID)??"",ChkAmt:(c==null?void 0:c.toString())??"",DtlType:(u==null?void 0:u.id)??"",RptType:d==null?void 0:d.id,...p}},Gue={transformForSubmitting:uzt},dzt=()=>{var f,h;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"P63"}),s=a.useContext(Sn),i=Un(),c=a.useMemo(()=>`${e.REPORT_URL}/WebP63Rep.aspx`,[e.REPORT_URL]),u=yn([{from:"SDate",to:"EDate"}],{name:""}),d=a.useCallback(g=>{var y,D;console.log("onSubmit",g);const x={...Gue.transformForSubmitting(g),DeptId:n.CurDeptID};i.show({data:x,url:c,title:`${(y=s.menuItemSelected)==null?void 0:y.JobID} ${(D=s.menuItemSelected)==null?void 0:D.JobName}`})},[(f=s.menuItemSelected)==null?void 0:f.JobID,(h=s.menuItemSelected)==null?void 0:h.JobName,i,n.CurDeptID,c]),p=a.useCallback(g=>{console.log("onSubmit",g);const x={...Gue.transformForSubmitting(g),DeptId:n.CurDeptID};console.log("data",x),u.open(c,x)},[n.CurDeptID,c,u]),m=a.useCallback(g=>{console.error("onSubmitError",g)},[]);return{...o,onSubmit:p,onSubmitError:m,onDebugSubmit:d}},pLe=({children:e})=>{const t=dzt(),n=at({defaultValues:{SDate:new Date,EDate:new Date,SCndID:null,ECndID:null,ChkAmt:"",reportType:oI.getDefaultOption(),outputType:jn.getDefaultOption(),DtlType:rI.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(cLe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};pLe.propTypes={children:l.oneOfType([l.array,l.element])};const pzt=r.jsxs(r.Fragment,{children:[r.jsx(yt,{path:"P14",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(_Ne,{children:r.jsx(FNe,{})})})})}),r.jsx(yt,{path:"P13",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(vNe,{children:r.jsx(SNe,{})})})})}),r.jsx(yt,{path:"P22",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(WNe,{children:r.jsx(BNe,{})})})})}),r.jsx(yt,{path:"P31",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(zNe,{children:r.jsx(VNe,{})})})})}),r.jsx(yt,{path:"P32",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(qW,{children:r.jsx(QNe,{children:r.jsx(KNe,{})})})})})}),r.jsx(yt,{path:"P33",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(ZNe,{children:r.jsx(XNe,{})})})})}),r.jsx(yt,{path:"P34",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(cFe,{children:r.jsx(lFe,{})})})})}),r.jsx(yt,{path:"P35",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(vFe,{children:r.jsx(SFe,{})})})})}),r.jsx(yt,{path:"P36",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(FFe,{children:r.jsx(NFe,{})})})})}),r.jsx(yt,{path:"P37",element:r.jsx(Mt,{children:r.jsx(tMe,{children:r.jsx(eMe,{})})})}),r.jsx(yt,{path:"P37X",element:r.jsx(Mt,{children:r.jsx(lMe,{children:r.jsx(iMe,{})})})}),r.jsx(yt,{path:"P38",element:r.jsx(Mt,{children:r.jsx(OMe,{children:r.jsx(TMe,{})})})}),r.jsx(yt,{path:"P41",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(LR,{children:r.jsx(WMe,{children:r.jsx(BMe,{})})})})})}),r.jsx(yt,{path:"P42",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(LR,{children:r.jsx(o_e,{children:r.jsx(r_e,{})})})})})}),r.jsx(yt,{path:"P51",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(c_e,{children:r.jsx(l_e,{})})})})}),r.jsx(yt,{path:"P52",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(h_e,{children:r.jsx(f_e,{})})})})}),r.jsx(yt,{path:"P53",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(D_e,{children:r.jsx(C_e,{})})})})}),r.jsx(yt,{path:"P54",element:r.jsx(Mt,{children:r.jsx(O_e,{children:r.jsx(T_e,{})})})}),r.jsx(yt,{path:"P55",element:r.jsx(Mt,{children:r.jsx(k_e,{children:r.jsx(w_e,{})})})}),r.jsx(yt,{path:"P56",element:r.jsx(Mt,{children:r.jsx(__e,{children:r.jsx(M_e,{})})})}),r.jsx(yt,{path:"P57",element:r.jsx(Mt,{children:r.jsx(U_e,{children:r.jsx(W_e,{})})})}),r.jsx(yt,{path:"P58",element:r.jsx(Mt,{children:r.jsx(G_e,{children:r.jsx(H_e,{})})})}),r.jsx(yt,{path:"P61",element:r.jsx(Mt,{children:r.jsx(eLe,{children:r.jsx(Z_e,{})})})}),r.jsx(yt,{path:"P62",element:r.jsx(Mt,{children:r.jsx(aLe,{children:r.jsx(sLe,{})})})}),r.jsx(yt,{path:"P63",element:r.jsx(Mt,{children:r.jsx(pLe,{children:r.jsx(dLe,{})})})})]}),WF=a.createContext(),mzt=(e,t)=>(e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e),fzt=e=>{let t="",n;for(n=0;n<e;n+=1)switch(Math.floor(Math.random()*3)){case 0:t+=String.fromCharCode(48+Math.floor(Math.random()*10));break;case 1:t+=String.fromCharCode(65+Math.floor(Math.random()*26));break;case 2:t+=String.fromCharCode(97+Math.floor(Math.random()*26));break}return t},hzt=e=>{let t="",n;for(n=0;n<e;n+=1)t+=String.fromCharCode(48+Math.floor(Math.random()*10));return t},Xs={getRandomInt:mzt,genetateCaptcha:fzt,generateNumericCaptcha:hzt},gzt=(e={})=>{const{numbersOnly:t=!1,length:n=6,strokeStyle:o,onRefresh:s}=e,i=a.useRef({firstRender:!0}),c=a.useRef(),u=a.useCallback(()=>t?Xs.generateNumericCaptcha(n):Xs.genetateCaptcha(n),[n,t]),[d,p]=a.useState({solution:u({numbersOnly:t,length:n}),input:""}),m=a.useCallback(y=>{const{width:D,height:v}=c.current,T=c.current.getContext("2d");if(T.clearRect(0,0,D,v),T.font=`${Xs.getRandomInt(30,40)}px serif`,T.textAlign="center",T.textBaseline="middle",T.fillText(y,D/2,v/2+3),o)T.strokeStyle=o;else{let I=T.createLinearGradient(0,0,D,0);I.addColorStop("0","magenta"),I.addColorStop("0.5","blue"),I.addColorStop("1.0","red"),T.strokeStyle=I}T.beginPath(),T.moveTo(Xs.getRandomInt(5,20),Xs.getRandomInt(5,20)),T.lineTo(D-Xs.getRandomInt(5,20),v-Xs.getRandomInt(5,20)),T.stroke(),T.moveTo(Xs.getRandomInt(15,30),Xs.getRandomInt(15,30)),T.lineTo(D-Xs.getRandomInt(15,30),v-Xs.getRandomInt(15,30)),T.stroke(),T.moveTo(Xs.getRandomInt(5,20),v-Xs.getRandomInt(5,20)),T.lineTo(D-Xs.getRandomInt(5,20),Xs.getRandomInt(5,20)),T.stroke(),T.moveTo(Xs.getRandomInt(15,30),v-Xs.getRandomInt(15,30)),T.lineTo(D-Xs.getRandomInt(15,30),Xs.getRandomInt(15,30)),T.stroke(),T.moveTo(Xs.getRandomInt(D/10,D/10+10),v-Xs.getRandomInt(15,30)),T.lineTo(Xs.getRandomInt(D/2,D/2+10),Xs.getRandomInt(5,20)),T.stroke(),T.closePath()},[o]),f=a.useCallback(()=>{const y=u();p(D=>({...D,solution:y,input:""})),m(y,{strokeStyle:o}),s&&!i.current.firstRender&&s(),i.current.firstRender=!1},[m,u,s,o]),h=a.useCallback(()=>{const y=new SpeechSynthesisUtterance(d.solution.toString().split("").join(" "));y.rate=.6,window.speechSynthesis.speak(y)},[d.solution]),g=a.useCallback(y=>y===d.solution.toString(),[d.solution]),x=a.useCallback(y=>{p(D=>({...D,captchaPassed:y.target.value===d.solution.toString()}))},[d.solution]);return En(()=>{f()},[]),{canvasRef:c,playAudio:h,onInputChange:x,handleRefresh:f,input:d.input,validate:g}},Kue="ac",$L="pw",bzt="rememberMe",Que="captchaPassed",xzt="captcha",yzt="E01",Czt=()=>{const{toLanding:e}=nm(),t=Hd(),n=a.useContext(Qh),{setSessionCookie:o}=n,s=at({defaultValues:{ac:"",pw:"",captcha:"",captchaPassed:!1,rememberMe:!1}}),{reset:i}=s,c=Ue({name:"pw",control:s.control}),u=a.useMemo(()=>!!c&&c.startsWith(Tn.MAGIC_PREFIX),[c]),d=gzt({numbersOnly:!0,length:4}),[p,m]=a.useState({data:null,loading:!1}),{httpPostAsync:f}=Zn({mode:"form"}),h=a.useCallback(async(k,w={})=>{sessionStorage.removeItem(Tn.COOKIE_SPAWN);const{impersonate:A=!1,url:F="/v1/auth/signin",setFocus:_}=w,L=vo.pick(k,[Kue,$L,Que,bzt]);console.log("collected",L);let K=A;if(A&&L[$L]!=="12247838"){ae.error(", "),_&&_($L,{shouldSelect:!0}),d.handleRefresh();return}if(L[Que]){m(z=>({...z,loading:!0}));try{const{status:z,payload:J,error:Q}=await f({url:F,data:L});if(console.log("status",z),console.log("payload",J),z.success){if(K=(J==null?void 0:J.impersonated)=="1",!J.LogKey)throw new Error(` ${yzt}`);o(Tn.COOKIE_LOGKEY,J.LogKey,Tn.AUTH_COOKIE_OPTS),o(Tn.COOKIE_LOGIN,t.pathname??"",Tn.ROOT_COOKIE_OPTS),K?sessionStorage.setItem(Tn.COOKIE_IMPERSONATE,1):sessionStorage.removeItem(Tn.COOKIE_IMPERSONATE),Ua.set(Tn.COOKIE_REMEMBER_ME,k.rememberMe?1:0,Tn.AUTH_COOKIE_OPTS),k.rememberMe?Ua.set(Tn.COOKIE_ACCOUNT,L[Kue],Tn.AUTH_COOKIE_OPTS):Ua.remove(Tn.COOKIE_ACCOUNT,Tn.AUTH_COOKIE_OPTS),e()}else{switch(d.handleRefresh(),console.warn(`status: ${z}`),z.code){case 401:ae.error("");break;case 429:ae.error("");break;default:ae.error("",Q);break}Ua.remove(Tn.COOKIE_LOGKEY)}}catch(z){console.error("",z),ae.error("",z)}finally{m(z=>({...z,loading:!1}))}}else ae.error(""),d.handleRefresh(),_&&_(xzt,{shouldSelect:!0})},[d,f,t.pathname,o,e]),g=a.useCallback(({setFocus:k,hideCaptcha:w})=>A=>{console.log("onSignInSubmit",A);const F={...A,captchaPassed:w||d.validate(A.captcha)};h(F,{impersonate:!1,setFocus:k})},[d,h]),x=a.useCallback(k=>{console.error("onSignInSubmitError",k)},[]),y=a.useCallback(({setFocus:k})=>w=>{console.log("onSignInXSubmit",w);const A={...w,captchaPassed:d.validate(w.captcha)};h(A,{impersonate:!0,url:"/v1/auth/signinx",setFocus:k})},[d,h]),D=a.useCallback(k=>{console.error("onSignInXError",k)},[]),v=a.useCallback(k=>{switch(k.name){case"captcha":return u;default:return!1}},[u]),T=s.handleSubmit(g({setFocus:s.setFocus,hideCaptcha:u}),x),I=s.handleSubmit(y({setFocus:s.setFocus,hideCaptcha:u}),D),P=a.useCallback((k,w)=>{console.log("handleLastField",k,w),T()},[T]),E=vt(`
		ac,
		pw,
		rememberMe:{skipEnter: true},
		captcha`,{lastField:P});return Hat(()=>{i({ac:Ua.get(Tn.COOKIE_ACCOUNT)??"",pw:"",captcha:"",captchaPassed:!1,rememberMe:Ua.get(Tn.COOKIE_REMEMBER_ME)!==void 0?Ua.get(Tn.COOKIE_REMEMBER_ME)==="1":!0})}),{...p,form:s,hideCaptcha:u,signInSubmitHandler:g,onSignInSubmitError:x,signInXSubmitHandler:y,onSignInXSubmitError:D,captcha:d,formMeta:E,handleSubmit:T,handleSubmitX:I,isFieldDisabled:v}},mLe=({children:e})=>{const{form:t,formMeta:n,isFieldDisabled:o,...s}=Czt(),i=a.useMemo(()=>({...s,form:t}),[t,s]);return r.jsx(WF.Provider,{value:i,children:r.jsx(Ye,{...t,children:r.jsx(Ct,{...n,isFieldDisabled:o,children:e})})})};mLe.propTypes={children:l.oneOfType([l.element,l.array])};const fLe=a.memo(a.forwardRef((e,t)=>{const{children:n}=e;return r.jsx(_W,{ref:t,sx:{backgroundImage:`url(${bxe})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",minHeight:"100vh"},boxStyles:{alignItems:"center"},children:r.jsx(ZT,{maxWidth:"xs",justifyContent:"center",sx:{paddingTop:"18vh"},ref:t,children:r.jsx(ve,{px:3,sx:{maxWidth:"25rem"},children:r.jsxs(ve,{sx:{flexDirection:"column"},children:[r.jsx(ve,{mb:1,justifyContent:"flex-start",children:r.jsx(K3,{size:"md",icon:iO,text:"",iconColor:Nn.PRIMARY})}),r.jsx(ve,{children:n})]})})})})}));fLe.propTypes={children:l.element};const Dzt=()=>r.jsx(fLe,{children:r.jsx(mLe,{children:r.jsx(Tde,{})})}),Szt=it("div")(({theme:e})=>({".rnc":{display:"flex",flexDirection:"column",width:"100%",maxWidth:255,borderRadius:4,padding:4,boxSizing:"border-box",border:`1px solid ${e.palette.divider}`},".rnc-row":{display:"flex",alignItems:"stretch",marginBottom:10},".rnc-column":{display:"flex",flexDirection:"column",justifyContent:"space-between",marginLeft:10},".rnc-canvas":{boxSizing:"border-box",backgroundColor:"transparent",borderRadius:4},".rnc-button":{display:"flex",justifyContent:"center",alignItems:"center",fontSize:16,background:e.palette.background.paper,color:"inherit",padding:0,width:25,height:20,boxSizing:"border-box",borderRadius:4,cursor:"pointer",border:`1px solid ${e.palette.divider}`,"&:hover":{backgroundColor:e.palette.action.hover},"& svg":{width:"1em",height:"1em",fill:"currentColor"}},".rnc-input":{padding:"0 11px",height:32,borderRadius:4,fontSize:14,color:e.palette.text.primary,border:`1px solid ${e.palette.divider}`},".rnc-input:focus":{outline:`2px solid ${e.palette.primary.main}`}})),Ree=a.memo(a.forwardRef((e,t)=>{const{inputRef:n,canvasRef:o,input:s,handleRefresh:i,playAudio:c,placeholder:u,...d}=e;return r.jsx(Szt,{children:r.jsxs("div",{className:"rnc",ref:t,children:[r.jsxs("div",{className:"rnc-row",children:[r.jsx("canvas",{ref:o,width:200,height:50,className:"rnc-canvas","data-testid":"captcha-canvas"}),r.jsxs("div",{className:"rnc-column",children:[r.jsx("button",{type:"button","aria-label":"get new captcha",onClick:i,className:"rnc-button","data-testid":"captcha-refresh",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("g",{"data-name":"Layer 2",children:r.jsxs("g",{"data-name":"refresh",children:[r.jsx("rect",{width:"24",height:"24",opacity:"0"}),r.jsx("path",{d:"M20.3 13.43a1 1 0 0 0-1.25.65A7.14 7.14 0 0 1 12.18 19 7.1 7.1 0 0 1 5 12a7.1 7.1 0 0 1 7.18-7 7.26 7.26 0 0 1 4.65 1.67l-2.17-.36a1 1 0 0 0-1.15.83 1 1 0 0 0 .83 1.15l4.24.7h.17a1 1 0 0 0 .34-.06.33.33 0 0 0 .1-.06.78.78 0 0 0 .2-.11l.09-.11c0-.05.09-.09.13-.15s0-.1.05-.14a1.34 1.34 0 0 0 .07-.18l.75-4a1 1 0 0 0-2-.38l-.27 1.45A9.21 9.21 0 0 0 12.18 3 9.1 9.1 0 0 0 3 12a9.1 9.1 0 0 0 9.18 9A9.12 9.12 0 0 0 21 14.68a1 1 0 0 0-.7-1.25z"})]})})})}),r.jsx("button",{type:"button","aria-label":"play audio",onClick:c,className:"rnc-button","data-testid":"captcha-audio",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("g",{"data-name":"Layer 2",children:r.jsxs("g",{"data-name":"volume-up",children:[r.jsx("rect",{width:"24",height:"24",opacity:"0"}),r.jsx("path",{d:"M18.28 8.37a1 1 0 1 0-1.56 1.26 4 4 0 0 1 0 4.74A1 1 0 0 0 17.5 16a1 1 0 0 0 .78-.37 6 6 0 0 0 0-7.26z"}),r.jsx("path",{d:"M19.64 5.23a1 1 0 1 0-1.28 1.54A6.8 6.8 0 0 1 21 12a6.8 6.8 0 0 1-2.64 5.23 1 1 0 0 0-.13 1.41A1 1 0 0 0 19 19a1 1 0 0 0 .64-.23A8.75 8.75 0 0 0 23 12a8.75 8.75 0 0 0-3.36-6.77z"}),r.jsx("path",{d:"M15 3.12a1 1 0 0 0-1 0L7.52 7.57h-5a1 1 0 0 0-1 1v6.86a1 1 0 0 0 1 1h5l6.41 4.4a1.06 1.06 0 0 0 .57.17 1 1 0 0 0 1-1V4a1 1 0 0 0-.5-.88zm-1.47 15L8.4 14.6a1 1 0 0 0-.57-.17H3.5V9.57h4.33a1 1 0 0 0 .57-.17l5.1-3.5z"})]})})})})]})]}),r.jsx("input",{ref:n,value:s,placeholder:u,className:"rnc-input","data-testid":"captcha-input",...d})]})})}));Ree.propTypes={inputRef:l.oneOfType([l.object,l.func]),canvasRef:l.oneOfType([l.object,l.func]),value:l.string,input:l.string,placeholder:l.string,handleRefresh:l.func,playAudio:l.func};Ree.displayName="CaptchaField";const wee=({name:e,control:t,rules:n,defaultValue:o=null,onInputChange:s,validate:i,...c})=>r.jsx(rm,{name:e,defaultValue:o,control:t,rules:n,render:({field:{ref:u,value:d,onChange:p},fieldState:{error:m}})=>r.jsx(Ree,{inputRef:u,value:d,onChange:f=>{p(f),s&&s(f)},rules:{validate:i},error:m,...c})});wee.displayName="ControlledCaptchaField";wee.propTypes={name:l.string.isRequired,control:l.object,rules:l.object,defaultValue:l.string,onChange:l.func,onInputChange:l.func,validate:l.func};const kee=e=>{const{...t}=e,n=a.useContext(WF);return r.jsx(wee,{...n.captcha,...t})};kee.displayName="CaptchaFieldContainer";const hLe=a.memo(a.forwardRef((e,t)=>{const{loading:n,hideCaptcha:o,isRefreshRequired:s,...i}=e,c=a.useMemo(()=>o?"OTP":"",[o]);return r.jsxs(_s,{ref:t,elevation:4,sx:{backgroundColor:"rgba(255,255,255,0.8)"},...i,children:[r.jsx(jt,{pt:3,pb:1,px:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,children:r.jsx(Ud,{name:"ac",autoFocus:!0,label:"",fullWidth:!0,required:!0,size:"small",sx:{"& .MuiInputBase-root":{backgroundColor:"#fff"}}})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(Ud,{type:"password",fullWidth:!0,name:"pw",label:c,required:!0,rules:{required:`${c}`},size:"small",sx:{"& .MuiInputBase-root":{backgroundColor:"#fff"}}})})]})}),r.jsx(jt,{px:2,children:r.jsx(j,{container:!0,spacing:0,children:r.jsx(j,{item:!0,xs:12,children:r.jsx(xr,{name:"rememberMe",label:"",focusNextFieldBySpace:!1})})})}),r.jsx(ta,{}),r.jsxs(jt,{p:2,children:[r.jsxs(aw,{in:!o,children:[r.jsx(ve,{inline:!0,fullWidth:!0,justifyContent:"center",mt:0,mb:2,children:r.jsx(kee,{name:"captcha",length:4,placeholder:""})}),r.jsx(ta,{})]}),r.jsxs(ve,{mt:1,inline:!0,fullWidth:!0,alignItems:"center",children:[r.jsx(ve,{flex:1}),r.jsx(ve,{children:r.jsx(dt,{type:"submit",variant:"contained",...o&&{color:"warning"},size:"small",loading:n,endIcon:r.jsx(pk,{}),disabled:s,children:""})})]})]})]})}));hLe.propTypes={loading:l.bool,hideCaptcha:l.bool};const vzt=e=>{const{...t}=e,n=a.useContext(WF),{isRefreshRequired:o,promptRefresh:s}=G3({autoPrompt:!1});return mn(()=>{o&&setTimeout(s,1e3)},[o]),r.jsx("form",{noValidate:!0,autoComplete:"off",onSubmit:n.handleSubmit,children:r.jsx(hLe,{loading:n.loading,hideCaptcha:n.hideCaptcha,isRefreshRequired:o,...t})})},gLe=e=>{const{label:t="",...n}=e;return r.jsx(xr,{label:t,...n})};gLe.propTypes={label:l.string};const Aee=a.memo(a.forwardRef((e,t)=>{const{loading:n,isRefreshRequired:o,...s}=e;return r.jsxs(_s,{ref:t,elevation:4,sx:{backgroundColor:"rgba(255,255,255,0.8)"},...s,children:[r.jsx(jt,{pt:3,pb:1,px:2,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,children:r.jsx(Ud,{name:"ac",autoFocus:!0,label:"",fullWidth:!0,required:!0,size:"small",sx:{"& .MuiInputBase-root":{backgroundColor:"#fff"}}})}),r.jsx(j,{item:!0,xs:12,children:r.jsx($e,{type:"password",fullWidth:!0,name:"pw",label:"",rules:{required:""},required:!0,size:"small",sx:{"& .MuiInputBase-root":{backgroundColor:"#fff"}}})})]})}),r.jsx(jt,{px:2,children:r.jsx(j,{container:!0,spacing:0,children:r.jsx(j,{item:!0,xs:12,children:r.jsx(gLe,{name:"rememberMe"})})})}),r.jsx(ta,{}),r.jsxs(jt,{p:2,children:[r.jsx(ve,{inline:!0,fullWidth:!0,justifyContent:"center",mt:0,mb:2,children:r.jsx(kee,{name:"captcha",length:4,placeholder:""})}),r.jsx(ta,{}),r.jsxs(ve,{mt:1,inline:!0,fullWidth:!0,children:[r.jsx(ve,{flex:1,alignItems:"center"}),r.jsx(ve,{children:r.jsx(dt,{type:"submit",variant:"contained",size:"small",color:"warning",loading:n,endIcon:r.jsx(pk,{}),disabled:o,children:""})})]})]})]})}));Aee.displayName="SignInXView";Aee.propTypes={loading:l.bool,isRefreshRequired:l.bool};const jzt=e=>{const{...t}=e,n=a.useContext(WF),{isRefreshRequired:o,promptRefresh:s}=G3({autoPrompt:!1});return mn(()=>{o&&setTimeout(s,1e3)},[o]),r.jsx("form",{noValidate:!0,autoComplete:"off",onSubmit:n.handleSubmitX,children:r.jsx(Aee,{loading:n.loading,hideCaptcha:n.hideCaptcha,isRefreshRequired:o,...t})})},Izt=r.jsx(r.Fragment,{children:r.jsxs(yt,{path:"auth",element:r.jsx(Dzt,{}),children:[r.jsx(yt,{index:!0,path:"signin",element:r.jsx(vzt,{})}),r.jsx(yt,{path:"signinx",element:r.jsx(jzt,{})})]})}),Tzt=e=>{const{fromUser:t,...n}=e;return{fromUserId:t.UID,...n}},Ozt={transformForSubmitting:Tzt},Ezt=e=>{if(!e)return"";const{UserName:t,AbbrName:n}=e;return`${t} ${n||"()"}`},Pzt=(e,t)=>(e==null?void 0:e.UID)===(t==null?void 0:t.UID),Rzt=e=>{const{data:t,depts:n}=e,{DeptID:o,Dept_N:s,Class:i,...c}=t[0]||{};return{...c,dept:{DeptID:o,AbbrName:s},userClass:Tn.findById(i),depts:n}},wzt=e=>{const{dept:t,userClass:n,depts:o,...s}=e;return{data:{...s,DeptID:(t==null?void 0:t.DeptID)||"",Class:(n==null?void 0:n.id)||Tn.SCOPES.DEPT},depts:o}},kzt=e=>({StdWhere:[],...(e==null?void 0:e.qs)&&{CondData:{QS_ID:`${e.qs}%`,QS_NAME:`%${e.qs}%`}}}),Yue={transformForReading:Rzt,transformForEditorSubmit:wzt,paramsToJsonData:kzt,getOptionLabel:Ezt,isOptionEqualToValue:Pzt},Azt=Object.freeze({INFO:"INFO",AUTH:"AUTH",AUTH2:"AUTH2"}),Di={Tabs:Azt},Nzt=Object.freeze({CLICK:"CLICK",SUBMIT:"SUBMIT"}),Fzt=e=>e.JobID,Mzt=e=>{if(!e)return"";const{JobID:t,JobName:n}=e;return`${t}	${n}`},_zt=(e,t)=>(e==null?void 0:e.JobID)===(t==null?void 0:t.JobID),Lzt=e=>{if(!e)return"";const{JobID:t,JobName:n}=e;return`${t}`},$zt=e=>e.map(t=>{const{INQ:n,INS:o,UPD:s,PRT:i,DEL:c,USI:u,CHK:d,NCK:p,RUN:m,EXP:f,IMP:h,...g}=t;return{INQ:n?"1":"0",INS:o?"1":"0",UPD:s?"1":"0",DEL:c?"1":"0",PRT:i?"1":"0",USI:u?"1":"0",CHK:d?"1":"0",NCK:p?"1":"0",RUN:m?"1":"0",EXP:f?"1":"0",IMP:h?"1":"0",...g}}),Bzt=e=>{const{INQ:t,INS:n,UPD:o,PRT:s,DEL:i,USI:c,CHK:u,NCK:d,RUN:p,EXP:m,IMP:f,...h}=e;return{enabled:!0,INQ:t==="1",INS:n==="1",UPD:o==="1",DEL:i==="1",PRT:s==="1",USI:c==="1",CHK:u==="1",NCK:d==="1",RUN:p==="1",EXP:m==="1",IMP:f==="1",Using:"1",...h}},Wzt=e=>e.map(t=>t.JobID),tC={AUTH_EDITING_MODE:Nzt,transformForSubmitting:$zt,transformForReading:Bzt,transformModulesToIds:Wzt,getOptionKey:Fzt,getOptionLabel:Mzt,isOptionEqualToValue:_zt,renderTagLabel:Lzt},Uzt=()=>{var Je,qt,Tt,Jt,st,Dt,Gt,An,_n;const e=a.useContext(cr),{itemData:t}=e,{token:n,operator:o}=a.useContext(Be),[s,i]=a.useState(),[c,u]=a.useState(Di.Tabs.INFO),d=Bt({moduleId:"ZA03"}),{httpGetAsync:p,httpPostAsync:m,httpPutAsync:f,httpDeleteAsync:h,httpPatchAsync:g}=Zn(),x=a.useContext(Mr),y=so({url:"v1/ou/users",bearer:n,initialFetchSize:50}),D=a.useRef(),v=yr({gridId:"auth",keyColumn:"JobID",doDirtyCheckByIndex:!0}),[T,I]=a.useState(),P=Or(),{clear:E}=P,k=a.useCallback(async(pt={})=>{var rn;console.log("loadUserAuthorities",pt);const{userId:Rt,deptId:Ze,all:dn=!1,supressLoading:Yt=!1}=pt,lt=Rt||((rn=e.itemData)==null?void 0:rn.UID),Qe=Ze||(s==null?void 0:s.DeptID);if(!lt||!Qe){console.log("userId and deptId are mandatory");return}try{Yt||P.start();const{status:Cn,payload:gr,error:sn}=await p({url:"v1/ou/user/authorities",bearer:n,params:{uid:lt,dp:Qe,...dn&&{edit:1}}});if(Cn.success){const Sr=gr.map(ts=>tC.transformForReading(ts));v.setGridData(Sr,{init:!0}),P.finish()}else throw sn||new Error("")}catch(Cn){P.fail({error:Cn}),ae.error(Cn==null?void 0:Cn.message,{position:"top-right"})}},[v,(Je=e.itemData)==null?void 0:Je.UID,p,P,s==null?void 0:s.DeptID,n]),w=a.useCallback(()=>{I(tC.AUTH_EDITING_MODE.CLICK)},[]),A=a.useCallback(async()=>{I(tC.AUTH_EDITING_MODE.SUBMIT),k({all:!0})},[k]),F=a.useCallback(()=>{I(null),k({supressLoading:!0})},[k]),_=a.useCallback(()=>{v.isDirty?x.confirm({message:"?",onConfirm:()=>{F()}}):F()},[v.isDirty,F,x]),L=a.useCallback(()=>{I(null)},[]),K=a.useMemo(()=>!!T,[T]),z=a.useMemo(()=>P.state===va.WORKING,[P.state]),J=a.useCallback(({setValue:pt,getValues:Rt})=>Ze=>{e.creating&&(Ze?pt("depts",[Ze]):pt("depts",[]))},[e.creating]),Q=a.useCallback(({setValue:pt,getValues:Rt})=>Ze=>{const dn=Rt("dept");if(!Ze.find(Yt=>Yt.DeptID===dn.DeptID))return[dn,...Ze]},[]),V=a.useCallback(pt=>{console.log("handleAuthDeptChange",pt),i(pt),t!=null&&t.UID&&(pt!=null&&pt.DeptID)?k({deptId:pt==null?void 0:pt.DeptID}):v.clearGridData()},[v,t==null?void 0:t.UID,k]),W=a.useCallback(async()=>{e.promptCreating({data:{LoginName:"",UserName:"",Tel:"",Cel:"",Email:"",userClass:Tn.findById(Tn.SCOPES.DEPT),dept:{DeptID:o.CurDeptID,AbbrName:o.CurDeptName},depts:[{DeptID:o.CurDeptID,AbbrName:o.CurDeptName}]}})},[e,o.CurDeptID,o.CurDeptName]),U=a.useCallback(async({id:pt,refresh:Rt=!1,dontSelectDefaultDept:Ze=!1})=>{const dn=Rt?D.current:pt;Rt||(D.current=pt,e.startReading("...",{id:pt}));try{const{status:Yt,payload:lt,error:Qe}=await p({url:"v1/ou/users",bearer:n,params:{id:dn,wdp:1}});if(Yt.success){const rn=Yue.transformForReading(lt);e.finishedReading({data:rn}),Ze||i(rn.dept)}else throw Qe||new Error("")}catch(Yt){e.failedReading(Yt)}},[e,p,n]),X=a.useCallback(async(pt,Rt)=>{pt==null||pt.stopPropagation(),e.cancelAction(),U({id:Rt.UID})},[e,U]),te=a.useCallback(()=>{x.confirm({message:"?",onConfirm:()=>{e.cancelAction()}})},[e,x]),se=a.useCallback(()=>{x.confirm({message:"?",onConfirm:()=>{e.cancelAction(),U({refresh:!0})}})},[e,x,U]),he=a.useCallback(()=>{x.confirm({message:"?",onConfirm:()=>{e.cancelUpdating(),U({refresh:!0})}})},[e,x,U]),pe=a.useCallback(()=>{e.cancelAction()},[e]),ue=a.useCallback(({rowData:pt,rowIndex:Rt})=>{var Ze;return`${(Ze=pt==null?void 0:pt.module)==null?void 0:Ze.JobID}-${pt==null?void 0:pt.Seq}`||Rt},[]),ge=a.useCallback(async pt=>{try{e.startCreating();const{status:Rt,error:Ze,payload:dn}=await m({url:"v1/ou/users",data:pt,bearer:n});if(Rt.success)ae.success(""),e.finishedCreating(),await U({id:dn==null?void 0:dn.UID}),y.loadList({refresh:!0});else throw Ze||new Error("")}catch(Rt){e.failedCreating(Rt),console.error("handleCreate.failed",Rt),Rt.code===8?ae.error(""):ae.error("",Rt)}},[e,m,U,y,n]),Ce=a.useCallback(async pt=>{var Rt,Ze;try{e.startUpdating();const{status:dn,error:Yt}=await f({url:"v1/ou/users",data:pt,bearer:n});if(dn.success)ae.success(` ${(Rt=pt.data)==null?void 0:Rt.LoginName} ${(Ze=pt.data)==null?void 0:Ze.UserName}`),e.finishedUpdating(),P.clear(),await U({refresh:!0}),y.loadList({refresh:!0});else throw Yt||new Error("")}catch(dn){e.failedUpdating(dn),console.error("handleUpdate.failed",dn),ae.error("",dn)}},[e,f,P,U,y,n]),Te=a.useCallback(async pt=>{console.log("onEditorSubmit",pt);const Rt=Yue.transformForEditorSubmit(pt);console.log("processed",Rt),e.creating?ge(Rt):e.updating?Ce(Rt):console.error("UNKNOWN SUBMIT TYPE")},[e.creating,e.updating,ge,Ce]),Ne=a.useCallback(pt=>{console.error("ZA03.onSubmitError",pt),ae.error(", (*)",{position:"top-right"})},[]),xe=a.useCallback(()=>{var pt,Rt;x.confirm({message:`${(pt=e.itemData)==null?void 0:pt.LoginName} ${(Rt=e.itemData)==null?void 0:Rt.UserName}?`,onConfirm:async()=>{var Ze,dn;try{e.startDeleting(e.itemData);const{status:Yt,error:lt}=await h({url:"v1/ou/users",bearer:n,params:{id:(Ze=e.itemData)==null?void 0:Ze.UID}});if(Yt.success)e.cancelAction(),ae.success(` ${(dn=e.itemData)==null?void 0:dn.LoginName} ${e.itemData.UserName}`),y.loadList({refresh:!0});else throw lt||""}catch(Yt){e.failedDeleting(Yt),console.error("confirmDelete.failed",Yt),ae.error("",Yt)}}})},[e,x,h,y,n]),me=a.useCallback(pt=>{console.log("onSearchSubmit",pt),y.loadList({params:pt})},[y]),de=a.useCallback(pt=>{console.error("onSearchSubmitError",pt)},[]),ce=a.useCallback((pt,Rt)=>{u(Rt),Rt===Di.Tabs.AUTH&&P.state===null&&(t!=null&&t.UID)&&(s!=null&&s.DeptID)&&k()},[s==null?void 0:s.DeptID,t==null?void 0:t.UID,P.state,k]),ee=a.useCallback(async(pt,Rt,Ze)=>{var dn;try{const{status:Yt,error:lt}=await g({url:`v1/ou/user/authorities/${Ze?"enable":"disable"}`,bearer:n,params:{uid:(dn=e.itemData)==null?void 0:dn.UID,md:pt,fn:Rt,dp:s==null?void 0:s.DeptID}});if(!Yt.success)throw lt||new Error("")}catch(Yt){ae.error(` ${pt} `,Yt)}},[(qt=e.itemData)==null?void 0:qt.UID,g,s==null?void 0:s.DeptID,n]),De=a.useCallback(async({rowIndex:pt,rowData:Rt})=>{const Ze=v.gridData[pt];console.log(`OG [${pt}]`,Ze),console.log(`PATCH [${pt}]`,Rt);const dn=Rt.JobID;Di.FUNCTIONS.forEach(Yt=>{const lt=Rt[Yt];lt!==Ze[Yt]&&(console.log(`PATCH [${dn}][${Yt}]=>`,lt),ee(dn,Yt,lt))})},[v.gridData,ee]),ke=a.useCallback(()=>({module:null,JobID:"",INQ:"0",INS:"0",UPD:"0",PRT:"0",DEL:"0",USI:"0",CHK:"0",NCK:"0",RUN:"0",EXP:"0",IMP:"0"}),[]),He=a.useCallback(({rowData:pt,rowIndex:Rt})=>v.readOnly||v.isPersisted({rowData:pt,rowIndex:Rt}),[v]),qe=a.useCallback(pt=>Di.getOptionLabel(pt),[]),Le=(pt,Rt)=>Di.isOptionEqualToValue(pt,Rt),_e=a.useCallback(pt=>pt,[]),H=Or(),re=a.useCallback(async pt=>{var Ze,dn,Yt;console.log("onAddAuthSubmit",pt),H.start();let Rt=((dn=(Ze=v.selectedRow)==null?void 0:Ze.rowData)==null?void 0:dn.Seq)||0;pt.position===0?Rt-=.5:Rt+=.5;try{const{status:lt,error:Qe}=await m({url:"v1/ou/user/authorities",params:{uid:(Yt=e.itemData)==null?void 0:Yt.UID,ps:Rt},data:Di.transformModulesToIds(pt.modules),bearer:n});if(lt.success)H.finish(),k();else throw Qe??new Error("")}catch(lt){H.fail({error:lt}),ae.error("",lt)}},[H,(Jt=(Tt=v.selectedRow)==null?void 0:Tt.rowData)==null?void 0:Jt.Seq,m,(st=e.itemData)==null?void 0:st.UID,n,k]),q=a.useCallback(pt=>{console.error("onAddAuthSubmitError",pt),H.fail()},[H]),Y=a.useMemo(()=>H.prompting||H.working||H.failed,[H.failed,H.prompting,H.working]),ie=a.useMemo(()=>H.working,[H.working]),B=Or(),Z=a.useCallback(async pt=>{var Ze,dn;console.log("onCopyAuthSubmit",pt);const Rt=Ozt.transformForSubmitting(pt);console.log("transformed",Rt);try{B.start();const{status:Yt,error:lt}=await f({url:"v1/ou/user/copy-authorities",bearer:n,data:Rt,params:{uid:(Ze=e.itemData)==null?void 0:Ze.UID,ad:s==null?void 0:s.DeptID}});if(Yt.success)B.finish(),ae.success(""),e.itemViewOpen&&(k(),await U({id:(dn=e.itemData)==null?void 0:dn.UID,dontSelectDefaultDept:!0}));else throw lt||new Error("")}catch(Yt){B.fail({error:Yt}),ae.error("",Yt)}},[B,(Dt=e.itemData)==null?void 0:Dt.UID,e.itemViewOpen,f,U,k,s==null?void 0:s.DeptID,n]),ye=a.useCallback(pt=>{console.error("onCopyAuthSubmitError",pt)},[]),Ie=a.useMemo(()=>B.prompting||B.working||B.failed,[B.failed,B.prompting,B.working]),le=a.useMemo(()=>B.working,[B.working]),fe=a.useCallback(async pt=>{var Rt;console.log("handleDelAuth");try{const{status:Ze,error:dn}=await h({url:"v1/ou/user/authorities",params:{uid:(Rt=e.itemData)==null?void 0:Rt.UID,md:pt},bearer:n});if(Ze.success)k();else throw dn||new Error("")}catch(Ze){ae.error("",Ze)}finally{x.closeLatest()}},[(Gt=e.itemData)==null?void 0:Gt.UID,x,h,k,n]),Ae=a.useCallback(async pt=>{const{rowData:Rt}=pt;console.log("confirm DELETE",Rt),v.setDeletingRow(pt),x.create({title:"",message:` ${Rt.JobID} ?`,onConfirm:()=>{fe(Rt.JobID)},onCancel:()=>{v.setDeletingRow(null),x.closeLatest()}})},[v,x,fe]),Se=a.useCallback((pt,Rt)=>{pt.stopPropagation(),x.confirm({message:` ${Rt.LoginName} ?`,onConfirm:async()=>{try{const{status:Ze,error:dn,payload:Yt}=await g({url:"v1/ou/user/pword-reset",bearer:n,data:{uid:Rt.UID}});if(Ze.success)ae.success(`${Rt.LoginName} ${Yt.newPword}`);else throw dn??new Error("")}catch(Ze){ae.error("",Ze)}}})},[x,g,n]),be=a.useCallback((pt,Rt)=>{pt.stopPropagation(),x.confirm({message:` ${Rt.LoginName} ?`,onConfirm:async()=>{try{const{status:Ze,error:dn,payload:Yt}=await g({url:"v1/ou/user/unlock",bearer:n,data:{uid:Rt.UID}});if(Ze.success)ae.success(`${Rt.LoginName} `),y.loadList({refresh:!0});else throw dn??new Error("")}catch(Ze){ae.error("",Ze)}}})},[x,g,y,n]),Me=a.useCallback(pt=>{v.setSelectedRow(pt)},[v]),we=a.useCallback(({rowData:pt})=>!pt.enabled,[]),Ge=Or(),We=a.useCallback(async()=>{var pt,Rt;try{const Ze=v.getDirtyRows();console.log("handleAuthSave",Ze),Ge.start({message:"..."});const{status:dn,error:Yt}=await g({url:"v1/ou/user/authorities",bearer:n,params:{uid:(pt=e.itemData)==null?void 0:pt.UID,dp:s==null?void 0:s.DeptID},data:tC.transformForSubmitting(Ze)});if(dn.success)Ge.finish(),I(null),k(),ae.success("");else throw Yt||new Error("")}catch(Ze){Ge.fail(""),ae.error(` ${(Rt=e.itemData)==null?void 0:Rt.LoginName} `,Ze)}finally{Ge.clear()}},[v,(An=e.itemData)==null?void 0:An.LoginName,(_n=e.itemData)==null?void 0:_n.UID,g,k,Ge,s==null?void 0:s.DeptID,n]),Ee=a.useCallback(pt=>{console.log("onAuthSubmit",pt)},[]),Xe=a.useCallback(pt=>{console.error("onAuthSubmitError",pt)},[]),ot=a.useCallback((pt,Rt)=>{pt==null||pt.stopPropagation(),B.prompt(),Rt&&e.setItemData(Rt)},[B,e]),ze=a.useCallback(({rowData:pt})=>pt!=null&&pt.group?yh.CssClasses.GROUP_ROW:void 0,[]),tt=a.useCallback((pt,Rt)=>{const Ze=pt.getSelection({});if(console.log("selected",Ze),!Ze){ae.warn("");return}v.setGridData(dn=>dn.map((Yt,lt)=>{if(lt>=Ze.min.row&&lt<=Ze.max.row){const Qe={...Yt};for(let rn=Ze.min.col;rn<=Ze.max.col;rn++)if(Tn.isCheckboxColumn({col:rn})){const Cn=Tn.getFunctionKeyByIndex(rn);Qe[Cn||"enabled"]=Rt}return console.log(`updating rowIndex[${lt}]`,Yt),v.handleDirtyCheck(Yt,Qe,lt),Qe}return Yt}),{debug:!0}),pt.setSelection(Ze)},[v]),ft=a.useCallback(({gridMeta:pt})=>()=>{tt(pt,!0)},[tt]),ht=a.useCallback(({gridMeta:pt})=>()=>{tt(pt,!1)},[tt]),en=a.useCallback(()=>{v.setGridData(pt=>pt.map(Rt=>{const Ze={...Rt,enabled:!0};return Object.keys(Tn.FUNCTIONS).forEach(dn=>{Ze[dn]=!0}),Ze}),{doDirtyCheckByIndex:!0,debug:!0})},[v]),un=a.useCallback(()=>{v.setGridData(pt=>pt.map(Rt=>{const Ze={...Rt,enabled:!1};return Object.keys(Tn.FUNCTIONS).forEach(dn=>{Ze[dn]=!1}),Ze}),{doDirtyCheckByIndex:!0,debug:!0})},[v]);return En(()=>{e.cancelAction()},[]),{...y,...e,handleSelect:X,onSearchSubmit:me,onSearchSubmitError:de,onEditorSubmit:Te,onEditorSubmitError:Ne,promptCreating:W,confirmDelete:xe,...d,confirmQuitCreating:te,confirmQuitUpdating:se,handleDialogClose:pe,confirmReturnReading:he,selectedTab:c,setSelectedTab:u,handleTabChange:ce,handleAuthDeptChange:V,selectedDept:s,getRowKey:ue,authGridLoading:z,grid:v,...v,loadUserAuthorities:k,handleCreateRow:ke,handleConfirmDelete:Ae,isKeyDisabled:He,getOptionLabel:qe,isOptionEqualToValue:Le,getOptions:_e,handlePatch:De,promptAddAuth:H.prompt,cancelAddAuth:H.clear,onAddAuthSubmit:re,onAddAuthSubmitError:q,addAuthDialogOpen:Y,addAuthWorking:ie,promptCopyAuth:ot,copyAuthItemData:B.itemData,cancelCopyAuth:B.clear,onCopyAuthSubmit:Z,onCopyAuthSubmitError:ye,copyAuthDialogOpen:Ie,copyAuthWorking:le,confirmResetPword:Se,confirmResetErrCount:be,onRowSelectionChange:Me,authGridEditingMode:T,setAuthEditingMode:I,authGridEditing:K,goAuthInstantEditing:w,goAuthBatchEditing:A,cancelAuthEditing:F,confirmCancelAuthEditing:_,onAuthSubmit:Ee,onAuthSubmitError:Xe,handleAuthSave:We,stopInstantEditing:L,clearLoadAuth:E,saveAuthState:Ge.state,getRowClassName:ze,funcDisabled:we,checkAll:en,clearAll:un,checkSelection:ft,clearSelection:ht,handleDeptChange:J,handleDeptsChange:Q}},es=a.createContext(),bLe=({children:e})=>{const t=Uzt();return r.jsx(es.Provider,{value:{...t},children:e})};bLe.propTypes={children:l.oneOfType([l.array,l.object])};const XD=a.createContext(),IB=Object.freeze({SALES_DATA:"SALES_DATA",POS_DATA:"POS_DATA"}),xLe=[{id:IB.SALES_DATA,label:""},{id:IB.POS_DATA,label:"POS"}],qzt=e=>xLe.find(t=>t.id==e),Vzt=e=>{if(!e)return"";const{name:t}=e;return`${t}`},zzt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),Hzt=e=>{const{dept:t,beginDate:n,endDate:o}=e;return{dept:(t==null?void 0:t.DeptID)??"",beginDate:Re.formatDate(n)??"",endDate:Re.formatDate(o)??""}},Gzt=e=>{const{dept:t,beginDate:n,endDate:o}=e;return{dept:(t==null?void 0:t.DeptID)??"",beginDate:Re.formatDate(n)??"",endDate:Re.formatDate(o)??""}},Lh={TabType:IB,tabs:xLe,getTabById:qzt,transformForSubmitting:Hzt,getOptionLabel:Vzt,isOptionEqualToValue:zzt,transformForPosRebuildSubmitting:Gzt},Nee=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(XD),s=Ke();return r.jsx(dt,{responsive:!0,ref:t,variant:"contained",startIcon:r.jsx(EN,{}),onClick:s.handleSubmit(o.onPosRebuildSubmit,o.onPosRebuildSubmitError),loading:o.posRebuildWorking,disabled:o.loadWorking,sx:{fontWeight:600},...n,children:""})}));Nee.displayName="REBPosRebuildButtonContainer";const Fee=e=>{const{minDate:t,onDeptChange:n,...o}=e;return r.jsxs(ga,{value:Lh.TabType.POS_DATA,...o,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,children:r.jsx(OD,{label:"",required:!0,name:"dept",disableOpenOnInput:!0,onChange:n,disableByClass:Tn.SCOPES.ROOT})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"beginDate",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:"",minDate:t}),rightComponent:r.jsx(et,{name:"endDate",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:"",minDate:t})})}),r.jsx(j,{item:!0,xs:6,children:r.jsx(pn,{size:"small",name:"CutYM",label:"",required:!0,readOnly:!0,slotProps:{label:{sx:{marginTop:"-8px",marginLeft:"4px"}}}})})]}),r.jsx(ve,{mt:1.8,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(Nee,{})})})]})})]})};Fee.propTypes={onSessionChanged:l.func,onDeptChange:l.func,minDate:l.object,deptDisabled:l.bool};Fee.displayName="REBPosTabView";const yLe=e=>{const{...t}=e,n=Ke(),o=a.useContext(XD),s=Ue({name:"CutYM",control:n.control}),i=a.useMemo(()=>s?mR(iC(Re.parseDate(`${s}/01`),1)):null,[s]),c=a.useCallback(u=>{u&&o.load({id:u==null?void 0:u.DeptID})},[o]);return r.jsx(Fee,{minDate:i,onDeptChange:c,...t})};yLe.displayName="REBPosTabContainer";const Mee=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(XD),s=Ke(),i=a.useMemo(()=>s.handleSubmit(o.onSubmit,o.onSubmitError),[s,o.onSubmit,o.onSubmitError]);return r.jsx(dt,{responsive:!0,ref:t,variant:"contained",startIcon:r.jsx(EN,{}),onClick:i,loading:o.updateWorking,disabled:o.loadWorking,sx:{fontWeight:600},...n,children:""})}));Mee.displayName="REBSalesRebuildButtonContainer";const _ee=e=>{const{minDate:t,onDeptChange:n,...o}=e;return r.jsxs(ga,{value:Lh.TabType.SALES_DATA,...o,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,children:r.jsx(OD,{label:"",required:!0,name:"dept",disableOpenOnInput:!0,onChange:n,disableByClass:Tn.SCOPES.ROOT})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"beginDate",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:"",minDate:t,autoFocus:!0}),rightComponent:r.jsx(et,{name:"endDate",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:"",minDate:t})})}),r.jsx(j,{item:!0,xs:6,children:r.jsx(pn,{size:"small",name:"CutYM",label:"",required:!0,readOnly:!0,slotProps:{label:{sx:{marginTop:"-8px",marginLeft:"4px"}}}})})]}),r.jsx(ve,{mt:1.8,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(Mee,{})})})]})})]})};_ee.propTypes={minDate:l.object,onDeptChange:l.func,deptDisabled:l.bool};_ee.displayName="REBSalesTabView";const CLe=e=>{const{...t}=e,n=Ke(),o=a.useContext(XD),s=Ue({name:"CutYM",control:n.control}),i=a.useMemo(()=>s?mR(iC(Re.parseDate(`${s}/01`),1)):null,[s]),c=a.useCallback(u=>{u&&o.load({id:u==null?void 0:u.DeptID})},[o]);return r.jsx(_ee,{minDate:i,onDeptChange:c,...t})};CLe.displayName="REBSalesTabContainer";const Lee=a.memo(e=>{const{selectedTab:t,handleTabChange:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsx(Xt,{pt:0,children:r.jsxs(xf,{value:t,children:[r.jsx(jt,{sx:{borderBottom:1,borderColor:"divider"},children:r.jsx(yf,{onChange:n,children:Lh.tabs.map(s=>r.jsx(Si,{label:s.label,value:s.id},s.id))})}),r.jsx(CLe,{}),r.jsx(yLe,{})]})})})})})});Lee.propTypes={forNewCustomer:l.bool,readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func,onCustomerChange:l.func,onSessionChanged:l.func,selectedTab:l.string,handleTabChange:l.func};Lee.displayName="REBForm";const DLe=()=>{const e=Ke(),{reset:t}=e,n=a.useContext(XD);a.useContext(Be);const o=e.handleSubmit(n.onSubmit,n.onSubmitError),s=e.handleSubmit(n.onPosRebuildSubmit,n.onPosRebuildSubmitError),i=a.useMemo(()=>n.selectedTab==Lh.TabType.SALES_DATA?o:n.selectedTab==Lh.TabType.POS_DATA?s:null,[n.selectedTab,o,s]);return $t(["Control+Enter"],()=>setTimeout(i),{enableOnFormTags:!0}),En(()=>{n.load()},[]),mn(()=>{n.itemDataReady&&(console.log("reb form reset",n.itemData),t(n.itemData))},[n.itemData,n.itemDataReady]),r.jsx(Ye,{...e,children:r.jsx(Ct,{...n.formMeta,children:r.jsx(Lee,{selectedTab:n.selectedTab,handleTabChange:n.handleTabChange})})})};DLe.displayName="REBFormContainer";const SLe=a.memo(a.forwardRef((e,t)=>{const{...n}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx(kn,{ref:t,bgcolor:Nn.TOOLBAR,LeftComponent:Mee,RightComponent:Nee,...n})})}));SLe.propTypes={};SLe.displayName="REBToolbar";const vLe=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(DLe,{})]});vLe.displayName="REBFrame";const Kzt=()=>{const e=a.useContext(cr),{httpGetAsync:t,httpPostAsync:n}=Zn(),[o,s]=a.useState(Lh.TabType.SALES_DATA),i=a.useCallback((v,T)=>{s(T)},[]),c=a.useContext(Mr),{token:u,operator:d}=a.useContext(Be),p=Bt({moduleId:"REB"}),m=vt(`
		dept,
		beginDate,
		endDate,
		`),f=a.useCallback(async v=>{console.log("onSubmit",v);const T=Lh.transformForSubmitting(v);console.log("data",T),c.confirm({message:"?",onConfirm:async()=>{try{e.startUpdating();const{status:I,error:P,payload:E}=await n({url:"v1/sales/data/rebuild",bearer:u,data:T});if(I.success)ae.success((E==null?void 0:E.message)||""),e.finishedUpdating();else throw P??new Error((E==null?void 0:E.message)||"")}catch(I){e.failedUpdating(I),console.error(I),ae.error("",I)}finally{e.finishedUpdating()}}})},[e,c,n,u]),h=a.useCallback(v=>{console.error("onSubmitError",v),ae.error(", (*)")},[]),g=Or(),x=a.useCallback(async v=>{console.log("onPosRebuildSubmit",v);const T=Lh.transformForPosRebuildSubmitting(v);console.log("data",T),c.confirm({message:"POS?",onConfirm:async()=>{g.start();try{const{status:I,error:P,payload:E}=await n({url:"v1/pos/data/rebuild",bearer:u,data:T});if(I.success)g.finish(),ae.success((E==null?void 0:E.message)||"POS");else throw P??new Error((E==null?void 0:E.message)||"")}catch(I){console.error(I),g.fail(I),ae.error("",I)}}})},[c,n,g,u]),y=a.useCallback(v=>{console.error("onPosRebuildSubmitError",v)},[]),D=a.useCallback(async({refresh:v=!1,id:T}={})=>{try{v||e.startLoading("...");const{status:I,payload:P,error:E}=await t({url:"v1/sales/data/prev-inv",bearer:u,...T&&{params:{d:T}}});if(I.success){const k=vOe.transformForReading(P.data[0]);console.log("data",k),e.finishedLoading({data:k})}else throw E??new Error("")}catch(I){e.failedLoading(I)}},[e,t,u]);return{...p,...e,onSubmit:f,onSubmitError:h,formMeta:m,handleTabChange:i,onPosRebuildSubmit:x,onPosRebuildSubmitError:y,posRebuildWorking:g.working,selectedTab:o,load:D}},jLe=({children:e})=>{const t=Kzt(),n=a.useContext(Be),{operator:o}=n,s=at({defaultValues:{dept:o?{DeptID:o.CurDeptID,AbbrName:o.CurDeptName}:null,beginDate:null,endDate:null}});return r.jsx(Ye,{...s,children:r.jsx(XD.Provider,{value:{...t},children:e})})};jLe.propTypes={children:l.oneOfType([l.array,l.element])};const ILe=a.memo(a.forwardRef((e,t)=>{const{...n}=e,o=a.useContext(es),s=a.useMemo(()=>"",[]);return r.jsx(hn,{ref:t,variant:"contained",startIcon:r.jsx(Ao,{}),onClick:o.promptCreating,sx:{fontWeight:600},...n,children:s})}));ILe.displayName="ZA03CreateButtonContainer";const TLe=()=>{const e=a.useContext(es);return r.jsx(ao,{totalElements:e.itemCount,startIndex:e.visibleStartIndex,endIndex:e.visibleStopIndex})};TLe.displayName="ZA03FetchResultLabelContainer";const OLe=a.memo(()=>r.jsx(r.Fragment,{children:r.jsx(ILe,{})}));OLe.displayName="LeftButtons";const ELe=a.memo(a.forwardRef(({...e},t)=>r.jsx(kn,{alignItems:"flex-end",pr:1,ref:t,LeftComponent:OLe,RightComponent:TLe,...e})));ELe.displayName="ZA03ListViewToolbar";const $ee=a.memo(e=>{var u;const{name:t,label:n="",...o}=e,{token:s}=a.useContext(Be),i=a.useContext(es),c=a.useMemo(()=>{var d;return(d=i.itemData)==null?void 0:d.UID},[(u=i.itemData)==null?void 0:u.UID]);return r.jsx(XT,{multiple:!0,name:t,label:n,bearer:s,disabled:!c,url:"v1/ou/user/unused-authorities",querystring:Hr.stringify({uid:c}),filterSelectedOptions:!0,getOptions:d=>d,getOptionKey:Di.getOptionKey,getOptionLabel:Di.getOptionLabel,isOptionEqualToValue:Di.isOptionEqualToValue,renderTagLabel:Di.renderTagLabel,...o})});$ee.propTypes={name:l.string,label:l.string,children:l.node,uid:l.string};$ee.displayName="ControlledUnusedModulePicker";const PLe=e=>{const{...t}=e,n=a.useContext(es),{getSelectedRow:o}=n,s=a.useMemo(()=>[0,1],[]),i=a.useMemo(()=>{var u,d;return(d=(u=o())==null?void 0:u.rowData)==null?void 0:d.JobID},[o]),c=a.useCallback(u=>{switch(u){case 1:return` ${i} `;default:case 0:return` ${i} `}},[i]);return i?r.jsx(wD,{variant:"filled",options:s,getOptionLabel:c,defaultValue:1,...t}):r.jsx(Yp,{children:"*"})};PLe.displayName="ZA03AddPositionPickerContainer";const Bee=a.memo(e=>{const{...t}=e;return r.jsx(ve,{py:1,children:r.jsx(Br,{maxWidth:"md",children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsx(j,{item:!0,xs:12,children:r.jsx($ee,{name:"modules",autoFocus:!0,required:!0,rules:{required:""}})}),r.jsx(Ms,{item:!0,xs:12,alignItems:"center",children:r.jsx(PLe,{label:"",name:"position"})})]})})})});Bee.propTypes={};Bee.displayName="ZA03AddAuthForm";const RLe=()=>{const e=a.useContext(es),{startJobId:t,endJobId:n}=e,o=at({defaultValues:{modules:[],position:1}}),{reset:s}=o;return a.useEffect(()=>{e.addAuthDialogOpen&&s({modules:[]})},[s,e.addAuthDialogOpen]),r.jsx(Ye,{...o,children:r.jsx("form",{children:r.jsx(Er,{minWidth:"32em",title:"",open:e.addAuthDialogOpen,onClose:e.cancelAddAuth,onCancel:e.cancelAddAuth,onSubmit:o.handleSubmit(e.onAddAuthSubmit,e.onAddAuthSubmitError),working:e.addAuthWorking,confirmText:"",children:r.jsx(Bee,{})})})})};RLe.displayName="ZA03AddAuthDialogContainer";var fj={},Jue;function Qzt(){if(Jue)return fj;Jue=1;var e=Qn();Object.defineProperty(fj,"__esModule",{value:!0}),fj.default=void 0;var t=e(sr()),n=rr();return fj.default=(0,t.default)((0,n.jsx)("path",{d:"m18 7-1.41-1.41-6.34 6.34 1.41 1.41zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12zM.41 13.41 6 19l1.41-1.41L1.83 12z"}),"DoneAll"),fj}var Yzt=Qzt();const Jzt=qn(Yzt),wLe=e=>{const{...t}=e,n=a.useContext(es);return n.authGridEditing?r.jsx(dt,{startIcon:r.jsx(Jzt,{}),onClick:n.checkAll,...t}):!1};wLe.displayName="ZA03AuthCheckAllButtonContainer";var hj={},Xue;function Xzt(){if(Xue)return hj;Xue=1;var e=Qn();Object.defineProperty(hj,"__esModule",{value:!0}),hj.default=void 0;var t=e(sr()),n=rr();return hj.default=(0,t.default)((0,n.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),hj}var Zzt=Xzt();const eHt=qn(Zzt),kLe=e=>{const{...t}=e,n=a.useContext(es),o=a.useContext(Lr);return n.authGridEditing?r.jsx(dt,{startIcon:r.jsx(eHt,{}),onClick:n.checkSelection({gridMeta:o.gridMeta}),...t}):!1};kLe.displayName="ZA03AuthCheckSelectionButtonContainer";const ALe=e=>{const{...t}=e,n=a.useContext(es);return n.authGridEditing?r.jsx(dt,{onClick:n.clearAll,...t}):!1};ALe.displayName="ZA03AuthClearAllButtonContainer";const Wee=a.memo(e=>{const{uid:t,scope:n=Tn.SCOPES.HQ,...o}=e,s=a.useContext(Be),i=a.useCallback(u=>u,[]),c=a.useMemo(()=>Hr.stringify({uid:t,sp:n}),[n,t]);return r.jsx(bt,{url:"v1/ou/user/depts",getOptionLabel:vi.getOptionLabel,isOptionEqualToValue:vi.isOptionEqualToValue,bearer:s.token,getOptions:i,querystring:c,...o})});Wee.propTypes={uid:l.string.isRequired,scope:l.number};Wee.displayName="UserDeptPicker";const NLe=e=>{var o;const{...t}=e,n=a.useContext(es);return r.jsx(Wee,{disableClearable:!0,blurOnSelect:!0,selectOnFocus:!0,uid:(o=n.itemData)==null?void 0:o.UID,value:n.selectedDept,onChange:n.handleAuthDeptChange,disabled:n.authGridEditing,...t})};NLe.displayName="ZA03AuthDeptPickerContainer";const FLe=e=>{const{...t}=e,n=a.useContext(es),o=a.useContext(Lr);return n.authGridEditing?r.jsx(dt,{onClick:n.clearSelection({gridMeta:o.gridMeta}),...t}):!1};FLe.displayName="ZA03AuthClearSelectionButtonContainer";const tHt=()=>r.jsxs(r.Fragment,{children:[r.jsx(NLe,{dense:!0,name:"authDept",width:"14em",sx:[e=>({backgroundColor:"#fff",marginRight:e.spacing(1)})]}),r.jsxs(Qp,{children:[r.jsx(kLe,{variant:"contained",color:"info",className:"no-margin-right",children:""}),r.jsx(FLe,{variant:"outlined",color:"info",children:""})]}),r.jsxs(Qp,{children:[r.jsx(wLe,{variant:"contained",className:"no-margin-right",children:""}),r.jsx(ALe,{variant:"outlined",children:""})]})]}),Uee=e=>{const{...t}=e;return a.useContext(es).selectedTab!==Di.Tabs.AUTH?!1:r.jsx(kn,{pt:1,LeftComponent:tHt,LeftProps:{},RightProps:{flexGrow:1}})};Uee.propTypes={};Uee.displayName="ZA03AuthGridToolbarContainer";const qee=a.memo(e=>{const{uid:t,rowKey:n,readOnly:o,gridRef:s,data:i,loading:c,height:u=300,onChange:d,onSelectionChange:p,getRowClassName:m,funcDisabled:f,...h}=e;return c?r.jsx(Br,{maxWidth:"lg",children:r.jsx(Ko,{height:u})}):c==null?!1:r.jsx(dr,{lockRows:o,ref:s,height:u,value:i,onChange:d,onSelectionChange:p,addRowsComponent:null,disableContextMenu:!0,rowClassName:m,...h})});qee.propTypes={readOnly:l.bool,gridRef:l.func,drawerOpen:l.bool,data:l.array,loading:l.bool,height:l.number,onChange:l.func,getRowClassName:l.func,funcDisabled:l.func,onSelectionChange:l.func,rowKey:l.oneOfType([l.func,l.string,l.number,l.object])};qee.displayName="ZA03Grid";const MLe=()=>{var i;const{height:e}=Wt(),t=a.useContext(es),{token:n}=a.useContext(Be),o=a.useContext(Lr),s=a.useMemo(()=>e?e-274:300,[e]);return r.jsx(Kn.Provider,{value:{...t.grid,...o.gridMeta,readOnly:o.readOnly},children:r.jsx(qee,{gridRef:o.gridMeta.setGridRef,readOnly:o.readOnly,onActiveCellChange:o.gridMeta.handleActiveCellChange,rowKey:"JobID",data:t.gridData,uid:(i=t.itemData)==null?void 0:i.UID,bearer:n,loading:t.authGridLoading,onChange:t.handleGridChange,onSelectionChange:o.gridMeta.handleSelectionChange,funcDisabled:t.funcDisabled,height:s,isPersisted:t.isPersisted,handleCreateRow:t.handleCreateRow,isKeyDisabled:t.isKeyDisabled,getOptionLabel:t.getOptionLabel,isOptionEqualToValue:t.isOptionEqualToValue,getOptions:t.getOptions,getRowClassName:t.getRowClassName})})};MLe.displayName="ZA03GridContainer";const Vee=a.memo(e=>{const{editing:t}=e;return r.jsx(ga,{value:Di.Tabs.AUTH,sx:{padding:0,"& .MuiInputLabel-root":{fontSize:"105%"},"& .MuiInputLabel-shrink":{fontSize:"110%",fontWeight:600,left:"0px"}},children:r.jsxs(Xt,{pb:1,mt:1,px:1,children:[r.jsx(Uee,{}),r.jsx(MLe,{})]})})});Vee.propTypes={editing:l.bool};Vee.displayName="ZA03AuthForm";const tl=65,_Le=()=>{const e=a.useContext(es),t=a.useMemo(()=>!e.authGridEditing,[e.authGridEditing]),n=a.useMemo(()=>[{...Pe.keyColumn("enabled",Wi({size:"medium"})),title:"",minWidth:tl,maxWidth:tl,disabled:t},{...Pe.keyColumn("JobID",kt({continuousUpdates:!1})),title:"",grow:1,disabled:!0,minWidth:70,maxWidth:70},{...Pe.keyColumn("JobName_N",kt({continuousUpdates:!1})),title:"",grow:1,disabled:!0,minWidth:240},{...Pe.keyColumn("INS",Wi({size:"medium"})),title:"",minWidth:tl,maxWidth:tl,disabled:t},{...Pe.keyColumn("UPD",Wi({size:"medium"})),title:"",minWidth:tl,maxWidth:tl,disabled:t},{...Pe.keyColumn("PRT",Wi({size:"medium"})),title:"",minWidth:tl,maxWidth:tl,disabled:t},{...Pe.keyColumn("DEL",Wi({size:"medium"})),title:"",minWidth:tl,maxWidth:tl,disabled:t},{...Pe.keyColumn("USI",Wi({size:"medium"})),title:"",minWidth:tl,maxWidth:tl,disabled:t},{...Pe.keyColumn("CHK",Wi({size:"medium"})),title:"",minWidth:tl,maxWidth:tl,disabled:t},{...Pe.keyColumn("NCK",Wi({size:"medium"})),title:"",minWidth:tl,maxWidth:tl,disabled:t}],[t]),o=hr({data:e.grid.gridData,grid:e.grid,columns:n,skipDisabled:!0});return r.jsx(Ct,{gridMeta:o,children:r.jsx(Vee,{editing:e.editing})})};_Le.displayName="ZA03AuthFormContainer";const zee=e=>{const{children:t,...n}=e,o=a.useContext(es);return o.authGridEditingMode!==tC.AUTH_EDITING_MODE.SUBMIT||o.authGridLoading?!1:r.jsx(dt,{onClick:o.confirmCancelAuthEditing,...n,children:t})};zee.propTypes={children:l.oneOfType([l.node,l.array])};zee.displayName="ZA03AuthBatchCancelButtonContainer";const Hee=e=>{const{children:t,...n}=e,o=a.useContext(es);return o.authGridEditing?!1:r.jsx(hn,{startIcon:r.jsx(bo,{}),onClick:o.goAuthBatchEditing,...n,children:t})};Hee.propTypes={children:l.oneOfType([l.string,l.number,l.bool])};Hee.displayName="ZA03AuthBatchEditButtonContainer";const Gee=e=>{const{children:t="",...n}=e,o=a.useContext(es);return o.authGridEditingMode!==tC.AUTH_EDITING_MODE.SUBMIT||o.authGridLoading?!1:r.jsx(dt,{onClick:o.handleAuthSave,loading:o.saveAuthState===va.WORKING,...n,children:t})};Gee.propTypes={children:l.oneOfType([l.string,l.number,l.bool])};Gee.displayName="ZA03AuthBatchSubmitButtonContainer";const Kee=a.forwardRef((e,t)=>{const{children:n="",...o}=e,s=a.useContext(es),i=a.useCallback(c=>{s.promptCopyAuth(c)},[s]);return s.authGridEditing?!1:r.jsx(hn,{ref:t,startIcon:r.jsx(fT,{}),onClick:i,sx:{fontWeight:600},...o,children:n})});Kee.propTypes={children:l.oneOfType([l.node,l.array])};Kee.displayName="ZA03AuthCopyButtonContainer";const nHt=()=>a.useContext(es).selectedDept?r.jsxs(r.Fragment,{children:[r.jsx(Kee,{children:""}),r.jsx(Hee,{color:"primary",children:""}),r.jsx(zee,{variant:"outlined",color:"primary",disableElevation:!0,children:""}),r.jsx(Gee,{variant:"contained",color:"primary",disableElevation:!0,children:""})]}):!1,Qee=e=>{const{...t}=e;return a.useContext(es).selectedTab!==Di.Tabs.AUTH?!1:r.jsx(kn,{RightComponent:nHt,LeftProps:{},RightProps:{flexGrow:1}})};Qee.propTypes={};Qee.displayName="ZA03AuthToolbarContainer";const Yee=e=>{const{...t}=e,n=a.useContext(es),{operator:o}=a.useContext(Be),s=Ke(),i=a.useMemo(()=>o.Class>=Tn.SCOPES.ROOT?Tn.SCOPES.HQ:Tn.SCOPES.BRANCH_HQ,[o==null?void 0:o.Class]);return r.jsx(wa,{typo:!0,required:!0,disableOpenOnInput:!0,scope:i,onChange:n.handleDeptChange({setValue:s.setValue,getValues:s.getValues}),...t})};Yee.propTypes={};Yee.displayName="ZA03DeptPickerContainer";const LLe=e=>{const{...t}=e,{operator:n}=a.useContext(Be),o=a.useContext(es),s=Ke(),i=Ue({name:"dept"}),c=a.useCallback(d=>(d==null?void 0:d.DeptID)===(i==null?void 0:i.DeptID),[i==null?void 0:i.DeptID]),u=a.useMemo(()=>n.Class>=Tn.SCOPES.ROOT?Tn.SCOPES.HQ:Tn.SCOPES.BRANCH_HQ,[n==null?void 0:n.Class]);return r.jsx(wa,{multiple:!0,filterSelectedOptions:!0,disableOpenOnInput:!0,scope:u,typoChip:!0,tagDisabled:c,onChange:o.handleDeptsChange({getValues:s.getValues,setValue:s.setValue}),...t})};LLe.displayName="ZA03DeptsPickerContainer";const Jee=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e,{operator:i}=a.useContext(Be);return i.Class<Tn.SCOPES.ROOT?!1:r.jsx(bt,{name:n,label:o,ref:t,options:Tn.AUTH_SCOPE_OPTIONS,getOptionLabel:Tn.getOptionLabel,isOptionEqualToValue:Tn.isOptionEqualToValue,...s})});Jee.propTypes={name:l.string,label:l.string,children:l.node};Jee.displayName="AuthScopePickerContainer";const Xee=a.memo(e=>{const{data:t,creating:n,updating:o,editing:s,handleDeptChange:i}=e;return r.jsx(ga,{value:Di.Tabs.INFO,sx:()=>({padding:0,"& .MuiInputLabel-root":{fontSize:"105%"},"& .MuiInputLabel-shrink":{fontSize:"110%",fontWeight:600,left:"-2px"}}),children:r.jsx(Et,{maxWidth:"sm",children:r.jsx(Xt,{pt:3,pb:4,px:3,mb:2,mt:3,children:r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,md:6,children:r.jsx($e,{typo:!0,name:"LoginName",label:"",...n&&{autoFocus:!0},fullWidth:!0,required:!0,rules:{required:""},readOnly:o})}),r.jsx(j,{item:!0,xs:12,sm:12,md:6,children:r.jsx($e,{typo:!0,name:"UserName",...o&&{autoFocus:!0},label:"",fullWidth:!0,required:!0,rules:{required:""}})}),r.jsx(j,{item:!0,xs:12,sm:12,md:6,children:r.jsx($e,{typo:!0,name:"Tel",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:6,children:r.jsx($e,{typo:!0,name:"Cel",label:"",fullWidth:!0})}),r.jsx(ve,{fullWidth:!0}),r.jsx(j,{item:!0,xs:12,sm:12,md:6,children:r.jsx($e,{typo:!0,name:"Email",label:"",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:6,children:r.jsx(Yee,{uid:t==null?void 0:t.UID,typo:!0,name:"dept",label:"",required:!0,disableOpenOnInput:!0})}),r.jsx(j,{item:!0,xs:12,children:r.jsx(LLe,{typo:!0,name:"depts",label:"",required:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,md:6,children:r.jsx(Jee,{typo:!0,name:"userClass",label:"",required:!0})})]})})})})});Xee.propTypes={data:l.object,editing:l.bool,updating:l.bool,deptDisabled:l.bool,handleDeptChange:l.func};Xee.displayName="ZA03InfoForm";const $Le=()=>{const e=a.useContext(es),t=at({defaultValues:{depts:[]}}),n=vt(`
		LoginName,
		UserName,
		Tel,
		Cel,
		Email,
		dept,
		userClass,
		depts
		`),o=a.useCallback(s=>{switch(s.name){case"LoginName":return e.updating;default:return!1}},[e.updating]);return r.jsx(Ct,{...n,isFieldDisabled:o,children:r.jsx(Xee,{data:e.itemData,creating:e.creating,updating:e.updating,editing:e.editing,onSubmit:t.handleSubmit(e.onEditorSubmit,e.onEditorSubmitError),readError:e.readError})})};$Le.displayName="ZA03InfoFormContainer";const Zee=a.memo(a.forwardRef((e,t)=>{const{onSave:n,onCancel:o,loading:s,sx:i=[],...c}=e;return r.jsx(kn,{...c,rightComponents:r.jsxs(r.Fragment,{children:[r.jsx(dt,{responsive:!0,onClick:o,color:"primary",variant:"outlined",...c,children:""}),r.jsx(dt,{responsive:!0,onClick:n,type:"submit",endIcon:r.jsx(Do,{}),color:"primary",variant:"contained",loading:s,children:""})]})})}));Zee.displayName="ZA03DialogEditButtons";Zee.propTypes={onSave:l.func,onCancel:l.func,loading:l.bool,sx:l.oneOfType([l.object,l.array])};var gj={},Zue;function rHt(){if(Zue)return gj;Zue=1;var e=Qn();Object.defineProperty(gj,"__esModule",{value:!0}),gj.default=void 0;var t=e(sr()),n=rr();return gj.default=(0,t.default)((0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline"),gj}var oHt=rHt();const sHt=qn(oHt),BLe=a.memo(a.forwardRef((e,t)=>{const{onEdit:n,onDelete:o,...s}=e;return r.jsxs(a.Fragment,{ref:t,...s,children:[o&&r.jsx(hn,{startIcon:r.jsx(sHt,{}),color:"secondary",onClick:o,children:""}),n&&r.jsx(hn,{startIcon:r.jsx(bo,{}),color:"primary",onClick:n,children:""})]})}));BLe.propTypes={onEdit:l.func,onDelete:l.func};const ete=()=>{const e=a.useContext(es),t=Ke();return e.selectedTab!==Di.Tabs.INFO?!1:e.editing?r.jsx(Zee,{onSave:t.handleSubmit(e.onEditorSubmit,e.onEditorSubmitError),onCancel:e.creating?e.confirmQuitCreating:e.confirmReturnReading,loading:e.editWorking}):r.jsx(kn,{rightComponents:r.jsx(BLe,{onEdit:e.promptUpdating,onDelete:e.confirmDelete})})};ete.propTypes={};ete.displayName="ZA03InfoToolbarContainer";const tte=a.memo(e=>{const{readError:t,readWorking:n,itemDataReady:o,editing:s,updating:i,selectedTab:c,onTabChange:u,infoDisabled:d,authDisabled:p,deptDisabled:m,...f}=e;return t?r.jsx(jt,{pt:"20%",children:r.jsx(nu,{variant:"filled",title:"",error:t})}):n||!o?r.jsx(Br,{maxWidth:"xs",children:r.jsx(ve,{justifyContent:"center",minHeight:"30em",children:r.jsx(Cr,{iconSize:"lg",variant:"h5",children:"..."})})}):r.jsx(jt,{mt:-1,children:r.jsxs(xf,{value:c,children:[r.jsxs(ve,{sx:{borderBottom:1,borderColor:"divider"},pr:1,children:[r.jsxs(yf,{onChange:u,"aria-label":"lab API tabs example",children:[r.jsx(Si,{label:"",value:Di.Tabs.INFO,disabled:d}),r.jsx(Si,{label:"",value:Di.Tabs.AUTH,disabled:p})]}),r.jsxs(ve,{flexGrow:1,justifyContent:"flex-end",alignItems:"center",children:[r.jsx(ete,{}),r.jsx(Qee,{})]})]}),r.jsx($Le,{}),r.jsx(_Le,{})]})})});tte.propTypes={data:l.object,readWorking:l.bool,itemDataReady:l.bool,editing:l.bool,updating:l.bool,store:l.bool,infoDisabled:l.bool,authDisabled:l.bool,deptDisabled:l.bool,selectedTab:l.oneOfType([l.string,l.number]),onTabChange:l.func,readError:l.object};tte.displayName="ZA03DialogContent";const WLe=()=>{const e=a.useContext(es),t=a.useMemo(()=>!!e.authGridEditingMode,[e.authGridEditingMode]),n=a.useMemo(()=>e.editing,[e.editing]);return r.jsx(tte,{readWorking:e.readWorking,itemDataReady:e.itemDataReady,selectedTab:e.selectedTab,onTabChange:e.handleTabChange,infoDisabled:t,authDisabled:n,readError:e.readError})};WLe.displayName="ZA03DialogContentContainer";const ULe=a.forwardRef((e,t)=>{const{...n}=e,{height:o}=Wt(),s=a.useContext(es),{setSelectedTab:i,itemViewOpen:c,clearLoadAuth:u,editing:d,authGridEditing:p,setAuthEditingMode:m}=s,f=at({defaultValues:{depts:[]}}),{reset:h}=f,g=a.useMemo(()=>o-120,[o]),x=Qr({height:g,alwaysShowThumb:!0,scrollerBackgroundColor:"transparent"}),y=a.useMemo(()=>s.creating?s.confirmQuitCreating:s.updating?s.confirmQuitUpdating:s.reading?s.cancelAction:null,[s.cancelAction,s.confirmQuitCreating,s.confirmQuitUpdating,s.creating,s.reading,s.updating]);a.useEffect(()=>{c||(i(Di.Tabs.INFO),m(null),u())},[i,c,u,m]);const{itemDataReady:D,itemData:v}=s;a.useEffect(()=>{D&&(console.log("za03 form reset",v),h(v))},[h,v,D]);const T=a.useMemo(()=>s.creating?"":"",[s.creating]),I=a.useMemo(()=>d||p,[p,d]);return r.jsx(Ye,{...f,children:r.jsx(Er,{ref:t,title:T,responsive:!0,fullWidth:!0,maxWidth:"lg",hideCloseButton:I,open:s.itemViewOpen,onClose:y,sx:{"& .MuiDialog-paper":{backgroundColor:Nn.DIALOG_BG}},contentSx:[{minHeight:"30em",paddingTop:0},x.scroller],...n,children:r.jsx("form",{children:r.jsx(WLe,{})})})})});ULe.displayName="ZA03DialogContainer";const UF=e=>{const{loading:t,children:n,...o}=e,s=t&&!n;return r.jsx(j,{item:!0,pr:1,xs:4,sm:4,md:4,lg:4,...o,children:s?r.jsx(ji,{}):n||""})};UF.propTypes={loading:l.bool,children:l.oneOfType([l.node])};UF.displayName="ZA03IDColumn";const qF=e=>{const{loading:t,children:n,...o}=e,s=t&&!n;return r.jsx(j,{item:!0,pr:1,xs:12,sm:12,md:6,...o,children:s?r.jsx(ji,{}):n||""})};qF.propTypes={loading:l.bool,children:l.oneOfType([l.node])};qF.displayName="ZA03NameColumn";const VF=e=>{const{loading:t,children:n,...o}=e,s=t&&!n;return r.jsx(j,{item:!0,pr:1,xs:9,sm:9,md:2,...o,children:s?r.jsx(ji,{}):n||""})};VF.propTypes={loading:l.bool,children:l.oneOfType([l.node])};VF.displayName="ZA03ClassColumn";const zF=e=>{const{loading:t,children:n,...o}=e,s=t&&!n;return r.jsx(j,{item:!0,pr:1,xs:12,sm:12,md:6,...o,children:s?r.jsx(ji,{}):n||""})};zF.propTypes={loading:l.bool,children:l.oneOfType([l.node])};zF.displayName="ZA03DeptColumn";const nte=a.memo(a.forwardRef((e,t)=>{const{showAuthScope:n,...o}=e;return r.jsxs(io,{ref:t,...o,children:[r.jsx(Hn,{}),r.jsx(UF,{children:""}),r.jsx(qF,{children:""}),r.jsx(zF,{children:""}),n&&r.jsx(VF,{children:""})]})}));nte.propTypes={showAuthScope:l.bool};nte.displayName="ZA03ListHeader";const qLe=e=>{var s;const{...t}=e,n=a.useContext(Be),o=a.useMemo(()=>{var i;return(i=n.operator)==null?void 0:i.hasRoot},[(s=n.operator)==null?void 0:s.hasRoot]);return r.jsx(nte,{showAuthScope:o,...t})};qLe.displayName="ZA03ListHeaderContainer";const rte=e=>{const{scope:t,...n}=e,o=hf(),s=a.useMemo(()=>Tn.SCOPE_LABELS[parseInt(t)],[t]),i=a.useMemo(()=>Tn.getHeaderColor(parseInt(t)),[t]),c=a.useMemo(()=>o.palette.getContrastText(i),[i,o.palette]);return r.jsx(AC,{label:s,sx:[{backgroundColor:i,color:c}],...n})};rte.propTypes={scope:l.oneOfType([l.string,l.number])};rte.displayName="AuthScopeChip";var bj={},ede;function aHt(){if(ede)return bj;ede=1;var e=Qn();Object.defineProperty(bj,"__esModule",{value:!0}),bj.default=void 0;var t=e(sr()),n=rr();return bj.default=(0,t.default)((0,n.jsx)("path",{d:"M2 17h20v2H2zm1.15-4.05L4 11.47l.85 1.48 1.3-.75-.85-1.48H7v-1.5H5.3l.85-1.47L4.85 7 4 8.47 3.15 7l-1.3.75.85 1.47H1v1.5h1.7l-.85 1.48zm6.7-.75 1.3.75.85-1.48.85 1.48 1.3-.75-.85-1.48H15v-1.5h-1.7l.85-1.47-1.3-.75L12 8.47 11.15 7l-1.3.75.85 1.47H9v1.5h1.7zM23 9.22h-1.7l.85-1.47-1.3-.75L20 8.47 19.15 7l-1.3.75.85 1.47H17v1.5h1.7l-.85 1.48 1.3.75.85-1.48.85 1.48 1.3-.75-.85-1.48H23z"}),"Password"),bj}var iHt=aHt();const lHt=qn(iHt),ote=a.memo(e=>{const{index:t,style:n,value:o,loading:s,onClick:i,confirmResetPword:c,confirmResetErrCount:u,promptCopyAuth:d,showAuthScope:p}=e,m=a.useMemo(()=>(o==null?void 0:o.PwordErrCount)>=3,[o==null?void 0:o.PwordErrCount]);return r.jsx("div",{style:n,children:r.jsxs(yo,{borderBottom:!0,onClick:i,children:[r.jsxs(na,{children:[r.jsx(jr,{arrow:!0,title:"",sx:{zIndex:1e4},children:r.jsx(br,{onClick:d,children:r.jsx(fT,{htmlColor:"#000"})})}),m&&r.jsx(jr,{arrow:!0,title:"",sx:{zIndex:1e4},children:r.jsx(br,{onClick:u,children:r.jsx(qye,{htmlColor:"#000"})})}),r.jsx(jr,{arrow:!0,title:"",sx:{zIndex:1e4},children:r.jsx(br,{onClick:c,children:r.jsx(lHt,{htmlColor:"#000"})})})]}),r.jsx(jt,{children:r.jsxs(j,{container:!0,columns:24,sx:[{minHeight:"36px",alignItems:"center"}],children:[r.jsx(Hn,{title:t,children:m&&r.jsx(iO,{fontSize:"small"})}),r.jsx(UF,{children:o==null?void 0:o.LoginName}),r.jsx(qF,{children:o==null?void 0:o.UserName}),r.jsx(zF,{children:o==null?void 0:o.AbbrName}),p&&r.jsx(VF,{children:(o==null?void 0:o.Class)&&r.jsx(rte,{scope:o==null?void 0:o.Class,size:"small"})})]})})]})})});ote.propTypes={index:l.number,style:l.object,value:l.object,loading:l.bool,sx:l.oneOfType([l.array,l.object]),onClick:l.func,confirmResetPword:l.func,confirmResetErrCount:l.func,promptCopyAuth:l.func};ote.displayName="ZA03ListRow";const ste=e=>{var h;const t=a.useContext(Be),n=a.useContext(es),{isItemLoading:o,confirmResetPword:s,promptCopyAuth:i,confirmResetErrCount:c}=n,{index:u,...d}=e,p=a.useMemo(()=>o(u),[u,o]),m=a.useMemo(()=>n.listData[u],[n.listData,u]),f=a.useMemo(()=>{var g;return((g=t==null?void 0:t.operator)==null?void 0:g.Class)>=3},[(h=t==null?void 0:t.operator)==null?void 0:h.Class]);return r.jsx(ote,{index:u,loading:p,value:m,onClick:g=>n.handleSelect(g,m),confirmResetPword:g=>s(g,m),confirmResetErrCount:g=>c(g,m),promptCopyAuth:g=>i(g,m),showAuthScope:f,...d})};ste.propTypes={index:l.number,data:l.object};ste.displayName="ZA03ListRowContainer";const VLe=()=>{const e=a.useContext(es),{loadList:t}=e,n=Ke(),{getValues:o,setValue:s}=n,{height:i}=Wt(),c=Ue({name:"q",control:n.control}),u=Gr(c,300);En(()=>{e.loadList()},[]),mn(()=>{if(u!==void 0){const p=o();t({params:{...p,q:u},supressLoading:!0})}},[u]);const d=a.useMemo(()=>i?i-162:300,[i]);return r.jsx(Yr,{withHeader:!0,children:r.jsx(to,{loading:e.listLoading,data:e.listData,itemCount:e.itemCount,loadMoreItems:e.loadMoreItems,isItemLoaded:e.isItemLoaded,RowComponent:ste,height:d,handleItemsRendered:e.handleItemsRendered,error:e.listError,bottomReached:!0})})};VLe.displayName="ZA03ListViewContainer";const HF=a.createContext(),cHt=e=>e,uHt=e=>e,dHt=(e,t)=>t.includes(e),ate=a.memo(e=>{var E;const{height:t=300,options:n=[],control:o,name:s,label:i,sx:c=[],getOptionKey:u=cHt,getOptionLabel:d=uHt,isOptionChecked:p=dHt,loading:m,error:f,rules:h,fullWidth:g,borderRadius:x="4px",CheckboxExProps:y,...D}=e,v=Qr({height:t}),{field:T,fieldState:I}=yhe({name:s,control:o,defaultValue:[],rules:h}),P=a.useCallback(k=>{const w=k.target.checked?[...T.value,k.target.value]:T.value.filter(A=>A!==k.target.value);T.onChange(w)},[T]);return m==null?!1:m?r.jsx(Cr,{children:"..."}):r.jsxs(wT,{component:"fieldset",sx:[k=>({"& .MuiFormControlLabel-label":{whiteSpace:"noWrap"},"& legend":{paddingLeft:k.spacing(1),paddingRight:k.spacing(1)},border:"1px solid rgba(0,0,0,0.3)",...x&&{borderRadius:x},paddingLeft:k.spacing(1),paddingRight:k.spacing(1),...g&&{width:"100%"}}),...Array.isArray(c)?c:[c]],...D,children:[i&&r.jsx(kT,{component:"legend",children:i}),r.jsxs(jt,{pl:1,sx:[v.scroller,k=>({paddingTop:0,paddingLeft:k.spacing(1.5),paddingRight:k.spacing(.5),...x&&{borderRadius:x}})],children:[f&&r.jsx(TD,{error:f}),m===!1&&r.jsx(h3,{children:n==null?void 0:n.map(k=>{const w=d(k),A=u(k),F=p(k,T.value),_=u(k);return r.jsx(Yh,{label:w,checked:F,value:_,onChange:P,...y},A)})})]}),r.jsx(jt,{mt:1,children:I.error&&r.jsxs(Yp,{error:!0,children:["*",(E=I.error)==null?void 0:E.message]})})]})});ate.propTypes={name:l.string.isRequired,label:l.string,variant:l.string,options:l.array,control:l.object,CheckboxExProps:l.object,getOptionKey:l.func,getOptionLabel:l.func,isOptionChecked:l.func,getOptions:l.func,sx:l.oneOfType([l.object,l.array]),loading:l.bool,fullWidth:l.bool,error:l.object,height:l.number,borderRadius:l.oneOfType([l.string,l.number])};ate.displayName="CheckboxExGroup";const ite=e=>{var I;const{...t}=e,n=Ke(),{setValue:o}=n,s=a.useContext(HF),{fromUser:i,clearOptions:c,loadOptions:u,optionsData:d,optionsLoading:p,optionsNotLoaded:m,optionsLoaded:f}=s,h=a.useContext(es),{height:g}=Wt(),x=Ue({name:"overrideDept"}),y=a.useCallback(P=>vi.getOptionKey(P),[]),D=a.useCallback(P=>{var k;return x?`${vi.getOptionLabel(P)}${((k=h.selectedDept)==null?void 0:k.AbbrName)||""}`:`${vi.getOptionLabel(P)}${P==null?void 0:P.AbbrName}`},[x,(I=h.selectedDept)==null?void 0:I.AbbrName]),v=a.useCallback((P,E)=>E.includes(y(P)),[y]),T=a.useMemo(()=>!(i!=null&&i.UID),[i==null?void 0:i.UID]);return a.useEffect(()=>{i!=null&&i.UID&&(u(),o("depts",[]))},[i==null?void 0:i.UID,u,o]),a.useEffect(()=>{!i&&f&&c()},[c,i,d,f]),r.jsx(ate,{disabled:T,options:d,loading:p,getOptionKey:y,getOptionLabel:D,isOptionChecked:v,height:g-480,rules:{required:""},...t})};ite.displayName="ZA03CopyAuthDeptCheckboxGroupContainer";ite.propTypes={scope:l.number};const zLe=e=>{const{...t}=e,n=a.useContext(HF),o=a.useCallback(s=>{n.setFromUser(s)},[n]);return r.jsx(lO,{virtualize:!0,onChange:o,...t})};zLe.displayName="ZA03CopyAuthUserPicker";const HLe=e=>{const{...t}=e,n=Ue({name:"depts"}),o=Ue({name:"fromUser"}),s=a.useMemo(()=>(n==null?void 0:n.length)!==1||!o,[n==null?void 0:n.length,o]);return o?r.jsx(xr,{disabled:s,...t}):!1};HLe.displayName="ZA03OverrideDeptCehckboxContainer";const lte=a.memo(e=>{const{user:t}=e;return t?r.jsx(ve,{py:1,children:r.jsxs(j,{container:!0,spacing:2,children:[r.jsxs(j,{item:!0,xs:12,children:[r.jsxs(nn,{mb:1,children:["* ",t.UserName,""]}),r.jsx(zLe,{label:"",name:"fromUser",typeToSearchText:",",required:!0,rules:{required:""}})]}),r.jsx(j,{item:!0,xs:7,children:r.jsx(ite,{fullWidth:!0,label:"",name:"depts",CheckboxExProps:{size:"small"}})}),r.jsx(j,{item:!0,xs:5,children:r.jsx(HLe,{name:"overrideDept",label:"",helperText:"()"})})]})}):!1});lte.propTypes={user:l.object};lte.displayName="ZA03CopyAuthForm";const GLe=()=>{const e=a.useContext(es),{height:t}=Wt(),{copyAuthDialogOpen:n}=e,o=a.useContext(HF),{setFromUser:s}=o,i=at({defaultValues:{}}),{reset:c}=i,u=a.useMemo(()=>t-400,[t]);return a.useEffect(()=>{n&&(c({fromUser:null}),s(null))},[c,s,n]),r.jsx(Ye,{...i,children:r.jsx("form",{children:r.jsx(Er,{dense:!0,disableEscapeKeyDown:!0,minWidth:"32em",title:"",open:e.copyAuthDialogOpen,onClose:e.cancelCopyAuth,onCancel:e.cancelCopyAuth,onSubmit:i.handleSubmit(e.onCopyAuthSubmit,e.onCopyAuthSubmitError),contentSx:[{paddingTop:0,minHeight:u}],working:e.copyAuthWorking,confirmText:"",children:r.jsx(Br,{maxWidth:"md",children:r.jsx(lte,{user:e.itemData})})})})})};GLe.displayName="ZA03CopyAuthDialogContainer";const cte=e=>{const{name:t="qs",...n}=e,o=Ke(),s=a.useContext(es),i=a.useRef(null),c=ru({inputRef:i,onChange:d=>{o.setValue(t,d)}});$t("ctrl+F12",c.handleFocus,{enableOnFormTags:!0});const u=$t("esc",c.handleClear,{enableOnFormTags:!0});return r.jsx("form",{onSubmit:o.handleSubmit(s.onSearchSubmit,s.onSearchSubmitError),children:r.jsx("div",{ref:u,children:r.jsx(su,{autoFocus:!0,name:t,placeholder:"/(ctrl+F12)",mobilePlaceholder:"/",borderRadius:"8px",responsive:!0,inputRef:i,onClear:c.handleClear})})})};cte.propTypes={name:l.string};cte.displayName="UserSearchFieldContainer";const pHt=e=>e.data,mHt=({url:e,method:t="get",params:n,bearer:o,defaultOptions:s=[],getOptions:i=pHt})=>{const{sendAsync:c}=Zn(),[u,d]=a.useState(),[p,m]=a.useState(),[f,h]=a.useState(s),g=a.useCallback(async()=>{console.log("loadOptions",n),d(!0);try{const{status:v,payload:T,error:I}=await c({method:t,bearer:o,url:e,params:n});if(v.success)h(i(T));else throw I??new Error("")}catch(v){console.error("loadOptions failed",v),m(v)}finally{d(!1)}},[o,i,t,n,c,e]),x=a.useCallback(()=>{console.log("clearOptions"),h([]),d(null)},[]),y=a.useMemo(()=>u==null,[u]),D=a.useMemo(()=>u===!1,[u]);return{optionsLoading:u,optionsError:p,optionsData:f,loadOptions:g,clearOptions:x,optionsNotLoaded:y,optionsLoaded:D}},fHt=({token:e,scope:t=Tn.SCOPES.HQ})=>{const[n,o]=a.useState(),s=a.useMemo(()=>({uid:n==null?void 0:n.UID,sp:t}),[n==null?void 0:n.UID,t]),i=a.useCallback(u=>u,[]),c=mHt({url:"v1/ou/user/depts",bearer:e,params:s,getOptions:i});return{fromUser:n,setFromUser:o,...c}},KLe=({children:e})=>{const t=a.useContext(Be),n=fHt({token:t.token});return r.jsx(HF.Provider,{value:{...n},children:e})};KLe.propTypes={children:l.oneOfType([l.array,l.object])};const QLe=()=>{const e=at();return r.jsx(Ye,{...e,children:r.jsxs(Ft,{children:[r.jsx(_t,{children:r.jsx(cte,{name:"q"})}),r.jsx(ELe,{}),r.jsx(qLe,{}),r.jsx(VLe,{}),r.jsx(ULe,{}),r.jsx(RLe,{}),r.jsx(KLe,{children:r.jsx(GLe,{})})]})})};QLe.displayName="ZA03FrameContainer";const hHt=r.jsxs(r.Fragment,{children:[r.jsx(yt,{path:"ZA03",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(bLe,{children:r.jsx(QLe,{})})})})}),r.jsx(yt,{path:"REB",element:r.jsx(Mt,{children:r.jsx(jLe,{children:r.jsx(vLe,{})})})})]}),TB=Object.freeze({SUMMARY:1,DETAIL1:2}),ute=[{id:TB.SUMMARY,label:""},{id:TB.DETAIL1,label:""}],gHt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},bHt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),YLe=e=>ute.find(t=>t.id===e),xHt=e=>ute.find(t=>t.id==e),yHt=()=>YLe(TB.SUMMARY),sI={options:ute,getOptionLabel:gHt,isOptionEqualToValue:bHt,getOptionById:YLe,findByInput:xHt,getDefaultOption:yHt},dte=a.memo(a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,label:o,options:sI.options,getOptionLabel:sI.getOptionLabel,isOptionEqualToValue:sI.isOptionEqualToValue,findByInput:sI.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})}));dte.propTypes={name:l.string,label:l.string,children:l.node};dte.displayName="U01DataTypePicker";const pte=[{id:1,label:""},{id:2,label:""},{id:3,label:""}],CHt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},DHt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),JLe=e=>pte.find(t=>t.id===e),SHt=e=>pte.find(t=>t.id==e),vHt=()=>JLe(1),aI={options:pte,getOptionLabel:CHt,isOptionEqualToValue:DHt,getOptionById:JLe,findByInput:SHt,getDefaultOption:vHt},mte=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:aI.options,getOptionLabel:aI.getOptionLabel,isOptionEqualToValue:aI.isOptionEqualToValue,findByInput:aI.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});mte.propTypes={name:l.string,label:l.string,children:l.node};mte.displayName="U01OrderTypePicker";const fte=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(wa,{autoFocus:!0,label:"",name:"SDeptID",disableOpenOnInput:!0,selectOnFocus:!0,scope:Tn.SCOPES.BRANCH_HQ,borderless:!0,placeholder:""}),rightComponent:r.jsx(wa,{label:"",name:"EDeptID",disableOpenOnInput:!0,selectOnFocus:!0,scope:Tn.SCOPES.BRANCH_HQ,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"SProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"EProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(Ms,{item:!0,xs:12,sm:6,alignItems:"center",children:r.jsx(xr,{label:"",name:"InvTx",defaultValue:!0,variant:"outlined",size:"small",fullWidth:!0})}),r.jsx(Ms,{item:!0,xs:12,sm:6,alignItems:"center",children:r.jsx(xr,{label:"",name:"SType",defaultValue:!0,variant:"outlined",size:"small",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(dte,{name:"RptType",label:"",required:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(mte,{name:"orderType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:1.5,children:r.jsx(j,{container:!0,children:r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})})})]})})})})});fte.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};fte.displayName="U01Form";const XLe=a.createContext(),ZLe=()=>{const e=Ke(),t=a.useContext(XLe),n=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(n),{enableOnFormTags:!0});const o=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...t.formMeta,children:r.jsx(fte,{onSubmit:n,onDebugSubmit:o})})})};ZLe.displayName="U01FormContainer";const e$e=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(ZLe,{})]});e$e.displayName="U01Frame";const jHt=e=>{var g,x;const{outputType:t,SDeptID:n,EDeptID:o,SDate:s,EDate:i,SProdID:c,EProdID:u,InvTx:d,SType:p,RptType:m,orderType:f,...h}=e;return{JobName:"U01",Action:((g=t==null?void 0:t.id)==null?void 0:g.toString())||"",SDeptID:(n==null?void 0:n.DeptID)||"",EDeptID:(o==null?void 0:o.DeptID)||"",SDate:Re.formatDate(s)||"",EDate:Re.formatDate(i)||"",SProdID:(c==null?void 0:c.ProdID)||"",EProdID:(u==null?void 0:u.ProdID)||"",InvTx:d?"Y":"N",SType:p?"Y":"N",RptType:((x=m.id)==null?void 0:x.toString())||"1",OrdName:f==null?void 0:f.id,...h}},tde={transformForSubmitting:jHt},IHt=()=>{var h,g;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"U01"}),s=a.useContext(Sn),i=Un(),c=vt(`
		SDeptID,
		EDeptID,
		SDate,
		EDate,
		SProdID,
		EProdID,
		InvTx,
		SType,
		RptType,
		outputType,
		`),u=a.useMemo(()=>`${e.REPORT_URL}/WebU01Rep.aspx`,[e.REPORT_URL]),d=yn({from:"SDate",to:"EDate"}),p=a.useCallback(x=>{var D,v;console.log("onSubmit",x);const y={...tde.transformForSubmitting(x),DeptId:n.CurDeptID};i.show({data:y,url:u,title:`${(D=s.menuItemSelected)==null?void 0:D.JobID} ${(v=s.menuItemSelected)==null?void 0:v.JobName}`})},[(h=s.menuItemSelected)==null?void 0:h.JobID,(g=s.menuItemSelected)==null?void 0:g.JobName,i,n.CurDeptID,u]),m=a.useCallback(x=>{console.log("onSubmit",x);const y={...tde.transformForSubmitting(x),DeptId:n.CurDeptID};console.log("data",y),d.open(u,y)},[n.CurDeptID,u,d]),f=a.useCallback(x=>{console.error("onSubmitError",x)},[]);return{...o,onSubmit:m,onSubmitError:f,onDebugSubmit:p,formMeta:c}},t$e=({children:e})=>{const t=IHt(),n=at({defaultValues:{SDeptID:null,EDeptID:null,SDate:null,EDate:null,SProdID:null,EProdID:null,InvTx:!0,SType:!1,outputType:jn.getDefaultOption(),RptType:sI.getDefaultOption(),orderType:aI.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(XLe.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};t$e.propTypes={children:l.oneOfType([l.array,l.element])};const OB=Object.freeze({SUMMARY:1,DETAIL1:2}),hte=[{id:OB.SUMMARY,label:""},{id:OB.DETAIL1,label:""}],THt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},OHt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),n$e=e=>hte.find(t=>t.id===e),EHt=e=>hte.find(t=>t.id==e),PHt=()=>n$e(OB.SUMMARY),iI={options:hte,getOptionLabel:THt,isOptionEqualToValue:OHt,getOptionById:n$e,findByInput:EHt,getDefaultOption:PHt},gte=a.memo(a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,label:o,options:iI.options,getOptionLabel:iI.getOptionLabel,isOptionEqualToValue:iI.isOptionEqualToValue,findByInput:iI.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})}));gte.propTypes={name:l.string,label:l.string,children:l.node};gte.displayName="U02DataTypePicker";const bte=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(wa,{autoFocus:!0,label:"",name:"SDeptID",disableOpenOnInput:!0,selectOnFocus:!0,scope:Tn.SCOPES.BRANCH_HQ,borderless:!0,placeholder:""}),rightComponent:r.jsx(wa,{label:"",name:"EDeptID",disableOpenOnInput:!0,selectOnFocus:!0,scope:Tn.SCOPES.BRANCH_HQ,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(et,{name:"SalYM",label:"",fullWidth:!0,validate:!0,clearable:!0,views:["year","month"],format:"yyyy/MM"})}),r.jsx(j,{item:!0,xs:12,sm:6}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"SProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"EProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(Ms,{item:!0,xs:12,sm:6,alignItems:"center",children:r.jsx(xr,{label:"",name:"InvTx",defaultValue:!0,variant:"outlined",size:"small",fullWidth:!0})}),r.jsx(Ms,{item:!0,xs:12,sm:6,alignItems:"center",children:r.jsx(xr,{label:"",name:"SType",defaultValue:!0,variant:"outlined",size:"small",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(gte,{name:"RptType",label:"",required:!0})}),r.jsx(j,{item:!0,xs:12,sm:6})]}),r.jsx(ve,{mt:1.5,children:r.jsx(j,{container:!0,children:r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})})})]})})})})});bte.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};bte.displayName="U02Form";const r$e=a.createContext(),o$e=()=>{const e=Ke(),t=a.useContext(r$e),n=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(n),{enableOnFormTags:!0});const o=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...t.formMeta,children:r.jsx(bte,{onSubmit:n,onDebugSubmit:o})})})};o$e.displayName="U02FormContainer";const s$e=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(o$e,{})]});s$e.displayName="U02Frame";const RHt=e=>{var f,h;const{outputType:t,SDeptID:n,EDeptID:o,SalYM:s,SProdID:i,EProdID:c,InvTx:u,SType:d,RptType:p,...m}=e;return{JobName:"U02",Action:((f=t==null?void 0:t.id)==null?void 0:f.toString())||"",SDeptID:(n==null?void 0:n.DeptID)||"",EDeptID:(o==null?void 0:o.DeptID)||"",SalYM:Re.formatYearMonth(s)||"",SProdID:(i==null?void 0:i.ProdID)||"",EProdID:(c==null?void 0:c.ProdID)||"",InvTx:u?"Y":"N",SType:d?"Y":"N",RptType:((h=p.id)==null?void 0:h.toString())||"1",...m}},nde={transformForSubmitting:RHt},wHt=()=>{var h,g;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"U02"}),s=a.useContext(Sn),i=Un(),c=vt(`
		SDeptID,
		EDeptID,
		SalYM,
		SProdID,
		EProdID,
		InvTx,
		SType,
		RptType,
		outputType,
		`),u=a.useMemo(()=>`${e.REPORT_URL}/WebU02Rep.aspx`,[e.REPORT_URL]),d=yn({month:"SalYM"}),p=a.useCallback(x=>{var D,v;console.log("onSubmit",x);const y={...nde.transformForSubmitting(x),DeptId:n.CurDeptID};i.show({data:y,url:u,title:`${(D=s.menuItemSelected)==null?void 0:D.JobID} ${(v=s.menuItemSelected)==null?void 0:v.JobName}`})},[(h=s.menuItemSelected)==null?void 0:h.JobID,(g=s.menuItemSelected)==null?void 0:g.JobName,i,n.CurDeptID,u]),m=a.useCallback(x=>{console.log("onSubmit",x);const y={...nde.transformForSubmitting(x),DeptId:n.CurDeptID};console.log("data",y),d.open(u,y)},[n.CurDeptID,u,d]),f=a.useCallback(x=>{console.error("onSubmitError",x)},[]);return{...o,onSubmit:m,onSubmitError:f,onDebugSubmit:p,formMeta:c}},a$e=({children:e})=>{const t=wHt(),n=at({defaultValues:{SDeptID:null,EDeptID:null,SalYM:null,SProdID:null,EProdID:null,InvTx:!0,SType:!1,outputType:jn.getDefaultOption(),RptType:iI.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(r$e.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};a$e.propTypes={children:l.oneOfType([l.array,l.element])};const EB=Object.freeze({SUMMARY:1,DETAIL1:2}),xte=[{id:EB.SUMMARY,label:""},{id:EB.DETAIL1,label:""}],kHt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},AHt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),i$e=e=>xte.find(t=>t.id===e),NHt=e=>xte.find(t=>t.id==e),FHt=()=>i$e(EB.SUMMARY),lI={options:xte,getOptionLabel:kHt,isOptionEqualToValue:AHt,getOptionById:i$e,findByInput:NHt,getDefaultOption:FHt},yte=a.memo(a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,label:o,options:lI.options,getOptionLabel:lI.getOptionLabel,isOptionEqualToValue:lI.isOptionEqualToValue,findByInput:lI.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})}));yte.propTypes={name:l.string,label:l.string,children:l.node};yte.displayName="U03DataTypePicker";const Cte=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(wa,{autoFocus:!0,label:"",name:"SDeptID",disableOpenOnInput:!0,selectOnFocus:!0,scope:Tn.SCOPES.BRANCH_HQ,borderless:!0,placeholder:""}),rightComponent:r.jsx(wa,{label:"",name:"EDeptID",disableOpenOnInput:!0,selectOnFocus:!0,scope:Tn.SCOPES.BRANCH_HQ,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(Pl,{name:"catL",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(El,{name:"catM",disableOpenOnInput:!0,selectOnFocus:!0,catLName:"catL"})}),r.jsx(Ms,{item:!0,xs:12,sm:6,alignItems:"center",children:r.jsx(xr,{label:"",name:"InvTx",defaultValue:!0,variant:"outlined",size:"small",fullWidth:!0})}),r.jsx(Ms,{item:!0,xs:12,sm:6,alignItems:"center",children:r.jsx(xr,{label:"",name:"SType",defaultValue:!0,variant:"outlined",size:"small",fullWidth:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(yte,{name:"RptType",label:"",required:!0})}),r.jsx(j,{item:!0,xs:12,sm:6})]}),r.jsx(ve,{mt:1.5,children:r.jsx(j,{container:!0,children:r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})})})]})})})})});Cte.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};Cte.displayName="U03Form";const l$e=a.createContext(),c$e=()=>{const e=Ke(),t=a.useContext(l$e),n=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(n),{enableOnFormTags:!0});const o=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]),s=Ue({name:"catL",control:e.control}),i=a.useCallback(c=>{switch(c.name){case"catM":return!s;default:return!1}},[s]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...t.formMeta,isFieldDisabled:i,children:r.jsx(Cte,{onSubmit:n,onDebugSubmit:o})})})};c$e.displayName="U03FormContainer";const u$e=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(c$e,{})]});u$e.displayName="U03Frame";const MHt=e=>{var h,g;const{outputType:t,SDeptID:n,EDeptID:o,SDate:s,EDate:i,catL:c,catM:u,InvTx:d,SType:p,RptType:m,...f}=e;return{JobName:"U03",Action:((h=t==null?void 0:t.id)==null?void 0:h.toString())||"",SDeptID:(n==null?void 0:n.DeptID)||"",EDeptID:(o==null?void 0:o.DeptID)||"",SDate:Re.formatDate(s)||"",EDate:Re.formatDate(i)||"",LClas:(c==null?void 0:c.LClas)||"",MClas:(u==null?void 0:u.MClas)||"",InvTx:d?"Y":"N",SType:p?"Y":"N",RptType:((g=m.id)==null?void 0:g.toString())||"1",...f}},rde={transformForSubmitting:MHt},_Ht=()=>{var h,g;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"U03"}),s=a.useContext(Sn),i=Un(),c=vt(`
		SDeptID,
		EDeptID,
		SDate,
		EDate,
		catL,
		catM,
		InvTx,
		SType,
		RptType,
		outputType,
		`),u=a.useMemo(()=>`${e.REPORT_URL}/WebU03Rep.aspx`,[e.REPORT_URL]),d=yn({from:"SDate",to:"EDate"}),p=a.useCallback(x=>{var D,v;console.log("onSubmit",x);const y={...rde.transformForSubmitting(x),DeptId:n.CurDeptID};i.show({data:y,url:u,title:`${(D=s.menuItemSelected)==null?void 0:D.JobID} ${(v=s.menuItemSelected)==null?void 0:v.JobName}`})},[(h=s.menuItemSelected)==null?void 0:h.JobID,(g=s.menuItemSelected)==null?void 0:g.JobName,i,n.CurDeptID,u]),m=a.useCallback(x=>{console.log("onSubmit",x);const y={...rde.transformForSubmitting(x),DeptId:n.CurDeptID};console.log("data",y),d.open(u,y)},[n.CurDeptID,u,d]),f=a.useCallback(x=>{console.error("onSubmitError",x)},[]);return{...o,onSubmit:m,onSubmitError:f,onDebugSubmit:p,formMeta:c}},d$e=({children:e})=>{const t=_Ht(),n=at({defaultValues:{SDeptID:null,EDeptID:null,SDate:null,EDate:null,catL:null,catM:null,InvTx:!0,SType:!1,outputType:jn.getDefaultOption(),RptType:lI.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(l$e.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};d$e.propTypes={children:l.oneOfType([l.array,l.element])};const PB=Object.freeze({SUMMARY:1,DETAIL1:2}),Dte=[{id:PB.SUMMARY,label:""},{id:PB.DETAIL1,label:""}],LHt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},$Ht=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),p$e=e=>Dte.find(t=>t.id===e),BHt=e=>Dte.find(t=>t.id==e),WHt=()=>p$e(PB.SUMMARY),cI={options:Dte,getOptionLabel:LHt,isOptionEqualToValue:$Ht,getOptionById:p$e,findByInput:BHt,getDefaultOption:WHt},Ste=a.memo(a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,label:o,options:cI.options,getOptionLabel:cI.getOptionLabel,isOptionEqualToValue:cI.isOptionEqualToValue,findByInput:cI.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})}));Ste.propTypes={name:l.string,label:l.string,children:l.node};Ste.displayName="U04DataTypePicker";const vte=[{id:1,label:""},{id:2,label:""},{id:3,label:""}],UHt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},qHt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),m$e=e=>vte.find(t=>t.id===e),VHt=e=>vte.find(t=>t.id==e),zHt=()=>m$e(1),uI={options:vte,getOptionLabel:UHt,isOptionEqualToValue:qHt,getOptionById:m$e,findByInput:VHt,getDefaultOption:zHt},jte=a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,ref:t,label:o,options:uI.options,getOptionLabel:uI.getOptionLabel,isOptionEqualToValue:uI.isOptionEqualToValue,findByInput:uI.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})});jte.propTypes={name:l.string,label:l.string,children:l.node};jte.displayName="U04OrderTypePicker";const Ite=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"sm",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(wa,{autoFocus:!0,label:"",name:"SDeptID",disableOpenOnInput:!0,selectOnFocus:!0,scope:Tn.SCOPES.BRANCH_HQ,borderless:!0,placeholder:""}),rightComponent:r.jsx(wa,{label:"",name:"EDeptID",disableOpenOnInput:!0,selectOnFocus:!0,scope:Tn.SCOPES.BRANCH_HQ,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(fn,{name:"SProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(fn,{name:"EProdID",label:"",size:"small",virtualize:!0,disableOpenOnInput:!0,selectOnFocus:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(GD,{label:"",name:"SType",disableOpenOnInput:!0,selectOnFocus:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(Ste,{name:"RptType",label:"",required:!0})}),r.jsx(j,{item:!0,xs:12,sm:6,children:r.jsx(jte,{name:"orderType",disableOpenOnInput:!0,selectOnFocus:!0})})]}),r.jsx(ve,{mt:1.5,children:r.jsx(j,{container:!0,children:r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})})})]})})})})});Ite.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};Ite.displayName="U04Form";const f$e=a.createContext(),h$e=()=>{const e=Ke(),t=a.useContext(f$e),n=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(n),{enableOnFormTags:!0});const o=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...t.formMeta,children:r.jsx(Ite,{onSubmit:n,onDebugSubmit:o})})})};h$e.displayName="U04FormContainer";const g$e=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(h$e,{})]});g$e.displayName="U04Frame";const HHt=e=>{var h,g,x;const{outputType:t,orderType:n,SDeptID:o,EDeptID:s,SDate:i,EDate:c,SProdID:u,EProdID:d,SType:p,RptType:m,...f}=e;return{JobName:"U04",Action:((h=t==null?void 0:t.id)==null?void 0:h.toString())||"",SDeptID:(o==null?void 0:o.DeptID)||"",EDeptID:(s==null?void 0:s.DeptID)||"",SDate:Re.formatDate(i)||"",EDate:Re.formatDate(c)||"",SProdID:(u==null?void 0:u.ProdID)||"",EProdID:(d==null?void 0:d.ProdID)||"",SType:p==null?void 0:p.id,RptType:((g=m.id)==null?void 0:g.toString())||"1",OrdName:(x=n==null?void 0:n.id)==null?void 0:x.toString(),...f}},ode={transformForSubmitting:HHt},GHt=()=>{var h,g;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"U04"}),s=a.useContext(Sn),i=Un(),c=vt(`
		SDeptID,
		EDeptID,
		SDate,
		EDate,
		SProdID,
		EProdID,
		SType,
		RptType,
		orderType,
		outputType,
		`),u=a.useMemo(()=>`${e.REPORT_URL}/WebU04Rep.aspx`,[e.REPORT_URL]),d=yn({from:"SDate",to:"EDate"}),p=a.useCallback(x=>{var D,v;console.log("onSubmit",x);const y={...ode.transformForSubmitting(x),DeptId:n.CurDeptID};i.show({data:y,url:u,title:`${(D=s.menuItemSelected)==null?void 0:D.JobID} ${(v=s.menuItemSelected)==null?void 0:v.JobName}`})},[(h=s.menuItemSelected)==null?void 0:h.JobID,(g=s.menuItemSelected)==null?void 0:g.JobName,i,n.CurDeptID,u]),m=a.useCallback(x=>{console.log("onSubmit",x);const y={...ode.transformForSubmitting(x),DeptId:n.CurDeptID};console.log("data",y),d.open(u,y)},[n.CurDeptID,u,d]),f=a.useCallback(x=>{console.error("onSubmitError",x)},[]);return{...o,onSubmit:m,onSubmitError:f,onDebugSubmit:p,formMeta:c}},b$e=({children:e})=>{const t=GHt(),n=at({defaultValues:{SDeptID:null,EDeptID:null,SDate:null,EDate:null,SProdID:null,EProdID:null,SType:null,orderType:uI.getDefaultOption(),outputType:jn.getDefaultOption(),RptType:cI.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(f$e.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};b$e.propTypes={children:l.oneOfType([l.array,l.element])};const RB=Object.freeze({SUMMARY:1,DETAIL1:2}),Tte=[{id:RB.SUMMARY,label:""},{id:RB.DETAIL1,label:""}],KHt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},QHt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),x$e=e=>Tte.find(t=>t.id===e),YHt=e=>Tte.find(t=>t.id==e),JHt=()=>x$e(RB.SUMMARY),dI={options:Tte,getOptionLabel:KHt,isOptionEqualToValue:QHt,getOptionById:x$e,findByInput:YHt,getDefaultOption:JHt},Ote=a.memo(a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,label:o,options:dI.options,getOptionLabel:dI.getOptionLabel,isOptionEqualToValue:dI.isOptionEqualToValue,findByInput:dI.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})}));Ote.propTypes={name:l.string,label:l.string,children:l.node};Ote.displayName="U05DataTypePicker";const Ete=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",fullWidth:!0,validate:!0,clearable:!0,autoFocus:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(Ote,{name:"RptType",label:"",required:!0})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(cO,{required:!0,name:"outputType",label:""})})]}),r.jsx(ve,{mt:1.5,children:r.jsx(j,{container:!0,children:r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})})})]})})})})});Ete.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};Ete.displayName="U05Form";const y$e=a.createContext(),C$e=()=>{const e=Ke(),t=a.useContext(y$e),n=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(n),{enableOnFormTags:!0});const o=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...t.formMeta,children:r.jsx(Ete,{onSubmit:n,onDebugSubmit:o})})})};C$e.displayName="U05FormContainer";const D$e=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(C$e,{})]});D$e.displayName="U05Frame";const wB=Object.freeze({SUMMARY:1,DETAIL1:2}),S$e=[{id:wB.SUMMARY,name:""},{id:wB.DETAIL1,name:""}],XHt=e=>{if(!e)return"";const{id:t,name:n}=e;return[t,n].filter(Boolean).join(" ")},ZHt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),eGt=e=>S$e.find(t=>t.id===e),tGt=e=>{var c,u;const{outputType:t,SDate:n,EDate:o,RptType:s,...i}=e;return{JobName:"U05",Action:((c=t==null?void 0:t.id)==null?void 0:c.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",RptType:((u=s.id)==null?void 0:u.toString())||"1",...i}},sde={transformForSubmitting:tGt,DataType:wB,dataTypeOptions:S$e,getOptionLabel:XHt,isOptionEqualToValue:ZHt,getDataTypeById:eGt},nGt=()=>{var h,g;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"U05"}),s=a.useContext(Sn),i=Un(),c=vt(`
		SDate,
		EDate,
		RptType,
		outputType,
		`),u=a.useMemo(()=>`${e.REPORT_URL}/WebU05Rep.aspx`,[e.REPORT_URL]),d=yn({from:"SDate",to:"EDate"}),p=a.useCallback(x=>{var D,v;console.log("onSubmit",x);const y={...sde.transformForSubmitting(x),DeptId:n.CurDeptID};i.show({data:y,url:u,title:`${(D=s.menuItemSelected)==null?void 0:D.JobID} ${(v=s.menuItemSelected)==null?void 0:v.JobName}`})},[(h=s.menuItemSelected)==null?void 0:h.JobID,(g=s.menuItemSelected)==null?void 0:g.JobName,i,n.CurDeptID,u]),m=a.useCallback(x=>{console.log("onSubmit",x);const y={...sde.transformForSubmitting(x),DeptId:n.CurDeptID};console.log("data",y),d.open(u,y)},[n.CurDeptID,u,d]),f=a.useCallback(x=>{console.error("onSubmitError",x)},[]);return{...o,onSubmit:m,onSubmitError:f,onDebugSubmit:p,formMeta:c}},v$e=({children:e})=>{const t=nGt(),n=at({defaultValues:{outputType:jn.getDefaultOption(),SDate:new Date,EDate:new Date,RptType:dI.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(y$e.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};v$e.propTypes={children:l.oneOfType([l.array,l.element])};const kB=Object.freeze({SUMMARY:1,DETAIL:2}),Pte=[{id:kB.SUMMARY,label:""},{id:kB.DETAIL,label:""}],rGt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},oGt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),j$e=e=>Pte.find(t=>t.id===e),sGt=e=>Pte.find(t=>t.id==e),aGt=()=>j$e(kB.SUMMARY),pI={options:Pte,getOptionLabel:rGt,isOptionEqualToValue:oGt,getOptionById:j$e,findByInput:sGt,getDefaultOption:aGt},Rte=a.memo(a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,label:o,options:pI.options,getOptionLabel:pI.getOptionLabel,isOptionEqualToValue:pI.isOptionEqualToValue,findByInput:pI.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})}));Rte.propTypes={name:l.string,label:l.string,children:l.node};Rte.displayName="U05_1DataTypePicker";const wte=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(Rte,{name:"RptType",label:"",required:!0})}),r.jsx(j,{item:!0,xs:12,sm:12})]}),r.jsx(ve,{mt:1.5,children:r.jsx(j,{container:!0,spacing:2,children:r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})})})]})})})})});wte.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};wte.displayName="U05_1Form";const I$e=a.createContext(),T$e=()=>{const e=Ke(),t=a.useContext(I$e),n=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(n),{enableOnFormTags:!0});const o=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...t.formMeta,children:r.jsx(wte,{onSubmit:n,onDebugSubmit:o})})})};T$e.displayName="U05_1FormContainer";const O$e=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(T$e,{})]});O$e.displayName="U05_1FrameContainer";const iGt=e=>{var c,u;const{outputType:t,SDate:n,EDate:o,RptType:s,...i}=e;return{JobName:"U051",Action:((c=t==null?void 0:t.id)==null?void 0:c.toString())||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",RptType:((u=s.id)==null?void 0:u.toString())||"1",...i}},ade={transformForSubmitting:iGt},lGt=()=>{var h,g;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"U051"}),s=a.useContext(Sn),i=Un(),c=vt(`
		SDate,
		EDate,
		RptType,
		outputType,
		`),u=a.useMemo(()=>`${e.REPORT_URL}/WebU051Rep.aspx`,[e.REPORT_URL]),d=yn({from:"SDate",to:"EDate"}),p=a.useCallback(x=>{var D,v;console.log("onSubmit",x);const y={...ade.transformForSubmitting(x),DeptId:n.CurDeptID};i.show({data:y,url:u,title:`${(D=s.menuItemSelected)==null?void 0:D.JobID} ${(v=s.menuItemSelected)==null?void 0:v.JobName}`})},[(h=s.menuItemSelected)==null?void 0:h.JobID,(g=s.menuItemSelected)==null?void 0:g.JobName,i,n.CurDeptID,u]),m=a.useCallback(x=>{console.log("onSubmit",x);const y={...ade.transformForSubmitting(x),DeptId:n.CurDeptID};console.log("data",y),d.open(u,y)},[n.CurDeptID,u,d]),f=a.useCallback(x=>{console.error("onSubmitError",x)},[]);return{...o,onSubmit:m,onSubmitError:f,onDebugSubmit:p,formMeta:c}},E$e=({children:e})=>{const t=lGt(),n=at({defaultValues:{outputType:jn.getDefaultOption(),SDate:new Date,EDate:new Date,RptType:pI.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(I$e.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};E$e.propTypes={children:l.oneOfType([l.array,l.element])};const P$e=a.createContext(),AB=Object.freeze({SUMMARY:1,DETAIL1:2}),kte=[{id:AB.SUMMARY,label:""},{id:AB.DETAIL1,label:""}],cGt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},uGt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),R$e=e=>kte.find(t=>t.id===e),dGt=e=>kte.find(t=>t.id==e),pGt=()=>R$e(AB.SUMMARY),mI={options:kte,getOptionLabel:cGt,isOptionEqualToValue:uGt,getOptionById:R$e,findByInput:dGt,getDefaultOption:pGt},Ate=a.memo(a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,label:o,options:mI.options,getOptionLabel:mI.getOptionLabel,isOptionEqualToValue:mI.isOptionEqualToValue,findByInput:mI.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})}));Ate.propTypes={name:l.string,label:l.string,children:l.node};Ate.displayName="U06DataTypePicker";const Nte=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,deptDisabled:o,...s}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...s,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(wa,{label:"",name:"SDeptID",disableOpenOnInput:!0,selectOnFocus:!0,disabled:o,scope:Tn.SCOPES.BRANCH_HQ})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{autoFocus:!0,name:"SDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(Ate,{name:"RptType",label:"",required:!0})}),r.jsx(j,{item:!0,xs:12,sm:6})]}),r.jsx(ve,{mt:1.5,children:r.jsx(j,{container:!0,spacing:2,children:r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})})})]})})})})});Nte.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func,deptDisabled:l.bool};Nte.displayName="U06Form";const w$e=()=>{const e=Ke(),t=a.useContext(P$e),{operator:n}=a.useContext(Be),o=a.useMemo(()=>(n==null?void 0:n.Class)<Tn.SCOPES.BRANCH_HQ&&n.CurHeadOffice!=1,[n==null?void 0:n.Class,n.CurHeadOffice]),s=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(s),{enableOnFormTags:!0});const i=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ct,{...t.formMeta,children:r.jsx(Nte,{onSubmit:s,onDebugSubmit:i,deptDisabled:o})})};w$e.displayName="U06FormContainer";const k$e=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(w$e,{})]});k$e.displayName="U06Frame";const mGt=e=>{var u,d;const{outputType:t,SDate:n,EDate:o,RptType:s,SDeptID:i,...c}=e;return{JobName:"U06",Action:((u=t==null?void 0:t.id)==null?void 0:u.toString())||"",SDeptID:(i==null?void 0:i.DeptID)||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",RptType:((d=s.id)==null?void 0:d.toString())||"1",...c}},ide={transformForSubmitting:mGt},fGt=()=>{var h,g;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"U06"}),s=a.useContext(Sn),i=Un(),c=vt(`
		SDeptID,
		SDate,
		EDate,
		RptType,
		outputType,
		`),u=a.useMemo(()=>`${e.REPORT_URL}/WebU06Rep.aspx`,[e.REPORT_URL]),d=yn({from:"SDate",to:"EDate"}),p=a.useCallback(x=>{var D,v;console.log("onSubmit",x);const y={...ide.transformForSubmitting(x),DeptId:n.CurDeptID};i.show({data:y,url:u,title:`${(D=s.menuItemSelected)==null?void 0:D.JobID} ${(v=s.menuItemSelected)==null?void 0:v.JobName}`})},[(h=s.menuItemSelected)==null?void 0:h.JobID,(g=s.menuItemSelected)==null?void 0:g.JobName,i,n.CurDeptID,u]),m=a.useCallback(x=>{console.log("onSubmit",x);const y={...ide.transformForSubmitting(x),DeptId:n.CurDeptID};console.log("data",y),d.open(u,y)},[n.CurDeptID,u,d]),f=a.useCallback(x=>{console.error("onSubmitError",x)},[]);return{...o,onSubmit:m,onSubmitError:f,onDebugSubmit:p,formMeta:c}},A$e=({children:e})=>{const{operator:t}=a.useContext(Be),n=fGt(),o=at({defaultValues:{outputType:jn.getDefaultOption(),SDeptID:{DeptID:t.CurDeptID,AbbrName:t.CurDeptName},SDate:new Date,EDate:new Date,RptType:mI.getDefaultOption()}});return r.jsx(Ye,{...o,children:r.jsx(P$e.Provider,{value:{...n,handleSubmit:o.handleSubmit(n.onSubmit,n.onSubmitError)},children:e})})};A$e.propTypes={children:l.oneOfType([l.array,l.element])};const hGt=e=>{var u,d;const{outputType:t,SDate:n,EDate:o,RptType:s,SDeptID:i,...c}=e;return{JobName:"U061",Action:((u=t==null?void 0:t.id)==null?void 0:u.toString())||"",SDeptID:(i==null?void 0:i.DeptID)||"",SDate:Re.formatDate(n)||"",EDate:Re.formatDate(o)||"",RptType:((d=s.id)==null?void 0:d.toString())||"1",...c}},lde={transformForSubmitting:hGt},gGt=()=>{var h,g;const e=a.useContext(ln),{token:t,operator:n}=a.useContext(Be),o=Bt({moduleId:"U061"}),s=a.useContext(Sn),i=Un(),c=vt(`
		SDeptID,
		SDate,
		EDate,
		RptType,
		outputType,
		`),u=a.useMemo(()=>`${e.REPORT_URL}/WebU061Rep.aspx`,[e.REPORT_URL]),d=yn({from:"SDate",to:"EDate"}),p=a.useCallback(x=>{var D,v;console.log("onSubmit",x);const y={...lde.transformForSubmitting(x),DeptId:n.CurDeptID};i.show({data:y,url:u,title:`${(D=s.menuItemSelected)==null?void 0:D.JobID} ${(v=s.menuItemSelected)==null?void 0:v.JobName}`})},[(h=s.menuItemSelected)==null?void 0:h.JobID,(g=s.menuItemSelected)==null?void 0:g.JobName,i,n.CurDeptID,u]),m=a.useCallback(x=>{console.log("onSubmit",x);const y={...lde.transformForSubmitting(x),DeptId:n.CurDeptID};console.log("data",y),d.open(u,y)},[n.CurDeptID,u,d]),f=a.useCallback(x=>{console.error("onSubmitError",x)},[]);return{...o,onSubmit:m,onSubmitError:f,onDebugSubmit:p,formMeta:c}},N$e=a.createContext(),NB=Object.freeze({SUMMARY:1,DETAIL1:2}),Fte=[{id:NB.SUMMARY,label:""},{id:NB.DETAIL1,label:""}],bGt=e=>{if(!e)return"";const{id:t,label:n}=e;return[t,n].filter(Boolean).join(" ")},xGt=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),F$e=e=>Fte.find(t=>t.id===e),yGt=e=>Fte.find(t=>t.id==e),CGt=()=>F$e(NB.SUMMARY),fI={options:Fte,getOptionLabel:bGt,isOptionEqualToValue:xGt,getOptionById:F$e,findByInput:yGt,getDefaultOption:CGt},M$e=({children:e})=>{const t=gGt(),n=at({defaultValues:{outputType:jn.getDefaultOption(),SDeptID:null,SDate:new Date,EDate:new Date,RptType:fI.getDefaultOption()}});return r.jsx(Ye,{...n,children:r.jsx(N$e.Provider,{value:{...t,handleSubmit:n.handleSubmit(t.onSubmit,t.onSubmitError)},children:e})})};M$e.propTypes={children:l.oneOfType([l.array,l.element])};const Mte=a.memo(a.forwardRef((e,t)=>{const{name:n,label:o="",...s}=e;return r.jsx(bt,{name:n,label:o,options:fI.options,getOptionLabel:fI.getOptionLabel,isOptionEqualToValue:fI.isOptionEqualToValue,findByInput:fI.findByInput,notFoundText:" ${input} ",...Pn.STATIC_PICKER_OPTS,...s})}));Mte.propTypes={name:l.string,label:l.string,children:l.node};Mte.displayName="U06_1DataTypePicker";const _te=a.memo(e=>{const{onSubmit:t,onDebugSubmit:n,...o}=e;return r.jsx(Et,{maxWidth:"xs",alignLeft:!0,children:r.jsx("form",{onSubmit:t,...o,style:{paddingBottom:"10rem"},children:r.jsx(Pt,{pt:1,children:r.jsxs(Xt,{editing:!0,children:[r.jsxs(j,{container:!0,columns:12,spacing:2,children:[r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(wa,{autoFocus:!0,label:"",name:"SDeptID",disableOpenOnInput:!0,selectOnFocus:!0,scope:Tn.SCOPES.HQ})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ct,{legend:"",leftComponent:r.jsx(et,{name:"SDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""}),rightComponent:r.jsx(et,{name:"EDate",label:"",fullWidth:!0,validate:!0,clearable:!0,borderless:!0,placeholder:""})})}),r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(Mte,{name:"RptType",label:"",required:!0})}),r.jsx(j,{item:!0,xs:12,sm:6})]}),r.jsx(ve,{mt:1.5,children:r.jsx(j,{container:!0,spacing:2,children:r.jsx(j,{item:!0,xs:12,sm:12,children:r.jsx(ve,{justifyContent:"flex-end",children:r.jsx(xn,{color:"primary",variant:"contained",onSubmit:t,onDebugSubmit:n})})})})})]})})})})});_te.propTypes={readWorking:l.bool,editing:l.bool,updating:l.bool,readFailed:l.bool,readError:l.object,onSubmit:l.func,onDebugSubmit:l.func};_te.displayName="U061Form";const _$e=()=>{const e=Ke(),t=a.useContext(N$e),n=a.useMemo(()=>e.handleSubmit(t.onSubmit,t.onSubmitError),[t.onSubmit,t.onSubmitError,e]);$t(["Shift+Enter","Control+Enter"],()=>setTimeout(n),{enableOnFormTags:!0});const o=a.useMemo(()=>e.handleSubmit(t.onDebugSubmit),[t.onDebugSubmit,e]);return r.jsx(Ye,{...e,children:r.jsx(Ct,{...t.formMeta,children:r.jsx(_te,{onSubmit:n,onDebugSubmit:o})})})};_$e.displayName="U061FormContainer";const L$e=()=>r.jsxs(Ft,{children:[r.jsx(_t,{}),r.jsx(_$e,{})]});L$e.displayName="U061Frame";const DGt=r.jsxs(r.Fragment,{children:[r.jsx(yt,{path:"U01",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(t$e,{children:r.jsx(e$e,{})})})})}),r.jsx(yt,{path:"U02",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(a$e,{children:r.jsx(s$e,{})})})})}),r.jsx(yt,{path:"U03",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(d$e,{children:r.jsx(u$e,{})})})})}),r.jsx(yt,{path:"U04",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(b$e,{children:r.jsx(g$e,{})})})})}),r.jsx(yt,{path:"U05",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(v$e,{children:r.jsx(D$e,{})})})})}),r.jsx(yt,{path:"U051",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(E$e,{children:r.jsx(O$e,{})})})})}),r.jsx(yt,{path:"U06",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(A$e,{children:r.jsx(k$e,{})})})})}),r.jsx(yt,{path:"U061",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(M$e,{children:r.jsx(L$e,{})})})})}),r.jsx(yt,{path:"U07",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(jJ,{children:r.jsx(TJ,{})})})})}),r.jsx(yt,{path:"U08",element:r.jsx(Mt,{children:r.jsx(Kt,{children:r.jsx(EJ,{children:r.jsx(wJ,{})})})})})]}),SGt=()=>r.jsxs(xWe,{children:[r.jsx(yt,{index:!0,element:r.jsx(a5,{})}),DWt,Izt,r.jsxs(yt,{path:"",element:r.jsx(Exe,{}),children:[r.jsx(yt,{path:"home",element:r.jsx(Pxe,{children:r.jsx(rxe,{})})}),r.jsx(yt,{path:"msgs",element:r.jsx(Kt,{children:r.jsx(Rxe,{children:r.jsx(Qxe,{})})})}),r.jsx(yt,{path:"renew",element:r.jsx(Vxe,{})}),r.jsx(yt,{path:"settings",element:r.jsx(wxe,{children:r.jsx(qxe,{})})}),r.jsxs(yt,{path:"modules",children:[Q1t,tTt,nPt,PRt,Ywt,Kkt,IAt,eMt,m$t,N5t,pzt,DGt,hHt,r.jsx(yt,{path:"*",element:r.jsx(hT,{severity:"warning",alertProps:{},title:"",message:""})})]})]}),r.jsx(yt,{path:"forbidden",element:r.jsx(Yxe,{})}),r.jsx(yt,{path:"*",element:r.jsx(hT,{severity:"warning",alertProps:{},title:"",message:""})})]}),$$e=(e={})=>{const t=qs(),{breakpoint:n="md"}=e;return{mobile:Xl(t.breakpoints.down(n))}};$$e.propTypes={breakpoint:l.oneOf(["md","lg"])};const B$e=e=>{const{children:t}=e,n=$$e();return r.jsx(lc.Provider,{value:{...n},children:t})};B$e.propTypes={children:l.oneOfType([l.element,l.array])};const vGt=()=>{const e=a.useContext(ln),t=a.useCallback(()=>{console.log('"connected" signal received')},[]),n=a.useCallback(()=>{console.log('"reconnected" signal received')},[]),o=a.useCallback(()=>{},[]),{connection:s,connectionId:i,connectionState:c,connect:u,disconnect:d}=G2e({url:e.MSG_HUB_URL,autoConnect:!1,onConnected:t,onReconnected:n,onClose:o});return a.useEffect(()=>(s&&u(),()=>{d()}),[u,s,d]),{connectionId:i,connectionState:c,connection:s}},W$e=({children:e})=>{const t=vGt();return r.jsx(VT.Provider,{value:{...t},children:e})};W$e.propTypes={children:l.oneOfType([l.array,l.object])};const U$e=e=>{const{theme:t,...n}=e,[o,s]=a.useState(t),i=a.useMemo(()=>({theme:o}),[o]);return a.useEffect(()=>{s(t),console.log("toastEx theme changed ",t)},[t]),r.jsx(Zbe.Provider,{value:{contextValue:i},children:r.jsx(Fut,{theme:o,...n})})};U$e.displayName="ToastExProvider";const{palette:jGt}=ow(),IGt=ow({typography:{fontFamily:["","Roboto"].join(","),fontWeightBold:!0},palette:{background:{default:Nn.BG},primary:{main:Nn.PRIMARY,contrastText:Nn.CONTRAST_TEXT},secondary:{main:Nn.SECONDARY},success:{main:Nn.SUCCESS},purple:{main:Nn.PURPLE,contrastText:"#fff"},"neutral-light":{main:"rgba(0, 0, 0, 0.2)",contrastText:"#000",dark:"rgba(0, 0, 0, 0.30)",light:"rgba(0, 0, 0, 0.10)"},neutral:{main:"rgba(0, 0, 0, 0.40)",contrastText:"#fff",dark:"rgba(0, 0, 0, 0.50)",light:"rgba(0, 0, 0, 0.30)"},"neutral-dark":{main:"rgba(0, 0, 0, 0.60)",contrastText:"#fff",dark:"rgba(0, 0, 0, 0.70)",light:"rgba(0, 0, 0, 0.50)"},black:{main:"rgba(0,0,0)",contrastText:"#fff"},white:{main:"#fff"}},components:{MuiAutocomplete:{styleOverrides:{groupLabel:{backgroundColor:Nn.BUTTON,fontSize:"1.0em",fontWeight:600,lineHeight:"40px",color:"#fff"}}},MuiFormLabel:{styleOverrides:{root:{}}},MuiLink:{styleOverrides:{root:{"&[disabled]":{color:jGt.action.disabled,pointerEvents:"none"}}}},MuiChip:{styleOverrides:{root:{borderRadius:4}}},MuiTab:{styleOverrides:{root:{fontSize:"1rem"}}}}});function cde(){const e=a.useContext(ln);return a.useEffect(()=>{if(!["dev"].includes(e.PROFILE)){const t=n=>n.preventDefault();return document.addEventListener("contextmenu",t),()=>{document.removeEventListener("contextmenu",t)}}},[e.PROFILE]),r.jsx(Bde,{injectFirst:!0,children:r.jsx(Tqe,{theme:IGt,children:r.jsxs(j3,{dateAdapter:Krt,adapterLocale:d$,children:[r.jsx(B$e,{children:r.jsxs(oJ,{buttonProps:{size:"small"},children:[r.jsx(c8e,{}),r.jsx(ohe,{children:r.jsx(a.Suspense,{fallback:r.jsx(Cr,{children:"..."}),children:r.jsx(W$e,{children:r.jsx(SGt,{})})})})]})}),r.jsx(U$e,{theme:"light",position:"bottom-right"})]})})})}const q$e=({children:e,...t})=>r.jsx(ln.Provider,{value:{...t},children:e});q$e.propTypes={children:l.oneOfType([l.array,l.object])};var xj={},ude;function TGt(){if(ude)return xj;ude=1;var e=Qn();Object.defineProperty(xj,"__esModule",{value:!0}),xj.default=void 0;var t=e(sr()),n=rr();return xj.default=(0,t.default)((0,n.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline"),xj}var OGt=TGt();const EGt=qn(OGt);function PGt(){const e=a.useCallback(()=>{window.location.href="/jota-t/"},[]);return r.jsxs(Br,{style:{textAlign:"center",marginTop:"10%"},children:[r.jsx(EGt,{style:{fontSize:"100px",color:"#f44336"}}),r.jsx(nn,{variant:"h4",style:{margin:"20px 0"},children:""}),r.jsx(nn,{variant:"body1",style:{marginBottom:"20px"},children:"(Ctrl + F5)."}),r.jsx(fa,{variant:"contained",color:"primary",onClick:e,children:""})]})}const RGt=async()=>{try{return await(await fetch(`/jota-t/config.json?${new Date().getTime()}`)).json()}catch(e){return console.error("Failed to load config.json",e),{}}};function wGt(){const[e,t]=a.useState(null);return a.useEffect(()=>{RGt().then(t)},[]),e?(console.log("config",e),e.PROFILE!=="dev"&&(console.log=function(){}),r.jsx(q$e,{...e,children:r.jsx(SWe,{basename:"/jota-t/",children:e.PROFILE!=="dev"?r.jsx(T4e,{FallbackComponent:PGt,children:r.jsx(cde,{})}):r.jsx(cde,{})})})):r.jsx(Cr,{children:"..."})}j4e.createRoot(document.getElementById("root")).render(r.jsx(wGt,{}));
